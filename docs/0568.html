<html>
<head>
<title>Building React App Part 3— Component Generation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建React应用程序第3部分—组件生成</h1>
<blockquote>原文：<a href="https://itnext.io/building-react-app-part-3-component-generation-455e77d7b1c6?source=collection_archive---------7-----------------------#2018-04-02">https://itnext.io/building-react-app-part-3-component-generation-455e77d7b1c6?source=collection_archive---------7-----------------------#2018-04-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="fce4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你直接在这里登陆，请阅读第一部分和第二部分。</p><blockquote class="kl km kn"><p id="0594" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated"><a class="ae ks" href="https://www.linkedin.com/cws/share?url=https%3A%2F%2Fitnext.io%2Fbuilding-react-app-part-3-component-generation-455e77d7b1c6%3Futm_source%3Dmedium_sharelink%26utm_medium%3Dsocial%26utm_campaign%3Dbuffer" rel="noopener ugc nofollow" target="_blank">点击这里在LinkedIn上分享这篇文章</a></p></blockquote><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi kt"><img src="../Images/07fa028afb480edc2dd3e134eb2008a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5EbZ6vK6B7lq5FyXMlGEBQ.png"/></div></div></figure><p id="4127" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae ks" rel="noopener ugc nofollow" target="_blank" href="/building-react-app-part-1-why-react-1a4ecdaffd6e">第1部分:为什么做出反应？</a></p><p id="5cec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae ks" rel="noopener ugc nofollow" target="_blank" href="/building-react-app-part-2-architecture-boilerplate-683b992089a6">第二部分:架构样板</a></p><p id="330b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="ko">对于像我一样绝对热爱React并一直致力于此的人，跳过第1部分直接跳到第2部分。</em></p><p id="e5e2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在第2部分中，我们讨论了样板代码的体系结构，以及如何设置环境和代码体系结构，以便立即创建漂亮的、可伸缩的客户端应用程序。</p><p id="014a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这看起来很奇特，但是当我们讨论的时候，有一件事困扰着我。每次我需要给我的应用程序添加一个新的视图时，都要遵循一个繁琐的过程，包括创建许多文件，在基本配置文件中输入条目等等。让我们详细讨论一下..</p><h1 id="c410" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">如何添加另一个视图</h1><p id="ef45" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">它简单但麻烦。我们现在需要<strong class="jp ir">订单</strong>视图。</p><p id="7193" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以下是步骤</p><ol class=""><li id="e207" class="mi mj iq jp b jq jr ju jv jy mk kc ml kg mm kk mn mo mp mq bi translated">在视图目录中创建一个子目录<code class="fe mr ms mt mu b">orders</code>。</li><li id="11be" class="mi mj iq jp b jq mv ju mw jy mx kc my kg mz kk mn mo mp mq bi translated">使用与home相似的映射创建<code class="fe mr ms mt mu b">index.js</code>，定义状态，将其映射到props。</li><li id="3a89" class="mi mj iq jp b jq mv ju mw jy mx kc my kg mz kk mn mo mp mq bi translated">创建类似于家的<code class="fe mr ms mt mu b">reducer.js</code>，这次将全局状态对象名称替换为<code class="fe mr ms mt mu b">orders</code></li><li id="ed06" class="mi mj iq jp b jq mv ju mw jy mx kc my kg mz kk mn mo mp mq bi translated">创建<code class="fe mr ms mt mu b">actions.js</code>并定义一个执行第一个交互任务的函数，例如:fetchOrders。</li><li id="b0c0" class="mi mj iq jp b jq mv ju mw jy mx kc my kg mz kk mn mo mp mq bi translated">创建<code class="fe mr ms mt mu b">orders.js</code>并定义父布局，在挂载时执行fetchOrder动作等。</li><li id="e476" class="mi mj iq jp b jq mv ju mw jy mx kc my kg mz kk mn mo mp mq bi translated">创建<code class="fe mr ms mt mu b">orders.css</code>并定义视图特定的样式</li></ol><p id="2292" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们已经完成了文件和目录的创建。让我们将视图连接到我们的应用程序</p><p id="8bef" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">步骤1: </strong>在<code class="fe mr ms mt mu b">app/reducers.js</code>中创建一个名为orders的条目，并提供组件reducer对象。</p><pre class="ku kv kw kx gt na mu nb nc aw nd bi"><span id="b735" class="ne lg iq mu b gy nf ng l nh ni"><strong class="mu ir">export const </strong>reducers = combineReducers({<br/>  ...<br/>  orders: orderReducer<br/>});</span></pre><p id="9a8b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">第2步:</strong>在<code class="fe mr ms mt mu b">app/routes.js</code>中创建一个条目，将订单组件映射到<code class="fe mr ms mt mu b">/orders</code>路线。</p><pre class="ku kv kw kx gt na mu nb nc aw nd bi"><span id="749e" class="ne lg iq mu b gy nf ng l nh ni"><strong class="mu ir">export default </strong>() =&gt; {<br/>  <strong class="mu ir">return </strong>(<br/>    &lt;Switch&gt;<br/>      ...<br/>      &lt;Route exact path="/orders" component={Orders}/&gt;<br/>      ...<br/>    &lt;/Switch&gt;<br/>  );<br/>}</span></pre><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/84a4a340362628817e1d141bf14db0cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*CBG6LAIXlazHe6I5MLDAxA.gif"/></div></figure><p id="ba08" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">恭喜，您的新视图现已连接，可以在<code class="fe mr ms mt mu b">http://localhost:3000/orders</code>访问</p><blockquote class="nk"><p id="ce58" class="nl nm iq bd nn no np nq nr ns nt kk dk translated">可怜的……</p></blockquote><p id="2350" class="pw-post-body-paragraph jn jo iq jp b jq nu js jt ju nv jw jx jy nw ka kb kc nx ke kf kg ny ki kj kk ij bi translated">就像我说的，简单但麻烦。即使对我来说，我也曾多次面对这个问题。考虑到这一点，我有了一个想法，为什么不自动化这个繁琐的过程，让生活变得更容易。</p><p id="5336" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">受android代码生成的启发，你可以通过ide菜单中的一个选项生成一个新的活动(视图),所有文件都被创建，条目在配置文件中生成。我甚至看到一些npm模块在做类似的工作，但是仍然有一些不足之处。</p><p id="054c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在是我们之前离开的<strong class="jp ir">发电机</strong>目录。</p><h1 id="db30" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">发电机</h1><p id="3873" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">这不是火箭科学。它的简单模板转换成样板文件，所以你不用花时间制作文件和条目。这里不需要解释。让我们直接进入它。尝试</p><pre class="ku kv kw kx gt na mu nb nc aw nd bi"><span id="cf56" class="ne lg iq mu b gy nf ng l nh ni">yarn generate orders</span></pre><p id="8a21" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">见证奇迹的发生。这个简单的命令将完全执行我们之前添加视图的步骤。在视图内创建目录，创建基本文件，然后通过在减速器和路径中创建条目来连接视图。</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/be995c0878065c2ed49fe492d36fc09f.png" data-original-src="https://miro.medium.com/v2/resize:fit:576/1*UzW5-QecixZKrwC9YVsfaA.gif"/></div></figure><p id="ce55" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">不是那样的。如果您需要通过<code class="fe mr ms mt mu b">/myorders</code>路径访问订单视图，该怎么办？尝试</p><pre class="ku kv kw kx gt na mu nb nc aw nd bi"><span id="86b3" class="ne lg iq mu b gy nf ng l nh ni">yarn generate orders -r myorders</span></pre><blockquote class="nk"><p id="6478" class="nl nm iq bd nn no oa ob oc od oe kk dk translated">瞧啊。！再一次…</p></blockquote><p id="609f" class="pw-post-body-paragraph jn jo iq jp b jq nu js jt ju nv jw jx jy nw ka kb kc nx ke kf kg ny ki kj kk ij bi translated">-r代表路线。所以指挥结构</p><pre class="ku kv kw kx gt na mu nb nc aw nd bi"><span id="3cdb" class="ne lg iq mu b gy nf ng l nh ni">yarn generate &lt;COMPONENT_NAME&gt; -r &lt;ROUTE_NAME&gt;</span></pre><p id="3119" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">路线名称是可选的。如果未指定，则将创建和映射与组件同名的路由。</p></div><div class="ab cl of og hu oh" role="separator"><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok"/></div><div class="ij ik il im in"><p id="c8cb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个系列到此结束。我希望这一切在某种程度上有所帮助。我已经用这个样板设置工作了一段时间，结果非常好。</p><p id="9dbe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">链接到样板文件库。非常欢迎反馈和改进。</p><div class="om on gp gr oo op"><a href="https://github.com/ankitsharma6466/react-boilerplate" rel="noopener  ugc nofollow" target="_blank"><div class="oq ab fo"><div class="or ab os cl cj ot"><h2 class="bd ir gy z fp ou fr fs ov fu fw ip bi translated">ankitsharma 6466/react-样板文件</h2><div class="ow l"><h3 class="bd b gy z fp ou fr fs ov fu fw dk translated">样板代码帮助您开始使用ReactJs开发高度优化的PWA。</h3></div><div class="ox l"><p class="bd b dl z fp ou fr fs ov fu fw dk translated">github.com</p></div></div><div class="oy l"><div class="oz l pa pb pc oy pd ld op"/></div></div></a></div><p id="a748" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你喜欢这个，并且认为我在这里做得很好，那么请不要忘记鼓掌。你的赞赏很有价值，让我有动力。</p><p id="cef5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">干杯！！</p></div></div>    
</body>
</html>