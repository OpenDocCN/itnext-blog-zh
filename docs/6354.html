<html>
<head>
<title>The best practices test automation with Selenium WebDriver.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Selenium WebDriver测试自动化的最佳实践。</h1>
<blockquote>原文：<a href="https://itnext.io/the-best-practices-test-automation-with-selenium-webdriver-9c877e1296fb?source=collection_archive---------0-----------------------#2021-10-24">https://itnext.io/the-best-practices-test-automation-with-selenium-webdriver-9c877e1296fb?source=collection_archive---------0-----------------------#2021-10-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/94415ddfc8acd5f3ca36686adfecd3ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7pNygYICPYYWLbyiDAdblg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由多梅尼科·洛亚拍摄</figcaption></figure><p id="8b52" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> Selenium WebDriver </strong>从一开始就非常受欢迎。</p><p id="41e6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi lb translated">elenium是一个用于web应用自动化的开源框架。除此之外，它还可以处理各种管理任务，如监控网站。</p><p id="d99c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Selenium 自动化测试是当今技术行业最流行的开源自动化测试工具。selenium testing带来了巨大的好处，它为端到端测试提供了健壮的、基于浏览器的自动化。</p><p id="c7d9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">Selenium Web Driver</strong>—Web Driver直接在浏览器上工作，使用浏览器的内置特性来触发测试人员编写的自动化测试。</p><p id="018c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，首先让我们看看<strong class="kf ir"> Selenium WebDriver </strong> API如何使用浏览器驱动程序与实际浏览器进行交互，并理解组成Selenium WebDriver架构的主要模块。嗯，Selenium WebDriver由四个主要部分组成:</p><p id="65d5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Selenium客户端库</p><p id="e718" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JSON有线协议</p><p id="83da" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">浏览器驱动程序</p><p id="1bc9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">浏览器。</p><figure class="ll lm ln lo gt jr gh gi paragraph-image"><div class="gh gi lk"><img src="../Images/d3fd18fee1f93b0aae14ca78087660f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*dEa6Y6HvRfx2SR_ELZ608w.png"/></div></figure><p id="7eb9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在使用Selenium框架多年之后，我意识到“一刀切”的方法并不适用于Selenium测试自动化。</p><p id="c19f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">本文讨论Selenium测试自动化的最佳实践，这可能有助于您开发设计良好且可伸缩的测试套件。</p><ol class=""><li id="fbd1" class="lp lq iq kf b kg kh kk kl ko lr ks ls kw lt la lu lv lw lx bi translated"><strong class="kf ir">设定命名约定。</strong>为创建的每种类型的文件建立标准命名约定有助于简化开发和Selenium测试过程。例如:当在一个团队中工作时，有些情况下你的团队成员可能需要增强你所编写的测试。如果您在几个月后重新访问相同的测试，您可能无法理解测试的目的，直到您完成了完整的实现。如果一些测试在执行阶段失败了，通过快速查看测试名称，应该很容易找出哪些功能被破坏了。这些问题可以很容易地通过以一种自我解释的方式给出命名测试用例来解决，这样您和您的团队成员都不会花费不必要的时间来浏览实现。</li><li id="15d6" class="lp lq iq kf b kg ly kk lz ko ma ks mb kw mc la lu lv lw lx bi translated">避免屏蔽睡眠电话。特别是，这种睡眠模式是显式等待的一个例子。所以这实际上不是Selenium WebDriver的一个特性，但它是大多数编程语言的一个常见特性。<br/> <strong class="kf ir">线程。Sleep() </strong>做你认为它会做的事情，它会让线程休眠。所以当你的程序运行时，在大多数情况下，程序会被自动检查，它们运行在一个线程上。<br/>所以当我们调用线程时。我们指示我们的程序在一段时间内什么也不做，只是睡觉。测试中的应用程序要做什么并不重要，我们不在乎，我们的检查正在打盹。Selenium提供了隐式等待和显式等待，它们处理延迟的效率比sleep更高。隐式等待通知浏览器为页面上出现的所有web元素等待指定的持续时间。如果元素可用的速度比隐式延迟时间更快，则执行移到下一行代码执行。更多信息请阅读<a class="ae kc" rel="noopener ugc nofollow" target="_blank" href="/how-to-using-implicit-and-explicit-waits-in-selenium-d1ba53de5e15">“如何在Selenium中使用隐式和显式等待”。</a></li><li id="272a" class="lp lq iq kf b kg ly kk lz ko ma ks mb kw mc la lu lv lw lx bi translated">选择最适合的网页定位器。Selenium测试自动化面临的挑战之一是，如果测试代码中使用的定位器相关的实现发生了变化，自动化测试就必须进行修改。ID、名称、链接文本、XPath、CSS选择器、DOM定位器等。</li></ol><figure class="ll lm ln lo gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi md"><img src="../Images/b87e73cc53646bfb411d8a28fe9b9462.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*79OABwFxeKzvj3H8KurYVg.png"/></div></div></figure><p id="5b7c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有这么多的web定位器，有必要选择正确的一个，以尽量减少由于用户界面的变化而对测试造成的影响。ID、类和名称不仅最容易使用，而且比其他web定位器更容易使用。更多信息请阅读<a class="ae kc" rel="noopener ugc nofollow" target="_blank" href="/the-concept-of-the-right-locator-for-selenium-webdriver-automated-scripts-5b8c6bf528e5">“Selenium web driver自动化脚本的正确定位器概念”</a></p><p id="163b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">4.<strong class="kf ir">实施记录和报告。</strong>如果一个广泛的测试套件中的一个特定测试失败了，定位失败的测试用例会变得很有挑战性。在这种情况下，日志记录可能是一个巨大的救星，因为在测试代码中适当的位置的控制台日志有助于更好地理解代码，并有助于解决问题。</p><p id="4b34" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一些流行的日志级别(在流行的编程语言中可用)是调试、信息、警告、错误和关键。在测试实现中添加不必要的日志会导致测试执行的延迟。因此，建议在有助于跟踪失败原因的场景中添加带有级别错误(和/或严重)的日志。有关更多信息，请阅读"<a class="ae kc" rel="noopener ugc nofollow" target="_blank" href="/implement-logging-and-reporting-best-practices-2cc4b58de9d3">实施日志记录和报告最佳实践。</a></p><p id="f6f5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">5.<strong class="kf ir">使用设计模式和原则。</strong>在设计和开发自动化中有很多问题，面对这些问题，人们制定了模式。最初，经典模式是很久以前由四个人制定的，他们出版了《设计模式》一书。这四个人也叫四人帮。</p><p id="54eb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这本书在一个面向对象的世界中系统地阐述了他们当时遇到的所有模式。有一个问题——有一个解决方案，在很长一段时间里，这种设计模式的概念一直在成长和发展，补充着新的模式。<strong class="kf ir">工厂和装饰工。</strong></p><p id="fa17" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">同样，你可能会读到“</strong> <a class="ae kc" href="https://antony-s-smirnov.medium.com/all-about-design-patterns-in-automation-testing-7276ad051db8" rel="noopener">自动化测试中的所有设计模式”。</a></p><p id="83f6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">6.<strong class="kf ir">集中式文件夹结构。</strong>在Selenium团队的中央存储库中，使用已建立的命名约定组织和定义文件夹结构，为开发人员和Selenium测试人员建立坚实的基础。浪费在错误的文件名和代码问题上的时间有更大的负面影响。例如:当处理使用Selenium框架的测试时，关注测试代码的可维护性是非常重要的。标准项目可以由Src和测试文件夹组成。Src文件夹可以包含子目录，这些子目录包含页面对象、助手函数以及包含测试场景中使用的web定位器信息的文件。测试文件夹可以包含实际的测试实现。</p><p id="2278" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">7.<strong class="kf ir">数据驱动测试。</strong>使用Selenium测试，您可以使用数据驱动框架、关键字驱动框架或者两者的混合。数据驱动框架在如何将数据集从实际测试代码中分离出来方面更有效。输入测试数据取自外部来源(Excel、CSV等。)网站(或web应用程序)应针对不同的浏览器、设备和操作系统组合(即多个数据集)进行测试。在测试自动化脚本中对测试值进行硬编码不是一个可伸缩的解决方案，因为它会导致不必要的软件膨胀和测试代码的重复。</p><p id="4a0c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">更好的解决方案是使用参数化来实现Selenium的数据驱动自动化测试。参数化有助于针对不同的输入组合(或数据集)执行测试用例。</p><p id="fdf7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如:</p><ul class=""><li id="5dbe" class="lp lq iq kf b kg kh kk kl ko lr ks ls kw lt la me lv lw lx bi translated">使用TestNG进行参数化。</li><li id="ae7b" class="lp lq iq kf b kg ly kk lz ko ma ks mb kw mc la me lv lw lx bi translated">JUnit参数化。</li><li id="9f0e" class="lp lq iq kf b kg ly kk lz ko ma ks mb kw mc la me lv lw lx bi translated">数据驱动测试。</li></ul><p id="785c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">更多信息请阅读<a class="ae kc" href="https://antony-s-smirnov.medium.com/how-to-use-the-data-provider-pattern-in-the-project-ea12430d9275" rel="noopener">“如何在项目中使用数据提供者模式”。</a></p><p id="05d2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">8.<strong class="kf ir">在适当的场景中使用断言和验证。</strong></p><p id="e0a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">9.<strong class="kf ir">避免代码重复</strong>(或者包装硒调用)。</p><p id="d779" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">10.<strong class="kf ir">利用Selenium中的并行测试。</strong>这是为JUnit和TestNG写的例子。</p><p id="50f5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">结论</strong>。在本文中，我们研究了Selenium的一些最佳实践。当提出Selenium测试场景时，您应该始终记住Selenium是自动化测试的理想选择，所以不要将它用于其他类型的测试，因为它可能会产生有利的结果。</p><figure class="ll lm ln lo gt jr gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/37405c6bd9906e7572c1b5d0f490ca04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*Lu3G8OVrxTr-BOSOHvP5Gw.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae kc" href="https://test-engineer.site/" rel="noopener ugc nofollow" target="_blank">https://test-engineer.site/</a></figcaption></figure><h1 id="9558" class="mg mh iq bd mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd bi translated">作者<a class="ae kc" href="https://www.linkedin.com/in/vaskocuturilo/" rel="noopener ugc nofollow" target="_blank">安东·斯米尔诺夫</a></h1></div></div>    
</body>
</html>