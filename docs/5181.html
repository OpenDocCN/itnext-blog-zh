<html>
<head>
<title>iOS Proximity Sensor As Simple As Possible</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">iOS接近传感器尽可能简单</h1>
<blockquote>原文：<a href="https://itnext.io/ios-proximity-sensor-as-simple-as-possible-a473df883dc9?source=collection_archive---------2-----------------------#2021-01-04">https://itnext.io/ios-proximity-sensor-as-simple-as-possible-a473df883dc9?source=collection_archive---------2-----------------------#2021-01-04</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><figure class="gm go js jt ju jv gi gj paragraph-image"><div class="gi gj jr"><img src="../Images/68b465c3e31f6867d8547a4a869bb4ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/format:webp/1*PCZBgWh0BLyW9JGoHaE2Dg.png"/></div></figure><p id="bb4b" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi kw translated"><span class="l kx ky kz bm la lb lc ld le di"> P </span>近距离传感器是一个小部件，可以探测10厘米左右的短距离。在iPhone和iPad中，这个传感器被放置在屏幕的顶部。它通常用于在用户接听电话时调暗屏幕以节省电池电量。开发人员还可以检测邻近状态的变化，并定制相应的行动。</p><p id="f8c4" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">我们开始吧！</p></div><div class="ab cl lf lg hy lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="in io ip iq ir"><h1 id="b126" class="lm ln iu bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">循序渐进的指导</h1><h2 id="9d11" class="mk ln iu bd lo ml mm dn ls mn mo dp lw kj mp mq ma kn mr ms me kr mt mu mi mv bi translated">步骤1:启用邻近监控</h2><figure class="mw mx my mz gu jv"><div class="bz fq l di"><div class="na nb l"/></div></figure><figure class="mw mx my mz gu jv gi gj paragraph-image"><div class="gi gj nc"><img src="../Images/1c7d4e557da74bd68bd856a9a71339e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:922/0*oGNbxJFDah_4cfLI.gif"/></div></figure><h2 id="adea" class="mk ln iu bd lo ml mm dn ls mn mo dp lw kj mp mq ma kn mr ms me kr mt mu mi mv bi translated">步骤2:观察邻近状态的系统通知</h2><figure class="mw mx my mz gu jv"><div class="bz fq l di"><div class="na nb l"/></div></figure><h2 id="13c1" class="mk ln iu bd lo ml mm dn ls mn mo dp lw kj mp mq ma kn mr ms me kr mt mu mi mv bi translated">步骤3:检索邻近状态</h2><figure class="mw mx my mz gu jv"><div class="bz fq l di"><div class="na nb l"/></div></figure></div><div class="ab cl lf lg hy lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="in io ip iq ir"><h1 id="639e" class="lm ln iu bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">近程传感器的技巧</h1><figure class="mw mx my mz gu jv gi gj paragraph-image"><div class="gi gj nd"><img src="../Images/511d3170d02608c9388c5286fd5188d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*kIB-G2-Y6Re6cPh8rDINEg.gif"/></div></figure><p id="94b9" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">根据<a class="ae ne" href="https://developer.apple.com/documentation/uikit/uidevice/1620058-proximitystate" rel="noopener ugc nofollow" target="_blank">官方文档</a>，从<code class="fe nf ng nh ni b">proximityState</code>返回的接近状态是一个布尔值，表示接近传感器是否靠近用户(<code class="fe nf ng nh ni b">true</code>)或者是否靠近(<code class="fe nf ng nh ni b">false</code>)。然而，大多数开发人员<strong class="ka iv">误解了接近传感器的实际行为</strong>。在靠近的<strong class="ka iv">和远离</strong>的<strong class="ka iv">之间没有明显的分界点(cm)，而是有一个缓冲范围。</strong></p><div class="mw mx my mz gu ab cb"><figure class="nj jv nk nl nm nn no paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><img src="../Images/e4f2d9c3a016b12da55c93e7b01ca9db.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*mEWpKdpfrFcCtCiyZjaOoA.png"/></div></figure><figure class="nj jv nt nl nm nn no paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><img src="../Images/324fd0623eb0e6481a097a6f90ebd270.png" data-original-src="https://miro.medium.com/v2/resize:fit:1026/format:webp/1*mEwlG-WMo7qNVHyeAhNOvg.png"/></div><figcaption class="nu nv gk gi gj nw nx bd b be z dk ny di nz oa translated">左)带缓冲范围的接近传感器的实际行为；右)锐分辨点附近的信号波动</figcaption></figure></div><p id="327c" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">在自然界中，每一个检测到的信号中都存在噪声。一个清晰的识别点附近的信号波动会导致<code class="fe nf ng nh ni b">proximityState</code>频繁切换，见右图。换句话说，屏幕会频繁闪烁，用户会感到烦躁。</p><p id="f40d" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">因此，苹果引入了缓冲范围来稳定信号。在左图中，一旦信号为“远”，信号必须<strong class="ka iv">低于5 cm </strong>才能变为“近”。另一方面，信号必须<strong class="ka iv">高于10 cm </strong>才能从“近”变为“远”。</p></div><div class="ab cl lf lg hy lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="in io ip iq ir"><h1 id="ba63" class="lm ln iu bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">您可能会喜欢下面的文章:</h1><div class="ob oc gq gs od oe"><a rel="noopener  ugc nofollow" target="_blank" href="/android-proximity-sensor-as-clear-as-possible-593774d90dd2"><div class="of ab fp"><div class="og ab oh cl cj oi"><h2 class="bd iv gz z fq oj fs ft ok fv fx it bi translated">Android接近传感器尽可能清晰</h2><div class="ol l"><h3 class="bd b gz z fq oj fs ft ok fv fx dk translated">近程传感器可以检测短距离(约5厘米)。检索和观察邻近数据非常简单。3个步骤…</h3></div><div class="om l"><p class="bd b dl z fq oj fs ft ok fv fx dk translated">itnext.io</p></div></div><div class="on l"><div class="oo l op oq or on os jw oe"/></div></div></a></div></div><div class="ab cl lf lg hy lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="in io ip iq ir"><h1 id="c75b" class="lm ln iu bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">摘要</h1><ol class=""><li id="9b48" class="ot ou iu ka b kb ov kf ow kj ox kn oy kr oz kv pa pb pc pd bi translated">接近传感器是一个简单的组件，用于检测设备中的障碍物。最远的距离只有10cm。</li><li id="1d81" class="ot ou iu ka b kb pe kf pf kj pg kn ph kr pi kv pa pb pc pd bi translated">当邻近状态发生任何变化时，我们可以从iOS获得通知。然而，我们<strong class="ka iv">必须首先启用邻近监控</strong>以接收通知。</li><li id="e034" class="ot ou iu ka b kb pe kf pf kj pg kn ph kr pi kv pa pb pc pd bi translated">在接近信号中引入缓冲范围，以便在噪声环境中稳定它。从“远”到“近”必须达到5厘米，反之则为10厘米。</li></ol></div><div class="ab cl lf lg hy lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="in io ip iq ir"><h1 id="f8cf" class="lm ln iu bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">参考</h1><ol class=""><li id="5991" class="ot ou iu ka b kb ov kf ow kj ox kn oy kr oz kv pa pb pc pd bi translated"><a class="ae ne" href="https://developer.apple.com/documentation/uikit/uidevice" rel="noopener ugc nofollow" target="_blank">苹果UIDevice官方文档</a></li><li id="2a62" class="ot ou iu ka b kb pe kf pf kj pg kn ph kr pi kv pa pb pc pd bi translated"><a class="ae ne" href="https://developer.apple.com/documentation/uikit/uidevice/1620046-proximitystatedidchangenotificat" rel="noopener ugc nofollow" target="_blank">苹果proximityStateDidChangeNotification官方文档</a></li><li id="22fc" class="ot ou iu ka b kb pe kf pf kj pg kn ph kr pi kv pa pb pc pd bi translated"><a class="ae ne" href="https://developer.apple.com/documentation/uikit/uidevice/1620058-proximitystate" rel="noopener ugc nofollow" target="_blank">苹果proximityState官方文档</a></li></ol></div><div class="ab cl lf lg hy lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="in io ip iq ir"><figure class="mw mx my mz gu jv gi gj paragraph-image"><div class="gi gj pj"><img src="../Images/397fadf58812226c29db20b7c3308465.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/0*UsPiDMKkcs9jRKEG.png"/></div></figure><p id="a9b7" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">欢迎您关注我，在<a class="ae ne" href="https://twitter.com/myrick_chow" rel="noopener ugc nofollow" target="_blank">Twitter @ my rik _ chow</a>获取更多信息和文章。感谢您阅读这篇文章。祝您愉快！😄</p></div></div>    
</body>
</html>