<html>
<head>
<title>Enforce your team’s coding style with Prettier and TsLint</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用更漂亮的和TsLint来加强你的团队的编码风格</h1>
<blockquote>原文：<a href="https://itnext.io/enforce-your-team-coding-style-with-prettier-and-tslint-9faac5016ce7?source=collection_archive---------5-----------------------#2019-04-18">https://itnext.io/enforce-your-team-coding-style-with-prettier-and-tslint-9faac5016ce7?source=collection_archive---------5-----------------------#2019-04-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/5cdc6fd2e8cc87a10afdddbb7b6213e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*DisWkrhZ8V6Hhi522eOu0g.gif"/></div></div></figure><p id="a22d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一个项目的编码风格是一个新的高级雇员第一次浏览代码库时首先要关注的，也是最引人注目的特征。</p><p id="5056" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从表面上看，这是因为这可能是一眼就能评估代码库的最简单的方法。从更深层次来说，这是因为优秀的程序员只是喜欢整洁、简单和连贯。这三个简单的方面将决定或打破你的雇员对你的项目和公司的第一印象。</p><p id="931b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">很明显，虽然吸引那些对你的代码库感兴趣的人很重要，但是保持你的代码库的干净和连贯是项目长久和成功的基础。</p><p id="7638" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为什么拥有一个干净一致的代码库是至关重要的，这一系列原因都是众所周知和有据可查的，但对我来说，这些是最重要的原因:</p><ul class=""><li id="9d71" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated">使用熟悉的代码库意味着工作得更快更好</li><li id="da9c" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">拥有一致的代码库有助于新员工更快上手</li><li id="b807" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">拥有一致的代码库使得重构和维护更加容易</li><li id="2803" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi">…</li></ul><h1 id="858b" class="lk ll iq bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">开发者体验(DX)很重要🤓</h1><p id="10ec" class="pw-post-body-paragraph jy jz iq ka b kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr mm kt ku kv ij bi translated">从来没有像今天这样，开发者可以享受无与伦比的开发者体验。尤其是在前端领域，DX的改进非常重要，不容忽视:静态检查、条件类型、更智能的ide、linters、自动化测试框架等等。</p><p id="561d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果有什么事情让一个团队效率低下，没有动力，那绝对是一个糟糕的DX。</p><p id="b671" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">出于以下几个原因，使DX成为团队开发过程的关键部分是架构师/经理的工作:</p><ul class=""><li id="4738" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated">为当前团队和新员工保持技术堆栈的整洁和高效</li><li id="c0c1" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">保持团队的快乐和积极性。你团队的士气和你产品的质量一样重要</li></ul><p id="e6ce" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">虽然一个好的DX是一个广泛而庞大的主题，但我在本文中要谈论的是好代码的支柱之一:编码指南。</p><p id="301e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">虽然社区范围的指导方针很重要，并且是最佳实践的标准指标，但是我倾向于更重视团队对某种风格的看法，而不是整个社区。团队永远是第一位的——但同时，每一个违背社区标准的决策都应该是合理的，并有文档记录。一个(好的)新员工最终会质疑这样的决定。</p><p id="c40e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对我来说，<strong class="ka ir">编码指南是团队每个成员都同意遵守和尊重的一套规则</strong>。因为这在项目的开始阶段肯定是最重要的，所以现在可用的工具，像Prettier和TsLint，允许项目在任何阶段都符合编码指南。</p><h1 id="2d2e" class="lk ll iq bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">漂亮+简洁=整洁、简单和连贯</h1><p id="0f9a" class="pw-post-body-paragraph jy jz iq ka b kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr mm kt ku kv ij bi translated">正如我之前指出的，整洁、简单和一致是每个开发人员都关心的三件事。beautiful和TsLint对此有何帮助？</p><ul class=""><li id="e5d6" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated">整洁:多亏了TsLint规则(或者EsLint，如果你使用JS的话),理想情况下所有团队都同意这些规则，当违反规则时，开发人员会得到警告</li><li id="7a0e" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">简单性:通过添加pre-commit钩子，您就免除了开发人员处理某些格式细节的责任，他们可以专注于重要的事情</li><li id="7c99" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">一致性:由于自动格式化，所有的代码看起来都一样，不管是谁写的</li></ul><p id="cb71" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">正如现在大多数团队使用PR和代码评审一样，另一件要提及的重要事情是，根据我的经验，大多数评论通常关注代码风格，而不是实际的潜在错误或bug。这是令人沮丧的，因为不仅是审查它，而且修复它也是浪费时间。</p><p id="80a4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">问题是，代码审查人员<strong class="ka ir">应该</strong>指出那些错误，但理想情况下他们<strong class="ka ir">不应该非得</strong>。</p><p id="dcbe" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">避免在琐事上浪费时间的唯一方法是建立一个轻松的设置，承担提交者几乎所有的格式化责任。</p><h2 id="f891" class="mo ll iq bd lm mp mq dn lq mr ms dp lu kj mt mu ly kn mv mw mc kr mx my mg mz bi translated">如何设置更漂亮和TsLint ⚙️</h2><p id="8cea" class="pw-post-body-paragraph jy jz iq ka b kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr mm kt ku kv ij bi translated">设置更漂亮和TsLint非常简单。首先，我们安装这两个包:</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="3b33" class="mo ll iq nf b gy nj nk l nl nm">npm install --save-dev prettier tslint-config-prettier</span></pre><p id="38bf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您使用框架的CLI启动项目，那么您可能已经在项目中创建了一个<em class="mn"> tslint.json </em>文件。如果没有，请创建它并简单地添加以下内容:</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="c86e" class="mo ll iq nf b gy nj nk l nl nm">{<br/>  "extends": ["tslint:recommended", "tslint-config-prettier"]<br/>}</span></pre><p id="2a2d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您已经拥有了它，只需向<em class="mn">扩展</em>属性添加“ts lint-config-appellister ”,就像上面的代码片段一样。这是必要的，以便使更漂亮和TsLint很好地一起工作。</p><p id="3af2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">之后——是时候把<em class="mn">设置得更漂亮</em>了。为了创建配置文件，我们可以使用各种文件格式，如<em class="mn"> JSON </em>、<em class="mn"> JS </em>、<em class="mn"> YAML </em>或<em class="mn">TOML</em>——但我喜欢<em class="mn"> YAML </em>，所以请在您的根目录(即您的<em class="mn"> package.json </em>所在的位置)创建一个文件，并将其命名为<em class="mn"> .prettierrc. </em></p><p id="9063" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下面简单介绍一下<em class="mn">。包含我倾向于使用的选项的prettierrc </em>文件:</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="4888" class="mo ll iq nf b gy nj nk l nl nm">tabWidth: 4<br/>singleQuote: <em class="mn">true<br/></em>bracketSpacing: <em class="mn">true<br/></em>printWidth: 80</span></pre><p id="1276" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">要查看所有可用选项的列表，请访问beauty的网站。</p><p id="62f6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这很好，但是这到底有多简单呢？事实并非如此，所以让我们为您的团队简化一下。</p><p id="049f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你有三个选择:</p><ul class=""><li id="63d9" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated">创建一个<a class="ae nn" href="https://prettier.io/docs/en/precommit.html" rel="noopener ugc nofollow" target="_blank">预提交钩子</a>,如漂亮者网站所述</li><li id="424d" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">设置你的IDE(如果你使用WebStorm <a class="ae nn" href="https://prettier.io/docs/en/webstorm.html" rel="noopener ugc nofollow" target="_blank">使用一个监视器</a>，或者如果你使用VSCode <a class="ae nn" href="https://prettier.io/docs/en/editors.html" rel="noopener ugc nofollow" target="_blank">使用一个插件</a>)</li><li id="ab9e" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">…更好的是，两者都用！对于一个开发者来说，感觉总是提交正确的东西是一件很棒的事情，而且还能得到一个干净的、格式化的文件的即时反馈。</li></ul><h2 id="9a3a" class="mo ll iq bd lm mp mq dn lq mr ms dp lu kj mt mu ly kn mv mw mc kr mx my mg mz bi translated">外卖⭐️</h2><ul class=""><li id="ec96" class="kw kx iq ka b kb mi kf mj kj no kn np kr nq kv lb lc ld le bi translated">DX很重要——确保你的团队开心</li><li id="b8c1" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">编码风格很重要——确保你的整个团队都同意这一点</li><li id="963c" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">使用更漂亮和TsLint(或EsLint)更好更快地工作</li></ul><p id="504d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最初发布在<a class="ae nn" href="https://frontend.consulting/enforce-your-team-coding-style-with-prettier-and-ts-lint" rel="noopener ugc nofollow" target="_blank"> Frontend Consulting的博客</a></p></div></div>    
</body>
</html>