<html>
<head>
<title>Azure / SAML2.0 authentication in OutSystems — Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">外部系统中的Azure / SAML2.0身份验证—第2部分</h1>
<blockquote>原文：<a href="https://itnext.io/azure-saml2-0-authentication-in-outsystems-part-2-e145f31f4420?source=collection_archive---------5-----------------------#2020-03-03">https://itnext.io/azure-saml2-0-authentication-in-outsystems-part-2-e145f31f4420?source=collection_archive---------5-----------------------#2020-03-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/d6d82c5c034376a14442af96a9c26d42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SAawb54G25jQr8Jr.png"/></div></div></figure><p id="4bfc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">挑战</strong></p><p id="5891" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在使用多个应用程序的组织中，用户最常见的抱怨之一是需要为每个应用程序设置不同的密码，并且这些密码不能相同。因为存在不同的安全规则，例如，确定应用A的用户必须具有8个字符的密码，不允许有一个大写字母和任何符号，而应用B需要具有相同规则加一个符号的密码。也就是说，使用相同的密码可能具有挑战性。</p><p id="d776" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">接近</strong></p><p id="144c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是我们决定在组织中实施Azure/SAML2.0身份验证的原因之一。<a class="ae kw" href="https://medium.com/@michaeldr1992" rel="noopener"> Michael De Ruijter </a>作为系统工程师来设置所有系统，我作为软件工程师来实现从应用程序获取连接的能力，我们决定分享我们的实现经验。</p><p id="c44e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是实现系列的第二部分，你可以在这里阅读第一部分<a class="ae kw" href="https://medium.com/@michaeldr1992/azure-saml2-0-authentication-in-outsystems-1b94d11b196d?source=friends_link&amp;sk=6dc7be6ac33a8d301a4464819de595b3" rel="noopener"/>。在那里你可以找到我们正在谈论的解释，以及你需要做什么来开始实施它。</p><p id="7358" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">我们做了什么？</strong></p><p id="849f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，正如我们之前已经说过的，OutSystems从版本<a class="ae kw" href="https://www.outsystems.com/downloads/ScreenDetails.aspx?MajorVersion=11&amp;ReleaseId=19322&amp;ComponentName=Platform+Server" rel="noopener ugc nofollow" target="_blank">11 . 0 . 542 . 0</a>(2019年7月，CP2)开始原生支持Azure/SAML2.0认证。但是这仅适用于传统的web应用程序，还不适用于反应式web应用程序。</p><p id="fa52" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于移动应用程序，您需要做的更改将在本系列的下一篇文章中讨论。</p><p id="b7a9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于登录过程，不需要额外的开发，只要您设置了使用SAML消息的用户模块，它就会自动为所有使用用户模块作为用户提供者的传统web应用程序使用Azure身份验证。</p><p id="372a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">很简单，对吧？</p><p id="f089" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">不要太快，耐心等待，因为我们需要做一些开发，让你的登录和注销流程完全工作并与Azure集成。</p><p id="cd5b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://success.outsystems.com/Documentation/11/Developing_an_Application/Secure_the_Application/End_User_Management/End_Users_Authentication/Configure_SAML_2.0_Authentication" rel="noopener ugc nofollow" target="_blank"> OutSystems文档</a>描述了我们需要做什么来使注销流程按预期工作。这些步骤是必需的，因为登录是自动更改的，但是默认的注销流只是注销外部系统环境的内部用户，然后执行到登录页面的重定向。</p><p id="2d15" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这一点上，Azure不知道任何关于请求注销的事情，所以基本上我们需要做的是获得统一的URL，该URL是IdP注销URL。当调用那个URL时，我们将告诉Azure我们想要注销一个用户，如果统一的URL为空，我们只需要通过使用标准的User_Logout动作注销内部OutSystems用户，然后将用户重定向到统一的登录URL。</p><p id="e0b4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以找到在用户模块中获取统一URL的两个操作:</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi kx"><img src="../Images/cb63a8f2874da9ece74249aed379932b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1UMYVVbXDon3Srii4FfJjA.png"/></div></div></figure><p id="334c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，如果您遵循文档中的步骤，传统web应用程序的注销流程应该如下所示:</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi lc"><img src="../Images/542458a173cab28d310a50b735f5d810.png" data-original-src="https://miro.medium.com/v2/resize:fit:678/format:webp/1*Jq9BklVqb01-0tEtC2IxQQ.png"/></div></figure><p id="cfe0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我强烈建议您考虑一下这种流程的集中化，以避免在您已经拥有或将来将要拥有的每个传统web应用程序中重新实现这种流程的需要。</p><p id="b71b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">需要再次强调的一点是，只有当您的应用程序将默认的users模块作为用户提供者时，集成才会如所描述的那样工作。如果你有一个自定义用户提供者，另一种方法将是必要的。</p><p id="9713" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如您所见，这并不是一场噩梦，但您需要遵循所有步骤，以便在您的环境中拥有适当的身份认证流程，并保证这将使用户受益，而不是给他们带来更多麻烦。</p></div></div>    
</body>
</html>