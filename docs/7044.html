<html>
<head>
<title>Distribute your framework— How to create an iOS framework Pt4</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分发您的框架——如何创建iOS框架Pt4</h1>
<blockquote>原文：<a href="https://itnext.io/distribute-your-framework-how-to-create-an-ios-framework-pt4-b9ba478e194d?source=collection_archive---------0-----------------------#2022-05-24">https://itnext.io/distribute-your-framework-how-to-create-an-ios-framework-pt4-b9ba478e194d?source=collection_archive---------0-----------------------#2022-05-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="4ea5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">创建一个好的框架并不一定保证它的成功，为了接触到大量的用户，你，框架作者需要像任何产品一样分发和销售它。为此，我们将从上一篇文章中的<a class="ae kl" href="https://medium.com/elmoezamira/f736f38c5bae" rel="noopener">开始，这一次我们将讨论远程打包和包注册。</a></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/f2e318663e51409462bf0efa96d00584.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*z4_91lFpSdj7jSx3"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">由<a class="ae kl" href="https://unsplash.com/@ismaelparamo?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">伊斯梅尔·帕拉莫</a>在<a class="ae kl" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><h2 id="d79f" class="lj lk iq bd ll lm ln dn lo lp lq dp lr jy ls lt lu kc lv lw lx kg ly lz ma mb bi translated">远程打包:</h2><p id="34f9" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">我们将做必要的修改，使我们的本地包从最后一个帖子开始，一个远程包，<strong class="jp ir"> swift.package </strong>文件的结构不会改变太多，改变的部分将是targets数组中的二进制目标。</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mh mi l"/></div></figure><p id="c483" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们不提供本地XCFramework的路径，而是提供一个服务器的链接，我们将在那里托管我们的框架。</p><blockquote class="mj mk ml"><p id="b6f6" class="jn jo mm jp b jq jr js jt ju jv jw jx mn jz ka kb mo kd ke kf mp kh ki kj kk ij bi translated">在远程存储库中包含二进制框架是一种不好的做法，因为它会使存储库变得巨大，为了解决这个问题，我们将在服务器中托管XCFramework，在远程存储库中托管Swift包。</p></blockquote><p id="beac" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们一步一步来:</p><h2 id="1477" class="lj lk iq bd ll lm ln dn lo lp lq dp lr jy ls lt lu kc lv lw lx kg ly lz ma mb bi translated">压缩框架:</h2><p id="101c" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">我们将从创建一个包含XCFramework的zip文件开始，为此，执行这个终端命令，第一个参数是zip文件的名称，第二个参数是框架本身。</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mh mi l"/></div></figure><h2 id="76e7" class="lj lk iq bd ll lm ln dn lo lp lq dp lr jy ls lt lu kc lv lw lx kg ly lz ma mb bi translated">生成zip文件的校验和:</h2><p id="1418" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">下一步是生成校验和，导航到您的包文件夹，然后键入以下命令:</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mh mi l"/></div></figure><blockquote class="mj mk ml"><p id="725d" class="jn jo mm jp b jq jr js jt ju jv jw jx mn jz ka kb mo kd ke kf mp kh ki kj kk ij bi translated">得到的结果应该是这样的:0 a5b 236 f1 b 93 ebfa 0 cf 2242 ce 3 f 354035 a 8 c 03 c 925335 fdb 39 c 860 a 909084284保存它，我们将在最后一步中用到它。</p></blockquote><h2 id="de78" class="lj lk iq bd ll lm ln dn lo lp lq dp lr jy ls lt lu kc lv lw lx kg ly lz ma mb bi translated">托管您的框架:</h2><p id="a65d" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">将存档的框架上传到个人服务器(或您公司的服务器)。或者，您也可以将它存储在本地服务器上，但仅用于测试目的。</p><blockquote class="mj mk ml"><p id="1be6" class="jn jo mm jp b jq jr js jt ju jv jw jx mn jz ka kb mo kd ke kf mp kh ki kj kk ij bi translated">如果你跳过了压缩步骤，你必须返回去做，你需要上传你的框架作为一个zip文件</p></blockquote><h2 id="3b35" class="lj lk iq bd ll lm ln dn lo lp lq dp lr jy ls lt lu kc lv lw lx kg ly lz ma mb bi translated">最后必要的更改:</h2><p id="daef" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">现在一切就绪，让我们回到清单文件(package.swift)并进行必要的更改，正如我前面所说的，我们将更新二进制目标。</p><p id="19ed" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这次我们将提供3个参数:</p><ul class=""><li id="00fe" class="mq mr iq jp b jq jr ju jv jy ms kc mt kg mu kk mv mw mx my bi translated">名称:您的目标的名称，不需要必要的更改</li><li id="5d9d" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated">url:我们将使用指向您托管框架的位置的链接，而不是本地路径，确保您的URL以zip扩展名结尾</li><li id="e7a9" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated">校验和:我们在第二步中生成的校验和</li></ul><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mh mi l"/></div></figure><p id="b060" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您的包可能包含多个二进制目标，就像我们在上一篇文章中所做的那样，所以对您拥有的每个二进制目标重复相同的过程。</p><h2 id="e353" class="lj lk iq bd ll lm ln dn lo lp lq dp lr jy ls lt lu kc lv lw lx kg ly lz ma mb bi translated">将您的包推送到git存储库:</h2><p id="16af" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">最后一步是将您的包推送到git存储库，这样就完成了，开发人员将能够通过在SPM中提供存储库的URL来使用您的框架。</p></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><h2 id="7036" class="lj lk iq bd ll lm ln dn lo lp lq dp lr jy ls lt lu kc lv lw lx kg ly lz ma mb bi translated">包注册中心:</h2><p id="8627" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">包注册中心是Swift包的集合，通过它们提供的工具，它们将帮助您找到您需要的包。另一方面，作为一个框架作者，注册中心将帮助你推广你的工作。目前，苹果没有提供第一方的软件包注册表，所以我们将使用可用的解决方案，没有一个明确的赢家或默认的选择，以下三个是目前最流行的，我们将简要提及它们:</p><ul class=""><li id="3d9c" class="mq mr iq jp b jq jr ju jv jy ms kc mt kg mu kk mv mw mx my bi translated"><a class="ae kl" href="https://swiftpackageregistry.com/" rel="noopener ugc nofollow" target="_blank"> Swift包裹登记处</a> ( + 5647个包裹)</li><li id="ab56" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated"><a class="ae kl" href="https://swiftpackageindex.com" rel="noopener ugc nofollow" target="_blank"> Swift包裹指数</a>(+4610个包裹)</li><li id="2d36" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated">这个注册表自动抓取Github的新包，这解释了为什么它比其他两个有更多的包</li></ul><p id="8191" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Github还宣布GitHub包注册中心也将支持Swift包，这一功能仍处于有限的测试阶段。</p><p id="e002" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在你可能会想你应该使用哪一个？答案很简单，公开对你的框架/包总是有好处的，所以一定要把你的包添加到所有这些注册表中。</p><blockquote class="mj mk ml"><p id="00cc" class="jn jo mm jp b jq jr js jt ju jv jw jx mn jz ka kb mo kd ke kf mp kh ki kj kk ij bi translated">Marco Eidinger 在他的一篇文章<a class="ae kl" href="https://medium.com/geekculture/the-best-registries-for-your-swift-package-82c08dd45b05" rel="noopener">中提供了关于这个主题的更多细节，如果你觉得包注册表很有趣，请务必阅读。</a></p></blockquote><p id="077f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">包注册是让你的框架对世界可见的一种便捷方式，但它们本身是不够的，你需要做额外的工作，因为你的框架消费者是开发者，请确保在Reddit、Twitter &amp; slack等平台上与iOS开发者社区分享你的工作。</p></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><h2 id="7744" class="lj lk iq bd ll lm ln dn lo lp lq dp lr jy ls lt lu kc lv lw lx kg ly lz ma mb bi translated">结论:</h2><p id="2040" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">在今天的帖子中，我们创建了一个远程包，并通过在服务器上托管它来分离二进制框架，然后，我们以包注册表以及它们如何帮助人们找到你的包来结束。</p></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><p id="be4e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这标志着这篇文章的结束，所以请务必点击鼓掌按钮👏👏如果你喜欢的话。</p><p id="8460" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如何创建一个iOS框架是一个每周<strong class="jp ir">一次的</strong>系列，所以<strong class="jp ir">在<strong class="jp ir">媒体</strong>或<a class="ae kl" href="https://twitter.com/elmoezamira" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">推特</strong> </a>上关注我的</strong>来了解最新的帖子，像往常一样，我们总是很感激你的反馈。</p><p id="7846" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">编码快乐！</p><div class="ng nh gp gr ni"><div role="button" tabindex="0" class="ab bv gv cb fp nj nk bn nl kw ex"><div class="nm l"><div class="ab q"><div class="l di"><img alt="El Moez Amira" class="l de bw nn no fe" src="../Images/7d99f0795ed331bdc8af37b1613d3144.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*sIzpAnPUVoDiGbH7YcBEYQ.jpeg"/><div class="fb bw l nn no fc n aw fd"/></div><div class="hh l fo"><p class="bd b dl z fp fq fr fs ft fu fv fw dk translated"><a class="ae af ag ah ai aj ak al am an ao ap aq ar as" href="https://medium.com/@elmoezamira?source=post_page-----b9ba478e194d--------------------------------" rel="noopener follow" target="_top"> El Moez Amira </a></p></div></div><div class="nr ns gw l"><h2 class="bd ir sy mq fp sz fr fs ta fu fw ip bi translated">如何创建iOS框架</h2></div><div class="ab q"><div class="l fo"><a class="bd b be z bi tb au tc td te po tf an eh ei tg th ti el em eo de bk ep" href="https://medium.com/@elmoezamira/list/how-to-create-an-ios-framework-739461924d14?source=post_page-----b9ba478e194d--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="tj l fo"><span class="bd b dl z dk">6 stories</span></div></div></div><div class="oe dh of fp ab og fo di"><div class="di nw bv nx ny"><div class="dh l"><img alt="" class="dh" src="../Images/d58861afc5089f332484756807132da0.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*S4kxPxLQDW2uh1S8iIBIvw.png"/></div></div><div class="di nw bv nz oa ob"><div class="dh l"><img alt="" class="dh" src="../Images/40aab67ccf288e3caa47bebef2054971.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*IFjvEgsuDI4ljAJfLtCx6Q.png"/></div></div><div class="di bv oc od ob"><div class="dh l"><img alt="SwiftUI Documentation viewed in Xcode 13" class="dh" src="../Images/a9d8449abc39ffcb687130fd54fda832.png" width="194" height="194" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*HisbSO4Opc2EnKTh9OwmtQ.png"/></div></div></div></div></div></div></div>    
</body>
</html>