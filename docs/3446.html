<html>
<head>
<title>Mapping for Vuex beginners</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vuex初学者的映射</h1>
<blockquote>原文：<a href="https://itnext.io/mapping-for-vuex-beginners-43656ac41de9?source=collection_archive---------2-----------------------#2019-12-18">https://itnext.io/mapping-for-vuex-beginners-43656ac41de9?source=collection_archive---------2-----------------------#2019-12-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="5392" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是我之前发表的关于第一次使用Vuex的文章<a class="ae kl" href="https://dev.to/napoleon039/understanding-and-using-vuex-for-the-first-time-2ngi" rel="noopener ugc nofollow" target="_blank">的延续。我将只讨论将Vuex存储中的getters、mutations和actions映射到Vue组件中的属性。</a></p><h1 id="add4" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">我为什么要映射它们？</h1><p id="2b07" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">使用Vuex一段时间后，你可能会想——“我可以使用一个突变或者一个动作。我为什么要绘制它们的地图？”。如果你要使用多个getters、突变或动作，映射它们是非常有用的。</p><h1 id="7453" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">映射Getters</h1><p id="7d4d" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">我们以这种方式在计算属性中使用getter:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/9f1eb83444edecd0e5f4d1ae97e46784.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2S8IqQ3S-7dEZNmeIz0Lqw.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">吸气剂的常用用法</figcaption></figure><p id="63a3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在为5个吸气剂或10个吸气剂做这个怎么样？占用了很多行，更不用说还得写很多代码。你可以使用Vuex的<code class="fe mf mg mh mi b">mapGetters</code>助手来缩短这个。如果你想格式化一个getter的返回值或者用它执行一些其他的操作，你可能需要像上面写的那样编写getter。但是如果computed属性只是从getter返回值，那么最好使用<code class="fe mf mg mh mi b">mapGetters</code>助手:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/924f0b3814a55f5becf01cf7dd9bd7d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vTSIDtW7pwRigzt9Wz3Y-A.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">使用mapGetters助手映射getters</figcaption></figure><p id="e0d1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这与写下:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/4cdffed25da3c00129b6d37696791dbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uPf70Nr35zVgFZ7XS1wh7Q.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">这是在不使用mapGetters助手的情况下编写它们的方式</figcaption></figure><p id="dacf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将一个数组传递给<code class="fe mf mg mh mi b">mapGetters</code>，并在其中写入getters的名字。您只需要写下getters的名字，然后在您的模板中使用它们。不用写别的了。如果您想使用不同名称的getter，那么您可以传递一个对象，而不是传递一个数组给<code class="fe mf mg mh mi b">mapGetters</code>:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/23eace20dd88a80854e0607ab0225bba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G6SZfFbJO-UWFKlFj9KAQg.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">将一个对象传递给mapGetters助手以使用别名而不是getter名称</figcaption></figure><p id="a986" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果不使用<code class="fe mf mg mh mi b">mapGetters</code>，这些getters可以这样写:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/7e3073fe22369a9ef6704386e1d121a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NZvCs5P6IQVG8fGXV7Z7yA.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">映射时的别名仅仅意味着计算属性的不同名称</figcaption></figure><h1 id="07d3" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">绘制突变图</h1><p id="7b74" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">就像我们对getters所做的一样，我们也可以对突变做同样的事情。类似于<code class="fe mf mg mh mi b">mapGetters</code>，我们有<code class="fe mf mg mh mi b">mapMutations</code>助手来绘制我们的突变。</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/27f8bcfd3792390d4867ec0f27f3be89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lrL_TAgwQNtkagBMVM63rQ.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">使用地图突变助手</figcaption></figure><p id="856b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mf mg mh mi b">mapMutations</code>助手也支持传递有效载荷。最后一个突变，<code class="fe mf mg mh mi b">increasePrincipalBy</code>接受一个有效载荷。将我们的突变<code class="fe mf mg mh mi b">calculatePercentage</code>、<code class="fe mf mg mh mi b">increasePrincipalBy</code>和<code class="fe mf mg mh mi b">incrementAmount</code>映射到methods属性会给出与显式提交突变相同的结果:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi mj"><img src="../Images/021eb14e0c86a28e3546ca8e81e8c930.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GYPoZCVIyc_ju62dGbX2cw.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">我们在不映射它们的时候提交每个突变</figcaption></figure><p id="3c0c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们还可以像对待<code class="fe mf mg mh mi b">mapGetters</code>一样，将一个对象传递给<code class="fe mf mg mh mi b">mapMutations</code>助手:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/23eace20dd88a80854e0607ab0225bba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G6SZfFbJO-UWFKlFj9KAQg.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">使用别名时将对象传递给mapMutations辅助程序</figcaption></figure><p id="32cc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这就是我们如何在不映射它们的情况下编写上述映射的突变:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/87c106af116e725df6c7b86f02b1bbc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ymIL6ZBDLhIl9jMwWBtTuA.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">与getters一样，alias只是意味着一个名称与突变不同的方法</figcaption></figure><h1 id="10ac" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">映射操作</h1><p id="278a" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">到目前为止，您一定已经理解了映射getters、mutations和actions在语法上非常相似。当您将突变和动作映射到方法时，您将getters映射到计算属性。映射动作类似于映射突变，只是使用的辅助器不同。</p><p id="613a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">虽然我已经展示了将对象和数组分别传递给助手的例子，但是我们可以同时使用两者:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/e5130f83f1915a4331b1a3f8293f882f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*72ZF7R3D-WbCp8wwbodwPA.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">使用mapActions帮助器映射操作</figcaption></figure><p id="bcf3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里，<code class="fe mf mg mh mi b">addUser</code>动作是一个接受有效载荷的动作。现在，如果我们不使用<code class="fe mf mg mh mi b">mapActions</code>助手来编写这些代码，它们将被写成这样:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/bf96ff5b3817aa71633877f2cd3aeb16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YszA9Q3p2xNRyT5Oz-9RfA.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">没有映射它们，像getters和mutations，我们调度动作</figcaption></figure><p id="74e4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">正如我提到的，您可以在同一个方法属性中使用传递对象和传递数组的两种方式。我用动作助手展示了这一点，但它也可以用于突变。</p><h1 id="5bee" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">包扎</h1><p id="5a74" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">这就是这篇文章的内容。映射您的动作、getters和突变将使您的代码更小，并节省一些编写时间。一如既往，你可以从<a class="ae kl" href="https://vuex.vuejs.org/guide/" rel="noopener ugc nofollow" target="_blank"> Vuex文档</a>中学到更多。如果你有任何问题或建议，请在下面的评论中留下。</p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><p id="6f53" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mr">最初发布于</em><a class="ae kl" href="https://dev.to/napoleon039/mapping-for-a-vuex-beginner-4i74" rel="noopener ugc nofollow" target="_blank"><em class="mr">dev . to</em></a><em class="mr">。</em></p></div></div>    
</body>
</html>