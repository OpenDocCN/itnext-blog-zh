<html>
<head>
<title>JavaScript new features for the 2020+</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向2020+的JavaScript新特性</h1>
<blockquote>原文：<a href="https://itnext.io/javascript-new-features-for-the-next-2020-7be2200d4995?source=collection_archive---------1-----------------------#2019-12-29">https://itnext.io/javascript-new-features-for-the-next-2020-7be2200d4995?source=collection_archive---------1-----------------------#2019-12-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="84c1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">接下来几年你需要知道的几个特性</h2></div><p id="4d90" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下一个十年就在眼前，我们必须不断更新我们的技能，所以我将与你分享我认为对于用JavaScript制作的新项目来说了解哪些特性是很重要的。在许多情况下，我会避免使用codepen，因为许多功能都很新，但是我会一如既往地给你最好的官方文档。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/4d5930827bcee17554770f39edbcae97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yxx5tNjo1q658e-EzQAOdw.jpeg"/></div></div></figure><h1 id="832e" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">可选链接</h1><p id="3047" class="pw-post-body-paragraph ki kj it kk b kl mi ju kn ko mj jx kq kr mk kt ku kv ml kx ky kz mm lb lc ld im bi translated">JavaScript是一种非常异步和灵活的好语言，但是这些特性使得JS很容易崩溃。这个<a class="ae mn" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining" rel="noopener ugc nofollow" target="_blank"> <strong class="kk iu">可选链接</strong> </a>是从一个对象调用属性的一个好选择，但是不需要所有东西都爆炸。例如，如果您这样做:</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="813d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在使用之前，不需要使用<a class="ae mn" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/typeof" rel="noopener ugc nofollow" target="_blank"> <em class="mq">类型的</em> </a>验证或<a class="ae mn" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty" rel="noopener ugc nofollow" target="_blank"><em class="mq">hasownproperty()</em></a>来处理<em class="mq"> pt </em>(葡萄牙语)中的<em class="mq">字</em>的存在，只需调用new运算符就足以更好地处理<em class="mq">未定义的</em>或<em class="mq">空值</em>而不会死亡。</p><pre class="lf lg lh li gt mr ms mt mu aw mv bi"><span id="d448" class="mw lr it ms b gy mx my l mz na">console.log(lang?.pt?.words) <br/>// undefined but everything else is ok</span></pre><p id="93ce" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">不会返回<strong class="kk iu"> <em class="mq">类型错误:无法读取对象</em>的属性【pt】</strong><em class="mq">错误，只能读取未定义或空值。即使这样也会很有用，在<em class="mq"> if </em>语句中:</em></p><pre class="lf lg lh li gt mr ms mt mu aw mv bi"><span id="6390" class="mw lr it ms b gy mx my l mz na">if(lang?.en?.words){<br/>    // Do something <br/>}else{<br/>    // Do another thing<br/>}</span></pre><p id="442f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当我们在处理大型嵌套对象时，这个特性的真正威力就显现出来了。为了不被复杂性所淹没，我们可以这样做:</p><pre class="lf lg lh li gt mr ms mt mu aw mv bi"><span id="8774" class="mw lr it ms b gy mx my l mz na">console.log(lang?.en?.words?.rudeWords?.['a bad word'])</span></pre><p id="6e17" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在79 Chrome版本上，这个功能只在实验中可用，但是你可以在这里跟踪状态，看看什么时候在大多数浏览器中完全实现。</p><h1 id="238c" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">零融合算子</h1><p id="b3c7" class="pw-post-body-paragraph ki kj it kk b kl mi ju kn ko mj jx kq kr mk kt ku kv ml kx ky kz mm lb lc ld im bi translated">在我们需要改进数据验证的地方，JavaScript为我们带来了<a class="ae mn" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing_operator" rel="noopener ugc nofollow" target="_blank"> <strong class="kk iu">？？</strong> </a> <strong class="kk iu"> </strong>操作员验证数据存在。它的工作方式类似于OR运算符，但不会因为错误值而失败，请看下面的示例:</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="9f34" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正如我们所看到的，当OR运算符将零作为假时，即使零是一个有效的数字，我们的nullish朋友也不会忽略它。要返回false必须有一个<em class="mq"> null </em>或<em class="mq">未定义的</em>数据值。我想到的第一个例子是这个操作符要解决的点赞、点击、浏览量的计数器……在计数中，零是很重要的。</p><p id="40df" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">目前<a class="ae mn" href="https://caniuse.com/#feat=mdn-javascript_operators_nullish_coalescing" rel="noopener ugc nofollow" target="_blank">在</a>还不可用，但在下一个版本中，将完全支持Firefox v72和Chrome v80的更新。</p><h1 id="cce7" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated"><a class="ae mn" href="https://wicg.github.io/native-file-system/" rel="noopener ugc nofollow" target="_blank">原生文件系统API </a></h1><p id="a57e" class="pw-post-body-paragraph ki kj it kk b kl mi ju kn ko mj jx kq kr mk kt ku kv ml kx ky kz mm lb lc ld im bi translated">这种API为开发人员提供了与用户本地设备中的文件进行交互的机会，为他们打开了一个新的可能性世界。创建IDE，创建自己的office软件，如Microsoft Office library，开发文件编辑器、文本查看器、图像编辑器，更集成的游戏引擎，甚至像Medium这样的应用程序可以将故事的草稿保存在本地计算机中……所有这些都直接在我们的浏览器中运行，这至少非常有趣。</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mo mp l"/></div><figcaption class="nb nc gj gh gi nd ne bd b be z dk translated">原参考:<a class="ae mn" href="https://web.dev/native-file-system/" rel="noopener ugc nofollow" target="_blank">https://web.dev/native-file-system/</a></figcaption></figure><p id="242f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个API的一个大问题是它打开了安全漏洞，即使Chrome不允许用户选择System32这样的敏感路径，这也不意味着用户是完全安全的。这就是为什么这个可能需要一点时间来完全实现，现在只有chrome支持这个功能，但你必须启用<em class="mq">文件系统api </em>标志。</p><h1 id="ca8c" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">数字分隔符</h1><p id="c63b" class="pw-post-body-paragraph ki kj it kk b kl mi ju kn ko mj jx kq kr mk kt ku kv ml kx ky kz mm lb lc ld im bi translated">你能快速读出这个数字，不是吗？，嗯但是这个另外一个<strong class="kk iu"> 1143484622 </strong>号呢？。当然，我相信你可以，但是如果有很多其他类似的大数字呢？我们知道这些数字，但在脚本代码中很难快速阅读它们，有时甚至会令人困惑，正如<a class="ae mn" href="https://github.com/tc39/proposal-numeric-separator" rel="noopener ugc nofollow" target="_blank">原始命题</a>所说:</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="47f0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">嗯，为了帮助我们更容易地阅读数字，已经引入了<a class="ae mn" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Lexical_grammar#Numeric_separators" rel="noopener ugc nofollow" target="_blank">数字分隔符</a>:</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mo mp l"/></div><figcaption class="nb nc gj gh gi nd ne bd b be z dk translated">忽略红色突出显示，是一个有效的JS语法</figcaption></figure><p id="f5ad" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你曾经使用过像Stripe这样的API，管理过你的应用程序中的金额，使用过数学语法…你会发现这些符号非常有用，你现在就可以使用它们，但请查看<a class="ae mn" href="https://caniuse.com/#feat=mdn-javascript_grammar_numeric_separators" rel="noopener ugc nofollow" target="_blank">兼容性图表</a>以获得更好的参考。</p><h1 id="5d19" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">动态导入</h1><p id="aeeb" class="pw-post-body-paragraph ki kj it kk b kl mi ju kn ko mj jx kq kr mk kt ku kv ml kx ky kz mm lb lc ld im bi translated">几年前，在我们的脚本中调用外部JS文件是完全不可避免的，实际上是不可能的，因为所有的坏人都在那里，现在时代变了，坏人还在那里，但我们的浏览器有一个标准，并准备在JavaScript文件/标签内执行<a class="ae mn" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import#Dynamic_Imports" rel="noopener ugc nofollow" target="_blank"> <strong class="kk iu">动态导入</strong> </a>。</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="1c07" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">简单到调用方法Import，然后解决promise，您就可以使用手中的模块了。首先，这可以大大提高网站的加载速度。</p><p id="7baf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">静态导入已经有一段时间了，但动态加载模块是相对较新的，<a class="ae mn" href="https://caniuse.com/#feat=es6-module-dynamic-import" rel="noopener ugc nofollow" target="_blank"> Chrome从v77开始就支持这个特性</a>，但直到今天才变得更加相关。</p><h1 id="371c" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">结论</h1><p id="240a" class="pw-post-body-paragraph ki kj it kk b kl mi ju kn ko mj jx kq kr mk kt ku kv ml kx ky kz mm lb lc ld im bi translated">您可以关注ECMAScript新特性的<a class="ae mn" href="https://github.com/tc39/proposals" rel="noopener ugc nofollow" target="_blank"><strong class="kk iu"/></a>TC39提案，以便充分了解JS在不久的将来会走上什么样的道路。永远保持你的技能不断提高，并为下一年JavaScript only将不断增长做好准备。</p><blockquote class="nf ng nh"><p id="355a" class="ki kj mq kk b kl km ju kn ko kp jx kq ni ks kt ku nj kw kx ky nk la lb lc ld im bi translated"><em class="it">参考文献:</em></p><p id="c4b0" class="ki kj mq kk b kl km ju kn ko kp jx kq ni ks kt ku nj kw kx ky nk la lb lc ld im bi translated">web . dev→<a class="ae mn" href="https://web.dev/" rel="noopener ugc nofollow" target="_blank">https://web.dev/</a></p><p id="0802" class="ki kj mq kk b kl km ju kn ko kp jx kq ni ks kt ku nj kw kx ky nk la lb lc ld im bi translated">MDN网络文档→<a class="ae mn" href="https://developer.mozilla.org/en-US/" rel="noopener ugc nofollow" target="_blank">https://developer.mozilla.org/en-US/</a></p><p id="d0a2" class="ki kj mq kk b kl km ju kn ko kp jx kq ni ks kt ku nj kw kx ky nk la lb lc ld im bi translated">我能用→<a class="ae mn" href="https://caniuse.com/" rel="noopener ugc nofollow" target="_blank">https://caniuse.com/</a>吗</p><p id="b41e" class="ki kj mq kk b kl km ju kn ko kp jx kq ni ks kt ku nj kw kx ky nk la lb lc ld im bi translated">发展到→<a class="ae mn" href="https://dev.to/" rel="noopener ugc nofollow" target="_blank">https://dev.to/</a></p><p id="2d94" class="ki kj mq kk b kl km ju kn ko kp jx kq ni ks kt ku nj kw kx ky nk la lb lc ld im bi translated">TC39提案→<a class="ae mn" href="https://github.com/tc39/proposals" rel="noopener ugc nofollow" target="_blank">https://github.com/tc39/proposals</a></p></blockquote></div></div>    
</body>
</html>