<html>
<head>
<title>OMBD#14: How To Call a Function When a User Stops Typing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">OMBD#14:当用户停止输入时如何调用函数</h1>
<blockquote>原文：<a href="https://itnext.io/ombd-14-how-to-call-a-function-when-a-user-stops-typing-bcc55fb410a0?source=collection_archive---------5-----------------------#2021-04-21">https://itnext.io/ombd-14-how-to-call-a-function-when-a-user-stops-typing-bcc55fb410a0?source=collection_archive---------5-----------------------#2021-04-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="639a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">我们将学习如何用JavaScript实现一个浏览器自动保存草稿系统</h2></div><p id="f746" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">欢迎来到第14期(共14期)One<strong class="kh ir">M</strong>inute<strong class="kh ir">B</strong>etter<strong class="kh ir">D</strong>developer，通过阅读简短的知识，每次一分钟，你将成为一名更成功的软件开发人员。</p><h2 id="e6a3" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated"><a class="ae lu" href="https://jportella93.medium.com/1-minute-to-become-a-better-developer-13-6929b0eec824" rel="noopener">⏮️ </a> <a class="ae lu" href="https://jportella93.medium.com/one-minute-to-become-a-better-developer-ombd-5b1a1d37468e" rel="noopener">🔛</a> <a class="ae lu" href="https://jportella93.medium.com/1-minute-to-become-a-better-developer-15-d10746c1700" rel="noopener">⏭️ </a></h2><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi lv"><img src="../Images/aba486ce1395b680b0f58c19d381e2e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2yThvMvIebUig8umKb8DKQ.jpeg"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">我的好友洛尔·尼古拉斯的作品</figcaption></figure><h2 id="2f1c" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">问题是</h2><p id="f8d9" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">我们正在用一个类似Google-Docs的草稿系统实现一个文本编辑器，当用户停止输入一秒钟时，内容就会保存在服务器端。</p><h2 id="dd5f" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">一个解决方案</h2><p id="07a2" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">我们将使用<code class="fe mq mr ms mt b">keyup</code>事件和<code class="fe mq mr ms mt b">window.setTimeout</code>。</p><figure class="lw lx ly lz gt ma"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="3fa6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个代码片段的关键是必须在<code class="fe mq mr ms mt b">keyup</code>回调的范围内声明<code class="fe mq mr ms mt b">timerId</code>，以便在每次再次触发<code class="fe mq mr ms mt b">keyup</code>回调时将它重新分配给新的超时id。</p><p id="442e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是CodePen上的一个演示:</p><figure class="lw lx ly lz gt ma"><div class="bz fp l di"><div class="mw mv l"/></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">当用户停止输入时调用函数。</figcaption></figure><h2 id="783b" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">如果你喜欢这个故事，你可能也会喜欢:</h2><div class="mx my gp gr mz na"><a href="https://jportella93.medium.com/1-minute-to-become-a-better-developer-12-3eb093c1ef21" rel="noopener follow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd ir gy z fp nf fr fs ng fu fw ip bi translated">1分钟成为更好的开发人员(#12)</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">了解如何利用窗口。IntersectionObserver了解一分钟内有多少访问者查看了您的内容。</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">jportella93.medium.com</p></div></div><div class="nj l"><div class="nk l nl nm nn nj no mf na"/></div></div></a></div><div class="mx my gp gr mz na"><a href="https://jportella93.medium.com/1-minute-to-become-a-better-developer-18-5edc55190b91" rel="noopener follow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd ir gy z fp nf fr fs ng fu fw ip bi translated">1分钟成为更好的开发人员(#18)</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">一分钟内学会如何避免连字符换行。</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">jportella93.medium.com</p></div></div><div class="nj l"><div class="np l nl nm nn nj no mf na"/></div></div></a></div><h2 id="4496" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated"><a class="ae lu" href="https://jportella93.medium.com/1-minute-to-become-a-better-developer-13-6929b0eec824" rel="noopener">⏮️ </a> <a class="ae lu" href="https://jportella93.medium.com/one-minute-to-become-a-better-developer-ombd-5b1a1d37468e" rel="noopener">🔛</a>T25】⏭️ </h2></div></div>    
</body>
</html>