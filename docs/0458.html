<html>
<head>
<title>Terminator: Death to the (State) Machines III — End?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">《终结者:机器之死3——结束？</h1>
<blockquote>原文：<a href="https://itnext.io/terminator-death-to-the-state-machines-iii-end-7a11a82b38a?source=collection_archive---------7-----------------------#2018-03-12">https://itnext.io/terminator-death-to-the-state-machines-iii-end-7a11a82b38a?source=collection_archive---------7-----------------------#2018-03-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="811d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">注:如果你还没有阅读过</em> <a class="ae km" rel="noopener ugc nofollow" target="_blank" href="/terminator-death-to-the-state-machines-i-rise-of-the-machines-33a643f48a6d"> <em class="kl">第一部分</em> </a> <em class="kl">和</em> <a class="ae km" rel="noopener ugc nofollow" target="_blank" href="/terminator-death-to-the-state-machines-ii-salvation-d46bd273e7f2"> <em class="kl">第二部分</em> </a> <em class="kl">，请阅读！它为你提供了一些我为什么写这篇文章的背景知识，以及我稍后将讨论的解决方案的一些背景知识。</em></p><p id="1fcb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae km" href="https://www.linkedin.com/cws/share?url=https%3A%2F%2Fitnext.io%2Fterminator-death-to-the-state-machines-iii-end-7a11a82b38a" rel="noopener ugc nofollow" target="_blank"> <em class="kl">点击这里在LinkedIn上分享这篇文章</em> </a></p><h1 id="ef92" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">前情提要…</h1><p id="4c3e" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">我们已经开始了一场反对国家机器的革命(至少在我们的团队中)。现在，大多数状态机逻辑已经被替换，结果是几乎相同数量的代码行— <strong class="jp ir">但是更加明确、明显和深思熟虑</strong>。现在读起来容易多了，科技股债务像庞氏硬币一样下跌。</p><h1 id="84a2" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">接下来去哪里？</h1><p id="c03d" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">这个问题一直困扰着我们。我们是否继续前进并最终移除国家机器宝石？从现在开始，我们会实现自己的状态机吗？到什么程度，我们会“滚动我们自己的”？</p><p id="dd09" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一次有趣的旅行。重构和清理代码就像编写新代码一样让我兴奋。我认为我们可以和机器和平共处。我仍然喜欢他们提供的DSL这种过渡会杀死你，让你陷入技术债务。</p><p id="e174" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我不喜欢这些宝石有两个主要原因:</p><ul class=""><li id="d3c2" class="lq lr iq jp b jq jr ju jv jy ls kc lt kg lu kk lv lw lx ly bi translated">过渡之前、之后、前后——这些和回调一样糟糕。只是没有。</li><li id="14a6" class="lq lr iq jp b jq lz ju ma jy mb kc mc kg md kk lv lw lx ly bi translated"><strong class="jp ir">只存在于特定状态的方法、验证、变量:</strong></li></ul><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div class="gh gi me"><img src="../Images/799a1a7ecb5948fdf37f03fb3e5af73d.png" data-original-src="https://miro.medium.com/v2/resize:fit:972/format:webp/1*xzCORjl3p9L0519l2aMeSg.png"/></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk translated">这个调试起来很烦，说真的。如果可能的话，像躲避瘟疫一样躲避。如果没有，祝你好运。</figcaption></figure><p id="a442" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">不幸的是，这些是这种宝石的主要功能，这使我回到了这个问题:我们真的需要它吗？</p><p id="a055" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我认为一些团队可以使用它，尤其是在引导一个应用程序时。不要低估DSL的能力——它们非常光滑、经过深思熟虑并且健壮。一旦你不断添加更多的过渡和定制的东西，它就开始变得令人毛骨悚然。</p><p id="ed42" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您只想使用一个基本的状态机，那么这是一个完美的用例。</p><h1 id="fc38" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">但是什么是基本状态机呢？</h1><p id="f5f1" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">我将它定义为不需要任何特定逻辑的东西。它也不应该在切换到某个状态时有任何触发。我最基本的用例是它从一个状态改变到另一个状态，就是这样。可以有保护条款，像一个实际的有限状态机一样，哪个状态可以转换到哪个状态，但仅此而已。没有复试。没有定制的东西。让我们把神奇的自动瞄准镜算作额外奖励吧。</p></div><div class="ab cl mq mr hu ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ij ik il im in"><p id="870b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">总之，这些状态机宝石仍然是相关的和有用的，但是我认为应该小心使用它们，并考虑到未来。我们不想生活在一个被机器统治的未来。我们希望始终控制我们的代码，如果我们不小心，依赖非常先进的机器可能会带来麻烦。</p></div></div>    
</body>
</html>