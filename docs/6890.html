<html>
<head>
<title>Git: Change Author</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Git:更改作者</h1>
<blockquote>原文：<a href="https://itnext.io/git-change-author-709783e69626?source=collection_archive---------1-----------------------#2022-04-04">https://itnext.io/git-change-author-709783e69626?source=collection_archive---------1-----------------------#2022-04-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3c64" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用你的私人邮箱去犯？</h2></div><p id="ce9a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我通常致力于我的工作和我的私人git项目，我使用两个不同的电子邮件地址。但有时我会把电子邮件弄乱，用我的私人电子邮件地址来完成工作项目，反之亦然。</p><p id="5b65" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，如果可以更改最后一次提交的作者，这是很方便的，尽管我的用例并不是唯一更改提交作者有用的情况。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/416690b7486255f81fe6c61ce3491cb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CK9e9tLlddzCOibmsfW_tA.png"/></div></div></figure><h1 id="43a6" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">更改上次提交的作者</h1><p id="6af7" class="pw-post-body-paragraph ki kj it kk b kl mi ju kn ko mj jx kq kr mk kt ku kv ml kx ky kz mm lb lc ld im bi translated">如果您只想更改最后一次提交的作者，那就简单多了。一般来说，如果你想改变最后一次提交的内容，通常会更容易。这可以通过古老的修正案来实现:</p><pre class="lf lg lh li gt mn mo mp mq aw mr bi"><span id="0780" class="ms lr it mo b gy mt mu l mv mw">git commit --amend --author="Mohammad-Ali A'RÂBI &lt;<a class="ae mx" href="mailto:mohammad-ali@aerabi.com" rel="noopener ugc nofollow" target="_blank">mohammad-ali@aerabi.com</a>&gt;"</span></pre><p id="0652" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">执行完这个命令后，会打开一个编辑器，这样您也有机会更改提交消息。</p><p id="a29c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注意，在进行修改之前不要有任何更改阶段，否则，这些更改也会添加到提交中。</p><p id="6b83" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，请注意，现在您必须使用租赁来推动<a class="ae mx" href="https://medium.com/itnext/git-force-vs-force-with-lease-9d0e753e8c41" rel="noopener">,因为您已经在历史上做了一些整理工作:</a></p><pre class="lf lg lh li gt mn mo mp mq aw mr bi"><span id="d992" class="ms lr it mo b gy mt mu l mv mw">git push --force-with-lease</span></pre><h1 id="ea04" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">在旧提交中更改作者</h1><p id="e554" class="pw-post-body-paragraph ki kj it kk b kl mi ju kn ko mj jx kq kr mk kt ku kv ml kx ky kz mm lb lc ld im bi translated">现在，让我们假设我们想要改变提交的作者，这是两次提交之后(因此，第三次提交，从最后一次开始计数)。为了找到我们想要编辑的提交，让我们做一个oneliner git日志:</p><pre class="lf lg lh li gt mn mo mp mq aw mr bi"><span id="826c" class="ms lr it mo b gy mt mu l mv mw">git log --oneline</span></pre><p id="84cc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输出如下所示:</p><pre class="lf lg lh li gt mn mo mp mq aw mr bi"><span id="503f" class="ms lr it mo b gy mt mu l mv mw">dd16fac (<strong class="mo iu">HEAD -&gt; master</strong>) Add GitHub page <br/>b8473cf Update README<br/>deba6a0 Add REAME</span></pre><p id="8f3b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里，<code class="fe my mz na mo b">Add GitHub page</code>是最后一次提交，我们要编辑<code class="fe my mz na mo b">Add README</code>。为此，我们使用交互式重新设定基准:</p><pre class="lf lg lh li gt mn mo mp mq aw mr bi"><span id="6504" class="ms lr it mo b gy mt mu l mv mw">git rebase -i HEAD~3</span></pre><p id="e29e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe my mz na mo b">HEAD~3</code>表明我们想回顾过去改变历史到什么程度。在本例中，是3次提交。通过运行此命令，将打开一个编辑器，其中包含以下内容:</p><pre class="lf lg lh li gt mn mo mp mq aw mr bi"><span id="d4cd" class="ms lr it mo b gy mt mu l mv mw">pick deba6a0 Add README <br/>pick b8473cf Update README<br/>pick dd16fac Add GitHub page</span></pre><p id="2efe" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">请注意，该顺序与git日志中的顺序不同。您想要更改的提交现在显示在第一行。要改变它的作者，你需要改变它前面的动词，从<code class="fe my mz na mo b">pick</code>变成<code class="fe my mz na mo b">edit</code>。</p><pre class="lf lg lh li gt mn mo mp mq aw mr bi"><span id="af76" class="ms lr it mo b gy mt mu l mv mw"><strong class="mo iu">edit</strong> deba6a0 Add README <br/>pick b8473cf Update README<br/>pick dd16fac Add GitHub page</span></pre><p id="49f9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后保存文件并退出。您将返回命令行，并有机会修改您选择的提交:</p><pre class="lf lg lh li gt mn mo mp mq aw mr bi"><span id="e156" class="ms lr it mo b gy mt mu l mv mw">git commit --amend --author="Mohammad-Ali A'RÂBI &lt;<a class="ae mx" href="mailto:mohammad-ali@aerabi.com" rel="noopener ugc nofollow" target="_blank">mohammad-ali@aerabi.com</a>&gt;"</span></pre><p id="1cf8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这和以前一样。现在让交互式rebaser知道您已经完成了这里的工作，并希望继续:</p><pre class="lf lg lh li gt mn mo mp mq aw mr bi"><span id="5946" class="ms lr it mo b gy mt mu l mv mw">git rebase --continue</span></pre><p id="1ac8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因为您刚刚更改了作者，所以不会有冲突，您的rebase将成功完成。现在，和以前一样，你必须用力推租约。</p><h1 id="70d0" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">结论</h1><p id="97da" class="pw-post-body-paragraph ki kj it kk b kl mi ju kn ko mj jx kq kr mk kt ku kv ml kx ky kz mm lb lc ld im bi translated">本教程的重点是更改作者的电子邮件地址，但是也可以使用相同的说明来更改作者的姓名或执行任何类型的修改。</p><p id="d41b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">今天的主要要点如下:</p><blockquote class="nb"><p id="6155" class="nc nd it bd ne nf ng nh ni nj nk ld dk translated">提交前请检查您的电子邮件地址。简单多了。</p></blockquote><p id="42af" class="pw-post-body-paragraph ki kj it kk b kl nl ju kn ko nm jx kq kr nn kt ku kv no kx ky kz np lb lc ld im bi translated">您还可以添加检查作者姓名和电子邮件地址的CI作业:最好在将提交的作者合并到master之前修复它们。一般来说，你越早解决问题，就越容易解决。</p><ul class=""><li id="11c2" class="nq nr it kk b kl km ko kp kr ns kv nt kz nu ld nv nw nx ny bi translated">阅读我的<a class="ae mx" href="https://medium.com/@aerabi/16-git-tips-and-tricks-bf08d0602d3b" rel="noopener">“16个Git技巧和窍门”</a></li><li id="bde2" class="nq nr it kk b kl nz ko oa kr ob kv oc kz od ld nv nw nx ny bi translated"><a class="ae mx" href="https://medium.com/subscribe/@aerabi" rel="noopener">订阅</a>git上的每周内容</li></ul></div></div>    
</body>
</html>