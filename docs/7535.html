<html>
<head>
<title>Dunk on the Competition with Front-End Debugging and Monitoring from Adze JS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过Adze JS的前端调试和监控，在竞争中脱颖而出</h1>
<blockquote>原文：<a href="https://itnext.io/dunk-on-the-competition-with-front-end-debugging-and-monitoring-from-adze-js-55adaaaa52e9?source=collection_archive---------2-----------------------#2022-10-26">https://itnext.io/dunk-on-the-competition-with-front-end-debugging-and-monitoring-from-adze-js-55adaaaa52e9?source=collection_archive---------2-----------------------#2022-10-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2d9a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">它的发音是“广告”…</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5c7173ee893d08daab138889f916ef07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rQRy6KIjWgpk3eE-"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@harrycunningham?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">哈里·坎宁安</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="8289" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最近，我有机会开始一个新的绿地项目，我们可以选择闪亮的新工具和框架。首先，我不想低估这种感觉有多糟糕；很遗憾我们不能经常这样做。无论如何，对于前端日志，我记得听一位前同事提到过这个开源项目。</p><div class="lv lw gp gr lx ly"><a href="https://adzejs.com/" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">Adze —更好的JavaScript日志记录</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">打开开发控制台进行快速启动演示→将日志写成方法链。Adze的方方面面都在你的掌控之中…</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">adzejs.com</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm ks ly"/></div></div></a></div><h1 id="d979" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">它是做什么的？</h1><p id="cf9e" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">乍看之下，Adze JS是一个浏览器控制台API的包装器，它拥有你熟悉和喜爱的所有相同的命令。永恒的热门歌曲，如<code class="fe nk nl nm nn b">console.log</code>或苦乐参半的<code class="fe nk nl nm nn b">console.error</code>，甚至是邪教经典<code class="fe nk nl nm nn b">console.dir</code>。你知道这些，所以我不会说太多。然而，有一些更高层次的Adze概念真正有助于防止您的代码变成一个巨大的面条怪物。以下是对这些概念的简要描述。</p><h2 id="d219" class="no mo it bd mp np nq dn mt nr ns dp mx li nt nu mz lm nv nw nb lq nx ny nd nz bi translated"><strong class="ak">棚子</strong></h2><p id="b461" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">一个集中的地方(在您的代码中)来缓存您的日志，提供全局配置，添加任何过滤(即忽略调试日志级别)或覆盖(即在生产中记录未处理的异常时不包括fire表情):</p><pre class="kj kk kl km gt oa nn ob oc aw od bi"><span id="82a7" class="no mo it nn b gy oe of l og oh">import { adze, createShed } from 'adze';<br/><br/>const shed = createShed();<br/><br/>shed.addListener([1, 2, 3], ({ definition, timestamp, args }, render, printed) =&gt; {<br/>  if (printed) {<br/>    const log = {<br/>      level: definition.level,<br/>      name: definition.levelName,<br/>      timestamp: timestamp.utc,<br/>      args,<br/>    };<br/>    // You could now write it to a file, send it to a rest API, etc.<br/>  }<br/>});</span></pre><h2 id="7be6" class="no mo it bd mp np nq dn mt nr ns dp mx li nt nu mz lm nv nw nb lq nx ny nd nz bi translated"><strong class="ak">工厂</strong></h2><p id="18ad" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">所有的记录都是从Adze的工厂开始的。我还没有机会全部使用它们，但主要的一个被简单地称为<code class="fe nk nl nm nn b">adze</code>:</p><pre class="kj kk kl km gt oa nn ob oc aw od bi"><span id="862a" class="no mo it nn b gy oe of l og oh">const cfg = { useEmoji: true };<br/><br/>adze(cfg).log('A log with emoji enabled.');</span></pre><h2 id="561a" class="no mo it bd mp np nq dn mt nr ns dp mx li nt nu mz lm nv nw nb lq nx ny nd nz bi translated"><strong class="ak">主题化</strong></h2><p id="2731" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">Adze公开了一个配置，您可以将它传递给默认的adze工厂。它允许您使用类似于CSS的属性来更改日志样式:</p><pre class="kj kk kl km gt oa nn ob oc aw od bi"><span id="fe01" class="no mo it nn b gy oe of l og oh">const config = {<br/>  logLevel: 8,<br/>  useEmoji: true,<br/>  logLevels: {<br/>    log: {<br/>      emoji: '<!-- -->🔥<!-- -->',<br/>      style: 'padding-right: 5px; background: red; color: white; border-color: black;',<br/>      terminal: ['bgRed', 'white'],    <br/>    },<br/>  }<br/>};<br/><br/>adze(config).log("I'm red");</span></pre><h2 id="f608" class="no mo it bd mp np nq dn mt nr ns dp mx li nt nu mz lm nv nw nb lq nx ny nd nz bi translated"><strong class="ak">修改器</strong></h2><p id="4771" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">顾名思义，您可以修改将要记录的任何内容。像<code class="fe nk nl nm nn b">timestamp</code>、<code class="fe nk nl nm nn b">count</code>和<code class="fe nk nl nm nn b">namespace</code>这样的函数可以提供更多关于正在记录的内容的上下文。</p><pre class="kj kk kl km gt oa nn ob oc aw od bi"><span id="1e5b" class="no mo it nn b gy oe of l og oh">adze().label('my-label').timestamp.log('my message');</span><span id="41e0" class="no mo it nn b gy oi of l og oh">// Output: Log(1) 2022-10-25T16:33:43-4:00 [my-label] <!-- -->my message</span></pre><h2 id="614e" class="no mo it bd mp np nq dn mt nr ns dp mx li nt nu mz lm nv nw nb lq nx ny nd nz bi translated">链接</h2><p id="f7d1" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">正如所承诺的，有一些更高层次的概念使Adze与众不同，这是我认为的主要概念。一旦你有了一个工厂或修改器，它就变成了一个可链接的API，这意味着你可以这样做:</p><pre class="kj kk kl km gt oa nn ob oc aw od bi"><span id="14a8" class="no mo it nn b gy oe of l og oh">adze().label('my-label').namespace('my-ns').timestamp.count.info("my info");</span><span id="0224" class="no mo it nn b gy oi of l og oh">adze().label('my-label').namespace('my-ns').timestamp.count.info("my info");</span><span id="9bd4" class="no mo it nn b gy oi of l og oh">// Output: <br/>// Info(1) 2022-10-25T16:33:43-4:00 #my-ns [my-label] <!-- -->(Count: 1) my info<br/>// Info(1) 2022-10-25T16:33:44-4:00 #my-ns [my-label] <!-- -->(Count: 2) my info</span></pre><h1 id="f15f" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">开发人员如何在典型的应用程序中使用它？</h1><p id="01a7" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">我将简要介绍我是如何在React Native + Typescript应用程序中使用Adze JS的。首先，我将它作为一个依赖项安装:</p><pre class="kj kk kl km gt oa nn ob oc aw od bi"><span id="1a71" class="no mo it nn b gy oe of l og oh"># NPM<br/>$ npm install --save adze</span><span id="54d5" class="no mo it nn b gy oi of l og oh"># Yarn<br/>$ yarn add adze</span></pre><p id="7a0b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我的例子中，我将创建一个处理所有日志逻辑并可扩展的类。</p><pre class="kj kk kl km gt oa nn ob oc aw od bi"><span id="bad2" class="no mo it nn b gy oe of l og oh">import { adze, createShed, Constraints } from 'adze';<br/>import { Log } from 'adze/dist/log';<br/>import { Shed } from 'adze/dist/shed';<br/><br/>export default class LoggerClass {<br/>  shed: Shed;<br/>  logger: Log&lt;Constraints&gt;;<br/><br/>  constructor() {<br/>    this.shed = createShed();<br/><br/>    this.shed.addListener('*', (data, render, printed) =&gt; {<br/>      if (printed) {<br/>        // TODO: Send to AWS CloudWatch here<br/>      }<br/>    });<br/><br/>    const sealed = adze({<br/>      logLevel: 8,<br/>      useEmoji: true,<br/>    }).seal();<br/><br/>    this.logger = sealed().namespace(new.target.name);<br/>  }<br/><br/>  error(message: string): Error {<br/>    this.logger.error(message);<br/>    throw new Error(message);<br/>  }<br/><br/>  logGroup(messages: string[]) {<br/>    if (messages.length &lt; 1) return;<br/>    if (messages.length === 1) return this.logger.group.log(messages[0]);<br/>    const [first, ...rest] = messages;<br/>    this.logger.groupCollapsed.log(first);<br/>    rest.forEach(this.logger.log);<br/>    this.logger.groupEnd.log();<br/>  }<br/><br/>  logTime(message: string) {<br/>    this.logger.timeNow.log(message);<br/>  }<br/><br/>  logAssert(assertion: boolean, message: string) {<br/>    this.logger.assert(assertion).log(message);<br/>  }<br/><br/>  logTable(tabularData: [{ [key: string]: any }]) {<br/>    this.logger.table.log(tabularData);<br/>  }<br/>}</span></pre><p id="56c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我可以扩展这个类并进行一些日志记录，而不必每次都进行大量的设置:</p><pre class="kj kk kl km gt oa nn ob oc aw od bi"><span id="5512" class="no mo it nn b gy oe of l og oh">import Deck from "./Deck";<br/>import Square from "../types/Square";<br/>import LoggerClass from "./LoggerClass";<br/>import { CardArray, CardName } from "../types/CardName";<br/><br/>const DECK_SIZE = 54;<br/>const NUM_ROWS = 4;<br/>const NUM_COLUMNS = 4;<br/><br/><br/>export default class Board extends LoggerClass {<br/>  private squares: Square[];<br/><br/>  constructor() {<br/>    super();<br/><br/>    if (CardArray.length !== DECK_SIZE) this.error('Not Enough Cards');<br/>    this.squares = [];<br/>    const arr: CardName[] = Deck.sortRandomly&lt;CardName&gt;([...CardArray]);<br/>    for (let row = 1; row &lt;= NUM_ROWS; row++) {<br/>      for (let column = 1; column &lt;= NUM_COLUMNS; column++) {<br/>        this.squares.push({<br/>          row,<br/>          column,<br/>          cardType: arr.pop(),<br/>        });<br/>      }<br/>    }<br/>  }</span><span id="58a3" class="no mo it nn b gy oi of l og oh"> ...</span><span id="3960" class="no mo it nn b gy oi of l og oh">}</span></pre><h1 id="087e" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">这太棒了，有办法为开源项目做贡献吗？</h1><p id="94e1" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">如果你一直梦想在简历中加入开源项目的贡献，现在是你的机会了。</p><div class="lv lw gp gr lx ly"><a href="https://github.com/AJStacy/adze" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">GitHub - AJStacy/adze:一个用于塑造JavaScript日志的库。</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">请访问我们在adzejs.com的官方文件。Adze -一种切割工具...主要用于塑造木材…</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">github.com</p></div></div><div class="mh l"><div class="oj l mj mk ml mh mm ks ly"/></div></div></a></div><p id="f01f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里有一个未决问题的列表:<a class="ae ky" href="https://github.com/AJStacy/adze/issues" rel="noopener ugc nofollow" target="_blank">https://github.com/AJStacy/adze/issues</a>。请务必遵循投稿指南。创建一个分支，并在准备就绪时打开一个合并请求。</p></div></div>    
</body>
</html>