<html>
<head>
<title>The easiest way to improve your Vue.js application — Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">改进Vue.js应用程序的最简单方法—第1部分</h1>
<blockquote>原文：<a href="https://itnext.io/the-easiest-way-to-improve-your-vue-js-application-part-1-5b48d239f4c9?source=collection_archive---------7-----------------------#2018-08-22">https://itnext.io/the-easiest-way-to-improve-your-vue-js-application-part-1-5b48d239f4c9?source=collection_archive---------7-----------------------#2018-08-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/c0287d212219cbad53604fa805c2c38b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D7MQdCpXFeQzv9VpqKOdSg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae kc" href="https://www.adcisolutions.com/?utm_source=medium&amp;utm_medium=referral&amp;utm_campaign=medium-prerendering-mainwebsite&amp;utm_content=medium-prerendering" rel="noopener ugc nofollow" target="_blank">由ADCI解决</a></figcaption></figure><p id="256e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> Vue.js </strong>是一个开发不同类型网络应用的伟大框架，然而，它有一个关于<strong class="kf ir"> SEO </strong>的问题:一个应用的异步内容不能被搜索引擎机器人最优地抓取，所以这可能是你的业务的一个巨大问题。在本文中，我们将告诉您解决这个问题的最简单的方法之一，同时提高您的应用程序的UX。是的，我们将讨论预渲染。</p><p id="4fb2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">预呈现是预加载页面上的所有元素并生成单页应用程序的静态HTML的过程。</p><h1 id="207a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">预渲染的优势</h1><p id="9a20" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">使用<strong class="kf ir">预渲染</strong>有以下好处:</p><ol class=""><li id="2ecc" class="me mf iq kf b kg kh kk kl ko mg ks mh kw mi la mj mk ml mm bi translated">SEO。是的，最后，我们可以解决具有异步数据的站点的SEO问题:所有这样的数据将在爬虫将索引你的站点之前被预加载。</li><li id="a549" class="me mf iq kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">加速页面内容加载。用户甚至可以在整个JavaScript加载之前访问您的应用程序，这大大提高了应用程序的UX。没有人喜欢等很长时间。</li><li id="8f1f" class="me mf iq kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">廉价优雅的退化。这一点遵循前一点。现在，即使是旧浏览器的用户或使用禁用JS或慢速设备的用户也可以访问您的应用程序。当然，他们不能完全与它互动，但他们可以访问重要的信息，而不是看到一个空白的页面。</li><li id="3090" class="me mf iq kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">丰富的预览。所有唯一的OpenGraph元数据现在都被正确预取。在脸书和其他社交网站上分享你的网站，以扩大目标受众。</li></ol><p id="5696" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Vue官方文档建议使用prerender-spa-plugin进行预渲染。通常，该插件执行以下步骤:</p><ol class=""><li id="a7da" class="me mf iq kf b kg kh kk kl ko mg ks mh kw mi la mj mk ml mm bi translated">它创建一个Phantom JS实例并运行应用程序。</li><li id="5a29" class="me mf iq kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">拍摄DOM的快照。</li><li id="c4f9" class="me mf iq kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">将快照输出到我们的构建文件夹中的HTML文件。</li></ol><p id="109d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">好吧，让我们看看它在实践中是如何工作的。</p><h1 id="c703" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">练习:在Vue.js应用程序中进行预渲染</h1><p id="a32e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">为了演示，我将使用我们上一篇关于单页面Vue应用程序的文章<a class="ae kc" href="https://www.adcisolutions.com/knowledge/how-build-single-page-application-spa-vuejs?utm_source=medium&amp;utm_medium=referral&amp;utm_campaign=medium-prerendering-spa-vue-article&amp;utm_content=medium-prerendering" rel="noopener ugc nofollow" target="_blank">中创建的应用程序。熟悉这个项目，并按照文章中的指南开始构建一个简单的SPA，或者，如果您现在想继续，只需克隆repo并跳到该指南中的步骤4:</a></p><figure class="ms mt mu mv gt jr"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="0b7a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在安装插件:</p><figure class="ms mt mu mv gt jr"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="7646" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">之后，我们需要为正确的工作配置插件。让我们转到webpack.conf.js并添加以下设置:</p><figure class="ms mt mu mv gt jr"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="b71e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里我们指定一个目录，我们想从这个目录中获取一个页面进行预渲染。在我们的例子中，这是根目录。此外，我们应该添加一个我们想要预渲染的路线列表。出于演示目的，我将只选取前四篇帖子。</p><p id="74c2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还应该考虑到我们是异步获取数据的，所以如果我们继续按照这种方法构建应用程序，我们将得到一个没有内容的HTML。为了解决这个问题，插件提供了以下三个选项(查看文档以了解更多信息):</p><figure class="ms mt mu mv gt jr"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="bb07" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">就这些了，伙计们！现在，如果我们构建应用程序，我们会得到一个预先呈现的HTML。你可以在我们的作品集里用Vue.js看看真正的项目。</p><p id="28ea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果想管理元数据，可以使用Vue的一个可用插件，例如vue-meta。例如，让我们为每个页面添加一个独特的标题。我们需要为此安装插件。</p><figure class="ms mt mu mv gt jr"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="0f5d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将其添加到main.js中</p><figure class="ms mt mu mv gt jr"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="c37f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并将以下内容插入src/components/Post.vue</p><figure class="ms mt mu mv gt jr"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="62d0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这足以使应用程序的内容被索引，并且对于禁用JavaScript的用户也是可用的。现在搜索引擎和社交网络可以读取我们网站的元信息。此外，我们成功地减少了FMP的加载时间(第一次有意义的绘制)，浏览器不会等待JavaScript的完全加载，而是在HTML加载后立即开始渲染页面。因此，用户可以更早地从我们的网站接收信息。</p><h1 id="b7cc" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">当您不需要预渲染时</h1><p id="20e1" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">在构建步骤中使用简单的插件prerender-spa-plugin，您可以轻松地改进搜索引擎优化，并为您的Vue应用程序创建更好的用户体验。不幸的是，很少有不适合使用预渲染的情况。</p><ol class=""><li id="35cc" class="me mf iq kf b kg kh kk kl ko mg ks mh kw mi la mj mk ml mm bi translated">特定于用户的内容:某些页面的内容，例如用户资料页面的内容，应该只为特定的用户显示。在构建步骤中，我们不知道谁会打开这个页面，所以我们不能预渲染它。无论如何，如果我们做到了，我们将向所有人公开用户的私人信息。</li><li id="a7e5" class="me mf iq kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">经常变化的内容:如果你在聊天、在线交易应用程序或实时游戏中工作，内容必须总是相关的，使用预渲染可能是无效的，因为它会显示旧的内容，直到客户端JS接管最新的数据。作为一个潜在的解决方案，您可以将您的构建设置为在每次数据更改时重新预呈现，或者频繁地确保内容是相关的。但是对于服务器来说，这可能非常消耗资源。对于更新频率甚至超过每分钟一次的数据，您应该避免预呈现。</li><li id="e003" class="me mf iq kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">大量的路由:预渲染成千上万的路由并不是一个好主意，因为这会花费大量的时间来构建您的应用程序。</li></ol><p id="0f84" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这些情况下，最好的方法是使用服务器端呈现，这将在以后的文章中介绍。</p><h1 id="39f1" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">有用的链接</h1><p id="5dd3" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">1.<a class="ae kc" href="https://ssr.vuejs.org/en/#ssr-vs-prerendering" rel="noopener ugc nofollow" target="_blank">Vue官方文档</a> <br/> 2。<a class="ae kc" href="https://github.com/chrisvfritz/prerender-spa-plugin" rel="noopener ugc nofollow" target="_blank">Prerender SPA插件文档</a> <br/> 3。Drupal 8中的RESTful Web服务:快速入门指南。<a class="ae kc" href="https://www.adcisolutions.com/knowledge/how-create-headless-drupal-site?utm_source=adci-website&amp;utm_medium=knowledge&amp;utm_campaign=knowledge-spa-vue.js&amp;utm_term=none&amp;utm_content=useful-links-headless-drupal-site" rel="noopener ugc nofollow" target="_blank">如何创建一个无头的Drupal站点</a> <br/> 5。<a class="ae kc" href="https://www.adcisolutions.com/knowledge/whats-difference-between-single-page-application-and-multi-page-application" rel="noopener ugc nofollow" target="_blank">单页应用和多页应用有什么区别？</a> <br/> 6。<a class="ae kc" href="https://www.adcisolutions.com/knowledge/how-build-single-page-application-spa-vuejs" rel="noopener ugc nofollow" target="_blank">如何用Vue.js构建单页面应用(SPA)</a></p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><p id="8d41" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">作者是Dmitry Chuchin，ADCI解决方案公司的前端开发人员。此外，他还努力通过教授开发新手和在教育活动中发表演讲来分享他的经验。此外，他喜欢滑雪和山地自行车。</p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><p id="9b92" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="nf">最初发布于</em><a class="ae kc" href="https://www.adcisolutions.com/knowledge/easiest-way-improve-your-vuejs-application-part-1?utm_source=medium&amp;utm_medium=referral&amp;utm_campaign=medium-prerendering-article&amp;utm_content=medium-prerendering" rel="noopener ugc nofollow" target="_blank"><em class="nf">ADCI解决方案网站。</em>T25】</a></p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><figure class="ms mt mu mv gt jr gh gi paragraph-image"><div class="ab gu cl ng"><img src="../Images/73bcb62bbfda355e913e5b86e2193e46.png" data-original-src="https://miro.medium.com/v2/format:webp/1*5kC2KhUXG-R8C8-59J1RCA.png"/></div></figure><p id="f79a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">在社交网络上关注我们:</strong> <a class="ae kc" href="https://twitter.com/ADCISolutions" rel="noopener ugc nofollow" target="_blank"> Twitter </a> | <a class="ae kc" href="https://www.facebook.com/adcisolutions/" rel="noopener ugc nofollow" target="_blank">脸书</a> | <a class="ae kc" href="https://www.linkedin.com/company/adci-solutions/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a></p><div class="nh ni gp gr nj nk"><a href="https://codeburst.io/visual-regression-testing-with-backstopjs-bc749615191a" rel="noopener follow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd ir gy z fp np fr fs nq fu fw ip bi translated">用BackstopJS进行可视化回归测试</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">项目越大，每次变更后花在回归测试上的时间就越多。BackstopJS是一种工具，它…</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">codeburst.io</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny jw nk"/></div></div></a></div><figure class="ms mt mu mv gt jr"><div class="bz fp l di"><div class="nz mx l"/></div></figure></div></div>    
</body>
</html>