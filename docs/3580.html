<html>
<head>
<title>Master Your Network With Unix Command Line Tools</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Unix命令行工具掌控您的网络</h1>
<blockquote>原文：<a href="https://itnext.io/master-your-network-with-unix-command-line-tools-790bdd3b3b87?source=collection_archive---------3-----------------------#2020-01-12">https://itnext.io/master-your-network-with-unix-command-line-tools-790bdd3b3b87?source=collection_archive---------3-----------------------#2020-01-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="44a1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">基于UNIX/OSX命令行网络工具，用于分析、配置和控制您的网络。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d1c8b24c75fa678409ea02a352813e84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QzupcKLU0n3jwx9RSX6bew.jpeg"/></div></div></figure><h1 id="91b9" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">基于Unix的系统中的网络</h1><p id="2817" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated"><strong class="lo iu"> Linux </strong>和其他<strong class="lo iu">基于Unix的</strong>操作系统是许多<strong class="lo iu">网络</strong>开发&amp;系统管理被执行的地方。熟悉你的网络学习&amp;使用一些最流行的<strong class="lo iu">网络工具用于基于<strong class="lo iu"> Unix的</strong>系统。</strong></p><p id="f9bd" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">使用他们提供的信息来<strong class="lo iu">改进</strong>、<strong class="lo iu">诊断</strong>或<strong class="lo iu">了解</strong>您的系统网络。</p><blockquote class="mn mo mp"><p id="84ed" class="lm ln mq lo b lp mi ju lr ls mj jx lu mr mk lx ly ms ml mb mc mt mm mf mg mh im bi translated">无论你是使用你的<strong class="lo iu">家庭网络</strong>还是使用<strong class="lo iu">系统</strong>来配置和设置<strong class="lo iu">网络</strong>，你都应该在这些工具中找到价值。</p></blockquote><p id="37ff" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">其中一些是内置的工具，只需一个命令就可以运行。其他的需要<strong class="lo iu">下载</strong>和<strong class="lo iu">安装，</strong>在Linux上经常和<code class="fe mu mv mw mx b">apt-get</code>在一起，<code class="fe mu mv mw mx b">brew</code>在MacOS (OSX)上，通过<code class="fe mu mv mw mx b">git</code>或者<code class="fe mu mv mw mx b">pip</code>。</p><h1 id="39f8" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">转速试验🚀</h1><p id="8002" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated"><a class="ae my" href="https://github.com/sivel/speedtest-cli" rel="noopener ugc nofollow" target="_blank"> Speedtest-cli </a>是使用speedtest.net测试互联网带宽的命令行界面。它将在<strong class="lo iu">位</strong>或<strong class="lo iu">字节</strong>中确定<strong class="lo iu">下载</strong> &amp; <strong class="lo iu">上传</strong>的速度。</p><blockquote class="mn mo mp"><p id="ef8c" class="lm ln mq lo b lp mi ju lr ls mj jx lu mr mk lx ly ms ml mb mc mt mm mf mg mh im bi translated"><strong class="lo iu">慢网飞？</strong></p></blockquote><p id="ad29" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><code class="fe mu mv mw mx b">speedtest-cli</code>可能持有关键(<strong class="lo iu">虽然不是解决方案，</strong>那可能是你已经打开的28个chrome标签)。</p><h2 id="e873" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">使用Pip (Python包管理器)轻松安装</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="eb43" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> pip install speedtest-cli</span></pre><h2 id="ece0" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">通过Git下载+安装</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="1eb8" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> git clone https://github.com/sivel/speedtest-cli.git<br/><strong class="mx iu">$</strong> cd speedtest-cli<br/><strong class="mx iu">$</strong> python setup.py install</span></pre><h2 id="88f5" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">通过自制软件下载+安装</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="eb9c" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> brew install speedtest-cli</span></pre><h2 id="8cf2" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">以字节为单位获取速度</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="2ab9" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> speedtest-cli --bytes</span></pre><h1 id="41e8" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">带ip的网络接口(类似于过时的ifconfig)</h1><p id="553c" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated"><a class="ae my" href="https://linux.die.net/man/8/ip" rel="noopener ugc nofollow" target="_blank"> ip </a>允许配置网络接口，显示Unix/Linux/OSX系统上运行的所有当前接口的信息。</p><p id="b19f" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu">可以:</strong></p><ul class=""><li id="ac23" class="nt nu it lo b lp mi ls mj lv nv lz nw md nx mh ny nz oa ob bi translated">设置一个ip地址，<strong class="lo iu">网络掩码</strong>或<strong class="lo iu">向网络接口广播</strong>地址</li><li id="c201" class="nt nu it lo b lp oc ls od lv oe lz of md og mh ny nz oa ob bi translated">为网络接口创建一个<strong class="lo iu">别名</strong></li><li id="3d0d" class="nt nu it lo b lp oc ls od lv oe lz of md og mh ny nz oa ob bi translated">设置<strong class="lo iu">硬件</strong>地址</li><li id="b8d6" class="nt nu it lo b lp oc ls od lv oe lz of md og mh ny nz oa ob bi translated">启用或禁用网络<strong class="lo iu">接口</strong>。</li></ul><h2 id="887c" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">查看与所有接口相关的信息</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="13bb" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> sudo ip addr show</span></pre><h2 id="663f" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">隔离特定网络接口以显示信息</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="1721" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> sudo ip eth0</span></pre><h2 id="13ba" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">显示路由表</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="ad9d" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> sudo ip route show</span></pre><h2 id="e12f" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">删除IP地址</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="c794" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> sudo ip addr del 192.168.50.5/24 dev eth0</span></pre><h2 id="e4c3" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">打开接口(如果接口关闭)</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="73be" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> ifup eth0</span></pre><h2 id="cd0f" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">关闭接口(如果接口打开)</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="4e2a" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> ifdown eth0</span></pre><h1 id="14cf" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">追踪路线</h1><p id="b4bd" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">显示路由(路径)并测量数据包的传输延迟。它提供了连接到远程系统的路径列表(它连接到哪些路由器)。本例中的远程系统是<code class="fe mu mv mw mx b">google.com</code>。</p><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="529b" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> traceroute google.com</span></pre><h1 id="daaf" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">Iftop</h1><p id="6748" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated"><a class="ae my" href="http://www.ex-parrot.com/pdw/iftop/" rel="noopener ugc nofollow" target="_blank"> Iftop </a>是一款流行的linux工具，可以让你<strong class="lo iu">监控</strong>带宽使用情况。它是对系统网络进程的<strong class="lo iu">实时</strong>分析。</p><blockquote class="mn mo mp"><p id="0ef3" class="lm ln mq lo b lp mi ju lr ls mj jx lu mr mk lx ly ms ml mb mc mt mm mf mg mh im bi translated">如果您想知道哪些进程占用了网络并想诊断任何问题，这是很有用的。</p></blockquote><h2 id="6697" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">家酿啤酒(MacOS)也有售</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="7f02" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> brew install iftop</span></pre><h2 id="0550" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">安装依赖项</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="fc52" class="mz kv it mx b gy np nq l nr ns">[Debian/Ubuntu]</span><span id="cd73" class="mz kv it mx b gy oh nq l nr ns"><strong class="mx iu">$</strong> sudo apt install libpcap0.8 libpcap0.8-dev libncurses5 libncurses5-dev</span><span id="c26c" class="mz kv it mx b gy oh nq l nr ns">[CentOS/RHEL]</span><span id="991d" class="mz kv it mx b gy oh nq l nr ns"><strong class="mx iu">$</strong> yum  -y install libpcap libpcap-devel ncurses ncurses-devel</span></pre><h2 id="bfb4" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">下载并安装iftop</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="4260" class="mz kv it mx b gy np nq l nr ns">[Debian/Ubuntu]</span><span id="f4ce" class="mz kv it mx b gy oh nq l nr ns"><strong class="mx iu">$</strong> sudo apt install iftop</span><span id="efe1" class="mz kv it mx b gy oh nq l nr ns">[CentOS/RHEL]<br/>Note: you need to enable the <a class="ae my" href="https://www.tecmint.com/how-to-enable-epel-repository-for-rhel-centos-6-5/" rel="noopener ugc nofollow" target="_blank">EPEL repository</a> first</span><span id="90c8" class="mz kv it mx b gy oh nq l nr ns"><strong class="mx iu">$</strong> yum install epel-release<br/><strong class="mx iu">$</strong> yum install  iftop</span></pre><h2 id="db95" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">使用</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="f56e" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> sudo iftop</span></pre><h2 id="8465" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">使用ifconfig监控接口</h2><p id="1b37" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">首先，您想找到要监视的接口标识符…</p><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="4f98" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> sudo ifconfig</span></pre><p id="c18c" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">然后用<code class="fe mu mv mw mx b">-i</code>将该接口传递给iftop命令</p><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="5ed3" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> sudo iftop -i en0</span></pre><h2 id="bb33" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">打开端口显示</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="3b54" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> sudo iftop -P eth0</span></pre><h1 id="0654" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">悬浮物</h1><p id="368e" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">用于<strong class="lo iu">调查插座</strong>的实用程序。它显示带有<strong class="lo iu">路由表</strong>、<strong class="lo iu">接口</strong>统计、<strong class="lo iu">伪装</strong>连接和<strong class="lo iu">组播</strong>成员的网络连接信息。它给你所有的<strong class="lo iu"> tcp </strong>、<strong class="lo iu"> udp </strong>和<strong class="lo iu"> unix </strong>套接字连接的有组织的信息。</p><h2 id="0f96" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">显示所有插座</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="1f24" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> ss -a</span></pre><h2 id="b961" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">显示所有TCP套接字</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="5af8" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> ss <strong class="mx iu">-t -a</strong></span></pre><h2 id="9805" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">显示所有UDP套接字</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="d0a5" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> ss <strong class="mx iu">-u -a</strong></span></pre><p id="43f7" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">显示所有已建立的SSH连接</p><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="2150" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$ </strong>ss<strong class="mx iu"> -o state established '( dport = :ssh or sport = :ssh )'</strong></span></pre><blockquote class="mn mo mp"><p id="7107" class="lm ln mq lo b lp mi ju lr ls mj jx lu mr mk lx ly ms ml mb mc mt mm mf mg mh im bi translated">ss的强大之处在于能够使用TCP状态进行过滤，TCP状态是TCP连接在其生命周期中的各个阶段。</p></blockquote><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="cc27" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> ss -4 state &lt;FILTER&gt;</span></pre><p id="6be4" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">因此，您可以用过滤器的实际名称来替换<code class="fe mu mv mw mx b">&lt;FILTER&gt;</code>,比如<code class="fe mu mv mw mx b">ss -4 state listening</code>,以查看机器上所有侦听的ipv4套接字。</p><h1 id="b321" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">Vnstat</h1><p id="6fa6" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">是一个<strong class="lo iu">网络流量监视器</strong>，它记录特定接口的网络流量。Vnstat本身实际上并不“T28”嗅探流量，它使用<strong class="lo iu">内核</strong>提供的关于网络的信息。因此，它被认为是一个低CPU使用率的<strong class="lo iu">轻量级进程/应用程序</strong>。</p><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="3a57" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> vnstat --help</span></pre><h2 id="0d2d" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">显示5分钟的网络流量</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="03f6" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> vnstat -5</span></pre><h2 id="1be5" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">选择一个接口</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="ad7a" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> vnstat -i eth0 -5</span></pre><h2 id="8509" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">启动</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="a54b" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> vnstat -l</span></pre><h1 id="02d1" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">Nettop</h1><p id="5fc9" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated"><a class="ae my" href="http://www.manpagez.com/man/1/nettop/" rel="noopener ugc nofollow" target="_blank"> Nettop </a>随MacOS (OSX)发货，通过一列<strong class="lo iu">套接字或路由</strong>显示更新的网络<strong class="lo iu">结构</strong>。它向与系统进程/应用程序的<strong class="lo iu">套接字</strong>连接提供信息。您还可以查看正在连接的<strong class="lo iu">远程地址</strong>。</p><h2 id="f09a" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">它有<strong class="ak"> 3 </strong>种模式</h2><ul class=""><li id="7443" class="nt nu it lo b lp lq ls lt lv oi lz oj md ok mh ny nz oa ob bi translated">传输控制协议（Transmission Control Protocol）</li><li id="356f" class="nt nu it lo b lp oc ls od lv oe lz of md og mh ny nz oa ob bi translated">用户数据报协议(User Datagram Protocol)</li><li id="2ebb" class="nt nu it lo b lp oc ls od lv oe lz of md og mh ny nz oa ob bi translated">途径</li></ul><p id="3a01" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">使用不太密集的<code class="fe mu mv mw mx b">-c</code>选项，更新不太频繁。您也可以在程序运行时用<code class="fe mu mv mw mx b">p</code>切换“人类可读数字”。</p><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="30e4" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> nettop <strong class="mx iu">-m tcp</strong></span></pre><blockquote class="mn mo mp"><p id="a17a" class="lm ln mq lo b lp mi ju lr ls mj jx lu mr mk lx ly ms ml mb mc mt mm mf mg mh im bi translated">模式由<code class="fe mu mv mw mx b">-m</code>标志指定</p></blockquote><h1 id="a9e3" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">Nmap</h1><p id="0077" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">Nmap功能强大。它是网络安全专业人员在<strong class="lo iu">道德黑客</strong> &amp; <strong class="lo iu">渗透测试</strong>和网络管理中使用的网络<strong class="lo iu">发现</strong>和安全<strong class="lo iu">审计</strong>工具。</p><p id="e7e8" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">你可以用<strong class="lo iu">防火墙</strong>，包过滤<strong class="lo iu">监控</strong>主机和正常运行时间，<strong class="lo iu">端口</strong>扫描，<strong class="lo iu">检测</strong>操作系统&amp;服务版本，监控主机。它可以快速扫描大型网络或单个主机。</p><blockquote class="mn mo mp"><p id="d7e2" class="lm ln mq lo b lp mi ju lr ls mj jx lu mr mk lx ly ms ml mb mc mt mm mf mg mh im bi translated">Nmap可以在所有主要的计算机操作系统上运行，官方的二进制软件包可以用于Linux、Windows和Mac OS X。</p></blockquote><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="cb8a" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> nmap</span></pre><p id="3f49" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">如果你喜欢图形用户界面，那么你可以下载<strong class="lo iu"> Zenmap，</strong>它是<strong class="lo iu"> nmap </strong>，但是有一个(不太漂亮的)图形用户界面。这对你学习<strong class="lo iu">技术</strong>和<strong class="lo iu">命令</strong>很有用，你最终可以记住并使用命令行。</p><h2 id="cd93" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">发现子网中的IP</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="13e3" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> nmap -sP 192.168.0.0/24</span></pre><h2 id="b6a8" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">通过Syn和UDP端口识别TCP(Root权限)</h2><p id="9d32" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated"><code class="fe mu mv mw mx b">-Pn</code>无ping(在防火墙阻止icmp回复时有用)</p><p id="47a8" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><code class="fe mu mv mw mx b">-sS</code> TCP同步扫描(隐形)</p><p id="7594" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><code class="fe mu mv mw mx b">-sU</code> UDP扫描</p><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="fa63" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu"><em class="mq">$</em></strong><em class="mq"> nmap -sS -sU -Pn 192.168.0.164</em></span></pre><blockquote class="mn mo mp"><p id="1b79" class="lm ln mq lo b lp mi ju lr ls mj jx lu mr mk lx ly ms ml mb mc mt mm mf mg mh im bi translated">这将检查前2000个TCP和UDP端口。</p></blockquote><h2 id="93e3" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">T4 —更具侵略性的扫描</h2><p id="dad7" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">这是使用T4预设，这是更明显，但也快得多。</p><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="86bc" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> nmap -T4 -A 192.168.0.0/24</span></pre><h1 id="f382" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">Tcpdump数据包嗅探器</h1><p id="fbc7" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated"><a class="ae my" href="https://www.tcpdump.org/manpages/tcpdump.1.html" rel="noopener ugc nofollow" target="_blank"> TCP包分析器</a>，它根据布尔表达式为<strong class="lo iu">接口</strong>打印出<strong class="lo iu">包</strong>的内容。</p><p id="e730" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">它打印出:</p><ul class=""><li id="ab01" class="nt nu it lo b lp mi ls mj lv nv lz nw md nx mh ny nz oa ob bi translated"><strong class="lo iu">捕获了</strong>数据包</li><li id="7bb8" class="nt nu it lo b lp oc ls od lv oe lz of md og mh ny nz oa ob bi translated">由<strong class="lo iu">过滤器</strong>接收的数据包<strong class="lo iu">(有时不可预测，取决于操作系统)</strong></li><li id="c08e" class="nt nu it lo b lp oc ls od lv oe lz of md og mh ny nz oa ob bi translated">数据包<strong class="lo iu">被丢弃</strong>，通常是由于<em class="mq"> tcpdump </em>正在运行的操作系统中的数据包捕获机制<strong class="lo iu">缺少缓冲区大小</strong>。</li></ul><blockquote class="mn mo mp"><p id="2f5f" class="lm ln mq lo b lp mi ju lr ls mj jx lu mr mk lx ly ms ml mb mc mt mm mf mg mh im bi translated">需要root权限</p></blockquote><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="3cec" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> sudo tcpdump</span></pre><h2 id="5834" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">打印既不是来自也不是发往本地主机的流量</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="cd35" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$ tcpdump ip and not net </strong><em class="mq">localnet</em></span></pre><h2 id="9465" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">打印不是通过以太网广播或组播发送的IP广播或组播数据包</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="5f49" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$ </strong>tcpdump 'ether[0] &amp; 1 = 0 and ip[16] &gt;= 224'</span></pre><h1 id="616b" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">网络结构</h1><p id="83f7" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">使用<code class="fe mu mv mw mx b">networksetup</code>、用于<strong class="lo iu">系统偏好</strong>的<strong class="lo iu">配置</strong>工具来配置您的网络</p><blockquote class="mn mo mp"><p id="95c2" class="lm ln mq lo b lp mi ju lr ls mj jx lu mr mk lx ly ms ml mb mc mt mm mf mg mh im bi translated">需要管理员权限。</p></blockquote><h2 id="aa35" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">显示位置列表</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="d102" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> sudo networksetup -listlocations</span></pre><h2 id="11ff" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">获取当前位置</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="f136" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> sudo networksetup -getcurrentlocation</span></pre><h2 id="da31" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">开关位置</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="fe74" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> sudo networksetup -switchlocation Work</span></pre><h2 id="010b" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">设置手动静态IP</h2><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="6916" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> sudo networksetup -setmanual Wi-Fi 10.0.0.2 255.255.255.0 10.0.0.1</span></pre><h1 id="29bc" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">机场连接信息(MacOS)</h1><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="a707" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> /System/Library/PrivateFrameworks/Apple80211.framework/Versions/A/Resources/airport -I</span></pre><h1 id="04a6" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">安全审计</h1><h2 id="6e0a" class="mz kv it bd kw na nb dn la nc nd dp le lv ne nf lg lz ng nh li md ni nj lk nk bi translated">琳妮丝</h2><p id="9406" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">被描述为基于unix系统的<a class="ae my" href="https://github.com/CISOfy/lynis" rel="noopener ugc nofollow" target="_blank">经实战检验的<strong class="lo iu">安全</strong>工具</a>，它将执行<strong class="lo iu">广泛的</strong>系统安全<strong class="lo iu">健康</strong>扫描。如果您的目标是系统<strong class="lo iu">硬化</strong>和<strong class="lo iu">符合性</strong>测试，那么这是理想的选择。</p><p id="6bba" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu">典型用例</strong></p><ul class=""><li id="55fb" class="nt nu it lo b lp mi ls mj lv nv lz nw md nx mh ny nz oa ob bi translated">安全审计</li><li id="8cc4" class="nt nu it lo b lp oc ls od lv oe lz of md og mh ny nz oa ob bi translated">合规性测试(例如PCI、HIPAA、SOx)</li><li id="ae31" class="nt nu it lo b lp oc ls od lv oe lz of md og mh ny nz oa ob bi translated">渗透测试</li><li id="a933" class="nt nu it lo b lp oc ls od lv oe lz of md og mh ny nz oa ob bi translated">漏洞检测</li><li id="50ca" class="nt nu it lo b lp oc ls od lv oe lz of md og mh ny nz oa ob bi translated">系统硬化</li></ul><blockquote class="mn mo mp"><p id="0eae" class="lm ln mq lo b lp mi ju lr ls mj jx lu mr mk lx ly ms ml mb mc mt mm mf mg mh im bi translated">Lynis是模块化和机会主义的，这意味着它将运行特定于主机系统和可用软件的测试。Lynis将根据其发现进行具体测试。</p></blockquote><pre class="kj kk kl km gt nl mx nm nn aw no bi"><span id="f52e" class="mz kv it mx b gy np nq l nr ns"><strong class="mx iu">$</strong> git clone <a class="ae my" href="https://github.com/CISOfy/lynis" rel="noopener ugc nofollow" target="_blank">https://github.com/CISOfy/lynis</a></span><span id="d30d" class="mz kv it mx b gy oh nq l nr ns"><strong class="mx iu">$</strong> cd lynis; ./lynis audit system</span></pre><blockquote class="om"><p id="c288" class="on oo it bd op oq or os ot ou ov mh dk translated">当然，还有许多其他流行/有效的网络工具！但这是我经历过的一些例子。</p></blockquote><h2 id="ced7" class="mz kv it bd kw na ow dn la nc ox dp le lv oy nf lg lz oz nh li md pa nj lk nk bi translated">如果你知道任何对你的工作重要的高质量的网络工具，请告诉我！</h2></div></div>    
</body>
</html>