<html>
<head>
<title>EKS and the quest for IP addresses: Secondary CIDR ranges and private NAT gateways</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">EKS和IP地址的探索:二级CIDR范围和私有NAT网关</h1>
<blockquote>原文：<a href="https://itnext.io/eks-and-the-quest-for-ip-addresses-secondary-cidr-ranges-and-private-nat-gateways-1f5c69473a40?source=collection_archive---------2-----------------------#2022-02-11">https://itnext.io/eks-and-the-quest-for-ip-addresses-secondary-cidr-ranges-and-private-nat-gateways-1f5c69473a40?source=collection_archive---------2-----------------------#2022-02-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><h1 id="b7c4" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">EKS及其对IP地址的渴求</h1><p id="6659" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">Kubernetes允许以相似的工作量运行高度多样化的工作负载。从用户的角度来看，在一个节点上运行2个pod(每个消耗2个vCPU)和运行数十个pod(每个消耗0.05个vCPU)没有什么区别。然而，看看网络，有一个很大的不同:每个pod需要有一个唯一的IP地址。在大多数Kubernetes实现中，有一个CNI插件，它在集群内部的IP空间中为每个pod分配一个IP地址。</p><p id="e1d4" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">EKS，AWS管理的Kubernetes产品，<a class="ae lp" href="https://docs.aws.amazon.com/eks/latest/userguide/pod-networking.html" rel="noopener ugc nofollow" target="_blank">默认</a>使用<a class="ae lp" href="https://github.com/aws/amazon-vpc-cni-k8s" rel="noopener ugc nofollow" target="_blank">亚马逊VPC CNI插件用于Kubernetes </a>。与大多数网络实现不同，这在节点所在的网络VPC中为每个pod分配一个专用的IP地址。</p><p id="1b1b" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">VPC·CNI插件做的事情可以归结为:</p><ul class=""><li id="7f42" class="lq lr iq kn b ko lk ks ll kw ls la lt le lu li lv lw lx ly bi translated">它在每个节点上保持一些网络接口(Eni)和IP地址“热”，以便能够快速将IP地址分配给新的pod。</li><li id="d593" class="lq lr iq kn b ko lz ks ma kw mb la mc le md li lv lw lx ly bi translated">默认情况下，它可以保持整个备用ENI的温度。</li><li id="6e30" class="lq lr iq kn b ko lz ks ma kw mb la mc le md li lv lw lx ly bi translated">这意味着任何节点都可以有效地声明<code class="fe me mf mg mh b">2 ENIs * ips-per-ENI</code>，因为总会有至少一个守护进程声明第一个ENI的IP地址。</li></ul><p id="df77" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">现在，如果我们查看每个ENI的可用IP地址列表<a class="ae lp" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-eni.html#AvailableIpPerENI" rel="noopener ugc nofollow" target="_blank">并计算一个示例:</a></p><ul class=""><li id="2ad0" class="lq lr iq kn b ko lk ks ll kw ls la lt le lu li lv lw lx ly bi translated">EC2类型<code class="fe me mf mg mh b">m5.xlarge</code>，每个ENI 15个IP地址。每个节点至少30个IP地址。</li><li id="e836" class="lq lr iq kn b ko lz ks ma kw mb la mc le md li lv lw lx ly bi translated">比方说，我们有50个节点在运行。这是1500个私人地址。(举例来说:按需EC2计算每月价值约7000美元)。</li><li id="109b" class="lq lr iq kn b ko lz ks ma kw mb la mc le md li lv lw lx ly bi translated">比方说，我们有<code class="fe me mf mg mh b">/21</code> VPC，提供3个<code class="fe me mf mg mh b">/23</code>私有子网。那是<code class="fe me mf mg mh b">3 x 512 = 1536</code>可用的IP地址。</li><li id="1d62" class="lq lr iq kn b ko lz ks ma kw mb la mc le md li lv lw lx ly bi translated">托管服务也需要IP地址…</li></ul><p id="46c6" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">我们可以看到这将走向何方。那么，是创建<code class="fe me mf mg mh b">/16</code> VPCs吗？大概不会。</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi mi"><img src="../Images/294e698f90cc52440f03aa0ca03f3352.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*o8ifLd60jkZfOUYG.jpg"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk translated">喂养集群</figcaption></figure><h1 id="5683" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">多个VPC</h1><p id="cfa9" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在许多组织中，并不只有一个VPC。网络环境可能是以下因素的组合:</p><ul class=""><li id="0eaf" class="lq lr iq kn b ko lk ks ll kw ls la lt le lu li lv lw lx ly bi translated">一个或多个地区的多个AWS帐户和VPC</li><li id="b8f3" class="lq lr iq kn b ko lz ks ma kw mb la mc le md li lv lw lx ly bi translated">数据中心</li><li id="7c9f" class="lq lr iq kn b ko lz ks ma kw mb la mc le md li lv lw lx ly bi translated">办公网络</li><li id="fa17" class="lq lr iq kn b ko lz ks ma kw mb la mc le md li lv lw lx ly bi translated">对等服务，比如来自AWS之外的提供商的DBaaS</li></ul><p id="fbf9" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">有许多方法可以连接VPCs和其他网络。需要从VPC之外发送的CIDR范围越大，重叠的可能性就越大。</p><p id="248c" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">因此，在较大的组织中，通常为个人AWS帐户提供一个CIDR范围相对较小的VPC，以适应较大的网络计划。为了仍然拥有“大量IP”，AWS VPC<a class="ae lp" href="https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Subnets.html#VPC_Sizing" rel="noopener ugc nofollow" target="_blank">可以配置</a>二级CIDR范围。</p><p id="e958" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">这解决了IP空间问题，但是它本身并不能解决路由问题。次要的CIDR范围仍然需要在整个网络景观中是唯一的，以便从VPC之外可路由。如果辅助CIDR <em class="lj">中的工作负载仅</em>需要连接到VPC中的资源，这可能不是一个实际问题，但事实往往并非如此。</p><p id="d091" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">最近，AWS推出了<a class="ae lp" href="https://aws.amazon.com/blogs/networking-and-content-delivery/how-to-solve-private-ip-exhaustion-with-private-nat-solution/" rel="noopener ugc nofollow" target="_blank">专用NAT网关</a>，它与定制网络一起，是在二级CIDR范围内促进可路由EKS pod的选项。</p><h1 id="04e0" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">VPC设置</h1><p id="0c45" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">让我们来看一些VPC的设置来说明这个问题，看看我们如何运行EKS。</p><h1 id="4a59" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">基础</h1><p id="f407" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">一个基本的VPC由一个CIDR范围、一些私有和公共子网、一个NAT网关和一个Internet网关组成。根据主要CIDR范围的大小，这可能就足够了，但是在较大的组织范围内，让我们假设一个相对较小的CIDR范围。</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div class="gh gi my"><img src="../Images/e8cf1f3b4931955a7d26327b9ee98573.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/0*IDscQaCeBWBUYIq6.png"/></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk translated">基本VPC</figcaption></figure><ul class=""><li id="2575" class="lq lr iq kn b ko lk ks ll kw ls la lt le lu li lv lw lx ly bi translated">赞成:简单</li><li id="b9ed" class="lq lr iq kn b ko lz ks ma kw mb la mc le md li lv lw lx ly bi translated">缺点:私有知识产权枯竭</li></ul><h1 id="7f8d" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">次级CIDR山脉</h1><p id="4f28" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">下一步:添加辅助CIDR范围，将节点和机架放在辅助子网中。如果工作负载永远不需要连接到VPC之外的私有网络中的资源，这种<em class="lj">可以</em>工作，这是不太可能的。理论上，pod可以向其他VPC发送数据包，但是没有返回的路径。</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi mz"><img src="../Images/60b6e8ca1586396533e0658953c86fb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3aoGpV6BxFDqMVpS.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk translated">次级CIDR山脉</figcaption></figure><ul class=""><li id="aebc" class="lq lr iq kn b ko lk ks ll kw ls la lt le lu li lv lw lx ly bi translated">赞成:简单</li><li id="d1d1" class="lq lr iq kn b ko lz ks ma kw mb la mc le md li lv lw lx ly bi translated">缺点:在豆荚和VPC之外的私人资源之间没有路线</li></ul><h1 id="6fab" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">次级CIDR系列+定制网络</h1><p id="6a0a" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">为了解决路由问题，可以在VPC CNI插件中启用自定义网络。这允许将节点和单元放置在不同的子网中。节点进入主专用子网，单元进入辅助专用子网。这解决了路由问题，因为默认情况下，对于外部网络的流量，CNI插件将pods IP地址转换为节点(SNAT)的主IP地址。在这种设置中，这些节点位于可路由的子网中。</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi mz"><img src="../Images/0e9da86ad72fa304eaf8044d7d31e9fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*eoe4ggtM_qtLQGg4.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk translated">次级CIDR系列+定制网络</figcaption></figure><p id="ed66" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">在<a class="ae lp" href="https://aws.amazon.com/premiumsupport/knowledge-center/eks-multiple-cidr-ranges/" rel="noopener ugc nofollow" target="_blank"> AWS知识中心</a>和<a class="ae lp" href="https://www.eksworkshop.com/beginner/160_advanced-networking/secondary_cidr/" rel="noopener ugc nofollow" target="_blank">亚马逊EKS研讨会</a>中描述了设置二级CIDR范围和自定义网络。</p><p id="8da4" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">请注意，当使用pod的安全组时，源网络地址转换<a class="ae lp" href="https://docs.aws.amazon.com/eks/latest/userguide/security-groups-for-pods.html" rel="noopener ugc nofollow" target="_blank">被禁用:</a></p><blockquote class="na nb nc"><p id="d1a8" class="kl km lj kn b ko lk kq kr ks ll ku kv nd lm ky kz ne ln lc ld nf lo lg lh li ij bi translated">对来自分配了安全组的pod的出站流量禁用源NAT，以便应用出站安全组规则。要访问互联网，必须在配置了NAT网关或实例的专用子网中部署的节点上启动分配了安全组的pod。分配有部署到公共子网的安全组的pod无法访问互联网。</p></blockquote><ul class=""><li id="75a6" class="lq lr iq kn b ko lk ks ll kw ls la lt le lu li lv lw lx ly bi translated">优点:不需要额外的NAT网关</li><li id="a416" class="lq lr iq kn b ko lz ks ma kw mb la mc le md li lv lw lx ly bi translated">缺点:复杂的VPC CNI网络配置</li><li id="d7fa" class="lq lr iq kn b ko lz ks ma kw mb la mc le md li lv lw lx ly bi translated">缺点:与pod的安全组不兼容</li></ul><h1 id="46ed" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">辅助CIDR范围+专用NAT网关</h1><p id="0388" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">除了配置自定义网络之外，还可以通过使用私有NAT网关来解决路由问题。与公共NAT网关不同，它位于私有子网中，不链接到互联网网关。</p><p id="6950" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">这样，节点<em class="lj">和</em>吊舱可以在次级CIDR范围内运行，路由问题在EKS之外解决。</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi mz"><img src="../Images/74277ca6e8116bcdf064e973f57fb8ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*02110xyO9jzAShQ3.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk translated">辅助CIDR范围+专用NAT网关</figcaption></figure><ul class=""><li id="f692" class="lq lr iq kn b ko lk ks ll kw ls la lt le lu li lv lw lx ly bi translated">赞成:简单默认VPC CNI网络配置</li><li id="3c21" class="lq lr iq kn b ko lz ks ma kw mb la mc le md li lv lw lx ly bi translated">Pro:可用于pod的安全组</li><li id="fc71" class="lq lr iq kn b ko lz ks ma kw mb la mc le md li lv lw lx ly bi translated">缺点:NAT网关会产生成本</li></ul><h1 id="ae17" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">路由和控制成本</h1><h1 id="df5b" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">一个NAT网关就足够了</h1><p id="2d4f" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">让我们来看看可以为辅助专用子网设置的最基本的路由表:</p><pre class="mj mk ml mm gt ng mh nh ni aw nj bi"><span id="7766" class="nk jo iq mh b gy nl nm l nn no">10.150.40.0/21  <strong class="mh ir">local</strong>	<br/>100.64.0.0/16   <strong class="mh ir">local</strong>	<br/>0.0.0.0/0       nat-&lt;private-id&gt;</span></pre><p id="6cdd" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">这会将所有非VPC流量放入主专用子网，并让在那里配置的路由表完成其余工作。简单，但是当从一个节点测试互联网连接时，我们可以观察到一个问题。</p><pre class="mj mk ml mm gt ng mh nh ni aw nj bi"><span id="c3f0" class="nk jo iq mh b gy nl nm l nn no">[ec2-user@ip-100-64-43-196 ~]$ ping www.google.com<br/>PING www.google.com (74.125.193.147) 56(84) bytes of data.<br/>64 bytes <strong class="mh ir">from</strong> ig-<strong class="mh ir">in</strong>-f147.1e100.net (74.125.193.147): icmp_seq=1 ttl=49 time=2.31 ms<br/>^C</span><span id="b45c" class="nk jo iq mh b gy np nm l nn no">[ec2-user@ip-100-64-43-196 ~]$ tracepath -p 443 74.125.193.147<br/> 1?: [LOCALHOST]                                         pmtu 9001<br/> 1:  ip-10-150-42-36.eu-west-1.compute.<strong class="mh ir">internal</strong>            0.168ms<br/> 1:  ip-10-150-42-36.eu-west-1.compute.<strong class="mh ir">internal</strong>            1.016ms<br/> 2:  ip-10-150-40-116.eu-west-1.compute.<strong class="mh ir">internal</strong>           0.739ms<br/> 3:  ip-10-150-40-1.eu-west-1.compute.<strong class="mh ir">internal</strong>             1.510ms pmtu 1500<br/> 3:  no reply<br/>^C</span></pre><p id="1427" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">查看跟踪和现有的NAT网关，我们可以看到流量通过私有的<em class="lj">和</em>NAT网关。</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi nq"><img src="../Images/96744d12940ab9decc69bcb9337f527b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2oD7c03MDZ0O7u4a.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk translated">VPC中存在的NAT网关</figcaption></figure><p id="3503" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">细心的观察者可能会注意到流量图中绕过私有NAT网关的绿线。要实现这一点，只需通过<em class="lj">将私有网络流量定向到私有NAT网关</em>来调整路由表:</p><pre class="mj mk ml mm gt ng mh nh ni aw nj bi"><span id="361d" class="nk jo iq mh b gy nl nm l nn no">10.150.40.0/21  local	<br/>100.64.0.0/16   local	<br/>10.0.0.0/8      nat-&lt;private-id&gt;<br/>0.0.0.0/0       nat-&lt;public-id&gt;</span></pre><p id="4da7" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">将通过NAT网关的流量减半就是将成本减半(忽略NAT网关的固定费用)。</p><h1 id="3bc0" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">VPC端点和对等连接</h1><p id="28f9" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">以上说明了复制主专用子网中存在的VPC端点和对等连接的路由表条目以避免流量不必要地通过专用NAT网关是很重要的。这(可能)行得通，但会带来不必要的成本。</p><p id="1593" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">提醒:由于作为DNS、路由和安全组的行星需要对齐，所以一定要授予辅助CIDR范围对VPC中存在的任何“接口”类型的VPC端点的访问权。不这样做将使DNS返回一个VPC本地IP地址，该地址将<em class="lj">而不是</em>通过私有NAT网关，因此将被VPC端点上的安全组阻止。</p><h1 id="dff2" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">结束的</h1><p id="f41c" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在二级CIDR范围内运行EKS pods时，专用NAT网关可以替代自定义网络。与往常一样，需要考虑权衡，包括:</p><ul class=""><li id="2e2e" class="lq lr iq kn b ko lk ks ll kw ls la lt le lu li lv lw lx ly bi translated">通过转接网关和专用NAT网关的网络流量</li><li id="181b" class="lq lr iq kn b ko lz ks ma kw mb la mc le md li lv lw lx ly bi translated">能够为pod使用安全组</li><li id="9d76" class="lq lr iq kn b ko lz ks ma kw mb la mc le md li lv lw lx ly bi translated">设置的复杂性</li></ul><p id="331a" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">以上应该给EKS网络世界一些启示，并有望提供更深入研究什么和避免什么陷阱的线索。一如既往，欢迎发表评论或<a class="ae lp" href="https://twitter.com/TBeijen" rel="noopener ugc nofollow" target="_blank">在Twitter </a>上讨论！</p></div><div class="ab cl nr ns hu nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="ij ik il im in"><p id="1cd1" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">[1]这在这篇博文中有非常详细的描述:<a class="ae lp" href="https://betterprogramming.pub/amazon-eks-is-eating-my-ips-e18ea057e045" rel="noopener ugc nofollow" target="_blank">https://better programming . pub/Amazon-eks-is-eating-my-IPS-e18ea 057 e 045</a><br/>【2】免责声明:我们还没有为pods启用安全组，所以这是理论上的。然而，按照所描述的“没有NAT =没有到互联网的路由”的逻辑，我们可以假设类似的限制适用于外部专用网络。<br/> [3]使用比需要更多的NAT网关可能是一种严重的金钱浪费<a class="ae lp" href="https://twitter.com/QuinnyPig/status/1433949394915639300" rel="noopener ugc nofollow" target="_blank"/>并且容易受到攻击。</p></div></div>    
</body>
</html>