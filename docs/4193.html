<html>
<head>
<title>The Path Towards Enterprise Level AWS Infrastructure – EC2, AMI, Bastion Host, RDS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通往企业级AWS基础设施的道路–EC2、AMI、Bastion Host、rds</h1>
<blockquote>原文：<a href="https://itnext.io/the-path-towards-enterprise-level-aws-infrastructure-part-2-ec2-ami-bastion-host-rds-3109c73dc913?source=collection_archive---------9-----------------------#2020-05-12">https://itnext.io/the-path-towards-enterprise-level-aws-infrastructure-part-2-ec2-ami-bastion-host-rds-3109c73dc913?source=collection_archive---------9-----------------------#2020-05-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/08b03e9a6027604e2d84dcaa7feaff59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ANt1zZOpMJYzTSFpzp-MNA.jpeg"/></div></div></figure><blockquote class="jy"><p id="17ff" class="jz ka iq bd kb kc kd ke kf kg kh ki dk translated"><em class="kj">让我们继续我们的AWS云之旅，不断发现云计算世界的内在本质，同时在AWS平台上构建一个高度可用、安全和容错的云系统。</em></p></blockquote><p id="8334" class="pw-post-body-paragraph kk kl iq km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ki ij bi translated">本文是迷你系列的第二篇，该系列将带您完成创建企业级AWS基础设施的过程，并解释Amazon Web Services平台的概念和组件。在前一部分中，我们搭建了基础设施；具体来说，我们创建了VPC、子网、NAT网关，并配置了网络路由。如果您错过了，我们强烈建议您先阅读→ <a class="ae lh" rel="noopener ugc nofollow" target="_blank" href="/the-path-towards-enterprise-level-aws-infrastructure-architecture-scaffolding-d244d0c80364">第1部分——架构搭建(VPC、子网、弹性IP、NAT) </a>。</p><p id="513c" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">在本文中，我们将在前一部分所做工作的基础上进行构建，这一次我们将重点关注EC2实例的配置、AMI映像的创建、Bastion主机和RDS数据库的设置。</p><p id="ff0b" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">整个系列包括:</p><ul class=""><li id="6620" class="ln lo iq km b kn li kr lj kv lp kz lq ld lr ki ls lt lu lv bi translated"><a class="ae lh" rel="noopener ugc nofollow" target="_blank" href="/the-path-towards-enterprise-level-aws-infrastructure-architecture-scaffolding-d244d0c80364">第1部分—架构搭建(VPC、子网、弹性IP、NAT) </a></li><li id="9025" class="ln lo iq km b kn lw kr lx kv ly kz lz ld ma ki ls lt lu lv bi translated">第2部分— EC2和数据库配置(EC2、AMI、堡垒主机、RDS)</li><li id="acdb" class="ln lo iq km b kn lw kr lx kv ly kz lz ld ma ki ls lt lu lv bi translated"><a class="ae lh" rel="noopener ugc nofollow" target="_blank" href="/the-path-towards-enterprise-level-aws-infrastructure-load-balancing-and-application-deployment-47c48e4c343d">第3部分—负载平衡和应用部署(弹性负载平衡器)</a></li></ul><p id="0bb1" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><strong class="km ir"> <em class="mb">目录:</em> </strong></p><ol class=""><li id="c54a" class="ln lo iq km b kn li kr lj kv lp kz lq ld lr ki mc lt lu lv bi translated">基础设施概述</li><li id="f5a0" class="ln lo iq km b kn lw kr lx kv ly kz lz ld ma ki mc lt lu lv bi translated">AWS理论</li></ol><p id="1696" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">2.1弹性云计算云(EC2)</p><p id="7a85" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">2.2亚马逊机器映像(AMI)</p><p id="19fc" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">2.3密钥对</p><p id="ceb4" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">2.4 IAM角色</p><p id="550e" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">2.5堡垒主机</p><p id="37b3" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">2.6亚马逊关系数据库服务(RDS、读取副本、多AZ部署)</p><p id="2489" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">3.实践</p><p id="0174" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">3.1可用性区域A</p><p id="aff0" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">—堡垒主机</p><p id="3630" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">—后端服务器EC2</p><p id="eb1a" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">—客户端应用程序EC2</p><p id="2e4f" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">3.2可用性区域B</p><p id="9d1c" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">—堡垒主机</p><p id="c3be" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">—后端服务器EC2</p><p id="63da" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">—客户端应用程序EC2</p><p id="b5c6" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">3.3 RDS</p><p id="b712" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">4.摘要</p></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><h1 id="e918" class="mk ml iq bd mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh bi translated">基础设施概述</h1><p id="14b0" class="pw-post-body-paragraph kk kl iq km b kn ni kp kq kr nj kt ku kv nk kx ky kz nl lb lc ld nm lf lg ki ij bi translated">下图展示了我们设计的基础设施..如果您想了解更多有关其背后的设计选择，请阅读<a class="ae lh" rel="noopener ugc nofollow" target="_blank" href="/the-path-towards-enterprise-level-aws-infrastructure-architecture-scaffolding-d244d0c80364">第1部分—架构搭建(VPC、子网、弹性IP、NAT) </a>。我们已经创建了VPC、子网、NAT网关并配置了网络路由。在本系列的这一部分中，我们将重点关注所需EC2实例的配置、AMI映像的创建、Bastion主机的设置以及RDS数据库。</p><figure class="no np nq nr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nn"><img src="../Images/a405bf503dbeb85fbb9a99ec6aa1be53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7s8OmtKjLAqKCbwb"/></div></div><figcaption class="ns nt gj gh gi nu nv bd b be z dk translated">图1</figcaption></figure></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><h1 id="66b5" class="mk ml iq bd mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh bi translated">AWS理论</h1><ol class=""><li id="b80c" class="ln lo iq km b kn ni kr nj kv nw kz nx ld ny ki mc lt lu lv bi translated"><strong class="km ir"> <em class="mb">弹性云计算云(EC2) </em> </strong></li></ol><p id="6256" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">弹性云计算云(EC2)是一项亚马逊服务，允许您在AWS上管理虚拟计算环境，即EC2实例。EC2实例只是一个虚拟机，在选定的AWS区域和可用性区域中提供了一定数量的资源，如CPU、内存、存储和网络容量。EC2的灵活性意味着您可以根据自己的需要和要求轻松地增加或减少资源。您的实例的网络安全可以使用<strong class="km ir">安全组</strong> <em class="mb"> </em>通过配置您的实例可以与之通信的协议、端口和IP地址来管理。</p><p id="d347" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">有五种基本类型的EC2实例，<strong class="km ir"> </strong>，您可以根据您的系统需求<strong class="km ir">来使用它们。</strong></p><ul class=""><li id="d77a" class="ln lo iq km b kn li kr lj kv lp kz lq ld lr ki ls lt lu lv bi translated">通用目的，</li><li id="5aa6" class="ln lo iq km b kn lw kr lx kv ly kz lz ld ma ki ls lt lu lv bi translated">计算优化，</li><li id="7bec" class="ln lo iq km b kn lw kr lx kv ly kz lz ld ma ki ls lt lu lv bi translated">内存优化，</li><li id="7c38" class="ln lo iq km b kn lw kr lx kv ly kz lz ld ma ki ls lt lu lv bi translated">加速计算，</li><li id="84c5" class="ln lo iq km b kn lw kr lx kv ly kz lz ld ma ki ls lt lu lv bi translated">存储优化，</li></ul><p id="db71" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">在我们的基础设施中，我们将只使用通用实例，但是如果您想了解更多关于<a class="ae lh" href="https://aws.amazon.com/ec2/instance-types/" rel="noopener ugc nofollow" target="_blank">实例类型的不同特性，请参见AWS文档</a>。</p><p id="c456" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">所有EC2实例都附带有<strong class="km ir">实例存储卷</strong>，用于存储实例停止或终止时删除的临时数据，还附带有<strong class="km ir">弹性块存储(EBS)</strong>，这是一个独立于EC2实例本身工作的持久存储卷。</p><figure class="no np nq nr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nz"><img src="../Images/d2b2756df63efc090461caa35284024f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IgtbrbnMKtFLEDab"/></div></div><figcaption class="ns nt gj gh gi nu nv bd b be z dk translated">图2</figcaption></figure><p id="9631" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><strong class="km ir">②<em class="mb">。亚马逊机器图像(AMI) </em> </strong></p><p id="e55e" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">Amazon利用软件配置的模板，称为<strong class="km ir">Amazon Machine Images(AMI)</strong>，以便于创建定制的EC2实例。ami是图像模板，包含用于启动EC2实例的软件，如操作系统、运行时环境和实际应用程序。这使我们能够预配置我们的ami，并使用该映像动态启动新实例，而不是总是从头开始设置VM环境。Amazon在AWS Marketplace上提供了一些现成的ami，您可以对其进行扩展、定制和保存(我们很快就会这样做)。</p><p id="a518" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><strong class="km ir"> <em class="mb"> 3。密钥对</em>和</strong></p><p id="51f8" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">Amazon使用公钥加密技术提供了一个安全的EC2登录机制。在实例引导期间，公钥放在<em class="mb"> ~/中的一个条目中。ssh/authorized_keys </em>，然后您可以使用私有密钥而不是密码通过ssh安全地访问您的实例。公钥和私钥被称为<strong class="km ir"> <em class="mb">密钥对</em> </strong>。</p><p id="a8a6" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><strong class="km ir"> <em class="mb"> 4。IAM角色</em> </strong></p><p id="1502" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><strong class="km ir"> IAM </strong>表示身份和访问管理，它为您的系统定义了认证和授权规则。IAM角色是IAM身份，由一组控制AWS服务访问的权限组成，可以附加到AWS资源，如用户、应用程序或服务。例如，如果您的应用程序需要访问特定的AWS服务，比如S3桶，那么它的EC2实例需要有一个分配了适当权限的角色。</p><p id="d850" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><strong class="km ir"> <em class="mb"> 5。堡垒主机</em>T5】</strong></p><p id="1d9e" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><strong class="km ir"> Bastion Host </strong>是放置在公共子网中的特殊用途实例，用于允许访问位于私有子网中的实例，同时提供更高的安全级别。它充当用户和私有实例之间的桥梁，并且由于其暴露于潜在的攻击，它被配置为抵御任何渗透企图。私有实例只向堡垒主机公开它们的SSH端口，不允许任何直接连接。此外，bastion主机可以配置为记录任何提供额外安全审计的活动。</p><figure class="no np nq nr gt jr gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/abf1f822df6ec5b27d6d4d606fa079d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/0*AhqLCTAzV4MFY2MV"/></div><figcaption class="ns nt gj gh gi nu nv bd b be z dk translated">图3</figcaption></figure><p id="a02d" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><strong class="km ir"> <em class="mb"> 6。亚马逊关系数据库服务</em> </strong></p><p id="61bb" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><em class="mb"> 6.1 RDS </em></p><p id="3a57" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">RDS是亚马逊的一项服务，用于管理云中的关系数据库。截至目前(23.04.2020)，它支持六个数据库引擎，具体包括Amazon Aurora、PostgreSQL、MySQL、MariaDB、Oracle数据库和SQL Server。它易于配置和扩展，并通过使用<strong class="km ir">读取副本</strong>和<strong class="km ir">多AZ部署</strong>功能提供高可用性和可靠性。</p><p id="dcdb" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><em class="mb"> 6.2读取副本</em></p><p id="4250" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><strong class="km ir"> RDS读取副本</strong>是异步的只读实例，是主数据库实例的副本。它们可以用于处理不需要任何数据更改的查询，从而减轻主节点的工作负载。</p><p id="d557" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><em class="mb"> 6.3多AZ部署</em></p><p id="3b5c" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><strong class="km ir"> AWS多AZ部署</strong>是一个选项，允许RDS在不同的AZ中创建辅助备用实例，并与主节点的数据同步复制。主实例和备用实例都运行在它们自己物理上独立的基础设施上，只有主实例可以直接访问。备用副本在任何主服务器出现故障的情况下用作故障转移，而不改变DB的端点。</p><p id="a7df" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">这减少了系统的停机时间，并使执行版本升级或创建备份快照变得更加容易，因为它们可以在备用实例上完成。多AZ通常只在主实例上使用。但是，也可以使用多AZ部署来创建读取副本，这将产生一个具有弹性的灾难恢复基础架构。</p></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><h1 id="7062" class="mk ml iq bd mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh bi translated">实践</h1><p id="950b" class="pw-post-body-paragraph kk kl iq km b kn ni kp kq kr nj kt ku kv nk kx ky kz nl lb lc ld nm lf lg ki ij bi translated">我们有两个希望在AWS基础设施上运行的应用程序。一个是Java 11 Spring Boot应用程序，因此托管它的EC2需要安装Java 11。第二个是React.js前端应用程序，它需要一个具有Node.js环境的虚拟机。因此，作为第一步，我们将设置一个堡垒主机，这将允许我们ssh我们的实例。然后，我们将在第一个可用性区域中手动启动和配置这两个EC2实例。稍后，我们将基于这些实例创建ami，并使用它们在第二个可用性区域中创建ec2。</p><ol class=""><li id="0c74" class="ln lo iq km b kn li kr lj kv lp kz lq ld lr ki mc lt lu lv bi translated"><strong class="km ir"> <em class="mb">可用性区域A </em> </strong></li></ol><p id="11b7" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><em class="mb"> 1.1堡垒主机</em></p><p id="a6e1" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">堡垒主机只不过是一个特殊用途的EC2实例。因此，为了创建一个堡垒主机，进入AWS管理控制台并搜索EC2服务。然后点击<em class="mb">启动实例</em>按钮，您将看到一个EC2启动向导。第一步是为您的实例选择一个AMI映像。您可以过滤ami并根据您的偏好选择一个。在本文中，我们将使用<strong class="km ir"> Amazon Linux 2 AMI (HVM)，SSD卷类型</strong>镜像。</p><figure class="no np nq nr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ob"><img src="../Images/8c6f6e98889ca23d6042541054485705.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bU0qVD29ntaafJBP"/></div></div><figcaption class="ns nt gj gh gi nu nv bd b be z dk translated">图4</figcaption></figure><p id="f369" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">在下一个屏幕上，我们需要为图像选择一个实例类型。在这里，我坚持使用AWS自由层程序，所以我将使用通用的t2.micro类型。点击<em class="mb">下一步:配置实例详情</em>。在这里，我们可以定义实例的数量、网络设置、IAM配置等。现在，让我们从1个实例开始，稍后我们将研究基础设施的可伸缩性。在网络部分，选择您以前创建的VPC和公共子网a，并启用公共IP自动分配。我们不需要指定任何IAM角色，因为我们不会使用任何AWS服务。</p><figure class="no np nq nr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ob"><img src="../Images/1f7330a508ba94dda4e31692ee16440c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mBCn-X6rFobN1SaK"/></div></div><figcaption class="ns nt gj gh gi nu nv bd b be z dk translated">图5</figcaption></figure><p id="909a" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">点击下一个的<em class="mb">。在这里，您可以看到向导自动为您的实例配置了8GB EBS存储，这对我们来说已经足够了。再次点击<em class="mb">下一步</em>。现在，我们可以添加标签来提高实例的可识别性。让我们添加一个姓名标签<em class="mb"> bastion-a-ec2 </em>。在下一个屏幕上，我们可以为我们的实例配置一个安全组。创建一个新的安全组，命名为<em class="mb"> bastion-sg </em>。</em></p><p id="0b7f" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">您可以看到已经有一个预定义的规则公开了来自0.0.0.0/0(任何地方)的SSH会话的实例。您应该在这里将其更改为只允许来自您的IP地址的连接。这里需要注意的重要一点是，在生产环境中，您永远不会向全世界公开您的实例，相反，您会将允许连接到您的实例的员工的IP地址列入白名单。</p><figure class="no np nq nr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oc"><img src="../Images/1f178cd7b27f543e1cfe9821a616ffb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9SxpM1JarTT_4uxP"/></div></div><figcaption class="ns nt gj gh gi nu nv bd b be z dk translated">图6</figcaption></figure><p id="81d4" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">在下一步中，您可以检查您的EC2配置并启动它。最后一个动作是创建密钥对。这很重要，因为我们需要这个密钥对来ssh到我们的实例。将密钥对命名为<em class="mb"> user-manager-key-pair </em>，下载私钥并将其本地存储在您的机器上。就是这样，Amazon需要一些时间，但最终您的EC2实例将会启动。</p><figure class="no np nq nr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ob"><img src="../Images/2c0141fad509582e0096b58184217dfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*z6fnPzLUEYleGlEc"/></div></div><figcaption class="ns nt gj gh gi nu nv bd b be z dk translated">图7</figcaption></figure><p id="1d4a" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">在实例描述部分，您可以找到您的实例的公共IP地址。我们可以用它来ssh到EC2。这就是我们需要先前生成的并且希望是本地保存的私钥(*。pem文件)。就这样，我们的实例现在已经准备好了。然而，在生产中，进一步加强Bastion主机的安全性是一个好主意。如果你想了解更多，我们推荐这篇文章<a class="ae lh" href="https://medium.com/kaodim-engineering/hardening-ssh-using-aws-bastion-and-mfa-45d491288872" rel="noopener">https://medium . com/Kao dim-engineering/hardening-ssh-using-AWS-bastion-and-MFA-45d 491288872</a>。</p><p id="3137" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><em class="mb"> 1.2后端服务器EC2 </em></p><p id="6fab" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">现在，让我们为后端服务器创建一个实例。再次点击<em class="mb"> Launch instance </em>，选择与之前相同的AMI镜像，将其放在您的user-manager-vpc，private-subnet-a中，这次不要启用公共IP自动分配。像以前一样完成接下来的步骤，添加一个<em class="mb"> server-a-ec2 </em>名称标签。在安全组配置中，创建一个新的安全组，并修改其设置，只允许来自<em class="mb"> bastion-sg </em>的SSH传入通信。</p><figure class="no np nq nr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ob"><img src="../Images/a74d2c1684916d5a3225f3b4aa7d30fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VART3PNDFjsl_I5w"/></div></div><figcaption class="ns nt gj gh gi nu nv bd b be z dk translated">图8</figcaption></figure><p id="a186" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">启动实例。您可以创建一个新的密钥对，或者使用之前创建的密钥对(为了简单起见，我建议对所有实例使用相同的密钥对)。最后，您应该已经启动并运行了第二个实例。</p><figure class="no np nq nr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ob"><img src="../Images/6c8f14655415e7e30e9a376df344eddb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*u8dcXS-AO9908zO4"/></div></div><figcaption class="ns nt gj gh gi nu nv bd b be z dk translated">图9</figcaption></figure><p id="81ab" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">您可以看到<em class="mb"> server-a-ec2 </em>没有任何公共IP地址。但是，我们可以通过堡垒主机访问它。首先，我们需要将我们的密钥添加到一个keychain中，然后我们可以对我们的bastion主机实例进行ssh，向ssh命令添加<em class="mb">—</em>标志。该标志启用代理转发，这将允许您ssh到您的私有实例，而无需再次显式指定私有密钥。这是一种推荐的方法，它可以让您避免将私钥存储在bastion主机实例上，这可能会导致安全漏洞。</p><pre class="no np nq nr gt od oe of og aw oh bi"><span id="de69" class="oi ml iq oe b gy oj ok l ol om">ssh-add -k &lt;PEM_file_name&gt;</span><span id="597a" class="oi ml iq oe b gy on ok l ol om">ssh -A -i path-to-your-pem-file ec2-user@bastion-a-ec2-instance-public-ip</span></pre><p id="7a43" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">然后，在您的bastion主机中执行以下命令:</p><pre class="no np nq nr gt od oe of og aw oh bi"><span id="2146" class="oi ml iq oe b gy oj ok l ol om"><em class="mb">ssh ec2-user@server-a-ec2-instance-private-ip</em></span></pre><p id="de52" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">现在，您应该在您的server-a-ec2私有实例中。让我们通过执行这些命令在机器上安装所需的软件</p><pre class="no np nq nr gt od oe of og aw oh bi"><span id="b7a3" class="oi ml iq oe b gy oj ok l ol om"><em class="mb">sudo yum update -y &amp;&amp;</em></span><span id="d115" class="oi ml iq oe b gy on ok l ol om"><em class="mb">sudo amazon-linux-extras enable corretto8 &amp;&amp;</em></span><span id="90e7" class="oi ml iq oe b gy on ok l ol om"><em class="mb">sudo yum clean metadata &amp;&amp;</em></span><span id="5b23" class="oi ml iq oe b gy on ok l ol om"><em class="mb">sudo yum install java-11-amazon-corretto &amp;&amp;</em></span><span id="c4ec" class="oi ml iq oe b gy on ok l ol om"><em class="mb">java — version</em></span></pre><p id="df9e" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">因此，您应该在您的<em class="mb"> server-a-ec2 </em>实例上安装java 11。您可以通过执行两次<em class="mb">退出</em>命令返回到本地命令提示符。</p><p id="3f0c" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><em class="mb">阿米</em></p><p id="efe7" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">后端服务器的ec2实例已经为部署做好了准备。在第二个可用性区域中，我们可以遵循完全相同的步骤。然而，有一种更简单的方法。我们可以基于我们预先配置的实例创建一个AMI映像，并在以后用于在可用性区域b中创建相应的实例。为此，再次进入<em class="mb"> Instances </em>菜单，选择您的实例，单击<em class="mb">Actions</em>-&gt;<em class="mb">Image</em>-&gt;<em class="mb">Create Image</em>。您的AMI映像将被创建，您将能够在<em class="mb">映像/AMI</em>部分找到它。</p><figure class="no np nq nr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ob"><img src="../Images/37b8cd821dd5779a18892a662c4c1a7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JmAoaw37TDHG2lSK"/></div></div><figcaption class="ns nt gj gh gi nu nv bd b be z dk translated">图10</figcaption></figure><p id="bcdd" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><em class="mb"> 1.3客户端应用EC2 </em></p><p id="9410" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">可用性区域A中我们需要的最后一个EC2实例将托管客户端应用程序。那么，让我们再来一遍EC2的创建过程。启动实例，选择与之前相同的基本AMI，选择您的VPC，将实例放在<em class="mb">public-subnet-a</em>中，并启用公共IP分配。然后，添加一个<em class="mb"> client-a-ec2 </em>名称标签，并创建一个新的安全组<em class="mb"> client-sg </em>，允许来自<em class="mb"> bastion-sg </em>安全组的SSH传入连接。就这样，发射。</p><figure class="no np nq nr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ob"><img src="../Images/b9efc36e10bddbbb82d67e580c48ed49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZRgzZpHOfCYQz2JW"/></div></div><figcaption class="ns nt gj gh gi nu nv bd b be z dk translated">图11</figcaption></figure><p id="e208" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">现在，通过bastion主机SSH到实例，并安装所需的软件。</p><pre class="no np nq nr gt od oe of og aw oh bi"><span id="787b" class="oi ml iq oe b gy oj ok l ol om"><em class="mb">ssh -A -i path-to-your-pem-file ec2-user@bastion-a-ec2-instance-public-ip</em></span></pre><p id="dcfe" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">然后，在您的bastion主机中执行以下命令:</p><pre class="no np nq nr gt od oe of og aw oh bi"><span id="8119" class="oi ml iq oe b gy oj ok l ol om">ssh ec2-user@client-a-ec2-instance-private-ip</span></pre><p id="27d8" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">在<em class="mb"> client-a-ec2 </em>命令提示符下，执行</p><pre class="no np nq nr gt od oe of og aw oh bi"><span id="a66a" class="oi ml iq oe b gy oj ok l ol om"><em class="mb">sudo yum update &amp;&amp;</em></span><span id="a943" class="oi ml iq oe b gy on ok l ol om"><em class="mb">curl -sL </em><a class="ae lh" href="https://rpm.nodesource.com/setup_12.x" rel="noopener ugc nofollow" target="_blank"><em class="mb">https://rpm.nodesource.com/setup_12.x</em></a><em class="mb"> | sudo bash — &amp;&amp;</em></span><span id="901a" class="oi ml iq oe b gy on ok l ol om"><em class="mb">sudo yum install -y nodejs &amp;&amp;</em></span><span id="981c" class="oi ml iq oe b gy on ok l ol om"><em class="mb">node -v &amp;&amp;</em></span><span id="fe1c" class="oi ml iq oe b gy on ok l ol om"><em class="mb">npm -v</em></span></pre><p id="da64" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">退出EC2命令提示符，并基于它创建一个新的AMI映像。</p><figure class="no np nq nr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ob"><img src="../Images/dd23928e57d71067730b6f6fc1d017f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QNrlvxB5ZIx6_Fum"/></div></div><figcaption class="ns nt gj gh gi nu nv bd b be z dk translated">图12</figcaption></figure><p id="d5d1" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><strong class="km ir">T23】2。可用性区域B  </strong></p><p id="eae7" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><em class="mb"> 2.1堡垒主机</em></p><p id="0309" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">按照与可用性区域a相同的步骤创建第二个bastion主机实例，但这一次将其放在public-subnet-b中，添加名称标签bastion-b-ec2，并为其分配之前创建的<em class="mb"> bastion-sg </em>安全组。</p><p id="31aa" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><em class="mb"> 2.2后端服务器EC2 </em></p><p id="d812" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">对于后端服务器EC2，再次转到<em class="mb">启动实例</em>菜单，这次不是使用Amazon的AMI开关，而是转到<em class="mb"> My AMI的</em>选项卡，并选择之前创建的<em class="mb"> server-ami </em>映像。将实例放在private-subnet-b中，添加名称标签<em class="mb"> server-b-ec2 </em>，并为其分配<em class="mb"> server-sg </em>安全组。</p><figure class="no np nq nr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ob"><img src="../Images/0fed17596f17701789386509f8d04a5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rze2t9lbSR6Qs8Dm"/></div></div><figcaption class="ns nt gj gh gi nu nv bd b be z dk translated">图13</figcaption></figure><p id="c7a6" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><em class="mb"> 2.3客户端应用EC2 </em></p><p id="fb0b" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">就像后端服务器实例一样，使用您的定制AMI映像<em class="mb">启动<em class="mb"> client-b-ec2 </em>。</em>这次<em class="mb"> </em>选择<em class="mb"> client-ami </em>镜像，将EC2放在<em class="mb"> public-subnet-b </em>中，启用自动IP分配，选择<em class="mb"> client-sg </em>安全组。</p><p id="0477" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><strong class="km ir"> <em class="mb"> 3。RDS </em> </strong></p><p id="a000" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">我们已经准备好了所有的EC2实例。我们将在本文中讨论的最后一部分是RDS的配置。为此，进入AWS管理控制台中的RDS服务，并单击<em class="mb">创建数据库</em>。在数据库配置窗口中，遵循标准配置路径。选择MySQL数据库引擎，然后选择自由层模板。将您的数据库名称设置为<em class="mb"> user-manager-db </em>，指定主用户名和密码，选择您的user-manager-vpc，可用性区域a，并使数据库不可公开访问。还创建一个新的<em class="mb">用户管理器-db-sg </em>安全组。</p><figure class="no np nq nr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oo"><img src="../Images/c75dc4a57462f6a6d7daa75ef64650d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_lRMyWpT5dMTUjLc"/></div></div><figcaption class="ns nt gj gh gi nu nv bd b be z dk translated">图14</figcaption></figure><p id="0af5" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">在<em class="mb">附加配置</em>部分，指定初始数据库名称，最后创建一个数据库。</p><figure class="no np nq nr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi op"><img src="../Images/0ae748ed16aeb19461546bc7a4047b9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0x1xbhu8bSxQ4Vd5"/></div></div><figcaption class="ns nt gj gh gi nu nv bd b be z dk translated">图15</figcaption></figure><p id="e69a" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">在AWS完成创建过程之后，您将能够获得数据库端点，稍后我们将使用它从我们的应用程序连接到数据库。现在，为了提供数据库的高可用性，在创建的数据库屏幕上单击<em class="mb">修改</em>按钮，并启用多AZ部署。请记住，多AZ部署不包括在免费层计划中，因此如果您想避免任何费用，请跳过这一点。</p><figure class="no np nq nr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oq"><img src="../Images/08c2ba91abfed7333be2c4b87b7b625c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OXguX2vQXOHMElbu"/></div></div><figcaption class="ns nt gj gh gi nu nv bd b be z dk translated">图16</figcaption></figure><p id="d6db" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">作为最后一步，我们需要向<em class="mb"> user-manager-db-sg </em>添加一个规则，以允许来自端口3306上的<em class="mb"> server-sg </em>的传入连接，从而允许我们的服务器和数据库之间的通信。</p><figure class="no np nq nr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ob"><img src="../Images/7d1084b38ed2da2389b6fca78a8f1841.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*52gH-ASx5HJI7feF"/></div></div><figcaption class="ns nt gj gh gi nu nv bd b be z dk translated">图17</figcaption></figure></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><h1 id="55e6" class="mk ml iq bd mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh bi translated">摘要</h1><p id="02f0" class="pw-post-body-paragraph kk kl iq km b kn ni kp kq kr nj kt ku kv nk kx ky kz nl lb lc ld nm lf lg ki ij bi translated">恭喜您，我们的基础架构几乎可以部署了。正如您在我们的最终图表中看到的，唯一缺少的是负载平衡器。在本系列的下一部分中，我们将解决这个问题，并部署我们的应用程序，使其在AWS基础设施上运行一个全功能的系统！</p><figure class="no np nq nr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ob"><img src="../Images/5fb5d553fb3cfc587f6ed871636ae7d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Z384QD_nncHftclb"/></div></div><figcaption class="ns nt gj gh gi nu nv bd b be z dk translated">图18</figcaption></figure><p id="74ea" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><strong class="km ir">来源:</strong></p><p id="bde9" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><a class="ae lh" href="https://cloudacademy.com/blog/aws-bastion-host-nat-instances-vpc-peering-security/" rel="noopener ugc nofollow" target="_blank">https://cloud academy . com/blog/AWS-bastion-host-NAT-instances-VPC-peering-security/</a></p><p id="cb98" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><a class="ae lh" href="https://aws.amazon.com/quickstart/architecture/linux-bastion/" rel="noopener ugc nofollow" target="_blank">https://AWS . Amazon . com/quick start/architecture/Linux-bastion/</a></p><p id="0da0" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><a class="ae lh" href="https://aws.amazon.com/blogs/security/securely-connect-to-linux-instances-running-in-a-private-amazon-vpc/" rel="noopener ugc nofollow" target="_blank">https://AWS . Amazon . com/blogs/security/securely-connect-to-Linux-instances-running-in-a-private-Amazon-VPC/</a></p><p id="8413" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><a class="ae lh" href="https://app.pluralsight.com/library/courses/aws-developer-getting-started/table-of-contents" rel="noopener ugc nofollow" target="_blank">https://app . plural sight . com/library/courses/AWS-developer-getting-started/目录</a></p><p id="dead" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><a class="ae lh" href="https://app.pluralsight.com/library/courses/aws-developer-designing-developing/table-of-contents" rel="noopener ugc nofollow" target="_blank">https://app . plural sight . com/library/courses/AWS-developer-design-developing/目录</a></p><p id="1be1" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><a class="ae lh" href="https://app.pluralsight.com/library/courses/aws-networking-deep-dive-vpc/table-of-contents" rel="noopener ugc nofollow" target="_blank">https://app . plural sight . com/library/courses/AWS-networking-deep-dive-VPC/目录</a></p><p id="203b" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated">【https://www.techradar.com/news/what-is-amazon-rds T4】</p><p id="f937" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><a class="ae lh" href="https://medium.com/kaodim-engineering/hardening-ssh-using-aws-bastion-and-mfa-45d491288872" rel="noopener">https://medium . com/Kao dim-engineering/hardening-ssh-using-AWS-bastion-and-MFA-45d 491288872</a></p><p id="52dc" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><a class="ae lh" href="https://cloudacademy.com/blog/aws-bastion-host-nat-instances-vpc-peering-security/" rel="noopener ugc nofollow" target="_blank">https://cloud academy . com/blog/AWS-bastion-host-NAT-instances-VPC-peering-security/</a></p><p id="bd78" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><a class="ae lh" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/IAM/latest/user guide/id _ roles . html</a></p><p id="fe37" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><a class="ae lh" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/AWS ec2/latest/user guide/ec2-key-pairs . html</a></p><p id="499e" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><a class="ae lh" href="https://aws.amazon.com/ec2/instance-types/" rel="noopener ugc nofollow" target="_blank">https://aws.amazon.com/ec2/instance-types/</a></p></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><p id="3e55" class="pw-post-body-paragraph kk kl iq km b kn li kp kq kr lj kt ku kv lk kx ky kz ll lb lc ld lm lf lg ki ij bi translated"><em class="mb">原载于2020年5月12日</em><a class="ae lh" href="https://grapeup.com/blog/read/the-path-towards-enterprise-level-aws-infrastructure-architecture-scaffolding-77" rel="noopener ugc nofollow" target="_blank"><em class="mb">https://grapeup.com</em></a><em class="mb">。</em></p></div></div>    
</body>
</html>