<html>
<head>
<title>CloudFormation parameters: computed defaults</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">云形成参数:计算的默认值</h1>
<blockquote>原文：<a href="https://itnext.io/cloudformation-parameters-computed-defaults-dcb1efeafc45?source=collection_archive---------5-----------------------#2020-04-27">https://itnext.io/cloudformation-parameters-computed-defaults-dcb1efeafc45?source=collection_archive---------5-----------------------#2020-04-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/031c24bdb8a0fb57d376f75400d9c00e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X-4PNONWCwfy4DstTH6B_w.jpeg"/></div></div></figure><p id="cb56" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当人们<a class="ae kw" href="https://stackoverflow.com/questions/34062535/can-i-use-fnjoin-in-parameters-of-aws-cloudformation-json-template" rel="noopener ugc nofollow" target="_blank">问</a>是否可以在CloudFormation堆栈中使用计算的参数默认值时，<a class="ae kw" href="https://stackoverflow.com/questions/35213196/cloudformation-reference-resource-as-default-value-for-parameter" rel="noopener ugc nofollow" target="_blank">的回答总是——“不”</a>。</p><p id="2904" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">假设我们想要使用CloudFormation堆栈创建一个VPC。如果没有提供VPC名称，我们希望使用基于堆栈名称的默认值:</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><p id="36a6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但这是行不通的。</p><p id="fdc6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然而，我们可以利用云的形成条件来实现:</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><p id="07b9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果我们不带参数运行它:</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><p id="d344" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们得到一个名为“测试4-VPC”的VPC</p><p id="0a90" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果我们提供VPC的名字:</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><p id="e7ca" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们得到一个名为“MyVpc”的VPC</p></div></div>    
</body>
</html>