<html>
<head>
<title>Integrate flutter modules with Cocoapods</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用协同吊舱集成颤振模块</h1>
<blockquote>原文：<a href="https://itnext.io/integrate-flutter-modules-with-cocoapods-a984dc671382?source=collection_archive---------1-----------------------#2022-03-21">https://itnext.io/integrate-flutter-modules-with-cocoapods-a984dc671382?source=collection_archive---------1-----------------------#2022-03-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/800ddc4598886988213641cda96f4661.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1ikkMVU_w_qZ5CfLcso-5Q.jpeg"/></div></div></figure><blockquote class="jy jz ka"><p id="c126" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">公布cocoapods插件:<a class="ae la" href="https://github.com/DartBuild/cocoapods-embed-flutter" rel="noopener ugc nofollow" target="_blank">cocoa pods-embed-flutter</a>，提供了一种在<code class="fe lb lc ld le b">Podfile</code>中将flutter模块声明为目标依赖的方式。</p></blockquote><p id="a35a" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lf ko kp kq lg ks kt ku lh kw kx ky kz ij bi translated">目前，如果你想在现有的iOS项目中集成一个flutter模块，你可以遵循官方的<a class="ae la" href="https://docs.flutter.dev/development/add-to-app/ios/project-setup" rel="noopener ugc nofollow" target="_blank">指南</a>。那么，你问一个单独的插件有什么必要？<a class="ae la" href="https://github.com/DartBuild/cocoapods-embed-flutter" rel="noopener ugc nofollow" target="_blank">cocoa pods-embed-flutter</a>解决了官方解决方案的复杂性，同时保持您的<code class="fe lb lc ld le b">Podfile</code>非常简单。</p><p id="d56f" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lf ko kp kq lg ks kt ku lh kw kx ky kz ij bi translated">你必须确保官方解决方案是在运行<code class="fe lb lc ld le b">pod install</code>之前运行<code class="fe lb lc ld le b">flutter pub get</code>。如果你的flutter模块和你的iOS项目不在同一个存储库中，那么你必须深入git子模块。</p><h1 id="b8b1" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">解决方案？</h1><p id="cad7" class="pw-post-body-paragraph kb kc iq ke b kf mg kh ki kj mh kl km lf mi kp kq lg mj kt ku lh mk kx ky kz ij bi translated">如果你对<code class="fe lb lc ld le b">Gemfile</code>不熟悉，我强烈建议你去看看cocopods的<a class="ae la" href="https://guides.cocoapods.org/using/a-gemfile.html" rel="noopener ugc nofollow" target="_blank">指南</a>，它有很深的深度。对于本文的范围，您可以像这样将<a class="ae la" href="https://github.com/DartBuild/cocoapods-embed-flutter" rel="noopener ugc nofollow" target="_blank">cocoa pods-embed-flutter</a>声明为您在<code class="fe lb lc ld le b">Gemfile</code>中的依赖项:</p><pre class="ml mm mn mo gt mp le mq mr aw ms bi"><span id="2fbb" class="mt lj iq le b gy mu mv l mw mx">gem 'cocoapods-embed-flutter'</span></pre><p id="942a" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lf ko kp kq lg ks kt ku lh kw kx ky kz ij bi translated">并运行<code class="fe lb lc ld le b">bundle install</code>。或者，如果你不想使用<code class="fe lb lc ld le b">Gemfile</code>(尽管我强烈建议这么做)，你可以使用<code class="fe lb lc ld le b">sudo gem install cocoapods-embed-flutter</code>来安装这个插件。</p><p id="8fe9" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lf ko kp kq lg ks kt ku lh kw kx ky kz ij bi translated">现在你已经设置好了，在你的<code class="fe lb lc ld le b">Podfile</code>顶部添加<a class="ae la" href="https://github.com/DartBuild/cocoapods-embed-flutter" rel="noopener ugc nofollow" target="_blank">cocoapods-embed-flutter</a>作为插件:</p><pre class="ml mm mn mo gt mp le mq mr aw ms bi"><span id="fd7c" class="mt lj iq le b gy mu mv l mw mx">plugin 'cocoapods-embed-flutter'</span></pre><p id="a63d" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lf ko kp kq lg ks kt ku lh kw kx ky kz ij bi translated">在此之后，对于任何目标，您都可以通过用<code class="fe lb lc ld le b">pub</code>替换关键字<code class="fe lb lc ld le b">pod</code>，使用与pods相同的语法声明一个flutter模块依赖项。要使用名为<code class="fe lb lc ld le b">my_cool_module</code>的颤振模块，请在本地使用:</p><pre class="ml mm mn mo gt mp le mq mr aw ms bi"><span id="f5ea" class="mt lj iq le b gy mu mv l mw mx">target 'my_app' do<br/>  pub '<!-- -->my_cool_module<!-- -->', :path =&gt; 'path/to/module'<br/>end</span></pre><p id="2169" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lf ko kp kq lg ks kt ku lh kw kx ky kz ij bi translated">这里的<code class="fe lb lc ld le b">:path</code>可以直接指向<code class="fe lb lc ld le b">pubspec.yaml</code>文件或者包含<code class="fe lb lc ld le b">pubspec.yaml</code>的目录。如果你的颤振模块与项目文件夹同名，那么你也可以提供你的颤振模块项目的父目录。</p><p id="148f" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lf ko kp kq lg ks kt ku lh kw kx ky kz ij bi translated">现在对于更复杂的场景，flutter模块可能托管在外部git存储库中，您可以使用:</p><pre class="ml mm mn mo gt mp le mq mr aw ms bi"><span id="d0ad" class="mt lj iq le b gy mu mv l mw mx">target 'my_app' do<br/>  pub '<!-- -->my_cool_module<!-- -->', :git =&gt; 'https://github.com/me/<!-- -->my_cool_module<!-- -->.git', :branch =&gt; 'dev'<br/>  pub 'flutter_module', :git =&gt; 'https://github.com/me/<!-- -->my_cool_module<!-- -->.git', :tag =&gt; '0.7.0'<br/>  pub 'flutter_module', :git =&gt; 'https://github.com/me/<!-- -->my_cool_module<!-- -->.git', :commit =&gt; '082f8319af'<br/>end</span></pre><p id="f05d" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lf ko kp kq lg ks kt ku lh kw kx ky kz ij bi translated">从版本<code class="fe lb lc ld le b">0.6</code>开始，如果你的flutter模块项目不在你的库的根目录，你也可以在你的库中指定相对路径:</p><pre class="ml mm mn mo gt mp le mq mr aw ms bi"><span id="ffc1" class="mt lj iq le b gy mu mv l mw mx">pub 'flutter_module', :git =&gt; 'https://github.com/me/<!-- -->my_cool_module<!-- -->.git', :tag =&gt; '0.7.0', :path =&gt; 'custom/path</span></pre><p id="fd34" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lf ko kp kq lg ks kt ku lh kw kx ky kz ij bi translated">您可以非常灵活地在git源代码中提供一个分支或标记或特定的提交。在声明了所有的依赖项之后，你可以运行<code class="fe lb lc ld le b">pod install</code>，让cocoapods为你做所有的工作。如需更详细的示例或工作示例，请查看GitHub repo中的<a class="ae la" href="https://github.com/DartBuild/cocoapods-embed-flutter/tree/main/example" rel="noopener ugc nofollow" target="_blank">示例</a>应用程序。</p><h1 id="d7c4" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">链接</h1><p id="013e" class="pw-post-body-paragraph kb kc iq ke b kf mg kh ki kj mh kl km lf mi kp kq lg mj kt ku lh mk kx ky kz ij bi translated">感谢阅读！希望这对你有所帮助，如果你需要额外的功能或者有一些建议，请加入GitHub repo。</p><p id="57ac" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lf ko kp kq lg ks kt ku lh kw kx ky kz ij bi translated"><a class="ae la" href="https://github.com/DartBuild/cocoapods-embed-flutter" rel="noopener ugc nofollow" target="_blank">dart build/cocoa pods-embed-flutter:cocoa pods插件，允许将flutter模块声明为依赖(github.com)</a></p></div></div>    
</body>
</html>