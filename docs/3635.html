<html>
<head>
<title>Build a React Component Library</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建一个React组件库</h1>
<blockquote>原文：<a href="https://itnext.io/building-a-scalable-ui-component-library-4607de91955a?source=collection_archive---------6-----------------------#2020-01-21">https://itnext.io/building-a-scalable-ui-component-library-4607de91955a?source=collection_archive---------6-----------------------#2020-01-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c405" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在Bit.dev上创建一个模块化的动态React UI库，以便更好地跨项目和团队重用组件。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><a href="https://bit.dev/collections"><div class="gh gi kf"><img src="../Images/7bb3bb64e9f3ef8914d4500dc0f4c558.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*UPtMMr8C5HRNQHjMHlizSg.gif"/></div></a><figcaption class="kn ko gj gh gi kp kq bd b be z dk translated">在Bit.dev上探索数千个社区UI库</figcaption></figure><p id="d246" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">React组件库是重用代码、加速开发和跨不同功能和应用程序保持一致的UI/UX的好方法。</p><p id="bd78" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Bit.dev是一种在云中托管库的新方法。如果说传统的单片库就像一张音乐CD专辑(许多歌曲硬编码到一个包中，只有一个版本)，那么Bit.dev就像Spotify或iTunes的组件。它是动态的、可扩展的、模块化的和协作的。</p><p id="84f9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这篇文章中，你将学习如何快速设置你的Bit.dev库，几乎没有任何开销。然后，您将使用Bit的CLI工具将现有应用程序中的多个组件打包、版本化并收集到您的库中。最后，您将学习如何安装、编辑和更新新项目中的任何组件。</p><p id="2bbd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这应该只需要几分钟。完成后，您就有了继续收集组件并一起重用它们的基础。</p><h1 id="d92b" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">一个动态、可扩展和模块化的库</h1><p id="9b7d" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated"><a class="ae mk" href="https://bit.dev" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> Bit.dev </strong> </a> <strong class="kt ir">是一个组件中枢</strong>，托管、组织和可视化可重用组件。它提供了UI库所需的一切，从内置的注册表到自动生成的文档和可视化沙箱。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="f198" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用它有几个重要的优点:</p><ol class=""><li id="468d" class="mn mo iq kt b ku kv kx ky la mp le mq li mr lm ms mt mu mv bi translated">您可以使用CLI-tool <a class="ae mk" href="https://github.com/teambit/bit" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> Bit </strong> </a>将组件从您的应用程序中逐渐收获到您的Bit.dev库中。Bit将为您自动完成这一过程，这样每个组件都被独立地包含和版本化。</li><li id="78d5" class="mn mo iq kt b ku mw kx mx la my le mz li na lm ms mt mu mv bi translated">在任何规模下，组件总是有组织的，并且是可发现的。您可以获得自动生成的文档、沙盒游戏、标签、过滤器等等……全部开箱即用。</li><li id="8f93" class="mn mo iq kt b ku mw kx mx la my le mz li na lm ms mt mu mv bi translated">您可以从内置的Bit.dev注册表中使用npm或yarn安装任何组件。你不必安装一个单一版本的整个库。这意味着你可以混合、更新甚至回滚独立的用户界面。</li><li id="7399" class="mn mo iq kt b ku mw kx mx la my le mz li na lm ms mt mu mv bi translated">您可以使用<code class="fe nb nc nd ne b">bit import</code>派生出一个componet源代码进行本地编辑，就在任何新项目中。由于代码仍然是由Bit管理的，所以您可以在Bit.dev中对更改进行版本化，并且仍然可以获得新版本的更新。</li></ol><p id="55f8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">还有更多的内容，但不要面面俱到，只需自己看一看<a class="ae mk" href="https://bit.dev" rel="noopener ugc nofollow" target="_blank">。底线是，Bit.dev是一种更简单但更具可伸缩性的方式来重用和协作您的UI组件。</a></p><h1 id="cf6f" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">1.创建您的Bit.dev库(1分钟)</h1><p id="0cbb" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">为了快速开始收集组件<a class="ae mk" href="https://bit.dev" rel="noopener ugc nofollow" target="_blank">注册Bit.dev </a>(个人使用免费)并<a class="ae mk" href="https://bit.dev/~create-collection" rel="noopener ugc nofollow" target="_blank">创建一个集合</a>(这是你的库)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><a href="https://bit.dev/~create-collection"><div class="gh gi nf"><img src="../Images/334160d2172966d4ea4ab14b3d780b89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/1*LwH13Y8ueCqwO1VqKOqsRg.png"/></div></a></figure><p id="a959" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后，打开终端应用程序。</p><h1 id="4a34" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">2.选择包含组件的项目并设置工作空间</h1><p id="6626" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">接下来，选择一个包含一些组件的项目。它可以是一个应用程序，现有的UI库或其他任何东西。</p><p id="2290" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">例如，您可以<a class="ae mk" href="https://github.com/teambit/movie-app" rel="noopener ugc nofollow" target="_blank">从GitHub </a>中克隆这个React演示应用程序。我们将使用Bit从应用程序中获取组件，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><a href="https://github.com/teambit/movie-app"><div class="gh gi ng"><img src="../Images/e732045ff3b437b5f8b2b4e3d9d3d59d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I0KIZ-1ceSbkw3kbMNeOjA.png"/></div></a></figure><p id="20ca" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">可重用组件集合，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><a href="https://bit.dev/bit/movie-app"><div class="gh gi nh"><img src="../Images/7429629430b36c0e3b2b10d704ec86e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yk3Jv0Zb938ZPpcxWQNhRQ.png"/></div></a></figure><p id="17f8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先，安装Bit并在项目的根目录下初始化一个工作空间。</p><pre class="kg kh ki kj gt ni ne nj nk aw nl bi"><span id="827b" class="nm lo iq ne b gy nn no l np nq">$ npm install bit-bin --global <br/># Or<br/>$yarn global add bit-bin</span><span id="ce54" class="nm lo iq ne b gy nr no l np nq">$ cd project-directory<br/>$ bit init</span></pre><blockquote class="ns nt nu"><p id="c3bc" class="kr ks nv kt b ku kv jr kw kx ky ju kz nw lb lc ld nx lf lg lh ny lj lk ll lm ij bi translated">注意:如果您克隆了演示应用程序，请在根目录下运行<code class="fe nb nc nd ne b">npm install</code>。</p></blockquote><h1 id="ef23" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">4.使用Bit包装组件</h1><p id="10f1" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">接下来，让Bit知道你的项目中的组件在哪里。</p><p id="66ce" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Bit会把每个组件放在一个类似容器的环境里，叫做“胶囊”。它将自动定义和添加所有组件的文件和依赖关系到每个组件。</p><p id="4b80" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae mk" href="https://docs.bit.dev/docs/add-and-isolate-components" rel="noopener ugc nofollow" target="_blank">使用</a> <code class="fe nb nc nd ne b"><a class="ae mk" href="https://docs.bit.dev/docs/add-and-isolate-components" rel="noopener ugc nofollow" target="_blank">bit add</a></code> <a class="ae mk" href="https://docs.bit.dev/docs/add-and-isolate-components" rel="noopener ugc nofollow" target="_blank">命令</a>让Bit知道元件的位置。您可以定义一个特定的文件路径，或者使用glob模式(/*)来跟踪单个目录中的所有组件。例如:</p><pre class="kg kh ki kj gt ni ne nj nk aw nl bi"><span id="ec33" class="nm lo iq ne b gy nn no l np nq">$ bit add src/components/* <br/>tracking 8 new components</span></pre><p id="781e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您克隆了演示应用程序，您还需要添加样式组件:</p><pre class="kg kh ki kj gt ni ne nj nk aw nl bi"><span id="2fe7" class="nm lo iq ne b gy nn no l np nq">$ bit add src/global.css --id style/global<br/>tracking component style/global:<br/>added src/global.css</span></pre><p id="9e1b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在运行一个快速的<code class="fe nb nc nd ne b">bit status</code>来确保Bit成功跟踪了每个文件和每个组件的依赖关系。如果需要，只需添加缺少的内容。</p><p id="9abe" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后，<a class="ae mk" href="https://bit.dev/bit/envs" rel="noopener ugc nofollow" target="_blank">添加一个可重用的配置组件</a>来为您的组件应用一个构建步骤。我们可以通过将一个配置模块从Bit.dev导入到我们项目的工作空间中来做到这一点。在演示应用程序中，我们将使用Bit.dev上的一个预制配置组件(包括最佳实践):</p><pre class="kg kh ki kj gt ni ne nj nk aw nl bi"><span id="db99" class="nm lo iq ne b gy nn no l np nq">$ bit import bit.envs/compilers/react --compiler<br/>the following component environments were installed<br/>- bit.envs/compilers/react@1.0.11</span></pre><blockquote class="ns nt nu"><p id="1844" class="kr ks nv kt b ku kv jr kw kx ky ju kz nw lb lc ld nx lf lg lh ny lj lk ll lm ij bi translated">请注意，现在您可以运行<code class="fe nb nc nd ne b">bit build</code>并观察组件作为独立的可重用单元进行编译，除了任何项目配置。</p></blockquote><p id="a63a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">就这样——您的组件现在可以导出到您的库中了！</p><h1 id="4fa2" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">5.版本并导出到Bit.dev</h1><p id="a490" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">接下来使用<code class="fe nb nc nd ne b">bit tag</code>为每个组件应用独立的语义版本。</p><pre class="kg kh ki kj gt ni ne nj nk aw nl bi"><span id="8f1f" class="nm lo iq ne b gy nn no l np nq">$ bit tag --all 1.0.0<br/>...9 components tagged | 9 added, 0 changed, 0 auto-tagged<br/>added components:  style/global@1.0.0, hero-button@1.0.0, hero@1.0.0, list-toggle@1.0.0, item@1.0.0, logo@1.0.0, navigation@1.0.0, title-list@1.0.0, user-profile@1.0.0</span></pre><p id="e408" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae mk" href="https://blog.bitsrc.io/versioning-independent-ui-components-why-and-how-7ea60d8be5f2" rel="noopener ugc nofollow" target="_blank">这非常有用</a>，因为您可以在以后混合不同版本的组件，更新或回滚特定的组件，并获得更好的控制。</p><p id="93e9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在向您的Bit.dev帐户验证您的本地计算机…</p><pre class="kg kh ki kj gt ni ne nj nk aw nl bi"><span id="3a0e" class="nm lo iq ne b gy nn no l np nq">$ bit login</span></pre><p id="1b41" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">并使用<code class="fe nb nc nd ne b">bit export</code>组件到您的Bit.dev libray！</p><pre class="kg kh ki kj gt ni ne nj nk aw nl bi"><span id="ae9e" class="nm lo iq ne b gy nn no l np nq">$ bit export &lt;user-name&gt;.movie-app-example<br/>exported 9 components to scope bit.movie-app-example</span></pre><h1 id="5837" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">6.重复使用您的组件！</h1><p id="3b12" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">现在前往你在<a class="ae mk" href="https://bit.dev" rel="noopener ugc nofollow" target="_blank"> Bit.dev </a>上的收藏。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="nz oa di ob bf oc"><div class="gh gi nh"><img src="../Images/7429629430b36c0e3b2b10d704ec86e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yk3Jv0Zb938ZPpcxWQNhRQ.png"/></div></div></figure><p id="d7e6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您可以看到它现在托管了您导出的组件。这很酷，对吧？从在React应用中内部实现组件，到将它们放入可重用的云库中，只需要几分钟。只要随着时间的推移不断添加更多的组件来扩展您的库。</p><p id="5015" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">单击任何组件进行访问。例如，点击<em class="nv">英雄</em>组件。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><a href="https://bit.dev/bit/movie-app/components/hero"><div class="gh gi od"><img src="../Images/4379545a4ce42f902e6a1de7dff654a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zIXhPSN3jY2KAcUkmXjzMw.png"/></div></a></figure><p id="d56d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您将注意到一个带有npm、yarn和bit标志的安装面板。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/b1f51d3e44cf0bd16401db62d49f09e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:988/format:webp/1*iHauXUXvhQCXUSe6eQJ_lg.png"/></div></figure><p id="2309" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要在另一个项目中安装组件，只需复制粘贴您喜欢的包管理器的安装命令。该组件将从内置的Bit.dev注册表中安装！</p><p id="5d87" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您想派生组件并在本地编辑它，<a class="ae mk" href="https://docs.bit.dev/docs/sourcing-components" rel="noopener ugc nofollow" target="_blank">在消费项目中初始化一个Bit工作空间后，使用</a> <code class="fe nb nc nd ne b"><a class="ae mk" href="https://docs.bit.dev/docs/sourcing-components" rel="noopener ugc nofollow" target="_blank">bit import</a></code> <a class="ae mk" href="https://docs.bit.dev/docs/sourcing-components" rel="noopener ugc nofollow" target="_blank">命令</a>。</p><p id="51c6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后，您可以对代码进行更改，并<em class="nv">标记一个新版本。</em>你可以从Bit.dev获取新版本的更新，并通过Git的工作流合并它们之间的更改——这样你就可以始终与新版本保持同步。</p><h1 id="f077" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">7.不断添加组件以扩展您的库，邀请团队成员进行协作</h1><p id="131b" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">一旦你的库启动了一些组件，邀请你的团队在你的库上合作，并开始添加他们自己的组件。</p><p id="c7ca" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">随着你的进行，你的集合将会建立，你可以开始重用你的组件来加速开发，确保UI的一致性，简化应用程序的维护和逐步重构。</p><p id="7081" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">尽情享受，有什么问题尽管问下面！干杯</p></div><div class="ab cl of og hu oh" role="separator"><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok"/></div><div class="ij ik il im in"><h1 id="1705" class="ln lo iq bd lp lq om ls lt lu on lw lx jw oo jx lz jz op ka mb kc oq kd md me bi translated">了解更多信息</h1><div class="or os gp gr ot ou"><a href="https://blog.bitsrc.io/5-tools-for-faster-development-in-react-676f134050f2" rel="noopener  ugc nofollow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd ir gy z fp oz fr fs pa fu fw ip bi translated">在React中加快开发的5个工具</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">加速React应用程序开发的5个工具，侧重于组件。</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">blog.bitsrc.io</p></div></div><div class="pd l"><div class="pe l pf pg ph pd pi kl ou"/></div></div></a></div><div class="or os gp gr ot ou"><a href="https://blog.bitsrc.io/11-react-component-libraries-you-should-know-178eb1dd6aa4" rel="noopener  ugc nofollow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd ir gy z fp oz fr fs pa fu fw ip bi translated">2019年你应该知道的11个React UI组件库</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">11 React组件库与伟大的组件，用于在2019年构建您的下一个应用的UI界面。</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">blog.bitsrc.io</p></div></div><div class="pd l"><div class="pj l pf pg ph pd pi kl ou"/></div></div></a></div><div class="or os gp gr ot ou"><a href="https://blog.bitsrc.io/how-to-easily-share-react-components-between-projects-3dd42149c09" rel="noopener  ugc nofollow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd ir gy z fp oz fr fs pa fu fw ip bi translated">如何在项目和应用程序之间共享React UI组件</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">一个简单的指南，帮助您轻松地跨应用程序共享和重用React组件，以更快更好地构建。</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">blog.bitsrc.io</p></div></div><div class="pd l"><div class="pk l pf pg ph pd pi kl ou"/></div></div></a></div></div></div>    
</body>
</html>