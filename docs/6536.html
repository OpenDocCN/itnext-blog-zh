<html>
<head>
<title>6 simple tips for working with React and TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React和TypeScript的6个简单技巧</h1>
<blockquote>原文：<a href="https://itnext.io/6-simple-tips-for-working-with-react-and-typescript-1025841fb877?source=collection_archive---------5-----------------------#2021-12-12">https://itnext.io/6-simple-tips-for-working-with-react-and-typescript-1025841fb877?source=collection_archive---------5-----------------------#2021-12-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/c4e182d4950d0000d29c1e8ed1dfb4e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yvolwAimN6pzpwdVRmdZig.png"/></div></div></figure><p id="d19c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在本帖中，我们将介绍一些在用TypeScript构建React应用程序时有用的常见技巧、建议和技术。</p><h1 id="bacf" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">使用实用程序类型</h1><p id="d7ee" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">在使用TypeScript时，您经常希望在现有类型的基础上构造新类型。以这种方式创建新类型有几个好处:</p><ul class=""><li id="9d40" class="mc md it kd b ke kf ki kj km me kq mf ku mg ky mh mi mj mk bi translated">与干燥原则保持一致。通过重用现有类型来减少代码中的重复。</li><li id="e6d9" class="mc md it kd b ke ml ki mm km mn kq mo ku mp ky mh mi mj mk bi translated">当你的类型改变时保持同步。当您更改任何基础类型时，它的所有子代类型也将采用该更改。</li></ul><p id="bfea" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">创建新类型的一种方法是使用TypeScript实用工具类型。在编写自定义类型时，实用程序类型可以帮助您解决更复杂的边缘情况。我在另一篇文章中写了<a class="ae mq" href="https://isamatov.com/typescript-utility-types-for-react/" rel="noopener ugc nofollow" target="_blank">实用程序类型的概述</a>，你可能会觉得有用。</p><h1 id="aeb5" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">使用泛型创建可重用的组件</h1><p id="0603" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">您可以使用<code class="fe mr ms mt mu b">React.Component</code>类型在TypeScript中编写可重用的通用React组件。</p><p id="1d9a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe mr ms mt mu b">React.Component</code>是一个通用的参数化类型，可以用来创建接受动态输入类型的组件。让我们看看如何用这种类型创建一个通用列表组件:</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mv"><img src="../Images/d8d91ca1c67370736b2394ee3c99f663.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BA8mWlCZ5x9cX78rLCLzzg.png"/></div></div></figure><p id="d85e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在上面的例子中，我们创建了一个通用列表组件，它接受动态类型<code class="fe mr ms mt mu b">T</code>作为输入。这意味着我们的组件可以为它的<code class="fe mr ms mt mu b">items</code>属性接受任何类型的数据。然后我们使用<code class="fe mr ms mt mu b">map</code>函数迭代<code class="fe mr ms mt mu b">items</code>数组中的每一项，并使用<code class="fe mr ms mt mu b">itemRenderer</code>函数prop渲染它。</p><p id="b984" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">通过以这种方式创建泛型组件，您可以编写适用于多种类型的代码，并减少代码重复。</p><h1 id="f4c2" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">使用React。CSS属性</h1><p id="80ad" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated"><code class="fe mr ms mt mu b">React.CSSProperties</code>是在React中为CSS-in-JS对象表示样式信息的类型。这种类型对于将<code class="fe mr ms mt mu b">style</code>属性传递给组件并确保它以React支持的方式使用很有用。</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi na"><img src="../Images/5af6392994de18ff555c940200e19bdb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j_72NPnOqwMfVv2seJ6bpw.png"/></div></div></figure><h1 id="0758" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">使用React扩展HTML元素。HTMLProps</h1><p id="0abe" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">使用React。HTMLProps，您可以创建自定义元素来扩展本机HTML元素的功能。</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nb"><img src="../Images/ec56895d218f3624bc7059caad928e30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d9l_12uiiPHi33iz2spObQ.png"/></div></div></figure><p id="cf02" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在上面的代码示例中，我们创建了一个名为<code class="fe mr ms mt mu b">Input</code>的定制React元素，该元素使用<code class="fe mr ms mt mu b">React.HTMLProps</code>构造其props类型。然后我们使用<code class="fe mr ms mt mu b">about</code>、<code class="fe mr ms mt mu b">accept</code>和其他HTML属性来定义它的行为。</p><h1 id="f235" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">对常数使用类型</h1><p id="98a0" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">使用以下语法在项目中创建全局常量是一种常见的做法:</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nc"><img src="../Images/2c0adb31ef6bfda09b92b96e231c02c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1xKguKIx3sh-_rV_h7lYoQ.png"/></div></div></figure><p id="56a4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">例如，在创建Redux动作时，经常使用这样的语法。然而，更好的解决方案是使用类型而不是字符串常量:</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nd"><img src="../Images/60a30b05413f29a10f8b5c71bc517f46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A7mbFP5KzZsSXWfhRqc1XA.png"/></div></div></figure><p id="612e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这样做有助于我们避免输入错误，并确保没有人使用除我们允许的以外的任何变体类型。</p><p id="38ca" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">另一个好处是，当使用像VSCode这样的ide时，我们可以更好地支持IntelliSense。我们可以自动完成变体，并对代码进行类型检查:</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/22830a006e5f83d7f8d1c7f55b43ded8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1284/format:webp/1*m2UnaXXnSlbg9v_Og2UrXg.png"/></div></figure><h1 id="a384" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">使用简写环境模块解决外部类型错误</h1><p id="9aa9" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">环境声明用于描述不是用TypeScript编写的库的API形状。这些通常在d.ts文件中定义。</p><p id="cd42" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果您正在寻找第三方模块的类型声明，但似乎找不到，您可以创建自己的类型，或者使用<a class="ae mq" href="https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/Modules.md#shorthand-ambient-modules" rel="noopener ugc nofollow" target="_blank">速记环境模块</a> : <br/> <code class="fe mr ms mt mu b">declare module "hot-new-module";</code>关闭该模块的类型检查</p><p id="37db" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">因此，TypeScript将把<code class="fe mr ms mt mu b">any</code>类型应用到这个速记模块的所有导入中。</p><h1 id="25a1" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">结论</h1><p id="2d58" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">我希望这份打字稿提示列表对你有所帮助。如果你正在寻找更多的资源，我推荐你看看这篇关于使用带有React和Redux的TypeScript的综合指南。这篇文章不是一个详细的教程，而是一些常见实践的概述，在使用React和TypeScript时会有所帮助。编码快乐！</p></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><p id="3262" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><em class="nm">原载于2021年12月12日https://isamatov.com</em><em class="nm"/><a class="ae mq" href="https://isamatov.com/react-typescript-tips/" rel="noopener ugc nofollow" target="_blank"><em class="nm">。</em></a></p></div></div>    
</body>
</html>