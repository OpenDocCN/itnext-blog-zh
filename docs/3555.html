<html>
<head>
<title>5 Types of Applications That Should Be Serverless</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">应该无服务器的5种类型的应用程序</h1>
<blockquote>原文：<a href="https://itnext.io/dont-go-brainless-into-serverless-8f90d483798?source=collection_archive---------2-----------------------#2020-01-08">https://itnext.io/dont-go-brainless-into-serverless-8f90d483798?source=collection_archive---------2-----------------------#2020-01-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/605983a1569488ceac24dc16e5f097bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q4T8JuqLjLXLPSTDhWJcHg.jpeg"/></div></div></figure><h1 id="c13a" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">所以你想没有服务器，是吗🏋🏼？</h1><blockquote class="kw kx ky"><p id="f5bf" class="kz la lb lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated"><em class="iq">At</em><a class="ae ly" href="https://partwell.io" rel="noopener ugc nofollow" target="_blank"><em class="iq">part well</em></a><em class="iq">我们帮助公司深入了解员工决定离职的原因。最重要的是，我们想出了一个独特的解决方案，帮助您在5年内重新雇用高达40%的最佳流失人才。更多信息请访问</em><a class="ae ly" href="https://partwell.io" rel="noopener ugc nofollow" target="_blank"><em class="iq">part well . io</em></a><em class="iq">。</em></p></blockquote><h2 id="d715" class="lz jz iq bd ka ma mb dn ke mc md dp ki me mf mg km mh mi mj kq mk ml mm ku mn bi translated">一些背景和术语</h2><p id="898e" class="pw-post-body-paragraph kz la iq lc b ld mo lf lg lh mp lj lk me mq ln lo mh mr lr ls mk ms lv lw lx ij bi translated">随着无服务器成为服务器端应用程序设计的下一步，云计算领域已经发生了演变。那么云计算和无服务器的区别是什么呢？在云计算中，典型的用户租用服务器空间和处理能力。因为您租用了整个资源，所以它是全天候可用的。资源本身不在乎你用不用。</p><p id="0be2" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated">这种模式随着无服务器应用程序而改变。</p><p id="4009" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated">无服务器应用程序背后的思想是，资源本身只有在被使用时才会被创建。因此，当用户/客户端实际与应用程序交互时，您将使用资源。</p><p id="7c02" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated">作为一名开发人员，你必须编写特殊的功能，并将它们部署到托管服务中(AWS Lambda、Google Cloud Functions等)。).一个典型的HTTP流应该是这样的:(1)用户发送一个HTTP请求，(2)请求将由基础设施处理，(3)将为相关函数创建一个容器，(4)函数执行，(5)执行完成，资源被释放。</p><p id="d0ab" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated">这种模式被称为功能即服务(FaaS)，经常与术语<em class="lb">无服务器</em>互换使用。</p><p id="69c0" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated">这种方法体现了千禧一代开发者想要的一切:放手、自由、每周工作四小时等等。你明白了…🚀🚀🚀</p><p id="81c2" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated">简而言之，无服务器承诺轻松扩展和降低成本。</p><h1 id="4263" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">动机</h1><p id="6762" class="pw-post-body-paragraph kz la iq lc b ld mo lf lg lh mp lj lk me mq ln lo mh mr lr ls mk ms lv lw lx ij bi translated">在过去的几个月里，我已经阅读了无数关于这个话题的文章，数百页充满了令人困惑的信息和观点。最后我做了一个原型。经过一些测试后，我将我的架构恢复为传统的堆栈。</p><p id="1974" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated">这太麻烦了。</p><p id="78e7" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated">走了这条痛苦的路后，我发现无服务器有它的使用案例，但是在一头扎进美味的每月一次的体系结构之前，你应该花时间研究一下🍬。</p><h1 id="94ef" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">一句警告</h1><p id="deea" class="pw-post-body-paragraph kz la iq lc b ld mo lf lg lh mp lj lk me mq ln lo mh mr lr ls mk ms lv lw lx ij bi translated"><strong class="lc ir">无服务器！== AWS Lambda: </strong>无服务器架构有很多服务提供商，其中AWS Lambda是最著名的一个。这篇文章很大程度上来源于我对AWS Lambda的体验。我的大部分发现，但不是全部，可以推断到其他供应商。</p><p id="16d7" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated"><strong class="lc ir">随波逐流还是逆流而上:</strong>是的，你是一名开发人员，通过足够多的黑客攻击，你会将你的Linux服务器变成一艘火箭飞船🚀。然而，为正确的用例选择正确的工具就像随波逐流一样。反其道而行之会觉得……嗯，像反其道而行之。显然，无服务器有很多可能。这篇文章是写给想随波逐流的人的，而不是反潮流的。<strong class="lc ir">如果你想要一篇关于复杂的VPC架构和实验数据库的文章，这篇文章不适合你。</strong></p><h1 id="904d" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">什么时候应该采用无服务器模式？</h1><h2 id="27c3" class="lz jz iq bd ka ma mb dn ke mc md dp ki me mf mg km mh mi mj kq mk ml mm ku mn bi translated">1如果你的应用没有很多用户，并且你不打算扩展，那么就选择无服务器</h2><p id="0fe2" class="pw-post-body-paragraph kz la iq lc b ld mo lf lg lh mp lj lk me mq ln lo mh mr lr ls mk ms lv lw lx ij bi translated">无服务器是运行没有很多用户的非常小的应用程序的好方法。这个用例的优势是价格。使用无服务器运行可靠的小型基础设施非常便宜。</p><p id="b549" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated">下面是一个定价示例，有1000个用户每天发出约20个请求(来源:serverless-stack.com):</p><figure class="mu mv mw mx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mt"><img src="../Images/496040cf2803325714e375bf8bf64390.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MfwbRuHU3lv-7pnjH9dcYg.png"/></div></div></figure><p id="a715" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated">只需6.10美元，你就可以运行一个24/7可用的小应用程序，几乎不需要维护，数据备份等等。真了不起！<strong class="lc ir">不要相信一旦你扩大规模，价格就会保持这么低的神话——它们不会的！</strong></p><h2 id="e54d" class="lz jz iq bd ka ma mb dn ke mc md dp ki me mf mg km mh mi mj kq mk ml mm ku mn bi translated">2如果你的流量看起来像这样，去无服务器</h2><figure class="mu mv mw mx gt jr gh gi paragraph-image"><div class="gh gi my"><img src="../Images/a06dd9a62f6e56588134ba57b8b39001.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*L8j5Jp4CxNV11B6Y5sCeiw.png"/></div></figure><p id="6921" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated">功能即服务是<strong class="lc ir">按需</strong>。所有东西都在服务器上，只有当用户请求进来时，才会创建一个容器并执行您的功能。因此，你只需要在你的函数被执行的时候付费。如果你有很多时间用户不会(或者很少)使用你的服务，这使得无服务器成为一个很好的解决方案。寻找尖峰流量模式！</p><p id="7b30" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated">当您将AWS基础设施与dynamo db(Lambda(FaaS)的首选数据库)一起使用时，这一点尤其正确。</p><p id="54f2" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated">DynamoDB有一个很好的新定价模型，专门针对这种叫做按需的使用模式。你最终可以节省很多钱，因为当交通流量较低时，你不会付出太多。</p><p id="f3d2" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated">另一方面，如果你的流量分布均匀且很高，你应该准备好打开你的钱包…我指的是大时间(见:<a class="ae ly" href="https://gist.github.com/jordansissel/1797961" rel="noopener ugc nofollow" target="_blank">https://gist.github.com/jordansissel/1797961</a>)。对于所有主要的云提供商来说，这是部分正确的，但对于AWS DynamoDB来说尤其如此。</p><p id="b1f0" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated">而且你不会很快迁移到更便宜的解决方案，因为你会被你的云提供商的专有生态系统所束缚。</p><h2 id="116e" class="lz jz iq bd ka ma mb dn ke mc md dp ki me mf mg km mh mi mj kq mk ml mm ku mn bi translated">3如果您的应用程序具有非常可预测的数据访问模式，则选择无服务器</h2><p id="4a09" class="pw-post-body-paragraph kz la iq lc b ld mo lf lg lh mp lj lk me mq ln lo mh mr lr ls mk ms lv lw lx ij bi translated">在设计数据库时，你知道你的应用程序最终会做什么吗？您是否已经规划出用户访问其数据的每一种方式？你确定这些模式在未来不会改变吗？好消息，无服务器可能适合您。在无服务器的情况下，你很可能最终会使用NoSQL数据库，比如DynamoDB或Google BigTable。虽然这些数据库在存储数据方面提供了灵活性，但在访问存储数据的方式方面肯定不够灵活。</p><p id="6217" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated">因此，如果你的应用程序可以依赖于一个简单的键值存储数据库，并且这就是它在剩余的生命周期中所需要的全部——对你来说是好事。</p><p id="48a8" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated">例如，如果你正在构建一个未来可能出现新用例的社交应用——走向无服务器将感觉像逆水行舟。</p><h2 id="88a3" class="lz jz iq bd ka ma mb dn ke mc md dp ki me mf mg km mh mi mj kq mk ml mm ku mn bi translated">4如果您想要无限扩展并且能够承受成本，请选择无服务器</h2><p id="f989" class="pw-post-body-paragraph kz la iq lc b ld mo lf lg lh mp lj lk me mq ln lo mh mr lr ls mk ms lv lw lx ij bi translated">如果您正在运行一个需要超出通常标准的大型应用程序，并且您有财力支付发生的成本，那么无服务器可能是一个很好的选择。</p><p id="68bf" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated">如果您是上述规模的公司，那么很可能需要在开发运维团队或完全托管的服务之间做出决定。坦白地说，这两种选择都很昂贵，所以很有可能数学会解决。无论如何，如果你是一家那样规模的公司，你可能首先就不应该依赖关于媒介的建议:所以，去给你选择的企业销售代表☎️.打电话吧</p><p id="b4c1" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated">但是请注意，在无服务器上运行大型/高可靠性/超高性能的应用程序会有其自身的缺陷。这些陷阱将需要他们自己的开销和管理。测试、构建开发环境、定制工具的需求、冷启动(某些请求的性能不佳)、热碎片等。仍然需要你在你的无服务器架构中投入大量的工作(参见:【https://segment.com/blog/the-million-dollar-eng-problem/】<a class="ae ly" href="https://segment.com/blog/the-million-dollar-eng-problem/" rel="noopener ugc nofollow" target="_blank">)。如果你运气不好，你可能会以同样的DevOps团队和AWS法案结束，这将压榨你的柠檬🍋。</a></p><h2 id="f49d" class="lz jz iq bd ka ma mb dn ke mc md dp ki me mf mg km mh mi mj kq mk ml mm ku mn bi translated">5 .如果你不处理大量的文件或网络套接字，就不要使用服务器</h2><p id="4cb4" class="pw-post-body-paragraph kz la iq lc b ld mo lf lg lh mp lj lk me mq ln lo mh mr lr ls mk ms lv lw lx ij bi translated">对于功能即服务(FaaS ),通常有一个运行单个功能的最长时间。直到2018年，这已经是5分钟了。对于AWS Lambda，现在是15分钟。</p><p id="8e48" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated">如果你需要上传大文件，如4k电影到S3桶，15分钟。这可能还不够，您必须通过无服务器架构发挥真正的创造力才能做到这一点。一般来说，你会用lambda做一些它没有被设计的事情。因此，你会发现自己在逆流而上。</p><p id="aa0c" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated">Websockets上的with serverless稍微复杂一点。虽然你可以这样做，而且你会找到一些资源向你展示如何做到这一点，但我认为你最好使用传统的后端(如果你发现自己在寻找关于这个主题的更多信息，请发表评论)。</p><h1 id="d631" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">更多需要考虑的事情</h1><h2 id="0582" class="lz jz iq bd ka ma mb dn ke mc md dp ki me mf mg km mh mi mj kq mk ml mm ku mn bi translated">不会有很多工具为你准备好</h2><p id="5091" class="pw-post-body-paragraph kz la iq lc b ld mo lf lg lh mp lj lk me mq ln lo mh mr lr ls mk ms lv lw lx ij bi translated">无服务器是相当不成熟的。目前，无服务器框架是一种非常流行的方法，已经存在好几年了。</p><p id="9d09" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated">但是这个框架非常单薄。如果你习惯了现代MVC框架的舒适，你会发现自己从头开始构建了很多东西。在许多方面，你正在重新发明轮子…难道我们没有被教导不要那样做吗？</p><p id="58ab" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated">调试您的应用程序也将非常麻烦。您肯定会发现自己在代码中放了很多<em class="lb"> console.log() </em>。之后，您将从cloudwatch中抓取日志(如果是AWS)。</p><h2 id="32d8" class="lz jz iq bd ka ma mb dn ke mc md dp ki me mf mg km mh mi mj kq mk ml mm ku mn bi translated">这并不全是坏事:与AWS IAM、Cognito和Cloudformation的集成非常好</h2><p id="9774" class="pw-post-body-paragraph kz la iq lc b ld mo lf lg lh mp lj lk me mq ln lo mh mr lr ls mk ms lv lw lx ij bi translated">如果您不熟悉您的云提供商的服务，那么在您能够高效地使用无服务器之前，还有很多东西需要学习。在AWS的情况下，你必须很好地掌握API-Gateway、Cloudformation(作为代码的基础设施)、IAM等。</p><p id="6489" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated">一旦您很好地掌握了这些主题，集成就会进行得很好。<strong class="lc ir">但有所不同:</strong>你现在完全被锁定在你的云提供商的生态系统中——拥有所有的好处和陷阱。</p><h2 id="5b60" class="lz jz iq bd ka ma mb dn ke mc md dp ki me mf mg km mh mi mj kq mk ml mm ku mn bi translated">您必须花时间深入NoSql数据建模</h2><p id="f87a" class="pw-post-body-paragraph kz la iq lc b ld mo lf lg lh mp lj lk me mq ln lo mh mr lr ls mk ms lv lw lx ij bi translated">对许多人来说，无服务器是涉足NoSql的一个很好的理由，因为亚马逊和谷歌为NoSql和FaaS提供了很好的集成。从SQL和规范化数据模式的世界来看，这不是一件容易的事情！由于您的数据访问模式(您查询数据的方式)一旦投入生产就非常不灵活，因此您应该花时间研究如何正确地为您的数据建模。这需要时间，但却是一次很好的学习经历。</p><h1 id="dfab" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">结论🎉🎉🎉🎉</h1><p id="43ae" class="pw-post-body-paragraph kz la iq lc b ld mo lf lg lh mp lj lk me mq ln lo mh mr lr ls mk ms lv lw lx ij bi translated">无服务器是令人兴奋和有趣的。目前，我认为价格是一个禁止因素。无服务器肯定不是银弹，但对于正确的用例，它可能会给你一种随波逐流的感觉。</p><p id="67f0" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated">保持快乐，继续黑客🤖！</p><p id="6e33" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk me lm ln lo mh lq lr ls mk lu lv lw lx ij bi translated">我正试图建立一个twitter用户群。如果成功了，我会发布更多有用的编码技巧。跟我来https://twitter.com/FlorianMartens9<a class="ae ly" href="https://twitter.com/FlorianMartens9" rel="noopener ugc nofollow" target="_blank">😜</a></p></div></div>    
</body>
</html>