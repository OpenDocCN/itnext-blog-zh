<html>
<head>
<title>How to Git PR From The Command Line</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何从命令行获取PR</h1>
<blockquote>原文：<a href="https://itnext.io/how-to-git-pr-from-the-command-line-a5b204a57ab1?source=collection_archive---------0-----------------------#2018-06-21">https://itnext.io/how-to-git-pr-from-the-command-line-a5b204a57ab1?source=collection_archive---------0-----------------------#2018-06-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="536c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Git是一个免费的开源分布式版本控制系统，旨在快速高效地处理从小型到大型项目的所有事情——https://git-scm.com/<a class="ae kl" href="https://git-scm.com/" rel="noopener ugc nofollow" target="_blank"/>。Git是当今最常用的版本控制软件，因为它不同于其他的源代码控制软件。它最大的优点是它是分布式的，这意味着每个合作者都有一个完整的存储库克隆，并且可以使用像rebase an等uniq算法与远程存储库一起合并变更。如果您想了解更多关于git的知识，这里的是一个很好的起点。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi km"><img src="../Images/fecfe7033b813275ef27c83bc5783b20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/0*2BLStUiqfi8r2ehQ"/></div></figure><p id="bad4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们使用git作为命令行来创建存储库和进行更改，合并到上游存储库等等。在git之上构建了很多工具，其中之一就是Github。Github是一个允许最大化不同用户之间协作的软件，在git之上提供了许多功能，如issues、wiki等等。Git允许社区努力为开源项目服务。包括功能分支管理和拉请求，这就是这篇文章的全部内容。</p><p id="6386" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Pull Request (PR)是Github的一个特性，允许用户更好地合作。通常在源代码控制软件中有一个描述产品的主分支——在git中是主分支。用户可以创建一个特性分支，并在那里进行更改，然后向主分支发布一个PR，让其他人审阅、批准或拒绝更改，并最终合并到主分支。讨论潜在的改进对于编写和维护高质量的存储库至关重要。</p><p id="b3c5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在PR是Github的特性，但是它依赖于名为<code class="fe ku kv kw kx b">request-pull</code>的git特性。Git通过提供一个特性来支持PRs，该特性允许您从不同的分支或不同的存储库中请求从一个工作集到另一个工作集的pull。该命令允许您查看包含所有将要合并的提交和变更的特性分支的摘要。使用PRs时，建议在特征分支中工作，而不是在主分支中工作，并向主分支发送PRs。我将只展示描述最佳实践的例子。“请求拉”命令行工具允许您查看您在功能分支上所做的所有更改，</p><p id="9dfd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe ku kv kw kx b">request-pull</code>命令行参数并不那么直接。<code class="fe ku kv kw kx b">git request-pull --help</code>将向您展示该命令的完整用法和规格。</p><p id="ab7a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">基本签名是<code class="fe ku kv kw kx b">git request-pull [-p] &lt;start&gt; &lt;url&gt; [&lt;end&gt;]</code></p><ul class=""><li id="3269" class="ky kz iq jp b jq jr ju jv jy la kc lb kg lc kk ld le lf lg bi translated">[-p] —不使用该选项运行请求-拉将输出已更改文件的摘要。-p更详细，将输出从分割提交到结束提交所做的所有更改。</li><li id="e493" class="ky kz iq jp b jq lh ju li jy lj kc lk kg ll kk ld le lf lg bi translated"><start> —是要合并到的起点。大多数时候我们会给它主分支，git会自己计算开始提交。开始提交是特征分支从中分离出来的共同祖先。</start></li><li id="351a" class="ky kz iq jp b jq lh ju li jy lj kc lk kg ll kk ld le lf lg bi translated"><url> —是要比较的存储库。它可以是本地存储库，也可以是远程存储库。</url></li><li id="d7e7" class="ky kz iq jp b jq lh ju li jy lj kc lk kg ll kk ld le lf lg bi translated"><end> —我们想要停止比较的终点。通常我们不会声明end commit，因为我们希望合并所有最近的更改。为了简单起见，我们不展示这种用法。</end></li></ul><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi lm"><img src="../Images/62825261f8ec67b82537fe670f085f14.png" data-original-src="https://miro.medium.com/v2/resize:fit:434/0*2MQWstz5CU0vEaIZ"/></div></figure><p id="6d15" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了将最新的特征分支变更合并到主分支，首先我们要确保我们在特征分支上，因为这是从特征分支到主分支的合并请求。用<code class="fe ku kv kw kx b">git checkout -b [branch-name]</code>转到特征分支。然后我们可以运行<code class="fe ku kv kw kx b">git request-pull master ./</code>来运行从特性分支到主特性的比较。请注意，我们将主数据库作为开始数据库，将本地存储库作为比较对象，因此为了获得准确的结果，我们需要从最新的主数据库中提取数据。</p><p id="fe34" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们检查这样一个输出:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi ln"><img src="../Images/c1a457315a1977d4e43469c3ae227427.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CNwMDUy4Aqg_kAgX"/></div></div></figure><p id="b179" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们可以将命令输出分成两部分:</p><ol class=""><li id="290d" class="ky kz iq jp b jq jr ju jv jy la kc lb kg lc kk ls le lf lg bi translated">提交细节——我们可以看到计算的开始提交(SHA1 +描述)和结束提交(SHA1 +描述),之后是中间的所有提交。在我们的例子中，只有一个提交“可视化初始提交”。</li><li id="6618" class="ky kz iq jp b jq lh ju li jy lj kc lk kg ll kk ls le lf lg bi translated">已更改的文件—我们可以看到有8个文件发生了更改，插入了180个内容。如果我们运行带有-p标志的命令，我们还会看到更改，而不仅仅是摘要。</li></ol><p id="e6dd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在Github PR request页面中，我们可以看到显示的更改细节与我们在这里看到的完全一样，只是做了一些小的修改。要查看PR的所有更改，我们可以使用<code class="fe ku kv kw kx b">-p</code>运行上面的示例，但是要查看每次提交的更改，我们必须运行另一个命令，给出确切的提交<code class="fe ku kv kw kx b">gif diff [SHA1] [SHA1]^</code>。</p><p id="f8a6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">到目前为止，我们只使用git特性，这意味着pull请求是一个git术语，CLI支持UI实现中显示的一切，如Github。现在，要在Github中发布一个真正的PR请求，我们需要使用Github公共API。<a class="ae kl" href="https://hub.github.com/" rel="noopener ugc nofollow" target="_blank"> HUB </a>是一个很棒的工具，可以让你与Github API进行交互，并从命令行对资源库进行更改，例如你可以通过运行<code class="fe ku kv kw kx b">hub pull-request</code>在Github中创建一个PR。</p><p id="e021" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">就这样，从现在开始，我只从命令行执行我的PRs。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi lt"><img src="../Images/769d2a4638fb72a62ef5af1b18885bbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1mtN83goxdCbqRdg"/></div></div></figure><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="lu lv l"/></div></figure></div></div>    
</body>
</html>