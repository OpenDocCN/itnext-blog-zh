<html>
<head>
<title>Signing a Message and Encryption</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">签署消息和加密</h1>
<blockquote>原文：<a href="https://itnext.io/signing-a-message-e303c2954499?source=collection_archive---------4-----------------------#2019-10-01">https://itnext.io/signing-a-message-e303c2954499?source=collection_archive---------4-----------------------#2019-10-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/85b4667d538d5d919c3cafe6cb9fab14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Juh_rGhpY7DCb8as04mE7g.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">图片由来自<a class="ae kc" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=3400657" rel="noopener ugc nofollow" target="_blank">皮克斯拜</a>的<a class="ae kc" href="https://pixabay.com/users/TheDigitalArtist-202249/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=3400657" rel="noopener ugc nofollow" target="_blank">皮特·林福思</a>拍摄</figcaption></figure><h1 id="33f4" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">介绍</h1><p id="6e2e" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">手游行业有各种不同的黑客行为。人们可能会在将数据发送到服务器之前修改客户端数据，或者从服务器上窥探数据。防止这种攻击最常见的方法是在发送之前对你的信息进行加密和签名。</p><p id="a018" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">“签名消息”和“加密消息”的主要区别在于，“签名消息”确保消息来自正确的来源并且没有被修改。而“加密消息”确保消息只能被授权方<strong class="ld ir">读取。</strong></p><p id="29ed" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">在这篇文章中，我们将重点讨论消息签名部分。</p><h1 id="2b36" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">公钥和私钥</h1><p id="a599" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">我假设您对加密有基本的了解，如果您不熟悉加密密钥，我们在这里快速浏览一下:</p><h2 id="2e20" class="me ke iq bd kf mf mg dn kj mh mi dp kn lm mj mk kr lq ml mm kv lu mn mo kz mp bi translated">使用</h2><ul class=""><li id="43e1" class="mq mr iq ld b le lf li lj lm ms lq mt lu mu ly mv mw mx my bi translated">用公钥加密的内容只能用私钥解密。</li><li id="f533" class="mq mr iq ld b le mz li na lm nb lq nc lu nd ly mv mw mx my bi translated">用私钥加密的内容只能用其公钥解密。</li></ul><h2 id="54d2" class="me ke iq bd kf mf mg dn kj mh mi dp kn lm mj mk kr lq ml mm kv lu mn mo kz mp bi translated">公开密钥</h2><ul class=""><li id="c785" class="mq mr iq ld b le lf li lj lm ms lq mt lu mu ly mv mw mx my bi translated">对于公共用途，您可以将它上传到网络上，或与您的邮件一起发送。</li><li id="9585" class="mq mr iq ld b le mz li na lm nb lq nc lu nd ly mv mw mx my bi translated">主要用于加密和公开签名(验证签名)</li></ul><h2 id="447b" class="me ke iq bd kf mf mg dn kj mh mi dp kn lm mj mk kr lq ml mm kv lu mn mo kz mp bi translated">私人密钥</h2><ul class=""><li id="73aa" class="mq mr iq ld b le lf li lj lm ms lq mt lu mu ly mv mw mx my bi translated">应该保密，最好加个密码</li><li id="b170" class="mq mr iq ld b le mz li na lm nb lq nc lu nd ly mv mw mx my bi translated">主要用于解密和签署消息</li></ul><h1 id="ee4d" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">关于签署邮件</h1><h2 id="6838" class="me ke iq bd kf mf mg dn kj mh mi dp kn lm mj mk kr lq ml mm kv lu mn mo kz mp bi translated">为什么我们需要签署一个信息</h2><ul class=""><li id="f7ba" class="mq mr iq ld b le lf li lj lm ms lq mt lu mu ly mv mw mx my bi translated">为了防止第三方在数据传输过程中修改数据</li><li id="5094" class="mq mr iq ld b le mz li na lm nb lq nc lu nd ly mv mw mx my bi translated">确保消息来自正确的来源</li></ul><h2 id="ea1e" class="me ke iq bd kf mf mg dn kj mh mi dp kn lm mj mk kr lq ml mm kv lu mn mo kz mp bi translated">它是如何工作的</h2><ol class=""><li id="981d" class="mq mr iq ld b le lf li lj lm ms lq mt lu mu ly ne mw mx my bi translated">签署邮件</li></ol><figure class="ng nh ni nj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nf"><img src="../Images/f7d9531b0de09ecc13ba07e362bc0ec7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BLBOVdRv7NeK4MDdJ8JVTw.png"/></div></div></figure><ul class=""><li id="8ee2" class="mq mr iq ld b le lz li ma lm nk lq nl lu nm ly mv mw mx my bi translated">服务器从messageM(要加密的消息)中计算散列值</li><li id="87e1" class="mq mr iq ld b le mz li na lm nb lq nc lu nd ly mv mw mx my bi translated">服务器a使用私钥加密哈希(这是对消息进行签名)</li></ul><p id="3675" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">2.发送消息和散列</p><figure class="ng nh ni nj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nn"><img src="../Images/7d62b313c8b06e437a30321737442432.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*33nVzLPCY1rpgEqyFdB_oA.png"/></div></div></figure><ul class=""><li id="3b9e" class="mq mr iq ld b le lz li ma lm nk lq nl lu nm ly mv mw mx my bi translated">ServerA将messageM和encryptedHash发送给ClientB (messageM不需要加密，只需要原始消息)</li></ul><p id="b9fb" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">3.打开签名的邮件</p><figure class="ng nh ni nj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi no"><img src="../Images/4ddb9d23d2f20c1d90c2d415c8d9f786.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FbsSbd02_AGOdlstvFAsfg.png"/></div></div></figure><ul class=""><li id="ec20" class="mq mr iq ld b le lz li ma lm nk lq nl lu nm ly mv mw mx my bi translated">ClientB使用来自serverA的公钥对加密的哈希进行解密</li><li id="98df" class="mq mr iq ld b le mz li na lm nb lq nc lu nd ly mv mw mx my bi translated">ClientB使用messageM计算哈希，并与解密的哈希进行比较，如果两个哈希相同，则messageM有效，并且在传输过程中未被第三方修改。</li></ul><h1 id="3d68" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">给我看看代码</h1><h2 id="bdb3" class="me ke iq bd kf mf mg dn kj mh mi dp kn lm mj mk kr lq ml mm kv lu mn mo kz mp bi translated">核心代码</h2><figure class="ng nh ni nj gt jr"><div class="bz fp l di"><div class="np nq l"/></div></figure><h2 id="ce51" class="me ke iq bd kf mf mg dn kj mh mi dp kn lm mj mk kr lq ml mm kv lu mn mo kz mp bi translated">配置文件</h2><figure class="ng nh ni nj gt jr"><div class="bz fp l di"><div class="np nq l"/></div></figure><h2 id="519c" class="me ke iq bd kf mf mg dn kj mh mi dp kn lm mj mk kr lq ml mm kv lu mn mo kz mp bi translated">加密服务</h2><figure class="ng nh ni nj gt jr"><div class="bz fp l di"><div class="np nq l"/></div></figure><h1 id="77ca" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">结论</h1><p id="ea03" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">在这篇文章中，我们只讨论如何确保消息来自正确的来源，但消息在传输过程中仍然可以被阅读。如果我们想确保消息只能被授权方阅读，我们也需要加密消息。</p></div></div>    
</body>
</html>