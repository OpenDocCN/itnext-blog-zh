<html>
<head>
<title>Event-Driven Architectures with Kotlin on Serverless Kafka</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">无服务器Kafka上Kotlin的事件驱动架构</h1>
<blockquote>原文：<a href="https://itnext.io/event-driven-architectures-with-kotlin-on-serverless-kafka-a29aa7ba1a79?source=collection_archive---------3-----------------------#2022-02-06">https://itnext.io/event-driven-architectures-with-kotlin-on-serverless-kafka-a29aa7ba1a79?source=collection_archive---------3-----------------------#2022-02-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="732a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">入门所需的一切</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/f07a73531c526a897e844ae78d9a6a03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Aec2CJanVoe3r81H"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">Denys Nevozhai 在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="1517" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">欢迎来到我的事件驱动架构系列的另一集。这是我的系列文章的第三部分。</p><p id="553e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">到目前为止，我们有:</p><ul class=""><li id="fd4a" class="lf lg it js b jt ju jx jy kb lh kf li kj lj kn lk ll lm ln bi translated"><a class="ae le" rel="noopener ugc nofollow" target="_blank" href="/event-driven-architectures-with-kafka-and-java-spring-boot-6ded048e86f3">使用Kafka和Java Spring-Boot的事件驱动架构</a> + <a class="ae le" rel="noopener ugc nofollow" target="_blank" href="/event-driven-architectures-with-kafka-and-java-spring-boot-revision-1-c0d43d103ee7">版本1 </a></li><li id="cdc5" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated"><a class="ae le" rel="noopener ugc nofollow" target="_blank" href="/event-driven-architectures-with-kafka-and-python-41114de4938b">使用Kafka和Python的事件驱动架构</a> + <a class="ae le" rel="noopener ugc nofollow" target="_blank" href="/event-driven-architectures-with-kafka-and-python-revision-1-50276d3ee3dd">修订版1 </a></li></ul><p id="3ae8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这篇文章是关于如何用Kotlin实现一个事件驱动的架构，但是与之前的文章相比有一些不同:</p><ul class=""><li id="a3fd" class="lf lg it js b jt ju jx jy kb lh kf li kj lj kn lk ll lm ln bi translated">如前所述，我们将使用Kotlin而不是Java。</li><li id="e6e6" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated">我们将使用Gradle代替Maven进行依赖管理和构建我们的应用程序。</li><li id="9828" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated">该项目是用IntelliJs内置的Spring Initializr而不是基于web的Initializr创建的。</li><li id="acb0" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated">一个项目/服务被生产者和消费者使用。这对本教程来说并没有什么影响，而且更容易掌握。</li><li id="c196" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated">不再使用通过docker-compose启动的本地Kafka实例，一个名为<a class="ae le" href="https://upstash.com/?utm_source=tobias1" rel="noopener ugc nofollow" target="_blank"> Upstash </a>的外部服务将为Kafka提供一切。你没有必要摆弄基础设施，因此得名“无服务器卡夫卡”。</li></ul><p id="3c37" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae le" href="https://upstash.com/?utm_source=tobias2" rel="noopener ugc nofollow" target="_blank"> Upstash </a>是Kafka和Redis的真正无服务器产品，提供按需付费的解决方案，无需摆弄硬件、虚拟机或docker容器等东西。</p><p id="2a5e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我已经在<a class="ae le" href="https://upstash.com/?utm_source=tobias1" rel="noopener ugc nofollow" target="_blank"> Upstash </a>上写了一篇介绍性的帖子，名为“<a class="ae le" href="https://twissmueller.medium.com/first-steps-with-upstash-for-kafka-6d4d023da590" rel="noopener">卡夫卡Upstash的第一步”。</a></p><div class="lt lu gp gr lv lw"><a rel="noopener  ugc nofollow" target="_blank" href="/first-steps-with-upstash-for-kafka-6d4d023da590"><div class="lx ab fo"><div class="ly ab lz cl cj ma"><h2 class="bd iu gy z fp mb fr fs mc fu fw is bi translated">卡夫卡的第一步</h2><div class="md l"><h3 class="bd b gy z fp mb fr fs mc fu fw dk translated">编辑描述</h3></div><div class="me l"><p class="bd b dl z fp mb fr fs mc fu fw dk translated">itnext.io</p></div></div><div class="mf l"><div class="mg l mh mi mj mf mk ky lw"/></div></div></a></div><h2 id="3fd4" class="ml mm it bd mn mo mp dn mq mr ms dp mt kb mu mv mw kf mx my mz kj na nb nc nd bi translated">介绍</h2><p id="d419" class="pw-post-body-paragraph jq jr it js b jt ne jv jw jx nf jz ka kb ng kd ke kf nh kh ki kj ni kl km kn im bi translated">事件驱动架构在过去几年里已经成为一种事物，Kafka是工具方面事实上的标准。</p><p id="9329" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这篇文章提供了一个事件驱动架构的完整示例，它是用Kotlin Spring-Boot服务实现的，该服务通过<a class="ae le" href="https://upstash.com/?utm_source=tobias2" rel="noopener ugc nofollow" target="_blank">舞台上方</a>的Kafka-cluster进行通信。</p><p id="9cd8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">本教程的主要目标是提供一个工作示例，而不涉及太多的细节，在我看来，这不必要地分散了尽快启动和运行“某些东西”的主要任务的注意力。</p><p id="c121" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们主要有几个构件</p><ul class=""><li id="3e06" class="lf lg it js b jt ju jx jy kb lh kf li kj lj kn lk ll lm ln bi translated">基础设施(卡夫卡在<a class="ae le" href="https://upstash.com/?utm_source=tobias2" rel="noopener ugc nofollow" target="_blank">上抢了</a>的风头)</li><li id="0793" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated">制片人(科特林，弹簧靴)</li><li id="7505" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated">消费者(Kotlin，弹簧靴)</li></ul><p id="8a8e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">生产者的唯一任务是定期向卡夫卡发送一个事件。这个事件只是带有一个时间戳。消费者的工作是监听这个事件并打印时间戳。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="ab gu cl nj"><img src="../Images/ef7bd6e971d5cea6a1f73ee431f1345a.png" data-original-src="https://miro.medium.com/v2/format:webp/1*W_FJxm0X0X4zfu_eufNE1w.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">无标题的</figcaption></figure><p id="14e0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">整个实施过程产生了以下项目结构:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="ab gu cl nj"><img src="../Images/bace22e1060fe4e669d156468b05ad75.png" data-original-src="https://miro.medium.com/v2/format:webp/1*A3KfIdj_ZU1pDdVUnGnN-Q.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">无标题的</figcaption></figure><p id="6828" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">完整的代码可以从这里下载。T9】</p><p id="158c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这可以直接在命令行上构建，或者导入到IntelliJ之类的IDE中。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="ab gu cl nj"><img src="../Images/26b414464393f959b2f4d0f9affcb622.png" data-original-src="https://miro.medium.com/v2/format:webp/1*tbzN5KZbspXojUnWUxLfcw.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">无标题的</figcaption></figure><h1 id="c170" class="nk mm it bd mn nl nm nn mq no np nq mt nr ns nt mw nu nv nw mz nx ny nz nc oa bi translated">代码设置</h1><p id="210c" class="pw-post-body-paragraph jq jr it js b jt ne jv jw jx nf jz ka kb ng kd ke kf nh kh ki kj ni kl km kn im bi translated">IntelliJs Ultimate Edition的用户可以从IDEs的“新建项目”对话框中直接使用Spring Initializr。如果它不可用，那么您总是可以在<a class="ae le" href="https://start.spring.io/" rel="noopener ugc nofollow" target="_blank">https://start . spring . io</a>创建项目。然后下载并解压ZIP文件，将所有内容导入IntelliJ或任何其他IDE、编辑器或您喜欢的东西。</p><p id="04ab" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">首先，我创建了一个新项目，它使用Kotlin作为它的语言，并对依赖和构建管理进行分级。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="ab gu cl nj"><img src="../Images/66ebd6c24864cab318f331e320b5a909.png" data-original-src="https://miro.medium.com/v2/format:webp/1*zyLtMgQqrck6Y_kfMg7bow.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">截图2022年1月26日，17.21.17.png</figcaption></figure><p id="9101" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在下一步中，我刚刚为Spring添加了一个依赖项。其余的是我后来手动添加的。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="ab gu cl nj"><img src="../Images/c1705d1e12238216c945479c13bb3b1e.png" data-original-src="https://miro.medium.com/v2/format:webp/1*PrrNaliRlehVxLcnKagZtw.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">截图2022年1月26日，17.21.34.png</figcaption></figure><p id="bbc5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在为生产者和消费者添加文件之后，项目看起来像这样:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="ab gu cl nj"><img src="../Images/bace22e1060fe4e669d156468b05ad75.png" data-original-src="https://miro.medium.com/v2/format:webp/1*A3KfIdj_ZU1pDdVUnGnN-Q.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">无标题的</figcaption></figure><p id="4374" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这些文件的内容将在下一章中解释。</p><h2 id="9aee" class="ml mm it bd mn mo mp dn mq mr ms dp mt kb mu mv mw kf mx my mz kj na nb nc nd bi translated">生产者</h2><p id="e478" class="pw-post-body-paragraph jq jr it js b jt ne jv jw jx nf jz ka kb ng kd ke kf nh kh ki kj ni kl km kn im bi translated">如上所述，生产者正在“生产”带有时间戳的事件，并通过Kafka将它们发送给有兴趣接收它们的每个人。</p><p id="51ee" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">卡夫卡的事件基本上是一个键值对。为此，我们需要为生产定义一个序列化器，为消费定义一个反序列化器。我已经在<code class="fe ob oc od oe b">application.properties</code>中这样做了。</p><pre class="kp kq kr ks gt of oe og oh aw oi bi"><span id="0209" class="ml mm it oe b gy oj ok l ol om">spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer<br/>spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer</span></pre><p id="95e2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">键是一个简单的字符串，而值需要是JSON。</p><p id="8a46" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">消费者有一种方法来发送每5秒触发一次的事件。<code class="fe ob oc od oe b">@Scheduled</code> -注释使得以一种简单的方式完成这一点成为可能。</p><p id="7229" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">首先，创建一个时间戳，然后将它“发送”到“教程主题”。</p><pre class="kp kq kr ks gt of oe og oh aw oi bi"><span id="abcf" class="ml mm it oe b gy oj ok l ol om">@Component<br/>class KafkaProducer(private val kafkaTemplate: KafkaTemplate&lt;String, TimestampEvent&gt;) {<br/><br/>    @Scheduled(fixedRate = 5000)<br/>    fun send() {<br/>        val event = TimestampEvent(timestamp = ZonedDateTime.now())<br/>        kafkaTemplate.send("tutorial-topic", event)<br/>        println("Sent: ${event.timestamp.toString()}")<br/>    }<br/><br/>}</span></pre><p id="dd45" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这就是制作人的全部。对消费者而言…</p><h2 id="4c52" class="ml mm it bd mn mo mp dn mq mr ms dp mt kb mu mv mw kf mx my mz kj na nb nc nd bi translated">消费者</h2><p id="8dab" class="pw-post-body-paragraph jq jr it js b jt ne jv jw jx nf jz ka kb ng kd ke kf nh kh ki kj ni kl km kn im bi translated">是时候接收由生产者发出的带有时间戳的事件了。</p><p id="c4dc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">同样，我们从一点配置开始。与生产者类似，我们需要指定在键和值的事件中使用什么数据类型。</p><p id="1feb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">消费者还需要指定其所属的消费者群体。</p><p id="1494" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后我们需要告诉Kafka，当Kafka中没有初始偏移或者当前偏移不再存在时，该怎么做。通过<code class="fe ob oc od oe b">auto-offset-reset=earliest</code>,我们告诉系统使用它能找到的最早的偏移量。</p><p id="c708" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们还需要提供一个逗号分隔的包列表，这些包允许用属性<code class="fe ob oc od oe b">spring.kafka.consumer.properties.spring.json.trusted.packages</code>去序列化。</p><p id="318b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下面是<code class="fe ob oc od oe b">application.properties</code>中的完整配置:</p><pre class="kp kq kr ks gt of oe og oh aw oi bi"><span id="82c9" class="ml mm it oe b gy oj ok l ol om">spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer<br/>spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer<br/>spring.kafka.consumer.group-id=tutorial-group<br/>spring.kafka.consumer.auto-offset-reset=earliest<br/>spring.kafka.consumer.properties.spring.json.trusted.packages=com.example.kotlintutorial</span></pre><p id="1cb2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后但并非最不重要的是，我们有消费者在<code class="fe ob oc od oe b">KafkaConsumer.kt</code>。我们只需要通过使用<code class="fe ob oc od oe b">@KafkaListener</code>主题和动作来指定一个主题的监听器。在这种情况下，时间戳只是被记录。</p><pre class="kp kq kr ks gt of oe og oh aw oi bi"><span id="a302" class="ml mm it oe b gy oj ok l ol om">@Component<br/>class KafkaConsumer {<br/><br/>    @KafkaListener(topics = ["tutorial-topic"])<br/>    fun processMessage(event: TimestampEvent) {<br/>                println("Received: ${event.timestamp.toString()}")<br/>    }<br/><br/>}</span></pre><p id="e882" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，我们已经有了所有的代码，我们只差提供Kafka集群的基础设施了。</p><h2 id="5ff5" class="ml mm it bd mn mo mp dn mq mr ms dp mt kb mu mv mw kf mx my mz kj na nb nc nd bi translated">基础设施</h2><p id="4e49" class="pw-post-body-paragraph jq jr it js b jt ne jv jw jx nf jz ka kb ng kd ke kf nh kh ki kj ni kl km kn im bi translated">正如简介中提到的，<a class="ae le" href="https://upstash.com/?utm_source=tobias2" rel="noopener ugc nofollow" target="_blank"> Upstash </a>将提供Kafka集群。</p><p id="476d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果您在那里没有运行集群的帐户，请参见本文<a class="ae le" href="https://twissmueller.medium.com/first-steps-with-upstash-for-kafka-6d4d023da590" rel="noopener">的第一步。</a></p><div class="lt lu gp gr lv lw"><a rel="noopener  ugc nofollow" target="_blank" href="/first-steps-with-upstash-for-kafka-6d4d023da590"><div class="lx ab fo"><div class="ly ab lz cl cj ma"><h2 class="bd iu gy z fp mb fr fs mc fu fw is bi translated">卡夫卡的第一步</h2><div class="md l"><h3 class="bd b gy z fp mb fr fs mc fu fw dk translated">编辑描述</h3></div><div class="me l"><p class="bd b dl z fp mb fr fs mc fu fw dk translated">itnext.io</p></div></div><div class="mf l"><div class="mg l mh mi mj mf mk ky lw"/></div></div></a></div><p id="65db" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">与Java教程相比，我已经将整个配置放到了属性中</p><p id="0639" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当您的集群就位时，您需要在<code class="fe ob oc od oe b">application.properties</code>中更改两个属性。</p><p id="4da5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">首先，应用程序需要知道集群的地址。这将在<code class="fe ob oc od oe b">spring.kafka.bootstrap-servers.</code>中提供</p><pre class="kp kq kr ks gt of oe og oh aw oi bi"><span id="db04" class="ml mm it oe b gy oj ok l ol om">spring.kafka.bootstrap-servers=CHANGE_ME</span></pre><p id="fc7d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后需要设置几个与安全相关的属性。唯一需要改变的是</p><p id="42d0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe ob oc od oe b">spring.kafka.properties.sasl.jaas.config</code>。</p><pre class="kp kq kr ks gt of oe og oh aw oi bi"><span id="a939" class="ml mm it oe b gy oj ok l ol om">spring.kafka.properties.security.protocol=SASL_SSL<br/>spring.kafka.properties.sasl.mechanism=SCRAM-SHA-256<br/>spring.kafka.properties.sasl.jaas.config=CHANGE_ME</span></pre><p id="b048" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">将为您动态创建<code class="fe ob oc od oe b">bootstrap.servers</code>和<code class="fe ob oc od oe b">sasl.jass.config</code>的值，并且可以从您的<a class="ae le" href="https://upstash.com/?utm_source=tobias2" rel="noopener ugc nofollow" target="_blank">后台控制台</a>复制过来。不要复制下面的内容，因为这个确切的配置属于我为本教程创建的集群，并且在我完成后已经被删除了。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="ab gu cl nj"><img src="../Images/cb873066ff54010ce186ef11295d99a5.png" data-original-src="https://miro.medium.com/v2/format:webp/1*N7Rzu8Lnh8asXTbLMlk1ag.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">截图2022年2月3日，06.43.23.png</figcaption></figure><h2 id="7914" class="ml mm it bd mn mo mp dn mq mr ms dp mt kb mu mv mw kf mx my mz kj na nb nc nd bi translated">运行示例代码</h2><p id="b0a1" class="pw-post-body-paragraph jq jr it js b jt ne jv jw jx nf jz ka kb ng kd ke kf nh kh ki kj ni kl km kn im bi translated">是时候运行一切了。首先，确保您在上方的<a class="ae le" href="https://upstash.com/?utm_source=tobias2" rel="noopener ugc nofollow" target="_blank">上的集群正在运行。</a></p><p id="9123" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">可以直接从IDE中运行项目，也可以使用命令从终端中运行项目</p><pre class="kp kq kr ks gt of oe og oh aw oi bi"><span id="7709" class="ml mm it oe b gy oj ok l ol om">./gradlew bootRun</span></pre><p id="d9de" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，您应该能够从终端上看到类似这样的内容。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="ab gu cl nj"><img src="../Images/0850713c253ddb8b3908e35020f0a5ea.png" data-original-src="https://miro.medium.com/v2/format:webp/1*3pUps1ANn2DeLWamSI__zQ.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">无标题的</figcaption></figure><p id="8d1e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">IDEs控制台输出如下所示:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="ab gu cl nj"><img src="../Images/61234f961e0ff72f02ba8c8742211791.png" data-original-src="https://miro.medium.com/v2/format:webp/1*VzFNep0UDD5BX14vwVQ4-g.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">无标题的</figcaption></figure><h2 id="272c" class="ml mm it bd mn mo mp dn mq mr ms dp mt kb mu mv mw kf mx my mz kj na nb nc nd bi translated">结论</h2><p id="cd47" class="pw-post-body-paragraph jq jr it js b jt ne jv jw jx nf jz ka kb ng kd ke kf nh kh ki kj ni kl km kn im bi translated">关于如何在<a class="ae le" href="https://upstash.com/?utm_source=tobias2" rel="noopener ugc nofollow" target="_blank">舞台上方</a>使用卡夫卡和科特林创建事件驱动架构的介绍性教程到此结束。</p><p id="a1df" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您现在知道如何</p><ul class=""><li id="e393" class="lf lg it js b jt ju jx jy kb lh kf li kj lj kn lk ll lm ln bi translated">创建一个集群</li><li id="e925" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated">发送带有生产者的事件</li><li id="b9e8" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated">接收消费者的事件</li><li id="d1ef" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated">在科特林做这些</li></ul><p id="a4e9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">感谢您的阅读！</p><ul class=""><li id="0cac" class="lf lg it js b jt ju jx jy kb lh kf li kj lj kn lk ll lm ln bi translated">如果你喜欢这个，请<a class="ae le" href="https://twissmueller.medium.com/" rel="noopener">在媒体</a>上跟随我</li><li id="e9b8" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated">给我买杯咖啡让我继续前进</li><li id="20ab" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated">通过<a class="ae le" href="https://twissmueller.medium.com/membership" rel="noopener">在这里注册</a>来支持我和其他媒体作者</li></ul><div class="lt lu gp gr lv lw"><a href="https://twissmueller.medium.com/membership" rel="noopener follow" target="_blank"><div class="lx ab fo"><div class="ly ab lz cl cj ma"><h2 class="bd iu gy z fp mb fr fs mc fu fw is bi translated">通过我的推荐链接加入媒体</h2><div class="md l"><h3 class="bd b gy z fp mb fr fs mc fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="me l"><p class="bd b dl z fp mb fr fs mc fu fw dk translated">twissmueller.medium.com</p></div></div><div class="mf l"><div class="on l mh mi mj mf mk ky lw"/></div></div></a></div><p id="1185" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这篇文章包含附属链接，由<a class="ae le" href="https://upstash.com/?utm_source=tobias2" rel="noopener ugc nofollow" target="_blank"> Upstash </a>赞助。</p><h2 id="b474" class="ml mm it bd mn mo mp dn mq mr ms dp mt kb mu mv mw kf mx my mz kj na nb nc nd bi translated">资源</h2><ul class=""><li id="04cd" class="lf lg it js b jt ne jx nf kb oo kf op kj oq kn lk ll lm ln bi translated"><a class="ae le" href="https://kafka.apache.org/documentation.html" rel="noopener ugc nofollow" target="_blank">阿帕奇卡夫卡文档</a></li><li id="424b" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated"><a class="ae le" href="https://docs.spring.io/spring-kafka/reference/html/" rel="noopener ugc nofollow" target="_blank">卡夫卡的春天</a></li><li id="3f63" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated"><a class="ae le" href="https://upstash.com/?utm_source=tobias1" rel="noopener ugc nofollow" target="_blank">抢风头</a></li></ul></div></div>    
</body>
</html>