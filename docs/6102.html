<html>
<head>
<title>Installing Cilium on Kubernetes in a fast and efficient way</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">以快速有效的方式在库伯内特斯上安装纤毛</h1>
<blockquote>原文：<a href="https://itnext.io/installing-cilium-on-kubernetes-in-a-fast-and-efficient-way-dbcb79ce9699?source=collection_archive---------0-----------------------#2021-08-19">https://itnext.io/installing-cilium-on-kubernetes-in-a-fast-and-efficient-way-dbcb79ce9699?source=collection_archive---------0-----------------------#2021-08-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><h1 id="c61b" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">纤毛是什么</h1><p id="6b03" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated"><a class="ae lj" href="https://cilium.io/" rel="noopener ugc nofollow" target="_blank"> Cilium </a>是一个专注于容器网络的开源项目。它可以部署在容器平台上，透明地保护应用程序工作负载(如应用程序容器或进程)之间的网络连接和负载平衡。</p><p id="e00e" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">Cilium运行在第3层和第4层，提供传统的网络和安全服务。它还运行在第7层，以保护现代应用协议的使用，如HTTP、gRPC和Kafka。Cilium可以集成到流行的容器编排框架中，如Kubernetes和Mesos。</p><p id="63ce" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">基于一种称为eBPF的新Linux内核技术，Cilium支持在Linux本身中动态插入强大的安全可见性和控制逻辑。因为eBPF运行在Linux内核中，所以可以应用和更新Cilium安全策略，而无需对应用程序代码或容器配置进行任何更改。</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/913f7597d85172e0500818380d6dc494.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*fGGQqNqwL3JnPSHv.png"/></div></div></figure><p id="846f" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">在这篇博客中，我将尝试探索Cilium作为Kubernetes集群上的CNI(容器网络接口)。如果您对Cilium的性能细节感兴趣，请查看<a class="ae lj" href="https://cilium.io/blog/2021/05/11/cni-benchmark" rel="noopener ugc nofollow" target="_blank"> CNI基准测试:了解Cilium网络性能</a>。</p><h1 id="10a1" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">什么是KubeKey</h1><p id="9c32" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">KubeKey在Go中开发，是一个轻量级的安装程序，提供了一种简单灵活的方法来安装Kubernetes和KubeSphere。使用KubeKey，您可以只安装Kubernetes，也可以同时安装Kubernetes和KubeSphere。</p><p id="0ce0" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">您可以使用KubeKey的场景:</p><ul class=""><li id="c7da" class="mb mc iq kn b ko lk ks ll kw md la me le mf li mg mh mi mj bi translated">仅安装Kubernetes。</li><li id="f1c0" class="mb mc iq kn b ko mk ks ml kw mm la mn le mo li mg mh mi mj bi translated">使用一个命令同时安装Kubernetes和KubeSphere。</li><li id="1673" class="mb mc iq kn b ko mk ks ml kw mm la mn le mo li mg mh mi mj bi translated">扩展集群。</li><li id="e560" class="mb mc iq kn b ko mk ks ml kw mm la mn le mo li mg mh mi mj bi translated">升级集群。</li><li id="1438" class="mb mc iq kn b ko mk ks ml kw mm la mn le mo li mg mh mi mj bi translated">安装Kubernetes相关的附加组件(图表或YAML)。</li></ul><p id="3fec" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">目前，KubeKey支持在Kubernetes集群上安装Cilium，这使得部署过程更加简单和高效。</p><h1 id="94f0" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">在Kubernetes集群上安装纤毛</h1><h2 id="9da5" class="mp jo iq bd jp mq mr dn jt ms mt dp jx kw mu mv kb la mw mx kf le my mz kj na bi translated">系统需求</h2><p id="6bb7" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在安装Cilium之前，您必须确保您的系统满足最低要求。例如，如果您使用容器映像<code class="fe nb nc nd ne b">cilium/cilium</code>运行Cilium，那么您的主机系统的Linux内核版本必须是4.9.17和更高版本。</p><p id="96cf" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">有关系统要求的更多信息，请查看<a class="ae lj" href="https://docs.cilium.io/en/v1.10/operations/system_requirements/" rel="noopener ugc nofollow" target="_blank">纤毛系统要求</a>。</p><h2 id="4425" class="mp jo iq bd jp mq mr dn jt ms mt dp jx kw mu mv kb la mw mx kf le my mz kj na bi translated"><strong class="ak">主机准备</strong></h2><p id="5d6f" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在这篇博客中，让我们以一个LTS 64位的Ubuntu Server 20.04.1为例。</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi nf"><img src="../Images/17ce1e08aa566e5e6cba250a3a82c72e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X22aRcWCGvRF97ikGJ-Hpg.png"/></div></div></figure><p id="7ece" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">有关Linux兼容性的更多信息，请查看<a class="ae lj" href="https://docs.cilium.io/en/v1.10/operations/system_requirements/#linux-distribution-compatibility-matrix" rel="noopener ugc nofollow" target="_blank"> Linux发行版兼容性列表</a>。</p><h1 id="eb70" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">安装KubeKey</h1><ol class=""><li id="d202" class="mb mc iq kn b ko kp ks kt kw ng la nh le ni li nj mh mi mj bi translated">运行以下命令来获取KubeKey:</li></ol><pre class="lq lr ls lt gt nk ne nl nm aw nn bi"><span id="00bb" class="mp jo iq ne b gy no np l nq nr">sudo wget <a class="ae lj" href="https://github.com/kubesphere/kubekey/releases/download/v1.1.0/kubekey-v1.1.0-linux-64bit.deb" rel="noopener ugc nofollow" target="_blank">https://github.com/kubesphere/kubekey/releases/download/v1.1.0/kubekey-v1.1.0-linux-64bit.deb</a></span></pre><p id="88b8" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">2.运行以下命令安装KubeKey:</p><p id="4a29" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated"><code class="fe nb nc nd ne b">sudo dpkg -i kubekey-v1.1.0-linux-64bit.deb</code></p><h1 id="4c8a" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">生成配置文件</h1><ol class=""><li id="53e4" class="mb mc iq kn b ko kp ks kt kw ng la nh le ni li nj mh mi mj bi translated">运行以下命令生成配置文件:</li></ol><p id="edad" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated"><code class="fe nb nc nd ne b">sudo kk create config --with-kubernetes v1.19.8</code></p><p id="93bb" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">2.配置文件生成后，运行以下命令配置<code class="fe nb nc nd ne b">spec.hosts</code>，并将<code class="fe nb nc nd ne b">spec.network.plugin</code>设置为<code class="fe nb nc nd ne b">cilium</code>:</p><p id="2e2c" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated"><code class="fe nb nc nd ne b">sudo vi config-sample.yaml</code></p><pre class="lq lr ls lt gt nk ne nl nm aw nn bi"><span id="915c" class="mp jo iq ne b gy no np l nq nr">apiVersion: kubekey.kubesphere.io/v1alpha1<br/>kind: Cluster<br/>metadata:<br/>  name: sample<br/>spec:<br/>  hosts:<br/>  - {name: node1, address: 192.168.2.2, internalAddress: 192.168.2.2, user: ubuntu, password: ********}<br/>  roleGroups:<br/>    etcd:<br/>    - node1<br/>    master:<br/>    - node1<br/>    worker:<br/>    - node1<br/>  controlPlaneEndpoint:<br/>    domain: lb.kubesphere.local<br/>    address: ""<br/>    port: 6443<br/>  kubernetes:<br/>    version: v1.19.8<br/>    imageRepo: kubesphere<br/>    clusterName: cluster.local<br/>  network:<br/>    plugin: cilium<br/>    kubePodsCIDR: 10.233.64.0/18<br/>    kubeServiceCIDR: 10.233.0.0/18<br/>  registry:<br/>    registryMirrors: []<br/>    insecureRegistries: []<br/>  addons: []</span></pre><h1 id="955f" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">部署一个安装了KubeSphere的Kubernetes集群</h1><ol class=""><li id="d6aa" class="mb mc iq kn b ko kp ks kt kw ng la nh le ni li nj mh mi mj bi translated">运行以下命令来部署依赖项:</li></ol><p id="56d2" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated"><code class="fe nb nc nd ne b">sudo kk init os -f config-sample.yaml</code></p><p id="6614" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">2.部署完依赖项后，运行以下命令将Kubernetes和KubeSphere一起部署:</p><p id="3c3b" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated"><code class="fe nb nc nd ne b">sudo kk create cluster -f config-sample.yaml --with-kubesphere v3.1.0</code></p><p id="cd33" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">3.等待一段时间，如果安装成功，您将看到类似以下示例的提示:</p><pre class="lq lr ls lt gt nk ne nl nm aw nn bi"><span id="0435" class="mp jo iq ne b gy no np l nq nr">#####################################################<br/>###              Welcome to KubeSphere!           ###<br/>#####################################################<br/>   <br/>Console: <a class="ae lj" href="http://192.168.2.2:30880" rel="noopener ugc nofollow" target="_blank">http://192.168.2.2:30880</a><br/>Account: admin<br/>Password: P@88w0rd<br/>   <br/>NOTES：<br/>  1. After you log into the console, please check the<br/>     monitoring status of service components in<br/>     "Cluster Management". If any service is not<br/>     ready, please wait patiently until all components<br/>     are up and running.<br/>  2. Please change the default password after login.<br/>   <br/>#####################################################<br/><a class="ae lj" href="https://kubesphere.io" rel="noopener ugc nofollow" target="_blank">https://kubesphere.io</a>             20xx-xx-xx xx:xx:xx<br/>#####################################################<!-- -->##################################################### ###              Welcome to KubeSphere!           ### #####################################################     Console: http://192.168.2.2:30880 Account: admin Password: P@88w0rd     NOTES：   1. After you log into the console, please check the      monitoring status of service components in      "Cluster Management". If any service is not      ready, please wait patiently until all components      are up and running.   2. Please change the default password after login.     ##################################################### https://kubesphere.io             20xx-xx-xx xx:xx:xx #####################################################</span></pre><h1 id="b6f8" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">检查纤毛荚</h1><ol class=""><li id="d4d6" class="mb mc iq kn b ko kp ks kt kw ng la nh le ni li nj mh mi mj bi translated">使用默认用户名和密码(<code class="fe nb nc nd ne b">admin</code> / <code class="fe nb nc nd ne b">P@88w0rd</code>)登录KubeSphere。</li></ol><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi ns"><img src="../Images/366e8c78106a48e51637075c25fd0b2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/format:webp/0*He14ikm20lnDmBtP.png"/></div></div></figure><p id="2ac6" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">2.点击左上角的<strong class="kn ir">平台</strong>，选择<strong class="kn ir">集群管理</strong>。</p><p id="66cb" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">3.在左侧导航窗格中，选择<strong class="kn ir">应用工作负载</strong> &gt; <strong class="kn ir"> Pods </strong>，从下拉列表中选择<code class="fe nb nc nd ne b">kube-system</code>，在搜索框中输入<code class="fe nb nc nd ne b">cilium</code>，按<strong class="kn ir">进入</strong>。纤毛荚将显示在列表中。</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi nt"><img src="../Images/8ab19c6386ee57b3097b583d58504978.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*lH6Y5fghAdfXA_yy.png"/></div></div></figure><h1 id="850f" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">安装哈勃用户界面</h1><p id="a77b" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">哈勃是为网络可视化而设计的。通过Cilium提供的eBPF数据路径，Hubble能够深入了解Kubernetes上运行的应用程序和服务的网络流量。您可以使用Hubble CLI或UI工具来实现对DNS相关问题的快速交互式诊断。除了Hubble自己的监控工具，您还可以通过集成其他流行的云原生监控系统(如Prometheus和Grafana)来扩展您的监控策略。</p><ol class=""><li id="8740" class="mb mc iq kn b ko lk ks ll kw md la me le mf li nj mh mi mj bi translated">将光标悬停在“设置”图标上，并选择<strong class="kn ir"> Kubectl </strong>。</li></ol><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi nu"><img src="../Images/6f2391a60b9a6903414950e5f561a487.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*AIhuiosoSXUcpzsz.png"/></div></div></figure><p id="c4e8" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">2.在显示的对话框中，运行以下命令安装Hubble:</p><pre class="lq lr ls lt gt nk ne nl nm aw nn bi"><span id="8f0d" class="mp jo iq ne b gy no np l nq nr">kubectl apply -f <a class="ae lj" href="https://raw.githubusercontent.com/cilium/cilium/v1.8/install/kubernetes/experimental-install.yaml" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/cilium/cilium/v1.8/install/kubernetes/experimental-install.yaml</a></span></pre><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi nv"><img src="../Images/f9ffe176ebbf35e7090118b1e3db8d78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1tmDTWIEPy3vGrj2.png"/></div></div></figure><p id="f669" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">3.在<strong class="kn ir"> Pods </strong>页面，从下拉列表中选择<code class="fe nb nc nd ne b">kube-system</code>，在搜索框中输入<code class="fe nb nc nd ne b">hubble</code>，按<strong class="kn ir">键输入</strong>。哈勃舱将显示在列表中。</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi nu"><img src="../Images/31606f758476a297bb285c0d0bc64d47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ZOD6KCSYyOeMCTCn.png"/></div></div></figure><h1 id="a700" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">创建演示服务</h1><ol class=""><li id="eff2" class="mb mc iq kn b ko kp ks kt kw ng la nh le ni li nj mh mi mj bi translated">在您的主机上运行以下命令来创建演示服务:</li></ol><pre class="lq lr ls lt gt nk ne nl nm aw nn bi"><span id="aa18" class="mp jo iq ne b gy no np l nq nr">kubectl create -f <a class="ae lj" href="https://raw.githubusercontent.com/cilium/cilium/1.9.7/examples/minikube/http-sw-app.yaml" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/cilium/cilium/1.9.7/examples/minikube/http-sw-app.yaml</a> -n default</span></pre><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi nw"><img src="../Images/52302e62745dbb8f3ee10a6f989cf43a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*NfEjYznvExcbpE2d.png"/></div></div></figure><p id="27ac" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">2.运行以下命令来访问演示资源:</p><pre class="lq lr ls lt gt nk ne nl nm aw nn bi"><span id="f515" class="mp jo iq ne b gy no np l nq nr">$ kubectl exec xwing -n default -- curl -s -XPOST deathstar.default.svc.cluster.local/v1/request-landing<br/>Ship landed<br/>$ kubectl exec tiefighter -n default -- curl -s -XPOST deathstar.default.svc.cluster.local/v1/request-landing<br/>Ship landed</span></pre><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi nx"><img src="../Images/9b8941a2793e8851fea58b4b86ea7049.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Z4MVxLpvuHFQOq_h.png"/></div></div></figure><p id="028a" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">3.在KubeSphere控制台的<strong class="kn ir">服务</strong>页面，从下拉列表中选择<code class="fe nb nc nd ne b">kube-system</code>，在搜索框中输入<code class="fe nb nc nd ne b">hubble</code>，按<strong class="kn ir">进入</strong>。点击<code class="fe nb nc nd ne b">hubble-ui</code>右侧的详细图标，选择<strong class="kn ir">编辑上网</strong>。</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi nt"><img src="../Images/79a32d021e41be47cd9b8793f2177bc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gcxojxx5e_AwjNjt.png"/></div></div></figure><p id="d666" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">4.将<strong class="kn ir">访问方法</strong>设置为<strong class="kn ir">节点端口</strong>并点击<strong class="kn ir">确定</strong>。</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi ny"><img src="../Images/e4e4476e7bfea5dd1921d66bd9ca4e5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*DYWVOYlLEsgGoc-7.png"/></div></div></figure><p id="90e3" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">5.现在，你可以在哈勃仪表盘上查看图形化的服务地图。</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi nz"><img src="../Images/1ed0e16c3b8b097699b2e2b3eee0b79e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UTsGXHRQ-CmuNTmA.png"/></div></div></figure><p id="2967" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated"><em class="oa">注</em></p><p id="0dce" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated"><em class="oa">在访问Hubble仪表盘之前，您需要在基础设施环境中配置流量转发和防火墙策略。</em></p><p id="da12" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">如果您想要在第7层上启用网络可视化，您必须向您的目标pod添加注释。在<a class="ae lj" href="https://docs.cilium.io/en/stable/policy/visibility/" rel="noopener ugc nofollow" target="_blank">第7层协议可见性</a>中了解更多信息。</p><h1 id="7ac9" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">概述</h1><p id="1379" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">根据我自己使用Cilium的经验，它可以满足大多数容器网络用例中的要求。而且哈勃以云原生的方式实现了数据平面的可视化，比Istio好很多。我相信Cilium不久将成为Kubernetes社区中大多数人使用的网络解决方案。</p><h1 id="bd0c" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">关于KubeSphere</h1><p id="8797" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">KubeSphere是一个基于Kubernetes的开源容器平台，其核心是应用程序。它提供全栈It自动化操作和简化的开发运维工作流。</p><p id="a9c4" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated"><a class="ae lj" href="https://kubesphere.io/" rel="noopener ugc nofollow" target="_blank"> KubeSphere </a>已被全球数千家企业采用，如<strong class="kn ir"> Aqara、新浪、奔来、中国太平、华夏银行、国药控股、微众银行、Geko Cloud、VNG公司、Radore </strong>。KubeSphere为运维提供向导界面和各种企业级功能，包括Kubernetes资源管理、<a class="ae lj" href="https://kubesphere.io/devops/" rel="noopener ugc nofollow" target="_blank"> DevOps (CI/CD) </a>、应用生命周期管理、服务网格、多租户管理、<a class="ae lj" href="https://kubesphere.io/observability/" rel="noopener ugc nofollow" target="_blank">监控</a>、日志记录、警报、通知、存储和网络管理以及GPU支持。有了KubeSphere，企业能够快速建立一个强大且功能丰富的容器平台。</p><p id="7291" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">欲了解更多信息，请访问<a class="ae lj" href="https://kubesphere.io/" rel="noopener ugc nofollow" target="_blank"> https://kubesphere.io </a></p></div></div>    
</body>
</html>