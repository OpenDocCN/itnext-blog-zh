<html>
<head>
<title>Using WSL 2 to run Linux GUI applications in Windows 10 with a shortcut</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用WSL 2在Windows 10中快捷地运行Linux GUI应用程序</h1>
<blockquote>原文：<a href="https://itnext.io/using-windows-10-as-a-desktop-environment-for-linux-7b2d8239f2f1?source=collection_archive---------0-----------------------#2020-09-12">https://itnext.io/using-windows-10-as-a-desktop-environment-for-linux-7b2d8239f2f1?source=collection_archive---------0-----------------------#2020-09-12</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="55a2" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">使用Windows 10作为Linux的桌面环境</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj kj"><img src="../Images/305d8b06b5be54d07706286e3ae2b812.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/format:webp/1*KmInTdQRa9AO3bKDc6lb5w.png"/></div><figcaption class="kr ks gk gi gj kt ku bd b be z dk translated">使用WSL 2在Windows 10中快捷地运行Linux GUI应用程序</figcaption></figure><h2 id="4754" class="kv kw iu bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">什么是Linux桌面环境？</h2><p id="d8aa" class="pw-post-body-paragraph lr ls iu lt b lu lv jv lw lx ly jy lz le ma mb mc li md me mf lm mg mh mi mj in bi translated">如果你在没有<a class="ae mk" href="https://en.wikipedia.org/wiki/Desktop_environment" rel="noopener ugc nofollow" target="_blank">桌面环境</a>的情况下使用Linux，你只有一个终端来与Linux内核通信，这在你使用服务器时是很好的，但是当你开发软件时，你几乎总是需要IDE、web浏览器和几个其他工具和实用程序，因为这些GUI应用程序，你需要安装一个桌面环境，如Gnome、KDE和……它们提供了一个窗口管理器(和一些其他重要组件，如<a class="ae mk" href="https://en.wikipedia.org/wiki/Windowing_system" rel="noopener ugc nofollow" target="_blank">窗口系统</a>、<a class="ae mk" href="https://en.wikipedia.org/wiki/Display_server" rel="noopener ugc nofollow" target="_blank">显示服务器</a>和……)来显示GUI并管理与用户的交互。</p><h2 id="4852" class="kv kw iu bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">WSL 2是什么？</h2><p id="9080" class="pw-post-body-paragraph lr ls iu lt b lu lv jv lw lx ly jy lz le ma mb mc li md me mf lm mg mh mi mj in bi translated">到了<a class="ae mk" href="https://docs.microsoft.com/en-us/windows/wsl/wsl2-about" rel="noopener ugc nofollow" target="_blank">WSL 2</a>(Linux的windows子系统)，你在一个轻量级的实用虚拟机(VM)中有了一个真正的Linux内核，它完全与Windows集成，你可以在它上面安装你喜欢的Linux发行版，并在Windows上运行Linux二进制文件。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ml mm l"/></div></figure><h2 id="0399" class="kv kw iu bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">使用WSL 2运行Linux GUI应用程序</h2><p id="b395" class="pw-post-body-paragraph lr ls iu lt b lu lv jv lw lx ly jy lz le ma mb mc li md me mf lm mg mh mi mj in bi translated">WSL 2很快，你可以在我之前的帖子中看到我的基准测试:</p><div class="mn mo gq gs mp mq"><a rel="noopener  ugc nofollow" target="_blank" href="/using-wsl-2-to-develop-java-application-on-windows-8aac1123c59b"><div class="mr ab fp"><div class="ms ab mt cl cj mu"><h2 class="bd iv gz z fq mv fs ft mw fv fx it bi translated">使用WSL 2在Windows上开发Java应用程序</h2><div class="mx l"><h3 class="bd b gz z fq mv fs ft mw fv fx dk translated">比较使用Maven和Intellij Idea时WSL 2和Windows 10的性能</h3></div><div class="my l"><p class="bd b dl z fq mv fs ft mw fv fx dk translated">itnext.io</p></div></div><div class="mz l"><div class="na l nb nc nd mz ne kp mq"/></div></div></a></div><p id="9afc" class="pw-post-body-paragraph lr ls iu lt b lu nf jv lw lx ng jy lz le nh mb mc li ni me mf lm nj mh mi mj in bi translated">但是WSL 2现在不支持运行GUI应用，因为Linux中的GUI应用至少需要一个<a class="ae mk" href="https://en.wikipedia.org/wiki/Windowing_system" rel="noopener ugc nofollow" target="_blank">窗口系统</a>和一个<a class="ae mk" href="https://en.wikipedia.org/wiki/Display_server" rel="noopener ugc nofollow" target="_blank">显示服务器</a>来显示GUI和管理与用户的交互。</p><p id="945b" class="pw-post-body-paragraph lr ls iu lt b lu nf jv lw lx ng jy lz le nh mb mc li ni me mf lm nj mh mi mj in bi translated">目前，我们有两个选择:</p><p id="08d0" class="pw-post-body-paragraph lr ls iu lt b lu nf jv lw lx ng jy lz le nh mb mc li ni me mf lm nj mh mi mj in bi translated">1-在WSL 2发行版(如Ubuntu-20.04)上安装一个桌面环境(如Gnome或KDE)并通过RDP连接到它</p><p id="2d1a" class="pw-post-body-paragraph lr ls iu lt b lu nf jv lw lx ng jy lz le nh mb mc li ni me mf lm nj mh mi mj in bi translated">2-在Windows 10上安装一个X服务器(一个<a class="ae mk" href="https://en.wikipedia.org/wiki/Display_server" rel="noopener ugc nofollow" target="_blank">显示服务器</a>，比如<a class="ae mk" href="https://sourceforge.net/projects/vcxsrv/" rel="noopener ugc nofollow" target="_blank"> VcXsrv </a>，xming或者cygwin的xwin)并将其作为显示服务器引入WSL 2:</p><div class="mn mo gq gs mp mq"><a href="https://techcommunity.microsoft.com/t5/windows-dev-appconsult/running-wsl-gui-apps-on-windows-10/ba-p/1493242" rel="noopener  ugc nofollow" target="_blank"><div class="mr ab fp"><div class="ms ab mt cl cj mu"><h2 class="bd iv gz z fq mv fs ft mw fv fx it bi translated">在Windows 10上运行WSL GUI应用程序</h2><div class="mx l"><h3 class="bd b gz z fq mv fs ft mw fv fx dk translated">在这篇文章中，我将演示如何在Windows桌面上运行Linux GUI(图形用户界面)应用程序…</h3></div><div class="my l"><p class="bd b dl z fq mv fs ft mw fv fx dk translated">techcommunity.microsoft.com</p></div></div><div class="mz l"><div class="nk l nb nc nd mz ne kp mq"/></div></div></a></div><h1 id="3279" class="nl kw iu bd kx nm nn no la np nq nr ld ka ns kb lh kd nt ke ll kg nu kh lp nv bi translated">为Linux GUI应用程序(Firefox、Gnome系统监视器、Intellij Idea、gedit和…)创建快捷方式，并从开始菜单运行它们</h1><p id="7800" class="pw-post-body-paragraph lr ls iu lt b lu lv jv lw lx ly jy lz le ma mb mc li md me mf lm mg mh mi mj in bi translated">到目前为止，您可以通过在windows 10上安装显示服务器(<a class="ae mk" href="https://sourceforge.net/projects/vcxsrv/" rel="noopener ugc nofollow" target="_blank"> VcXsrv </a>)并将其引入WSL 2发行版(如Ubuntu-20.04)，从WSL 2终端运行Linux GUI应用程序。</p><p id="8efd" class="pw-post-body-paragraph lr ls iu lt b lu nf jv lw lx ng jy lz le nh mb mc li ni me mf lm nj mh mi mj in bi translated">如果我们不想从命令行运行Linux GUI应用程序，我们必须做什么？</p><p id="4a46" class="pw-post-body-paragraph lr ls iu lt b lu nf jv lw lx ng jy lz le nh mb mc li ni me mf lm nj mh mi mj in bi translated">您可以将Linux命令直接传递给<code class="fe nw nx ny nz b">wsl.exe</code>命令(从Powershell或CMD ),而不用进入Linux终端:</p><pre class="kk kl km kn gu oa nz ob oc aw od bi"><span id="f393" class="kv kw iu nz b gz oe of l og oh">wsl ls -al</span></pre><p id="c8e2" class="pw-post-body-paragraph lr ls iu lt b lu nf jv lw lx ng jy lz le nh mb mc li ni me mf lm nj mh mi mj in bi translated">我们可以使用这个特性，通过开始菜单中的快捷方式来运行Linux GUI程序。我们只需要用主机(运行X Server)的IP地址设置<code class="fe nw nx ny nz b">DISPLAY</code>环境变量，然后运行像firefox或IntelliJ Idea这样的GUI应用程序:</p><p id="87c1" class="pw-post-body-paragraph lr ls iu lt b lu nf jv lw lx ng jy lz le nh mb mc li ni me mf lm nj mh mi mj in bi translated">1-创建一个脚本文件，并将其命名为<code class="fe nw nx ny nz b">wsl-app-runner.bat</code>(我通常在当前用户主目录<code class="fe nw nx ny nz b">C:\Users\YOUR_USERNAME\programs\linux-apps</code>中创建所有这些脚本文件)</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oi mm l"/></div></figure><p id="c75e" class="pw-post-body-paragraph lr ls iu lt b lu nf jv lw lx ng jy lz le nh mb mc li ni me mf lm nj mh mi mj in bi translated">这个脚本找到WSL主机的IP地址(在其上运行X服务器),然后在<code class="fe nw nx ny nz b">wsl</code>命令的<code class="fe nw nx ny nz b">DISPLAY</code>环境变量中设置它，并获得Linux GUI应用程序的名称作为第一个参数。我们将重用这个脚本来创建几个快捷方式。</p><p id="44c6" class="pw-post-body-paragraph lr ls iu lt b lu nf jv lw lx ng jy lz le nh mb mc li ni me mf lm nj mh mi mj in bi translated">2-创建一个Visual Basic脚本文件(。vbs)，用于您的Linux GUI应用程序。这个文件必须在<code class="fe nw nx ny nz b">wsl-app-runner.bat</code>文件旁边创建，并且你必须在WSL 2发行版(在我的例子中是Ubuntu-20.04)上安装应用程序(例如firefox)。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oi mm l"/></div></figure><p id="3732" class="pw-post-body-paragraph lr ls iu lt b lu nf jv lw lx ng jy lz le nh mb mc li ni me mf lm nj mh mi mj in bi translated">这个Visual Basic脚本文件是可执行的，也允许我们隐藏命令行。在这个脚本中，我们使用<code class="fe nw nx ny nz b">wsl-app-runner.bat</code>运行我们最喜欢的Linux GUI应用程序。</p><p id="fd68" class="pw-post-body-paragraph lr ls iu lt b lu nf jv lw lx ng jy lz le nh mb mc li ni me mf lm nj mh mi mj in bi translated">3-右键单击windows文件资源管理器中的Visual Basic脚本文件，并选择<code class="fe nw nx ny nz b">create shortcut</code>菜单，然后将该快捷方式重命名为您想要的任何名称(例如<code class="fe nw nx ny nz b">Firefox Ubuntu-20.04</code>)。如果你愿意，你可以在文件属性中为这个快捷方式选择一个图标。</p><p id="2cfb" class="pw-post-body-paragraph lr ls iu lt b lu nf jv lw lx ng jy lz le nh mb mc li ni me mf lm nj mh mi mj in bi translated">4-最后将该快捷方式复制到开始菜单快捷方式目录中(<code class="fe nw nx ny nz b">C:\Users\YOUR_USERNAME\AppData\Roaming\Microsoft\Windows\Start Menu\Programs</code>)。我通常在那里创建一个新文件夹(例如<code class="fe nw nx ny nz b">Linux Apps</code>)并将WSL 2快捷方式粘贴到其中。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gi gj oj"><img src="../Images/76abe760bc79f65d82b5b73c65198d8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3OUzr_UimWonAHECn0xnQg.png"/></div></div></figure><p id="a789" class="pw-post-body-paragraph lr ls iu lt b lu nf jv lw lx ng jy lz le nh mb mc li ni me mf lm nj mh mi mj in bi translated">现在你可以在开始菜单中搜索这个应用程序，只需点击一下就可以打开它。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gi gj oo"><img src="../Images/6ab6f9387d5e50b573c150fbc1c16d4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RGI2rEbYstFb_8HpfOOaqA.png"/></div></div></figure><p id="7582" class="pw-post-body-paragraph lr ls iu lt b lu nf jv lw lx ng jy lz le nh mb mc li ni me mf lm nj mh mi mj in bi translated">如果对安装在WSL 2发行版上的任何新的Linux GUI应用程序重复步骤2到4，就可以很容易地运行它。正如你在下面的照片中看到的，我运行<code class="fe nw nx ny nz b">gnome-system-monitor</code>应用程序，你可以看到火狐的内存使用情况。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gi gj op"><img src="../Images/e140ac3a13e8d91ad7b352c7c5b2e28a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zzeZP0jKCz45GJtECKpWoQ.png"/></div></div><figcaption class="kr ks gk gi gj kt ku bd b be z dk translated">使用WSL 2运行gnome系统监视器</figcaption></figure><h1 id="aef8" class="nl kw iu bd kx nm nn no la np nq nr ld ka ns kb lh kd nt ke ll kg nu kh lp nv bi translated">结论</h1><p id="900e" class="pw-post-body-paragraph lr ls iu lt b lu lv jv lw lx ly jy lz le ma mb mc li md me mf lm mg mh mi mj in bi translated">如果你每天都要使用Linux GUI应用程序，如Firefox或IntelliJ Idea(你已经安装在你的WSL 2发行版上),这种方法允许你将这些应用程序与Windows 10桌面环境集成，你可以轻松地运行和使用它们。</p><h2 id="8acc" class="kv kw iu bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">—更新:</h2><p id="d981" class="pw-post-body-paragraph lr ls iu lt b lu lv jv lw lx ly jy lz le ma mb mc li md me mf lm mg mh mi mj in bi translated">现在Windows 11支持原生运行Linux GUI应用！我写了另一篇关于这个的文章。所以你不再需要这个配置了。</p><div class="mn mo gq gs mp mq"><a rel="noopener  ugc nofollow" target="_blank" href="/️using-wls-2-and-wslg-for-development-on-windows-11-final-part-70661bb3788c"><div class="mr ab fp"><div class="ms ab mt cl cj mu"><h2 class="bd iv gz z fq mv fs ft mw fv fx it bi translated">️Using WLS 2和WSLg在Windows 11上的开发(最终部分)</h2><div class="mx l"><h3 class="bd b gz z fq mv fs ft mw fv fx dk translated">现在windows 11支持原生运行Linux GUI应用！</h3></div><div class="my l"><p class="bd b dl z fq mv fs ft mw fv fx dk translated">itnext.io</p></div></div><div class="mz l"><div class="oq l nb nc nd mz ne kp mq"/></div></div></a></div></div></div>    
</body>
</html>