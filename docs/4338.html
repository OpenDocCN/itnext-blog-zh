<html>
<head>
<title>Sentiment Analysis of Restaurant Reviews</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">餐馆评论的情感分析</h1>
<blockquote>原文：<a href="https://itnext.io/sentiment-analysis-of-restaurant-reviews-542727dc24e2?source=collection_archive---------2-----------------------#2020-06-10">https://itnext.io/sentiment-analysis-of-restaurant-reviews-542727dc24e2?source=collection_archive---------2-----------------------#2020-06-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/24d5c10176df77ea7efca55971af77d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U4aCpUs9PhV1gUeEQlKSrQ.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">用叉子进行情感分析</figcaption></figure><h2 id="370a" class="kf kg it bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">介绍</h2><p id="9f87" class="pw-post-body-paragraph lb lc it ld b le lf lg lh li lj lk ll ko lm ln lo ks lp lq lr kw ls lt lu lv im bi translated">在本教程中，我们将使用情感分析来分析一家餐馆的点评。为了避免获取API键的复杂性，也为了避免实现HTTP请求(因为本教程的范围是情感分析，而不是HTTP请求)，我将提供JSON文件供您分析。它基本上是来自RapidAPI的Fork List Reviews端点的响应，而没有前面所说的生成API密钥的麻烦。我们将建立一个小网页，提供来自TheFork的一些评论(以意大利米兰的Architora Caffe Bistrot为例),并使用情感分析器对任何评论进行评级。</p><p id="d71d" class="pw-post-body-paragraph lb lc it ld b le lx lg lh li ly lk ll ko lz ln lo ks ma lq lr kw mb lt lu lv im bi translated">简而言之，<strong class="ld iu">情感分析</strong>就是从给定的文本中提取关键短语，去除冗余，获取词语，从而理解作者的态度和情绪的过程。专业是用来分析客户的个人资料，并根据他们作出决定，或检测质量差的内容。</p><h2 id="40d0" class="kf kg it bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">开始努力吧</h2><p id="3aae" class="pw-post-body-paragraph lb lc it ld b le lf lg lh li lj lk ll ko lm ln lo ks lp lq lr kw ls lt lu lv im bi translated">我们将从基础开始。首先，我们将构建一个Express.js服务器，以JSON的形式提供数据(如介绍中所述，正确的做法是请求RapidAPI TheFork，但是为了本教程的缘故，我们将只关注情感分析方面)</p><p id="bc93" class="pw-post-body-paragraph lb lc it ld b le lx lg lh li ly lk ll ko lz ln lo ks ma lq lr kw mb lt lu lv im bi translated">我们安装通常的初始库:</p><blockquote class="mc md me"><p id="df45" class="lb lc mf ld b le lx lg lh li ly lk ll mg lz ln lo mh ma lq lr mi mb lt lu lv im bi translated"><em class="it"> npm安装快速主体解析器—保存</em></p></blockquote><p id="6979" class="pw-post-body-paragraph lb lc it ld b le lx lg lh li ly lk ll ko lz ln lo ks ma lq lr kw mb lt lu lv im bi translated">用下面的代码创建一个index.js。我们需要express和bodyParser，我们创建了两个方法，一个用于重定向到index.html(我们将很快创建)和data.json，如下所示:</p><blockquote class="mc md me"><p id="9c73" class="lb lc mf ld b le lx lg lh li ly lk ll mg lz ln lo mh ma lq lr mi mb lt lu lv im bi translated">const express = require(' express ')；<br/>const body parser = require(' body-parser ')；<br/>const app = express()；<br/>app . use(body parser . urlencoded({ extended:true })；</p><p id="834f" class="lb lc mf ld b le lx lg lh li ly lk ll mg lz ln lo mh ma lq lr mi mb lt lu lv im bi translated">var data = require("。/data.json”)、data.collection</p><p id="ed26" class="lb lc mf ld b le lx lg lh li ly lk ll mg lz ln lo mh ma lq lr mi mb lt lu lv im bi translated">app.get("/data "，(req，RES)= &gt; {<br/>return RES . JSON(data)；<br/>})；</p><p id="66fb" class="lb lc mf ld b le lx lg lh li ly lk ll mg lz ln lo mh ma lq lr mi mb lt lu lv im bi translated">app.get("/"，function(req，RES){<br/>RES . sendfile(_ _ dirname+"/index . html ")；<br/>})；</p><p id="364a" class="lb lc mf ld b le lx lg lh li ly lk ll mg lz ln lo mh ma lq lr mi mb lt lu lv im bi translated">app.listen(3000，function() { <br/> console.log('服务器在线')；<br/>})；</p></blockquote><p id="1954" class="pw-post-body-paragraph lb lc it ld b le lx lg lh li ly lk ll ko lz ln lo ks ma lq lr kw mb lt lu lv im bi translated">在同一个目录中创建data.json:</p><figure class="mj mk ml mm gt ju"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="c78c" class="pw-post-body-paragraph lb lc it ld b le lx lg lh li ly lk ll ko lz ln lo ks ma lq lr kw mb lt lu lv im bi translated">创造了一个现在还是空白的index.html。</p><h2 id="8036" class="kf kg it bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">Node.js实践:情感分析</h2><p id="eb32" class="pw-post-body-paragraph lb lc it ld b le lf lg lh li lj lk ll ko lm ln lo ks lp lq lr kw ls lt lu lv im bi translated">在开始编写疯狂的代码之前，我们需要导入几个库来帮助我们完成<strong class="ld iu">标记化</strong>的过程，也就是——简而言之——从短语中提取干净的单词。我们将需要经历类似于<strong class="ld iu">转换缩写</strong>(例如:我是，他是，他们是)<strong class="ld iu">到标准词典</strong>(我是，他是，他们是)<strong class="ld iu">排版修正</strong>，<strong class="ld iu">过滤我们在此分析中不使用的单词</strong>(额外的单词，如<strong class="ld iu">而是</strong>，<strong class="ld iu"> a </strong>，<strong class="ld iu">或</strong>，<strong class="ld iu"> what </strong>)。</p><p id="84e3" class="pw-post-body-paragraph lb lc it ld b le lx lg lh li ly lk ll ko lz ln lo ks ma lq lr kw mb lt lu lv im bi translated">我们要使用的库是:</p><p id="c9ab" class="pw-post-body-paragraph lb lc it ld b le lx lg lh li ly lk ll ko lz ln lo ks ma lq lr kw mb lt lu lv im bi translated"><a class="ae lw" href="https://github.com/NaturalNode/natural" rel="noopener ugc nofollow" target="_blank">natural</a>:node . js的一个通用自然语言工具，它不仅包括一个情感分析器模块，还包括多个用于标记化和<strong class="ld iu">词干化</strong>的工具(NLP中的单词规范化过程，用于将派生或变形的单词转换为它们的基本或词根形式，如give、give或giver to the root word:give—)。</p><p id="b5f5" class="pw-post-body-paragraph lb lc it ld b le lx lg lh li ly lk ll ko lz ln lo ks ma lq lr kw mb lt lu lv im bi translated"><a class="ae lw" href="https://github.com/ebenezerdon/apos-to-lex-form" rel="noopener ugc nofollow" target="_blank"> apos-to-lex-form </a>:将撇号连接的单词转换成它们的标准词典形式</p><p id="9ab4" class="pw-post-body-paragraph lb lc it ld b le lx lg lh li ly lk ll ko lz ln lo ks ma lq lr kw mb lt lu lv im bi translated"><a class="ae lw" href="https://github.com/loretoparisi/spelling-corrector" rel="noopener ugc nofollow" target="_blank">拼写校正器</a>:在浏览器中运行的概率拼写校正器，允许在浏览器中训练、纠正文本并区分结果。</p><p id="2164" class="pw-post-body-paragraph lb lc it ld b le lx lg lh li ly lk ll ko lz ln lo ks ma lq lr kw mb lt lu lv im bi translated"><a class="ae lw" href="https://www.npmjs.com/package/stopword" rel="noopener ugc nofollow" target="_blank">停用词</a>:用于节点和浏览器的模块，允许您从输入文本中删除停用词。(对于停用词，我们理解那些频繁出现的词，它们可以安全地从文本中删除，而不会改变其含义)。</p><blockquote class="mc md me"><p id="57a2" class="lb lc mf ld b le lx lg lh li ly lk ll mg lz ln lo mh ma lq lr mi mb lt lu lv im bi translated">npm安装自然apos-to-lex-form拼写纠正停用词-保存</p></blockquote><p id="88d6" class="pw-post-body-paragraph lb lc it ld b le lx lg lh li ly lk ll ko lz ln lo ks ma lq lr kw mb lt lu lv im bi translated">在var data = …下面，我们导入刚刚添加的库:</p><blockquote class="mc md me"><p id="c31a" class="lb lc mf ld b le lx lg lh li ly lk ll mg lz ln lo mh ma lq lr mi mb lt lu lv im bi translated">const aposToLexForm = require(' apos-to-lex-form ')；<br/>const natural = require(' natural ')；</p><p id="9abb" class="lb lc mf ld b le lx lg lh li ly lk ll mg lz ln lo mh ma lq lr mi mb lt lu lv im bi translated">const spell corrector = require(' spelling-corrector ')；<br/>const spell corrector = new spell corrector()；<br/>spell corrector . load dictionary()；</p><p id="7b72" class="lb lc mf ld b le lx lg lh li ly lk ll mg lz ln lo mh ma lq lr mi mb lt lu lv im bi translated">const SW = require(' stop word ')；</p></blockquote><p id="148e" class="pw-post-body-paragraph lb lc it ld b le lx lg lh li ly lk ll ko lz ln lo ks ma lq lr kw mb lt lu lv im bi translated">下面我们添加情感分析部分，这是本文的核心。然后我们将逐行解释代码:</p><figure class="mj mk ml mm gt ju"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="de9f" class="pw-post-body-paragraph lb lc it ld b le lx lg lh li ly lk ll ko lz ln lo ks ma lq lr kw mb lt lu lv im bi translated">现在，让我们说说这一行:</p><blockquote class="mc md me"><p id="ac7d" class="lb lc mf ld b le lx lg lh li ly lk ll mg lz ln lo mh ma lq lr mi mb lt lu lv im bi translated">const analyzer = new sensitive analyzer('意大利语'，PorterStemmerIt，'模式')；</p></blockquote><p id="2db5" class="pw-post-body-paragraph lb lc it ld b le lx lg lh li ly lk ll ko lz ln lo ks ma lq lr kw mb lt lu lv im bi translated">因为我们正在分析意大利文本，所以我们需要将分析器设置为意大利语。幸运的是，natural.js库支持多种语言，每种语言都使用特定的算法对给定的词汇模块进行词干提取。<br/>情感分析构造器有三个参数:</p><ol class=""><li id="ec0c" class="mp mq it ld b le lx li ly ko mr ks ms kw mt lv mu mv mw mx bi translated">语言和斯特梅尔<br/>根据使用的语言，我们导入相关的模块:<br/>英语:PorterStemmer <br/>荷兰语:PorterStemmerNl <br/>法语:porterstemmerr<br/>意大利语:PorterStemmerIt <br/>西班牙语:PorterStemmerEs</li><li id="08d6" class="mp mq it ld b le my li mz ko na ks nb kw nc lv mu mv mw mx bi translated">词汇<br/>设置词汇的类型(AFINN，Senticon，Pattern或Negations) <br/>英语:AFINN，Senticon，Pattern，Negations <br/>法语:Pattern <br/>意大利语:Pattern <br/>西班牙语:AFINN，Senticon，Negations <br/>荷兰语:Pattern，Negations</li></ol><h2 id="cc09" class="kf kg it bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">正在完成…</h2><p id="eb70" class="pw-post-body-paragraph lb lc it ld b le lf lg lh li lj lk ll ko lm ln lo ks lp lq lr kw ls lt lu lv im bi translated">现在我们需要完成index.html文件，我们调用我们的JSON文件并显示结果。</p><figure class="mj mk ml mm gt ju"><div class="bz fp l di"><div class="mn mo l"/></div></figure><h1 id="e454" class="nd kg it bd kh ne nf ng kk nh ni nj kn nk nl nm kr nn no np kv nq nr ns kz nt bi translated">决赛成绩</h1><figure class="mj mk ml mm gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nu"><img src="../Images/3d94b2b48651370b5d262a795c54488d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2qy77utCzdvHX5uAL0nuFg.png"/></div></div></figure><h1 id="21c5" class="nd kg it bd kh ne nf ng kk nh ni nj kn nk nl nm kr nn no np kv nq nr ns kz nt bi translated">结论</h1><p id="2afc" class="pw-post-body-paragraph lb lc it ld b le lf lg lh li lj lk ll ko lm ln lo ks lp lq lr kw ls lt lu lv im bi translated">现在，我们有了一个表格，显示JSON文件中呈现的每个评论以及相应的(四舍五入)分数，还有一个表情符号来区分情绪值。从这里，我们可以向Fork API请求最近的评论，而不是提供一个JSON文件，并在感觉分数低于某个特定点时得到提醒。可能性是巨大的，在技术进步的同时，开发人员发现了使用数据的新方法，使每个人的生活变得更好。</p></div></div>    
</body>
</html>