<html>
<head>
<title>Comparing Crystal’s concurrency with that of Go (Part I)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Crystal与Go的并发性比较(上)</h1>
<blockquote>原文：<a href="https://itnext.io/comparing-crystals-concurrency-with-that-of-go-s-part-i-cd45a3388935?source=collection_archive---------1-----------------------#2020-08-01">https://itnext.io/comparing-crystals-concurrency-with-that-of-go-s-part-i-cd45a3388935?source=collection_archive---------1-----------------------#2020-08-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="2bdc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在我上一篇关于Crystal编程语言的文章中，我写了我第一次使用Crystal编程语言及其生态系统的经历。从那以后，我试图在Crystal的语法和语义方面做更多的研究。已经熟悉了<a class="ae ko" href="https://golang.org/" rel="noopener ugc nofollow" target="_blank"> Go </a>，我想通过将一些Go程序转换成Crystal来比较Crystal和Go中的并发支持。</p><p id="01bc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我假设您至少熟悉这两种语言中的一种及其并发结构。T11】</p><p id="0bcf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Go支持两种形式的并发，并且都非常成熟—</p><ul class=""><li id="dc58" class="kq kr it js b jt ju jx jy kb ks kf kt kj ku kn kv kw kx ky bi translated">使用<a class="ae ko" href="https://en.wikipedia.org/wiki/Communicating_sequential_processes" rel="noopener ugc nofollow" target="_blank">通信顺序进程(CSP)的并发性</a></li><li id="5ca7" class="kq kr it js b jt kz jx la kb lb kf lc kj ld kn kv kw kx ky bi translated">使用共享内存多线程的并发性</li></ul><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/4340d170c16f33a3d5b6b8d9b8b54990.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kOghma-huJT1HxGIAwUV6w.png"/></div></div></figure><p id="486d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">虽然Crystal也支持CSP和共享内存多线程，但我发现从Crystal版本0.35.1开始，这种支持仍然不完整。此外，正如<a class="ae ko" href="https://crystal-lang.org/reference/guides/concurrency.html" rel="noopener ugc nofollow" target="_blank"> Crystal官方文档</a>所言——“<em class="kp">在撰写本文时，Crystal支持并发性，但不支持并行性:可以执行几个任务，每个任务会花费一些时间，但两条代码路径不会在同一时间执行。”</em></p><p id="c491" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">说到这里，我将在文章系列的第一部分中通过比较对<strong class="js iu"> CSP </strong>的支持来比较Crystal和Go的并发性的当前状态。我将在第二部分比较共享内存多线程。</p><h1 id="22b8" class="lq lr it bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">沟通顺序流程(CSP)</h1><p id="2291" class="pw-post-body-paragraph jq jr it js b jt mo jv jw jx mp jz ka kb mq kd ke kf mr kh ki kj ms kl km kn im bi translated">在CSP中，值被限制在单个活动中，多个活动通过在它们之间传递值来进行通信。</p><p id="98fb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> Go </strong>实施CSP使用—</p><ul class=""><li id="f311" class="kq kr it js b jt ju jx jy kb ks kf kt kj ku kn kv kw kx ky bi translated">goroutine —轻量级执行线程</li><li id="d236" class="kq kr it js b jt kz jx la kb lb kf lc kj ld kn kv kw kx ky bi translated">通道——允许一个goroutine向另一个goroutine发送值的通信机制。</li></ul><p id="9537" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">晶体</strong>有类似的机制使用—</p><ul class=""><li id="0e64" class="kq kr it js b jt ju jx jy kb ks kf kt kj ku kn kv kw kx ky bi translated">纤维——相当于Go中的goroutine</li><li id="f071" class="kq kr it js b jt kz jx la kb lb kf lc kj ld kn kv kw kx ky bi translated">渠道—相当于Go中的渠道</li></ul><p id="d140" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本文中，我从Go的<a class="ae ko" href="https://tour.golang.org/" rel="noopener ugc nofollow" target="_blank">A Tour</a>(<strong class="js iu">Concurrency</strong>小节)中选取了一些例子，并将这些程序转换成Crystal等价物。</p><p id="d0db" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们现在一个一个地检查程序。</p><h2 id="3665" class="mt lr it bd ls mu mv dn lw mw mx dp ma kb my mz me kf na nb mi kj nc nd mm ne bi translated">并发1</h2><p id="952f" class="pw-post-body-paragraph jq jr it js b jt mo jv jw jx mp jz ka kb mq kd ke kf mr kh ki kj ms kl km kn im bi translated">这个例子展示了如何创建goroutine (Go) / fiber (Crystal)并并发执行它们。</p><p id="2f5f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">围棋版本——</strong>【https://tour.golang.org/concurrency/1】T2</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="e333" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里—</p><ul class=""><li id="06c7" class="kq kr it js b jt ju jx jy kb ks kf kt kj ku kn kv kw kx ky bi translated"><strong class="js iu">第16行</strong> : <strong class="js iu"> go </strong>关键字在go中创建新的goroutine</li><li id="012f" class="kq kr it js b jt kz jx la kb lb kf lc kj ld kn kv kw kx ky bi translated"><strong class="js iu">第8–13行</strong>:主goroutine和新创建的goroutine(第16行)同时运行，执行<strong class="js iu"> say </strong>功能</li></ul><p id="84ea" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">水晶版— </strong></p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="465d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里—</p><ul class=""><li id="ee18" class="kq kr it js b jt ju jx jy kb ks kf kt kj ku kn kv kw kx ky bi translated"><strong class="js iu">第8–10行</strong> : <strong class="js iu"> spawn </strong>块用于在水晶中创建一个新的<strong class="js iu">纤维</strong></li></ul><h2 id="0236" class="mt lr it bd ls mu mv dn lw mw mx dp ma kb my mz me kf na nb mi kj nc nd mm ne bi translated">并发2</h2><p id="55cc" class="pw-post-body-paragraph jq jr it js b jt mo jv jw jx mp jz ka kb mq kd ke kf mr kh ki kj ms kl km kn im bi translated">这个例子展示了如何使用通道在<strong class="js iu"> goroutines </strong> (Go)或<strong class="js iu">fibre</strong>(Crystal)之间进行通信。</p><p id="1df0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">围棋版本</strong>——<a class="ae ko" href="https://tour.golang.org/concurrency/2" rel="noopener ugc nofollow" target="_blank">https://tour.golang.org/concurrency/2</a></p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="9a2e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里—</p><ul class=""><li id="8b66" class="kq kr it js b jt ju jx jy kb ks kf kt kj ku kn kv kw kx ky bi translated"><strong class="js iu">第16行</strong>:创建一个可以传递整数值的通道</li><li id="e4fd" class="kq kr it js b jt kz jx la kb lb kf lc kj ld kn kv kw kx ky bi translated"><strong class="js iu">第10行</strong>:将<strong class="js iu">和</strong>写入通道<strong class="js iu"> c (ch &lt; - v </strong>发送v到通道ch <strong class="js iu"> ) </strong></li><li id="a9c7" class="kq kr it js b jt kz jx la kb lb kf lc kj ld kn kv kw kx ky bi translated"><strong class="js iu">第19行</strong>:从通道<strong class="js iu"> c </strong> <strong class="js iu">读取两个值(<strong class="js iu"> x，y</strong>)(v:=&lt;-ch</strong>从通道ch <strong class="js iu"> ) </strong></li></ul><p id="0e73" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">水晶版</strong> —</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="de34" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里—</p><ul class=""><li id="e74e" class="kq kr it js b jt ju jx jy kb ks kf kt kj ku kn kv kw kx ky bi translated"><strong class="js iu">第9行</strong>:创建一个可以传递整数值的通道</li><li id="e6dc" class="kq kr it js b jt kz jx la kb lb kf lc kj ld kn kv kw kx ky bi translated"><strong class="js iu">第3行</strong>:将<strong class="js iu">和</strong>写入通道<strong class="js iu"> c(用于写入通道的发送方法)</strong></li><li id="a3f1" class="kq kr it js b jt kz jx la kb lb kf lc kj ld kn kv kw kx ky bi translated"><strong class="js iu">第19行</strong>:从通道<strong class="js iu">c</strong>读取两个值(<strong class="js iu"> x，y </strong>)</li></ul><h2 id="6559" class="mt lr it bd ls mu mv dn lw mw mx dp ma kb my mz me kf na nb mi kj nc nd mm ne bi translated"><strong class="ak">并发3 </strong></h2><p id="1f42" class="pw-post-body-paragraph jq jr it js b jt mo jv jw jx mp jz ka kb mq kd ke kf mr kh ki kj ms kl km kn im bi translated">此示例显示了如何使用缓冲通道，该通道根据容量最多可容纳多个值。</p><p id="1c00" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">围棋版本—</strong><a class="ae ko" href="https://tour.golang.org/concurrency/3" rel="noopener ugc nofollow" target="_blank">https://tour.golang.org/concurrency/3</a></p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="3a1f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里—</p><ul class=""><li id="187c" class="kq kr it js b jt ju jx jy kb ks kf kt kj ku kn kv kw kx ky bi translated"><strong class="js iu">第6行</strong>:创建容量为2的缓冲通道</li></ul><p id="4381" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">水晶版— </strong></p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="77db" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里—</p><ul class=""><li id="8c2b" class="kq kr it js b jt ju jx jy kb ks kf kt kj ku kn kv kw kx ky bi translated"><strong class="js iu">第1行</strong>:创建一个容量为2的缓冲通道</li></ul><h2 id="19f0" class="mt lr it bd ls mu mv dn lw mw mx dp ma kb my mz me kf na nb mi kj nc nd mm ne bi translated"><strong class="ak">并发4 </strong></h2><p id="3521" class="pw-post-body-paragraph jq jr it js b jt mo jv jw jx mp jz ka kb mq kd ke kf mr kh ki kj ms kl km kn im bi translated">这个例子展示了如何在信道上迭代以接收多个值，并且关闭一个信道以通知接收者不再有期望的值。</p><p id="6433" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">围棋版本——</strong>【https://tour.golang.org/concurrency/4】T2</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="b114" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里—</p><ul class=""><li id="6dd6" class="kq kr it js b jt ju jx jy kb ks kf kt kj ku kn kv kw kx ky bi translated"><strong class="js iu">第17行</strong>:创建一个容量为10的缓冲通道来存储生成的10个斐波那契数</li><li id="bf38" class="kq kr it js b jt kz jx la kb lb kf lc kj ld kn kv kw kx ky bi translated"><strong class="js iu">第18行</strong>:创建一个goroutine，并将通道容量和通道本身传递给新的goroutine</li><li id="0724" class="kq kr it js b jt kz jx la kb lb kf lc kj ld kn kv kw kx ky bi translated"><strong class="js iu">第13行</strong>:关闭通道<strong class="js iu"> c </strong>所有斐波纳契数都被写入通道</li><li id="0fa3" class="kq kr it js b jt kz jx la kb lb kf lc kj ld kn kv kw kx ky bi translated"><strong class="js iu">第14行</strong> : <strong class="js iu">范围</strong>用于在Go中迭代通道中的可用值</li></ul><p id="1e62" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">水晶版</strong> —</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="b57c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里—</p><ul class=""><li id="f2c7" class="kq kr it js b jt ju jx jy kb ks kf kt kj ku kn kv kw kx ky bi translated"><strong class="js iu">第17行</strong>:创建一个容量为10的缓冲通道，用于存储生成的10个斐波纳契数</li><li id="ca21" class="kq kr it js b jt kz jx la kb lb kf lc kj ld kn kv kw kx ky bi translated"><strong class="js iu">第14–16行</strong>:创建一个新纤程，并将信道容量和信道本身传递给新纤程</li><li id="acfb" class="kq kr it js b jt kz jx la kb lb kf lc kj ld kn kv kw kx ky bi translated"><strong class="js iu">第9行</strong>:关闭通道<strong class="js iu"> c </strong>所有斐波纳契数被写入通道</li><li id="0c65" class="kq kr it js b jt kz jx la kb lb kf lc kj ld kn kv kw kx ky bi translated"><strong class="js iu">line 18–24</strong>:与range在Go中的工作相同。<a class="ae ko" href="https://crystal-lang.org/api/0.35.1/Channel.html#receive?-instance-method" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">收到？</strong> </a>如果通道关闭且无其他值可读取，则返回nil</li></ul><h2 id="c845" class="mt lr it bd ls mu mv dn lw mw mx dp ma kb my mz me kf na nb mi kj nc nd mm ne bi translated">并发性5</h2><p id="8e5c" class="pw-post-body-paragraph jq jr it js b jt mo jv jw jx mp jz ka kb mq kd ke kf mr kh ki kj ms kl km kn im bi translated">这个例子演示了使用<strong class="js iu">选择</strong>来多路复用多个通道上的等待。select会一直阻塞，直到它的一个事例可以运行为止。</p><p id="4306" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">围棋版本—</strong><a class="ae ko" href="https://tour.golang.org/concurrency/5" rel="noopener ugc nofollow" target="_blank">https://tour.golang.org/concurrency/5</a></p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="a1df" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里—</p><ul class=""><li id="cc46" class="kq kr it js b jt ju jx jy kb ks kf kt kj ku kn kv kw kx ky bi translated"><strong class="js iu">第19–20行</strong>:创建两个通道(<strong class="js iu"> c，退出</strong> ) <strong class="js iu">。</strong></li><li id="be70" class="kq kr it js b jt kz jx la kb lb kf lc kj ld kn kv kw kx ky bi translated"><strong class="js iu">第25行</strong> : <strong class="js iu">退出</strong>通道用于通知<strong class="js iu">斐波那契</strong>例程，使用通道<strong class="js iu"> c </strong>预计不会有更多的值到达，是时候返回了</li><li id="d23f" class="kq kr it js b jt kz jx la kb lb kf lc kj ld kn kv kw kx ky bi translated"><strong class="js iu">线8–14</strong>:select用于多路复用两个通道上的等待(<strong class="js iu"> c </strong>和<strong class="js iu"> quit </strong>)</li></ul><p id="264e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">水晶版— </strong></p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="a5f4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里—</p><ul class=""><li id="5cf9" class="kq kr it js b jt ju jx jy kb ks kf kt kj ku kn kv kw kx ky bi translated"><strong class="js iu">第17–18行</strong>:创建两个通道(<strong class="js iu"> c，退出</strong> ) <strong class="js iu">。</strong></li><li id="ee8d" class="kq kr it js b jt kz jx la kb lb kf lc kj ld kn kv kw kx ky bi translated"><strong class="js iu">第24行</strong> : <strong class="js iu">退出</strong>通道用于通知<strong class="js iu">斐波那契</strong>纤程，使用通道<strong class="js iu"> c </strong>预计不会有更多的值到达，是时候返回了</li><li id="68b5" class="kq kr it js b jt kz jx la kb lb kf lc kj ld kn kv kw kx ky bi translated"><strong class="js iu">线7–13</strong>:select用于多路复用两个通道上的等待(<strong class="js iu"> c </strong>和<strong class="js iu">退出</strong>)</li></ul><h2 id="0395" class="mt lr it bd ls mu mv dn lw mw mx dp ma kb my mz me kf na nb mi kj nc nd mm ne bi translated">并发性6</h2><p id="367f" class="pw-post-body-paragraph jq jr it js b jt mo jv jw jx mp jz ka kb mq kd ke kf mr kh ki kj ms kl km kn im bi translated">此示例显示了在<strong class="js iu">选择中<strong class="js iu">默认</strong>案例(<strong class="js iu"> Go </strong>)的用法— </strong>默认案例在没有其他案例准备好时运行。Crystal中的等效情况是<strong class="js iu"> else。</strong></p><p id="035a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">围棋版本—</strong><code class="fe nh ni nj nk b"><strong class="js iu">1ed</strong></code><a class="ae ko" href="https://tour.golang.org/concurrency/6" rel="noopener ugc nofollow" target="_blank">https://tour.golang.org/concurrency/6</a></p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="8d65" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里—</p><ul class=""><li id="8504" class="kq kr it js b jt ju jx jy kb ks kf kt kj ku kn kv kw kx ky bi translated">第18–20行:<strong class="js iu">默认</strong>情况是在<strong class="js iu">滴答</strong>和<strong class="js iu">吊杆</strong>通道都没有准备好的情况下运行</li></ul><p id="49e1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">水晶版— </strong></p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="86fb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里—</p><ul class=""><li id="7632" class="kq kr it js b jt ju jx jy kb ks kf kt kj ku kn kv kw kx ky bi translated">第18–20行:<strong class="js iu">否则</strong>情况运行，此时<strong class="js iu">滴答</strong>或<strong class="js iu">吊杆</strong>通道都没有准备好</li></ul><p id="2e03" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">注:</strong> <em class="kp">我没有从水晶标准库中的</em>  <em class="kp">后的</em> <strong class="js iu"> <em class="kp">勾选</em> </strong> <em class="kp">和</em> <strong class="js iu"> <em class="kp">。所以我写了一个小模块</em><strong class="js iu"><em class="kp">time channel</em></strong><em class="kp">(第1–17行)来实现同样的。</em></strong></p><p id="8cf4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本文中，我试图比较和演示使用纤程和通道在Crystal中编写并发代码是多么容易。我在Go和Crystal中提供了等价的代码，以比较两者之间的相似之处。虽然Go对CSP的支持更加成熟，文档也更加完善，但是Crystal并没有落后太多，因为它的语言版本仍然是0.35.1。</p><p id="0770" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我希望这篇文章对一些读者有所帮助。请继续关注第二部分，它将关注<strong class="js iu">共享内存多线程</strong>。</p><p id="1a8d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="kp">更新:文章系列的第二部分现已出版。你可以在这里阅读—</em></strong><a class="ae ko" href="https://medium.com/@merajulislam/comparing-crystals-concurrency-with-that-of-go-part-ii-89049701b1a5" rel="noopener"><em class="kp">https://medium . com/@ merajulislam/comparing-crystals-concurrency-with-the-the-go-part-ii-89049701 B1 a5</em></a></p><h1 id="d153" class="lq lr it bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">参考</h1><ol class=""><li id="8e5d" class="kq kr it js b jt mo jx mp kb nl kf nm kj nn kn no kw kx ky bi translated"><a class="ae ko" href="https://tour.golang.org/list" rel="noopener ugc nofollow" target="_blank">https://tour.golang.org/list</a></li><li id="cfb7" class="kq kr it js b jt kz jx la kb lb kf lc kj ld kn no kw kx ky bi translated"><a class="ae ko" href="https://crystal-lang.org/reference/guides/concurrency.html" rel="noopener ugc nofollow" target="_blank">https://crystal-lang.org/reference/guides/concurrency.html</a></li><li id="5168" class="kq kr it js b jt kz jx la kb lb kf lc kj ld kn no kw kx ky bi translated"><a class="ae ko" href="https://crystal-lang.org/api/0.35.1/" rel="noopener ugc nofollow" target="_blank">https://crystal-lang.org/api/0.35.1/</a></li></ol><p id="c857" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="kp">更多详细和深入的未来技术帖子请关注我这里或点击</em> <a class="ae ko" href="https://twitter.com/meraj_enigma" rel="noopener ugc nofollow" target="_blank"> <em class="kp"> twitter </em> </a> <em class="kp">。</em></p></div></div>    
</body>
</html>