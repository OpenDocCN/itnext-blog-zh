<html>
<head>
<title>Notific8 — From Old School to Modern: Part 2 — Options Object</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通知8 —从旧派到现代:第2部分—选项对象</h1>
<blockquote>原文：<a href="https://itnext.io/notific8-from-old-school-to-modern-part-2-options-object-e4e9bd9150ac?source=collection_archive---------5-----------------------#2018-03-30">https://itnext.io/notific8-from-old-school-to-modern-part-2-options-object-e4e9bd9150ac?source=collection_archive---------5-----------------------#2018-03-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/86f2827e496f1f9463052c498ed82794.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jhmzu8jUms8MgXTNB_A4aA.png"/></div></div></figure><blockquote class="jy jz ka"><p id="3bfe" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><a class="ae la" href="https://www.linkedin.com/cws/share?url=https%3A%2F%2Fitnext.io%2Fnotific8-from-old-school-to-modern-part-2-options-object-e4e9bd9150ac%3Futm_source%3Dmedium_sharelink%26utm_medium%3Dsocial%26utm_campaign%3Dbuffer" rel="noopener ugc nofollow" target="_blank">点击这里在LinkedIn上分享这篇文章</a></p></blockquote><p id="a36b" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">是时候开始写一些新代码了。我决定从Notific8 options对象的基础开始。让我们看看最新的4.x版本中的默认选项。</p><figure class="le lf lg lh gt jr"><div class="bz fp l di"><div class="li lj l"/></div></figure><p id="6052" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">快速注意:代码片段中有三个选项被注释掉了。这些选项是事件处理程序。我一直在思考如何解决这些问题，所以我们会在以后的文章中再讨论这些问题。</p><h1 id="4358" class="lk ll iq bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">使用什么数据结构？</h1><p id="432a" class="pw-post-body-paragraph kb kc iq ke b kf mi kh ki kj mj kl km lb mk kp kq lc ml kt ku ld mm kx ky kz ij bi translated">Notific8的原始版本将选项定义为对象文字。ES2015+和Typescript给了我们使用类的能力。也就是说，类是可以使用的正确的数据结构吗？</p><p id="f971" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">让我们看看一门课会给我们的一些东西，看看我们是否需要它们:</p><ul class=""><li id="f8df" class="mn mo iq ke b kf kg kj kk lb mp lc mq ld mr kz ms mt mu mv bi translated"><strong class="ke ir">对象结构</strong> —这很有用，但也可以在对象文字中使用</li><li id="8664" class="mn mo iq ke b kf mw kj mx lb my lc mz ld na kz ms mt mu mv bi translated"><strong class="ke ir">创建实例的能力</strong>——可能有些过头了</li><li id="c74e" class="mn mo iq ke b kf mw kj mx lb my lc mz ld na kz ms mt mu mv bi translated"><strong class="ke ir">对对象进行操作的方法</strong> —不需要</li></ul><p id="cc48" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">仔细看看，看起来我们可以坚持使用对象字面量。然而，利用Typescript，我们肯定希望用一个接口来键入属性。</p><h1 id="1fec" class="lk ll iq bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">让我们来定义这个接口！</h1><p id="ff84" class="pw-post-body-paragraph kb kc iq ke b kf mi kh ki kj mj kl km lb mk kp kq lc ml kt ku ld mm kx ky kz ij bi translated">快速的第一遍给了我们这个界面:</p><figure class="le lf lg lh gt jr"><div class="bz fp l di"><div class="li lj l"/></div></figure><p id="c184" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">大多数人会注意到我们必须更改一个属性名。<code class="fe nb nc nd ne b">namespace</code>是Typescript中的关键字，因此需要更改。由于名称空间用于样式，我们可以轻松地将属性更改为<code class="fe nb nc nd ne b">styleNamespace</code>。</p><p id="4d8b" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">干净的编程是每个开发人员努力的目标。一个重要的干净编程实践是使用强有力的、准确的、尽可能简洁的变量名。因为这种重写是一种重置，所以让我们再检查一下那个接口，看看是否可以更新任何其他的接口。</p><figure class="le lf lg lh gt jr"><div class="bz fp l di"><div class="li lj l"/></div></figure><p id="c58f" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">因为颜色与主题<code class="fe nb nc nd ne b">color</code>有关，我们选择更具体一点。<code class="fe nb nc nd ne b">zindex</code>引用CSS <code class="fe nb nc nd ne b">z-index</code>属性，所以我们将其更新为camelcase。</p><p id="63b6" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">我们还可以对界面进行其他更新吗？<code class="fe nb nc nd ne b">horizontalEdge</code>和<code class="fe nb nc nd ne b">verticalEdge</code>各只允许两个有效值。为了让开发人员更容易使用Typescript，我们将为他们提供一些这些属性的有效值的提示。</p><figure class="le lf lg lh gt jr"><div class="bz fp l di"><div class="li lj l"/></div></figure><p id="af6f" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">纵观界面，我认为我们有了一个良好的开端！在下一篇文章中，我们将开始考虑通知工厂，这对于这次重写来说是全新的。</p><h1 id="fe9e" class="lk ll iq bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">跟着走</h1><p id="cf30" class="pw-post-body-paragraph kb kc iq ke b kf mi kh ki kj mj kl km lb mk kp kq lc ml kt ku ld mm kx ky kz ij bi translated">该项目托管在GitHub上的<a class="ae la" href="https://github.com/willsteinmetz/notific8" rel="noopener ugc nofollow" target="_blank">https://github.com/willsteinmetz/notific8</a>我将从<code class="fe nb nc nd ne b"><a class="ae la" href="https://github.com/willsteinmetz/notific8/tree/ts-2018" rel="noopener ugc nofollow" target="_blank">ts-2018</a></code>分支开始工作，并在每篇介绍代码更改的帖子末尾发布相关的提交散列。</p><ul class=""><li id="db05" class="mn mo iq ke b kf kg kj kk lb mp lc mq ld mr kz ms mt mu mv bi translated"><a class="ae la" href="https://github.com/willsteinmetz/notific8/commit/7e6c98f07fbcaa9ca1d16485244b3c79c82b5f2c" rel="noopener ugc nofollow" target="_blank"> 7e6c98f0 </a> —增加tsconfig和tslint。创建了选项界面。</li></ul></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><p id="460a" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated"><em class="kd">原载于</em><a class="ae la" href="https://gist.github.com/8070eb295233abec1db114a661717812" rel="noopener ugc nofollow" target="_blank"><em class="kd"/></a><em class="kd">。</em></p></div></div>    
</body>
</html>