<html>
<head>
<title>Tabs (TabLayout) in Jetpack Compose</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Jetpack撰写中的选项卡(TabLayout)</h1>
<blockquote>原文：<a href="https://itnext.io/tabs-tablayout-in-jetpack-compose-cd1f84d3a381?source=collection_archive---------1-----------------------#2022-12-11">https://itnext.io/tabs-tablayout-in-jetpack-compose-cd1f84d3a381?source=collection_archive---------1-----------------------#2022-12-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/d8cbeb26139c87e40d62cf6c9362e238.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t-Vbbmc9haOWrnFkfq9x4Q.png"/></div></div></figure><blockquote class="jy jz ka"><p id="e489" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">选项卡对于在不同的和相关的信息组视图之间切换很有用。选项卡跨不同的屏幕、数据集和其他交互组织内容。</p></blockquote><h1 id="3844" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">目录</h1><ul class=""><li id="3d08" class="ly lz iq ke b kf ma kj mb mc md me mf mg mh kz mi mj mk ml bi translated"><a class="ae mm" href="#539f" rel="noopener ugc nofollow"> Gettings开始</a></li><li id="e35f" class="ly lz iq ke b kf mn kj mo mc mp me mq mg mr kz mi mj mk ml bi translated"><a class="ae mm" href="#3af0" rel="noopener ugc nofollow">准备工作</a></li><li id="883c" class="ly lz iq ke b kf mn kj mo mc mp me mq mg mr kz mi mj mk ml bi translated"><a class="ae mm" href="#a5ac" rel="noopener ugc nofollow">实施</a></li></ul><h1 id="539f" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">入门指南</h1><p id="954c" class="pw-post-body-paragraph kb kc iq ke b kf ma kh ki kj mb kl km mc ms kp kq me mt kt ku mg mu kx ky kz ij bi translated">我们需要两个伴奏者的依赖。你可以从<a class="ae mm" href="https://github.com/google/accompanist/tree/main/pager#pager-composable-for-jetpack-compose" rel="noopener ugc nofollow" target="_blank">这里</a>查看最新版本。</p><pre class="mv mw mx my gt mz na nb bn nc nd bi"><span id="7609" class="ne lb iq na b be nf ng l nh ni">def accompanist_version = "0.28.0"<br/>implementation "com.google.accompanist:accompanist-pager:$accompanist_version" // Pager<br/>implementation "com.google.accompanist:accompanist-pager-indicators:$accompanist_version" // Pager Indicators</span></pre><h1 id="3af0" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">准备</h1><p id="bbe6" class="pw-post-body-paragraph kb kc iq ke b kf ma kh ki kj mb kl km mc ms kp kq me mt kt ku mg mu kx ky kz ij bi translated">在实现选项卡之前，我们将创建数据类和屏幕。</p><pre class="mv mw mx my gt mz na nb bn nc nd bi"><span id="8ca4" class="ne lb iq na b be nf ng l nh ni">data class TabRowItem(<br/>    val title: String,<br/>    val icon: ImageVector,<br/>    val screen: @Composable () -&gt; Unit,<br/>)</span></pre><p id="c048" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mc ko kp kq me ks kt ku mg kw kx ky kz ij bi translated">该数据类别可以根据要求进行更改。您可以移除<code class="fe nj nk nl na b">title</code>或<code class="fe nj nk nl na b">icon</code>，但至少要保留其中一个。</p><figure class="mv mw mx my gt jr"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="af79" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mc ko kp kq me ks kt ku mg kw kx ky kz ij bi translated">这将用于我们的示例。以后你可以也应该改变它。</p><p id="ce8e" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mc ko kp kq me ks kt ku mg kw kx ky kz ij bi translated">最后，让我们创建标签列表。</p><pre class="mv mw mx my gt mz na nb bn nc nd bi"><span id="2fac" class="ne lb iq na b be nf ng l nh ni">val tabRowItems = listOf(<br/>    TabRowItem(<br/>        title = "Tab 1",<br/>        screen = { TabScreen(text = "Tab 1") },<br/>        icon = Icons.Rounded.Place,<br/>    ),<br/>    TabRowItem(<br/>        title = "Tab 2",<br/>        screen = { TabScreen(text = "Tab 2") },<br/>        icon = Icons.Rounded.Search,<br/>    ),<br/>    TabRowItem(<br/>        title = "Tab 3",<br/>        screen = { TabScreen(text = "Tab 3") },<br/>        icon = Icons.Rounded.Star,<br/>    )<br/>)</span></pre><p id="5b99" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mc ko kp kq me ks kt ku mg kw kx ky kz ij bi translated">准备部分到此结束。</p><h1 id="a5ac" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">履行</h1><pre class="mv mw mx my gt mz na nb bn nc nd bi"><span id="be16" class="ne lb iq na b be nf ng l nh ni">val pagerState = rememberPagerState()<br/>val coroutineScope = rememberCoroutineScope()</span></pre><p id="6ccc" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mc ko kp kq me ks kt ku mg kw kx ky kz ij bi translated"><code class="fe nj nk nl na b">pagerState</code>将有必要记住&amp;保持传呼的状态。</p><p id="cd57" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mc ko kp kq me ks kt ku mg kw kx ky kz ij bi translated"><code class="fe nj nk nl na b">coroutineScope</code>将用于<code class="fe nj nk nl na b">pagerState</code>滚动。</p><figure class="mv mw mx my gt jr"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="ed42" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mc ko kp kq me ks kt ku mg kw kx ky kz ij bi translated">我们首先添加<code class="fe nj nk nl na b">TabRow</code>，它将是<code class="fe nj nk nl na b">Tab</code>的容器。</p><p id="1755" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mc ko kp kq me ks kt ku mg kw kx ky kz ij bi translated"><code class="fe nj nk nl na b">selectedTabIndex</code>，当前选中标签页的索引。</p><p id="f5e2" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mc ko kp kq me ks kt ku mg kw kx ky kz ij bi translated"><code class="fe nj nk nl na b">indicator</code>，表示当前选择了哪个标签。</p><figure class="mv mw mx my gt jr"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="685c" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mc ko kp kq me ks kt ku mg kw kx ky kz ij bi translated">在<code class="fe nj nk nl na b">TabRow</code>内部，我们将创建<code class="fe nj nk nl na b">Tab</code>。因为我们已经创建了选项卡列表，我们将简单地调用<code class="fe nj nk nl na b">tabRowItems.forEachIndex</code>并设置<code class="fe nj nk nl na b">Tab</code> s。</p><p id="4c39" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mc ko kp kq me ks kt ku mg kw kx ky kz ij bi translated"><code class="fe nj nk nl na b">selected</code>，是否选中该页签。</p><p id="8a07" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mc ko kp kq me ks kt ku mg kw kx ky kz ij bi translated"><code class="fe nj nk nl na b">icon</code>和<code class="fe nj nk nl na b">text</code>是可选的。你可以选择其中一个或者两个都选，就像我们的例子一样。</p><p id="39ac" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mc ko kp kq me ks kt ku mg kw kx ky kz ij bi translated">在<code class="fe nj nk nl na b">onClick</code>方法中，我们启动<code class="fe nj nk nl na b">coroutineScope</code>并调用<code class="fe nj nk nl na b">animateScrollToPage</code>函数。它只是动画显示给定页面到视窗的中间。</p><figure class="mv mw mx my gt jr"><div class="bz fp l di"><div class="nm nn l"/></div></figure><blockquote class="jy jz ka"><p id="1a82" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><code class="fe nj nk nl na b"><em class="iq">HorizontalPager</em></code>一个水平滚动的布局，允许用户在项目之间左右翻转。</p></blockquote><p id="b776" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mc ko kp kq me ks kt ku mg kw kx ky kz ij bi translated">最后我们再加上<code class="fe nj nk nl na b">HorizontalPager</code>。<code class="fe nj nk nl na b">count</code>是页面的数量，<code class="fe nj nk nl na b">state</code>是用来控制或观察页面状态的对象，我们已经在上面创建过了。</p><p id="cd50" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mc ko kp kq me ks kt ku mg kw kx ky kz ij bi translated">在<code class="fe nj nk nl na b">HorizontalPager</code>中，我们将获取当前页面并调用<code class="fe nj nk nl na b">screen</code>，这也是我们已经在自定义数据类中创建的。</p><figure class="mv mw mx my gt jr gh gi paragraph-image"><div class="gh gi no"><img src="../Images/4c1ec52291dc09098d649bda9cb526fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1142/format:webp/1*2tOIHSdvseUeH3BR3Xu9NA.png"/></div></figure><p id="dfc2" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mc ko kp kq me ks kt ku mg kw kx ky kz ij bi translated">完整代码，</p><figure class="mv mw mx my gt jr"><div class="bz fp l di"><div class="nm nn l"/></div></figure><figure class="mv mw mx my gt jr gh gi paragraph-image"><div class="gh gi np"><img src="../Images/422bca77d62ab4ce94600af23535db03.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/0*8Cs8uuGSoh6K4kkO"/></div><figcaption class="nq nr gj gh gi ns nt bd b be z dk translated">标签GIF</figcaption></figure><p id="a173" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mc ko kp kq me ks kt ku mg kw kx ky kz ij bi translated">就是这样！我希望它是有用的。👋👋</p><h2 id="4395" class="nu lb iq bd lc nv nw dn lg nx ny dp lk mc nz oa lo me ob oc ls mg od oe lw of bi translated">来源:</h2><ul class=""><li id="93a4" class="ly lz iq ke b kf ma kj mb mc md me mf mg mh kz mi mj mk ml bi translated"><a class="ae mm" href="https://johncodeos.com/how-to-create-tabs-with-jetpack-compose/" rel="noopener ugc nofollow" target="_blank">约翰·科迪欧斯</a></li><li id="905a" class="ly lz iq ke b kf mn kj mo mc mp me mq mg mr kz mi mj mk ml bi translated"><a class="ae mm" href="https://m3.material.io/components/tabs/overview" rel="noopener ugc nofollow" target="_blank">选项卡—材料设计3 </a></li><li id="f8f9" class="ly lz iq ke b kf mn kj mo mc mp me mq mg mr kz mi mj mk ml bi translated"><a class="ae mm" href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#Tab(kotlin.Boolean,kotlin.Function0,androidx.compose.ui.Modifier,kotlin.Boolean,kotlin.Function0,kotlin.Function0,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.foundation.interaction.MutableInteractionSource)" rel="noopener ugc nofollow" target="_blank"> androidx.compose.material3 |安卓开发者</a></li></ul></div><div class="ab cl og oh hu oi" role="separator"><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol"/></div><div class="ij ik il im in"><p id="6ec5" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mc ko kp kq me ks kt ku mg kw kx ky kz ij bi translated">你可以联系我，</p><ul class=""><li id="3279" class="ly lz iq ke b kf kg kj kk mc on me oo mg op kz mi mj mk ml bi translated"><a class="ae mm" href="https://www.linkedin.com/in/burak-fidan/" rel="noopener ugc nofollow" target="_blank">领英</a></li><li id="8bca" class="ly lz iq ke b kf mn kj mo mc mp me mq mg mr kz mi mj mk ml bi translated"><a class="ae mm" href="https://github.com/MrNtlu" rel="noopener ugc nofollow" target="_blank"> Github </a></li><li id="6ad2" class="ly lz iq ke b kf mn kj mo mc mp me mq mg mr kz mi mj mk ml bi translated"><a class="ae mm" href="https://twitter.com/BurakFNtlu" rel="noopener ugc nofollow" target="_blank">推特</a></li></ul></div></div>    
</body>
</html>