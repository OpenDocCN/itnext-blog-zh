# 这是个陷阱！避免在软件测试中关注虚荣心

> 原文：<https://itnext.io/its-a-trap-avoid-focusing-on-vanity-metrics-in-software-testing-7a627c7848?source=collection_archive---------2----------------------->

几年前，一位新的项目经理加入了我所在的团队，并向我介绍了“虚荣指标”这个术语。当时，我们兴奋地看着我们新应用的下载量，她直言不讳地说这没关系，真正重要的是转化和留住用户。

显然，如果没有这些初始下载，你就无法获得转化率和留存率，在 app store 上短暂地排名第一当然有所帮助，但它确实让我更加意识到一些数字实际上是“虚荣”的，无助于你的团队实现可交付质量的目标。客户不在乎你在过去的一个小时里下载了多少。客户关心它是否如他们所愿。

![](img/946c845c096073151fbb230b22b42186.png)

虚荣心指标——并不总是质量的真实反映

作为一名质量工程师/测试主管/质量保证主管或其他我们现在称呼自己的人(虚名？)，时间和经验也向我展示了测试/质量中的许多指标，当归结到它时，纯粹(或几乎纯粹)是为了虚荣。

**测试覆盖率**

在你最新的软件项目中，无论是单元测试、集成还是自动化 UI 测试，你测量过测试覆盖率吗？不要误解我，覆盖率好，写测试有用。然而，坦白地说，争取一个经理向我声称的 80%的行业标准，而另一个经理想要 100%的一切，并不是那么“有用”。您可以拥有 100%的覆盖率，但仍然找不到 bug。以这个代码示例为例:

```
double divide (double a, double b)
{
    return a / b;
}
```

我们可以编写一个 100%覆盖这一点的单元测试。但这并不意味着它没有 bug。如果我们不测试边缘情况，比如 b 为 0.0 的情况，很明显它可能不会被捕获。

**bug 总数**

臭虫的理想数量是多少？零！但是如果你从事过任何软件项目，你(希望)会意识到这几乎是不可能的。考虑时间、成本和质量的质量三角形。选两个。如果你想要高质量，零 bug 是真正的高质量，这要么要花很长时间，要么要花很多钱。

![](img/242563c555e9c18e407bb00cfeef9972.png)

你能发现这个漏洞吗？

这并不意味着它不是一个领先指标。如果发现的错误数量随着时间的推移而增加，尤其是那些严重程度较高的错误，那么有必要调查它们是否是在一个可能需要进一步关注的特别复杂的模块中发现的。或者如果影响到特别有价值的客户，就需要考虑。类似地，如果 bug 的成本风险很高(想想起搏器或除颤器)。但在某些时候，你需要赚钱，销售软件。而且里面还会有 bug。避免更多错误的唯一方法是不要发布更多的软件，这不是一个解决方案。

另一个风险是行为的改变。我曾经在一家公司工作过，那里的项目经理告诉我们在发布之前停止开发 bug，这样就不会再延迟了。然后，他因按时发布而受到祝贺，而工程团队因发现了由此产生的错误而受到严厉批评…

**测试总数**

我曾在一家公司工作过，那里有一个由 20 名人工测试人员组成的团队，每个版本执行 4000 个测试用例。这是在一个媒体机顶盒上，测试时间并不短。快速释放是不可能的。

“解决方案”是雇佣一个测试自动化工程师团队，来实现自动化。

坏处呢？坦白地说，这些测试中的大部分都毫无用处。许多测试嵌套在其他测试中，或者不可思议地不太可能失败。与对关键功能进行一系列冒烟测试相比，投入的精力无疑是对时间的滥用，因为一旦出现问题，设备可以通过网络进行更新。此外，有 15-20 种不同的盒子，但除了屏幕分辨率和启动顺序，没有在所有设备上运行所有测试的大案例。在这里,[帕累托法则](https://en.wikipedia.org/wiki/Pareto_principle)总是需要考虑的。

按照这些思路，假设您有 100 或 1000 个测试。如果它们不是正确的测试——测试关键部分或最可能损坏的部分，它们远不如测试关键功能的 5-10 次冒烟测试有用。

**考试通过率**

像测试总数一样，测试通过率——虽然是一个指标，当然也是一个关注趋势的有用指南，但不应该用来说“我们没有错误，因为我们的测试 100%通过”。虽然测试通过率突然下降到 70%应该会令人惊讶并引起关注，但是不测试关键内容的 100%通过率的测试还是没有发挥应有的作用。

**静态分析指标**

```
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
Your code has been rated at 10.00/10 (previous run: 10.00/10, +0.00)
```

静态分析工具很棒。他们自动发现问题，他们可以帮助代码风格的一致性，在一家公司，我们系统地修复了 C 代码库中的 16，000 个警告，我们发现了许多被遗漏的关键错误。

然而，当 pylint 给你的代码打 10/10 分时，那种温暖、快乐的感觉呢？这很好，但是同样，正确编写的、符合编码标准的代码并不意味着代码在做正确的事情。这是我们工具箱中的另一个工具，但不应该用来传达“质量”,即在产品中传递正确的行为。

Eric Reis 认为“企业家应该投入精力收集的唯一指标是那些有助于他们做出决策的指标”。虚荣心指标看起来不错，但它们有助于推动你的业务向前发展吗？取而代之，寻找可操作的度量——那些指示您应该将测试的重点放在哪里，您可以向产品添加价值和质量的度量。

**测试中可行指标的例子**

最近更改的代码——如果这个版本中的所有更改都在模块 x 中，那么测试自 2015 年以来未被触及且没有相互依赖关系的模块 y 可能没有什么好处。也许将您的测试或新的质量计划定位于模块 x。

客户问题——如果 90%的问题都是功能 Y 导致的，请关注功能 Y。找出问题所在和共性，并尝试分解最大的问题以及可能导致这些问题的原因。通过减少这些问题来加速优质产品的运输将减少客户投诉，并提高客户满意度。客户的快乐就是质量！

记住——如果你能衡量它，你就能管理/改进它！采取这些可行的衡量标准，现在就开始努力，在下一次提交后的深夜，当你看到完美的林挺分数时，花一点时间，微笑，并意识到虽然这并不重要，但看到好消息仍然很好。