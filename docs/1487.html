<html>
<head>
<title>Shorthand for Defining an Object Method</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">定义对象方法的简写</h1>
<blockquote>原文：<a href="https://itnext.io/shorthand-for-defining-an-object-method-1eff541de825?source=collection_archive---------2-----------------------#2018-10-30">https://itnext.io/shorthand-for-defining-an-object-method-1eff541de825?source=collection_archive---------2-----------------------#2018-10-30</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><figure class="iq ir gq gs is it gi gj paragraph-image"><div role="button" tabindex="0" class="iu iv di iw bf ix"><div class="gi gj ip"><img src="../Images/b76a26d4c1827443e2483963f99f6117.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FxSJqIMre59BcSmAnP6FJQ.png"/></div></div><figcaption class="ja jb gk gi gj jc jd bd b be z dk translated">几桶酒。图片由作者提供。</figcaption></figure><div class=""/><p id="58fb" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ik bi translated">我从事Javascript编程已经很长时间了，所以我很惊讶地发现了一个我以前从未见过的语法，尽管它在2015年9月发布的Node 4中就已经存在了。</p><p id="e3b8" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ik bi translated">我所指的语法叫做<a class="ae lb" href="https://node.green/#ES2015-syntax-object-literal-extensions-shorthand-methods" rel="noopener ugc nofollow" target="_blank">对象文字速记方法</a>，它是同时推出的更广为人知的<a class="ae lb" href="https://node.green/#ES2015-syntax-object-literal-extensions-shorthand-properties" rel="noopener ugc nofollow" target="_blank">对象文字速记属性</a>特性的一个伴侣。</p><p id="91d8" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ik bi translated">大多数Javascript程序员都知道可以这样做:</p><pre class="lc ld le lf gu lg lh li lj aw lk bi"><span id="0348" class="ll lm jg lh b gz ln lo l lp lq">const hello = 'world'<br/>const obj = { hello }</span><span id="1938" class="ll lm jg lh b gz lr lo l lp lq">console.log(obj.hello === 'world') // ==&gt; true<br/>console.log(Object.keys(obj))      // ==&gt; ['hello']<br/>console.log(typeof obj.hello)      // ==&gt; 'string'</span></pre><p id="fbe6" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ik bi translated">此外</p><pre class="lc ld le lf gu lg lh li lj aw lk bi"><span id="47ba" class="ll lm jg lh b gz ln lo l lp lq">const hello = name =&gt; {<br/>  console.log('hello', name)<br/>}<br/>const obj = { hello }</span><span id="b08f" class="ll lm jg lh b gz lr lo l lp lq">obj.hello('world')            // ==&gt; 'hello world'<br/>console.log(Object.keys(obj)) // ==&gt; ['hello']<br/>console.log(typeof obj.hello) // ==&gt; 'function'</span></pre><p id="d843" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ik bi translated">但是对我来说新的是，因为我不能完全解释的原因，因为它看起来很明显，你也可以这样做:</p><pre class="lc ld le lf gu lg lh li lj aw lk bi"><span id="e469" class="ll lm jg lh b gz ln lo l lp lq">const obj = {<br/>  hello(name) {<br/>    console.log('hello', name)<br/>  }<br/>}</span><span id="4c7a" class="ll lm jg lh b gz lr lo l lp lq">obj.hello('world')            // ==&gt; 'hello world'<br/>console.log(Object.keys(obj)) // ==&gt; ['hello']<br/>console.log(typeof obj.hello) // ==&gt; 'function'</span></pre><p id="b1c9" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ik bi translated">这意味着您可以通过编写以下代码来定义一个简单的对象:</p><pre class="lc ld le lf gu lg lh li lj aw lk bi"><span id="9527" class="ll lm jg lh b gz ln lo l lp lq">const obj = {<br/>  title: 'My useful object',<br/>  hello(name) {<br/>    return `Hello ${name}.`<br/>  }<br/>}</span></pre><p id="4400" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ik bi translated">例如，当您想要定义一个可读的<code class="fe ls lt lu lh b">Stream</code>时，这是一个有用的简写，比如:</p><pre class="lc ld le lf gu lg lh li lj aw lk bi"><span id="4339" class="ll lm jg lh b gz ln lo l lp lq">const { Readable } = require('stream')</span><span id="01c6" class="ll lm jg lh b gz lr lo l lp lq">const inStream = new Readable({<br/>  read(size) {<br/>    // invoked when the stream is being read<br/>  }<br/>})</span></pre><p id="2ebe" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ik bi translated">或者可写的<code class="fe ls lt lu lh b">Stream</code>:</p><pre class="lc ld le lf gu lg lh li lj aw lk bi"><span id="1d02" class="ll lm jg lh b gz ln lo l lp lq">const { Writable } = require('stream')</span><span id="bbec" class="ll lm jg lh b gz lr lo l lp lq">const outStream = new Writable({<br/>  write(chunk, encoding, next) {<br/>    console.log(chunk.toString(encoding))<br/>    next()<br/>  }<br/>})</span></pre><p id="355b" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ik bi translated">当然，您也可以通过以下方式轻松定义相同的<code class="fe ls lt lu lh b">Stream</code>:</p><pre class="lc ld le lf gu lg lh li lj aw lk bi"><span id="ed31" class="ll lm jg lh b gz ln lo l lp lq">const { Writable } = require('stream')</span><span id="1da6" class="ll lm jg lh b gz lr lo l lp lq">function write(chunk, encoding, next) {<br/>  console.log(chunk.toString(encoding))<br/>  next()<br/>}</span><span id="70fd" class="ll lm jg lh b gz lr lo l lp lq">const outStream = new Writable({ write })</span></pre><p id="4960" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ik bi translated">但是这有点难看，尤其是当你设置<code class="fe ls lt lu lh b">Stream</code>时，你的<code class="fe ls lt lu lh b">write</code>函数只会被定义一次。</p><h2 id="6354" class="ll lm jg bd lv lw lx dn ly lz ma dp mb ko mc md me ks mf mg mh kw mi mj mk ml bi translated">结论</h2><p id="0e56" class="pw-post-body-paragraph kd ke jg kf b kg mm ki kj kk mn km kn ko mo kq kr ks mp ku kv kw mq ky kz la ik bi translated">这里的教训是，不管你使用一门编程语言有多长时间，这门语言总会有你从未见过的东西。一旦你看到它，你会奇怪你怎么可能不知道。</p><h2 id="d4be" class="ll lm jg bd lv lw lx dn ly lz ma dp mb ko mc md me ks mf mg mh kw mi mj mk ml bi translated">链接和相关文章</h2><ul class=""><li id="b1c4" class="mr ms jg kf b kg mm kk mn ko mt ks mu kw mv la mw mx my mz bi translated">我在阅读<a class="ae lb" href="https://medium.freecodecamp.org/@samerbuna" rel="noopener ugc nofollow" target="_blank">萨梅尔·布纳</a>的优秀文章<a class="ae lb" href="https://medium.freecodecamp.org/node-js-streams-everything-you-need-to-know-c9141306be93" rel="noopener ugc nofollow" target="_blank"> Node.js Streams:你需要知道的一切</a>时偶然发现了这个语法。如果流让你困惑，那么他的文章可以帮助你解决这个问题。</li><li id="f325" class="mr ms jg kf b kg na kk nb ko nc ks nd kw ne la mw mx my mz bi translated"><a class="ae lb" href="https://codeburst.io/computed-property-names-ftw-61000332fff1" rel="noopener" target="_blank">计算属性名FTW！</a> —计算属性名有多酷？</li><li id="1077" class="mr ms jg kf b kg na kk nb ko nc ks nd kw ne la mw mx my mz bi translated">另见:<a class="ae lb" href="https://en.wikipedia.org/wiki/Impostor_syndrome" rel="noopener ugc nofollow" target="_blank">冒名顶替综合征</a>。是真的，每个人有时候都觉得自己像个傻逼。</li></ul><p id="c63e" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ik bi">—</p><p id="f5f2" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ik bi translated">像这样但不是订户？你可以通过<a class="ae lb" href="https://davesag.medium.com/membership" rel="noopener">davesag.medium.com</a>加入来支持作者。</p></div></div>    
</body>
</html>