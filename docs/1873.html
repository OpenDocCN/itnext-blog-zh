<html>
<head>
<title>MicroK8s in the Wild</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">野外的MicroK8s</h1>
<blockquote>原文：<a href="https://itnext.io/microk8s-in-the-wild-9f05aeee8d87?source=collection_archive---------4-----------------------#2019-02-14">https://itnext.io/microk8s-in-the-wild-9f05aeee8d87?source=collection_archive---------4-----------------------#2019-02-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="ecd4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">随着MicroK8s越来越受欢迎，我想花点时间提一些使用micro Kubernetes发行版的项目。但在此之前，我先做一些介绍。对于那些不熟悉Kubernetes 的人来说，Kubernetes是一个开源的容器编排器。它向您展示了如何部署、升级和供应您的应用程序。这是所有主要参与者(谷歌、微软、IBM、亚马逊等)聚集在一个框架周围，使其成为非官方标准的罕见场合之一。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi km"><img src="../Images/1f069633da8f9bfc904f6a82a01a457c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1044/format:webp/1*I7Qf-R5UHprY8zl_MitABQ.png"/></div></figure><p id="3b30" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kl" href="https://microk8s.io/" rel="noopener ugc nofollow" target="_blank"> MicroK8s </a>是Kubernetes的一个分布。这是一个<a class="ae kl" href="https://snapcraft.io/microk8s" rel="noopener ugc nofollow" target="_blank">快照包</a>，它在您的机器上建立了一个Kubernetes集群。您可以拥有一个Kubernetes集群，用于本地开发、CI/CD或只是为了了解Kubernetes，只需:</p><pre class="kn ko kp kq gt ku kv kw kx aw ky bi"><span id="222b" class="kz la iq kv b gy lb lc l ld le">sudo snap install microk8s --classic</span></pre><p id="4916" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你在Mac或Windows上，你将需要一个<a class="ae kl" rel="noopener ugc nofollow" target="_blank" href="/microk8s-on-macos-98f1de3aa63e"> Linux虚拟机</a>。</p><p id="9524" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在接下来的内容中，你会发现一些关于人们如何使用MicroK8s的例子。注意，这并不是MicroK8s用法的完整列表，只是我碰巧意识到的一些努力。</p><h2 id="8ade" class="kz la iq bd lf lg lh dn li lj lk dp ll jy lm ln lo kc lp lq lr kg ls lt lu lv bi translated"><a class="ae kl" href="https://github.com/spring-cloud/spring-cloud-kubernetes" rel="noopener ugc nofollow" target="_blank">春云Kubernetes </a></h2><p id="c645" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">本项目使用<a class="ae kl" href="https://circleci.com/" rel="noopener ugc nofollow" target="_blank"> CircleCI </a>进行CI/CD。MicroK8s提供了一个本地Kubernetes集群，在这里运行<a class="ae kl" href="https://github.com/spring-cloud/spring-cloud-kubernetes/tree/master/spring-cloud-kubernetes-integration-tests" rel="noopener ugc nofollow" target="_blank">集成测试</a>。启用的插件有dns、docker注册表和Istio。集成测试需要使用kubeconfig文件和dockerd的套接字插入Kubernetes集群。这项工作是在这个<a class="ae kl" href="https://github.com/spring-cloud/spring-cloud-kubernetes/commit/9f02f7e7533b36e4f3e03b8918acc4dbf4a95444" rel="noopener ugc nofollow" target="_blank">拉请求</a>中介绍的(感谢George ),它激励我们添加一个<code class="fe mb mc md kv b">microk8s.status</code>命令来等待集群上线。例如，我们可以等待5分钟，让MicroK8s给出:</p><pre class="kn ko kp kq gt ku kv kw kx aw ky bi"><span id="f658" class="kz la iq kv b gy lb lc l ld le">microk8s.status --wait-ready --timeout=300</span></pre><h2 id="d3f4" class="kz la iq bd lf lg lh dn li lj lk dp ll jy lm ln lo kc lp lq lr kg ls lt lu lv bi translated"><a class="ae kl" href="https://johnmccabe.net/technology/projects/openfaas-on-microk8s/" rel="noopener ugc nofollow" target="_blank">micro k8s上的open FAAS</a></h2><p id="6771" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">在今年的配置管理训练营中，我遇到了乔·麦科贝,《T2用MicroK8s部署OpenFaaS》一书的作者。我将重复他的话“被我能够让一个基本的实验室环境运行起来的速度和轻松程度所震撼”。</p><h2 id="f08f" class="kz la iq bd lf lg lh dn li lj lk dp ll jy lm ln lo kc lp lq lr kg ls lt lu lv bi translated"><a class="ae kl" rel="noopener ugc nofollow" target="_blank" href="/files-upload-from-kubeless-on-microk8s-to-minio-607e06598a4b"> <strong class="ak">那么无所不能呢？</strong> </a></h2><p id="c4e8" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">似乎部署MicroK8s的容易性与无服务器框架的软件开发的容易性是相辅相成的。Kubeless的用户也在踢MicroK8s的轮胎。查看“<a class="ae kl" rel="noopener ugc nofollow" target="_blank" href="/files-upload-from-kubeless-on-microk8s-to-minio-607e06598a4b">文件从MicroK8s上的Kubeless上传到Minio </a>”和“<a class="ae kl" href="https://medium.com/@bluszcz/serverless-microk8s-kubernetes-fcd6b875cd33" rel="noopener">无服务器MicroK8s Kubernetes </a>”。</p><h2 id="81d2" class="kz la iq bd lf lg lh dn li lj lk dp ll jy lm ln lo kc lp lq lr kg ls lt lu lv bi translated"><a class="ae kl" href="https://dimitris.karakasilis.me/2019/01/27/scf-on-microk8s.html" rel="noopener ugc nofollow" target="_blank">micro k8s上的SUSE云应用平台(CAP)</a></h2><p id="af52" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">在他的博客文章中，迪米特里斯详细描述了他为了让软件在MicroK8s上运行而必须做的所有配置。最有趣的部分是这种努力背后的动机。正如他所说，“…微型k8…使用您机器的资源，而不必事先决定虚拟机的大小。”正如他向我解释的那样，他的应用程序只在引导过程中施加了很大的内存压力。微k8使他能够在初始化阶段后回收未使用的内存。</p><h2 id="f148" class="kz la iq bd lf lg lh dn li lj lk dp ll jy lm ln lo kc lp lq lr kg ls lt lu lv bi translated"><a class="ae kl" href="https://www.kubeflow.org/docs/started/getting-started-multipass/" rel="noopener ugc nofollow" target="_blank">库贝弗洛</a></h2><p id="fb13" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">Kubeflow是<a class="ae kl" href="https://github.com/leigh-johnson/kubeflow-microk8s-demo" rel="noopener ugc nofollow" target="_blank"> Kubernetes和AI/ML </a>之间缺失的一环。Canonical积极参与了这项工作，所以…你绝对应该去看看。当然，我有偏见，但让我告诉你一个真实的故事。我有一个朋友，给了他三台机器来部署Tensorflow并运行一些实验。她当时没有任何经验，所以…三个节点集群都没有完全相同的设置方式。总会有些不对劲。这种令人挠头的情况只是使用库贝弗洛的一个原因。</p><h2 id="8852" class="kz la iq bd lf lg lh dn li lj lk dp ll jy lm ln lo kc lp lq lr kg ls lt lu lv bi translated"><a class="ae kl" href="https://transcrob.es/post/single-user-prod-microk8s/" rel="noopener ugc nofollow" target="_blank"> Transcrobes </a></h2><p id="fcab" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">Transcrobes来自MicroK8s社区的活跃成员。它可以作为语言学习的辅助工具。“系统知道你知道什么，所以可以给你适当的帮助，让你能够理解你不知道的单词，但为你知道的东西让路。”这里MicroK8s用于快速原型制作。我们祝你一切顺利，安东，祝你好运！</p><h2 id="5374" class="kz la iq bd lf lg lh dn li lj lk dp ll jy lm ln lo kc lp lq lr kg ls lt lu lv bi translated">总结</h2><p id="d7fb" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">我们已经看到了许多有趣的用例，包括CI/CD、无服务器编程、实验室设置、快速原型制作和应用程序开发。如果您有MicroK8s用例，请告诉我们。来在<a class="ae kl" href="https://kubernetes.slack.com/" rel="noopener ugc nofollow" target="_blank"> Kubernetes slack </a>上的#microk8s说<em class="me"> hi </em>和/或在野生页面上对我们的<a class="ae kl" href="https://github.com/ubuntu/microk8s/blob/master/docs/community.md" rel="noopener ugc nofollow" target="_blank"> MicroK8s发出拉请求。</a></p><h2 id="3c3b" class="kz la iq bd lf lg lh dn li lj lk dp ll jy lm ln lo kc lp lq lr kg ls lt lu lv bi translated">参考</h2><div class="mf mg gp gr mh mi"><a href="https://microk8s.io/" rel="noopener  ugc nofollow" target="_blank"><div class="mj ab fo"><div class="mk ab ml cl cj mm"><h2 class="bd ir gy z fp mn fr fs mo fu fw ip bi translated">MicroK8s -快速、轻便的上游开发人员Kubernetes</h2><div class="mp l"><h3 class="bd b gy z fp mn fr fs mo fu fw dk translated">它没有弹性，但它在轨道上。将其用于离线开发、原型制作、测试，或者在虚拟机上作为…</h3></div><div class="mq l"><p class="bd b dl z fp mn fr fs mo fu fw dk translated">microk8s.io</p></div></div><div class="mr l"><div class="ms l mt mu mv mr mw ks mi"/></div></div></a></div><div class="mf mg gp gr mh mi"><a href="https://github.com/ubuntu/microk8s" rel="noopener  ugc nofollow" target="_blank"><div class="mj ab fo"><div class="mk ab ml cl cj mm"><h2 class="bd ir gy z fp mn fr fs mo fu fw ip bi translated">ubuntu/microk8s</h2><div class="mp l"><h3 class="bd b gy z fp mn fr fs mo fu fw dk translated">kubernetes集群在一瞬间。在GitHub上创建一个帐户，为ubuntu/microk8s的开发做出贡献。</h3></div><div class="mq l"><p class="bd b dl z fp mn fr fs mo fu fw dk translated">github.com</p></div></div><div class="mr l"><div class="mx l mt mu mv mr mw ks mi"/></div></div></a></div><div class="mf mg gp gr mh mi"><a href="https://github.com/spring-cloud/spring-cloud-kubernetes/tree/master/spring-cloud-kubernetes-integration-tests" rel="noopener  ugc nofollow" target="_blank"><div class="mj ab fo"><div class="mk ab ml cl cj mm"><h2 class="bd ir gy z fp mn fr fs mo fu fw ip bi translated">春云/春云-库伯内特</h2><div class="mp l"><h3 class="bd b gy z fp mn fr fs mo fu fw dk translated">Kubernetes与Spring Cloud Discovery客户端、配置等的集成...-春天的云/春天的云-库伯内特</h3></div><div class="mq l"><p class="bd b dl z fp mn fr fs mo fu fw dk translated">github.com</p></div></div><div class="mr l"><div class="my l mt mu mv mr mw ks mi"/></div></div></a></div><div class="mf mg gp gr mh mi"><a href="https://johnmccabe.net/technology/projects/openfaas-on-microk8s/" rel="noopener  ugc nofollow" target="_blank"><div class="mj ab fo"><div class="mk ab ml cl cj mm"><h2 class="bd ir gy z fp mn fr fs mo fu fw ip bi translated">用MicroK8s部署OpenFaaS</h2><div class="mp l"><h3 class="bd b gy z fp mn fr fs mo fu fw dk translated">作为季节性家庭实验室整理的一部分，我在我的NUC上重新安装了Ubuntu Bionic Beaver (18.04)，而不是使用…</h3></div><div class="mq l"><p class="bd b dl z fp mn fr fs mo fu fw dk translated">johnmccabe.net</p></div></div><div class="mr l"><div class="mz l mt mu mv mr mw ks mi"/></div></div></a></div><div class="mf mg gp gr mh mi"><a rel="noopener  ugc nofollow" target="_blank" href="/files-upload-from-kubeless-on-microk8s-to-minio-607e06598a4b"><div class="mj ab fo"><div class="mk ab ml cl cj mm"><h2 class="bd ir gy z fp mn fr fs mo fu fw ip bi translated">文件从MicroK8s上的Kubeless上传到Minio</h2><div class="mp l"><h3 class="bd b gy z fp mn fr fs mo fu fw dk translated">无服务器上传到对象存储</h3></div><div class="mq l"><p class="bd b dl z fp mn fr fs mo fu fw dk translated">itnext.io</p></div></div><div class="mr l"><div class="na l mt mu mv mr mw ks mi"/></div></div></a></div><div class="mf mg gp gr mh mi"><a href="https://medium.com/@bluszcz/serverless-microk8s-kubernetes-fcd6b875cd33" rel="noopener follow" target="_blank"><div class="mj ab fo"><div class="mk ab ml cl cj mm"><h2 class="bd ir gy z fp mn fr fs mo fu fw ip bi translated">无服务器MicroK8s Kubernetes</h2><div class="mp l"><h3 class="bd b gy z fp mn fr fs mo fu fw dk translated">在基于Snap的Kubernetes集群上安装Kubeless和裂变</h3></div><div class="mq l"><p class="bd b dl z fp mn fr fs mo fu fw dk translated">medium.com</p></div></div><div class="mr l"><div class="nb l mt mu mv mr mw ks mi"/></div></div></a></div><div class="mf mg gp gr mh mi"><a href="https://dimitris.karakasilis.me/2019/01/27/scf-on-microk8s.html" rel="noopener  ugc nofollow" target="_blank"><div class="mj ab fo"><div class="mk ab ml cl cj mm"><h2 class="bd ir gy z fp mn fr fs mo fu fw ip bi translated">MicroK8s上的SUSE云应用平台</h2><div class="mp l"><h3 class="bd b gy z fp mn fr fs mo fu fw dk translated">除非你一直生活在岩石下，否则你可能知道kubernetes是什么。如果你一直生活在岩石下…</h3></div><div class="mq l"><p class="bd b dl z fp mn fr fs mo fu fw dk translated">季米特里斯.卡拉卡斯利斯.我</p></div></div></div></a></div><div class="mf mg gp gr mh mi"><a href="https://transcrob.es/post/single-user-prod-microk8s/" rel="noopener  ugc nofollow" target="_blank"><div class="mj ab fo"><div class="mk ab ml cl cj mm"><h2 class="bd ir gy z fp mn fr fs mo fu fw ip bi translated">Microk8s上的单用户生产</h2><div class="mp l"><h3 class="bd b gy z fp mn fr fs mo fu fw dk translated">这是我在4g上从单独的服务器应用程序迁移跨平台应用程序的经历的小型系列的第1部分…</h3></div><div class="mq l"><p class="bd b dl z fp mn fr fs mo fu fw dk translated">transcrob.es</p></div></div><div class="mr l"><div class="nc l mt mu mv mr mw ks mi"/></div></div></a></div><div class="mf mg gp gr mh mi"><a href="https://github.com/leigh-johnson/kubeflow-microk8s-demo" rel="noopener  ugc nofollow" target="_blank"><div class="mj ab fo"><div class="mk ab ml cl cj mm"><h2 class="bd ir gy z fp mn fr fs mo fu fw ip bi translated">利-强生公司/库贝弗洛-micro k8s-演示</h2><div class="mp l"><h3 class="bd b gy z fp mn fr fs mo fu fw dk translated">通过Microk8s和Multipass开始使用kube flow(Kubernetes的机器学习工具包)…</h3></div><div class="mq l"><p class="bd b dl z fp mn fr fs mo fu fw dk translated">github.com</p></div></div><div class="mr l"><div class="nd l mt mu mv mr mw ks mi"/></div></div></a></div></div></div>    
</body>
</html>