<html>
<head>
<title>Managing Open Source Components with Automation, Security Teams, and Forking</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过自动化、安全团队和分叉来管理开源组件</h1>
<blockquote>原文：<a href="https://itnext.io/managing-open-source-components-with-automation-security-teams-and-forking-31ffe643ec83?source=collection_archive---------3-----------------------#2022-08-18">https://itnext.io/managing-open-source-components-with-automation-security-teams-and-forking-31ffe643ec83?source=collection_archive---------3-----------------------#2022-08-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/34c16033e24caa281e36a00c4126adb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RXBbkuDjAEdvANwD"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">来自:作者</figcaption></figure><p id="1487" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">如今，在项目开发中，开源项目提高了我们的工作效率。我们在我们的项目中使用了大量的这类工具来增加各种各样的特性。我们直接或间接地链接到各种开源组件。</p><p id="acfd" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">构建应用程序就像在云中玩乐高，我们用从CNCF的软件供应链中挑选的开源组件一层一层地构建我们的集群。一小部分运营商自建但仍基于kubebuilder。</p><h1 id="172b" class="ld le it bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">开源组件的优势</h1><p id="122b" class="pw-post-body-paragraph kf kg it kh b ki mb kk kl km mc ko kp kq md ks kt ku me kw kx ky mf la lb lc im bi translated">开源组件受欢迎有三个原因。</p><h2 id="0719" class="mg le it bd lf mh mi dn lj mj mk dp ln kq ml mm lr ku mn mo lv ky mp mq lz mr bi translated"><strong class="ak">高效</strong></h2><p id="9c3d" class="pw-post-body-paragraph kf kg it kh b ki mb kk kl km mc ko kp kq md ks kt ku me kw kx ky mf la lb lc im bi translated">当我们不需要从头开始时，我们能够更加关注项目的业务需求。</p><h2 id="2ecb" class="mg le it bd lf mh mi dn lj mj mk dp ln kq ml mm lr ku mn mo lv ky mp mq lz mr bi translated">高质量的</h2><p id="2f46" class="pw-post-body-paragraph kf kg it kh b ki mb kk kl km mc ko kp kq md ks kt ku me kw kx ky mf la lb lc im bi translated">一个成熟的开源项目，很可能已经在无数的应用中使用过，经历过无数的优化和迭代周期。使用这些是享受那些伟大思想的成果。</p><h2 id="09da" class="mg le it bd lf mh mi dn lj mj mk dp ln kq ml mm lr ku mn mo lv ky mp mq lz mr bi translated">免费</h2><p id="1d6c" class="pw-post-body-paragraph kf kg it kh b ki mb kk kl km mc ko kp kq md ks kt ku me kw kx ky mf la lb lc im bi translated">根据软件许可证，我们有权免费复制、更改和使用代码。</p><h1 id="6221" class="ld le it bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">管理开源组件的最佳方式</h1><p id="486f" class="pw-post-body-paragraph kf kg it kh b ki mb kk kl km mc ko kp kq md ks kt ku me kw kx ky mf la lb lc im bi translated">管理开源组件有3种最好的方法。</p><h2 id="c8e7" class="mg le it bd lf mh mi dn lj mj mk dp ln kq ml mm lr ku mn mo lv ky mp mq lz mr bi translated">自动化工具</h2><p id="bd4f" class="pw-post-body-paragraph kf kg it kh b ki mb kk kl km mc ko kp kq md ks kt ku me kw kx ky mf la lb lc im bi translated">帮助<a class="ae ms" href="https://www.mend.io/open-source-inventory/" rel="noopener ugc nofollow" target="_blank">开源库存管理</a>的工具可以大大减轻你的负担。</p><p id="5c9d" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">首先，这些工具扫描依赖项，以找到安全漏洞、要升级的版本、合规性问题等。然后，他们从其他安全机构获取并更新漏洞和潜在风险，并在之后通知用户。最后，它们与其他流行的CI/CD工具协同工作，降低了安全风险，提高了开发人员的工作效率。</p><h2 id="d426" class="mg le it bd lf mh mi dn lj mj mk dp ln kq ml mm lr ku mn mo lv ky mp mq lz mr bi translated">安全团队</h2><p id="cf1b" class="pw-post-body-paragraph kf kg it kh b ki mb kk kl km mc ko kp kq md ks kt ku me kw kx ky mf la lb lc im bi translated">如果您正在处理来自Java、Go和Cloud的多个场景的许多项目和许多依赖项，那么建立自己的安全团队是必要的。</p><p id="55a7" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">团队可以谨慎地选择开源依赖项，根据应用程序、用户和维护来确定项目是否可靠。它可以建议公司内其他项目的开源依赖关系。它可以识别恶意项目，剔除低质量的开源项目。</p><p id="d74f" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">该团队还可以采用开源安全漏洞扫描工具来自动化跟踪哪些依赖库需要升级的过程。</p><h2 id="d550" class="mg le it bd lf mh mi dn lj mj mk dp ln kq ml mm lr ku mn mo lv ky mp mq lz mr bi translated">分支</h2><p id="b580" class="pw-post-body-paragraph kf kg it kh b ki mb kk kl km mc ko kp kq md ks kt ku me kw kx ky mf la lb lc im bi translated">免费更新为我们提供了更广阔的视野。我们可以克隆开源项目，并应用更改来避免我们自己的安全风险。</p><p id="b256" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">最大的挑战在于分叉后与来自上游的更新合并。我们使用一些开源报告工具来实现一些简单的更新，并从上游发布关于更新的提醒。让我们看看Intellij和Maven的例子。</p><p id="a66e" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">Intellij一直在推进它的OSS管理，它默认支持的maven依赖管理可以可视化依赖包。例如，我们可以很容易地在分叉的<a class="ae ms" href="https://github.com/PatrickChenSe/json-flattener" rel="noopener ugc nofollow" target="_blank"> json-flattener </a>中查看依赖的开源库。</p><figure class="mu mv mw mx gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mt"><img src="../Images/437b483e26e24a6c8e1fa21c1323f4a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OJWlgZD2GRP2t6zr"/></div></div></figure><p id="3d99" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">然后，通过社区中的插件，比如<a class="ae ms" href="https://plugins.jetbrains.com/plugin/697-maven-dependency-manager" rel="noopener ugc nofollow" target="_blank"> Maven依赖插件</a>，我们可以监控库的更新。</p><p id="94d1" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">安装此插件。</p><figure class="mu mv mw mx gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi my"><img src="../Images/92b0f056b5cfb9b619e03134bb6db986.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mHhSHfesx2mgtmQ7"/></div></div></figure><p id="4034" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">IDE提醒我们过时的依赖版本。</p><figure class="mu mv mw mx gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mz"><img src="../Images/f8b6e045cfe2b5b934313db33113dca7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fladAW-GJ_AgavS4"/></div></div></figure><p id="6d4c" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">在Java项目中，Maven可以将OSS管理集成到CI/CD中。如果在maven验证过程中发现了未声明的依赖项，则构建失败，以确保我们的依赖项更新管理能够跟上。</p><p id="fe2c" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">将以下插件添加到<code class="fe na nb nc nd b">pom.xml</code>，并重新运行<code class="fe na nb nc nd b">mvn verify</code>。</p><figure class="mu mv mw mx gt ju"><div class="bz fp l di"><div class="ne nf l"/></div></figure><figure class="mu mv mw mx gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ng"><img src="../Images/38320b0eecd5c141ec654a156f3651b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GlFz2URAI8hT2vyE"/></div></div></figure><p id="04b2" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">社区提供了<a class="ae ms" href="https://jeremylong.github.io/DependencyCheck/dependency-check-maven/check-mojo.html#versionCheckEnabled" rel="noopener ugc nofollow" target="_blank">依赖检查</a>，一个比apache maven依赖分析器更强大的工具，支持许多配置。我们可以用一个xml文件定制验证策略，这个文件叫做抑制文件。</p><p id="78f2" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">配置这个插件，然后是xml。所有依赖于低于特定版本的库的项目都将无法编译。</p><figure class="mu mv mw mx gt ju"><div class="bz fp l di"><div class="ne nf l"/></div></figure><pre class="mu mv mw mx gt nh nd ni nj aw nk bi"><span id="7642" class="mg le it nd b gy nl nm l nn no">&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br/>&lt;suppressions &gt;<br/>  &lt;suppress&gt;<br/>     &lt;notes&gt;&lt;![CDATA[<br/>     file name: some.jar<br/>     ]]&gt;&lt;/notes&gt;<br/>     &lt;sha1&gt;66734244CE86857018B023A8C56AE0635C56B6A1&lt;/sha1&gt;<br/>     &lt;cpe&gt;cpe:/a:apache:struts:2.0.0&lt;/cpe&gt;<br/>  &lt;/suppress&gt;<br/>&lt;/suppressions&gt;</span></pre><p id="dde4" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">进一步用更多的功能定制您自己的分析器，比如如果有过时的依赖项，就失败构建。我的灵感来自Apahce的<a class="ae ms" href="https://github.com/apache/maven-dependency-analyzer" rel="noopener ugc nofollow" target="_blank"> maven依赖分析器</a>，它的API可以用来快速解析<code class="fe na nb nc nd b">pom.xml</code>以获得依赖列表。</p><h1 id="6372" class="ld le it bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">结论</h1><p id="bc46" class="pw-post-body-paragraph kf kg it kh b ki mb kk kl km mc ko kp kq md ks kt ku me kw kx ky mf la lb lc im bi translated">开源文化是现代软件开发花园中最美丽的花朵之一，值得我们精心呵护。随着开源组件的蓬勃发展，如果我们知道如何合理地管理它们，我们可以事半功倍。</p><p id="e808" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">在一些工具链的帮助下，我们可以不费吹灰之力地管理开源依赖。从而避免了许多风险。至于用哪个？这取决于你的项目和开发模式。</p><p id="fc47" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">但无论如何，我们最好不要放弃管理，让风险控制我们。一个全面的OSS管理系统需要整个公司的共同努力。这不仅仅是开发人员或安全人员的工作。让互联网变得更美好是所有成员的共同责任。</p></div></div>    
</body>
</html>