<html>
<head>
<title>Raspberry Pi read-only kiosk mode: 2022 complete tutorial</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Raspberry Pi只读信息亭模式:2022完整教程</h1>
<blockquote>原文：<a href="https://itnext.io/raspberry-pi-read-only-kiosk-mode-2022-complete-tutorial-df7fc051fdaf?source=collection_archive---------0-----------------------#2022-02-10">https://itnext.io/raspberry-pi-read-only-kiosk-mode-2022-complete-tutorial-df7fc051fdaf?source=collection_archive---------0-----------------------#2022-02-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9b20" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">包括网络设置软件和远程控制</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ae2c6a8e1bff5c0b864e452ff2dadf05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2rdU2HGrrObbnwwAdzndGQ.png"/></div></div></figure><p id="6ffc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是前一篇文章的更新。</p><div class="lq lr gp gr ls lt"><a rel="noopener  ugc nofollow" target="_blank" href="/raspberry-pi-read-only-kiosk-mode-the-complete-tutorial-for-2021-58a860474215"><div class="lu ab fo"><div class="lv ab lw cl cj lx"><h2 class="bd iu gy z fp ly fr fs lz fu fw is bi translated">Raspberry Pi只读信息亭模式:2021完整教程</h2><div class="ma l"><h3 class="bd b gy z fp ly fr fs lz fu fw dk translated">包括网络设置软件和远程控制</h3></div><div class="mb l"><p class="bd b dl z fp ly fr fs lz fu fw dk translated">itnext.io</p></div></div><div class="mc l"><div class="md l me mf mg mc mh ks lt"/></div></div></a></div><p id="8e14" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">本次更新的基础是RaspberryPiOS 64位，2022年1月28日起的版本，牛眼11，内核5.10。</p><p id="2a3d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">RaspberryPi上运行的服务用新特性进行了更新。</p><p id="7ef4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在该过程中使用了树莓Pi 4b。</p><p id="6a0b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">后端web服务是用Go编写的(前端是普通的html+css+js ),使用本教程:</p><div class="lq lr gp gr ls lt"><a href="https://medium.com/swlh/create-go-service-the-easy-way-de827d7f07cf" rel="noopener follow" target="_blank"><div class="lu ab fo"><div class="lv ab lw cl cj lx"><h2 class="bd iu gy z fp ly fr fs lz fu fw is bi translated">以简单的方式创建Go服务</h2><div class="ma l"><h3 class="bd b gy z fp ly fr fs lz fu fw dk translated">适用于Windows、Linux、MacOS和Docker</h3></div><div class="mb l"><p class="bd b dl z fp ly fr fs lz fu fw dk translated">medium.com</p></div></div><div class="mc l"><div class="mi l me mf mg mc mh ks lt"/></div></div></a></div><p id="07a3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">源代码可以在这里找到:</p><div class="lq lr gp gr ls lt"><a href="https://github.com/petrjahoda/terminal_local_webservice" rel="noopener  ugc nofollow" target="_blank"><div class="lu ab fo"><div class="lv ab lw cl cj lx"><h2 class="bd iu gy z fp ly fr fs lz fu fw is bi translated">GitHub-petrjahoda/terminal _ local _ web service</h2><div class="ma l"><h3 class="bd b gy z fp ly fr fs lz fu fw dk translated">通过在GitHub上创建一个帐户，为petrjahoda/terminal _ local _ web service开发做出贡献。</h3></div><div class="mb l"><p class="bd b dl z fp ly fr fs lz fu fw dk translated">github.com</p></div></div><div class="mc l"><div class="mj l me mf mg mc mh ks lt"/></div></div></a></div></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="81e3" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">1.准备树莓酱</h1><ul class=""><li id="0e0b" class="nj nk it kw b kx nl la nm ld nn lh no ll np lp nq nr ns nt bi translated">使用来自<a class="ae nu" href="https://www.raspberrypi.org/software/" rel="noopener ugc nofollow" target="_blank">官方网站</a>的raspbian lite 64位成像仪进行安装</li><li id="87e6" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo apt-get update &amp;&amp; sudo apt-get upgrade</code>进行更新和升级</li><li id="de8b" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo raspi-config</code>:启用控制台自动登录、启用ssh、启用过扫描(或禁用欠扫描)</li><li id="dd75" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo apt-get install maim</code>安装maim</li><li id="5695" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo apt-get install network-manager</code>安装网络管理器</li><li id="02f3" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo systemctl enable NetworkManager</code>启用网络管理器作为服务</li><li id="eceb" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo systemctl start NetworkManager</code>将网络管理器作为服务启动</li><li id="fcf7" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo systemctl mask dhcpcd</code>禁用旧的dhcp服务</li><li id="23ed" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo apt-get install ufw</code>安装ufw</li><li id="df5e" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo ufw allow 9999</code>启用端口9999</li><li id="c4c3" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo reboot now</code>重启</li></ul><p id="c14d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在测试一下一切是否正常，然后嘘嘘。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="913e" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">2.在kiosk模式下安装Chromium</h1><ul class=""><li id="5464" class="nj nk it kw b kx nl la nm ld nn lh no ll np lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo apt-get install --no-install-recommends xserver-xorg x11-xserver-utils xinit openbox</code>安装先决条件</li><li id="d756" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo apt-get install --no-install-recommends chromium-browser</code>安装铬合金</li><li id="b130" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo nano /etc/xdg/openbox/autostart</code>编辑自动启动文件，插入以下行:</li></ul><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="8bd3" class="oi ms it od b gy oj ok l ol om"># Disable any form of screen saver / screen blanking / power management<br/>xset s off<br/>xset s noblank<br/>xset -dpms</span><span id="5828" class="oi ms it od b gy on ok l ol om"># Allow quitting the X server with CTRL-ATL-Backspace<br/>setxkbmap -option terminate:ctrl_alt_bksp</span><span id="da50" class="oi ms it od b gy on ok l ol om"># Start Chromium in kiosk mode<br/>sed -i 's/"exited_cleanly":false/"exited_cleanly":true/' ~/.config/chromium/'Local State'<br/>sed -i 's/"exited_cleanly":false/"exited_cleanly":true/; s/"exit_type":"[^"]\+"/"exit_type":"Normal"/' ~/.config/chromium/Default/Preferences<br/>chromium-browser --start-fullscreen --kiosk --incognito --noerrdialogs --disable-translate --no-first-run --fast --fast-start --disable-infobars --disable-features=TranslateUI --disk-cache-dir=/dev/null  --password-store=basic --disable-pinch --overscroll-history-navigation=disabled --disable-features=TouchpadOverscrollHistoryNavigation 'http://localhost:9999'</span></pre><p id="10f1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> <em class="oo">附加信息:</em></strong><em class="oo">chromium-browser有一个附加标志:</em> <code class="fe oa ob oc od b"><em class="oo">temporary-unexpire-flags-m80</em></code> <em class="oo">。这个标志从2021年6月20日起从chromium中删除，所以上面的命令被更新。感谢Paul den Hertog提供的信息。有一种可能性是，当你将来阅读这篇文章时，有些标志是不必要的。</em></p><ul class=""><li id="6f42" class="nj nk it kw b kx ky la lb ld op lh oq ll or lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo nano .bash_profile</code>使一切在引导时启动，插入以下行:</li></ul><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="2565" class="oi ms it od b gy oj ok l ol om">[[ -z $DISPLAY &amp;&amp; $XDG_VTNR -eq 1 ]] &amp;&amp; startx -- -nocursor</span></pre><blockquote class="os ot ou"><p id="41b2" class="ku kv oo kw b kx ky ju kz la lb jx lc ov le lf lg ow li lj lk ox lm ln lo lp im bi translated"><em class="it">提示:按下</em> <code class="fe oa ob oc od b"><em class="it">Ctrl-Alt-Backspace</em></code> <em class="it">可以杀死chromium并进入命令行</em></p></blockquote></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="d64a" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">3.将程序数据复制到Raspberry</h1><ul class=""><li id="408d" class="nj nk it kw b kx nl la nm ld nn lh no ll np lp nq nr ns nt bi translated">将/linux/terminal_local_linux复制到/home/pi中</li><li id="0411" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated">将/config/*复制到/home/pi/*中</li><li id="c809" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated">将/html/*复制到/home/pi/*中</li><li id="843f" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated">将/css/*复制到/home/pi/*中</li><li id="5995" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated">将/js/*复制到/home/pi/*中</li><li id="1649" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated">将/font/*复制到/home/font/*中</li></ul><blockquote class="os ot ou"><p id="c46c" class="ku kv oo kw b kx ky ju kz la lb jx lc ov le lf lg ow li lj lk ox lm ln lo lp im bi translated"><em class="it">示例:使用scp复制rpi程序文件:</em> <code class="fe oa ob oc od b"><em class="it">scp linux/terminal_local_linux pi@&lt;ipaddress&gt;:/home/pi</em></code></p><p id="f0ec" class="ku kv oo kw b kx ky ju kz la lb jx lc ov le lf lg ow li lj lk ox lm ln lo lp im bi translated"><em class="it">示例:使用scp复制所有目录:</em> <code class="fe oa ob oc od b"><em class="it">scp -r config html css js font pi@&lt;ipaddress&gt;:/home/pi</em></code></p></blockquote></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="baa7" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">4.使程序作为服务运行</h1><ul class=""><li id="a6a4" class="nj nk it kw b kx nl la nm ld nn lh no ll np lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo nano /lib/systemd/system/terminal.service</code>创建新文件，插入以下行:</li></ul><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="3824" class="oi ms it od b gy oj ok l ol om">[Unit]<br/>Description=Terminal Service<br/>ConditionPathExists=/home/pi/terminal_local_linux<br/>After=network.target<br/>[Service]<br/>Type=simple<br/>User=root<br/>Group=root<br/>LimitNOFILE=1024<br/>Restart=on-failure<br/>RestartSec=10<br/>WorkingDirectory=/home/pi<br/>ExecStart=/home/pi/terminal_local_linux<br/>PermissionsStartOnly=true<br/>SyslogIdentifier=terminal_service<br/>[Install]<br/>WantedBy=multi-user.target</span></pre><ul class=""><li id="8185" class="nj nk it kw b kx ky la lb ld op lh oq ll or lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo chmod 755 /lib/systemd/system/terminal.service</code>确保文件是可执行的</li><li id="a98d" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo systemctl enable terminal.service</code>使服务自动启动</li><li id="7bf7" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo systemctl start terminal.service</code>立即启动服务</li></ul><blockquote class="os ot ou"><p id="0048" class="ku kv oo kw b kx ky ju kz la lb jx lc ov le lf lg ow li lj lk ox lm ln lo lp im bi translated"><em class="it">提示:使用</em> <code class="fe oa ob oc od b"><em class="it">journalctl -f -u terminal.service</em></code>搜索日志</p></blockquote></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="d739" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">5.干净的启动屏幕和信息</h1><ul class=""><li id="cac3" class="nj nk it kw b kx nl la nm ld nn lh no ll np lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo nano /boot/config.txt</code>禁用启动彩虹:添加行<code class="fe oa ob oc od b">disable_splash=1</code></li><li id="24ce" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo nano /boot/cmdline.txt</code>禁用引导信息:在第一行的末尾添加<code class="fe oa ob oc od b">silent quiet splash loglevel=0 logo.nologo vt.global_cursor_default=0</code>，用<code class="fe oa ob oc od b">console=tty3</code>替换<code class="fe oa ob oc od b">console=tty1</code></li><li id="ae26" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated">禁用引导自动登录终端信息:运行<code class="fe oa ob oc od b">touch ~/.hushlogin</code>，运行<code class="fe oa ob oc od b">sudo nano /etc/systemd/system/getty@tty1.service.d/autologin.conf</code>，将线路<code class="fe oa ob oc od b">ExecStart=-/sbin/agetty --autologin pi --noclear %I xterm-256color</code>替换为<code class="fe oa ob oc od b">ExecStart=-/sbin/agetty --skip-login --noclear --noissue --login-options "-f pi" %I $TERM</code></li></ul></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="9c92" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">6.将Raspberry Pi设为只读</h1><ul class=""><li id="4a93" class="nj nk it kw b kx nl la nm ld nn lh no ll np lp nq nr ns nt bi translated">移除交换</li></ul><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="66d9" class="oi ms it od b gy oj ok l ol om">sudo dphys-swapfile swapoff<br/>sudo dphys-swapfile uninstall<br/>sudo update-rc.d dphys-swapfile remove</span></pre><ul class=""><li id="470d" class="nj nk it kw b kx ky la lb ld op lh oq ll or lp nq nr ns nt bi translated">更新和升级一切</li></ul><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="71d3" class="oi ms it od b gy oj ok l ol om">sudo apt-get update<br/>sudo apt-get dist-upgrade<br/>sudo apt-get upgrade<br/>sudo BRANCH=next rpi-update</span></pre><ul class=""><li id="5296" class="nj nk it kw b kx ky la lb ld op lh oq ll or lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo reboot now</code>重启</li><li id="8c53" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo mkinitramfs -o /boot/initrd</code>创建initramfs</li><li id="2ebe" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo curl https://gist.githubusercontent.com/paul-ridgway/d39cbb30530442dca416734c3ee70162/raw/c490df8be1976dd062a8b5f429ef42ed1b393ecb/ro-root.sh -o /bin/ro-root.sh</code>添加脚本</li><li id="986b" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo chmod +x /bin/ro-root.sh</code>使脚本可执行</li><li id="21a5" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo nano /boot/config.txt</code>将这些行添加到配置文件的末尾</li></ul><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="1023" class="oi ms it od b gy oj ok l ol om">initramfs initrd followkernel<br/>ramfsfile=initrd<br/>ramfsaddr=-1</span></pre><ul class=""><li id="0af9" class="nj nk it kw b kx ky la lb ld op lh oq ll or lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo nano /boot/cmdline.txt</code>将此文本添加到cmdline文件的末尾</li></ul><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="4345" class="oi ms it od b gy oj ok l ol om">init=/bin/ro-root.sh</span></pre><ul class=""><li id="9393" class="nj nk it kw b kx ky la lb ld op lh oq ll or lp nq nr ns nt bi translated">使用<code class="fe oa ob oc od b">sudo reboot now</code>重启</li></ul><blockquote class="os ot ou"><p id="db3e" class="ku kv oo kw b kx ky ju kz la lb jx lc ov le lf lg ow li lj lk ox lm ln lo lp im bi translated"><em class="it">提示:根分区挂载为</em> <code class="fe oa ob oc od b"><em class="it">/ro</em></code> <em class="it">，您可以使用</em> <code class="fe oa ob oc od b"><em class="it">sudo mount -o remount,rw /ro</em></code> <em class="it">使其可写，例如，使用</em> <code class="fe oa ob oc od b"><em class="it">touch /ro/home/pi/test.txt</em></code> <em class="it">创建一个永久文件，并使用</em> <code class="fe oa ob oc od b"><em class="it">sudo mount -o remount,ro /ro</em></code> <em class="it">使其全部恢复为只读，该文件将在引导后保持不变。这是你可以做一些改变的方法，这些改变在重启后仍然存在。</em></p></blockquote></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="175e" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">7.密码</h1><ul class=""><li id="8443" class="nj nk it kw b kx nl la nm ld nn lh no ll np lp nq nr ns nt bi translated">设置密码为<code class="fe oa ob oc od b">3600</code></li></ul></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="b5f4" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">8.远程管理</h1><ul class=""><li id="3ff8" class="nj nk it kw b kx nl la nm ld nn lh no ll np lp nq nr ns nt bi translated"><code class="fe oa ob oc od b">http://&lt;ipaddress&gt;:9999/screenshot</code>的实际截图</li><li id="2985" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated"><code class="fe oa ob oc od b">http://&lt;ipaddress&gt;:9999/setup-remote</code>处的远程设置</li><li id="c9b9" class="nj nk it kw b kx nv la nw ld nx lh ny ll nz lp nq nr ns nt bi translated">使用javascript远程重启(比如绑定某个按钮):</li></ul><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="9883" class="oi ms it od b gy oj ok l ol om">let data = {<br/>  password: "3600"<br/>};<br/>fetch("/restart", {<br/>  method: "POST",<br/>  body: JSON.stringify(data)<br/>}).then((result) =&gt; {<br/>  console.log(result)<br/>}).catch((error) =&gt; {<!-- --> <br/>  <!-- -->console.log(error)<br/>});</span></pre><ul class=""><li id="28fe" class="nj nk it kw b kx ky la lb ld op lh oq ll or lp nq nr ns nt bi translated">使用javascript远程关机(比如绑定某个按钮):</li></ul><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="8b42" class="oi ms it od b gy oj ok l ol om">let data = {<br/>  password: "3600"<br/>};<br/>fetch("/shutdown", {<br/>  method: "POST",<br/>  body: JSON.stringify(data)<br/>}).then((result) =&gt; {<br/>  console.log(result)<br/>}).catch((error) =&gt; {<br/>  console.log(error)<br/>});</span></pre><ul class=""><li id="2b8a" class="nj nk it kw b kx ky la lb ld op lh oq ll or lp nq nr ns nt bi translated">使用javascript设置dhcp(比如绑定某个按钮):</li></ul><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="02fc" class="oi ms it od b gy oj ok l ol om">let data = {<br/>  password: "3600",<br/>  server: server.value,         // server web, example: 192.168.86.100:80/terminal/1<br/>};<br/>fetch("/dhcp", {<br/>  method: "POST",<br/>  body: JSON.stringify(data)<br/>}).then((result) =&gt; {<br/>  console.log(result)<br/>}).catch((error) =&gt; {<br/>  console.log(error)<br/>});</span></pre><ul class=""><li id="2e32" class="nj nk it kw b kx ky la lb ld op lh oq ll or lp nq nr ns nt bi translated">使用javascript设置static(比如绑定到某个按钮上):</li></ul><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="4955" class="oi ms it od b gy oj ok l ol om">let data = {<br/>  password: "3600",     <br/>  ipaddress: ipaddress.value,   // ip address, example: 192.168.86.128<br/>  mask: mask.value,             // mask, example: 255.255.255.0<br/>  gateway: gateway.value,       // gateway, example: 192.168.86.1<br/>  server: server.value,         // server web, example: 192.168.86.100:80/terminal/1<br/>};<br/>fetch("/static", {<br/>  method: "POST",<br/>  body: JSON.stringify(data)<br/>}).then((result) =&gt; {<br/>  console.log(result)<br/>}).catch((error) =&gt; {<br/>  console.log(error)<br/>});</span></pre><ul class=""><li id="3adb" class="nj nk it kw b kx ky la lb ld op lh oq ll or lp nq nr ns nt bi translated">检查电缆是否已连接(如捆绑在某个按钮上):</li></ul><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="e1c0" class="oi ms it od b gy oj ok l ol om">fetch("/checkCable", {<br/>  method: "POST",<br/>}).then((result) =&gt; {<br/>  result.text().then(function (data) {<br/>    let connected = JSON.parse(data);<br/>    console.log(connected["Result"])<br/>    });<br/>}).catch((error) =&gt; {<br/>  console.log(error)<br/>});</span></pre></div></div>    
</body>
</html>