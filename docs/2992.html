<html>
<head>
<title>Test Driven Development in an Angular World — Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">角度世界中的测试驱动开发—第二部分</h1>
<blockquote>原文：<a href="https://itnext.io/test-driven-development-in-an-angular-world-d6475d6f4bfa?source=collection_archive---------2-----------------------#2019-09-12">https://itnext.io/test-driven-development-in-an-angular-world-d6475d6f4bfa?source=collection_archive---------2-----------------------#2019-09-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="56e1" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">测试Http服务</h2></div></div><div class="ab cl kf kg hu kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="ij ik il im in"><p id="64a9" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在进一步阅读之前，我建议先阅读第1部分，了解一些背景知识。</p><p id="23f9" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><a class="ae li" href="https://catalincodes.com/posts/test-driven-development-in-an-angular-world-part-3" rel="noopener ugc nofollow" target="_blank">当你完成后想知道如何测试一个智能组件时，也许第3部分会有所帮助。</a></p><h1 id="7763" class="lj lk iq bd ll lm ln lo lp lq lr ls lt jw lu jx lv jz lw ka lx kc ly kd lz ma bi translated">#为什么是Http服务？</h1><p id="8eaa" class="pw-post-body-paragraph km kn iq ko b kp mb jr kr ks mc ju ku kv md kx ky kz me lb lc ld mf lf lg lh ij bi translated">上次我们谈到了角分量，以及如何测试它。现在，这是一个“愚蠢”的组成部分，但嘿，我们必须从某处开始。我保证在不久的将来，我会向你展示如何测试一个“智能”组件。</p><p id="338a" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">那么，回到我们的<strong class="ko ir">为什么</strong>的问题。我认为除了组件，服务在我们的角度应用中占了很大一部分。然后，在所有服务中，我注意到人们在测试那些进行HTTP调用的服务时遇到了问题。所以，事不宜迟，以下是我的看法。</p><p id="1ae2" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><em class="mg">不要担心，这仍将以测试驱动的开发方式来完成。</em></p><h1 id="bcff" class="lj lk iq bd ll lm ln lo lp lq lr ls lt jw lu jx lv jz lw ka lx kc ly kd lz ma bi translated">#我们离开的地方</h1><p id="ed53" class="pw-post-body-paragraph km kn iq ko b kp mb jr kr ks mc ju ku kv md kx ky kz me lb lc ld mf lf lg lh ij bi translated">如果你还记得上一次，我们依赖于一个<strong class="ko ir"> FavoriteMoviesService </strong>的存在。因为这超出了当时的目的，它只是实际功能的一个外壳。这是它最后的样子:</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="mm mn l"/></div></figure><h1 id="bb1c" class="lj lk iq bd ll lm ln lo lp lq lr ls lt jw lu jx lv jz lw ka lx kc ly kd lz ma bi translated"><strong class="ak">#创建服务规范文件</strong></h1><p id="89d8" class="pw-post-body-paragraph km kn iq ko b kp mb jr kr ks mc ju ku kv md kx ky kz me lb lc ld mf lf lg lh ij bi translated">所以，首先要做的是:我们需要一个<strong class="ko ir"> spec </strong>文件用于我们的服务。这是我们编写测试的地方。那么，让我们来创建它:</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="a7e0" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">这是什么？这是在Angular中测试任何服务的样板。它包含初始化和检查服务是否已创建的测试。</p><p id="fb65" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">然后，我们为测试下的<strong class="ko ir">服务添加一个变量，并在每个</strong>之前在<strong class="ko ir">中初始化它，这样我们就不必在每个测试中都这样做。</strong></p><p id="a7d9" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">此外，我们添加了一个电影列表，我们将使用这些电影作为测试的模拟数据。稍后会详细介绍。</p><p id="479b" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">大概就是这样。</p><p id="ef2d" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">那么，我们现在运行我们的测试，它做什么？</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mo"><img src="../Images/10ae73ebbc30e3e056c06b941914c0b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*anLKDQMJ_eyAF5ILR4MtAA.png"/></div></div></figure><p id="ae6e" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">太好了！它过去了。</p><h1 id="7799" class="lj lk iq bd ll lm ln lo lp lq lr ls lt jw lu jx lv jz lw ka lx kc ly kd lz ma bi translated">#如何开始？</h1><p id="9b59" class="pw-post-body-paragraph km kn iq ko b kp mb jr kr ks mc ju ku kv md kx ky kz me lb lc ld mf lf lg lh ij bi translated">既然已经解决了，我们该怎么办？嗯，我们希望确保我们的服务返回我们期望的结果。我们如何实现这一目标？我们将为它编写一个测试:</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="16fd" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">因此，这里我们有一个新的测试，订阅我们的方法，并检查它返回的是我们期望的电影的实际列表。</p><p id="94e5" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">让我们运行它:</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mv"><img src="../Images/8c86ccd62f711bc3273e35e467cc8ec2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*trxB2MctogvI1AU3Abwckg.png"/></div></div></figure><p id="dd9c" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">你看看这个。失败了！</p><p id="2423" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">现在，按照<strong class="ko ir">红绿</strong>的方法，让我们修复它。我们如何解决它？做最少量的必要工作。记住，我们很懒。</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="ab45" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">所以，我们只返回我们知道它是预期的列表，包装在一个可观察的。你可能会认为这是一个黑客，它有点，但它很好。别担心。这是一项正在进行的工作。</p><p id="858d" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">现在，当我们运行测试时:</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mw"><img src="../Images/1507e29f7ad039dda3fc2eeffe524722.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vtPc1ilVaYwezaDZa0oMLg.png"/></div></div></figure><p id="9649" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">检查！</p><h1 id="8a73" class="lj lk iq bd ll lm ln lo lp lq lr ls lt jw lu jx lv jz lw ka lx kc ly kd lz ma bi translated">HTTP部分呢？</h1><p id="ab7c" class="pw-post-body-paragraph km kn iq ko b kp mb jr kr ks mc ju ku kv md kx ky kz me lb lc ld mf lf lg lh ij bi translated">我们为什么在这里？是的，测试HTTP服务。所以，到目前为止，还没有HTTP。让我们改变这一点。</p><p id="bc18" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">第一步是确保我们的环境有一个变量，该变量带有我们期望被调用的URL。这只是很好的练习。</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="a9cf" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">这使得我们的服务是可配置的，因此我们可以为开发、测试和生产提供不同的URL。</p><p id="53cb" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">现在，回到我们的测试。我们希望确保我们的服务对我们的端点进行HTTP调用，并返回该调用返回的任何内容。这将需要测试中的一些变化:</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="6d86" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">首先，我们导入<strong class="ko ir"> HttpClientTestingModule </strong>。这将帮助我们测试/模拟/拦截/分析HTTP流量。然后，我们为http helper创建一个新变量，因为我们将在更多的测试中需要它，这比在每个测试中都这样做要干净得多。</p><p id="86af" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">现在，进行实际测试。首先，我们更改了名称，以反映我们期望数据来自后端。之后，会发生一些事情:</p><ul class=""><li id="8d8c" class="mx my iq ko b kp kq ks kt kv mz kz na ld nb lh nc nd ne nf bi translated">我们使用新的http变量来检查是否有且只有一个调用是针对我们的端点的。这将返回我们的服务发出的请求(如果有)。</li><li id="4d77" class="mx my iq ko b kp ng ks nh kv ni kz nj ld nk lh nc nd ne nf bi translated">我们检查这个请求的HTTP方法以确保它是一个GET</li><li id="7eb0" class="mx my iq ko b kp ng ks nh kv ni kz nj ld nk lh nc nd ne nf bi translated">我们使用这个请求对象来刷新数据。这是我们嘲笑来自后端的响应的方式</li><li id="c2bb" class="mx my iq ko b kp ng ks nh kv ni kz nj ld nk lh nc nd ne nf bi translated">最后但同样重要的是，我们调用<strong class="ko ir"> verify() </strong>方法来确保没有挂起的HTTP调用。这是为了确保我们不会做比预期更多的请求，或者我们没有任何未处理的请求。</li></ul><p id="cb14" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">现在，让我们运行它！</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nl"><img src="../Images/a8fd579ca2d4ec274ec5863e3346d2b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HKvoZrl_FtRrvO6aHYPKdw.png"/></div></div></figure><p id="455f" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">当然失败了。<strong class="ko ir">红绿</strong>，记得吗？所以，它说它期望对我们的URL有一个请求，但是没有找到。让我们解决这个问题。</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="8ce0" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">因此，为了让我们的测试通过，我们在服务中注入了<strong class="ko ir"> HttpClient </strong>，并使用它来调用我们的<strong class="ko ir"> favoriteUrl </strong>端点。我们返回那个的响应。让我们试着再做一次测试。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nm"><img src="../Images/d9378e305c5b26c8fc99af3b8c4c9607.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3T5zvsBKsEgaNbP3sVeKow.png"/></div></div></figure><p id="1eb3" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">检查！</p><h1 id="cab9" class="lj lk iq bd ll lm ln lo lp lq lr ls lt jw lu jx lv jz lw ka lx kc ly kd lz ma bi translated">#我们还应该测试什么？</h1><p id="c657" class="pw-post-body-paragraph km kn iq ko b kp mb jr kr ks mc ju ku kv md kx ky kz me lb lc ld mf lf lg lh ij bi translated">我喜欢测试的另一件事是错误处理。我们希望确保我们的错误得到妥善处理，不会被掩盖。</p><p id="4c82" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">我听到的是什么？该进行另一项测试了！</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="20fb" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">因此，这里我们使用subscribe方法的第二个参数，即错误回调。该方法在出错时被调用。我们想检查一下，如果后端返回一个错误，这个错误不是被我们的服务吞掉，而是冒泡，因此消费者可以进行处理。</p><p id="a7cb" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">然后我们告诉我们的http返回一个<strong class="ko ir">500</strong>T12】错误。</p><p id="6dae" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">这是非常主观的。你也可以在你的服务中注入一个记录器，这里不是检查<strong class="ko ir"> bubblesUpTheError </strong>变量，而是检查记录器是否被要求记录一个错误(还记得<a class="ae li" href="https://medium.com/@utukku/test-driven-development-in-an-angular-world-92c0c42a54d0" rel="noopener">第一课</a>中的<strong class="ko ir">间谍</strong>？).你觉得怎样都行。为了简单起见，我采用了这种方法。我只是想向<strong class="ko ir">展示</strong>如何测试这个场景。</p><p id="6219" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">现在，让我们进行测试:</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nn"><img src="../Images/dde4a917b7dc7e7ab28340cb14149450.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NKDpAxShLaRFcQ3rE_Nu8w.png"/></div></div></figure><p id="4ec8" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">检查！</p><h1 id="d557" class="lj lk iq bd ll lm ln lo lp lq lr ls lt jw lu jx lv jz lw ka lx kc ly kd lz ma bi translated">#让我们想象一下。重试</h1><p id="3c7a" class="pw-post-body-paragraph km kn iq ko b kp mb jr kr ks mc ju ku kv md kx ky kz me lb lc ld mf lf lg lh ij bi translated">既然基本功能已经测试完毕，让我们来做些有趣的事情。</p><p id="2d39" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">我们有一个新的功能请求。由于我们的后端不可靠，让我们确保我们的服务在实际失败之前尝试获取数据3次。有趣吧？</p><p id="d1f7" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">现在，让我们更改之前的测试来检查该功能:</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="526c" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">这里我们又创建了3个请求检查。每个检查都有自己的错误信息，所以我们更容易知道什么失败了。因此，我们期望3个HTTP GET调用到达我们的端点，如果它们都失败，我们期望一个错误。</p><p id="f53d" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">让我们运行我们的测试:</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi no"><img src="../Images/446b00a53fbca464bfad2e6e13b5f78c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2h3h_iVnNJaa5ZAtZN97KA.png"/></div></div></figure><p id="c2e6" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">你看到了吗？我们的助手错误消息派上了用场。它失败了，但我们知道为什么。它没有提出第二项请求。现在，让我们通过这个测试:</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="1027" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">我们完成这一步的方法是使用重试操作符。我们告诉它:如果请求失败，在真正传递错误之前重试2次。</p><p id="99a9" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">现在运行我们的测试:</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi np"><img src="../Images/8f2e7530ae54d17ae32a54692a67cbae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KXIY7fwfGbyhET_V6PLl4g.png"/></div></div></figure><p id="7e0b" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">检查！</p><h1 id="5d0b" class="lj lk iq bd ll lm ln lo lp lq lr ls lt jw lu jx lv jz lw ka lx kc ly kd lz ma bi translated">#最后一次上路测试</h1><p id="ea87" class="pw-post-body-paragraph km kn iq ko b kp mb jr kr ks mc ju ku kv md kx ky kz me lb lc ld mf lf lg lh ij bi translated">现在，为了进行健全性检查，我们可能希望编写一个测试来检查后端两次失败但第三次成功时的情况。在这种情况下，我们希望确保数据被返回并且没有错误。测试会是什么样的呢？</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="937b" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">这看起来与我们之前的测试非常相似。不同之处在于我们拦截的最后一个请求。我们告诉它返回数据而不是失败。然后，我们检查数据是否确实被返回。很简单。</p><p id="9656" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">让我们运行它:</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nq"><img src="../Images/a59df609cbafc52690647217b03583a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IHPT7SjdRCsSb1o8q-V-NA.png"/></div></div></figure><p id="78ae" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">它还活着！！</p><h1 id="a9c6" class="lj lk iq bd ll lm ln lo lp lq lr ls lt jw lu jx lv jz lw ka lx kc ly kd lz ma bi translated">#给我看文件</h1><p id="4cc5" class="pw-post-body-paragraph km kn iq ko b kp mb jr kr ks mc ju ku kv md kx ky kz me lb lc ld mf lf lg lh ij bi translated">以下是便于参考的服务和规范文件:</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="mm mn l"/></div></figure><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="mm mn l"/></div></figure><h1 id="4f17" class="lj lk iq bd ll lm ln lo lp lq lr ls lt jw lu jx lv jz lw ka lx kc ly kd lz ma bi translated">#摘要</h1><p id="1091" class="pw-post-body-paragraph km kn iq ko b kp mb jr kr ks mc ju ku kv md kx ky kz me lb lc ld mf lf lg lh ij bi translated">我们学到了什么？</p><ul class=""><li id="94e7" class="mx my iq ko b kp kq ks kt kv mz kz na ld nb lh nc nd ne nf bi translated">测试HTTP服务很重要</li><li id="4394" class="mx my iq ko b kp ng ks nh kv ni kz nj ld nk lh nc nd ne nf bi translated">测试是否进行了实际的HTTP调用。测试HTTP方法并检查返回的数据</li><li id="04bc" class="mx my iq ko b kp ng ks nh kv ni kz nj ld nk lh nc nd ne nf bi translated">测试错误是否得到正确处理</li><li id="9b22" class="mx my iq ko b kp ng ks nh kv ni kz nj ld nk lh nc nd ne nf bi translated">测试您处理来自服务器的响应的任何额外逻辑</li></ul><p id="daeb" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">并且记住:<strong class="ko ir">红色= &gt;绿色= &gt;成功</strong></p><p id="d596" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">更多信息，关于智能组件的第3部分可能会有用。</p><h1 id="a3a4" class="lj lk iq bd ll lm ln lo lp lq lr ls lt jw lu jx lv jz lw ka lx kc ly kd lz ma bi translated">#延伸阅读？</h1><p id="7243" class="pw-post-body-paragraph km kn iq ko b kp mb jr kr ks mc ju ku kv md kx ky kz me lb lc ld mf lf lg lh ij bi translated">一些其他角通用提示🖥:</p><ol class=""><li id="8e12" class="mx my iq ko b kp kq ks kt kv mz kz na ld nb lh nr nd ne nf bi translated"><a class="ae li" href="https://catalincodes.com/posts/server-status-codes-with-angular" rel="noopener ugc nofollow" target="_blank"> Angular life:带Angular Universal的服务器状态代码</a></li><li id="cb0f" class="mx my iq ko b kp ng ks nh kv ni kz nj ld nk lh nr nd ne nf bi translated"><a class="ae li" href="https://catalincodes.com/posts/user-preferred-language-with-angular" rel="noopener ugc nofollow" target="_blank"> Angular life:带Angular Universal的用户首选语言</a></li></ol><p id="46f3" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">一些笔记📓我拍的:</p><ol class=""><li id="32e5" class="mx my iq ko b kp kq ks kt kv mz kz na ld nb lh nr nd ne nf bi translated"><a class="ae li" rel="noopener ugc nofollow" target="_blank" href="/notes-nativescript-angular-5ae7dbe18672?source=friends_link&amp;sk=30e20b23026b8cf15fbabaed268f4687">备注:NativeScript + Angular </a></li><li id="1875" class="mx my iq ko b kp ng ks nh kv ni kz nj ld nk lh nr nd ne nf bi translated"><a class="ae li" rel="noopener ugc nofollow" target="_blank" href="/notes-react-redux-e0c7a4d62e69">备注:React + Redux </a></li></ol><p id="ffd7" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">另外，如果你对🧪 <strong class="ko ir">测试驱动开发</strong>感兴趣:</p><ol class=""><li id="316b" class="mx my iq ko b kp kq ks kt kv mz kz na ld nb lh nr nd ne nf bi translated"><a class="ae li" href="https://catalincodes.com/posts/test-driven-development-in-an-angular-world-part-1" rel="noopener ugc nofollow" target="_blank">角度世界中的测试驱动开发:第1部分</a></li><li id="8a9a" class="mx my iq ko b kp ng ks nh kv ni kz nj ld nk lh nr nd ne nf bi translated"><a class="ae li" href="https://catalincodes.com/posts/test-driven-development-in-an-angular-world-part-2" rel="noopener ugc nofollow" target="_blank">角度世界中的测试驱动开发:第2部分</a></li><li id="40d1" class="mx my iq ko b kp ng ks nh kv ni kz nj ld nk lh nr nd ne nf bi translated"><a class="ae li" href="https://catalincodes.com/posts/test-driven-development-in-an-angular-world-part-3" rel="noopener ugc nofollow" target="_blank">角度世界中的测试驱动开发:第3部分</a></li></ol><div class="ns nt gp gr nu nv"><a href="https://twitter.com/c5n_c8u" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd ir gy z fp oa fr fs ob fu fw ip bi translated">JavaScript不可用。</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">编辑描述</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">twitter.com</p></div></div><div class="oe l"><div class="of l og oh oi oe oj mt nv"/></div></div></a></div><h1 id="3af6" class="lj lk iq bd ll lm ln lo lp lq lr ls lt jw lu jx lv jz lw ka lx kc ly kd lz ma bi translated">#结束通话</h1></div></div>    
</body>
</html>