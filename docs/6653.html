<html>
<head>
<title>Micro Frontends in OutSystems… In action — Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">外部系统中的微前端……运行中——第二部分</h1>
<blockquote>原文：<a href="https://itnext.io/micro-frontends-in-outsystems-in-action-part-2-10d3191ae277?source=collection_archive---------1-----------------------#2022-01-18">https://itnext.io/micro-frontends-in-outsystems-in-action-part-2-10d3191ae277?source=collection_archive---------1-----------------------#2022-01-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/9f974a96e8aff98af98a758a3751676c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OIcPPSK3ZrHVgvvYcxILsg.png"/></div></div></figure><div class=""/><p id="75f8" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我之前的文章引起了一些兴趣和一些问题。这太棒了！显然，我触及了一个最佳点，我决定创建一个实际的工作示例来演示一些概念。</p><p id="8084" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你错过了我之前的文章，看看这个:<a class="ae kw" href="https://medium.com/itnext/micro-frontends-in-outsystems-a6aafd0d0e65" rel="noopener">外部系统中的微前端</a>👈</p><h1 id="317e" class="kx ky jb bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">那么，在这个例子中我们有什么？</h1><ul class=""><li id="4034" class="lv lw jb ka b kb lx kf ly kj lz kn ma kr mb kv mc md me mf bi translated">在CDN上交付的web组件，用纯JavaScript创建</li><li id="20ac" class="lv lw jb ka b kb mg kf mh kj mi kn mj kr mk kv mc md me mf bi translated">一个外部系统反应式Web应用程序将包括这个组件</li></ul><h1 id="5663" class="kx ky jb bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">欢迎使用Web组件</h1><p id="15ad" class="pw-post-body-paragraph jy jz jb ka b kb lx kd ke kf ly kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">如果你是新手，看看这里:【https://developer.mozilla.org/en-US/docs/Web/Web_Components】T2</p><blockquote class="mo mp mq"><p id="95af" class="jy jz mr ka b kb kc kd ke kf kg kh ki ms kk kl km mt ko kp kq mu ks kt ku kv ij bi translated">Web Components是一套不同的技术，允许您创建可重用的自定义元素(将它们的功能封装在代码的其余部分之外)，并在您的Web应用程序中使用它们。</p></blockquote><p id="8353" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Web组件包含3种主要技术:</p><ul class=""><li id="0f38" class="lv lw jb ka b kb kc kf kg kj mv kn mw kr mx kv mc md me mf bi translated">自定义元素</li><li id="03de" class="lv lw jb ka b kb mg kf mh kj mi kn mj kr mk kv mc md me mf bi translated">阴影DOM</li><li id="9a28" class="lv lw jb ka b kb mg kf mh kj mi kn mj kr mk kv mc md me mf bi translated">HTML模板</li></ul><p id="ba92" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我的例子中，你可以看到所有这三个的用法，JavaScript代码以清晰明了的文本显示在这里:<br/><a class="ae kw" href="https://cdn.jsdelivr.net/gh/antoniomanuelcarvalho/web-component@1.0.0/web-component.js" rel="noopener ugc nofollow" target="_blank">https://cdn . jsdelivr . net/GH/antoniomanuelcarvalho/we B- component @ 1 . 0 . 0/we B- component . js</a></p><p id="1478" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这段代码将有一个自定义元素:<strong class="ka jc"> my-custom-modal </strong>。<br/>自定义元素将有一个属性:<strong class="ka jc">按钮标签</strong>。</p><p id="a7da" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">得到的输出会是这样的:<br/> &lt; <strong class="ka jc">我的-自定义-模态</strong> <strong class="ka jc">按钮-标签</strong> = "打开我的模态"&gt;<br/>……<br/>&lt;/<strong class="ka jc">我的-自定义-模态</strong> &gt;</p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h1 id="36e8" class="kx ky jb bd kz la nf lc ld le ng lg lh li nh lk ll lm ni lo lp lq nj ls lt lu bi translated">让我们去找酷的东西吧，🥰</h1><p id="d983" class="pw-post-body-paragraph jy jz jb ka b kb lx kd ke kf ly kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">为了查看这个自定义JavaScript的使用情况，我在个人环境中创建了一个全新的Reactive Web应用程序。</p><p id="d176" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你是一个外部系统开发人员，你应该已经很熟悉这个了，如果不是，你可以在https://www.outsystems.com/的<a class="ae kw" href="https://www.outsystems.com/" rel="noopener ugc nofollow" target="_blank">免费创建一个个人环境</a></p><p id="5f63" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我的工作实例在这里:<br/><a class="ae kw" href="https://a-carvalho.outsystemscloud.com/WebComponent/Screen1" rel="noopener ugc nofollow" target="_blank">https://a-carvalho.outsystemscloud.com/WebComponent/Screen1</a></p><h1 id="eef4" class="kx ky jb bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">1.加载外部代码</h1><p id="6992" class="pw-post-body-paragraph jy jz jb ka b kb lx kd ke kf ly kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">1.1使用以下代码创建一个名为<strong class="ka jc"> MyModalComponent </strong>的脚本:✍️</p><figure class="nk nl nm nn gt is"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="nk nl nm nn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nq"><img src="../Images/e1983c420e780a59d6e3dadda8fd5e36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cyZY8Dcx2FUpOtmqfQWSfQ.png"/></div></div><figcaption class="nr ns gj gh gi nt nu bd b be z dk translated">创建自定义JavaScript</figcaption></figure><p id="8932" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">1.2将新的JavaScript添加到您的屏幕:</p><figure class="nk nl nm nn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nv"><img src="../Images/d34d705423f95641c1b5e5d346a3326c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1EOf0ze00SOQGawzowDEOQ.png"/></div></div></figure><p id="c00e" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当您在浏览器上打开您的页面时，您现在将有一个新的脚本标签被注入和执行。</p><figure class="nk nl nm nn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nw"><img src="../Images/0131885b2187bab658dd01dd502a8a7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G3o6rmj2BzYnlKIM0Q7iAA.png"/></div></div></figure><h1 id="3db9" class="kx ky jb bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">2.在页面上添加自定义元素</h1><p id="0b22" class="pw-post-body-paragraph jy jz jb ka b kb lx kd ke kf ly kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">使用ServiceStudio中的HTML元素小部件，我们可以用我们需要的任何名称创建一个自定义元素。</p><figure class="nk nl nm nn gt is gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/bafbaa2fbef92c00de33a41cdd09a66b.png" data-original-src="https://miro.medium.com/v2/resize:fit:352/format:webp/1*3D0ET1kCCM-mwgfhBUoZTA.png"/></div></figure><p id="47e5" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">将小部件拖到您的屏幕上，将标记名设置为<strong class="ka jc"> my-custom-modal </strong>(检查CDN JavaScript代码的最后一行……)</p><p id="0334" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这个定制元素有一个属性<strong class="ka jc">按钮标签</strong>，将被组件使用。</p><figure class="nk nl nm nn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ny"><img src="../Images/affbcd6e696470d2137da33dbb1628db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PtV2W7wbI2TkXTSPI1KhkA.png"/></div></div><figcaption class="nr ns gj gh gi nt nu bd b be z dk translated">添加自定义元素</figcaption></figure><h1 id="2181" class="kx ky jb bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">3.(可选)添加一些外部系统内容</h1><p id="3924" class="pw-post-body-paragraph jy jz jb ka b kb lx kd ke kf ly kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">我添加了一个带有聚合的列表，只是为了演示如何在web组件的自定义元素中使用应用程序中的动态内容。</p><figure class="nk nl nm nn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nz"><img src="../Images/d5b166a9c765a3759a6b08861c22b22b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UA_DdJFh7IN0uEbtefRjoQ.png"/></div></div></figure><h1 id="8339" class="kx ky jb bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">4.嘣！完成了。</h1><p id="7d9a" class="pw-post-body-paragraph jy jz jb ka b kb lx kd ke kf ly kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">发布一切…一切都完成了！现在，您应该有了一个使用基于外部技术开发的web组件的响应式Web应用程序。这个Web组件可以在不同的应用程序和技术中使用……本质上这是一个微前端。🤙</p><figure class="nk nl nm nn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi oa"><img src="../Images/556b3421af4463a176b9dc902e929e12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vUTEjIOQFLSq-p0K4L9vpQ.png"/></div></div></figure><p id="f5a9" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">做了很多…</p><ul class=""><li id="5ae6" class="lv lw jb ka b kb kc kf kg kj mv kn mw kr mx kv mc md me mf bi translated">使用来自云端的RESTful调用来生成内容；</li><li id="97a1" class="lv lw jb ka b kb mg kf mh kj mi kn mj kr mk kv mc md me mf bi translated">使用<slot>整合外部系统应用程序的数据；</slot></li><li id="7530" class="lv lw jb ka b kb mg kf mh kj mi kn mj kr mk kv mc md me mf bi translated">用属性控制组件的某些属性；</li><li id="180b" class="lv lw jb ka b kb mg kf mh kj mi kn mj kr mk kv mc md me mf bi translated">使用影子DOM将组件范围从页面范围中分离出来；</li></ul><h1 id="c85e" class="kx ky jb bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">5.奖励:组件公共API</h1><p id="81e7" class="pw-post-body-paragraph jy jz jb ka b kb lx kd ke kf ly kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">出于演示的目的，我设置了一个接口来控制组件。打开<strong class="ka jc">浏览器控制台</strong>，您可以直接控制模态行为。</p><p id="4625" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">尝试:</p><pre class="nk nl nm nn gt ob oc od oe aw of bi"><span id="cb60" class="og ky jb oc b gy oh oi l oj ok">document.querySelector("my-custom-modal").isOpen = true/false</span></pre><p id="7ab4" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">明白我的意思了吗？😎</p><h1 id="20b4" class="kx ky jb bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">结论</h1><p id="0286" class="pw-post-body-paragraph jy jz jb ka b kb lx kd ke kf ly kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">我希望这个小的定制元素能够展示使用Web组件的优势，并为您的腰带添加一套全新的工具。</p><p id="1d5c" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">OutSystems不都是低代码的吗？🤔是的……从头开始编写JavaScript是高代码的，可能会显得过于复杂，甚至无法考虑。这没关系。<br/>这些用例并不适合所有人，我只是想证明扩展系统以实现更复杂的实现是可能的。</p><p id="9e3e" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你在一个企业生态系统上工作，很可能你有一个更大的系统。Net、Java…或任何其他技术，想象一下你可以在每种技术上拥有相同的组件！</p><p id="e5d1" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">有自己的开发生命周期，CI/CD管道，测试…等等。</p><p id="3272" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用<strong class="ka jc">微前端</strong>是可能的，而<strong class="ka jc"> Web组件</strong>是实现它的好方法。🤝</p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><p id="c631" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你对此有什么想法？</p><p id="57c8" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你想让我在某个特定的话题上更进一步吗？<br/>查看<a class="ae kw" href="https://antonio-carvalho.medium.com/" rel="noopener">其他文章</a>并在评论中联系我！</p></div></div>    
</body>
</html>