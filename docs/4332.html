<html>
<head>
<title>DDoS Intro — Journey to BoNeSi tool.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">DDoS简介BoNeSi工具之旅。</h1>
<blockquote>原文：<a href="https://itnext.io/ddos-intro-journey-to-bonesi-tool-8b43d53228ac?source=collection_archive---------5-----------------------#2020-06-09">https://itnext.io/ddos-intro-journey-to-bonesi-tool-8b43d53228ac?source=collection_archive---------5-----------------------#2020-06-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="2f5c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">什么是分布式拒绝服务攻击(DDoS)？</strong></p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/9bbd2f946cad9a47cf50aa72ffc09a17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8i6Mrb7d4fOfilbHiQ1mUQ.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">摘自我的笔记本:什么是DDoS？僵尸网络？(下面的链接)</figcaption></figure><p id="fec5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">常见攻击类型:</strong></p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi lb"><img src="../Images/569a7c84c42db5ed97a70ef7e39d8aec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zl8utKge3wopFRY_J_7kiQ.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">摘自我的笔记本:DDoS攻击的常见类型(链接如下)</figcaption></figure><p id="137f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">DDoS的概念性介绍在下面的手册中。(免费)</p><p id="0b84" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">DDoS的口袋书可以在以下链接免费下载:</strong><br/><a class="ae lc" href="https://www.slideshare.net/SakthiSaravananShanm/distributed-denial-of-services-ddos-attacks-conceptual-intro" rel="noopener ugc nofollow" target="_blank">https://www . slide share . net/SakthiSaravananShanm/distributed-denial-of-services-DDoS-attacks-conceptual-intro</a></p><p id="0f94" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有许多DDoS缓解工具和策略。我们必须仔细选择和准备我们的系统。为了强调我们的系统，<em class="ld">一个流行的僵尸网络模拟器工具是</em> <strong class="jp ir"> BoNeSi </strong>。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi le"><img src="../Images/f82a7ba53f80ae6c66649dfb9f222d6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FJuk8fRX4skrAFW2sIHgbA.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">注意:DDoS缓解系统应该是可信的:)而不是DDoS攻击者的系统。</figcaption></figure><p id="881a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们准备一个简单的测试平台，包括BoNeSi工具来模拟僵尸网络。</p><p id="79f5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">必备工具:</strong></p><ul class=""><li id="374e" class="lf lg iq jp b jq jr ju jv jy lh kc li kg lj kk lk ll lm ln bi translated">VirtualBox已安装[<a class="ae lc" href="https://www.virtualbox.org/wiki/Downloads" rel="noopener ugc nofollow" target="_blank">https://www.virtualbox.org/wiki/Downloads</a>]</li><li id="6371" class="lf lg iq jp b jq lo ju lp jy lq kc lr kg ls kk lk ll lm ln bi translated">Ubuntu服务器镜像[<a class="ae lc" href="https://releases.ubuntu.com/20.04/" rel="noopener ugc nofollow" target="_blank">https://releases.ubuntu.com/20.04/</a></li></ul><p id="4f03" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">准备:</strong></p><p id="e0fd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们应该记住，DDoS攻击建议在封闭的测试床(隔离的)下运行。所以(但是)在创建隔离网络之前，让我们通过在攻击者的机器上安装BoNeSi工具和在受害者的机器上安装Nginx服务器来准备设置。</p><ul class=""><li id="881e" class="lf lg iq jp b jq jr ju jv jy lh kc li kg lj kk lk ll lm ln bi translated">使用下载的Ubuntu映像，使用VirtualBox启动两台虚拟机。</li></ul><blockquote class="lt lu lv"><p id="e1e3" class="jn jo ld jp b jq jr js jt ju jv jw jx lw jz ka kb lx kd ke kf ly kh ki kj kk ij bi translated"><em class="iq">姑且称这两台机器为BoNeSi &amp; BoNeSi-Target。<br/> — BoNeSi虚拟机将运行BoNeSi工具来创建DDoS攻击。<br/> — BoNeSi-Target将运行一个简单的nginx服务器(作为受害者)。</em></p></blockquote><ul class=""><li id="f34d" class="lf lg iq jp b jq jr ju jv jy lh kc li kg lj kk lk ll lm ln bi translated">使用简单的NAT网络适配器启动机器(仅)&gt; &gt; &gt; &gt;[稍后会移除]。</li></ul><p id="1f3d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">—这是为了下载所需的插件和工具。</p><ul class=""><li id="a87a" class="lf lg iq jp b jq jr ju jv jy lh kc li kg lj kk lk ll lm ln bi translated">一旦虚拟机准备就绪！！！</li></ul><p id="05b7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">—登录BoNeSi机器安装BoNeSi工具。</p><ul class=""><li id="1ce5" class="lf lg iq jp b jq jr ju jv jy lh kc li kg lj kk lk ll lm ln bi translated">首先，安装BoNeSi依赖库来编译BoNeSi工具。</li></ul><pre class="km kn ko kp gt lz ma mb mc aw md bi"><span id="da93" class="me mf iq ma b gy mg mh l mi mj">sudo apt install build-essential<br/>sudo apt install libpcap-dev<br/>sudo apt install libnet1-dev<br/>sudo apt install autoconf<br/>sudo apt install automake<br/>sudo apt install gcc<br/>sudo apt install git<br/>sudo apt install make</span></pre><ul class=""><li id="74a0" class="lf lg iq jp b jq jr ju jv jy lh kc li kg lj kk lk ll lm ln bi translated">然后通过运行以下命令安装BoNeSi。</li></ul><pre class="km kn ko kp gt lz ma mb mc aw md bi"><span id="b09f" class="me mf iq ma b gy mg mh l mi mj">git clone <a class="ae lc" href="https://github.com/Markus-Go/bonesi.git" rel="noopener ugc nofollow" target="_blank">https://github.com/Markus-Go/bonesi.git</a> <br/>autoreconf -f -i<br/>./configure<br/>make<br/>make install</span></pre><blockquote class="lt lu lv"><p id="bf80" class="jn jo ld jp b jq jr js jt ju jv jw jx lw jz ka kb lx kd ke kf ly kh ki kj kk ij bi translated">此时此刻，BoNeSi应该已经准备好了。尝试运行' bonesi '命令，您应该能够看到下面的输出。</p></blockquote><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mk"><img src="../Images/cad74431878ce30a062fe7a9f0a30f60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I1EzMxDZ2zabpHL4eKyurg.png"/></div></div></figure><blockquote class="lt lu lv"><p id="4f45" class="jn jo ld jp b jq jr js jt ju jv jw jx lw jz ka kb lx kd ke kf ly kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="iq">注:</em> </strong> <em class="iq">万一你在一个没有互联网的系统里。您可以将库和BoNeSi repo SCP到您的机器中。首先使用下面的命令从有互联网的系统下载所需的二进制文件:(用库名代替&lt;包&gt; ) </em></p></blockquote><pre class="km kn ko kp gt lz ma mb mc aw md bi"><span id="3962" class="me mf iq ma b gy mg mh l mi mj">apt-get download $(apt-rdepends &lt;package&gt;|grep -v "^ "|grep -v "libc-dev")</span></pre><p id="b3df" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将创建一个. deb包。SCP这些。deb打包到BoNeSi机器上，运行下面的命令进行安装:(从复制的位置)</p><pre class="km kn ko kp gt lz ma mb mc aw md bi"><span id="c81b" class="me mf iq ma b gy mg mh l mi mj">sudo dpkg -i *.deb</span></pre><p id="6f4b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">—登录BoNeSi-Target机器安装Nginx服务器。这将像一个受害者服务使用以下命令。</p><pre class="km kn ko kp gt lz ma mb mc aw md bi"><span id="59b4" class="me mf iq ma b gy mg mh l mi mj">sudo apt install docker.io<br/>sudo docker pull nginx</span></pre><p id="903a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">*** <strong class="jp ir">试验台现已为实际配置做好准备</strong> ***</p><p id="836a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">设置配置:</strong></p><ul class=""><li id="1a9f" class="lf lg iq jp b jq jr ju jv jy lh kc li kg lj kk lk ll lm ln bi translated">从VirtualBox保存虚拟机状态并关闭机器。</li><li id="a4fd" class="lf lg iq jp b jq lo ju lp jy lq kc lr kg ls kk lk ll lm ln bi translated">删除(取消选中NAT网络适配器选项)，再次使用内部网络选项启动虚拟机(隔离环境)。</li></ul><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ml"><img src="../Images/3384ef04eceb004e9454b84ec160b8ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H66LNpawr4Q-5GjE1QXABQ.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">VirtualBox内部网络适配器设置</figcaption></figure><pre class="km kn ko kp gt lz ma mb mc aw md bi"><span id="6a06" class="me mf iq ma b gy mg mh l mi mj"><strong class="ma ir"><br/>Note: </strong>Before starting the VM, go to Setting tab for each VM and select Internal Network as Network Adaptor in the Network Tab.<br/>- Let's name the Internal Network as <em class="ld">(intnet1) =&gt; you can change it.<br/> <br/></em>** Select the same 'Internal Network' (intnet1) for both the VMs **</span></pre><ul class=""><li id="79fb" class="lf lg iq jp b jq jr ju jv jy lh kc li kg lj kk lk ll lm ln bi translated">如果您注意到在使用内部网络选项(使用“ifconfig -a”命令)启动虚拟机后，虚拟机内部的IP配置，您将不会看到为该接口配置的IP。您必须使用文件“/etc/net plan/00-installer-config . YAML”中的以下内容对其进行静态配置。</li></ul><blockquote class="lt lu lv"><p id="bb2b" class="jn jo ld jp b jq jr js jt ju jv jw jx lw jz ka kb lx kd ke kf ly kh ki kj kk ij bi translated">注意:正确使用接口名称，在我的例子中enp0s10是名称。</p></blockquote><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mm"><img src="../Images/5752425a97b305f531f3d02d8e4d6b5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X9pNgPwaK1zJWGFtMp1RlQ.png"/></div></div></figure><pre class="km kn ko kp gt lz ma mb mc aw md bi"><span id="8546" class="me mf iq ma b gy mg mh l mi mj"><strong class="ma ir">Note:</strong> <br/><em class="ld">Gateway should be pointing to BoNeSi machine's IP from BoNeSi-Target machine. Verify using,</em></span><span id="5414" class="me mf iq ma b gy mn mh l mi mj">sudo ip route | grep ^default</span><span id="7aef" class="me mf iq ma b gy mn mh l mi mj">Otherwise, you might face this issue:<br/><a class="ae lc" href="https://github.com/Markus-Go/bonesi/issues/7" rel="noopener ugc nofollow" target="_blank">https://github.com/Markus-Go/bonesi/issues/7</a></span></pre><ul class=""><li id="e4fd" class="lf lg iq jp b jq jr ju jv jy lh kc li kg lj kk lk ll lm ln bi translated">然后运行“sudo netplan apply”命令，并在需要时使用“sudo reboot”重新启动系统。</li><li id="6fd3" class="lf lg iq jp b jq lo ju lp jy lq kc lr kg ls kk lk ll lm ln bi translated">此时，应该已经为接口配置了IP。</li><li id="b31f" class="lf lg iq jp b jq lo ju lp jy lq kc lr kg ls kk lk ll lm ln bi translated">使用“ping”命令验证虚拟机之间的连接，应该会成功。</li></ul><p id="d822" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在使用下面的命令启动BoNeSi-Target机器中的Nginx服务器:</p><pre class="km kn ko kp gt lz ma mb mc aw md bi"><span id="a542" class="me mf iq ma b gy mg mh l mi mj">sudo docker run -d --network="host" nginx:latest<br/>sudo docker ps</span></pre><p id="50b0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，我们的隔离网络中有两台虚拟机。一个在端口80上运行Nginx服务器，另一个使用BoNeSi工具。是时候使用下面的示例命令从BoNeSi工具向Nginx服务器发起DDoS攻击了。</p><blockquote class="lt lu lv"><p id="15e9" class="jn jo ld jp b jq jr js jt ju jv jw jx lw jz ka kb lx kd ke kf ly kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="iq">注意:</em> </strong> <em class="iq">命令参数中使用的my-ip.txt文件不应包含属于内部网络的ip，否则您将面临此问题。</em><br/><a class="ae lc" href="https://github.com/Markus-Go/bonesi/issues/11" rel="noopener ugc nofollow" target="_blank">https://github.com/Markus-Go/bonesi/issues/11</a></p></blockquote><p id="188b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> HTTP洪水请求:</strong></p><pre class="km kn ko kp gt lz ma mb mc aw md bi"><span id="c4d3" class="me mf iq ma b gy mg mh l mi mj">sudo bonesi -p tcp -u / -d enp0s10 -i my-ip.txt 192.168.56.120:80</span></pre><p id="78a8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> TCP泛滥请求:</strong></p><pre class="km kn ko kp gt lz ma mb mc aw md bi"><span id="42b1" class="me mf iq ma b gy mg mh l mi mj">sudo bonesi -p tcp -d enp0s10 -i my-ip.txt 192.168.56.120:80</span></pre><p id="36f1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> UDP泛洪请求:</strong></p><pre class="km kn ko kp gt lz ma mb mc aw md bi"><span id="3c27" class="me mf iq ma b gy mg mh l mi mj">sudo bonesi -p udp -d enp0s10 192.168.56.120:80</span></pre><p id="66b9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> ICMP洪水请求:</strong></p><pre class="km kn ko kp gt lz ma mb mc aw md bi"><span id="4c57" class="me mf iq ma b gy mg mh l mi mj">sudo bonesi -p icmp -d enp0s10 192.168.56.120:80</span></pre><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mk"><img src="../Images/9c1e17d027994a2592179df84c7133bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JwoMmfJf9uzguLB86tEALQ.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">抽样输出</figcaption></figure><p id="4321" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有许多令人兴奋的选项可以产生各种类型的攻击(包括僵尸网络计数等等)。您可以在BoNeSi命令帮助上进一步探索。</p><p id="b637" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我希望这篇文章在某种程度上有助于理解DDoS和BoNeSi工具。</p><blockquote class="lt lu lv"><p id="222e" class="jn jo ld jp b jq jr js jt ju jv jw jx lw jz ka kb lx kd ke kf ly kh ki kj kk ij bi translated">感谢Ankur Srivastava和Vishal Mansur为我提供了使用这个工具的机会。</p><p id="22f1" class="jn jo ld jp b jq jr js jt ju jv jw jx lw jz ka kb lx kd ke kf ly kh ki kj kk ij bi translated">感谢马努·马修斯和卡比尔·T对我能力的信任。这真的改变了我的职业生涯！</p></blockquote></div></div>    
</body>
</html>