<html>
<head>
<title>Build a Twitter Leaderboard app with Redis and AWS Lambda (part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Redis和AWS Lambda构建一个Twitter排行榜应用程序(第1部分)</h1>
<blockquote>原文：<a href="https://itnext.io/build-a-twitter-leaderboard-app-with-redis-and-aws-lambda-part-1-670e7a8c6a91?source=collection_archive---------3-----------------------#2022-05-17">https://itnext.io/build-a-twitter-leaderboard-app-with-redis-and-aws-lambda-part-1-670e7a8c6a91?source=collection_archive---------3-----------------------#2022-05-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="c9bf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你好，欢迎👋🏼这个由两部分组成的博客系列使用一个简单而实用的应用程序来演示如何将Redis与AWS Lambda集成。第一部分(这一部分)涵盖了应用程序——在本博客结束时，您应该已经部署了解决方案，并对其进行了测试，在此过程中，您对解决方案有了一个很好的了解。</p><p id="956f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第二部分是关于基础设施(具体是IaaC)方面——主要围绕AWS CDK以及一些代码演练。</p><p id="fd9a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本博客系列的课程中，您将了解到:</p><ul class=""><li id="8d7a" class="km kn iq jp b jq jr ju jv jy ko kc kp kg kq kk kr ks kt ku bi translated">如何一起使用Lambda和Redis包括VPC和其他配置来使事情工作</li><li id="5ea5" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">如何使用Lambda函数URL</li><li id="a1c0" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">如何将Lambda函数部署为Docker容器(不是zip文件)</li><li id="a569" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">使用AWS CDK创建解决方案的所有组件—基础架构(VPC、子网等。)、数据库以及Lambda函数(这包括单个CDK应用程序环境中的多个堆栈)</li></ul><p id="d508" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我已经将<a class="ae la" href="https://go.dev/" rel="noopener ugc nofollow" target="_blank"> Go </a>用于Lambda函数(<a class="ae la" href="https://github.com/aws/aws-lambda-go" rel="noopener ugc nofollow" target="_blank"> aws-lambda-go </a>)以及基础设施(带有<a class="ae la" href="https://docs.aws.amazon.com/cdk/v2/guide/work-with-cdk-go.html" rel="noopener ugc nofollow" target="_blank"> CKD Go支持</a>)，但是您应该能够很容易地将这些概念应用到您选择的编程语言中。</p><blockquote class="lb lc ld"><p id="02b2" class="jn jo kl jp b jq jr js jt ju jv jw jx le jz ka kb lf kd ke kf lg kh ki kj kk ij bi translated"><em class="iq">一如既往，代码为</em> <a class="ae la" href="https://github.com/abhirockzz/twitter-leaderboard-app" rel="noopener ugc nofollow" target="_blank"> <em class="iq">可在Github </em> </a>上获得</p></blockquote><p id="aa48" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面是该解决方案中涉及的服务的简要概述:</p><ul class=""><li id="8b66" class="km kn iq jp b jq jr ju jv jy ko kc kp kg kq kk kr ks kt ku bi translated"><a class="ae la" href="https://docs.aws.amazon.com/memorydb/latest/devguide/what-is-memorydb-for-redis.html" rel="noopener ugc nofollow" target="_blank">Amazon MemoryDB for Redis</a>—这是一种持久的内存数据库服务，与Redis兼容，从而使您能够使用他们目前已经使用的灵活友好的Redis数据结构、API和命令来构建应用程序。</li><li id="3176" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated"><a class="ae la" href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-urls.html" rel="noopener ugc nofollow" target="_blank"> Lambda函数URL </a>是一个相对较新的特性(在撰写这篇博客时)，它为您的Lambda函数提供了专用的HTTP(S)端点。当您只需要一个功能端点(例如作为一个webhook)并且不想设置和配置API网关时，它真的很有用。</li><li id="7341" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">AWS云开发套件 (CDK)完全是关于IaaC(基础设施即代码)的。它是一个在代码中定义云基础设施并通过AWS CloudFormation提供它的框架。您可以从支持的编程语言列表中进行选择(在编写时— TypeScript、JavaScript、Python、Java、C#/。Net，并(在开发者预览版中))将基础设施组件定义为代码，就像您对任何其他应用程序所做的那样！</li></ul></div><div class="ab cl lh li hu lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="ij ik il im in"><h1 id="1a65" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">Twitter标签排行榜应用</h1><p id="c5df" class="pw-post-body-paragraph jn jo iq jp b jq mm js jt ju mn jw jx jy mo ka kb kc mp ke kf kg mq ki kj kk ij bi translated">别担心，这比听起来简单！这是高级架构:</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi mr"><img src="../Images/87169996e524b94355aa41f44b6406eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Z2CIpyONVOd0BGkl.png"/></div></div></figure><p id="e474" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该解决方案可以分为两个逻辑部分:</p><ul class=""><li id="4ad7" class="km kn iq jp b jq jr ju jv jy ko kc kp kg kq kk kr ks kt ku bi translated">第一部分处理tweet摄取:Lambda函数(从Twitter)获取tweet，提取每个tweet的hashtags，并将它们存储在MemoryDB中(在Redis排序的集合中)。该函数根据基于CloudWatch触发器中的规则的计划被调用</li><li id="b7a8" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">第二部分提供了排行榜功能:这是另一个Lambda函数，它提供了一个HTTP(s)端点(由于Lambda函数的URL)来查询排序后的集合并提取前10个标签(排行榜)</li></ul><p id="4c88" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我告诉过你，这很简单！</p><p id="0993" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">好了，介绍完了，我们可以进入有趣的部分——部署应用程序。在此之前，请确保您已准备好以下内容:</p><h1 id="05ee" class="lo lp iq bd lq lr nd lt lu lv ne lx ly lz nf mb mc md ng mf mg mh nh mj mk ml bi translated">要求</h1><ul class=""><li id="0791" class="km kn iq jp b jq mm ju mn jy ni kc nj kg nk kk kr ks kt ku bi translated"><a class="ae la" href="https://portal.aws.amazon.com/gp/aws/developer/registration/index.html" rel="noopener ugc nofollow" target="_blank">创建一个AWS账户</a>(如果你还没有的话)并登录。您使用的IAM用户必须有足够的权限进行必要的AWS服务调用和管理AWS资源。</li><li id="5e83" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">安装和配置<a class="ae la" href="https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html" rel="noopener ugc nofollow" target="_blank"> AWS CLI </a></li><li id="ab12" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">安装并引导<a class="ae la" href="https://docs.aws.amazon.com/cdk/v2/guide/getting_started.html#getting_started_install" rel="noopener ugc nofollow" target="_blank"> AWS CDK </a></li><li id="2ee4" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">设置<a class="ae la" href="https://docs.docker.com/get-docker/" rel="noopener ugc nofollow" target="_blank">对接</a></li><li id="cb26" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated"><a class="ae la" href="https://go.dev/dl/" rel="noopener ugc nofollow" target="_blank">安装Go </a></li><li id="5dc0" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">获取您的<a class="ae la" href="https://developer.twitter.com/en/docs/twitter-api/getting-started/getting-access-to-the-twitter-api" rel="noopener ugc nofollow" target="_blank"> Twitter API证书</a></li></ul></div><div class="ab cl lh li hu lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="ij ik il im in"><h1 id="160e" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">部署应用程序—一次部署一个CDK堆栈</h1><p id="e7ba" class="pw-post-body-paragraph jn jo iq jp b jq mm js jt ju mn jw jx jy mo ka kb kc mp ke kf kg mq ki kj kk ij bi translated">我们将在第二部分讨论细节。现在，只需要知道这个解决方案的基础设施部分由三个(CDK) <a class="ae la" href="https://docs.aws.amazon.com/cdk/v2/guide/stacks.html" rel="noopener ugc nofollow" target="_blank">栈</a>组成(在单个<a class="ae la" href="https://docs.aws.amazon.com/cdk/v2/guide/apps.html" rel="noopener ugc nofollow" target="_blank"> CDK应用</a>的上下文中)。虽然有可能将它们一起部署(用<code class="fe nl nm nn no b">cdk deploy --all</code>)，但我们将一个一个来做。这样，您可以回顾每个阶段发生的事情，反思已经创建的组件，并更好地理解所有东西是如何连接在一起的。</p><p id="b53e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，克隆Github repo:</p><pre class="ms mt mu mv gt np no nq nr aw ns bi"><span id="77a7" class="nt lp iq no b gy nu nv l nw nx">git clone <a class="ae la" href="https://github.com/abhirockzz/twitter-leaderboard-app" rel="noopener ugc nofollow" target="_blank">https://github.com/abhirockzz/twitter-leaderboard-app</a></span></pre><h1 id="3281" class="lo lp iq bd lq lr nd lt lu lv ne lx ly lz nf mb mc md ng mf mg mh nh mj mk ml bi translated">从基础架构开始…</h1><p id="e241" class="pw-post-body-paragraph jn jo iq jp b jq mm js jt ju mn jw jx jy mo ka kb kc mp ke kf kg mq ki kj kk ij bi translated">第一个堆栈部署了一个<a class="ae la" href="https://docs.aws.amazon.com/vpc/latest/userguide/what-is-amazon-vpc.html" rel="noopener ugc nofollow" target="_blank"> VPC </a>(以及子网、NAT网关等。)，一个用于Redis集群和一些安全组的MemoryDB。</p><p id="dc27" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为MemoryDB选择一个您自己选择的密码，并将其导出为一个环境变量(这只是出于演示目的—对于生产，您将有特定的进程来处理敏感信息)</p><p id="d51c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请注意密码要求。来自<a class="ae la" href="https://docs.aws.amazon.com/memorydb/latest/devguide/clusters.acls.html" rel="noopener ugc nofollow" target="_blank">文档</a>:</p><p id="17a5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">"特别是，在对MemoryDB使用ACL时，请注意这些用户密码限制:</em></p><ul class=""><li id="beb8" class="km kn iq jp b jq jr ju jv jy ko kc kp kg kq kk kr ks kt ku bi translated"><em class="kl">密码必须是16-128个可打印字符。</em></li><li id="6527" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated"><em class="kl">不允许使用以下非字母数字字符:，" "/ @。”</em></li></ul><p id="35f9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">转到正确的文件夹，开始堆栈部署:</p><pre class="ms mt mu mv gt np no nq nr aw ns bi"><span id="fab6" class="nt lp iq no b gy nu nv l nw nx">export MEMORYDB_PASSWORD=&lt;enter a password e.g. P@ssw0rd12345678&gt;</span><span id="a59c" class="nt lp iq no b gy ny nv l nw nx">cd cdk</span><span id="e3ae" class="nt lp iq no b gy ny nv l nw nx"># stack1 is the name of the stack - used for simplicity<br/>cdk deploy stack1</span></pre><p id="9d03" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有许多事情要做。虽然CDK正在为我们努力工作，但你需要耐心等待:)这可能是一个导航到AWS控制台中的<code class="fe nl nm nn no b">CloudFormation</code>并查看幕后发生的事情的好时机。</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi mr"><img src="../Images/610b73cfc7a4e8eeb48fcecea251bd1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Z2z8m9xtOqQnf_xH.png"/></div></div></figure><p id="80a9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦栈创建完成，进入AWS控制台并检查您新创建的VPC、MemoryDB集群和其他组件！</p><p id="121d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以下是供您参考的堆栈输出:</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi mr"><img src="../Images/c2146e6dc6c45ae28a10e1d28463d1be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3vSjzuqhkMXC8A9a.png"/></div></div></figure><p id="262d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来的两个栈部署了独立的Lambda函数。不过，在继续之前，请确保为这两个函数构建了Go二进制文件。</p><p id="511d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">去，建！</strong></p><p id="4dc7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">移动到各自的文件夹，调用每个功能的<code class="fe nl nm nn no b">go build</code>:</p><pre class="ms mt mu mv gt np no nq nr aw ns bi"><span id="cbec" class="nt lp iq no b gy nu nv l nw nx">cd tweet-ingest &amp;&amp; GOOS=linux go build -o app<br/>cd leaderboard-function &amp;&amp; GOOS=linux go build -o app</span></pre><blockquote class="lb lc ld"><p id="0436" class="jn jo kl jp b jq jr js jt ju jv jw jx le jz ka kb lf kd ke kf lg kh ki kj kk ij bi translated"><em class="iq">为了将Lambda函数打包成Docker容器，我使用了</em><a class="ae la" href="https://gallery.ecr.aws/lambda/go" rel="noopener ugc nofollow" target="_blank"><em class="iq">Go:1 . x base image</em></a><em class="iq">。但是，您也可以探索</em> <a class="ae la" href="https://docs.aws.amazon.com/lambda/latest/dg/go-image.html" rel="noopener ugc nofollow" target="_blank"> <em class="iq">其他选项</em> </a> <em class="iq">。在部署期间(通过</em> <code class="fe nl nm nn no b"><em class="iq">cdk deploy</em></code> <em class="iq">)，Docker映像在本地构建，被推送到一个</em> <a class="ae la" href="https://docs.aws.amazon.com/AmazonECR/latest/userguide/Registries.html" rel="noopener ugc nofollow" target="_blank"> <em class="iq">私有ECR注册表</em> </a> <em class="iq">，最后Lambda函数被创建——所有这一切，只需几行代码！</em></p></blockquote></div><div class="ab cl lh li hu lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="ij ik il im in"><h1 id="1e30" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">第二个堆栈—用于第一个Lambda函数</h1><p id="9c56" class="pw-post-body-paragraph jn jo iq jp b jq mm js jt ju mn jw jx jy mo ka kb kc mp ke kf kg mq ki kj kk ij bi translated">该函数需要您的Twitter API凭证(以及MemoryDB密码)—将它们作为环境变量播种。然后，启动堆栈创建:</p><pre class="ms mt mu mv gt np no nq nr aw ns bi"><span id="9934" class="nt lp iq no b gy nu nv l nw nx">export MEMORYDB_PASSWORD=&lt;enter the password you had previously chosen e.g. P@ssw0rd12345678&gt;<br/>export TWITTER_API_KEY=&lt;enter twitter API key&gt;<br/>export TWITTER_API_SECRET=&lt;enter twitter API secret&gt;<br/>export TWITTER_ACCESS_TOKEN=&lt;enter twitter access token&gt;<br/>export TWITTER_ACCESS_TOKEN_SECRET=&lt;enter twitter API access token secret&gt;</span><span id="1de2" class="nt lp iq no b gy ny nv l nw nx"># note the name of the stack is stack2<br/>cdk deploy stack2</span></pre><p id="aa4e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个会更快(相比<code class="fe nl nm nn no b">stack1</code>)，我保证！</p><p id="72ad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦栈创建完成，为了使事情正常工作，需要一个手动步骤。进入AWS控制台，打开刚刚创建的Lambda函数(名为<code class="fe nl nm nn no b">tweet-ingest-function</code>，点击<strong class="jp ir">添加触发器</strong>，手动添加CloudWatch触发器配置。</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi mr"><img src="../Images/e429533d26ed85a94fcbed0c1078b15e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Ak1oV-PO5WyvFNer.png"/></div></div></figure><p id="7296" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在你的功能会每分钟自动触发一次！</p><p id="8db2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要检查事情进展如何，请查看Lambda函数的日志(AWS控制台&gt; Lambda &gt;监视器):</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi mr"><img src="../Images/6ef2eeed3e337ae01febdeb071a31d11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*J8ip5MJkg1eU7tzh.png"/></div></div></figure><p id="6cea" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我也鼓励你检查你的Lambda函数的VPC配置:</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi mr"><img src="../Images/cb392dbb67f660e34e454948b4ea3451.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*fPqLKc1uznRdDHJh.png"/></div></div></figure></div><div class="ab cl lh li hu lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="ij ik il im in"><h1 id="4e22" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">最后，部署排行榜功能</h1><pre class="ms mt mu mv gt np no nq nr aw ns bi"><span id="98d2" class="nt lp iq no b gy nu nv l nw nx">export MEMORYDB_PASSWORD=&lt;enter the password you had previously chosen e.g. P@ssw0rd12345678&gt;</span><span id="7a27" class="nt lp iq no b gy ny nv l nw nx"># note the name of the stack is stack3<br/>cdk deploy stack3</span></pre><p id="49f6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">成功部署后，您应该有一个Lambda函数URL可供访问——您可以简单地从堆栈输出中复制它！</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi mr"><img src="../Images/dee9e4a1f038bbbeb48297d0a60ec55b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jfPdb5gRXdyQaiPQ.png"/></div></div></figure><p id="81fa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">只需访问端点(我使用了<code class="fe nl nm nn no b">curl</code> CLI，但浏览器应该可以正常工作):</p><pre class="ms mt mu mv gt np no nq nr aw ns bi"><span id="3a37" class="nt lp iq no b gy nu nv l nw nx">curl -i &lt;enter lambda function URL from the stack output&gt;</span></pre><p id="3123" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您应该得到一个JSON有效负载，其中包含关于前10个标签的信息，以及它们的名称和被提及的次数——类似如下:</p><pre class="ms mt mu mv gt np no nq nr aw ns bi"><span id="bbfc" class="nt lp iq no b gy nu nv l nw nx">[<br/>  {<br/>    "Score": 121,<br/>    "Member": "AWS"<br/>  },<br/>  {<br/>    "Score": 56,<br/>    "Member": "gaming"<br/>  },<br/>  {<br/>    "Score": 56,<br/>    "Member": "RESTOCK"<br/>  },<br/>  {<br/>    "Score": 56,<br/>    "Member": "ALERT"<br/>  },<br/>  {<br/>    "Score": 35,<br/>    "Member": "aws"<br/>  },<br/>  {<br/>    "Score": 26,<br/>    "Member": "rtx3080"<br/>  },<br/>  {<br/>    "Score": 26,<br/>    "Member": "geforce3080"<br/>  },<br/>  {<br/>    "Score": 24,<br/>    "Member": "Infographic"<br/>  },<br/>  {<br/>    "Score": 23,<br/>    "Member": "箱マスク"<br/>  },<br/>  {<br/>    "Score": 23,<br/>    "Member": "startups"<br/>  }<br/>]</span></pre><p id="d23d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第一部分到此结束。在第二篇文章中，我们深入CDK方面，看看一些Go代码——再见！</p></div></div>    
</body>
</html>