<html>
<head>
<title>Rspec controller test with Devise: sign in and sign up</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Rspec控制器测试与设备:登录和注册</h1>
<blockquote>原文：<a href="https://itnext.io/rspec-controller-tests-with-devise-testing-sign-in-and-sign-up-665f1b6a04eb?source=collection_archive---------2-----------------------#2021-05-27">https://itnext.io/rspec-controller-tests-with-devise-testing-sign-in-and-sign-up-665f1b6a04eb?source=collection_archive---------2-----------------------#2021-05-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div class="gh gi jq"><img src="../Images/1a2a195e17aa947c7d202b7656293274.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/1*aVj81mtNC4bPPkHIvNN6Ng.png"/></div></figure></div><div class="ab cl jx jy hx jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="im in io ip iq"><h1 id="85fb" class="ke kf it bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated"><strong class="ak">需要宝石</strong></h1><ul class=""><li id="e6b6" class="lc ld it le b lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">gem 'rspec-rails '</li><li id="a573" class="lc ld it le b lf lu lh lv lj lw ll lx ln ly lp lq lr ls lt bi translated">gem '工厂_机器人_轨道'</li><li id="b9d5" class="lc ld it le b lf lu lh lv lj lw ll lx ln ly lp lq lr ls lt bi translated">宝石'伪造者'</li></ul><h1 id="30c0" class="ke kf it bd kg kh lz kj kk kl ma kn ko kp mb kr ks kt mc kv kw kx md kz la lb bi translated"><strong class="ak">设置工厂机器人</strong></h1><p id="752a" class="pw-post-body-paragraph me mf it le b lf lg mg mh lh li mi mj lj mk ml mm ll mn mo mp ln mq mr ms lp im bi translated">首先创建一个factory_bot支持助手</p><figure class="mt mu mv mw gt ju"><div class="bz fp l di"><div class="mx my l"/></div><figcaption class="mz na gj gh gi nb nc bd b be z dk translated">spec/support/factory_bot.rb</figcaption></figure><p id="8ac4" class="pw-post-body-paragraph me mf it le b lf nd mg mh lh ne mi mj lj nf ml mm ll ng mo mp ln nh mr ms lp im bi translated">接下来，将<code class="fe ni nj nk nl b">require_relative “support/factory_bot</code>导入<code class="fe ni nj nk nl b">spec/rails_helper.rb</code></p><p id="7966" class="pw-post-body-paragraph me mf it le b lf nd mg mh lh ne mi mj lj nf ml mm ll ng mo mp ln nh mr ms lp im bi translated">为示例用户创建一个工厂。</p><figure class="mt mu mv mw gt ju"><div class="bz fp l di"><div class="mx my l"/></div><figcaption class="mz na gj gh gi nb nc bd b be z dk translated">spec/factories.user.rb</figcaption></figure><h1 id="a654" class="ke kf it bd kg kh lz kj kk kl ma kn ko kp mb kr ks kt mc kv kw kx md kz la lb bi translated">设置浏览器以执行测试</h1><figure class="mt mu mv mw gt ju"><div class="bz fp l di"><div class="mx my l"/></div><figcaption class="mz na gj gh gi nb nc bd b be z dk translated">规范/支持/chrome.rb</figcaption></figure><h1 id="cfdc" class="ke kf it bd kg kh lz kj kk kl ma kn ko kp mb kr ks kt mc kv kw kx md kz la lb bi translated"><strong class="ak">用rspec设置设备</strong></h1><figure class="mt mu mv mw gt ju"><div class="bz fp l di"><div class="mx my l"/></div><figcaption class="mz na gj gh gi nb nc bd b be z dk translated">spec/rails_helper.rb</figcaption></figure></div><div class="ab cl jx jy hx jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="im in io ip iq"><h1 id="3f24" class="ke kf it bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">签到</h1><figure class="mt mu mv mw gt ju"><div class="bz fp l di"><div class="mx my l"/></div><figcaption class="mz na gj gh gi nb nc bd b be z dk translated">spec/system/sign_in_spec.rb</figcaption></figure><p id="e07b" class="pw-post-body-paragraph me mf it le b lf nd mg mh lh ne mi mj lj nf ml mm ll ng mo mp ln nh mr ms lp im bi translated">注销链接最初隐藏在导航栏的下拉菜单后面。<code class="fe ni nj nk nl b">find(‘#user-menu-button’)</code>选择器打开下拉菜单。</p><h1 id="4726" class="ke kf it bd kg kh lz kj kk kl ma kn ko kp mb kr ks kt mc kv kw kx md kz la lb bi translated">签约雇用</h1><figure class="mt mu mv mw gt ju"><div class="bz fp l di"><div class="mx my l"/></div><figcaption class="mz na gj gh gi nb nc bd b be z dk translated">spec/system/sign_up_spec.rb</figcaption></figure><p id="40d0" class="pw-post-body-paragraph me mf it le b lf nd mg mh lh ne mi mj lj nf ml mm ll ng mo mp ln nh mr ms lp im bi translated">默认用户模型中增加了一个在注册前接受条款和条件的附加字段。</p></div></div>    
</body>
</html>