<html>
<head>
<title>Linux: protecting configuration files</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Linux:保护配置文件</h1>
<blockquote>原文：<a href="https://itnext.io/linux-protecting-configuration-files-7b0e53b49a4?source=collection_archive---------6-----------------------#2019-12-03">https://itnext.io/linux-protecting-configuration-files-7b0e53b49a4?source=collection_archive---------6-----------------------#2019-12-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="5efe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">无论您是在本地运行linux环境，还是在使用任何发行版(如Ubuntu、Centos、RHEL或其他软件)的云实例中运行Linux环境，您都想知道某些东西是否被碰过。</p><p id="478a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">code公证人以最简单的方式让您做到这一点，验证副本甚至安全地存储在您的环境之外。</p><p id="8cb4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面的博文介绍了通常存储配置文件的/etc目录的公证，以及登录时的自动身份验证。</p><p id="a238" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们涵盖:</p><ul class=""><li id="3412" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk kq kr ks kt bi translated">安装vcn</li><li id="d246" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">公证文件或文件夹</li><li id="4f2a" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">更改bash配置文件，以便在登录时进行身份验证</li><li id="b5d4" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">一些例子</li></ul><h1 id="a53b" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">安装vcn</h1><p id="e2bf" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">有很多不同的方法来安装vcn命令行工具。当然你也可以自己建造。GitHub存储库可以在以下位置找到:</p><p id="c3fa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae mc" href="https://github.com/vchain-us/vcn" rel="noopener ugc nofollow" target="_blank">https://github.com/vchain-us/vcn</a></p><p id="fb26" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最新版本:</p><p id="f7e7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">https://github.com/vchain-us/vcn/releases/latest<a class="ae mc" href="https://github.com/vchain-us/vcn/releases/latest" rel="noopener ugc nofollow" target="_blank"/></p><p id="8ea3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您想要快速安装(Linux、MacOS)，您也可以使用我们的安装脚本:</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="7154" class="mm la iq mi b gy mn mo l mp mq">bash &lt;(curl http://getvcn.codenotary.io -L)</span></pre><p id="885e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可以查看我们的<a class="ae mc" href="https://docs.codenotary.io/" rel="noopener ugc nofollow" target="_blank">手册</a>或者简单地输入<strong class="jp ir"> vcn帮助</strong></p><h1 id="4ec1" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">公证文件或文件夹</h1><p id="c8bd" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">随着vcn的安装和运行，我们可以在每次登录时公证我们想要验证的文件夹或文件。这些可能是:</p><ul class=""><li id="c155" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk kq kr ks kt bi translated">配置文件(Apache、NGINX、防火墙服务、Sudoers文件等等)</li><li id="623d" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">包含配置文件的文件夹</li><li id="4a69" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">不应被忽视的文件或文件夹</li></ul><p id="692e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">确保您有一个免费的<a class="ae mc" href="https://dashboard.codenotary.io/auth/signup" rel="noopener ugc nofollow" target="_blank">code公证人</a>账户，这样您就可以公证并且只检查您自己的数字对象。</p><h1 id="cd5f" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">/etc文件夹的公证</h1><p id="3bfa" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">提示:根据安装的不同，您可能需要使用<strong class="jp ir"> sudo </strong>！</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="b395" class="mm la iq mi b gy mn mo l mp mq"># first login with your CodeNotary account credentials <br/>vcn login </span><span id="f1e5" class="mm la iq mi b gy mr mo l mp mq"># Notarize /etc - dir:// acts on the whole folder or directory <br/># type your password when requested <br/>vcn n dir:///etc</span></pre><figure class="md me mf mg gt mt gh gi paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gh gi ms"><img src="../Images/6a296b301be3a0713cbbe76c42090c05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*7tptc2Rar6hpWEAb.png"/></div></div></figure><p id="097b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">已经完成了，你可以在你的<a class="ae mc" href="https://dashboard.codenotary.io/" rel="noopener ugc nofollow" target="_blank">仪表板</a>中轻松地再次检查，或者简单地输入<strong class="jp ir"> vcn a dir:///etc </strong>如果一切正常的话。</p><figure class="md me mf mg gt mt gh gi paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gh gi na"><img src="../Images/83b233e49d3894d28c15353138de7ea0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tDRZ04EZHgsap5yr.png"/></div></div></figure><p id="e15c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你只是想检查一个或一些文件，你可以使用<strong class="jp ir"> vcn n /path/file </strong>而不用<strong class="jp ir"> dir:// </strong>。</p><h1 id="5151" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">更改bash配置文件，以便在登录时进行身份验证</h1><p id="2cac" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">我们希望以一种自动的方式来完成这项工作，而不是每次登录时都要验证配置文件夹等。这个例子很简单，但是可以很容易地进行改进，以使环境更加安全。</p><p id="c444" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">更改您的本地个人资料:<strong class="jp ir"> nano ~/。配置文件</strong>并添加以下几行:</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="5abb" class="mm la iq mi b gy mn mo l mp mq"># calculate the SHA256 checksum of vcn (check the path vcn is installed) <br/># /usr/bin/vcn or /usr/local/bin and change accordingly </span><span id="7d53" class="mm la iq mi b gy mr mo l mp mq">CHECKSUM=$(sha256sum /usr/local/bin/vcn | cut -d " " -f 1) </span><span id="d12a" class="mm la iq mi b gy mr mo l mp mq"># check if the vendor vchain.us notarized vcn <br/># of course you can notarize yourself and check against your identity as well </span><span id="4175" class="mm la iq mi b gy mr mo l mp mq">curl -s https://api.codenotary.io/authenticate/$CHECKSUM?org=vchain.us | grep -q :0 </span><span id="2de5" class="mm la iq mi b gy mr mo l mp mq"># error if the curl command failed and vcn could not be authenticated <br/>test $? -eq 0 || echo "VCN Authenticate: FAILED" </span><span id="39bb" class="mm la iq mi b gy mr mo l mp mq"># use vcn to authenticate /etc and check against the blockchain <br/># make sure to change 0x000000000 to your signer key (vcn info) <br/>vcn a dir:///etc -s 0x000000000 </span><span id="25f2" class="mm la iq mi b gy mr mo l mp mq"># error if vcn could not authenticate /etc <br/>test $? -eq 0 || echo "VCN Auth /etc: FAILED"</span></pre><p id="2c78" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">保存文件，下一次登录已经在检查/etc文件夹。</p><h1 id="0a01" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">一些例子</h1><p id="b56e" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">自从公证发生以来，没有任何变化:</p><figure class="md me mf mg gt mt gh gi paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gh gi nb"><img src="../Images/5bce2a6c2c89389ac226a82e841760fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*nq1eWPtjBdMJRHgJ.png"/></div></div></figure><p id="529c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">更改/etc/sudoers文件后</p><figure class="md me mf mg gt mt gh gi paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gh gi nc"><img src="../Images/1290b01d65aefe30c994564de79c8ce6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*C3t0AM2UMJWpx4fo.png"/></div></div></figure><h1 id="a755" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">摘要</h1><p id="50ba" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">如你所见，使用code公证人来保护你的目录或文件夹是如此简单明了。这适用于Linux、MacOS，当然也适用于Windows(我们将在另一个时间讨论微软Windows)。</p></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><p id="91ac" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="nk">原载于2019年12月3日</em><a class="ae mc" href="https://www.codenotary.io/linux-protecting-configuration-files/" rel="noopener ugc nofollow" target="_blank"><em class="nk">https://www . code公证人. io </em> </a> <em class="nk">。</em></p></div></div>    
</body>
</html>