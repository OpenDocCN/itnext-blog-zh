<html>
<head>
<title>Vue IntelliSense in VSCode</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">VSCode中的Vue智能感知</h1>
<blockquote>原文：<a href="https://itnext.io/vue-intellisense-in-vscode-33cf8860e092?source=collection_archive---------0-----------------------#2020-09-26">https://itnext.io/vue-intellisense-in-vscode-33cf8860e092?source=collection_archive---------0-----------------------#2020-09-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="4bc0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我发现独立的“Vue组件”有一个<strong class="jp ir">的单一目的</strong>，你可以从NPM安装，并在任何项目中使用是伟大的！尤其是当它们可以灵活地添加到任何项目中时！</p><p id="74d4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">找到你正在寻找的正确的Vue组件<em class="kl">而不必引入一个全新的框架</em>是非常令人满意和富有成效的！！但是，有一个问题…</p><h1 id="5e75" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">TLDR；</h1><ul class=""><li id="9f35" class="lk ll iq jp b jq lm ju ln jy lo kc lp kg lq kk lr ls lt lu bi translated">Vue组件<strong class="jp ir">没有</strong>自动完成道具；<strong class="jp ir">或</strong>解释道具作用的弹出文档片段。😥</li><li id="b6aa" class="lk ll iq jp b jq lv ju lw jy lx kc ly kg lz kk lr ls lt lu bi translated">在本文中，我将展示如何使用一个简单的CLI命令<a class="ae ma" href="https://github.com/cycraft/vue-intellisense" rel="noopener ugc nofollow" target="_blank">自动为props添加自动完成和弹出文档！🎉</a></li><li id="6979" class="lk ll iq jp b jq lv ju lw jy lx kc ly kg lz kk lr ls lt lu bi translated">CLI将保持最新，因此它也适用于Vue 3。</li></ul><h1 id="0452" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">问题是</h1><p id="4f8b" class="pw-post-body-paragraph jn jo iq jp b jq lm js jt ju ln jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">有件事困扰我很久了…</p><p id="fd8c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我喜欢独立的Vue组件，他们也喜欢我——但有时我们有沟通问题……你看，大多数组件缺少<em class="kl">属性文档</em>和<em class="kl">属性自动完成</em>(也称为智能感知)。我甚至敢说NPM上95%的独立Vue组件都没有正确的自动完成功能。这让我觉得:😰</p><p id="d3c6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们来看一个典型“星级评定”组件，它具有和不具有适当的自动完成功能。</p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi me"><img src="../Images/4aa02c447bb473a4b9225646bbb92cb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*kRcdb2yo0dbs4X65JkThpQ.gif"/></div></div></figure><p id="72bd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">没有正确自动完成:</p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi mq"><img src="../Images/f53702e512531819f188dacf6a58d711.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Eo_9wvylqGibOJ4J78NVtA.png"/></div></div></figure><p id="b91f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">正如你所看到的，有一些关于原生Vue道具和属性的一般信息，但没有关于这个主演组件的信息。</p><ul class=""><li id="a7de" class="lk ll iq jp b jq jr ju jv jy mr kc ms kg mt kk lr ls lt lu bi translated">为什么会这样:我不知道用哪种道具。我不知道这些道具是做什么的。而一旦我搞清楚了，我还是不知道他们各自的类型？</li><li id="03a3" class="lk ll iq jp b jq lv ju lw jy lx kc ly kg lz kk lr ls lt lu bi translated"><strong class="jp ir">当前答案:</strong>你得打破专注，找到自述，希望有人花时间在道具上写像样的文档。如果没有，那么你必须再次中断focus，克隆他们的repo，回到你的编辑器du jour，并挖掘源代码。😕</li></ul><h1 id="7c4a" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">解决方案</h1><p id="9e26" class="pw-post-body-paragraph jn jo iq jp b jq lm js jt ju ln jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">让我给你一个选择。如果组件显示的是:</p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi mu"><img src="../Images/5ca6e02ce30179089dc2f0b1a12f2c85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dQZD8Ydt7_65EwWDUYi36A.png"/></div></div></figure><p id="7ae6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你看到<code class="fe mv mw mx my b">starCount</code>和<code class="fe mv mw mx my b">value</code>了吗？现在我们知道在这个组件中可以使用哪些自定义道具。这是如此容易使用！</p><p id="011b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">或者一个<em class="kl">甚至更好的</em>解决方案，如果道具有<strong class="jp ir">一个文档片段</strong>会怎么样？</p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi mz"><img src="../Images/51579f5bc71689e379a006b3286aee30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mywX0nWss3PxbSfGh_BqHA.png"/></div></div></figure><blockquote class="na nb nc"><p id="512a" class="jn jo kl jp b jq jr js jt ju jv jw jx nd jz ka kb ne kd ke kf nf kh ki kj kk ij bi translated">你是怎么做到的，我现在就需要这个！<br/>——你，读者，2020</p></blockquote><p id="4ab5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这一切都可以通过名为<a class="ae ma" href="https://vuejs.github.io/vetur/" rel="noopener ugc nofollow" target="_blank"> Vetur </a>的VSCode扩展来实现。<br/>从上面的截图可以看出，Vetur提供了为组件道具添加弹出文档的功能。但是我必须承认，关于这个特性的Vetur <a class="ae ma" href="https://vuejs.github.io/vetur/component-data.html#workspace-component-data" rel="noopener ugc nofollow" target="_blank">文档</a>很难理解，也不容易找到。</p><p id="c1fa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我来解释如何设置一切。这实际上很乏味，但是请一直读到最后，我会告诉你它是如何自动完成的！💜</p><h1 id="a1e2" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">手动方式</h1><p id="2363" class="pw-post-body-paragraph jn jo iq jp b jq lm js jt ju ln jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">你必须做一些繁重的工作。不好玩。但是这非常简单，了解这些步骤可以为下面的自动化步骤提供洞察力。</p><p id="8463" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，您需要创建两个JSON文件:<code class="fe mv mw mx my b">vetur/tags.json</code>和<code class="fe mv mw mx my b">vetur/attributes.json</code>；然后你需要编辑你的<code class="fe mv mw mx my b">package.json</code>，就这样！</p><h2 id="3a42" class="ng kn iq bd ko nh ni dn ks nj nk dp kw jy nl nm la kc nn no le kg np nq li nr bi translated">vetur/attributes.json</h2><p id="3216" class="pw-post-body-paragraph jn jo iq jp b jq lm js jt ju ln jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">这是一个包含你的组件可能拥有的所有可能属性的文件。应该这样写:</p><pre class="mf mg mh mi gt ns my nt nu aw nv bi"><span id="6c22" class="ng kn iq my b gy nw nx l ny nz">{<br/>  "star-rating": {<br/>    "attributes": [ "value", "star-count" ],<br/>    "description": "A StarRating component"<br/>  }<br/>}</span></pre><h2 id="980f" class="ng kn iq bd ko nh ni dn ks nj nk dp kw jy nl nm la kc nn no le kg np nq li nr bi translated">vetur/tags.json</h2><p id="9f1b" class="pw-post-body-paragraph jn jo iq jp b jq lm js jt ju ln jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">这是一个包含每个属性的所有类型和文档片段的文件，看起来必须类似于以下内容:</p><pre class="mf mg mh mi gt ns my nt nu aw nv bi"><span id="70b4" class="ng kn iq my b gy nw nx l ny nz">{<br/>  "star-rating/value": {<br/>    "type": "number",<br/>    "description": "The star count the rating represents. Eg. 2 could mean 2/5 stars."<br/>  },<br/>  "star-rating/star-count": {<br/>    "type": "number",<br/>    "description": "The total amount of stars to render. Eg. 5 could mean the rating is \"out of 5\"."<br/>  },<br/>}</span></pre><h2 id="8c65" class="ng kn iq bd ko nh ni dn ks nj nk dp kw jy nl nm la kc nn no le kg np nq li nr bi translated">package.json</h2><p id="55ff" class="pw-post-body-paragraph jn jo iq jp b jq lm js jt ju ln jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">您必须将此添加到您的<code class="fe mv mw mx my b">package.json</code>:</p><pre class="mf mg mh mi gt ns my nt nu aw nv bi"><span id="f88b" class="ng kn iq my b gy nw nx l ny nz">{<br/>  "vetur": {<br/>    "tags": "vetur/tags.json",<br/>    "attributes": "vetur/attributes.json"<br/>  },<br/>}</span></pre><p id="e574" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">瞧啊。你的组件<strong class="jp ir">现在有了智能感知</strong>，因此对全世界来说都是超级用户友好的！！！相信我，这会让你在Github上获得很多明星！(懂了吗？😛)</p><blockquote class="na nb nc"><p id="a551" class="jn jo kl jp b jq jr js jt ju jv jw jx nd jz ka kb ne kd ke kf nf kh ki kj kk ij bi translated">这太愚蠢了…我不想为我所有的组件写这个，太乏味了！！！🤬💢❌💥</p></blockquote><p id="be04" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">是的，我同意。挺繁琐的……</p><p id="a841" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是我的朋友，你今天很幸运，因为我会罩着你。😉</p><h1 id="e125" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">一个CLI工具可以自动完成所有工作</h1><p id="7f0a" class="pw-post-body-paragraph jn jo iq jp b jq lm js jt ju ln jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">我创建了一个名为<a class="ae ma" href="https://github.com/cycraft/vue-intellisense" rel="noopener ugc nofollow" target="_blank"> Vue IntelliSense </a>的CLI，它将<em class="kl">自动为您的组件生成</em>所需的<code class="fe mv mw mx my b">tags.json</code>和<code class="fe mv mw mx my b">attributes.json</code>文件！⚙️</p><p id="a828" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最好的事情是:你需要对你当前的Vue组件做真正的改变！</p><p id="dc8b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">只需执行:</p><pre class="mf mg mh mi gt ns my nt nu aw nv bi"><span id="0233" class="ng kn iq my b gy nw nx l ny nz">npm i -g vue-intellisense</span></pre><p id="a697" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，您可以执行:</p><pre class="mf mg mh mi gt ns my nt nu aw nv bi"><span id="28fe" class="ng kn iq my b gy nw nx l ny nz">vue-int --input /src/components/StarRating.vue --output vetur</span></pre><p id="b64d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">就是这样！<strong class="jp ir"/><strong class="jp ir">会自动为你生成</strong><code class="fe mv mw mx my b">tags.json</code>和<code class="fe mv mw mx my b">attributes.json</code>文件，并保存在一个名为<code class="fe mv mw mx my b">vetur</code>的文件夹中。🎉</p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi oa"><img src="../Images/d544f656dece27d1abdeed73fbbd91d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*YoCRk85ni1GGkq4Sic9fLw.gif"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk translated">vue-intellisense自动生成左边的Vetur文件夹！</figcaption></figure><p id="124a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您还可以对您拥有的所有Vue组件递归地执行此操作:</p><pre class="mf mg mh mi gt ns my nt nu aw nv bi"><span id="c95e" class="ng kn iq my b gy nw nx l ny nz">vue-int --input /src/components --output vetur --recursive</span></pre><p id="8b8b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后你可以把它添加到你的<code class="fe mv mw mx my b">package.json</code>脚本中，这样你就可以轻松地用<code class="fe mv mw mx my b">npm run vue-int</code>运行它</p><pre class="mf mg mh mi gt ns my nt nu aw nv bi"><span id="fff3" class="ng kn iq my b gy nw nx l ny nz">{<br/>  scripts: {<br/>    "vue-int": "vue-int --output 'path/to/vetur' --input 'path/to/StarRating.vue'",<br/>  }<br/>}</span></pre><blockquote class="na nb nc"><p id="3ba4" class="jn jo kl jp b jq jr js jt ju jv jw jx nd jz ka kb ne kd ke kf nf kh ki kj kk ij bi translated">如何将文档片段添加到我的道具中？<em class="iq">🤔</em></p></blockquote><p id="46af" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您还想拥有一个文档片段📄根据道具<br/> — <strong class="jp ir">，我强烈推荐</strong>，你不应该在没有任何解释的情况下写一个道具<strong class="jp ir"> </strong> — <br/>你可以在道具上方添加一个JSDoc风格的注释，就像这样:</p><pre class="mf mg mh mi gt ns my nt nu aw nv bi"><span id="eb5f" class="ng kn iq my b gy nw nx l ny nz">export default {<br/>  name: "StarRating",<br/>  props: {<br/>    /**<br/>     * The star count the rating represents. Eg. 2 could mean 2/5 stars.<br/>     */<br/>    value: Number,<br/>    /**<br/>     * The total amount of stars to render. Eg. 5 could mean the rating is "out of 5".<br/>     */<br/>    starCount: Number,<br/>  },<br/>}</span></pre><p id="5b6e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在<code class="fe mv mw mx my b">vue-intellisense</code>会自动将这个文档添加到Vetur文件中！</p><p id="04d7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">仅此而已！更多信息请查看Vue智能感知Github库。CLI将保持最新，因此它可以与Vue 3以及未来的任何Vetur更新一起使用。任何贡献都非常感谢！</p><h1 id="c200" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">奖金</h1><p id="149f" class="pw-post-body-paragraph jn jo iq jp b jq lm js jt ju ln jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">作为最后的奖励。如果你已经使用了Vue-Styleguidist 的方式来记录你的道具，你应该已经在你的道具上面有JSDoc文档片段了。Vue-Styleguidist鼓励道具上面的JSDoc风格评论自动生成整个文档网站。这太好了！！</p><p id="a23f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当使用<a class="ae ma" href="https://github.com/cycraft/vue-intellisense" rel="noopener ugc nofollow" target="_blank"> Vue IntelliSense </a>时，如果您开始添加JSDoc文档，您现在有了一个在VSCode <em class="kl">和</em>中获得IntelliSense的简单方法，尝试Vue-Styleguidist也很容易！</p></div></div>    
</body>
</html>