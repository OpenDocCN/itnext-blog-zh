<html>
<head>
<title>Introduction to Technical Analysis in Python using TA-Lib</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用TA-Lib介绍Python中的技术分析</h1>
<blockquote>原文：<a href="https://itnext.io/introduction-to-technical-analysis-in-python-using-ta-lib-ac1562849b1e?source=collection_archive---------2-----------------------#2022-02-16">https://itnext.io/introduction-to-technical-analysis-in-python-using-ta-lib-ac1562849b1e?source=collection_archive---------2-----------------------#2022-02-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/bee751a4a680f897d670e5fe0fcad714.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uArkQ1qBx9qbPZtp.jpg"/></div></div></figure><p id="b0f2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在本教程中，我将讨论TA-Lib，这是一个用于Python应用程序的技术分析库。在我继续讨论如何用Python进行技术分析之前，请允许我讨论一下什么是技术分析，以及它如何帮助你决定是购买、出售还是持有一项资产。</p><h1 id="5d10" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">什么是技术分析</h1><p id="6700" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">来自<a class="ae lz" href="https://www.investopedia.com/terms/t/technicalanalysis.asp" rel="noopener ugc nofollow" target="_blank"> Investopedia </a>:</p><blockquote class="ma mb mc"><p id="2106" class="jy jz md ka b kb kc kd ke kf kg kh ki me kk kl km mf ko kp kq mg ks kt ku kv ij bi translated">技术分析是一门交易学科，通过分析从交易活动中收集的统计趋势(如价格变动和交易量)来评估投资和识别交易机会。</p></blockquote><p id="14b3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">简而言之，它是对过去和当前数据的研究，并试图找出接下来会发生什么。你使用指标，并试图找出不同的模式，以帮助决策。</p><p id="8262" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">另一方面，<em class="md">基本面分析</em>就是根据公司的财务状况做出决策，比如年度/季度利润、市盈率等。</p><h1 id="bb29" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">开发设置</h1><p id="4bae" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">安装TA-Lib python包装器相当容易。所有人都需要执行<code class="fe mh mi mj mk b">pip</code>命令:</p><p id="5acf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mh mi mj mk b">pip install TA-Lib</code></p><p id="a8ec" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您必须安装TA-Lib库本身，以便可以在您的应用程序中使用它。在macOS上，您可以通过自制软件安装:</p><p id="1cd0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mh mi mj mk b">brew install ta-lib</code></p><p id="0821" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你使用的是Linux或Windows，那么你可以在这里得到详细信息<a class="ae lz" href="https://ta-lib.org/hdr_dw.html" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="befc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我还安装了雅虎财务库来获取我们需要的数据:</p><p id="2529" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mh mi mj mk b">pip install yfinance</code></p><p id="0181" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">好吧！所以一切都准备好了。现在，在我们开始使用这个库之前，我们必须了解一些技术分析的基础知识，以及TA-Lib如何帮助我们实现目标。</p><p id="11dc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于本教程，我将使用雅虎财经和<strong class="ka ir"><em class="md">Jupyter Notebook</em></strong>来获取数据，因为它们使编写交互式代码变得容易。使用<code class="fe mh mi mj mk b">jupyter notebook</code>命令启动IDE并创建一个新文件<strong class="ka ir"> Analysis Intro.ipynb </strong>。</p><p id="5030" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我要做的第一件事就是导入所有需要的库:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="3fec" class="mt kx iq mk b gy mu mv l mw mx"># All Imports<br/>import yfinance as yf<br/>import talib as ta<br/>import pandas as pd</span></pre><p id="d20c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们将分析已经下跌了25%的脸书股票，正如文章所说，最近几天有数百万用户退出了FB。</p><p id="ea50" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们要检查的第一件事是这张纸的<em class="md">简单移动平均线(SMA) </em>。</p><h2 id="77d5" class="mt kx iq bd ky my mz dn lc na nb dp lg kj nc nd lk kn ne nf lo kr ng nh ls ni bi translated">什么是移动平均线</h2><p id="6923" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">如果你注意到一个股票价格的图表，你会发现它波动很大。这种波动可能导致产生错误信号。移动平均线(MA)有助于从随机的价格变动中过滤出噪音，并使其平滑，以便看到平均值。MAs用于确定趋势和反转。当价格高于均线时，我们说这是一个<em class="md">上升趋势</em>，否则是一个<em class="md">下降趋势</em>。它们也用于识别<em class="md">支撑</em>和<em class="md">阻力</em>的区域。MAs基于过去的价格，也被称为<em class="md">滞后指标</em>。当价格穿过MA时，是买入的信号，当价格向下穿过MA时，是卖出的信号。MAs有两种类型:简单型和指数型</p><ul class=""><li id="1a32" class="nj nk iq ka b kb kc kf kg kj nl kn nm kr nn kv no np nq nr bi translated"><strong class="ka ir">简单移动平均线:- </strong>简单移动平均线(SMA)是一种计算方法，采用过去特定天数内一组给定(<em class="md">收盘</em>)价格的算术平均值；例如，在过去的15、30、100或200天内(<em class="md">来源:Investopedia </em>)。</li><li id="e3e5" class="nj nk iq ka b kb ns kf nt kj nu kn nv kr nw kv no np nq nr bi translated"><strong class="ka ir">指数移动平均线:- </strong>指数移动平均线(EMA)是一种加权平均线，对最近几天的股票价格给予更大的重视，使其成为对新信息更敏感的指标(<em class="md">来源:Investopedia </em>)。</li></ul><p id="0d00" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你在图上画均线和均线，你会发现均线比均线更接近实际的图表，因为均线比均线反应更快。这就是SMA被认为是滞后指标的原因。MAs可用于不同的时间段:10、20、500、100、200。10–20代表短期趋势，50代表中期趋势，200代表长期趋势。</p><p id="6821" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">马背景讨论够了，我们来写点代码吧！</p><p id="f286" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">首先，我将从年初至今获取FB股票价格数据。</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="7dc9" class="mt kx iq mk b gy mu mv l mw mx"># Facebook Historial Data<br/>fb = yf.Ticker("FB")<br/>df = fb.history(start="2022-01-03")<br/>df</span></pre><p id="eee9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">数据现在可以在pandas数据框架中获得，让我们绘制一个图表，显示收盘价和收盘价的SMA数据</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="a491" class="mt kx iq mk b gy mu mv l mw mx">plt.style.use('fivethirtyeight')<br/>df['MA'] = ta.SMA(df['Close'],timeperiod=5)<br/>df[['Close','MA']].plot(figsize=(8,8))<br/>plt.show()</span></pre><p id="0649" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当我执行笔记本中的代码时，它会生成以下内容:</p><figure class="ml mm mn mo gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nx"><img src="../Images/eaa71e38b76faab6cb9111498b2c1481.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UJhkXsHJLVEiCjeW.png"/></div></div></figure><p id="0e98" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如你所见，与收盘图不同，SMA图更平滑。让我们给它添加一个均线图。</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="1b7f" class="mt kx iq mk b gy mu mv l mw mx">plt.style.use('fivethirtyeight')<br/>df['MA'] = ta.SMA(df['Close'],timeperiod=5)<br/>df['EMA'] = ta.EMA(df['Close'], timeperiod = 5)<br/>df[['Close','MA','EMA']].plot(figsize=(8,8))<br/>plt.show()</span></pre><p id="599d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当我运行这段代码时，图表如下所示:</p><figure class="ml mm mn mo gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nx"><img src="../Images/dcfddf01f4bc61db743bfc31b34692bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Mg4g70_ShM32GKqc.png"/></div></div></figure><p id="4583" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可以注意到，均线图比均线图反应慢，它决定下跌趋势比均线图慢。</p><h2 id="04f1" class="mt kx iq bd ky my mz dn lc na nb dp lg kj nc nd lk kn ne nf lo kr ng nh ls ni bi translated">什么是相对强度指数(RSI)</h2><p id="bdf5" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">RSI是一个动量指标，有助于了解某个股票是超买还是超卖。其值介于0-100之间。如果在<em class="md"> 30 </em>以下，说明超卖，有机会买入。如果价格高于<em class="md"> 70 </em>，意味着超买，这是抛售股票的好机会。让我们计算并绘制FB/Meta股票的RSI。我们来查一下FB的RSI。</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="1c7c" class="mt kx iq mk b gy mu mv l mw mx"># RSI<br/>df['RSI'] = ta.RSI(df['Close'],14)<br/>df['RSI'].plot(figsize=(8,8),marker='o')<br/>df.tail(10)</span></pre><p id="778e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它会产生。14是计算它的默认期间。</p><figure class="ml mm mn mo gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nx"><img src="../Images/abe8da087ed5eb2fe087f70ee86ddfad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*iwia4b9uTFWNvWAQ.png"/></div></div></figure><p id="5289" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">正如你所看到的，在2月1日和2日之间有一个大的反弹，然后在2月3日到9日之间被严重抛售，看起来它试图再次恢复。</p><h1 id="1655" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">结论</h1><p id="0333" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">在本教程中，我们学习了如何使用TA-Lib和图表来计算你的下一个交易策略。这篇文章不可能涵盖与TA-Lib相关的所有内容，但我希望它能让你知道下一步该做什么。您可以创建一个机器人来检查RSI值并定期发出信号。像往常一样，这些代码可以在Github上找到。</p></div><div class="ab cl ny nz hu oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="ij ik il im in"><p id="4bec" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="md">原载于2022年2月16日</em><a class="ae lz" href="http://blog.adnansiddiqi.me/introduction-to-technical-analysis-in-python-using-ta-lib/" rel="noopener ugc nofollow" target="_blank"><em class="md">http://blog . adnansiddiqi . me</em></a><em class="md">。</em></p></div></div>    
</body>
</html>