<html>
<head>
<title>Incremental Type Driven Development in Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">增量式驱动开发</h1>
<blockquote>原文：<a href="https://itnext.io/incremental-type-driven-development-in-angular-2dfd8f062551?source=collection_archive---------2-----------------------#2021-06-26">https://itnext.io/incremental-type-driven-development-in-angular-2dfd8f062551?source=collection_archive---------2-----------------------#2021-06-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/274f24d2685f3c35a56e33e630715a5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1138/format:webp/1*HLMoJwp3I33k7o_e_2q7CA.png"/></div></figure><p id="148b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">所有的软件工程师在日常工作中都依赖于两件重要的事情。</p><blockquote class="ks"><p id="669d" class="kt ku iq bd kv kw kx ky kz la lb kr dk translated">一门<strong class="ak">编程语言</strong>和大量<strong class="ak">数据！</strong></p></blockquote><p id="9789" class="pw-post-body-paragraph ju jv iq jw b jx lc jz ka kb ld kd ke kf le kh ki kj lf kl km kn lg kp kq kr ij bi translated">例如，前端开发人员依赖于网络语言，即JavaScript <em class="lh">(当然还有Html)</em>。他们用它来<strong class="jw ir">获取</strong>、<strong class="jw ir">转换</strong>、<strong class="jw ir">发送</strong>来自任何来源或目的地的不同种类的数据。然而，为了有效地操作数据，开发人员依赖于类型系统，例如我们在Typescript语言中发现的类型系统。</p></div><div class="ab cl li lj hu lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ij ik il im in"><h1 id="1dda" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">使用类型化数据模型编程</h1><p id="ea1e" class="pw-post-body-paragraph ju jv iq jw b jx mn jz ka kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ij bi translated">我们都知道在代码和数据中有一个合适的结构是多么的重要，因此，我们将会看到一个非常有用的，但是有点非传统的，为产品开发新特性的方法</p><blockquote class="ks"><p id="b064" class="kt ku iq bd kv kw kx ky kz la lb kr dk translated">向后思考基本模型结构！</p></blockquote><h2 id="d5f9" class="ms lq iq bd lr mt mu dn lv mv mw dp lz kf mx my md kj mz na mh kn nb nc ml nd bi translated">用例</h2><p id="8d41" class="pw-post-body-paragraph ju jv iq jw b jx mn jz ka kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ij bi translated">让我们决定这个项目的目标。我们将构建一个web应用程序，显示国家及其国旗列表。</p><h2 id="37de" class="ms lq iq bd lr mt ne dn lv mv nf dp lz kf ng my md kj nh na mh kn ni nc ml nd bi translated">技术</h2><p id="5414" class="pw-post-body-paragraph ju jv iq jw b jx mn jz ka kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ij bi translated">我们将使用<a class="ae nj" href="https://angular.io/" rel="noopener ugc nofollow" target="_blank"> Angular </a>和2个外部API:</p><ul class=""><li id="3a75" class="nk nl iq jw b jx jy kb kc kf nm kj nn kn no kr np nq nr ns bi translated"><a class="ae nj" href="http://restcountries.eu/" rel="noopener ugc nofollow" target="_blank"> restcountries.eu </a></li><li id="6242" class="nk nl iq jw b jx nt kb nu kf nv kj nw kn nx kr np nq nr ns bi translated"><a class="ae nj" href="https://www.countryflags.io/" rel="noopener ugc nofollow" target="_blank"> countryflags.io </a></li></ul><h2 id="6f18" class="ms lq iq bd lr mt ne dn lv mv nf dp lz kf ng my md kj nh na mh kn ni nc ml nd bi translated">指导方针</h2><p id="7338" class="pw-post-body-paragraph ju jv iq jw b jx mn jz ka kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ij bi translated">让我们也使用3条规则，让我们朝着正确的方向前进:</p><ol class=""><li id="4958" class="nk nl iq jw b jx jy kb kc kf nm kj nn kn no kr ny nq nr ns bi translated">你许了什么愿？</li><li id="1a96" class="nk nl iq jw b jx nt kb nu kf nv kj nw kn nx kr ny nq nr ns bi translated">假装直到你成功。</li><li id="178d" class="nk nl iq jw b jx nt kb nu kf nv kj nw kn nx kr ny nq nr ns bi translated">之后移除硬编码。</li></ol><p id="6a89" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">所以让我们继续…</p></div><div class="ab cl li lj hu lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ij ik il im in"><h2 id="0715" class="ms lq iq bd lr mt ne dn lv mv nf dp lz kf ng my md kj nh na mh kn ni nc ml nd bi translated">起步</h2><p id="627b" class="pw-post-body-paragraph ju jv iq jw b jx mn jz ka kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ij bi translated">最初创建新的角度项目</p><pre class="nz oa ob oc gt od oe of og aw oh bi"><span id="5b64" class="ms lq iq oe b gy oi oj l ok ol">ng new ng-itdd</span></pre><h2 id="2138" class="ms lq iq bd lr mt ne dn lv mv nf dp lz kf ng my md kj nh na mh kn ni nc ml nd bi translated">第一步</h2><p id="904c" class="pw-post-body-paragraph ju jv iq jw b jx mn jz ka kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ij bi translated">然后，创建一个名为“Countries”的新组件</p><pre class="nz oa ob oc gt od oe of og aw oh bi"><span id="e2b5" class="ms lq iq oe b gy oi oj l ok ol">ng g c Countries</span></pre><p id="f03e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">并在我们的应用中使用它</p><figure class="nz oa ob oc gt jr"><div class="bz fp l di"><div class="om on l"/></div></figure><h2 id="43c9" class="ms lq iq bd lr mt ne dn lv mv nf dp lz kf ng my md kj nh na mh kn ni nc ml nd bi translated">第二步</h2><p id="777b" class="pw-post-body-paragraph ju jv iq jw b jx mn jz ka kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ij bi translated">现在让我们记住我们的第一条规则:</p><blockquote class="oo op oq"><p id="340f" class="ju jv lh jw b jx jy jz ka kb kc kd ke or kg kh ki os kk kl km ot ko kp kq kr ij bi translated">你许了什么愿？</p></blockquote><p id="d686" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">回答:</p><blockquote class="oo op oq"><p id="3884" class="ju jv lh jw b jx jy jz ka kb kc kd ke or kg kh ki os kk kl km ot ko kp kq kr ij bi translated">国家列表！</p></blockquote><p id="36ab" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这就是我们将要做的，即画出一个国家的名单。</p><p id="3341" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们更新我们的观点，即countries.component.html</p><figure class="nz oa ob oc gt jr"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="e920" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这才是有趣的地方！</p><p id="556c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">看一下console.log错误</p><figure class="nz oa ob oc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ov ow di ox bf oy"><div class="gh gi ou"><img src="../Images/64e6fccb83db1c1f295a130014b22593.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2AW1bnPzzgJU19jQN6x97A.png"/></div></div><figcaption class="oz pa gj gh gi pb pc bd b be z dk translated">角度Cli误差</figcaption></figure><p id="d903" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">精彩！😁顺便说一句，当你决定那样工作时，你会看到很多这样的错误。</p><h2 id="71b9" class="ms lq iq bd lr mt ne dn lv mv nf dp lz kf ng my md kj nh na mh kn ni nc ml nd bi translated">第三步</h2><p id="4f03" class="pw-post-body-paragraph ju jv iq jw b jx mn jz ka kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ij bi translated">记住第二条规则:</p><blockquote class="oo op oq"><p id="074f" class="ju jv lh jw b jx jy jz ka kb kc kd ke or kg kh ki os kk kl km ot ko kp kq kr ij bi translated">假装直到你成功！</p></blockquote><p id="9a00" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">因此，让我们创建一个国家对象，并假设它以某种方式提供；)</p><figure class="nz oa ob oc gt jr"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="5ec2" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们给自己一个要显示的对象，即<em class="lh">国家</em>，并给它分配一个类型。<strong class="jw ir">国</strong>式是故意<em class="lh">留空</em>的，因为这是主旨。一旦我们发现我们实际上用它做什么和什么时候做，我们将用更多的属性填充它。</p><p id="762c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">顺便说一句…没有错误！</p><figure class="nz oa ob oc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ov ow di ox bf oy"><div class="gh gi pd"><img src="../Images/b29f412880bbe89d7ae0dab77eb63389.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4uP08Jt9i3kwFGyjAhv4-A.png"/></div></div><figcaption class="oz pa gj gh gi pb pc bd b be z dk translated">编译成功</figcaption></figure><p id="d225" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">很好！</p><h2 id="5668" class="ms lq iq bd lr mt ne dn lv mv nf dp lz kf ng my md kj nh na mh kn ni nc ml nd bi translated">第四步</h2><p id="8583" class="pw-post-body-paragraph ju jv iq jw b jx mn jz ka kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ij bi translated">现在让我们“假装”一下，即通过AppComponent将它提供给CountriesComponent</p><figure class="nz oa ob oc gt jr"><div class="bz fp l di"><div class="om on l"/></div></figure><h2 id="e226" class="ms lq iq bd lr mt ne dn lv mv nf dp lz kf ng my md kj nh na mh kn ni nc ml nd bi translated">第五步</h2><p id="29ae" class="pw-post-body-paragraph ju jv iq jw b jx mn jz ka kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ij bi translated">现在，记住第三条规则:</p><blockquote class="oo op oq"><p id="0ed5" class="ju jv lh jw b jx jy jz ka kb kc kd ke or kg kh ki os kk kl km ot ko kp kq kr ij bi translated">去掉硬编码！</p></blockquote><p id="48db" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">为此，我们需要从某个地方检索国家列表。让我们使用Angular的http客户端，通过应用最佳实践，连接到远程REST api。</p><figure class="nz oa ob oc gt jr"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="f3be" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这里发生了很多事情:</p><ul class=""><li id="d162" class="nk nl iq jw b jx jy kb kc kf nm kj nn kn no kr np nq nr ns bi translated">App组件现在通过一个可注入的</li><li id="0bd2" class="nk nl iq jw b jx nt kb nu kf nv kj nw kn nx kr np nq nr ns bi translated">CountriesService injectable通过REST api异步提供列表</li></ul><p id="97af" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">是啊。但是最终的结果并不是我们所期望的</p><figure class="nz oa ob oc gt jr gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/f388ca89debf2704aab67bd0262257ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*jjvM65TrzoPjOriV7MusLg.png"/></div></figure><h1 id="846b" class="lp lq iq bd lr ls pf lu lv lw pg ly lz ma ph mc md me pi mg mh mi pj mk ml mm bi">🤔…</h1><blockquote class="ks"><p id="39f0" class="kt ku iq bd kv kw kx ky kz la lb kr dk translated">出问题了！</p></blockquote><h2 id="6fed" class="ms lq iq bd lr mt mu dn lv mv mw dp lz kf mx my md kj mz na mh kn nb nc ml nd bi translated">第六步</h2><p id="3fc2" class="pw-post-body-paragraph ju jv iq jw b jx mn jz ka kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ij bi translated">啊哈！💡我拿到了。</p><p id="dadb" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在让我们从头开始…规则一！</p><blockquote class="oo op oq"><p id="0773" class="ju jv lh jw b jx jy jz ka kb kc kd ke or kg kh ki os kk kl km ot ko kp kq kr ij bi translated">我想要一个国家的列表，特别是一个带有代码的国家名称列表！</p></blockquote><p id="5422" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">所以你去那里…</p><figure class="nz oa ob oc gt jr"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="75ce" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">你知道这是怎么回事了。我们从最终结果开始，然后我们往回走，即创建我们的模型，定义它们的类型，然后我们伪造结果，直到我们找到获得它的方法。</p><p id="3224" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">就是这个想法！</p><p id="a97e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在看看我们得到了什么结果</p><figure class="nz oa ob oc gt jr gh gi paragraph-image"><div class="gh gi pk"><img src="../Images/3ff697048afa0e1feb179d7d65c02955.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/1*lFQ0zCAZFQKklJBCp-WChg.png"/></div></figure><p id="a5e7" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这是什么()？</p><h2 id="bcb1" class="ms lq iq bd lr mt ne dn lv mv nf dp lz kf ng my md kj nh na mh kn ni nc ml nd bi translated">第七步</h2><p id="7584" class="pw-post-body-paragraph ju jv iq jw b jx mn jz ka kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ij bi translated">看起来<em class="lh"> county.code </em>没有显示任何内容。</p><p id="66cb" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们看看api给了我们什么:</p><figure class="nz oa ob oc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ov ow di ox bf oy"><div class="gh gi pl"><img src="../Images/d1f49542c8ee0cb255392fa7a04dc1f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w2bN-lEORPygpuTLDnGs4Q.png"/></div></div></figure><p id="715d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">啊！我们有一个<em class="lh">名字</em>，但是我们有<em class="lh"> alpha2Code </em>而不是Code。而我们现在能做什么来解决这个问题。</p><p id="bee6" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">答案是:</p><blockquote class="ks"><p id="53ee" class="kt ku iq bd kv kw kx ky kz la lb kr dk translated">地图绘制者！</p></blockquote><figure class="pm pn po pp pq jr"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="f0b6" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">主要思想是创建一个期望的视图模型。然后，必须创建一个从原始模型到视图模型的映射器，在对提供者进行一些修改之后，结果是</p><figure class="nz oa ob oc gt jr gh gi paragraph-image"><div class="gh gi pr"><img src="../Images/d0f81ef35f23f98318b86c018700ea37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/1*pnQyZQxMbR7XZ0V_om165A.png"/></div></figure><p id="b54c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">完美！</p><h2 id="3fb5" class="ms lq iq bd lr mt ne dn lv mv nf dp lz kf ng my md kj nh na mh kn ni nc ml nd bi translated">第八步</h2><p id="3980" class="pw-post-body-paragraph ju jv iq jw b jx mn jz ka kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ij bi translated">现在，通过一次又一次地应用这3条规则重复同样的过程，我们最终使用了另一个提供美国国旗的api，因此…</p><figure class="nz oa ob oc gt jr"><div class="bz fp l di"><div class="om on l"/></div></figure><h2 id="f467" class="ms lq iq bd lr mt ne dn lv mv nf dp lz kf ng my md kj nh na mh kn ni nc ml nd bi translated">决赛成绩</h2><figure class="nz oa ob oc gt jr gh gi paragraph-image"><div class="gh gi ps"><img src="../Images/3c99c0c18e850ebbf45f62564189474a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1186/format:webp/1*tCXIxd7vopd44xYKtLa8Aw.png"/></div><figcaption class="oz pa gj gh gi pb pc bd b be z dk translated">有国旗的国家</figcaption></figure><h1 id="5e2f" class="lp lq iq bd lr ls pf lu lv lw pg ly lz ma ph mc md me pi mg mh mi pj mk ml mm bi translated">最后的想法</h1><p id="5193" class="pw-post-body-paragraph ju jv iq jw b jx mn jz ka kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ij bi translated">从你想去的地方(特性)开始，通过更新模型，更新它的类型，并适当地调整代码库。实现最终目标的一种经过验证的有效且安全的方法，加上类型安全，以及适当的工具(cli、IDE intellisense ),我们开发人员可以确定最终产品的结果。</p><p id="9018" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">注意:项目的源代码可以在这里找到<a class="ae nj" href="https://github.com/margaris23/ng-itdd" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="dd5d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="lh">感谢</em><a class="ae nj" href="https://www.youtube.com/watch?v=mrwn2HuWUiA" rel="noopener ugc nofollow" target="_blank"><em class="lh">Dillon Kearns</em></a><em class="lh">对Elm中增量式驱动开发的见解</em></p></div></div>    
</body>
</html>