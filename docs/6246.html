<html>
<head>
<title>pflag — Better parse command line flags in PHP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">pflag —更好地解析PHP中的命令行标志</h1>
<blockquote>原文：<a href="https://itnext.io/better-parse-command-line-flags-in-php-1ae17c439e51?source=collection_archive---------7-----------------------#2021-09-28">https://itnext.io/better-parse-command-line-flags-in-php-1ae17c439e51?source=collection_archive---------7-----------------------#2021-09-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class="jn jo gp gr jp jq"><a href="https://github.com/php-toolkit/pflag" rel="noopener  ugc nofollow" target="_blank"><div class="jr ab fo"><div class="js ab jt cl cj ju"><h2 class="bd ir gy z fp jv fr fs jw fu fw ip bi translated">GitHub - php-toolkit/pflag:通用php命令行标志解析库</h2><div class="jx l"><h3 class="bd b gy z fp jv fr fs jw fu fw dk translated">通用PHP命令行标志解析库。通过在…上创建帐户，为php-toolkit/pflag开发做出贡献</h3></div><div class="jy l"><p class="bd b dl z fp jv fr fs jw fu fw dk translated">github.com</p></div></div><div class="jz l"><div class="ka l kb kc kd jz ke kf jq"/></div></div></a></div><p id="0e1a" class="pw-post-body-paragraph kg kh iq ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld ij bi translated"><a class="ae le" href="https://github.com/php-toolkit/pflag" rel="noopener ugc nofollow" target="_blank"> toolkit/pflag </a>是一个通用的PHP命令行标志解析库</p><h1 id="bff1" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">特征</h1><ul class=""><li id="ed94" class="md me iq ki b kj mf kn mg kr mh kv mi kz mj ld mk ml mm mn bi translated">通用CLI选项和参数解析器。</li><li id="9223" class="md me iq ki b kj mo kn mp kr mq kv mr kz ms ld mk ml mm mn bi translated">支持设定值数据类型(<code class="fe mt mu mv mw b">int,string,bool,array</code>)，会自动格式化输入值。</li><li id="5a97" class="md me iq ki b kj mo kn mp kr mq kv mr kz ms ld mk ml mm mn bi translated">支持为选项/参数设置默认值。</li><li id="4dc8" class="md me iq ki b kj mo kn mp kr mq kv mr kz ms ld mk ml mm mn bi translated">支持从环境变量读取标志值。</li><li id="16c5" class="md me iq ki b kj mo kn mp kr mq kv mr kz ms ld mk ml mm mn bi translated">需要支持集选项/参数。</li><li id="b2ae" class="md me iq ki b kj mo kn mp kr mq kv mr kz ms ld mk ml mm mn bi translated">支持为检查输入值设置验证器。</li><li id="f8e2" class="md me iq ki b kj mo kn mp kr mq kv mr kz ms ld mk ml mm mn bi translated">支持自动渲染美丽的帮助信息。</li></ul><p id="5d82" class="pw-post-body-paragraph kg kh iq ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld ij bi translated">标志参数:</p><ul class=""><li id="1f7b" class="md me iq ki b kj kk kn ko kr mx kv my kz mz ld mk ml mm mn bi translated">支持名为arguemnt的绑定</li><li id="d549" class="md me iq ki b kj mo kn mp kr mq kv mr kz ms ld mk ml mm mn bi translated">支持定义数组参数</li></ul><p id="2f21" class="pw-post-body-paragraph kg kh iq ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld ij bi translated">标志选项:</p><ul class=""><li id="ea3b" class="md me iq ki b kj kk kn ko kr mx kv my kz mz ld mk ml mm mn bi translated">支持长选项。<code class="fe mt mu mv mw b">--long</code> <code class="fe mt mu mv mw b">--long value</code></li><li id="5df8" class="md me iq ki b kj mo kn mp kr mq kv mr kz ms ld mk ml mm mn bi translated">支持短选项<code class="fe mt mu mv mw b">-s -a value</code>，允许设置多个短名称。</li><li id="109e" class="md me iq ki b kj mo kn mp kr mq kv mr kz ms ld mk ml mm mn bi translated">支持定义数组选项</li><li id="81f8" class="md me iq ki b kj mo kn mp kr mq kv mr kz ms ld mk ml mm mn bi translated"><code class="fe mt mu mv mw b">--tag php --tag go</code>会得到<code class="fe mt mu mv mw b">tag: [php, go]</code></li></ul><h1 id="eaa1" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">安装</h1><p id="d6d4" class="pw-post-body-paragraph kg kh iq ki b kj mf kl km kn mg kp kq kr na kt ku kv nb kx ky kz nc lb lc ld ij bi translated">设计者</p><pre class="nd ne nf ng gt nh mw ni nj aw nk bi"><span id="080b" class="nl lg iq mw b gy nm nn l no np">composer require toolkit/pflag</span></pre></div><div class="ab cl nq nr hu ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ij ik il im in"><h1 id="b849" class="lf lg iq bd lh li nx lk ll lm ny lo lp lq nz ls lt lu oa lw lx ly ob ma mb mc bi translated">标志用法</h1><p id="c621" class="pw-post-body-paragraph kg kh iq ki b kj mf kl km kn mg kp kq kr na kt ku kv nb kx ky kz nc lb lc ld ij bi translated">标志—是cli标志(选项和参数)解析器和管理器。</p><blockquote class="oc od oe"><p id="d68b" class="kg kh of ki b kj kk kl km kn ko kp kq og ks kt ku oh kw kx ky oi la lb lc ld ij bi translated"><em class="iq">示例代码请参见</em><a class="ae le" href="https://github.com/php-toolkit/pflag/blob/main/example/flags-demo.php" rel="noopener ugc nofollow" target="_blank"><em class="iq">example/flags-demo . PHP</em></a></p></blockquote><h1 id="f1c8" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">创建标志</h1><pre class="nd ne nf ng gt nh mw ni nj aw nk bi"><span id="78f3" class="nl lg iq mw b gy nm nn l no np">use Toolkit\PFlag\Flags;</span><span id="a4ec" class="nl lg iq mw b gy oj nn l no np">require dirname(__DIR__) . '/test/bootstrap.php';</span><span id="5868" class="nl lg iq mw b gy oj nn l no np">$flags = $_SERVER['argv'];<br/>// NOTICE: must shift first element.<br/>$scriptFile = array_shift($flags);</span><span id="8d2e" class="nl lg iq mw b gy oj nn l no np">$fs = Flags::new();<br/>// can with some config<br/>$fs-&gt;setScriptFile($scriptFile);<br/>/** @see Flags::$settings */<br/>$fs-&gt;setSettings([<br/>    'descNlOnOptLen' =&gt; 26<br/>]);</span><span id="b887" class="nl lg iq mw b gy oj nn l no np">// ...</span></pre><h1 id="13e4" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">定义选项</h1><p id="4be1" class="pw-post-body-paragraph kg kh iq ki b kj mf kl km kn mg kp kq kr na kt ku kv nb kx ky kz nc lb lc ld ij bi translated">添加标志选项定义的示例:</p><pre class="nd ne nf ng gt nh mw ni nj aw nk bi"><span id="f1e5" class="nl lg iq mw b gy nm nn l no np">use Toolkit\PFlag\Flag\Option;<br/>use Toolkit\PFlag\FlagType;<br/>use Toolkit\PFlag\Validator\EnumValidator;</span><span id="e3fe" class="nl lg iq mw b gy oj nn l no np">// add options<br/>// - quick add<br/>$fs-&gt;addOpt('age', 'a', 'this is a int option', FlagType::INT);</span><span id="245c" class="nl lg iq mw b gy oj nn l no np">// - use string rule<br/>$fs-&gt;addOptByRule('name,n', 'string;this is a string option;true');</span><span id="fd75" class="nl lg iq mw b gy oj nn l no np">// -- add multi option at once.<br/>$fs-&gt;addOptsByRules([<br/>    'tag,t' =&gt; 'strings;array option, allow set multi times',<br/>    'f'     =&gt; 'bool;this is an bool option',<br/>]);</span><span id="236c" class="nl lg iq mw b gy oj nn l no np">// - use array rule<br/>/** @see Flags::DEFINE_ITEM for array rule */<br/>$fs-&gt;addOptByRule('name-is-very-lang', [<br/>    'type'   =&gt; FlagType::STRING,<br/>    'desc'   =&gt; 'option name is to lang, desc will print on newline',<br/>    'shorts' =&gt; ['d','e','f'],<br/>    // TIP: add validator limit input value.<br/>    'validator' =&gt; EnumValidator::new(['one', 'two', 'three']),<br/>]);</span><span id="c000" class="nl lg iq mw b gy oj nn l no np">// - use Option<br/>$opt = Option::new('str1', "this is  string option, \ndesc has multi line, \nhaha...");<br/>$opt-&gt;setDefault('defVal');<br/>$fs-&gt;addOption($opt);</span></pre><h1 id="1903" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">定义参数</h1><pre class="nd ne nf ng gt nh mw ni nj aw nk bi"><span id="6411" class="nl lg iq mw b gy nm nn l no np"><em class="of">/**<br/> * Add an argument<br/> *<br/> * </em><strong class="mw ir"><em class="of">@param </em></strong><em class="of">string $name<br/> * </em><strong class="mw ir"><em class="of">@param </em></strong><em class="of">string $desc<br/> * </em><strong class="mw ir"><em class="of">@param </em></strong><em class="of">string $type The argument data type. default is: string. {</em><strong class="mw ir"><em class="of">@see </em></strong><em class="of">FlagType}<br/> * </em><strong class="mw ir"><em class="of">@param </em></strong><em class="of">bool   $required<br/> * </em><strong class="mw ir"><em class="of">@param </em></strong><em class="of">mixed  $default<br/> * </em><strong class="mw ir"><em class="of">@param </em></strong><em class="of">array  $moreInfo<br/> *<br/> * </em><strong class="mw ir"><em class="of">@psalm-param </em></strong><em class="of">array{helpType: string} $moreInfo<br/> *<br/> * </em><strong class="mw ir"><em class="of">@return </em></strong><em class="of">self<br/> */<br/></em>public function addArg<em class="of">(<br/>    </em>string $name,<br/>    string $desc,<br/>    string $type = '',<br/>    bool $required = false,<br/>    $default = null,<br/>    array $moreInfo = <em class="of">[]<br/>)</em></span></pre><p id="6074" class="pw-post-body-paragraph kg kh iq ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld ij bi translated">添加标志参数的示例定义:</p><pre class="nd ne nf ng gt nh mw ni nj aw nk bi"><span id="21a8" class="nl lg iq mw b gy nm nn l no np">use Toolkit\PFlag\Flag\Argument;<br/>use Toolkit\PFlag\FlagType;</span><span id="725e" class="nl lg iq mw b gy oj nn l no np">// add arguments<br/>// - quick add<br/>$fs-&gt;addArg('strArg1', 'the is string arg and is required', 'string', true);</span><span id="0025" class="nl lg iq mw b gy oj nn l no np">// - use string rule<br/>$fs-&gt;addArgByRule('intArg2', 'int;this is a int arg and with default value;no;89');</span><span id="1179" class="nl lg iq mw b gy oj nn l no np">// - use Argument object<br/>$arg = Argument::new('arrArg');<br/>// OR $arg-&gt;setType(FlagType::ARRAY);<br/>$arg-&gt;setType(FlagType::STRINGS);<br/>$arg-&gt;setDesc("this is an array arg,\n allow multi value,\n must define at last");</span><span id="e8af" class="nl lg iq mw b gy oj nn l no np">$fs-&gt;addArgument($arg);</span></pre><h1 id="d560" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">解析输入</h1><pre class="nd ne nf ng gt nh mw ni nj aw nk bi"><span id="3995" class="nl lg iq mw b gy nm nn l no np">use Toolkit\PFlag\Flags;<br/>use Toolkit\PFlag\FlagType;</span><span id="d62c" class="nl lg iq mw b gy oj nn l no np">// ...</span><span id="1fc3" class="nl lg iq mw b gy oj nn l no np">if (!$fs-&gt;parse($flags)) {<br/>    // on render help<br/>    return;<br/>}</span><span id="df06" class="nl lg iq mw b gy oj nn l no np">vdump($fs-&gt;getOpts(), $fs-&gt;getArgs());</span></pre><p id="37e1" class="pw-post-body-paragraph kg kh iq ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld ij bi translated"><strong class="ki ir">显示帮助</strong></p><p id="c720" class="pw-post-body-paragraph kg kh iq ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld ij bi translated">在终端中运行:</p><pre class="nd ne nf ng gt nh mw ni nj aw nk bi"><span id="4eab" class="nl lg iq mw b gy nm nn l no np">$ php example/flags-demo.php --help</span></pre><p id="686d" class="pw-post-body-paragraph kg kh iq ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld ij bi translated">输出:</p><figure class="nd ne nf ng gt ol gh gi paragraph-image"><div role="button" tabindex="0" class="om on di oo bf op"><div class="gh gi ok"><img src="../Images/426eb064b67e5e3df6e372a04dca78e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ud2HkBauzoLsXyc7.png"/></div></div></figure><p id="2e71" class="pw-post-body-paragraph kg kh iq ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld ij bi translated"><strong class="ki ir">运行演示</strong>:</p><pre class="nd ne nf ng gt nh mw ni nj aw nk bi"><span id="82c1" class="nl lg iq mw b gy nm nn l no np">$ php example/flags-demo.php --name inhere --age 99 --tag go -t php -t java -d one -f arg0 80 arr0 arr1</span></pre><p id="9b5f" class="pw-post-body-paragraph kg kh iq ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld ij bi translated">输出:</p><pre class="nd ne nf ng gt nh mw ni nj aw nk bi"><span id="1634" class="nl lg iq mw b gy nm nn l no np">array(6) {<br/>  ["str1"]=&gt; string(6) "defVal"<br/>  ["name"]=&gt; string(6) "inhere"<br/>  ["age"]=&gt; int(99)<br/>  ["tag"]=&gt; array(3) {<br/>    [0]=&gt; string(2) "go"<br/>    [1]=&gt; string(3) "php"<br/>    [2]=&gt; string(4) "java"<br/>  }<br/>  ["name-is-very-lang"]=&gt; string(3) "one"<br/>  ["f"]=&gt; bool(true)<br/>}<br/>array(3) {<br/>  [0]=&gt; string(4) "arg0"<br/>  [1]=&gt; int(80)<br/>  [2]=&gt; array(2) {<br/>    [0]=&gt; string(4) "arr0"<br/>    [1]=&gt; string(4) "arr1"<br/>  }<br/>}</span></pre></div><div class="ab cl nq nr hu ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ij ik il im in"><h1 id="224c" class="lf lg iq bd lh li nx lk ll lm ny lo lp lq nz ls lt lu oa lw lx ly ob ma mb mc bi translated">获得价值</h1><blockquote class="oc od oe"><p id="4eb6" class="kg kh of ki b kj kk kl km kn ko kp kq og ks kt ku oh kw kx ky oi la lb lc ld ij bi translated">获取标志值非常简单，可以使用方法getOpt(string $ name)getArg($ nameOrIndex)。将通过定义类型自动格式化输入值。</p></blockquote><p id="cebc" class="pw-post-body-paragraph kg kh iq ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld ij bi translated">选择</p><pre class="nd ne nf ng gt nh mw ni nj aw nk bi"><span id="3e97" class="nl lg iq mw b gy nm nn l no np">$force = $fs-&gt;getOpt('f'); // bool(true)<br/>$age  = $fs-&gt;getOpt('age'); // int(99)<br/>$name = $fs-&gt;getOpt('name'); // string(inhere)<br/>$tags = $fs-&gt;getOpt('tags'); // array{"php", "go", "java"}</span></pre><p id="8067" class="pw-post-body-paragraph kg kh iq ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld ij bi translated">争论</p><pre class="nd ne nf ng gt nh mw ni nj aw nk bi"><span id="be5a" class="nl lg iq mw b gy nm nn l no np">$arg0 = $fs-&gt;getArg(0); // string(arg0)<br/>// get an array arg<br/>$arrArg = $fs-&gt;getArg(1); // array{"arr0", "arr1"}<br/>// get value by name<br/>$arrArg = $fs-&gt;getArg('arrArg'); // array{"arr0", "arr1"}</span></pre></div><div class="ab cl nq nr hu ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ij ik il im in"><h1 id="2be4" class="lf lg iq bd lh li nx lk ll lm ny lo lp lq nz ls lt lu oa lw lx ly ob ma mb mc bi translated">标志规则</h1><p id="7920" class="pw-post-body-paragraph kg kh iq ki b kj mf kl km kn mg kp kq kr na kt ku kv nb kx ky kz nc lb lc ld ij bi translated">选项/参数规则。使用规则可以快速定义一个选项或参数。</p><ul class=""><li id="6a0d" class="md me iq ki b kj kk kn ko kr mx kv my kz mz ld mk ml mm mn bi translated">字符串值是规则(<code class="fe mt mu mv mw b">type;desc;required;default;shorts</code>)。</li><li id="7232" class="md me iq ki b kj mo kn mp kr mq kv mr kz ms ld mk ml mm mn bi translated">数组被定义项<code class="fe mt mu mv mw b">SFlags::DEFINE_ITEM</code></li><li id="383c" class="md me iq ki b kj mo kn mp kr mq kv mr kz ms ld mk ml mm mn bi translated">支持的类型见<code class="fe mt mu mv mw b">FlagType::*</code></li></ul><pre class="nd ne nf ng gt nh mw ni nj aw nk bi"><span id="073c" class="nl lg iq mw b gy nm nn l no np">$rules = [<br/>     // v: only value, as name and use default type FlagType::STRING<br/>     // k-v: key is name, value can be string|array<br/>     'long,s',<br/>     // name =&gt; rule<br/>     'long,s' =&gt; 'int',<br/>     'f'      =&gt; 'bool',<br/>     'long'   =&gt; FlagType::STRING,<br/>     'tags'   =&gt; 'array', // can also: ints, strings<br/>     'name'   =&gt; 'type;the description message;required;default', // with desc, default, required<br/>]</span></pre><p id="e67f" class="pw-post-body-paragraph kg kh iq ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld ij bi translated">对于选项</p><ul class=""><li id="0f32" class="md me iq ki b kj kk kn ko kr mx kv my kz mz ld mk ml mm mn bi translated">选项允许设置短裤</li></ul><blockquote class="oc od oe"><p id="7c70" class="kg kh of ki b kj kk kl km kn ko kp kq og ks kt ku oh kw kx ky oi la lb lc ld ij bi translated"><em class="iq">提示:名称</em> <code class="fe mt mu mv mw b"><em class="iq">long,s</em></code> <em class="iq"> — long为选项名称。剩下的是短名字。</em></p></blockquote><p id="73f7" class="pw-post-body-paragraph kg kh iq ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld ij bi translated">对于参数</p><ul class=""><li id="22a7" class="md me iq ki b kj kk kn ko kr mx kv my kz mz ld mk ml mm mn bi translated">无别名/简称</li><li id="70e2" class="md me iq ki b kj mo kn mp kr mq kv mr kz ms ld mk ml mm mn bi translated">数组值只允许最后定义</li></ul><p id="c658" class="pw-post-body-paragraph kg kh iq ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld ij bi translated">定义项目</p><p id="f8b4" class="pw-post-body-paragraph kg kh iq ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld ij bi translated">常量<code class="fe mt mu mv mw b">Flags::DEFINE_ITEM</code>:</p><pre class="nd ne nf ng gt nh mw ni nj aw nk bi"><span id="4728" class="nl lg iq mw b gy nm nn l no np">public const DEFINE_ITEM = [<br/>    'name'      =&gt; '',<br/>    'desc'      =&gt; '',<br/>    'type'      =&gt; FlagType::STRING,<br/>    'helpType'  =&gt; '', // use for render help<br/>    // 'index'    =&gt; 0, // only for argument<br/>    'required'  =&gt; false,<br/>    'default'   =&gt; null,<br/>    'shorts'    =&gt; [], // only for option<br/>    // value validator<br/>    'validator' =&gt; null,<br/>    // 'category' =&gt; null<br/>];</span></pre></div><div class="ab cl nq nr hu ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ij ik il im in"><h1 id="8975" class="lf lg iq bd lh li nx lk ll lm ny lo lp lq nz ls lt lu oa lw lx ly ob ma mb mc bi translated">定制设置</h1><h1 id="eb07" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">解析设置</h1><pre class="nd ne nf ng gt nh mw ni nj aw nk bi"><span id="8279" class="nl lg iq mw b gy nm nn l no np">// -------------------- settings for parse option ------------------</span><span id="668a" class="nl lg iq mw b gy oj nn l no np">    /**<br/>     * Stop parse option on found first argument.<br/>     *<br/>     * - Useful for support multi commands. eg: `top --opt ... sub --opt ...`<br/>     *<br/>     * @var bool<br/>     */<br/>    protected $stopOnFistArg = true;</span><span id="152a" class="nl lg iq mw b gy oj nn l no np">    /**<br/>     * Skip on found undefined option.<br/>     *<br/>     * - FALSE will throw FlagException error.<br/>     * - TRUE  will skip it and collect as raw arg, then continue parse next.<br/>     *<br/>     * @var bool<br/>     */<br/>    protected $skipOnUndefined = false;</span><span id="2a3d" class="nl lg iq mw b gy oj nn l no np">    // -------------------- settings for parse argument ------------</span><span id="bee2" class="nl lg iq mw b gy oj nn l no np">    /**<br/>     * Whether auto bind remaining args after option parsed<br/>     *<br/>     * @var bool<br/>     */<br/>    protected $autoBindArgs = true;</span><span id="0b39" class="nl lg iq mw b gy oj nn l no np">    /**<br/>     * Strict match args number.<br/>     * if exist unbind args, will throw FlagException<br/>     *<br/>     * @var bool<br/>     */<br/>    protected $strictMatchArgs = false;</span></pre><h1 id="7acf" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">渲染帮助的设置</h1><p id="9ae4" class="pw-post-body-paragraph kg kh iq ki b kj mf kl km kn mg kp kq kr na kt ku kv nb kx ky kz nc lb lc ld ij bi translated">支持渲染帮助的一些设置</p><pre class="nd ne nf ng gt nh mw ni nj aw nk bi"><span id="9702" class="nl lg iq mw b gy nm nn l no np">// -------------------- settings for built-in render help ----------</span><span id="e9cc" class="nl lg iq mw b gy oj nn l no np">    /**<br/>     * Auto render help on provide '-h', '--help'<br/>     *<br/>     * @var bool<br/>     */<br/>    protected $autoRenderHelp = true;</span><span id="8118" class="nl lg iq mw b gy oj nn l no np">    /**<br/>     * Show flag data type on render help.<br/>     *<br/>     * if False:<br/>     *<br/>     * -o, --opt    Option desc<br/>     *<br/>     * if True:<br/>     *<br/>     * -o, --opt STRING   Option desc<br/>     *<br/>     * @var bool<br/>     */<br/>    protected $showTypeOnHelp = true;</span><span id="c62c" class="nl lg iq mw b gy oj nn l no np">    /**<br/>     * Will call it on before print help message<br/>     *<br/>     * @var callable<br/>     */<br/>    private $beforePrintHelp;</span></pre><ul class=""><li id="7f50" class="md me iq ki b kj kk kn ko kr mx kv my kz mz ld mk ml mm mn bi translated">自定义帮助消息呈现器</li></ul><pre class="nd ne nf ng gt nh mw ni nj aw nk bi"><span id="4247" class="nl lg iq mw b gy nm nn l no np">$fs-&gt;setHelpRenderer(function (\Toolkit\PFlag\FlagsParser $fs) {<br/>    // render help messages<br/>});</span></pre></div><div class="ab cl nq nr hu ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ij ik il im in"><h1 id="aa7d" class="lf lg iq bd lh li nx lk ll lm ny lo lp lq nz ls lt lu oa lw lx ly ob ma mb mc bi translated">单元测试</h1><pre class="nd ne nf ng gt nh mw ni nj aw nk bi"><span id="70a8" class="nl lg iq mw b gy nm nn l no np">phpunit --debug</span></pre><p id="64a4" class="pw-post-body-paragraph kg kh iq ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld ij bi translated">覆盖测试:</p><pre class="nd ne nf ng gt nh mw ni nj aw nk bi"><span id="e867" class="nl lg iq mw b gy nm nn l no np">phpdbg -qrr $(which phpunit) --coverage-text</span></pre></div><div class="ab cl nq nr hu ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ij ik il im in"><div class="nd ne nf ng gt jq"><a href="https://github.com/php-toolkit/pflag" rel="noopener  ugc nofollow" target="_blank"><div class="jr ab fo"><div class="js ab jt cl cj ju"><h2 class="bd ir gy z fp jv fr fs jw fu fw ip bi translated">GitHub - php-toolkit/pflag:通用php命令行标志解析库</h2><div class="jx l"><h3 class="bd b gy z fp jv fr fs jw fu fw dk translated">通用PHP命令行标志解析库。通过在…上创建帐户，为php-toolkit/pflag开发做出贡献</h3></div><div class="jy l"><p class="bd b dl z fp jv fr fs jw fu fw dk translated">github.com</p></div></div><div class="jz l"><div class="ka l kb kc kd jz ke kf jq"/></div></div></a></div></div></div>    
</body>
</html>