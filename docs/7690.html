<html>
<head>
<title>Use CSS to Reveal a Child Element in the DOM by Interacting with the Parent</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用CSS通过与父元素交互来显示DOM中的子元素</h1>
<blockquote>原文：<a href="https://itnext.io/use-css-to-reveal-a-child-element-in-the-dom-by-interacting-with-the-parent-e93f54132dc4?source=collection_archive---------6-----------------------#2022-12-20">https://itnext.io/use-css-to-reveal-a-child-element-in-the-dom-by-interacting-with-the-parent-e93f54132dc4?source=collection_archive---------6-----------------------#2022-12-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><h1 id="d221" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">当您想要触发嵌套组件的更改时，只需将:hover向上移动即可。</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/beb6e84714a4612f024541730295a6a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/0*6yeymSqOyCvMQ2bR.jpg"/></div></div></figure><h1 id="97d2" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">介绍</h1><p id="bb34" class="pw-post-body-paragraph kx ky iq kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">建立我自己的个人网站很有趣，因为我要花时间在小细节和微妙的地方，给它一些额外的东西——我知道当我在其他网站上看到它们时，我总是很感激。我想补充的一个细节是，当用户将鼠标悬停在我的每篇博文的卡片上的“阅读更多”链接旁边时，会出现一个小箭头。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi kl"><img src="../Images/6822205ed8155af3afd8d7773b2df92b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/0*f9ErEvd10yvVdXwX.png"/></div></figure><p id="a698" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated">看到阅读更多旁边的这个小箭头了吗？只有当用户将鼠标放在卡片上时，它才会出现。</p><p id="7b05" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated">乍一看，对于选择器来说，这听起来是一件相对简单的事情，但我实际上希望发生的是，当用户将鼠标悬停在我卡片的<em class="mb">任何</em>部分时，箭头会出现——而不仅仅是卡片左下角的“阅读更多”链接。我真正想要的是让更大的<em class="mb">父容器</em>触发<em class="mb">子元素</em>中的CSS变化。事实证明，要让这一点发挥作用，要弄清楚如何做到这一点有点困难。但是我坚持下来了，最后，我有了一个小箭头，它的出现和消失取决于用户的鼠标。这是一个低调的附加物，我喜欢它——就像复活节彩蛋一样。</p><p id="db77" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated"><strong class="kz ir">本文将向您展示如何使用用户在DOM中的父元素上进行的交互(比如悬停在它上面)来通过CSS修改子元素。(我可以看到很多情况下，这样的东西会派上用场。)</strong></p><p id="b371" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated">下面是一个视频，展示了无论用户将鼠标放在卡片上的什么地方，卡片上“阅读更多”文本旁边的箭头都是如何出现的:标题、正文、标签——卡片上的任何地方都会出现箭头，而不仅仅是当用户将鼠标放在链接本身上时。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mc md l"/></div></figure></div><div class="ab cl me mf hu mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ij ik il im in"><h1 id="4b90" class="jn jo iq bd jp jq ml js jt ju mm jw jx jy mn ka kb kc mo ke kf kg mp ki kj kk bi translated">制作博客帖子卡的HTML(或JSX)</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi kl"><img src="../Images/b2887b7bd96928d3068e3f6849a3c8c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/0*OSGyoaft2Jg9Kaws.png"/></div></figure><p id="2b16" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated">在我们开始这篇文章的CSS部分之前，我们首先需要建立一个博客帖子卡片的HTML的概要。</p><p id="5852" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated">我的网站是使用<a class="ae lv" href="https://www.gatsbyjs.com/" rel="noopener ugc nofollow" target="_blank"> Gatsby框架</a>用React构建的。在我的代码示例中，你会看到少量的React和JSX，而不是传统的HTML，但CSS确实是本文大部分内容的重点，所以不要太担心它。</p><blockquote class="mq mr ms"><p id="bfa8" class="kx ky mb kz b la lw lc ld le lx lg lh mt ly lk ll mu lz lo lp mv ma ls lt lu ij bi translated"><strong class="kz ir"> <em class="iq">注意:</em> </strong> <em class="iq">我已经省略了大部分React特有的代码，比如钩子、状态、函数等等。为了更好地集中本文的范围，但是如果您想查看完整的代码，您可以单击任何代码示例的标题来查看我在</em><a class="ae lv" href="https://github.com/paigen11/paigeniedringhaus.com/tree/master" rel="noopener ugc nofollow" target="_blank"><em class="iq">GitHub</em></a><em class="iq">中的完整回购文件。</em></p></blockquote><p id="f477" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated">下面是对<code class="fe mw mx my mz b">LatestPosts</code>组件的简化，它获取我的站点上所有可用的博客文章，并在卡片列表中显示最近的四篇文章。</p><p id="e27c" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated"><code class="fe mw mx my mz b"><a class="ae lv" href="https://github.com/paigen11/paigeniedringhaus.com/blob/master/src/components/LatestPosts/LatestPosts.js" rel="noopener ugc nofollow" target="_blank"><strong class="kz ir">LatestPosts.js</strong></a></code></p><pre class="km kn ko kp gt na mz nb bn nc nd bi"><span id="6662" class="ne jo iq mz b be nf ng l nh ni">// other imports for React, components, constants, etc.<br/>import './LatestPosts.scss';<br/><br/>const LatestPosts = () =&gt; {<br/>  // state variables here<br/><br/>  // logic to fetch all blog posts, take the most recent 4 posts and format the data to display<br/><br/>  return (<br/>    &lt;div className="latest-posts-wrapper"&gt;<br/>      {posts.length<br/>        ? posts.map((post, index) =&gt; (<br/>            &lt;div className="post" key={index}&gt;<br/>                &lt;Link<br/>                  className="post-link"<br/>                  to={`/blog${post.path}`}<br/>                  key={post.title}<br/>                &gt;<br/>                  &lt;p className="post-title"&gt;{post.title}&lt;/p&gt;<br/>                  &lt;p className="post-sub-title"&gt;{post.subTitle}&lt;/p&gt;<br/>                  &lt;PostTags tags={post.tags} /&gt;<br/>                  &lt;p className="read-more"&gt;<br/>                    Read more &lt;span className="arrow"&gt;&amp;gt;&lt;/span&gt;<br/>                  &lt;/p&gt;<br/>                &lt;/Link&gt;<br/>            &lt;/div&gt;<br/>          ))<br/>        : null}<br/>      &lt;h2&gt;<br/>        &lt;Link to="/blog"&gt;View all articles &amp;gt;&lt;/Link&gt;<br/>      &lt;/h2&gt;<br/>    &lt;/div&gt;<br/>  )<br/>};<br/><br/>export default LatestPosts;</span></pre><p id="4219" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated">在这个组件代码中，只有一个<code class="fe mw mx my mz b">&lt;div&gt;</code>(所有React组件都需要)包含了列表中显示的所有帖子:它是带有<code class="fe mw mx my mz b">latest-posts-wrapper</code>类的<code class="fe mw mx my mz b">&lt;div&gt;</code>。</p><p id="fa37" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated">然后，用<code class="fe mw mx my mz b">.map()</code>迭代<code class="fe mw mx my mz b">posts</code>列表，每个单独的帖子被呈现为DOM中的一个元素，看起来像一张卡片。每张卡片都有一个文章、博客标题、副标题、标签和鼓励用户点击的文本<code class="fe mw mx my mz b">Read more</code>的链接。</p><p id="44ce" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated">注意,<code class="fe mw mx my mz b">&lt;Link&gt;</code>元素包装了博客文章的大部分内容——这将很快成为关键。</p><p id="c7cf" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated">在最后一个带有<code class="fe mw mx my mz b">read-more</code>类的<code class="fe mw mx my mz b">&lt;p&gt;</code>标签内部是一个包围<code class="fe mw mx my mz b">&amp;gt;</code>的<code class="fe mw mx my mz b">&lt;span&gt;</code>标签——这是大于号(&gt; ) 的<a class="ae lv" href="https://www.compart.com/en/unicode/U+003E" rel="noopener ugc nofollow" target="_blank"> HTML，我将它用作右箭头符号。</a></p><p id="e681" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated">最后，在组件的底部还有另一个header标签，<code class="fe mw mx my mz b">&lt;h2&gt;</code>，邀请用户访问带有<a class="ae lv" href="https://www.paigeniedringhaus.com/blog" rel="noopener ugc nofollow" target="_blank">所有博客文章</a>的站点页面。</p><p id="d933" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated">好了，现在HTML的基础已经打好了，让我们继续处理CSS，让这些箭头根据需要出现和消失。</p><h1 id="3fab" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">将CSS添加到组件中</h1><p id="24e6" class="pw-post-body-paragraph kx ky iq kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">现在有更多的SCSS与<code class="fe mw mx my mz b">&lt;LatestPosts&gt;</code>组件相关联，但是为了清楚起见，我省略了与博客无关的部分。如果你想看完整版本的代码，你可以点击文件名，在GitHub中查看。</p><blockquote class="mq mr ms"><p id="c6c5" class="kx ky mb kz b la lw lc ld le lx lg lh mt ly lk ll mu lz lo lp mv ma ls lt lu ij bi translated"><strong class="kz ir"> <em class="iq">注意:</em> </strong> <em class="iq">下面的代码实际上是</em><a class="ae lv" href="https://sass-lang.com/" rel="noopener ugc nofollow" target="_blank"><em class="iq">SCSS</em></a><em class="iq">而不是纯粹的CSS，因为我非常欣赏它提供的额外功能，比如类嵌套，但是如果你需要的话，翻译它应该很简单。</em></p></blockquote><p id="c9cf" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated">好了，这里是CSS:现在让我们来谈谈发生了什么。</p><p id="8d68" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated"><code class="fe mw mx my mz b"><a class="ae lv" href="https://github.com/paigen11/paigeniedringhaus.com/blob/master/src/components/LatestPosts/LatestPosts.scss" rel="noopener ugc nofollow" target="_blank"><strong class="kz ir">LatestPosts.scss</strong></a></code></p><pre class="km kn ko kp gt na mz nb bn nc nd bi"><span id="7c36" class="ne jo iq mz b be nf ng l nh ni">.latest-posts-wrapper {<br/>  display: flex;<br/>  flex-direction: column;<br/><br/>  .post {<br/>    margin: 10px 20px;<br/>    padding: 20px 30px;<br/>    background-color: white;<br/>    box-shadow: rgba(0, 0, 0, 0.1) 0px 1px 3px 0px;<br/>    border-radius: 5px;<br/><br/>    .post-link {<br/>      // post-related css<br/><br/>      .arrow {<br/>        opacity: 0;<br/>      }<br/>    }<br/><br/>    .post-link:hover {<br/>      // more post-related css<br/><br/>      .arrow {<br/>        opacity: 1;<br/>      }<br/>    }<br/>  }<br/>}</span></pre><p id="b812" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated">当你看这段代码时，要特别注意类<code class="fe mw mx my mz b">.post-link</code>和<code class="fe mw mx my mz b">.arrow</code>——它们是这里的关键。</p><p id="d227" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated"><code class="fe mw mx my mz b">.post-link</code>是包围每张卡片内所有内容的类。<code class="fe mw mx my mz b">arrow</code>是与大过阿罗同在的阶级。</p><p id="fa07" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated">为了在用户悬停在卡片上之前隐藏箭头，我们将在<code class="fe mw mx my mz b">post-link</code>类内将<code class="fe mw mx my mz b">arrow</code>类设置为<code class="fe mw mx my mz b">opacity: 0;</code>。尽管它仍然存在于HTML中，但在屏幕上是看不到的。</p><p id="988e" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated">然后，当用户将鼠标悬停在卡片上时，我们实际上调用了<code class="fe mw mx my mz b">post-link</code>类上的CSS伪类<code class="fe mw mx my mz b">:hover</code>，并将<code class="fe mw mx my mz b">arrow</code>类的不透明度切换为<code class="fe mw mx my mz b">opacity: 1;</code>，这使得鼠标一进入卡片内的任何地方，箭头就会显示出来。</p><p id="28eb" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated">我们没有将<code class="fe mw mx my mz b">:hover</code>添加到<code class="fe mw mx my mz b">read-more</code>类中，只有当用户将鼠标放在“阅读更多”链接上时才会显示箭头，而是将<code class="fe mw mx my mz b">:hover</code>添加到card元素中更高的位置，这使得箭头几乎出现在用户鼠标在卡片上的任何地方。瞧啊。</p><p id="fcd2" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated">这就是全部:简单地将围绕子元素的<code class="fe mw mx my mz b">:hover</code>伪类在更大的父组件中向上移动就可以实现。</p><p id="380a" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated">再一次，这是成品的样子:将鼠标悬停在卡片上箭头出现的任何地方，鼠标离开，箭头再次消失。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mc md l"/></div></figure></div><div class="ab cl me mf hu mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ij ik il im in"><h1 id="f5a8" class="jn jo iq bd jp jq ml js jt ju mm jw jx jy mn ka kb kc mo ke kf kg mp ki kj kk bi translated">结论</h1><p id="67ad" class="pw-post-body-paragraph kx ky iq kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">作为一名网站开发人员，最酷的事情之一就是把东西带到网上，尽管我不是一名设计师，但当我建立自己的网站时，展示我的设计肌肉，并添加各种我喜欢的小细节，这真的很有趣。</p><p id="41da" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated">这里那里的渐变，微妙的动画，诸如此类的东西:没有什么太戏剧化的东西让你介意，但是当我在其他网站上看到它时，我总是很欣赏这些小东西。</p><p id="7f95" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated">不久前，我想补充的一点是，当用户将鼠标悬停在我的一张博客卡片上时，他们会看到“阅读更多”提示旁边弹出一个小箭头。但是我想让箭头出现在鼠标可能悬停在卡片上的任何地方——而不仅仅是当他们看到卡片底部的“阅读更多”链接时。</p><p id="48ea" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated">通过在卡片的一个类上使用<code class="fe mw mx my mz b">:hover</code>伪类来包装卡片的所有内容(而不仅仅是“阅读更多”链接)，我能够实现这种效果，而且一点也不费力。很可爱。</p><p id="dced" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated">过几周再来看看——我会写更多关于JavaScript、React、IoT或其他与web开发相关的东西。</p><p id="1181" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated">如果你想确保你不会错过我写的一篇文章，在这里注册我的时事通讯:<a class="ae lv" href="https://paigeniedringhaus.substack.com" rel="noopener ugc nofollow" target="_blank">https://paigeniedringhaus.substack.com</a></p><p id="395e" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated">感谢阅读。我希望这个通过与父元素或祖父元素交互来影响子元素的CSS的技巧对您和我一样有用。</p></div><div class="ab cl me mf hu mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ij ik il im in"><h1 id="fe09" class="jn jo iq bd jp jq ml js jt ju mm jw jx jy mn ka kb kc mo ke kf kg mp ki kj kk bi translated">参考资料和更多资源</h1><p id="ff86" class="pw-post-body-paragraph kx ky iq kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">- <a class="ae lv" href="https://github.com/paigen11/paigeniedringhaus.com/tree/master" rel="noopener ugc nofollow" target="_blank">个人站点，GitHub repo </a> <br/> - <a class="ae lv" href="https://developer.mozilla.org/en-US/docs/Web/CSS/:hover" rel="noopener ugc nofollow" target="_blank"> MDN Docs，CSS hover伪类</a></p></div><div class="ab cl me mf hu mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ij ik il im in"><p id="6d25" class="pw-post-body-paragraph kx ky iq kz b la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ma ls lt lu ij bi translated"><em class="mb">最初发表于</em><a class="ae lv" href="https://www.paigeniedringhaus.com/blog/use-css-to-reveal-a-child-element-in-the-dom-by-interacting-with-the-parent" rel="noopener ugc nofollow" target="_blank"><em class="mb">https://www.paigeniedringhaus.com</em></a><em class="mb">。</em></p></div></div>    
</body>
</html>