<html>
<head>
<title>Infinite Scroll with TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带打字稿的无限卷轴</h1>
<blockquote>原文：<a href="https://itnext.io/infinite-scroll-with-typescript-6214537a4c87?source=collection_archive---------1-----------------------#2022-01-13">https://itnext.io/infinite-scroll-with-typescript-6214537a4c87?source=collection_archive---------1-----------------------#2022-01-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d705" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何在HTML &amp; TypeScript中实现无限滚动</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2b1fd43660e788f393c64659ea40ee8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*puhZvjibnn60_YqiZlaNkQ.gif"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://github.com/kenreilly/typescript-infinite-scroll" rel="noopener ugc nofollow" target="_blank">示例项目</a>运行中的屏幕记录</figcaption></figure><h2 id="3fba" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">介绍</h2><p id="f7bd" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">在本文中，我们将研究使用HTML和TypeScript实现无限滚动列表的过程。无限滚动对于内容驱动的网站和应用程序很有用，通常比经典的分页方法更有吸引力。</p><p id="c479" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">有关示例项目的源代码，请参见<a class="ae ky" href="https://github.com/kenreilly/typescript-infinite-scroll" rel="noopener ugc nofollow" target="_blank">本报告</a>。</p><p id="7cc5" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">要编译TypeScript，请参见<a class="ae ky" href="https://www.typescriptlang.org/download" rel="noopener ugc nofollow" target="_blank">本页</a>或用node安装，如下所示:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="b6e8" class="kz la it mu b gy my mz l na nb">$ npm install -g typescript</span></pre></div><div class="ab cl nc nd hx ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="im in io ip iq"><h2 id="b65f" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">超文本标记语言</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="1555" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">这个项目的HTML在<code class="fe nl nm nn mu b">&lt;head&gt;</code>中包含了一些标准标签，并定义了一个带有项目标题的<code class="fe nl nm nn mu b">&lt;header&gt;</code>以及一个用于保存无限滚动内容的<code class="fe nl nm nn mu b">&lt;main&gt;</code>元素。编译后的<code class="fe nl nm nn mu b">.js</code>文件包含在<code class="fe nl nm nn mu b">body</code>部分的末尾。</p></div><div class="ab cl nc nd hx ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="im in io ip iq"><h2 id="0eee" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">半铸钢ˌ钢性铸铁(Cast Semi-Steel)</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="0950" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">CSS将标题和项目高度定义为变量，以及<code class="fe nl nm nn mu b">body</code>和内容的样式。<code class="fe nl nm nn mu b">main</code>元素取全屏高度减去<code class="fe nl nm nn mu b">header</code>高度。列表中的项目将属于类<code class="fe nl nm nn mu b">main div</code>，并包含一些基于<code class="fe nl nm nn mu b">--item-height</code>变量的格式。</p></div><div class="ab cl nc nd hx ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="im in io ip iq"><h2 id="63fc" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">以打字打的文件</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="1fbc" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated"><code class="fe nl nm nn mu b">App</code>类没有构造函数，因为它应该是静态的，只包含静态方法和属性。<code class="fe nl nm nn mu b">random_items</code> get访问器将返回<code class="fe nl nm nn mu b">0</code>和<code class="fe nl nm nn mu b">10</code>之间的十个数字，这些数字将用于填充列表。</p><p id="5516" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">当调用<code class="fe nl nm nn mu b">init</code>时，检索对可滚动容器的引用，为<code class="fe nl nm nn mu b">onscroll</code>事件附加一个事件处理程序，并调用<code class="fe nl nm nn mu b">load</code>，它获取接下来的10个项目并为每个项目调用<code class="fe nl nm nn mu b">append_item</code>。</p><p id="4b97" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated"><code class="fe nl nm nn mu b">append_item</code>方法为条目创建一个<code class="fe nl nm nn mu b">div</code>,为条目索引创建一个<code class="fe nl nm nn mu b">label</code>,并创建一个包含随机数的<code class="fe nl nm nn mu b">span</code>。设置项目内容，然后将其添加到列表中。</p><p id="76c1" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">滚动处理器<code class="fe nl nm nn mu b">on_scroll</code>检索屏幕上一个项目的高度，然后根据容器<code class="fe nl nm nn mu b">scrollHeight</code>减去<code class="fe nl nm nn mu b">scrollTop</code>和<code class="fe nl nm nn mu b">clientHeight</code>的值计算剩余的滚动距离。如果剩余的距离小于两个项目，调用<code class="fe nl nm nn mu b">load</code>向列表中添加更多的项目。</p></div><div class="ab cl nc nd hx ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="im in io ip iq"><h2 id="fbb3" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">结论</h2><p id="e392" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">这就是使用HTML、CSS和TypeScript创建一个简单的无限滚动列表的全部内容。使用列表的<code class="fe nl nm nn mu b">length</code>作为偏移量，可以很容易地通过API调用或其他方法修改来检索实际的项目。</p><p id="c254" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">感谢您的阅读，祝您的下一个项目好运！</p><p id="38ef" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">~8位黑客</p></div></div>    
</body>
</html>