<html>
<head>
<title>How to install x86 and Arm JDKs on the Mac M1 (Apple Silicon) using SDKMAN!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用SDKMAN在Mac M1(苹果硅)上安装x86和Arm JDKs！</h1>
<blockquote>原文：<a href="https://itnext.io/how-to-install-x86-and-arm-jdks-on-the-mac-m1-apple-silicon-using-sdkman-872a5adc050d?source=collection_archive---------0-----------------------#2021-02-22">https://itnext.io/how-to-install-x86-and-arm-jdks-on-the-mac-m1-apple-silicon-using-sdkman-872a5adc050d?source=collection_archive---------0-----------------------#2021-02-22</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><figure class="gm go js jt ju jv gi gj paragraph-image"><div class="gi gj jr"><img src="../Images/b3ef1f0409662110a73fcdb9db1fe0eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/format:webp/1*SFDoNCwNtPRZ4L8Hj05ssQ.png"/></div><figcaption class="jy jz gk gi gj ka kb bd b be z dk translated">图片来自<a class="ae kc" href="https://devblogs.microsoft.com/" rel="noopener ugc nofollow" target="_blank">微软开发者博客</a></figcaption></figure><p id="2ebd" class="pw-post-body-paragraph kd ke iu kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la in bi translated">过去我介绍过<a class="ae kc" href="https://sdkman.io/" rel="noopener ugc nofollow" target="_blank"> SDKMAN！</a>作为一个伟大的工具，安装和管理不同版本的JDK从不同的供应商很容易。</p><div class="lb lc gq gs ld le"><a rel="noopener  ugc nofollow" target="_blank" href="/install-several-versions-of-jdk-gradle-kotlin-scala-spark-and-on-your-os-in-parallel-a7de30f691ad"><div class="lf ab fp"><div class="lg ab lh cl cj li"><h2 class="bd iv gz z fq lj fs ft lk fv fx it bi translated">在你的操作系统上并行安装几个版本的JDK、格拉德、科特林、Scala、Spark和……</h2><div class="ll l"><h3 class="bd b gz z fq lj fs ft lk fv fx dk translated">通用软件开发工具包管理器</h3></div><div class="lm l"><p class="bd b dl z fq lj fs ft lk fv fx dk translated">itnext.io</p></div></div><div class="ln l"><div class="lo l lp lq lr ln ls jw le"/></div></div></a></div><p id="9d4e" class="pw-post-body-paragraph kd ke iu kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la in bi translated">通过发布基于Arm架构的Apple Silicon，以及发布基于m1 CPU的新Macbook笔记本电脑和Mac mini，一些开发人员被吸引购买其中一款。</p><p id="7911" class="pw-post-body-paragraph kd ke iu kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la in bi translated">我们知道，很久以前Java和JDK就支持Arm架构，您可以在基于Arm的CPU(例如Raspberry Pi)上轻松开发和运行您的Java应用程序，只需安装针对Arm架构编译的JDK或JRE。</p><p id="7703" class="pw-post-body-paragraph kd ke iu kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la in bi translated">目前，一些OpenJDK供应商，如<a class="ae kc" href="https://adoptopenjdk.net/releases.html" rel="noopener ugc nofollow" target="_blank"> AdoptOpenJDK </a>、<a class="ae kc" href="https://www.azul.com/downloads/zulu-community/?package=jdk" rel="noopener ugc nofollow" target="_blank"> Azul、</a>和<a class="ae kc" href="https://github.com/microsoft/openjdk-aarch64" rel="noopener ugc nofollow" target="_blank">微软</a>在其网站上提供OpenJDK的MacOS ARM版本。</p><p id="7c44" class="pw-post-body-paragraph kd ke iu kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la in bi translated">SDKMAN！从版本<code class="fe lt lu lv lw b">5.10.0</code>开始在苹果芯片上支持Arm JDKs:</p><div class="lb lc gq gs ld le"><a href="https://github.com/sdkman/sdkman-cli/releases/tag/5.10.0" rel="noopener  ugc nofollow" target="_blank"><div class="lf ab fp"><div class="lg ab lh cl cj li"><h2 class="bd iv gz z fq lj fs ft lk fv fx it bi translated">为Silicon Mac sdkman/sdkman-cli发布添加Rosetta 2功能切换</h2><div class="ll l"><h3 class="bd b gz z fq lj fs ft lk fv fx dk translated">将新配置sdkman_rosetta2_compatbile添加到。用于打开/关闭Rosetta 2兼容模式的SDK man/etc/config…</h3></div><div class="lm l"><p class="bd b dl z fq lj fs ft lk fv fx dk translated">github.com</p></div></div><div class="ln l"><div class="lx l lp lq lr ln ls jw le"/></div></div></a></div><p id="361d" class="pw-post-body-paragraph kd ke iu kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la in bi translated">他们给SDKMAN增加了一个新的配置<code class="fe lt lu lv lw b">sdkman_rosetta2_<em class="ly">compatible</em></code>！config文件(<code class="fe lt lu lv lw b">.sdkman/etc/config</code>)来打开或关闭SDKMAN的Rosetta 2兼容模式！目前，默认情况下，此标志是打开的。</p><blockquote class="lz ma mb"><p id="0aa9" class="kd ke ly kf b kg kh ki kj kk kl km kn mc kp kq kr md kt ku kv me kx ky kz la in bi translated">截至2021年11月1日，我们(SDKMAN！团队)已经将<code class="fe lt lu lv lw b">sdkman_rosetta2_compatible</code>旗帜默认为<code class="fe lt lu lv lw b">false</code>。</p></blockquote><h2 id="f85c" class="mf mg iu bd mh mi mj dn mk ml mm dp mn ko mo mp mq ks mr ms mt kw mu mv mw mx bi translated">我们开始吧</h2><p id="6ae2" class="pw-post-body-paragraph kd ke iu kf b kg my ki kj kk mz km kn ko na kq kr ks nb ku kv kw nc ky kz la in bi translated">首先，打开SDKMAN！使用文本编辑器创建一个配置文件(<code class="fe lt lu lv lw b">.sdkman/etc/config</code>)，并将<code class="fe lt lu lv lw b">sdkman_rosetta2_compatible</code>的配置值更改为<code class="fe lt lu lv lw b">false</code>。之后，你必须关闭当前终端并打开另一个终端，然后运行<code class="fe lt lu lv lw b">sdk list java</code>命令。通过执行<code class="fe lt lu lv lw b">sdk list java</code>命令，您将看到Arm架构的可用JDK列表。正如你在下面看到的，现在，你只有三个来自<a class="ae kc" href="https://www.azul.com/downloads/zulu-community/?package=jdk" rel="noopener ugc nofollow" target="_blank"> Azul </a>的选项。</p><figure class="ne nf ng nh gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="ni nj di nk bf nl"><div class="gi gj nd"><img src="../Images/db2fa2f8739fa37e0a36bd6f8be752c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x5MBM12KF5ATTRC5kccOPQ.png"/></div></div></figure><p id="2ee1" class="pw-post-body-paragraph kd ke iu kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la in bi translated"><code class="fe lt lu lv lw b">sdkman_rosetta2_compatible</code>是SDKMAN的临时旗帜！团队，直到更多OpenJDK供应商为Arm发布。</p><p id="d315" class="pw-post-body-paragraph kd ke iu kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la in bi translated">您可以使用<code class="fe lt lu lv lw b">sdk install java IDENTIFIER</code>命令安装一个本地Arm JDKs。</p><p id="d89e" class="pw-post-body-paragraph kd ke iu kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la in bi translated">使用SDKMAN安装原生Arm JDK后！，通过执行<code class="fe lt lu lv lw b">java -version</code>命令，可以看到当前安装的JDK的规格:</p><figure class="ne nf ng nh gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="ni nj di nk bf nl"><div class="gi gj nm"><img src="../Images/afb10efbbdf2414edacd9d9065517c63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_210P3Ncy8YX7-MciUk7MQ.png"/></div></div></figure><h2 id="a0e0" class="mf mg iu bd mh mi mj dn mk ml mm dp mn ko mo mp mq ks mr ms mt kw mu mv mw mx bi translated">在M1上安装基于x86的JDK</h2><p id="f169" class="pw-post-body-paragraph kd ke iu kf b kg my ki kj kk mz km kn ko na kq kr ks nb ku kv kw nc ky kz la in bi translated">如果您将配置恢复为真(<code class="fe lt lu lv lw b">sdkman_rosetta2_compatible=true</code>)，那么除了本地Arm JDKs之外，<code class="fe lt lu lv lw b">sdk list java</code>命令还会显示基于x86的JDK(使用Rosetta 2运行)。</p><p id="e715" class="pw-post-body-paragraph kd ke iu kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la in bi translated">如果您运行<code class="fe lt lu lv lw b">sdk list java</code>命令，您可以看到列表中基于Arm和x86的JDK之间没有任何区别，这可能是因为这个标志(<code class="fe lt lu lv lw b">sdkman_rosetta2_compatible</code>)在SDKMAN中是临时的！而且以后还会去掉。</p><figure class="ne nf ng nh gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="ni nj di nk bf nl"><div class="gi gj nn"><img src="../Images/44c36c9d20d30ec7e1ff16a319017661.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CzpZ1voufHC7NXtNsvuzHA.png"/></div></div></figure><p id="998e" class="pw-post-body-paragraph kd ke iu kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la in bi translated">但是如果有另外一个专栏来标识JDK的架构，那将会非常有帮助。</p><p id="0113" class="pw-post-body-paragraph kd ke iu kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la in bi translated">无论如何，现在您可以使用<code class="fe lt lu lv lw b">sdk install java IDENTIFIER</code>命令安装一个x86 JDK和一个本地的，然后您可以通过<code class="fe lt lu lv lw b">sdk default java IDENTIFIER</code>命令轻松地在它们之间切换。</p></div></div>    
</body>
</html>