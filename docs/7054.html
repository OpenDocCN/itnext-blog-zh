<html>
<head>
<title>Grafana Random Tips and Tricks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Grafana随机提示和技巧</h1>
<blockquote>原文：<a href="https://itnext.io/grafana-random-tips-and-tricks-dc325a95122e?source=collection_archive---------2-----------------------#2022-05-27">https://itnext.io/grafana-random-tips-and-tricks-dc325a95122e?source=collection_archive---------2-----------------------#2022-05-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/4ef56d23b2b0cd804c1bf4d181898662.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kPiJFazty5YRy5P0"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">Samuel Regan-Asante 在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="2b72" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Grafana非常容易使用，不需要任何培训就可以开始使用。一旦你添加一个数据源到Grafana，游戏就开始了。这篇文章将只涉及一些我学会后发现非常有用的东西。它们没有特定的顺序。希望你能找到一两条你不知道的提示。</p><h1 id="d526" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">秘诀1:模仿是最真诚的奉承</h1><p id="c56d" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">Grafana主办了一个展示Grafana最新特性和功能的网站，这是一个欣赏可能性艺术的好地方。你可以在https://play.grafana.org/的<a class="ae kf" href="https://play.grafana.org/" rel="noopener ugc nofollow" target="_blank">找到仪表盘</a></p><p id="3c2a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">假设您的数据可能有也可能没有支持所有功能所需的数据，但您可以随时查看图表并了解它是如何构建的，以改进您正在处理的功能。</p><p id="5af2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我还发现，与仅仅阅读相关文档相比，看到这些功能的实际应用确实有所不同。</p><h1 id="3f8e" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">技巧2:仪表板标签</h1><p id="fe5d" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">您导入的许多仪表板已经有了标记。直到我发现仪表板链接(下一个技巧)，我才注意到它们。最初，我们使用它们来分组并轻松识别每个团队构建了哪些仪表板。</p><p id="b9b7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要向仪表板添加标签，请进入仪表板并单击“齿轮”图标进行设置。在“常规”标签下有一个“标签”部分。只需在那里添加您的标签并保存仪表板</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mh"><img src="../Images/8cf54646014f934c9a790dcc7ecaedc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5nv8Wz_eT3pOieUCJSFdLw.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">向仪表板添加标签</figcaption></figure><h1 id="b5bf" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">技巧3:仪表板链接</h1><p id="0800" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">仪表板链接将链接添加到您的仪表板顶部。这些对于将一组仪表板联系在一起非常有用。比方说，如果您对报告的所有节点有一个概述，然后可以链接到一个更详细的控制面板，您可以在其中查看单个主机的统计信息、网络统计信息或任何其他控制面板。当然，您可以随时返回浏览或主页导航菜单，但这将使工作流程更加集中。</p><p id="fa78" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要向仪表板添加链接，可以通过标准链接(Type=Link)或利用仪表板标签(Type=Dashboard)来完成。使用标签时，Grafana会将所有带有该标签的仪表板动态添加到该仪表板中。请记住，这些标签是区分大小写的。您可以将这些链接显示为下拉列表或顶部的单个链接(右对齐)。</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mm"><img src="../Images/6cdf72ba4ca8630fad6134502e5b7edd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QtN18OeEgHhLJjiFm8Klmg.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">仪表板链接</figcaption></figure><p id="d782" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">保存仪表板后，您将在仪表板的右上角看到您的链接，如下所示。</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mn"><img src="../Images/c60834884301401e50deaa8f5262f50a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*691K-yTIwMUJwO45rkroCw.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">仪表板链接</figcaption></figure><h1 id="6083" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">技巧4:隐藏字段</h1><p id="fc5c" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">很多时候，我发现我想从显示在图表中的输出中隐藏一个字段。我到处寻找，试图找出正确的PromQL或LogQL，但毫无结果。可能有一种方法可以做到这一点，希望有人会就如何做到这一点添加评论！</p><p id="dc06" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">谢天谢地，通过图表上的<a class="ae kf" href="https://grafana.com/docs/grafana/latest/panels/transform-data/" rel="noopener ugc nofollow" target="_blank">变换</a>，有一个非常简单的方法可以做到这一点！</p><p id="b569" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">添加查询后，单击“Transforms”选项卡，然后搜索“Organize fields”转换并单击它。</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mo"><img src="../Images/c1c29b93f07b9bc9b68d4e23cc7645c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qYmcW8vz3hMP9l3jAUj87g.png"/></div></div></figure><p id="47ec" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将显示查询返回的字段列表。要隐藏一个，点击“眼睛”图标。在下图中，您可以看到时间字段已被隐藏。</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mp"><img src="../Images/6cf940b0f2f61e83992a74704a2aac62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D8p51PPrlmCJE3-Qzaaibw.png"/></div></div></figure><h1 id="1e1f" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">技巧5:覆盖</h1><p id="6008" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">覆盖允许您在可视化之前更改字段的格式。您可以更改字段类型(转换为MB或F/C)或为字段添加渐变，而不只是显示数字。我通过查看theplay.grafana.org网站的各种图表找到了这些。我在添加了梯度字段的图表上获得了很好的效果，这样人们可以快速看到项目的状态。</p><p id="3294" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要向面板添加覆盖，请单击覆盖选项卡，然后单击“添加字段覆盖”按钮</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mq"><img src="../Images/eea2455991633312db9687120fa0b782.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qw6R9NmYaimLfCaQblD1QA.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">添加覆盖</figcaption></figure><p id="02c4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用Grafana网站上的一个图表，我们可以看到他们向requests字段添加了一个渐变标尺，然后选择了配色方案。</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mr"><img src="../Images/7485ad6854d9893f50efc71c47f7c849.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bGJsOPhuiDrn56BCD5Qt6g.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">为渐变配置覆盖</figcaption></figure><p id="32b4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正如你所看到的，Grafana使得在字段中添加渐变标尺和数字变得非常容易。当然，你也可以变得更好，但是通过“堆叠”覆盖来覆盖字段的其他部分</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mp"><img src="../Images/2263b72da11dc55c0a3772df6512b5c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zU3vGHY9iuuzYx1ntBgnnw.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">覆盖的示例</figcaption></figure><h1 id="35fc" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">技巧6:仪表板变量/过滤器</h1><p id="d031" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">仪表板变量允许您在仪表板顶部设置下拉列表或搜索框，这样就可以根据选择的值过滤每个图表。请记住，您的单个面板/图表需要使用查询中的变量才能生效。</p><p id="be15" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要添加仪表板变量，请转到仪表板的设置，单击左侧导航中的变量链接，然后单击“添加变量”按钮。</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ms"><img src="../Images/4741d41f84531bc2601c443d61c4302f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R0_iWueMP2_1A99iZHwEeg.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">添加仪表板变量</figcaption></figure><p id="e92d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这里，我们将看看一些很好的例子节点导出器完整的仪表板。该控制面板提供了3个过滤器，它们互为基础。一旦选择了“数据源”，就可以选择相关的作业；选择作业后，您将看到主机列表。选择主机后，控制面板将仅显示该主机的结果。</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mt"><img src="../Images/be41bcc47b9d62794c05f07012e9dbf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sRQdZ3pF8y_Qsd7c9Hcwrg.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">节点导出器过滤器</figcaption></figure><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mu"><img src="../Images/82e2869fe6593ccdf7f7641741c5f9e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jLcOt1TgCJmP3fvGnunVfQ.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">为节点导出程序定义的变量</figcaption></figure><p id="240b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一旦定义了变量，您就可以在另一个变量或图表中使用它们。如果您注意到上面的节点变量引用了$job，这是job变量的值。每个面板的查询行都是一样的，见下图。</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mv"><img src="../Images/121eae5311fc1bb1940bfd015371c5ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N-qE40Fh3cOaQQfdnvyXCQ.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">使用变量的面板查询</figcaption></figure><h1 id="fe23" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">摘要</h1><p id="0d44" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">希望你从这些提示/技巧中有所收获。你可以用Grafana做很多事情，但是我想分享一些我发现对我有帮助的事情。</p><p id="5e9a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你喜欢这篇文章或者学到了新的东西，发表评论，鼓掌或者关注！</p></div></div>    
</body>
</html>