<html>
<head>
<title>Benchmark MariaDB: cross between native versus Docker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基准MariaDB:本地与码头工人的交叉</h1>
<blockquote>原文：<a href="https://itnext.io/benchmark-mariadb-cross-between-native-versus-docker-6d90967fe721?source=collection_archive---------0-----------------------#2021-07-29">https://itnext.io/benchmark-mariadb-cross-between-native-versus-docker-6d90967fe721?source=collection_archive---------0-----------------------#2021-07-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/c188ff951356e1bb3bc84a404b6ab725.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8R916m8B3HznZFEspXLhvQ.png"/></div></div></figure><p id="6d97" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">几个月前，我做了两个基准测试。第一个测试了三个数据库引擎，第二个只测试了PostgreSQL。</p><p id="c728" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您可以在下面的两个链接中找到这些基准。两篇文章都是彼得·贾霍达写的。</p><div class="lb lc gp gr ld le"><a rel="noopener  ugc nofollow" target="_blank" href="/benchmark-databases-in-docker-mysql-postgresql-sql-server-7b129368eed7"><div class="lf ab fo"><div class="lg ab lh cl cj li"><h2 class="bd iu gy z fp lj fr fs lk fu fw is bi translated">Docker中的基准数据库:MySQL、PostgreSQL、SQL Server</h2><div class="ll l"><h3 class="bd b gy z fp lj fr fs lk fu fw dk translated">加上MariaDB、Percona和TimescaleDB</h3></div><div class="lm l"><p class="bd b dl z fp lj fr fs lk fu fw dk translated">itnext.io</p></div></div><div class="ln l"><div class="lo l lp lq lr ln ls jz le"/></div></div></a></div><div class="lb lc gp gr ld le"><a rel="noopener  ugc nofollow" target="_blank" href="/benchmark-postgresql-docker-versus-native-2dde6b5a8552"><div class="lf ab fo"><div class="lg ab lh cl cj li"><h2 class="bd iu gy z fp lj fr fs lk fu fw is bi translated">在所有三个系统上测试PostgreSQL:Docker与native</h2><div class="ll l"><h3 class="bd b gy z fp lj fr fs lk fu fw dk translated">使用所有PGTune设置</h3></div><div class="lm l"><p class="bd b dl z fp lj fr fs lk fu fw dk translated">itnext.io</p></div></div><div class="ln l"><div class="lt l lp lq lr ln ls jz le"/></div></div></a></div><p id="6d0f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">因为有一些关于这个基准的想法，我决定只在PostgreSQL上再做一个。你可以在下面链接中找到这篇文章。</p><div class="lb lc gp gr ld le"><a rel="noopener  ugc nofollow" target="_blank" href="/benchmark-postgresql-cross-between-native-versus-docker-a96df9a45014"><div class="lf ab fo"><div class="lg ab lh cl cj li"><h2 class="bd iu gy z fp lj fr fs lk fu fw is bi translated">基准PostgreSQL:native与Docker的交叉</h2><div class="ll l"><h3 class="bd b gy z fp lj fr fs lk fu fw dk translated">几个月前，我做了两个基准测试。第一个测试了三个数据库引擎，第二个只测试了PostgreSQL。</h3></div><div class="lm l"><p class="bd b dl z fp lj fr fs lk fu fw dk translated">itnext.io</p></div></div><div class="ln l"><div class="lu l lp lq lr ln ls jz le"/></div></div></a></div></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="6c78" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在阅读对这篇最新的PostgreSQL文章(和Reddit上)的回复时，有许多人要求对基于MySQL的数据库做同样的事情。因为之前的基准测试显示MariaDB性能稍好，所以在这个测试中使用了MariaDB。</p><p id="4d4a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">我们将有四个测试:</strong></p><ul class=""><li id="16de" class="mc md it kd b ke kf ki kj km me kq mf ku mg ky mh mi mj mk bi translated">数据库本机运行，程序本机运行</li><li id="e817" class="mc md it kd b ke ml ki mm km mn kq mo ku mp ky mh mi mj mk bi translated">数据库在Docker中运行，程序在本地运行</li><li id="da09" class="mc md it kd b ke ml ki mm km mn kq mo ku mp ky mh mi mj mk bi translated">数据库运行在Docker中，程序运行在Docker中</li><li id="c126" class="mc md it kd b ke ml ki mm km mn kq mo ku mp ky mh mi mj mk bi translated">数据库在本地运行，程序在Docker中运行</li></ul><p id="f900" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们将使用上面文章中描述的相同技术，所以不需要在这里添加关于设置AWS和数据库的信息，我们可以直接查看结果。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="4c7d" class="mq mr it bd ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn bi translated">输入条件</h1><ol class=""><li id="28d1" class="mc md it kd b ke no ki np km nq kq nr ku ns ky nt mi mj mk bi translated">使用了AWS t2.micro linux</li><li id="2939" class="mc md it kd b ke ml ki mm km mn kq mo ku mp ky nt mi mj mk bi translated">所有数据(Docker数据库和本地数据库)都在同一个分区上</li><li id="69be" class="mc md it kd b ke ml ki mm km mn kq mo ku mp ky nt mi mj mk bi translated">两者都使用默认的MariaDB设置</li><li id="077a" class="mc md it kd b ke ml ki mm km mn kq mo ku mp ky nt mi mj mk bi translated">两个数据库使用相同的10.6.x版本</li><li id="3854" class="mc md it kd b ke ml ki mm km mn kq mo ku mp ky nt mi mj mk bi translated">使用了主机docker网络</li></ol></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="839b" class="mq mr it bd ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn bi translated">结果</h1><p id="9516" class="pw-post-body-paragraph kb kc it kd b ke no kg kh ki np kk kl km nu ko kp kq nv ks kt ku nw kw kx ky im bi translated">测试套件测试两件事:<em class="nx">尽可能快地写</em>(一个接一个地插入)和<em class="nx">尽可能快地读</em>。两个数据库都使用默认值，因为它们是新安装的。数字是以秒为单位的。数字越小越好(测试运行得越快)。</p><p id="0d32" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这是连续五排测试的结果。</p><figure class="nz oa ob oc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ny"><img src="../Images/bb26aa221eb255505be9fc98f4d4c7da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q0bEIFOVjJY6WVcrfzz3LQ.png"/></div></div><figcaption class="od oe gj gh gi of og bd b be z dk translated">所有结果都以秒为单位</figcaption></figure><p id="212e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这是图表中的结果。</p><figure class="nz oa ob oc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oh"><img src="../Images/bb5ead6c294251664cc0a3441cbb7146.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PbEqMszc5Z0azF4q8w9Gqg.png"/></div></div><figcaption class="od oe gj gh gi of og bd b be z dk translated">所有结果都以秒为单位。数字越低，越快(越好)。</figcaption></figure><p id="2aa2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这里发生了一些非常有趣的事情。</p><p id="e233" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在Docker中运行数据库时，写操作明显变慢。更糟糕的是，当您在Docker中运行应用程序时。<br/>相反，当您在Docker中运行数据库时，<strong class="kd iu">读取明显更快</strong>。</p><p id="abe8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这是我没有预料到的。因为我得到了很多好的回答(之前的PostgreSQL测试)，我用不同的docker网络覆盖重新进行了这些MariaDB测试，但结果是正负相同的。</p><p id="9df5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在设计应用程序和使用Docker时，请记住这些结果。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="56f8" class="mq mr it bd ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn bi translated">比较MariaDB和PostgreSQL</h1><p id="f6c9" class="pw-post-body-paragraph kb kc it kd b ke no kg kh ki np kk kl km nu ko kp kq nv ks kt ku nw kw kx ky im bi translated">为了完整起见，这里是MariaDB和PostgreSQL之间的比较(测试结果，上面的链接)。</p><figure class="nz oa ob oc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oi"><img src="../Images/6dd51c546fab14896bc9f5c12a976c6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cTXLp9We0E88qE4BjbO7SQ.png"/></div></div><figcaption class="od oe gj gh gi of og bd b be z dk translated">所有结果都以秒为单位。数字越低，越快(越好)。</figcaption></figure></div></div>    
</body>
</html>