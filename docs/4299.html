<html>
<head>
<title>How to create and configure Azure DevOps Pipelines Agent</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何创建和配置Azure DevOps管道代理</h1>
<blockquote>原文：<a href="https://itnext.io/how-to-create-and-configure-azure-devops-pipelines-agent-88848763f109?source=collection_archive---------0-----------------------#2020-06-02">https://itnext.io/how-to-create-and-configure-azure-devops-pipelines-agent-88848763f109?source=collection_archive---------0-----------------------#2020-06-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="482e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">本文旨在帮助您为CI管道选择和配置代理。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f708c9d6371243336492f11670f7baef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ykMbX6S1sexCUvsAldnXJw.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">萨法尔·萨法罗夫在<a class="ae kv" href="https://unsplash.com/photos/MSN8TFhJ0is" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="7a8b" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">介绍</h1><p id="0bb6" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">当开始了解Azure Devops时，最困难的问题可能是你需要遵循哪些步骤来使你的CI管道正确工作。</p><p id="1a0b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">运行Azure CI管道的关键点是Azure Pipelines代理的工作，其主要任务是与您想要运行DevOps CI管道的机器建立连接。</p><p id="5d5c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在本文中，我们将考虑以下问题，以帮助您为CI渠道选择代理:</p><ul class=""><li id="0210" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj mu mv mw mx bi translated">MS代理与自托管代理</li><li id="8a14" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">关于MS代理的高级信息</li><li id="c720" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">何时使用MS代理，何时使用自托管代理</li><li id="1888" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">配置MS-agent</li><li id="86f0" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">正在配置自承载代理。</li></ul><p id="230f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们还将看看这两个代理之间的差异，以帮助您决定哪一个最适合您的需求。</p><p id="cdec" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">下图显示了带有Microsoft托管代理和自托管代理的Azure CI管道工作流。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/cffc4e2c833dced4f90e16587f1e750b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sSPmoLt9yxrWtoOa6cC7TQ.png"/></div></div></figure><p id="c6f9" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">从上图可以看出，您的管道必须在某台机器上的某种操作环境中运行。微软托管代理和自托管代理被绑定来管理流水线执行。</p><p id="84ab" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在使用MS-Agent的情况下，执行发生在Azure Windows、macOS或Ubuntu中的一个现成的操作环境中，它被动态地部署到Azure(作为SaaS提供)。</p><p id="d71b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在使用自托管代理的情况下，执行发生在您的物理或虚拟机上(本地环境)。</p><h1 id="b35d" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">MS代理与自托管代理</h1><p id="e593" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">因此，MS-agent和自托管代理之间的主要区别在于，使用MS-agent，您可以在云中获得一个预先安装了操作系统(Windows、macOS或Ubuntu)的现成虚拟机。每次运行管道时，您都会获得一个新的虚拟机。</p><p id="b908" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如果您使用自托管代理，管道将在您的物理机器上执行。</p><p id="e265" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">下表显示了两种试剂的主要比较特征。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/f9008d5184f05d14cea7cc37763971ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ThIGx2TmrYl31fHq2-kLnw.png"/></div></div></figure><h1 id="4ffa" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">关于MS代理的高级信息</h1><p id="0747" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">您可以使用PowerShell获取有关特定MS-agent的预安装软件或硬件的信息。例如，要接收有关MS-Agent和Windows-2019映像的软件和硬件的信息，请执行以下PowerShell脚本。</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="61e4" class="nk kx iq ng b gy nl nm l nn no">"Shows details of currently running PC"<br/><br/>$computerSystem = Get-CimInstance CIM_ComputerSystem<br/>$computerBIOS = Get-CimInstance CIM_BIOSElement<br/>$computerOS = Get-CimInstance CIM_OperatingSystem<br/>$computerCPU = Get-CimInstance CIM_Processor<br/>$computerHDD = Get-CimInstance Win32_LogicalDisk -Filter "DeviceID = 'C:'"<br/><br/>Clear-Host<br/><br/>Write-Host "System Information for: " $computerSystem.Name<br/>"Manufacturer: " + $computerSystem.Manufacturer<br/>"Model: " + $computerSystem.Model<br/>"Serial Number: " + $computerBIOS.SerialNumber<br/>"CPU: " + $computerCPU.Name<br/>"HDD Capacity: "  + "{0:N2}" -f ($computerHDD.Size/1GB) + "GB"<br/>"HDD Space: " + "{0:P2}" -f ($computerHDD.FreeSpace/$computerHDD.Size) + " Free (" + "{0:N2}" -f ($computerHDD.FreeSpace/1GB) + "GB)"<br/>"RAM: " + "{0:N2}" -f ($computerSystem.TotalPhysicalMemory/1GB) + "GB"<br/>"Operating System: " + $computerOS.caption + ", Service Pack: " + $computerOS.ServicePackMajorVersion<br/>"User logged In: " + $computerSystem.UserName</span></pre><p id="30fb" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">通过执行该脚本，我们获得了有关虚拟机的以下信息:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi np"><img src="../Images/5f118f17a8ccf24403f0f56e06b1d4e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1342/format:webp/1*Gsyahi8l-6h7nURuK_M3qQ.png"/></div></figure><p id="7274" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如上表所述，MS-agent的一些虚拟机映像具有各种有用的预装程序。要了解Windows-2019映像预安装了哪些程序，我们可以使用以下脚本创建一个PowerShell任务:</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="2ca6" class="nk kx iq ng b gy nl nm l nn no">“Get a list of installed programs:”</span><span id="2e06" class="nk kx iq ng b gy nq nm l nn no">Get-ItemProperty HKLM:\Software\Wow6432Node\Microsoft\Windows\CurrentVersion\Uninstall\* | Select-Object DisplayName, DisplayVersion, Publisher, InstallDate | Format-Table -AutoSize</span></pre><p id="c1dc" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">执行这个脚本后，我们会看到预装的有用程序列表(这个列表很长，下图只显示了一部分):</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nr"><img src="../Images/06e8f3209992d0aabaff5f5036d62c1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eZzSn-zD4-n2FRBzLNpcmQ.png"/></div></div></figure><h1 id="df5c" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">何时使用MS代理，何时使用自托管代理</h1><p id="5e29" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">如果您有一个源代码不需要花太多时间下载的小项目，它也不需要很多时间来编译项目和执行单元测试。在这种情况下，微软托管的代理将是最好的选择。如上对比表所示，虚拟机镜像和所有预装程序(Visual Studio、Python、Chrome等。)获取MS-Agent的最新更新。在执行流水线之后，该虚拟机映像被丢弃，并且不影响后续流水线的执行。</p><p id="be91" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">但是，如果您有与性能、可访问性、安全性相关的问题，或者其他类似的问题，最好选择自托管代理。自托管代理的一个重要缺点是，您必须跟踪操作系统的更新，以及清除管道作业之间的工件磁盘。</p><h1 id="2594" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">配置MS-agent</h1><p id="e595" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">Microsoft托管代理的设置非常简单明了:</p><ol class=""><li id="65e7" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj ns mv mw mx bi translated">在<strong class="lq ir">代理池</strong>组合框中，选择<em class="nt"> Azure管道</em>。</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nu"><img src="../Images/a3400421074fe56dbbff7a232ea5d0d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FxDrNUK4m92V35ji_FWJiA.png"/></div></div></figure><p id="21b7" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">2.在<strong class="lq ir">代理规格</strong>下拉列表框中，选择需要的虚拟机镜像。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nv"><img src="../Images/dc90813bed08569ae62e40e172d9432e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K_n0KimjJRh0PjlsvAaUuQ.png"/></div></div></figure><h1 id="c37c" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">配置自托管代理</h1><p id="ce01" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">如上所述，自托管代理的主要任务是使用机器上的所有可用资源，与将要运行DevOps CI管道的机器建立连接。为此，请在该计算机上安装一个自托管代理。这可以是您的计算机或虚拟机。</p><p id="8f4e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">要安装自托管代理，请执行以下操作:</p><p id="212a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">1.下载代理。</p><p id="d14f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">有几种方法可以做到这一点。第一个也是最简单的一个是跟随<a class="ae kv" href="https://github.com/microsoft/azure-pipelines-agent/releases" rel="noopener ugc nofollow" target="_blank">链接</a>并下载您需要的代理，如下所示。</p><p id="b7b3" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">或者，转到您的Azure组织的<strong class="lq ir">代理池</strong>页面，然后单击<strong class="lq ir">新建代理</strong>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nw"><img src="../Images/f0ae850ba7dff4d67af4f6a631fbad0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kr5c1b-rSQtQxxe17AdTEw.png"/></div></div></figure><p id="f914" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">接下来，选择所需的操作系统并点击<strong class="lq ir">下载</strong>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nx"><img src="../Images/6ee350dd9ce6bb5e0e1a67b5c1a37ef1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5-kkTHR9rBu3YqLSCEKQug.png"/></div></div></figure><p id="0656" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">2.现在您需要将下载的ZIP文件解压到磁盘上的文件夹中，例如，解压到<em class="nt">vst agent</em>中，如下所示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/79215411b21cf74f4d1d0177784e631d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1266/format:webp/1*0i0IshQcM5Br0DTEOSFFVw.png"/></div></figure><p id="e065" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">3.运行<em class="nt"> config.cmd </em>(以管理员身份运行)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/d687a89fdc720385a535670be6fe625c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*4pujta_GOk_yE6JYAAI7xg.png"/></div></figure><p id="e982" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">4.当安装程序要求<em class="nt">输入Azure DevOps服务的服务器URL </em>时，指定<em class="nt">https://dev . Azure . com/{ your organization name }</em>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/af8703cbfc48af40b19f69338bbf4534.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/1*JGqwHa-CgGsnCVjp0Q2eTQ.png"/></div></figure><p id="67a7" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">5.当安装程序询问您的认证类型时，按<strong class="lq ir">进入</strong>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/af529511312ed491e2e63fa88d87321c.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*wMcOUdG45kdV7bo0zVrQjA.png"/></div></figure><p id="8b85" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">然后安装程序要求输入令牌。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/ca6ca7fbaba828a645c523ab2fbcd1be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*Vwup1NKAWsGZr_9m8qTmrw.png"/></div></figure><p id="dd40" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如下所示粘贴您的令牌。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/b59f56a611e6aa07325c60e826cb9660.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5SFhszV4_cJgqxWdfZptEw.png"/></div></div></figure><p id="a4a8" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">6.当设置要求<strong class="lq ir">输入代理池</strong>时，如果您想使用默认池，请按<strong class="lq ir">输入</strong>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/9e1ff82b6004a5571f7b065b0395b89c.png" data-original-src="https://miro.medium.com/v2/resize:fit:948/format:webp/1*NwifaQTxwRLkoA_j6Vv2gw.png"/></div></figure><p id="88ed" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">7.当安装程序要求<strong class="lq ir">输入代理名称</strong>时，输入代理的名称，例如:<em class="nt"> vmagentvm </em>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi of"><img src="../Images/aa26c24377c3ad8af930c5e103cf5b56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/1*Mx-TTVPytnGT9V90Sl-4hA.png"/></div></figure><p id="7e59" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">8.当设置要求<strong class="lq ir">进入工作文件夹</strong>时，按<strong class="lq ir">进入</strong>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi og"><img src="../Images/63ec775704a4472bad3068a84b37cfc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1022/format:webp/1*uXeBTmG9UBmTW5i8NrOCww.png"/></div></figure><p id="7442" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如果需要，请指定名称。</p><p id="71fe" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">9.当安装程序要求输入运行代理作为服务时。(Y/N)，按Y。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/bf5dc61c9a4e176b619e4a36c9bfd215.png" data-original-src="https://miro.medium.com/v2/resize:fit:1062/format:webp/1*wBMMT6qhMbbl4FUFpXjaHQ.png"/></div></figure><p id="65bf" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">10.当安装程序要求输入用于服务*的用户帐户时，按<strong class="lq ir">输入</strong>。</p><p id="6d0a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">之后，您将看到一条关于成功配置的消息:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/095af9f7d1c48cf4e4810ea2cac8e205.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WXZwP-2LOryM4FM0ZgDWPw.png"/></div></div></figure><p id="b945" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">另外，如果您转到<strong class="lq ir">代理池</strong>部分的<strong class="lq ir">默认</strong>页面，您会看到您的代理出现在那里的列表中:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/dd0d06f99cfb3bea9df4201af7e7cbc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vkqWPqWkaBiMReE9SzCFPw.png"/></div></div></figure><p id="e89f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如果为管道选择<strong class="lq ir">默认池</strong>，管道将在安装代理的机器上运行。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ok"><img src="../Images/a8b0a7f664f59a7c5c71159ce38e558b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6CzXNgXvgvsAHlp6TpXulw.png"/></div></div></figure><p id="ace6" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">此外，在配置您的CI流程时，请确保检查SQL Server的<a class="ae kv" href="https://www.devart.com/dbforge/sql/database-devops/" rel="noopener ugc nofollow" target="_blank"><strong class="lq ir">db forge devo PS Automation Azure devo PS</strong></a>插件。该工具包含所有必要的步骤，允许您在服务器上创建一个数据库，测试它，并部署一个工件对象。如何毫不费力地做到这一点的完整指南隐藏在<a class="ae kv" href="https://docs.devart.com/devops-automation-for-sql-server/walkthrough/azure-devops.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lq ir">这里</strong> </a>。</p><h1 id="593c" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">结论</h1><p id="b9e7" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">本文提供了对MS代理和自托管代理的比较描述。它还解释了何时以及为什么使用一种或另一种代理。</p><p id="c514" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">本文并不打算深入讨论Azure Pipelines代理的工作原理，而是尝试给出存在哪些类型的代理以及如何配置代理以持续集成Azure Pipelines的基本概念。</p></div><div class="ab cl ol om hu on" role="separator"><span class="oo bw bk op oq or"/><span class="oo bw bk op oq or"/><span class="oo bw bk op oq"/></div><div class="ij ik il im in"><p id="0f3e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我的文章最初发表在devart.com的<a class="ae kv" href="https://docs.devart.com/devops-automation-for-sql-server/walkthrough/create-configure-azuredevops-pipelines%20agent.html" rel="noopener ugc nofollow" target="_blank"><em class="nt"/></a><em class="nt">。</em></p></div></div>    
</body>
</html>