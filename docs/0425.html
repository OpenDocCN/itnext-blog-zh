<html>
<head>
<title>Falling In Love With Flow</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">爱上心流</h1>
<blockquote>原文：<a href="https://itnext.io/falling-in-love-with-flow-71eb47c2c138?source=collection_archive---------4-----------------------#2018-03-08">https://itnext.io/falling-in-love-with-flow-71eb47c2c138?source=collection_archive---------4-----------------------#2018-03-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/1c518d0c105cc7945e0b224f1bd56b08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0PAlwi6RsHLSx19LhqlBOQ.png"/></div></div></figure><p id="7cbe" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://www.linkedin.com/cws/share?url=https%3A%2F%2Fitnext.io%2Ffalling-in-love-with-flow-71eb47c2c138" rel="noopener ugc nofollow" target="_blank"> <em class="kx">点击这里在LinkedIn </em>上分享这篇文章</a></p><p id="fb7e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">几年前，我用<a class="ae kw" href="https://flow.org/" rel="noopener ugc nofollow" target="_blank"> Flow </a>(脸书开发的Javascript静态类型检查器)做过实验，虽然“嗯”我的代码编辑器会崩溃，我看不到明显的好处，这有点妨碍了进展，所以它被搁置了。</p><p id="f647" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">快进到上周，我决定在心流再做一次尝试。我已经习惯了使用一个新的编辑器(Visual Studio ),也许这个可以处理运行流。可以的！下面是一个React组件的例子，它将React组件用于道具和状态。</p><figure class="ky kz la lb gt jr"><div class="bz fp l di"><div class="lc ld l"/></div></figure><p id="be69" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我喜欢这种设置，因为它使组件文件更短，并且您可以使用这些类型annnnyywhere。例如，如果您有一个脚本，它使用您在前端使用的相同的api客户端，您可以对这两者使用相同的类型。</p><h1 id="c317" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">但是兄弟，打字稿</h1><p id="1240" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">真兄弟，真的。Typescript处理类型检查，它内置于名称中！我喜欢尽可能接近“原始”Javascript。所以我用ES6写，transpile到ES2015。此外，到处都有对Javascript的更多支持，因此更容易找到问题的解决方案；Typescript的表面区域并不存在。所以，兄弟，祝你的Typescript玩得开心，它确实感觉更像Java而不是ES6，但我会继续关注这一个。</p><h1 id="b38f" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">真正的转折点</h1><p id="5b66" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">我开始玩Flow yes，但是它没有<em class="kx">帮助</em>太多，除了漂亮的自动完成建议，我没有得到<em class="kx">主要的</em>好处。我没有怒目而视“嘿，白痴，这个接口是错误的”这是使用类型检查的承诺。直到我在调试另一个项目…</p><p id="9017" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">另一个项目有一堆文件，包含一个函数，你可以传递一些html给它，它会返回一个对象。这里有一个大概的轮廓。</p><figure class="ky kz la lb gt jr"><div class="bz fp l di"><div class="lc ld l"/></div></figure><p id="4a91" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，有些网站(<a class="ae kw" href="https://www.theverge.com/circuitbreaker/2018/3/7/17092334/amazon-alexa-devices-strange-laughter" rel="noopener ugc nofollow" target="_blank"> Alexa random laugh </a>)不希望这很容易。有时候请求会失败，有时候会发生其他的事情…但是这篇文章不是关于这些，它是关于静态类型检查的！当我们在提取器中检测到一个故障时，可以通过这样做来延迟“重试”。</p><figure class="ky kz la lb gt jr"><div class="bz fp l di"><div class="lc ld l"/></div></figure><p id="2380" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">是的，是的，我应该只提取url，而不传递整个对象，是的，这很懒，但是很有效！理想情况下，我们开发人员应该有时间让所有代码都完美，但是我们没有，我也不想假装我有时间。</p><p id="1fd5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">其中一个提取器里有个窃听器。请求失败，但我们不会重试。嗯。让我们来看看这个失败的提取器的简单版本。</p><figure class="ky kz la lb gt jr"><div class="bz fp l di"><div class="lc ld l"/></div></figure><p id="cf84" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">与此同时，这个缺陷是非常明显的。我退错东西了！<code class="fe mh mi mj mk b">links</code>不是<code class="fe mh mi mj mk b">meta</code>对象的属性！因此，检查返回对象上的链接什么也看不到，令人惊讶的是，一大堆事情都没有发生。在我最近重新探索心流之后，这触发了一个心流泡。如果我对这个文件使用了Flow，这将变得简单而明显。那看起来像什么？</p><figure class="ky kz la lb gt jr"><div class="bz fp l di"><div class="lc ld l"/></div></figure><p id="4c37" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是我在没有修复错误的情况下添加类型时得到的错误。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ml"><img src="../Images/5add948d561ebb7250d928a05ce47508.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wUVZLGBwYeAsaEFSCRwkgg.png"/></div></div></figure><p id="ff54" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，如果我以懒惰的方式将<code class="fe mh mi mj mk b">meta</code>作为<code class="fe mh mi mj mk b">links</code>属性的数组中的唯一元素传递回去，那么在修复了错误之后，Flow仍然会给出一个错误。因为我只在<code class="fe mh mi mj mk b">Link</code>类型中指定了<code class="fe mh mi mj mk b">url</code>，它会警告我，这很好。有一天，我会更新所有这些文件或改变界面，当这一切发生时，我会撤销所有的懒惰。</p><h1 id="5b60" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">使用流量</h1><p id="ede8" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">这不仅仅是为了说唱歌手和液体，我们都可以使用它，在这次经历之后，我是一个大流量倡导者。它已经成为我们未来开始的任何Javascript项目和容器实验室的基本元素，我们正在将它添加到现有的项目中，因为我们也在做那些项目。去<a class="ae kw" href="https://flow.org/" rel="noopener ugc nofollow" target="_blank">检查一下</a>。</p></div></div>    
</body>
</html>