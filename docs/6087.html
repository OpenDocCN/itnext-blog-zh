<html>
<head>
<title>Jenkins Tutorial — Part 3 — Parameterized Pipeline</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Jenkins教程—第3部分—参数化管道</h1>
<blockquote>原文：<a href="https://itnext.io/jenkins-tutorial-part-3-parameterized-pipeline-3898643ac6ad?source=collection_archive---------0-----------------------#2021-08-13">https://itnext.io/jenkins-tutorial-part-3-parameterized-pipeline-3898643ac6ad?source=collection_archive---------0-----------------------#2021-08-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/c518273176f996c36d381a98cf53ea9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*isD_dDi7u493JTm4ZudxOw.jpeg"/></div></div></figure><p id="0745" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在本文中，我将解释如何在Jenkins中创建参数化管道。参数化管道允许我们在构建时动态设置所需的参数。在继续阅读之前，如果你还不知道的话，让我们先看看前面的部分。让我们开始吧。</p><p id="f47a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" rel="noopener ugc nofollow" target="_blank" href="/jenkins-tutorial-part-1-pipelines-bd1397cf5509">詹金斯教程—第一部分—管道</a></p><p id="0738" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" rel="noopener ugc nofollow" target="_blank" href="/jenkins-tutorial-part-2-pipeline-variables-5e4783aa2c07"> Jenkins教程—第2部分—管道变量</a></p><h1 id="a267" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">詹金斯管道参数:</h1><p id="59cf" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">可以在管道中定义一组不同的参数。所有这些都应在管道的<code class="fe ma mb mc md b">parameters</code>段中定义。</p><figure class="me mf mg mh gt jr"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="e116" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">第一次运行管道后，管道菜单中显示<strong class="ka ir">带参数</strong>的构建。从现在开始，当你想要建造的时候，你应该在开始之前设置参数。除了参数定义，您还可以设置它们的默认值。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mk"><img src="../Images/f5622410b477652355a83a34ffb085ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ih7YklyM7OJe4I6kcNK0wQ.png"/></div></div></figure><h1 id="4e29" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">管道参数类型:</h1><p id="ada6" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">Jenkins支持一系列有用的参数类型。你应该注意到，除了本机参数类型，一些插件可能会添加新的类型。你应该阅读这些插件的文档来了解它们是如何工作的。在这一节中，我将介绍本机参数类型。</p><p id="120b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> booleanParam </strong>类型允许您定义布尔参数。您可以为此类型设置默认值。请注意，所有参数都有description参数，您可以用它来描述该参数目标的用途。</p><pre class="me mf mg mh gt ml md mm mn aw mo bi"><span id="0031" class="mp ky iq md b gy mq mr l ms mt">booleanParam(name: "NAME", defaultValue: true, description: "DESCRIPTION")</span></pre><p id="2357" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">字符串</strong>类型允许你定义单行字符串。除了default-value和description之外，它还支持一个额外的参数<code class="fe ma mb mc md b">trim</code>来删除输入值两边的空格。</p><pre class="me mf mg mh gt ml md mm mn aw mo bi"><span id="2e87" class="mp ky iq md b gy mq mr l ms mt">string(name: "NAME", defaultValue: "VALUE", trim: false, description: "DESCRIPTION")</span></pre><p id="46ea" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">文本</strong>允许您定义多行字符串文本。</p><pre class="me mf mg mh gt ml md mm mn aw mo bi"><span id="1881" class="mp ky iq md b gy mq mr l ms mt">text(name: "NAME", defaultValue: "VALUE", description: "DESCRIPTION")</span></pre><p id="ea06" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">密码</strong>参数允许您定义构建页面上的密码输入。此类型的值在构建页面和管道控制台上都不显示(隐藏)。</p><pre class="me mf mg mh gt ml md mm mn aw mo bi"><span id="cdde" class="mp ky iq md b gy mq mr l ms mt">password(name: "NAME", defaultValue: "VALUE", description: "DESCRIPTION")</span></pre><p id="1449" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">选择</strong>是用一组预定义值定义多选下拉菜单。您可以使用值列表来定义此类型。</p><pre class="me mf mg mh gt ml md mm mn aw mo bi"><span id="7f86" class="mp ky iq md b gy mq mr l ms mt">choice(name: "NAME", choices: ["VALUE1", "VALUE2", "VALUE3"], description: "DESCRIPTION")</span></pre><h1 id="14ec" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">在管道中使用参数值:</h1><p id="1e71" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">可使用<strong class="ka ir">参数</strong>助手访问参数值。除了这种首选方法之外，还可以通过之前的<a class="ae kw" rel="noopener ugc nofollow" target="_blank" href="/jenkins-tutorial-part-2-pipeline-variables-5e4783aa2c07">文章</a>中描述的环境变量来访问它们。使用<code class="fe ma mb mc md b">$params.NAME</code>或<code class="fe ma mb mc md b">${params.NAME}</code>语法访问参数值。可以在所有管道阶段中访问参数。</p><pre class="me mf mg mh gt ml md mm mn aw mo bi"><span id="0bbf" class="mp ky iq md b gy mq mr l ms mt">echo "Hello $params.NAME"</span></pre><p id="b8cd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">通过使用参数，可以创建动态管线。假设您想要创建一个可以在多种环境下工作的管道，这些环境有不同的配置，或者您想要在构建时提供配置。有了参数化管道，你可以达到这些目标。我们如何做到这一点并制作动态管道将在以后的文章中介绍。</p><p id="e0a5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">关注我的LinkedIn<a class="ae kw" href="https://www.linkedin.com/in/ssbostan" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/ssbostan</a></p></div></div>    
</body>
</html>