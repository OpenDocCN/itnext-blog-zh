<html>
<head>
<title>You can build a neural network in JavaScript even if you don’t really understand neural networks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">即使你并不真正理解神经网络，你也可以用JavaScript构建一个神经网络</h1>
<blockquote>原文：<a href="https://itnext.io/you-can-build-a-neural-network-in-javascript-even-if-you-dont-really-understand-neural-networks-e63e12713a3?source=collection_archive---------1-----------------------#2018-03-12">https://itnext.io/you-can-build-a-neural-network-in-javascript-even-if-you-dont-really-understand-neural-networks-e63e12713a3?source=collection_archive---------1-----------------------#2018-03-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/04389cc34fcd8bb13b69b89916c520d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hRgI4zStv4wHN0CG_5iCuQ.jpeg"/></div></div></figure><div class=""/><h1 id="339c" class="jy jz jb bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated"><strong class="ak">设定期望值……</strong></h1><p id="d706" class="pw-post-body-paragraph kw kx jb ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">(如果你只是想继续，跳过这一部分……)</p><p id="dfe6" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">我真的应该从承认我不是神经网络或机器学习方面的专家开始。老实说，大部分内容仍然让我困惑。但希望这能鼓励任何可能正在阅读这篇文章的非专家同事，他们渴望涉足磁共振成像。</p><p id="a498" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">机器学习是不时会出现的事情之一，我会对自己说“是的，那会很酷…但我不确定我是否想在接下来的几个月里学习线性代数和微积分。”</p><p id="9fd2" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">然而，像许多开发人员一样，我非常擅长JavaScript，偶尔会寻找用JS实现的机器学习的例子，结果却发现了大量关于JS对于M.L .来说是一种多么糟糕的语言的文章和StackOverflow帖子，的确如此。然后我会分心，继续前进，认为他们是对的，我应该继续验证表单输入，等待CSS网格起飞。</p><p id="17ac" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">但是后来发现Brain.js我就被震住了。这只藏在了<em class="lz">的哪里？！文档写得很好，很容易理解，在开始的大约30分钟内，我就建立并训练了一个神经网络。事实上，如果你想跳过整篇文章，只看GitHub上的<a class="ae ma" href="https://github.com/BrainJS/brain.js" rel="noopener ugc nofollow" target="_blank">自述</a>，请便。真的很棒。</em></p><p id="910e" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">也就是说，接下来的不是关于神经网络的深入教程，而是深入研究隐藏的输入层、激活函数或如何使用Tensorflow。相反，这是一个关于如何实现Brain.js的非常简单的初级解释，有点超出了文档的范围。</p><h1 id="d8e3" class="jy jz jb bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated"><strong class="ak">好吧，让我们做点什么… </strong></h1><p id="77ce" class="pw-post-body-paragraph kw kx jb ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">这是我们将要做的事情的概要:</p><ol class=""><li id="8c8d" class="mb mc jb ky b kz lu ld lv lh md ll me lp mf lt mg mh mi mj bi translated">创建您的起始文件</li><li id="1bda" class="mb mc jb ky b kz mk ld ml lh mm ll mn lp mo lt mg mh mi mj bi translated">决定你想要你的神经网络做什么</li><li id="78fd" class="mb mc jb ky b kz mk ld ml lh mm ll mn lp mo lt mg mh mi mj bi translated">建立Brain.js并弄清楚如何处理训练数据和用户输入</li><li id="ba38" class="mb mc jb ky b kz mk ld ml lh mm ll mn lp mo lt mg mh mi mj bi translated">收集一些训练数据</li><li id="e7d7" class="mb mc jb ky b kz mk ld ml lh mm ll mn lp mo lt mg mh mi mj bi translated">运行神经网络</li><li id="901e" class="mb mc jb ky b kz mk ld ml lh mm ll mn lp mo lt mg mh mi mj bi translated">利润？</li></ol><p id="1ccb" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">如果你更喜欢下载这个项目的工作版本，而不是跟随文章，那么你可以在这里克隆GitHub库<a class="ae ma" href="https://github.com/lordpoint/neural-network-author-classifier" rel="noopener ugc nofollow" target="_blank"/>。</p><h2 id="0c82" class="mp jz jb bd ka mq mr dn ke ms mt dp ki lh mu mv km ll mw mx kq lp my mz ku na bi translated"><strong class="ak"> 1 —起始文件</strong></h2><p id="1ada" class="pw-post-body-paragraph kw kx jb ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">创建一个新目录，并在其中放入一个好的ol '<em class="lz">index.html</em>样板文件。然后创建三个js文件:<em class="lz"> brain.js </em>、<em class="lz"> training-data.js </em>和<em class="lz"> scripts.js </em>(或者您为您的默认JS文件使用的任何通用术语)，当然，在您的index.html文件的底部导入所有这些文件。</p><figure class="nc nd ne nf gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nb"><img src="../Images/f103edd09dc12488a4440594856dfa9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A6-v5K4KjV0Y-rx4W7uByw.png"/></div></div><figcaption class="ng nh gj gh gi ni nj bd b be z dk translated">看看文件结构不会有什么坏处</figcaption></figure><p id="b03d" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">到目前为止很简单。</p><p id="61a5" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">现在到<a class="ae ma" href="https://raw.githubusercontent.com/harthur-org/brain.js/master/browser.js" rel="noopener ugc nofollow" target="_blank">这里</a>获取Brain.js的源代码，复制&amp;粘贴<strong class="ky jc">整个东西</strong>到你的空<em class="lz"> brain.js </em>文件，点击保存，嘭:4个文件中有2个完成了。</p><h2 id="29ba" class="mp jz jb bd ka mq mr dn ke ms mt dp ki lh mu mv km ll mw mx kq lp my mz ku na bi translated">2 —“我的目标是什么？”</h2><p id="d09e" class="pw-post-body-paragraph kw kx jb ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">接下来是有趣的部分:决定你的机器将学习什么。有无数的实际问题，你可以用这样的东西来解决；例如情感分析或图像分类。我碰巧认为将文本作为输入进行处理的M.L .应用程序特别有趣，因为你几乎可以在任何地方找到训练数据，它们有各种各样的潜在用例，所以我们在这里使用的例子将是一个处理分类文本的例子:</p><p id="2847" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">我们将确定一条推文是由唐纳德·特朗普还是金·卡戴珊写的。</p><p id="3043" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">好吧，所以这可能不是最有用的应用。但是Twitter <em class="lz">是</em>机器学习素材的宝库，尽管它可能毫无用处，但我们的tweet-author-identifier将说明一个非常强大的观点。一旦经过训练，我们的神经网络将能够查看以前从未见过的推文<strong class="ky jc">然后能够通过识别他们所写内容的模式来确定它是由唐纳德·特朗普还是由金·卡戴珊写的。为了做到这一点，我们需要向它提供尽可能多的训练数据，以复制/粘贴到我们的<em class="lz"> training-data.js </em>文件中，然后我们可以看看我们是否能找到一些tweet作者。</strong></p><h2 id="5449" class="mp jz jb bd ka mq mr dn ke ms mt dp ki lh mu mv km ll mw mx kq lp my mz ku na bi translated"><strong class="ak"> 3 —设置&amp;数据处理</strong></h2><p id="7973" class="pw-post-body-paragraph kw kx jb ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">现在剩下要做的就是在我们的<em class="lz"> scripts.js </em>文件中设置Brain.js，并在我们的<em class="lz"> training-data.js </em>文件中输入一些训练数据。但是在我们做任何事情之前，让我们从30，000英尺的高度来看所有这些是如何工作的。</p><p id="475f" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">设置Brain.js非常简单，所以我们不会在这上面花太多时间，但是有一些关于它将如何期望其输入数据被格式化的细节，我们应该先看一下。让我们先来看一下文档中包含的设置示例(我在这里稍微修改了一下),它很好地说明了这一切:</p><figure class="nc nd ne nf gt is"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="6330" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">首先，上面的例子实际上是一个工作的人工智能(它会查看给定的颜色，并告诉你黑色文本或白色文本在上面会更易读)。这很有希望说明Brain.js是多么容易使用。只要实例化它，训练它，运行它。就是这样。我的意思是，如果你内联训练数据，这将是3行代码。相当酷。</p><p id="cfad" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">现在让我们花一分钟来谈谈训练数据。在上面的例子中，除了训练数据的整体<code class="fe nm nn no np b">input: {}, output: {}</code>格式之外，还有两件重要的事情需要注意。</p><p id="0666" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">首先，数据不需要完全相同的长度。正如您在上面第11行看到的，只有一个<strong class="ky jc"> R </strong>和一个<strong class="ky jc"> B </strong>值被传递，而其他两个输入传递一个<strong class="ky jc"> R </strong>、<strong class="ky jc"> G </strong>和<strong class="ky jc"> B </strong>值。此外，尽管上面的示例将输入显示为对象，但值得一提的是，您也可以使用数组。我提到这一点主要是因为我们将在项目中传递不同长度的数组。</p><p id="2e8d" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">其次，这些不是有效的RGB值。如果你真的使用它，它们中的每一个都会变成黑色。这是因为<strong class="ky jc">输入值必须在0和1之间，Brain.js才能使用它们。</strong>因此，在上面的例子中，每种颜色都必须经过处理(可能只是通过一个将它除以255(RGB的最大值)的函数)才能工作。我们也会做同样的事情。</p><h2 id="5c21" class="mp jz jb bd ka mq mr dn ke ms mt dp ki lh mu mv km ll mw mx kq lp my mz ku na bi translated">3.1 —编码()</h2><p id="0c98" class="pw-post-body-paragraph kw kx jb ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">因此，如果我们希望我们的神经网络接受tweets(即字符串)作为输入，我们需要通过一个类似的函数(下面称为<code class="fe nm nn no np b">encode()</code>)来运行它们，该函数会将字符串中的每个字符转换为0到1之间的值，并将其存储在一个数组中。幸运的是，Javascript有一个将任何字符转换成ASCII代码的本地方法，叫做<code class="fe nm nn no np b">charCodeAt()</code>。因此，我们将使用它，并将结果除以<a class="ae ma" href="http://www.theasciicode.com.ar/" rel="noopener ugc nofollow" target="_blank">扩展ASCII </a>字符的最大值:255(我们使用<strong class="ky jc">扩展的</strong> ASCII，以防我们遇到任何类似<strong class="ky jc"/>或<strong class="ky jc"> </strong>的意外情况)，这将确保我们得到值&lt; 1。</p><h2 id="907f" class="mp jz jb bd ka mq mr dn ke ms mt dp ki lh mu mv km ll mw mx kq lp my mz ku na bi translated">3.2 —处理培训数据()</h2><p id="93aa" class="pw-post-body-paragraph kw kx jb ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">此外，我们将把我们的训练数据存储为纯文本，而不是最终将输入我们人工智能的编码数据。-你以后会为此感谢我的。因此，我们需要另一个函数(下面称为<code class="fe nm nn no np b">processTrainingData()</code>)将前面提到的编码函数应用于我们的训练数据，有选择地将文本转换为编码字符，并返回一组训练数据，这将很好地与Brain.js一起使用</p><p id="b3fd" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">下面是所有代码的样子(这将放入您的“scripts.js”文件中):</p><figure class="nc nd ne nf gt is"><div class="bz fp l di"><div class="nk nl l"/></div><figcaption class="ng nh gj gh gi ni nj bd b be z dk translated">31行。差不多就是这样。</figcaption></figure><p id="90dd" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">您会注意到，在前面显示的文档示例中没有出现的内容(除了我们已经讨论过的两个帮助函数)出现在第20行的<code class="fe nm nn no np b">train()</code>函数中，该函数将训练好的神经网络保存到一个名为<code class="fe nm nn no np b">trainedNet</code>的全局变量中。这使我们不必每次使用神经网络时都要重新训练它。一旦网络被训练并保存到变量中，我们就可以像调用函数一样调用它，并传入我们的编码输入(如<code class="fe nm nn no np b">execute()</code>函数中第25行所示)来使用我们的人工智能</p><p id="282c" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">好了，现在你的index.html、<em class="lz"> brain.js </em>和<em class="lz"> scripts.js </em>文件已经完成了。现在我们只需要在training-data.js中放些东西，就可以开始了。</p><h2 id="c3d6" class="mp jz jb bd ka mq mr dn ke ms mt dp ki lh mu mv km ll mw mx kq lp my mz ku na bi translated"><strong class="ak"> 4 —列车</strong></h2><p id="ca0c" class="pw-post-body-paragraph kw kx jb ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">最后但同样重要的是，我们的训练数据。正如我提到的，我们将所有的推文存储为文本，并动态地将它们编码为数值，当您实际需要复制/粘贴训练数据时，这将使您的生活更加轻松。不需要格式化。只需粘贴文本并添加一个新行。</p><figure class="nc nd ne nf gt is"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="dc3d" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">将它添加到您的“training-data.js”文件中，您就完成了！</p><p id="00a1" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated"><em class="lz">注意:虽然上面的例子只显示了每个人的3个样本，但是我每个人用了10个；我只是不想让这个样本占用太多空间。当然，你的神经网络的准确性会随着你给它的训练数据量成比例增加，所以你可以随意使用比我多或少的数据，看看它如何影响你的结果</em></p><h2 id="6e45" class="mp jz jb bd ka mq mr dn ke ms mt dp ki lh mu mv km ll mw mx kq lp my mz ku na bi translated"><strong class="ak"> 5 —执行</strong></h2><p id="d1ca" class="pw-post-body-paragraph kw kx jb ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">现在，要运行你新训练的神经网络，只需在你的“script.js”文件底部添加一行代码，调用<code class="fe nm nn no np b">execute()</code>函数，传入特朗普或卡戴珊的推文；确保console.log它，因为我们还没有构建UI。这是金·卡戴珊的一条推文，它不在我的训练数据中(也就是说，该网络以前从未遇到过这条推文):</p><pre class="nc nd ne nf gt nq np nr ns aw nt bi"><span id="a96c" class="mp jz jb np b gy nu nv l nw nx">console.log(execute("These aren't real. Kanye would never write Yeezy on the side"));</span></pre><p id="9c8c" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">然后在本地主机上打开你的index.html页面，查看控制台，然后…</p><figure class="nc nd ne nf gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ny"><img src="../Images/d1248df88d4ae05a2204614afe3f49e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sfs6gwSrafYG_Xmq3oZMxg.png"/></div></div></figure><p id="6b86" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">在那里！该网络正确地识别出一条从未见过的推文来自金·卡戴珊，确定性为86%。</p><p id="0039" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">现在让我们用特朗普的推文再试一次:</p><pre class="nc nd ne nf gt nq np nr ns aw nt bi"><span id="e22d" class="mp jz jb np b gy nu nv l nw nx">console.log(execute("Whether we are Republican or Democrat, we must now focus on strengthening Background Checks!"));</span></pre><p id="1a04" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">而结果…</p><figure class="nc nd ne nf gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nz"><img src="../Images/d49221e6b166ff456c00a22281f70ac6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bx357O4z2a2EW_akhwai0Q.png"/></div></div></figure><p id="a585" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">又是一条前所未见的推文。再次，正确识别！这次有97%的把握。</p><h2 id="9ae9" class="mp jz jb bd ka mq mr dn ke ms mt dp ki lh mu mv km ll mw mx kq lp my mz ku na bi translated"><strong class="ak"> 6 —利润？</strong></h2><p id="e02e" class="pw-post-body-paragraph kw kx jb ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">现在你有了一个神经网络，可以对你想要的任何文本进行训练！你可以很容易地利用它来识别电子邮件或公司在线评论的情绪，识别垃圾邮件，对博客文章进行分类，确定一条消息是否紧急，或者数千种不同的应用程序中的任何一种。尽管我们的tweet标识符毫无用处，但它仍然说明了一个非常有趣的问题:像这样的神经网络可以执行像根据某人的写作方式来识别他们这样细微的任务。</p><p id="0f30" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">因此，即使你不去创建一个由机器学习驱动的创新或有用的工具，这仍然是你的开发人员工具带中的一个很好的体验。你永远不知道它什么时候会派上用场，或者甚至在未来开辟新的机会。</p><p id="f06f" class="pw-post-body-paragraph kw kx jb ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated"><em class="lz">同样，所有这些都可以在GitHub repo中找到:</em></p><div class="ip iq gp gr ir oa"><a href="https://github.com/lordpoint/neural-network-author-classifier.git" rel="noopener  ugc nofollow" target="_blank"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd jc gy z fp of fr fs og fu fw ja bi translated">脊柱点/神经网络作者分类器</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">这是Brain.js神经网络的一个实现，可以区分…</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">github.com</p></div></div><div class="oj l"><div class="ok l ol om on oj oo ix oa"/></div></div></a></div></div></div>    
</body>
</html>