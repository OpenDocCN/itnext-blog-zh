<html>
<head>
<title>Hosting a React App for Free using Github Pages</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Github页面免费托管React应用程序</h1>
<blockquote>原文：<a href="https://itnext.io/hosting-a-react-app-for-free-using-github-pages-7328ea04b11c?source=collection_archive---------3-----------------------#2019-09-20">https://itnext.io/hosting-a-react-app-for-free-using-github-pages-7328ea04b11c?source=collection_archive---------3-----------------------#2019-09-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="5ac1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这篇文章最初是<a class="ae ko" href="https://keithweaver.ca/lesson/hosting-a-react-app-for-free-using-gh-pages?s=mit" rel="noopener ugc nofollow" target="_blank">在我的个人网站</a>上发布的，然后<a class="ae ko" href="https://medium.com/@Keithweaver_/hosting-a-react-app-for-free-using-github-pages-57bc049580d8" rel="noopener">在我的媒体页面</a>上发布的。我还整理了一个Youtube教程<a class="ae ko" href="https://youtu.be/8P8cJk6defs" rel="noopener ugc nofollow" target="_blank">和</a>。</p><p id="4eb2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本教程中，我将带您建立一个简单的React.js应用程序，它可以托管在Github页面上。我真的很喜欢在这里托管，因为对我个人来说是免费的，Github处理“服务器管理”。一旦我部署了我的React应用程序并验证它已经启动，Github就会处理流量激增、更新等问题。</p><p id="5c75" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我通常使用<a class="ae ko" href="https://github.com/keithweaver/mern-boilerplate" rel="noopener ugc nofollow" target="_blank">这个MERN样板库</a>库，但是它有太多额外的东西专门用于节点服务器。我找到了<a class="ae ko" href="https://github.com/keithweaver/react-gh-pages" rel="noopener ugc nofollow" target="_blank">这个资源库</a>。这是一个简单得多的样板代码库，只关注React。请明星，我的叉子，所以我知道人们仍然在使用它。我还建议将文件复制到您的存储库中。</p><h1 id="a194" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">最初的</h1><p id="c0cb" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">第一步是验证我们有一个完整的项目，它可以运行。我假设您的计算机上有Node.js，并且以前使用过这个环境。如果没有，就去Node.js网站下载。对我来说(你可以在不同的版本上，但至少尽量晚一点):</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="6613" class="mb kq it lx b gy mc md l me mf">node --versionv10.16.1</span></pre><p id="2acd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我将我的文件复制到一个新的空存储库中，所以我首先要提交它们。<a class="ae ko" href="https://github.com/tschaub/gh-pages" rel="noopener ugc nofollow" target="_blank"> GH-Pages </a>是发送到build to Github页面的npm包。**GH-Pages来自母版**。</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="6e3f" class="mb kq it lx b gy mc md l me mf">git add --all<br/>git commit -m "The start of my website"<br/>git push origin master</span></pre><figure class="ls lt lu lv gt mh gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/c74d77e30411b00abe7699e00ef302a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:60/0*O_THpKxMG94ec7nH"/></div></figure><figure class="ls lt lu lv gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi mk"><img src="../Images/2d0ce5a85b95dbe28d5aae20023860ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Z9DkqWfkdokr1J_P.png"/></div></div></figure><p id="e0dd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下一步是在本地运行它。我们需要安装所有依赖项，包括:</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="7254" class="mb kq it lx b gy mc md l me mf">npm install</span></pre><p id="2d43" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们可以在本地计算机上运行它，使用:</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="c038" class="mb kq it lx b gy mc md l me mf">npm run start</span></pre><p id="48c8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它将打开一个浏览器，或者您可以打开<code class="fe mp mq mr lx b"><a class="ae ko" href="http://localhost:3000./" rel="noopener ugc nofollow" target="_blank">http://localhost:3000</a></code> <a class="ae ko" href="http://localhost:3000./" rel="noopener ugc nofollow" target="_blank">。</a></p><figure class="ls lt lu lv gt mh gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/3d809013b81900b0fabd254defb7f935.png" data-original-src="https://miro.medium.com/v2/resize:fit:60/0*AOfopk7JNF5VwjOh"/></div></figure><figure class="ls lt lu lv gt mh gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/05c88b5729af7e534517c7c211558385.png" data-original-src="https://miro.medium.com/v2/resize:fit:926/format:webp/0*om4pm1ioFURy24B0.png"/></div></figure><figure class="ls lt lu lv gt mh gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/fb5b7e4a318bb770d7e076a93ed66c24.png" data-original-src="https://miro.medium.com/v2/resize:fit:60/0*_GOV_kbHwIeePO5a"/></div></figure><figure class="ls lt lu lv gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi mt"><img src="../Images/7f5d86e564c5d1c85abf226932e54a18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mckqDVdo68t0F_Mi.png"/></div></div></figure><p id="3f8f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们的应用程序正在运行，我们已经完成了环境设置。</p><h1 id="e9a1" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">运送至GH-页面</h1><p id="1b98" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">现在，我们将把这个非常简单的应用程序发送到GH-Pages。运行:</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="6433" class="mb kq it lx b gy mc md l me mf">npm run deploy</span></pre><figure class="ls lt lu lv gt mh gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/b7510469580119bb11aa2d0e1a57a6fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:60/0*B3zo9tK790pnCWnh"/></div></figure><figure class="ls lt lu lv gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi mu"><img src="../Images/813288c09c33bd986dd80a7a204e3742.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*sQhXrwxqogGshDip.png"/></div></div></figure><p id="ddbf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你可以在Github存储库设置下找到更多关于你的应用的信息。</p><figure class="ls lt lu lv gt mh gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/f7aed62c78f577b316676b749aa3848a.png" data-original-src="https://miro.medium.com/v2/resize:fit:60/0*DKt-Go3p9qLY9cuo"/></div></figure><figure class="ls lt lu lv gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi mv"><img src="../Images/48650137cfaa145aebe656e1691a2112.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ok75Jmnk0Gh2MMAc.png"/></div></div></figure><h1 id="7886" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">CNAME</h1><p id="6281" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">正如您可能看到的，有一种方法可以将自定义域添加到项目中。如果没有，请跳过这一步。你想在项目的路径中创建一个名为<code class="fe mp mq mr lx b">CNAME</code>的文件。只放域名，不放<code class="fe mp mq mr lx b">http</code>和<code class="fe mp mq mr lx b">https</code>。对我来说是:</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="1949" class="mb kq it lx b gy mc md l me mf">keithweaver.ca</span></pre><p id="fb68" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">前往设置标签中的Github页面设置。第一次也把它加在那里。您可能需要验证域所有权。你也应该强迫HTTPS。在您的DNS记录上，您只需添加以下记录:</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="9569" class="mb kq it lx b gy mc md l me mf">Type	Name	Value	           TTL	Actions<br/>A	    @	    185.199.108.153	 600 seconds<br/>A	    @	    185.199.109.153	 600 seconds<br/>A	    @	    185.199.110.153	 600 seconds<br/>A	    @	    185.199.111.153	 600 seconds</span></pre><p id="8218" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在使用CNAME时，我对这段代码有一个问题。每次我部署它都会移除CNAME。我在我的<code class="fe mp mq mr lx b">package.json</code>中添加了以下内容。我有这样的剧本:</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="950a" class="mb kq it lx b gy mc md l me mf">"predeploy": "npm run build",</span></pre><p id="e1e9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我把它改成了:</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="3279" class="mb kq it lx b gy mc md l me mf">"predeploy": "npm run build &amp;&amp; cp CNAME build/CNAME",</span></pre><p id="e211" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这将把CNAME文件移动到构建中。这解决了问题。</p><h1 id="b6a7" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">多条路线</h1><p id="8695" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">我将再次切换到本地开发，但是同样的情况也适用于部署到Github页面。另一个不能开箱即用的方面是用于处理多条路由的React路由器。</p><p id="4bdd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们将设置应用程序来处理多个路由。第一个是移动文件:</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="72a6" class="mb kq it lx b gy mc md l me mf">public/<br/>src/<br/>  containers/<br/>    App/<br/>      App.js<br/>    Home/<br/>      Home.js<br/>    HelloWorld/<br/>      HelloWorld.js<br/>  index.js</span></pre><p id="675e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我已经删除了一些本课不需要的文件。我已经将<code class="fe mp mq mr lx b">App.js</code>移动到多个子目录中。</p><p id="06d8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">将<code class="fe mp mq mr lx b">index.js</code>更改为:</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="c914" class="mb kq it lx b gy mc md l me mf">import React from 'react';<br/>import ReactDOM from 'react-dom';import { Route, Switch } from 'react-router';<br/>import { BrowserRouter } from 'react-router-dom';import App from './containers/App/App';<br/>import Home from './containers/Home/Home';<br/>import HelloWorld from './containers/HelloWorld/HelloWorld';import registerServiceWorker from './registerServiceWorker';<br/>ReactDOM.render((<br/>  BrowserRouter&gt;<br/>    App&gt;<br/>      Switch&gt;<br/>        Route exact path="/" component={Home} /&gt;<br/>        Route path="/hello" component={HelloWorld} /&gt;<br/>      /Switch&gt;<br/>    /App&gt;<br/>  /BrowserRouter&gt;<br/>), document.getElementById('root'));<br/>registerServiceWorker();</span></pre><p id="de36" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">将<code class="fe mp mq mr lx b">App.js</code>更改为:</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="d5a0" class="mb kq it lx b gy mc md l me mf">import React from 'react';const App = ({ children }) =&gt; (<br/>  div&gt;<br/>    {children}<br/>  /div&gt;<br/>);export default App;</span></pre><p id="022f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">添加<code class="fe mp mq mr lx b">Home.js</code>为:</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="ee39" class="mb kq it lx b gy mc md l me mf">import React from 'react';const Home = () =&gt; (<br/>  div&gt;<br/>    p&gt;Home/p&gt;<br/>  /div&gt;<br/>);export default Home;</span></pre><p id="cf53" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">添加<code class="fe mp mq mr lx b">HelloWorld.js</code>为:</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="1eed" class="mb kq it lx b gy mc md l me mf">import React from 'react';const HelloWorld = () =&gt; (<br/>  div&gt;<br/>    p&gt;Hello World/p&gt;<br/>  /div&gt;<br/>);export default HelloWorld;</span></pre><p id="601d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们少了几个包裹。我们需要反应路由器。运行:</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="9ca3" class="mb kq it lx b gy mc md l me mf">npm install react-router --save<br/>npm install react-router-dom --save</span></pre><p id="89b1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，您可以使用以下命令来测试它:</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="cd72" class="mb kq it lx b gy mc md l me mf">npm run start</span></pre><figure class="ls lt lu lv gt mh gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/2e9dbea72cb54a6c40ba25fa58e6c29c.png" data-original-src="https://miro.medium.com/v2/resize:fit:60/0*vNhC-XW2wVOQ-OrX"/></div></figure><figure class="ls lt lu lv gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi mw"><img src="../Images/72ca5cb724bb75cc46128a7eaa6b93dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xsb4cmAx65w6zL_c.png"/></div></div></figure><figure class="ls lt lu lv gt mh gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/253425d7ea717c2480da1c3094e561d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:60/0*l6I7AoQ5s228eB5a"/></div></figure><figure class="ls lt lu lv gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi mx"><img src="../Images/719ff8c64e32bebf48bda08283cbe9c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ZS5zpt50aRhzVldb.png"/></div></div></figure><p id="4ae2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">两条路线都行得通。如果这在Github页面上失败了，您可以添加以下内容(我为自己的站点添加了这些内容):</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="4665" class="mb kq it lx b gy mc md l me mf">"build": "react-scripts build &amp;&amp; cp build/index.html build/404.html",</span></pre><h1 id="843f" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">结论</h1><p id="e704" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">Github Pages是托管网页的绝佳方式。现在，您可以使用React非常容易地做到这一点。</p><p id="153b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">感谢阅读！更多信息请关注我的简介。</p></div></div>    
</body>
</html>