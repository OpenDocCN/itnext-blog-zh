<html>
<head>
<title>PGAdmin4 Docker Desktop Extension</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PGAdmin4 Docker桌面扩展</h1>
<blockquote>原文：<a href="https://itnext.io/pgadmin4-docker-desktop-extension-f12f55245377?source=collection_archive---------1-----------------------#2022-05-21">https://itnext.io/pgadmin4-docker-desktop-extension-f12f55245377?source=collection_archive---------1-----------------------#2022-05-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="bf68" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我是Linux命令行的忠实粉丝，所以我多年来一直从命令行使用Docker，但随着Docker Desktop for Linux的正式发布，我决定改用这种使用Docker的方式，即Windows或Mac用户的方式；)</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/51939eaa9c72d288f690d10eee216dfc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dr7I4gZ6Kmrza2Gt"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">Docker桌面Linux版在DockerCon 2022上发布</figcaption></figure><p id="7226" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae lb" href="https://docker.events.cube365.net/dockercon/2022/content/Videos/oZwAvW7auwoZYFSHF" rel="noopener ugc nofollow" target="_blank">https://docker . events . cube 365 . net/docker con/2022/content/Videos/ozwavw 7 auwozyfshf</a><br/>T3】https://docs.docker.com/desktop/linux/install/<br/><a class="ae lb" href="https://docs.docker.com/desktop/linux/" rel="noopener ugc nofollow" target="_blank">https://docs.docker.com/desktop/linux/</a></p><p id="95d7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">重要的是要考虑为什么Docker Desktop for Linux会运行VM ，在我迁移到Docker Desktop的传统Linux方式中，有一个令人惊叹的环境。！！。</p><p id="2dad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">另一个重要的考虑是Docker桌面扩展和这些扩展为开发者创造的生态系统。</p><p id="0bbc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通过对我的环境进行升级，我决定构建我的第一个Docker扩展，这个扩展用于在Docker桌面中使用<a class="ae lb" href="https://www.pgadmin.org/" rel="noopener ugc nofollow" target="_blank"> PGAdmin4 </a>。这个扩展看起来像:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi lc"><img src="../Images/295ca84ce32c03d6982f1bc2efe131dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bmnqmMAYQc-EQ8mtp4TKXg.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">PGAdmin4 Docker扩展的实际应用</figcaption></figure><h1 id="079b" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">为什么我需要PGAdmin4 Docker桌面扩展</h1><p id="e69c" class="pw-post-body-paragraph jn jo iq jp b jq mb js jt ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk ij bi translated">因为许多开发栈使用PostgreSQL作为后端数据库，这些栈可能是PHP/Laravel、Java Spring Boot和许多其他栈，所以通常开发人员需要一个工具来连接到这些运行的数据库，以检查数据并进行更改。</p><p id="7412" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有了以上假设，为什么不把一个<a class="ae lb" href="https://www.pgadmin.org/" rel="noopener ugc nofollow" target="_blank"> PGAdmin4 </a>流行工具集成到Docker桌面上呢？</p><p id="8e3e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您认为是，请继续下面的部分。</p><h1 id="d9d9" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">从市场安装</h1><p id="071c" class="pw-post-body-paragraph jn jo iq jp b jq mb js jt ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk ij bi translated">由于Docker Desktop<a class="ae lb" href="https://docs.docker.com/desktop/release-notes/#docker-desktop-4110" rel="noopener ugc nofollow" target="_blank">v 4 . 11 . 0</a>pgadmin 4扩展在市场页面中可用，只需点击+添加扩展即可</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/a129aba1a148bac07b09ca0340de683c.png" data-original-src="https://miro.medium.com/v2/resize:fit:502/format:webp/1*irBjAqbNAlcEc_xjC9e8Sg.png"/></div></figure><p id="a5b0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">找到PGAdmin4扩展并单击安装</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi lc"><img src="../Images/50ec86ba50542277765bc30c5e62e4f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k9sUz-G55PDWnfiQGfAmsg.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">Docker桌面市场上的PGAdmin4</figcaption></figure><p id="6dc3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这就是全部，PGAdmin4图标显示在左侧菜单(扩展测试版)。</p><h1 id="32f7" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">手动安装</h1><p id="d276" class="pw-post-body-paragraph jn jo iq jp b jq mb js jt ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk ij bi translated">如果您使用的是Docker Desktop <a class="ae lb" href="https://docs.docker.com/desktop/release-notes/#docker-desktop-4101" rel="noopener ugc nofollow" target="_blank"> v4.10.1 </a>或更低版本，只需执行以下命令即可安装:</p><pre class="km kn ko kp gt mh mi mj mk aw ml bi"><span id="d895" class="mm le iq mi b gy mn mo l mp mq">$ <strong class="mi ir">docker extension install </strong><a class="ae lb" href="https://hub.docker.com/repository/docker/mochoa/pgadmin4-docker-extension" rel="noopener ugc nofollow" target="_blank"><strong class="mi ir">mochoa/pgadmin4-docker-extension</strong></a><strong class="mi ir">:</strong><a class="ae lb" href="https://hub.docker.com/layers/230465206/mochoa/pgadmin4-docker-extension/6.10.0/images/sha256-736a8c56c57d9cb56eae2f3e6c26dd2d1f028000d76a605d31747bd88900c59f?context=repo" rel="noopener ugc nofollow" target="_blank"><strong class="mi ir">6.10.0</strong></a><br/>Extensions can install binaries, invoke commands and access files on your machine.<br/>Are you sure you want to continue? [y/N] y<br/>Image not available locally, pulling <a class="ae lb" href="https://hub.docker.com/repository/docker/mochoa/pgadmin4-docker-extension" rel="noopener ugc nofollow" target="_blank">mochoa/pgadmin4-docker-extension</a>:<a class="ae lb" href="https://hub.docker.com/layers/230465206/mochoa/pgadmin4-docker-extension/6.10.0/images/sha256-736a8c56c57d9cb56eae2f3e6c26dd2d1f028000d76a605d31747bd88900c59f?context=repo" rel="noopener ugc nofollow" target="_blank">6.10.0</a>…<br/>Installing new extension “mochoa/pgadmin4-docker-extension:6.10.0”<br/>Installing service in Desktop VM…<br/>Setting additional compose attributes<br/>VM service started<br/>Installing Desktop extension UI for tab “PGAdmin4”…<br/>Extension UI tab “PGAdmin4” added.<br/>Extension “PGAdmin” installed successfully</span></pre><h2 id="a64e" class="mm le iq bd lf mr ms dn lj mt mu dp ln jy mv mw lr kc mx my lv kg mz na lz nb bi translated">注意:需要Docker扩展CLI来执行上述命令，请按照<a class="ae lb" href="https://docs.docker.com/desktop/extensions-sdk/#prerequisites" rel="noopener ugc nofollow" target="_blank">扩展SDK (Beta) - &gt;先决条件</a>页面上的说明添加它。</h2><h1 id="6a67" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">使用PGAdmin4 Docker扩展</h1><p id="32af" class="pw-post-body-paragraph jn jo iq jp b jq mb js jt ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk ij bi translated">一旦扩展被安装，一个新的扩展被列在Docker桌面的面板扩展(Beta)中。</p><p id="5929" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">点击<strong class="jp ir"> <em class="nc"> PGAdmin4 </em> </strong>图标，扩展主窗口将显示运行中的扩展</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi lc"><img src="../Images/fc545a2e0f7002c59779eb8808a7e528.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PYCXzsS6az-49d2Zb2wFfA.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">PGAdmin4欢迎屏幕</figcaption></figure><p id="9c0e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当扩展启动时，可能需要几秒钟，一个进度指示器将等待它</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nd"><img src="../Images/bed0814c7089c452d5b5528e6b2ef064.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hVot9x1ztrLk6mzB9VMnbg.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">进度指示器栏</figcaption></figure><p id="9032" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首次登录时会要求您输入pgAdmin4的主密码，填入您的主密码，然后单击OK。</p><p id="5332" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通过点击添加新服务器，您可以添加在Docker桌面或外部运行的PostgreSQL服务器，在Docker桌面中运行的PostgreSQL的IP可在菜单中找到，设置-&gt;资源-&gt;网络-&gt; Docker子网，在我的例子中是192.168.65.0/24，因此用于扩展在Docker桌面中运行的PostgreSQL容器的内部IP将是<strong class="jp ir"> <em class="nc"> 192.168.65.2 </em> </strong>，还有一个解析上述内容的DNS名称</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ne"><img src="../Images/86c42b19f4a43ba3561ff5895a03ff25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*m4e0OEQprx_GgUA7"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">如何找到内部网桥IP</figcaption></figure><p id="4b30" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们看一个PostgreSQL开始使用Docker桌面特色图片的例子:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nf"><img src="../Images/fdf13041390f750e58ce5e5d97f07cc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pSws39YIbPXseDtt"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">PostgreSQL Docker实例作为功能图像启动</figcaption></figure><p id="d6b0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">PostgreSQL概述显示了以下示例URL:</p><blockquote class="ng nh ni"><p id="d7a5" class="jn jo nc jp b jq jr js jt ju jv jw jx nj jz ka kb nk kd ke kf nl kh ki kj kk ij bi translated"><strong class="jp ir">postgres</strong>://<strong class="jp ir">postgres</strong>:<strong class="jp ir">postgrespw</strong>@ localhost:<strong class="jp ir">55000</strong></p></blockquote><p id="6f7a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于PGAdmin，这意味着添加新服务器:</p><ul class=""><li id="290a" class="nm nn iq jp b jq jr ju jv jy no kc np kg nq kk nr ns nt nu bi translated">名称:测试</li><li id="dc85" class="nm nn iq jp b jq nv ju nw jy nx kc ny kg nz kk nr ns nt nu bi translated">主机名/地址:<strong class="jp ir">T25】host . docker . internalT27】</strong></li><li id="05fc" class="nm nn iq jp b jq nv ju nw jy nx kc ny kg nz kk nr ns nt nu bi translated">端口:<strong class="jp ir">T29】55002T31】</strong></li><li id="5c52" class="nm nn iq jp b jq nv ju nw jy nx kc ny kg nz kk nr ns nt nu bi translated">维护数据库:<strong class="jp ir">T33】postgresT35】</strong></li><li id="052c" class="nm nn iq jp b jq nv ju nw jy nx kc ny kg nz kk nr ns nt nu bi translated">用户名:<strong class="jp ir">T37】postgresT39】</strong></li><li id="bd3e" class="nm nn iq jp b jq nv ju nw jy nx kc ny kg nz kk nr ns nt nu bi translated">密码:<strong class="jp ir"><em class="nc">postgrespw</em>T43】</strong></li></ul><p id="155d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通过选择保存密码，上述密码将存储在PGAdmin4内部存储中，并将一直保留到您卸载此扩展。让我们看看实际情况:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/1159c71b803ae1c2a4280d7ce820c091.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/1*oL1vMl0l9vHmKNW5qWTsZQ.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">添加新服务器对话框</figcaption></figure><p id="f137" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可以添加尽可能多的PostgreSQL数据库作为单独的Docker容器或服务运行，但请记住5432 PostgreSQL端口必须是公开的。首先使用容器窗格进行检查，例如:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/8ed124ebbe5d1d4d60b9158b4ebae73f.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/0*cGio3xHJ60VRe2i3"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">检查暴露的端口</figcaption></figure><h1 id="83cb" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">来源</h1><p id="050c" class="pw-post-body-paragraph jn jo iq jp b jq mb js jt ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk ij bi translated">像往常一样，这个扩展的代码在<a class="ae lb" href="https://github.com/marcelo-ochoa/pgadmin4-docker-extension" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上，请随意提出修改建议并做出贡献，请注意，我是React和TypeScript的初级开发人员，因此欢迎为改进这个UI做出贡献。</p></div></div>    
</body>
</html>