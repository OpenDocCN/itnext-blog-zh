<html>
<head>
<title>Laravel and Vue: Creating a Portfolio website with a CRUD admin panel — Chapter 14</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Laravel和Vue:用CRUD管理面板创建作品集网站——第14章</h1>
<blockquote>原文：<a href="https://itnext.io/laravel-and-vue-creating-a-portfolio-website-with-a-crud-admin-panel-chapter-14-9f5ca00bf263?source=collection_archive---------7-----------------------#2020-01-09">https://itnext.io/laravel-and-vue-creating-a-portfolio-website-with-a-crud-admin-panel-chapter-14-9f5ca00bf263?source=collection_archive---------7-----------------------#2020-01-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9990" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">viewItemModal的关闭按钮</h2></div><h1 id="e922" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">打扫</h1><p id="e659" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">在上一章中，我们有两种创建作品集的方法。我们选择使用第二种方法，因为它需要更少的代码。</p><p id="b0da" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">这两种方法都需要<code class="fe mb mc md me b"><strong class="lc iu">template</strong></code>和<code class="fe mb mc md me b"><strong class="lc iu">style</strong></code> <strong class="lc iu"> </strong>标签中的代码。我们现在应该删除任何不再需要的样式。不再需要的样式有:</p><ul class=""><li id="f307" class="mf mg it lc b ld lw lg lx lj mh ln mi lr mj lv mk ml mm mn bi translated">。卡片</li><li id="9775" class="mf mg it lc b ld mo lg mp lj mq ln mr lr ms lv mk ml mm mn bi translated">。卡片内容</li><li id="bc3f" class="mf mg it lc b ld mo lg mp lj mq ln mr lr ms lv mk ml mm mn bi translated">。柔性中心</li><li id="ccd4" class="mf mg it lc b ld mo lg mp lj mq ln mr lr ms lv mk ml mm mn bi translated">。卡片p</li><li id="7b26" class="mf mg it lc b ld mo lg mp lj mq ln mr lr ms lv mk ml mm mn bi translated">。卡片-文本-容器</li></ul><p id="21d5" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们应该留下这些风格:</p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="1b4c" class="nb kj it me b gy nc nd l ne nf">&lt;style <em class="ng">scoped</em>&gt;<br/>    #portfolio-gallery {<br/>        display:flex;<br/>        flex-wrap: wrap;<br/>    }<br/>    .itemNameParent {<br/>        width: 320px;<br/>        height: 240px;<br/>        display: flex;<br/>        align-items: flex-end;<br/>        border:solid;<br/>    }<br/>    .item {<br/>        flex-grow: 1;<br/>        display:flex;<br/>        justify-content:center;<br/>    }<br/>    .itemName {<br/>        margin: 0; <br/>        font-size: 3em; <br/>        background-color: rgba(244,200,3,0.5);<br/>        width: 100%; <br/>        text-align: center;<br/>    }<br/>    .itemNameParent:hover {<br/>        box-shadow: 3px 3px 18px 18px rgba(0,150,255,0.91);<br/>    }<br/>&lt;/style&gt;</span></pre><p id="e30f" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们也可以从模态中删除id，因为我们不使用它。</p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="8e0c" class="nb kj it me b gy nc nd l ne nf">&lt;div <strong class="me iu">i̶d̶=̶"̶m̶y̶-̶m̶o̶d̶a̶l̶"̶</strong> <em class="ng">v-if</em>="showItemModal" <em class="ng">class</em>="modal" <em class="ng">@click</em>="closeModal"&gt;</span></pre></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><h2 id="437d" class="nb kj it bd kk no np dn ko nq nr dp ks lj ns nt ku ln nu nv kw lr nw nx ky ny bi translated">关闭按钮</h2><p id="bcf2" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我们可以在项目名称下面添加一个关闭按钮</p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="925e" class="nb kj it me b gy nc nd l ne nf">&lt;div <em class="ng">id</em>="my-modal" <em class="ng">v-if</em>="showItemModal" <em class="ng">class</em>="modal" <em class="ng">@click</em>="closeModal"&gt;<br/>    &lt;div <em class="ng">class</em>="modal-body"&gt;<br/>        &lt;img <em class="ng">:src</em>="'storage/itempics/' + 'large/' + <em class="ng">this</em>.item.img_path"/&gt;<br/>        &lt;h1&gt;{{this.item.name}}&lt;/h1&gt;<br/>        <strong class="me iu">&lt;button  <em class="ng">class</em>="modal-close-btn" <em class="ng">href</em>="#" <em class="ng">@click</em>="closeModalBtn"&gt;<br/>            &lt;span&gt;X&lt;/span&gt;<br/>        &lt;/button&gt;</strong><br/>    &lt;/div&gt;<br/>&lt;/div&gt;</span></pre><figure class="mt mu mv mw gt oa gh gi paragraph-image"><div role="button" tabindex="0" class="ob oc di od bf oe"><div class="gh gi nz"><img src="../Images/08cee919378c17fc398aab48f4f48d02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BGP0kJ1DpJGbgQDoJ73RlQ.png"/></div></div></figure><p id="c78d" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">此按钮的方法是:</p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="5f80" class="nb kj it me b gy nc nd l ne nf">closeModalBtn() {<br/>    <em class="ng">this</em>.showItemModal = <em class="ng">false<br/></em>}</span></pre><p id="0774" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们可以将它添加到closeModal(event)方法的下面。</p><p id="e812" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">不要将<code class="fe mb mc md me b"><strong class="lc iu">closeModal(event)</strong></code>和<code class="fe mb mc md me b"><strong class="lc iu">closeModalBtn()</strong></code> <strong class="lc iu"> </strong>方法相互混淆。</p><p id="4a67" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated"><code class="fe mb mc md me b"><strong class="lc iu">closeModal(event)</strong></code> <strong class="lc iu">是</strong>用于关闭模态，当你点击模态外的<strong class="lc iu">时。</strong></p><p id="fdda" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated"><code class="fe mb mc md me b"><strong class="lc iu">closeModalBtn()</strong></code> <strong class="lc iu"> </strong>是关闭模态，当点击按钮上的<strong class="lc iu">时。</strong></p><p id="ed8a" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">让我们更改显示项目模式的布局</p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><h1 id="86a4" class="ki kj it bd kk kl oh kn ko kp oi kr ks jz oj ka ku kc ok kd kw kf ol kg ky kz bi translated"><strong class="ak">改变显示项目模式的布局</strong></h1><p id="0640" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我们可以将modal-body的类改为showItem-modal-body</p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="fed7" class="nb kj it me b gy nc nd l ne nf">&lt;div <em class="ng">class</em>="showItem-modal-body"&gt;<br/>    &lt;img <em class="ng">:src</em>="'storage/itempics/' + 'large/' + <em class="ng">this</em>.item.img_path"/&gt;<br/>    &lt;h1&gt;{{this.item.name}}&lt;/h1&gt;<br/>    &lt;button  <em class="ng">class</em>="modal-close-btn" <em class="ng">href</em>="#" <em class="ng">@click</em>="closeModalBtn"&gt;<br/>        &lt;span&gt;X&lt;/span&gt;<br/>    &lt;/button&gt;<br/>&lt;/div&gt;</span></pre><p id="7b90" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">第一件事是给这个类的边界，背景和宽度</p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="737c" class="nb kj it me b gy nc nd l ne nf">.showItem-modal-body {<br/>    background: red;<br/>    border: solid;<br/>    width:80vw;<br/>}</span></pre><figure class="mt mu mv mw gt oa gh gi paragraph-image"><div role="button" tabindex="0" class="ob oc di od bf oe"><div class="gh gi nz"><img src="../Images/aeb1169752c2061bf8e0c2454d7b461f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dAFkuQyfpkTcnXFSE5pZVw.png"/></div></div></figure><p id="7b9a" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">“关闭”按钮可以移动到具有showItem-modal-header类的元素中。</p><p id="8a0e" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">让我们创建该元素并将关闭按钮移到那里。</p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="431b" class="nb kj it me b gy nc nd l ne nf"><strong class="me iu">&lt;div <em class="ng">class</em>="showItem-modal-header"&gt;<br/>    &lt;button  <em class="ng">class</em>="modal-close-btn" <em class="ng">href</em>="#" <em class="ng">@click</em>="closeModalBtn"&gt;<br/>        &lt;span&gt;X&lt;/span&gt;<br/>    &lt;/button&gt;<br/>&lt;/div&gt;</strong><br/>&lt;div <em class="ng">class</em>="showItem-modal-body"&gt;<br/>    &lt;img <em class="ng">:src</em>="'storage/itempics/' + 'large/' + <em class="ng">this</em>.item.img_path"/&gt;<br/>    &lt;h1&gt;{{this.item.name}}&lt;/h1&gt;<br/>&lt;/div&gt;</span></pre><figure class="mt mu mv mw gt oa gh gi paragraph-image"><div role="button" tabindex="0" class="ob oc di od bf oe"><div class="gh gi nz"><img src="../Images/ba6aa12e520643467f4d557931f12fa1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5YGz7fN5fNw0ay01hlkk2A.png"/></div></div></figure><p id="c352" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">现在关闭按钮出现在红色框的左侧。这是因为这里的父元素拥有<strong class="lc iu"> modal </strong>类，而modal类拥有style <code class="fe mb mc md me b"><strong class="lc iu">display:flex</strong></code> <strong class="lc iu">。</strong></p><p id="05d1" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们需要给modal添加一个类，并添加样式<code class="fe mb mc md me b"><strong class="lc iu">flex-direction:column</strong></code></p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="8dff" class="nb kj it me b gy nc nd l ne nf">&lt;div <em class="ng">v-if</em>="showItemModal" <em class="ng">class</em>="modal <strong class="me iu">showItemModal</strong>" <em class="ng">@click</em>="closeModal"&gt;</span><span id="c92e" class="nb kj it me b gy om nd l ne nf">.showItemModal {<br/>    flex-direction: column;<br/>}</span></pre><figure class="mt mu mv mw gt oa gh gi paragraph-image"><div role="button" tabindex="0" class="ob oc di od bf oe"><div class="gh gi nz"><img src="../Images/a68db160c2a2d41b86c00d89d88a60c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tr5DzcN_vgy2-KnbkiWQTQ.png"/></div></div></figure><p id="78b8" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们应该给模态标题一个背景，宽度和边框。</p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="1e3e" class="nb kj it me b gy nc nd l ne nf">.showItem-modal-header {<br/>    background: #04BC92;<br/>    border: solid;<br/>    width:80vw;<br/>}</span></pre><figure class="mt mu mv mw gt oa gh gi paragraph-image"><div role="button" tabindex="0" class="ob oc di od bf oe"><div class="gh gi nz"><img src="../Images/f1364cb26ce7e566b27b2fa96795471d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FLH8XosdzS3kMny4iuf7LQ.png"/></div></div></figure><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="b6d5" class="nb kj it me b gy nc nd l ne nf">.modal-close-btn {<br/>    float: right;<br/>}</span></pre><figure class="mt mu mv mw gt oa gh gi paragraph-image"><div role="button" tabindex="0" class="ob oc di od bf oe"><div class="gh gi nz"><img src="../Images/783bdc897c822860136a40c038c8b27a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xdiSe_pXPilgBFmLF7JbMQ.png"/></div></div></figure><p id="d503" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">让我们给图像一个背景色</p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="0aac" class="nb kj it me b gy nc nd l ne nf">img {background:white;}</span></pre><p id="1b60" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">将flexbox与模态几何体一起使用</p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="e3db" class="nb kj it me b gy nc nd l ne nf">.showItem-modal-body {<br/>    background: red;<br/>    border: solid;<br/>    width:80vw;<strong class="me iu"><br/>    display: flex;</strong><br/> }</span></pre><figure class="mt mu mv mw gt oa gh gi paragraph-image"><div role="button" tabindex="0" class="ob oc di od bf oe"><div class="gh gi nz"><img src="../Images/074d124709cee0b6ac8ea9324838c489.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k4OHdm2rYazIjJpV214s2w.png"/></div></div></figure><p id="79e8" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们需要创建一个包含名称和描述的元素。让我们给这个元素一个<strong class="lc iu">项目描述区域</strong>的id。我们需要使用flexbox，让它垂直(<code class="fe mb mc md me b"><strong class="lc iu">flex-direction:column;</strong></code>)，让它随着<code class="fe mb mc md me b"><strong class="lc iu">flex:1</strong></code>一起成长</p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="c05b" class="nb kj it me b gy nc nd l ne nf">&lt;div <em class="ng">class</em>="showItem-modal-body"&gt;<br/>        &lt;img <em class="ng">:src</em>="'storage/itempics/' + 'large/' + <em class="ng">this</em>.item.img_path"/&gt;<br/>    <strong class="me iu">&lt;div <em class="ng">id</em>="project-description-area"&gt;<br/>        &lt;h1&gt;{{this.item.name}}&lt;/h1&gt;<br/>        &lt;p&gt;{{this.item.description}}&lt;/p&gt;<br/>    &lt;/div&gt;</strong><br/>&lt;/div&gt;</span><span id="2e06" class="nb kj it me b gy om nd l ne nf">#project-description-area {<br/>    display: flex;<br/>    flex-direction: column;<br/>    flex: 1;<br/>}</span></pre><p id="d358" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们需要使它的字体颜色明亮，将文本居中对齐，并使用比默认字体更大的字体。</p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="dac5" class="nb kj it me b gy nc nd l ne nf">#project-description-area {<br/>    display: flex;<br/>    flex-direction: column;<br/>    flex: 1;<br/>    <strong class="me iu">color: white;<br/>    text-align: center;<br/>    font-size: 3em;</strong><br/>}</span></pre><figure class="mt mu mv mw gt oa gh gi paragraph-image"><div role="button" tabindex="0" class="ob oc di od bf oe"><div class="gh gi nz"><img src="../Images/78cf3963b5b39527455940375e12f66c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8sH8X7naKufOosICSvvghQ.png"/></div></div></figure><p id="aefb" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">让我们改变项目描述区域的背景。我们还应该改变字体颜色，使它更容易看。</p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="97de" class="nb kj it me b gy nc nd l ne nf">#project-description-area {<br/>    display: flex;<br/>    flex-direction: column;<br/>    flex: 1;<br/>    <strong class="me iu">color: black;</strong><br/>    text-align: center;<br/>    font-size: 3em;<br/>    <strong class="me iu">background: #39CCCC;</strong><br/>}</span></pre><figure class="mt mu mv mw gt oa gh gi paragraph-image"><div role="button" tabindex="0" class="ob oc di od bf oe"><div class="gh gi nz"><img src="../Images/29954e7776a9d70c4eadc135133ee3e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sBFP3U_NCNt9vsQ8m5uYFw.png"/></div></div></figure><p id="d43d" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">让我们去掉模态页眉的<strong class="lc iu">下边框</strong>和模态正文的<strong class="lc iu">上边框</strong>。</p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="14ad" class="nb kj it me b gy nc nd l ne nf">.showItem-modal-header {<br/>    background: #04BC92;<br/>    border: solid;<br/>    border-bottom: none;<br/>    width:80vw;<br/>}<br/>.showItem-modal-body {<br/>    background: red;<br/>    border: solid;<br/>    border-top: none;<br/>    width:80vw;<br/>    display: flex;<br/>    flex-wrap: wrap;<br/>}</span></pre><figure class="mt mu mv mw gt oa gh gi paragraph-image"><div role="button" tabindex="0" class="ob oc di od bf oe"><div class="gh gi nz"><img src="../Images/de1b43a3625c49952c643291ca1c5c4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z9xiZJHM2XPWfTPqwDSx_A.png"/></div></div></figure><h1 id="98db" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">勾选清单</h1><ul class=""><li id="ba77" class="mf mg it lc b ld le lg lh lj on ln oo lr op lv mk ml mm mn bi translated">带文本的图像(Portfolio.vue) ✅</li><li id="e5ff" class="mf mg it lc b ld mo lg mp lj mq ln mr lr ms lv mk ml mm mn bi translated">具有更大图像和描述的模型(Portfolio.vue)✅</li><li id="194c" class="mf mg it lc b ld mo lg mp lj mq ln mr lr ms lv mk ml mm mn bi translated">莫代尔(Portfolio.vue)✅)上的关闭按钮</li></ul><p id="f3d7" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">现在是时候创建“关于”部分了</p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><p id="e118" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">在创建about部分之前，我们需要通过分离做一些<strong class="lc iu">准备。</strong></p><h2 id="f6ff" class="nb kj it bd kk no np dn ko nq nr dp ks lj ns nt ku ln nu nv kw lr nw nx ky ny bi translated"><strong class="ak">分离准备(第14章版本)</strong></h2><p id="97bb" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">在继续处理这两个组件之前，我们应该将一些组件移动到它们各自的文件夹中；类似于第七章的分离准备。</p><p id="b875" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们应该将Portfolio.vue移动到<strong class="lc iu"> public/sections </strong>文件夹中。</p><p id="3d04" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们还应该将PortfolioEditor、PortfolioEditorTable、confirmDeleteModal、addItemModal和updateItemModal移动到<strong class="lc iu"> admin/sections </strong>文件夹<strong class="lc iu">中。</strong></p><p id="b5ce" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">resources/js/public/home.vue👇：</p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="8ea4" class="nb kj it me b gy nc nd l ne nf">&lt;template&gt;<br/>    &lt;masthead <em class="ng">:profile</em>="profile"/&gt;<br/>    &lt;portfolio/&gt;<br/>&lt;/template&gt;<br/><br/>&lt;script&gt;<br/>    <em class="ng">import </em>masthead <em class="ng">from </em>"./sections/masthead";<br/>    <em class="ng">import </em>Portfolio <em class="ng">from </em>"./sections/Portfolio";<br/>    <em class="ng">export default </em>{<br/>        name: "home",<br/>        components: {<br/>            Portfolio,<br/>            masthead<br/>        },<br/>        data() {<br/>            <em class="ng">return </em>{<br/>                profile: {<br/>                    type:Object<br/>                }<br/>            }<br/>        },<br/>        mounted() {<br/>            <em class="ng">this</em>.getProfile();<br/>        },<br/>        methods: {<br/>            getProfile() {<br/>                axios.get('/api/profile')<br/>                    .then(response =&gt; {<br/>                        console.log(response.data);<br/>                        <em class="ng">this</em>.profile = response.data;<br/>                    })<br/>                    .catch(error =&gt; {<br/>                        <em class="ng">console</em>.log(error);<br/>                    });<br/>            },<br/>        }<br/>    }<br/>&lt;/script&gt;</span></pre><p id="271b" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们需要确保Portfolio.vue在<code class="fe mb mc md me b"><strong class="lc iu">&lt;style&gt;&lt;/style&gt;</strong></code>中有以下类</p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="318b" class="nb kj it me b gy nc nd l ne nf">.modal {<br/>    top: 0;<br/>    bottom: 0;<br/>    left: 0;<br/>    right: 0;<br/>    background-color: rgba(0, 0, 0, 0.3);<br/>    display: flex;<br/>    justify-content: center;<br/>    align-items: center;<br/>}<br/>.showItemModal {<br/>    display:flex;<br/>    flex-direction: column;<br/>    position: fixed;<br/>    z-index: 1;<br/>}</span></pre><p id="c563" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">resources/js/admin/home.vue👇：</p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="f2ba" class="nb kj it me b gy nc nd l ne nf">&lt;template&gt;<br/>    &lt;div <em class="ng">id</em>="admin-home"&gt;<br/>        &lt;ProfileEditor/&gt;<br/>        &lt;PortfolioEditor/&gt;<br/>    &lt;/div&gt;<br/>&lt;/template&gt;<br/><br/>&lt;script&gt;<br/>    <em class="ng">import </em>ProfileEditor <em class="ng">from </em>"./sections/ProfileEditor";<br/>    <em class="ng">import </em>PortfolioEditor <em class="ng">from </em>"./sections/PortfolioEditor";<br/>    <em class="ng">export default </em>{<br/>        name: "home",<br/>        components: {<br/>            PortfolioEditor,<br/>            ProfileEditor<br/>        }<br/>    }<br/>&lt;/script&gt;</span></pre></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><h1 id="6bf1" class="ki kj it bd kk kl oh kn ko kp oi kr ks jz oj ka ku kc ok kd kw kf ol kg ky kz bi translated">关于部分</h1><p id="8f24" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">App.vue👇：</p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="f822" class="nb kj it me b gy nc nd l ne nf">&lt;template&gt;<br/>    &lt;div <em class="ng">id</em>="app"&gt;<br/>        &lt;About/&gt;<br/>    &lt;/div&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>    <em class="ng">import </em>About <em class="ng">from </em>'./About';<br/>    <em class="ng">export default </em>{<br/>        name: "App",<br/>        components: {<br/>            About<br/>        },<br/>        data() {<br/>            <em class="ng">return </em>{}<br/>        },<br/>        mounted() {<br/>        },<br/>        methods: {},<br/>    }<br/>&lt;/script&gt;</span></pre><p id="ca56" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">“关于”部分需要两件事:</p><ol class=""><li id="08c1" class="mf mg it lc b ld lw lg lx lj mh ln mi lr mj lv oq ml mm mn bi translated">关于文本</li><li id="67fc" class="mf mg it lc b ld mo lg mp lj mq ln mr lr ms lv oq ml mm mn bi translated">下载简历按钮</li></ol><p id="2610" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们需要创建about.vue，在about.vue中，应该有一个地方有<strong class="lc iu">关于文本</strong>和<strong class="lc iu">下载简历按钮</strong>。</p><p id="948a" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">About.vue👇：</p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="f044" class="nb kj it me b gy nc nd l ne nf">&lt;template&gt;<br/>    &lt;section <em class="ng">id</em>="about"&gt;<br/>        &lt;p&gt;About Text&lt;/p&gt;<br/>        &lt;button&gt;Download CV&lt;/button&gt;<br/>    &lt;/section&gt;<br/>&lt;/template&gt;</span></pre><p id="5c03" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">这是构建该组件的初始阶段。我们还需要建立它的对应部分，即关于Editor.vue</p><p id="823b" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">AboutEditor需要一个将上传简历的<strong class="lc iu">表单。</strong>简历必须是pdf、doc或docx格式。</p><p id="5034" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">AboutEditor.vue👇：</p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="d7cc" class="nb kj it me b gy nc nd l ne nf">&lt;template&gt;<br/>    &lt;section <em class="ng">id</em>="about-editor"&gt;<br/>        &lt;h1&gt;About Editor&lt;/h1&gt;<br/>        &lt;form <em class="ng">enctype</em>="multipart/form-data" <em class="ng">id</em>="about-form"&gt;<br/>            &lt;input <em class="ng">type</em>="file" <em class="ng">@change</em>="selectFile" <em class="ng">name</em>="cv" <strong class="me iu"><em class="ng">accept</em>=".doc, .docx, .pdf"</strong>&gt;<br/>            &lt;button <em class="ng">@click.prevent</em>="onSubmit"&gt;Submit&lt;/button&gt;<br/>        &lt;/form&gt;<br/>    &lt;/section&gt;<br/>&lt;/template&gt;</span></pre><p id="d353" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">这些方法将会和以前的表格中的方法相似</p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="e24b" class="nb kj it me b gy nc nd l ne nf">selectFile(event) {<br/>    <em class="ng">this</em>.file = event.target.files[0];<br/>},<br/>onSubmit() {<br/>    <em class="ng">let </em>fd = <em class="ng">new </em>FormData();<br/>    fd.append('cv', <em class="ng">this</em>.file);<br/>    <em class="ng">this</em>.postAboutForm(fd);<br/>},<br/>postAboutForm(fd) {<br/>    axios.post('api/about', fd)<br/>},</span></pre><p id="1de9" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">api路线(在<strong class="lc iu">api.php</strong>):</p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="60db" class="nb kj it me b gy nc nd l ne nf">Route::<em class="ng">post</em>('/about', 'AboutController@postAboutForm');</span></pre><p id="eec5" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们应该创建AboutController</p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="d820" class="nb kj it me b gy nc nd l ne nf">php artisan make:controller AboutController</span></pre><p id="a7c8" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">postAboutForm函数()应该上传文件。该文件的关键字为<strong class="lc iu"> cv </strong></p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="d037" class="nb kj it me b gy nc nd l ne nf"><em class="ng">public function </em>postAboutForm(){<br/>    $file = request()-&gt;file('<strong class="me iu">cv</strong>');<br/>    $file-&gt;store('/public/cvs');<br/>}</span></pre><p id="3b82" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">store()函数在这里上传你的文件，但是它使用了一个<strong class="lc iu">散列文件名</strong>。</p><h2 id="27c7" class="nb kj it bd kk no np dn ko nq nr dp ks lj ns nt ku ln nu nv kw lr nw nx ky ny bi translated">避免散列文件名</h2><p id="45e2" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">为了避免散列文件名，您只需使用<strong class="lc iu"> storeAs() </strong>而不是store()</p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="1610" class="nb kj it me b gy nc nd l ne nf"><em class="ng">public function </em>postAboutForm(){<br/>    $file = request()-&gt;file('cv');<br/>    <strong class="me iu">$̶f̶i̶l̶e̶-̶&gt;̶s̶t̶o̶r̶e̶(̶'̶/̶p̶u̶b̶l̶i̶c̶/̶c̶v̶s̶'̶)̶;̶</strong><br/>    $file-&gt;storeAs('public/cvs', 'FILENAMEHERE');<br/>}</span></pre><p id="b8f5" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">使用storeAs()函数时，需要指定文件名。这里我们要用<strong class="lc iu">原文件名</strong>。</p><h2 id="ca13" class="nb kj it bd kk no np dn ko nq nr dp ks lj ns nt ku ln nu nv kw lr nw nx ky ny bi translated">原始文件名</h2><p id="3100" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">使用<code class="fe mb mc md me b"><strong class="lc iu">getClientOriginalName()</strong>;</code>可以获得原始文件名，然后我们在storeAs函数中使用它。</p><pre class="mt mu mv mw gt mx me my mz aw na bi"><span id="986a" class="nb kj it me b gy nc nd l ne nf"><em class="ng">public function </em>postAboutForm(){<br/>    $file = request()-&gt;file('cv');<br/>    <strong class="me iu">$originalName</strong> = $file-&gt;getClientOriginalName();<br/>    $file-&gt;storeAs('public/cvs', <strong class="me iu">$originalName</strong>);<br/>}</span></pre><p id="73e8" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">现在我们可以上传文件了，它会以原来的名字上传。</p><figure class="mt mu mv mw gt oa gh gi paragraph-image"><div role="button" tabindex="0" class="ob oc di od bf oe"><div class="gh gi or"><img src="../Images/86c56ca350a915eb16f1d07399779ce0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*O941vWUiUxr09nXH"/></div></div><figcaption class="os ot gj gh gi ou ov bd b be z dk translated">加文·阿兰伍德在<a class="ae ow" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><p id="c438" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">在第15章，我们将看看公众是如何下载简历的。</p></div></div>    
</body>
</html>