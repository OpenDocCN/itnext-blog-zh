<html>
<head>
<title>So You Want Social Login (OAuth 2.0) With Flutter…</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">所以你想用Flutter进行社交登录(OAuth 2.0)</h1>
<blockquote>原文：<a href="https://itnext.io/so-you-want-social-login-oauth-2-0-with-flutter-38f51ab02bba?source=collection_archive---------1-----------------------#2021-02-28">https://itnext.io/so-you-want-social-login-oauth-2-0-with-flutter-38f51ab02bba?source=collection_archive---------1-----------------------#2021-02-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ab4c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">d̶e̶f̶i̶n̶i̶t̶i̶v̶e̶快速简易指南。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c7eb828d2db896e75c0dc4a96d920b6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fCfEP3pqaM16ROFO"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae ky" href="https://unsplash.com/@austinchan?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Austin Chan </a>拍摄的照片</figcaption></figure><p id="9d70" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我知道你为什么在这里。你正在开发或计划开发一个应用程序，这将是继花生酱之后最伟大的事情。你选择了Flutter，因为你着眼于未来，而React Native在2021年并不成功。你坐在你的机器前，脸上带着灿烂的笑容，准备改变世界。但首先，你如何实现社交登录？您在网上寻找c̶o̶m̶p̶r̶e̶h̶e̶n̶s̶i̶v̶e快速简单的解决方案，但没有找到。您所发现的是一些用于特定平台的库，而且，坦率地说，它们既不快速也不容易。是的，我知道你在想什么。不，我不是灵媒。我知道这些事情是因为，我就是你。</p><p id="54cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不久前，我从某人那里学到了一些东西:让简单的事情变得简单。没错。这是我写的每一行代码背后的指导原则。在网上搜寻可行的解决方案失败后，很明显这必须是一项定制工作。目标很简单:在Flutter中创建一些东西，让使用<strong class="lb iu"> OAuth 2.0 </strong>的认证尽可能简单。在我的应用程序中构建了这个功能后，我决定将它放入自己的包中，并与社区共享。开源的美妙之处。</p><p id="537f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那我们就开始吧。该库名为<a class="ae ky" href="https://github.com/e-oj/visa" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">签证</strong> </a>(对贾里德·汉森的护照微微点头)。它建立一个<a class="ae ky" href="https://pub.dev/packages/webview_flutter" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> webview </strong> </a>用于使用适当的平台进行身份验证，并返回所有相关的OAuth数据，包括访问令牌。以下是如何通过脸书认证用户的方法:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="6630" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">样品运行:</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lx"><img src="../Images/a417fff6ef414d909fbff6be2d7861d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*I5d0pDCOGg1vrJI0-XRTUw.gif"/></div></div></figure><p id="d7e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是我几个月前在网上寻找解决方案时一直在寻找的东西:又快又简单。该示例显示了如何实现脸书登录，但是相同的模式适用于所有支持的平台。它们都实现了相同的接口。开箱即用支持以下平台:</p><ul class=""><li id="b054" class="ly lz it lb b lc ld lf lg li ma lm mb lq mc lu md me mf mg bi translated">脸谱网</li><li id="0b8c" class="ly lz it lb b lc mh lf mi li mj lm mk lq ml lu md me mf mg bi translated">谷歌</li><li id="c285" class="ly lz it lb b lc mh lf mi li mj lm mk lq ml lu md me mf mg bi translated">推趣</li><li id="53b7" class="ly lz it lb b lc mh lf mi li mj lm mk lq ml lu md me mf mg bi translated">不调和</li><li id="f3a3" class="ly lz it lb b lc mh lf mi li mj lm mk lq ml lu md me mf mg bi translated">开源代码库</li></ul><h2 id="df06" class="mm mn it bd mo mp mq dn mr ms mt dp mu li mv mw mx lm my mz na lq nb nc nd ne bi translated">哦，不，我的平台不受支持…</h2><p id="d763" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">不要害怕。<a class="ae ky" href="https://github.com/e-oj/visa" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">签证</strong> </a>旨在让第三方认证尽可能简单。其中一部分是使向库中添加OAuth 2.0提供者变得容易。这是通过<strong class="lb iu"> Visa接口</strong>和<strong class="lb iu"> SimpleAuth </strong>类实现的。下面是<strong class="lb iu">界面</strong>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="90bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以及<strong class="lb iu"> SimpleAuth </strong>类:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="2c50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要添加新的Oauth提供者，只需创建一个实现Visa接口的类。下面是DiscordAuth(一个内置提供程序)的代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="e268" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">仅此而已。如果您最终实现了一个新的提供者，请打开一个拉请求，以便我们可以在库中拥有它。查看<a class="ae ky" href="https://github.com/e-oj/visa" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">签证</strong> </a>文件了解更多技术细节。如果您发现任何错误，请在<a class="ae ky" href="https://github.com/e-oj/visa/issues" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">问题</strong> </a>页面报告。像这样走到最后干得不错。希望这个快速简单的解决方案能让你更快更容易地改变世界。</p><p id="0b0d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">👌谢谢你的时间。</strong></p></div><div class="ab cl nk nl hx nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="im in io ip iq"><h2 id="409a" class="mm mn it bd mo mp mq dn mr ms mt dp mu li mv mw mx lm my mz na lq nb nc nd ne bi translated">资源</h2><p id="4d41" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated"><a class="ae ky" href="https://github.com/e-oj/visa" rel="noopener ugc nofollow" target="_blank">签证</a>、<a class="ae ky" href="https://github.com/e-oj/visa/tree/master/test_app/lib" rel="noopener ugc nofollow" target="_blank">App样本(见gif) </a>、<a class="ae ky" href="https://github.com/e-oj/visa/issues" rel="noopener ugc nofollow" target="_blank"> Github问题</a></p></div></div>    
</body>
</html>