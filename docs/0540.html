<html>
<head>
<title>Notific8 — From Old School to Modern: Part 1 — Planning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通知8 —从老派到现代:第1部分—规划</h1>
<blockquote>原文：<a href="https://itnext.io/notific8-from-old-school-to-modern-part-1-planning-ff7dd7bff65e?source=collection_archive---------6-----------------------#2018-03-27">https://itnext.io/notific8-from-old-school-to-modern-part-1-planning-ff7dd7bff65e?source=collection_archive---------6-----------------------#2018-03-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="531c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Notific8是一个小型的模块化JavaScript库，用于呈现终端用户通知，我从2013年开始就一直致力于此。随着时间的推移，我添加了更多的功能和主题，以及一个模块系统来扩展它。</p><p id="c104" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">诚然，在过去的几年里，我没有太多的时间投入其中，所以这个项目有点停滞不前。2018年我想做的一件大事，就是重新开始为了好玩而做自己的编程项目。第一个是将Notific8从附加到<code class="fe kl km kn ko b">window</code>对象的基本JavaScript库更新到用Typescript编写的ES2015+兼容模块。</p><p id="b0e9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">考虑到我正在开发的代码库已经经历了5年的变化，这将是一个有点复杂的过程。然而，我认为这是一个值得分享的过程，可能对其他考虑更新项目的人有用。这篇文章是Notific8更新后系列文章的第一篇。</p><h1 id="fa71" class="kp kq iq bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">为什么是打字稿</h1><p id="2e2d" class="pw-post-body-paragraph jn jo iq jp b jq ln js jt ju lo jw jx jy lp ka kb kc lq ke kf kg lr ki kj kk ij bi translated">在我高中和大学期间，我们被迫使用强类型语言。每当我开始以编程为乐，开始学习动态类型的语言时，我年轻时的无知就会欣喜若狂。我可以做任何我想要的东西，并且不用担心类型是否匹配，因为这无关紧要！哦，年轻天真的威尔...</p><p id="2420" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">几年后，我的职业生涯已经深入到了腰部，很明显，打字并不像我以前想的那么糟糕或烦人。事实上，我开始更喜欢它，不为别的，只为它能帮助我拯救自己，嗯，我自己！虽然Typescript的类型检查只发生在为浏览器/节点传输代码之前的编写代码时，但它仍然有助于迫使开发人员既向前又向后思考，并明智地对待他们编写的内容。</p><p id="abda" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">打字并不是我选择Typescript的唯一原因。我也喜欢在C#这样的常规强类型语言中工作的感觉。还有一些实验性的特性还没有成为正式的es规范，比如decorator(Java世界中的注释，C#世界中的属性),我觉得它非常有用。</p><p id="1901" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">说到底，这是一门我很熟悉的语言，而且我发现用它来写我的代码非常有帮助和愉快。它非常适合编写干净、易读、易懂的代码。任何优秀开发人员的目标之一就是让代码比你发现时更干净，即使是你写的原始代码。</p><h1 id="2d68" class="kp kq iq bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">朋友们，今天没有代码</h1><p id="c65e" class="pw-post-body-paragraph jn jo iq jp b jq ln js jt ju lo jw jx jy lp ka kb kc lq ke kf kg lr ki kj kk ij bi translated">为什么今天没有代码？这很简单:一个优秀的开发人员在编写(或重写)任何代码之前，总是至少要花几分钟来做计划！一个飞行员在起飞前没有记录飞行计划是不会开飞机的，那么我们为什么要开飞机呢？</p><p id="7049" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们在记事本上分解Notific8的基础知识:</p><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="gh gi ls"><img src="../Images/7e0cdfc3c1b7fc6e07b247fb234a3877.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RWygdOwipQUwWTwe6KKfKQ.jpeg"/></div></div><figcaption class="me mf gj gh gi mg mh bd b be z dk translated">通知8背后的当前想法概述</figcaption></figure><p id="047b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最基本的是，Notific8在屏幕的右上角显示一条简单的通知消息，当用户将鼠标悬停在通知上时，会出现一个关闭按钮。在更高级的用法中，可以传递许多选项来配置单个通知或用于配置所有未来的通知。</p><h1 id="6a84" class="kp kq iq bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">分解当前的用法</h1><p id="ab74" class="pw-post-body-paragraph jn jo iq jp b jq ln js jt ju lo jw jx jy lp ka kb kc lq ke kf kg lr ki kj kk ij bi translated">当前的用法如下所示:</p><figure class="lt lu lv lw gt lx"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="e341" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">作为令人敬畏的软件架构师，我们可以很容易地看到两个需要关注的通知调用行:</p><ul class=""><li id="e0cd" class="mk ml iq jp b jq jr ju jv jy mm kc mn kg mo kk mp mq mr ms bi translated"><code class="fe kl km kn ko b">notific8</code>函数调用</li><li id="066e" class="mk ml iq jp b jq mt ju mu jy mv kc mw kg mx kk mp mq mr ms bi translated">包含配置的<code class="fe kl km kn ko b">notific8Options</code>对象</li></ul><h1 id="2c81" class="kp kq iq bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">notific8函数调用</h1><p id="4ae6" class="pw-post-body-paragraph jn jo iq jp b jq ln js jt ju lo jw jx jy lp ka kb kc lq ke kf kg lr ki kj kk ij bi translated">有幸在MV*前端世界(具体来说是Angular)呆了几年，我很快就能从例子中挑选出不同类型的结构。<code class="fe kl km kn ko b">notific8</code>库操纵DOM并在页面上创建一个新元素集。虽然它没有自己的标签，但它的行为非常像一个组件。我们可以利用这些知识来告知我们在重新设计中是如何考虑的。</p><h1 id="8b26" class="kp kq iq bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">notific8Options对象文本</h1><p id="270a" class="pw-post-body-paragraph jn jo iq jp b jq ln js jt ju lo jw jx jy lp ka kb kc lq ke kf kg lr ki kj kk ij bi translated">notific8Options对象文本包含通知的选项。这个例子只是可以传入的许多选项中的几个。当我们编写代码来创建一个新的通知时，知道有哪些选项对我们是有用的。当我们使用Typescript时，在一个接口中定义最少的可用选项是很有用的。</p><h1 id="5ce6" class="kp kq iq bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">无限远…嗯，至少是起点</h1><p id="09eb" class="pw-post-body-paragraph jn jo iq jp b jq ln js jt ju lo jw jx jy lp ka kb kc lq ke kf kg lr ki kj kk ij bi translated">当前实现的一个非常明显的问题是它依附于<code class="fe kl km kn ko b">window</code>对象。这不是一件好事。当然，这让它很容易被访问，但也让它很容易被攻击。这也意味着开发者不能只在他们想用的地方导入它，所以它总是可用的，不太可能在捆绑时经过适当的树抖动。说到捆绑，开发人员可能不得不编写一个包装器来与webpack这样的捆绑工具一起使用。图书馆内部也在进行大量的隐蔽工作。</p><p id="1dce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们如何解决这个问题？当然是ES2015+兼容模块！</p><p id="2e49" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们想把一些控制权还给开发者。我们可能要考虑向开发者提供的一些东西的快速头脑风暴:</p><p id="cd64" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">一个可导入的模块</strong></p><p id="77f8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">易于使用和理解的打字方式</strong></p><p id="e139" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">一个工厂到</strong></p><ul class=""><li id="5db3" class="mk ml iq jp b jq jr ju jv jy mm kc mn kg mo kk mp mq mr ms bi translated">创建通知</li><li id="3d61" class="mk ml iq jp b jq mt ju mu jy mv kc mw kg mx kk mp mq mr ms bi translated">管理队列</li><li id="9a54" class="mk ml iq jp b jq mt ju mu jy mv kc mw kg mx kk mp mq mr ms bi translated">管理默认值</li></ul><p id="4e1d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">包含</strong>的通知对象</p><ul class=""><li id="f9a6" class="mk ml iq jp b jq jr ju jv jy mm kc mn kg mo kk mp mq mr ms bi translated">一种配置通知的方法</li><li id="ace5" class="mk ml iq jp b jq mt ju mu jy mv kc mw kg mx kk mp mq mr ms bi translated">启动通知的方法</li><li id="01a0" class="mk ml iq jp b jq mt ju mu jy mv kc mw kg mx kk mp mq mr ms bi translated">关闭通知的方法</li><li id="f18b" class="mk ml iq jp b jq mt ju mu jy mv kc mw kg mx kk mp mq mr ms bi translated">销毁通知的方法</li></ul><p id="aff0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">上面的一些部分现在是Notific8的一部分，但是隐藏在系统中。许多零件都是新的。</p><p id="6d70" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">光是这个列表就足以让我们理清头绪，所以这可能是第1部分的一个很好的结束点。</p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><p id="2be9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="nf">最初发表于</em><a class="ae ng" href="https://gist.github.com/1bfacf34c31b190821bcd4c584e5bf00" rel="noopener ugc nofollow" target="_blank"><em class="nf">【gist.github.com】</em></a><em class="nf">。</em></p></div></div>    
</body>
</html>