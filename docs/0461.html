<html>
<head>
<title>Create-react-app with VS Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用VS代码创建-反应-应用程序</h1>
<blockquote>原文：<a href="https://itnext.io/create-react-app-with-vs-code-1913321b48d?source=collection_archive---------2-----------------------#2018-03-13">https://itnext.io/create-react-app-with-vs-code-1913321b48d?source=collection_archive---------2-----------------------#2018-03-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/52952b9191159e14fe9a3c680d17ad81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iFN_PWPWs6TQ9JzDp2v9Wg.jpeg"/></div></div></figure><p id="875a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我做<strong class="ka ir">前端开发者</strong>已经有一段时间了，我看到我们的世界从“如果你想让它工作，你必须配置<strong class="ka ir">千个</strong>东西”到“点击这里，一切都将<strong class="ka ir">只是</strong>工作”。</p><p id="c122" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最近，我开始摆弄<strong class="ka ir"> React </strong>，因为我的工作涉及React <strong class="ka ir">单页应用</strong>。我惊讶地发现，使用脸书开发的工具<a class="ae kw" href="https://github.com/facebook/create-react-app" rel="noopener ugc nofollow" target="_blank"> create-react-app </a>样板来设置一个新的应用程序是多么容易。</p><p id="629e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">基本上它所做的是隐藏所有无聊的配置文件，并给你一个自以为是的配置，这在大多数情况下应该是有效的。</p><blockquote class="kx ky kz"><p id="451e" class="jy jz la ka b kb kc kd ke kf kg kh ki lb kk kl km lc ko kp kq ld ks kt ku kv ij bi translated">你不需要安装或配置像Webpack或Babel这样的工具。<br/>它们被预先配置并隐藏，以便您可以专注于代码。</p><p id="7d51" class="jy jz la ka b kb kc kd ke kf kg kh ki lb kk kl km lc ko kp kq ld ks kt ku kv ij bi translated">只要创建一个项目，你就可以开始了。</p></blockquote><p id="cbb9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">他们甚至提供了<strong class="ka ir">热重装</strong>，以及<strong class="ka ir"> ESLint </strong>的默认配置！但是编码真的足够了吗？</p><p id="325b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我使用<a class="ae kw" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> VS代码</a>作为<strong class="ka ir">文本编辑器。嗯，文本编辑器，我可能应该停止使用这些词来描述它，因为现在它比简单的文本编辑器更接近于一个完整的IDE。也许一个<strong class="ka ir"> <em class="la">智能代码编辑器</em> </strong>？</strong></p><p id="adae" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">无论如何，你对智能代码编辑器有什么期望？没错，出错时会有红色波浪线，自动完成，自动格式化。</p><p id="f7d1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们看看如何用VS代码实现这一点。</p></div><div class="ab cl le lf hu lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ij ik il im in"><h1 id="d3cb" class="ll lm iq bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">安装正确的依赖项</h1><p id="9b0e" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">首先，你要做的是安装正确的npm依赖项。</p><p id="d46a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你使用<a class="ae kw" href="https://yarnpkg.com" rel="noopener ugc nofollow" target="_blank">纱线</a>，你可以做到:</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="14c3" class="mx lm iq mt b gy my mz l na nb">yarn add -D \<br/>  @types/react \<br/>  @types/react-dom \<br/>  eslint-plugin-prettier \<br/>  husky \<br/>  prettier \<br/>  pretty-quick</span></pre><p id="bdea" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">否则，使用<a class="ae kw" href="https://www.npmjs.com" rel="noopener ugc nofollow" target="_blank"> npm </a>:</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="c76e" class="mx lm iq mt b gy my mz l na nb">npm install --save-dev<br/>  @types/react \<br/>  @types/react-dom \<br/>  eslint-plugin-prettier \<br/>  husky \<br/>  prettier \<br/>  pretty-quick</span></pre><ul class=""><li id="6050" class="nc nd iq ka b kb kc kf kg kj ne kn nf kr ng kv nh ni nj nk bi translated"><strong class="ka ir"> <em class="la"> types/react </em> </strong>和<strong class="ka ir"><em class="la">types/react-DOM</em></strong>将为React安装Typescript定义。这将允许VS代码为内置的React函数计算出<strong class="ka ir">自动完成</strong>。输入“反应”，立即尝试并点击“CTRL+SPACE”来触发自动完成。</li><li id="cd80" class="nc nd iq ka b kb nl kf nm kj nn kn no kr np kv nh ni nj nk bi translated"><strong class="ka ir"><em class="la">eslint-plugin-appearlier</em></strong>和<strong class="ka ir"><em class="la">appearlier</em></strong>(<a class="ae kw" href="https://github.com/prettier/prettier" rel="noopener ugc nofollow" target="_blank">自以为是的代码格式化程序</a> ) <strong class="ka ir"> <em class="la"> </em> </strong>将协同工作，正确地解析您的文件并自动格式化<strong class="ka ir">您的代码。</strong></li><li id="a957" class="nc nd iq ka b kb nl kf nm kj nn kn no kr np kv nh ni nj nk bi translated"><strong class="ka ir"> <em class="la"> husky </em> </strong>通过将自身链接到一个git挂钩，比如<strong class="ka ir"> precommit </strong>，来防止错误的提交和推送。结合<strong class="ka ir"> <em class="la">漂亮快速</em> </strong>，它会在这样做的同时跟随你更漂亮的配置。</li></ul><p id="a2e4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当我们触及依赖项和<strong class="ka ir"> package.json </strong>文件时，让我们添加一个<strong class="ka ir">脚本</strong>条目:</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="1ef4" class="mx lm iq mt b gy my mz l na nb">"scripts": {<br/>    "precommit": "pretty-quick staged",</span></pre><p id="fa48" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这将确保您的文件在提交之前总是按照您的漂亮配置进行格式化。</p><p id="91b2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">虽然create-react-app为我们抽象了配置文件，但我们仍然需要编写一个小的配置文件。</p></div><div class="ab cl le lf hu lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ij ik il im in"><h1 id="4ad4" class="ll lm iq bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">。eslintrc</h1><p id="c51b" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">这个文件对于让ESLint理解它对Lint的意义是必不可少的。</p><p id="1956" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">创建一个名为<strong class="ka ir"> <em class="la">的文件。应用程序的根目录:</em></strong></p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="cd93" class="mx lm iq mt b gy my mz l na nb">{<br/>  "extends": "react-app",<br/>  "plugins": ["prettier"],<br/>  "rules": {<br/>    "prettier/prettier": "error"<br/>  }<br/>}</span></pre></div><div class="ab cl le lf hu lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ij ik il im in"><h1 id="bfca" class="ll lm iq bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">VS代码扩展</h1><p id="a0b1" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">现在，我们只需要为VS代码安装正确的扩展。搜索<strong class="ka ir"> ESLint </strong>和<strong class="ka ir">beautiful</strong>，并安装两者。</p><p id="9092" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可能需要重启，因为“重新加载”按钮似乎并不总是足够的。</p><p id="f6dd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，如果一切都按预期运行，您可以开始在编辑器中键入一些垃圾，并立即看到它随着红线变得疯狂！</p></div><div class="ab cl le lf hu lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ij ik il im in"><h1 id="0997" class="ll lm iq bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">设置. json</h1><p id="e6e3" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">最后一件事:推荐你创建一个<strong class="ka ir"><em class="la">settings . JSON</em></strong>文件。这是VS代码中的标准工作区设置文件。输入“CTRL-SHIFT-P”+“工作区设置”即可访问。</p><p id="5e47" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">复制-粘贴此示例:</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="4654" class="mx lm iq mt b gy my mz l na nb">{<br/>    "files.associations": {<br/>        "*.js": "javascriptreact"<br/>    },<br/>    "editor.formatOnSave": true<br/>}</span></pre><p id="6670" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">第一行是告诉VS代码，当你在一个<strong class="ka ir"> <em class="la"> *的时候。js </em> </strong>文件，你要启用“javascriptreact”语法高亮显示。</p><p id="5fc6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">第二行告诉编辑器，每次保存文件时，它应该运行得更漂亮。永远忘记括号缩进！</p></div><div class="ab cl le lf hu lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ij ik il im in"><h1 id="6404" class="ll lm iq bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">额外收获:绝对路径导入</h1><p id="fdd8" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">如果你能做到呢</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="1b90" class="mx lm iq mt b gy my mz l na nb">import MyComponent from "components/MyComponent"</span></pre><p id="5751" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从任何地方，而不是必须计数的“../”并做类似的事情</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="cfca" class="mx lm iq mt b gy my mz l na nb">import MyComponent from "../../../components/MyComponent"</span></pre><p id="1ce0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是远远不需要的，但我觉得它可能是有用的，因为我花了一些时间来使它与VS代码和create-react-app一起工作，我想我可能会分享它。</p><p id="fbb0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这种可能性有两个方面。首先，你需要告诉<a class="ae kw" href="https://webpack.js.org" rel="noopener ugc nofollow" target="_blank"> webpack </a>你希望你的路径包含你的“<strong class="ka ir"> <em class="la"> src </em> </strong>”文件夹。然后，您希望VS代码知道这个选择。</p><p id="f7b0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Create-react-app有一种通过<strong class="ka ir"> <em class="la">定义环境变量的方法。env </em> </strong>文件。创建一个名为<strong class="ka ir">的文件<em class="la">。env </em> </strong>"文件，并定义<strong class="ka ir"> NODE_PATH </strong>变量:</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="2d6e" class="mx lm iq mt b gy my mz l na nb">NODE_PATH=src/</span></pre><p id="1768" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后，创建一个名为"<strong class="ka ir"><em class="la">jsconfig . JSON</em></strong>"的文件，同样位于应用程序的根目录下:</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="e765" class="mx lm iq mt b gy my mz l na nb">{<br/>  "compilerOptions": {<br/>    "target": "ES6",<br/>    "module": "commonjs",<br/>    "allowSyntheticDefaultImports": true,<br/>    "baseUrl": "./src/",<br/>    "paths": {<br/>      "*": [<br/>        "*"<br/>      ]<br/>    }<br/>  },<br/>  "exclude": [<br/>    "node_modules",<br/>    "**/node_modules/*"<br/>  ]<br/>}</span></pre><p id="f893" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">本文档中有更多关于其工作原理的信息。</p></div><div class="ab cl le lf hu lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ij ik il im in"><p id="a08c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">希望你觉得有用。用React和VS代码快乐编码！</p></div></div>    
</body>
</html>