# 从 Jenkins 作业返回值

> 原文：<https://itnext.io/returning-a-value-from-jenkins-job-7eefe5f537e9?source=collection_archive---------0----------------------->

![](img/014d2883ed6c3f5c21be31d1af7d993d.png)

假设我们有一个 Jenkins 管道作业，它创建了一个虚拟机并在其上安装了一个服务。

我们将创建 3 个作业——一个将机器名和服务名作为参数，并调用第二个作业——来创建机器，第三个作业来安装服务。

第三个作业需要机器 IP 来安装服务，因此创建虚拟机的第二个作业需要返回机器 IP。

最近我发现使用环境变量是可能的。下游作业完成后，我们可以通过
b.getBuildVariables()来访问它的变量

詹金斯文件的第一项，“主要”工作:

Jenkins 文件的第二个“创建虚拟机”作业:

这样我们就可以从下游的 Jenkins 作业返回任意数量的值，并在链中的下一个作业中使用它！

尽情享受吧！