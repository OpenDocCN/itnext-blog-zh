<html>
<head>
<title>Custom Components in Formik</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Formik中的自定义组件</h1>
<blockquote>原文：<a href="https://itnext.io/custom-components-in-formik-6b9e5f39626c?source=collection_archive---------7-----------------------#2019-08-15">https://itnext.io/custom-components-in-formik-6b9e5f39626c?source=collection_archive---------7-----------------------#2019-08-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/b12bd8f27106b1c0197b411f20c0e0fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:450/format:webp/0*uR6etNeQiaELEgRh.png"/></div></figure><p id="67a7" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">形式和<a class="ae ks" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank">反应</a>。他们在一起不相配吗？如果你在做任何严肃的<em class="kt">反应</em>开发，你迟早会构建一个复杂的表单。推出自己的自制框架的诱惑可能会出现，但你必须与之斗争。有很多好的现有解决方案可供选择。</p><p id="2535" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">你可以选择<a class="ae ks" href="https://jaredpalmer.com/formik/" rel="noopener ugc nofollow" target="_blank">来完成任务。在这种情况下，我想向您展示如何为它构建一个定制的输入组件。</a></p><h1 id="ede2" class="ku kv iq bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">等等，福米克？</h1><p id="0fc7" class="pw-post-body-paragraph ju jv iq jw b jx ls jz ka kb lt kd ke kf lu kh ki kj lv kl km kn lw kp kq kr ij bi translated"><em class="kt">福米克</em>是block 上新的<a class="ae ks" href="https://jaredpalmer.com/formik/" rel="noopener ugc nofollow" target="_blank">酷小子。引用官方文件:</a></p><blockquote class="lx ly lz"><p id="fa36" class="ju jv kt jw b jx jy jz ka kb kc kd ke ma kg kh ki mb kk kl km mc ko kp kq kr ij bi translated"><em class="iq">在无眼泪的情况下做出反应。</em></p></blockquote><p id="eccd" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我当然分享眼泪的部分。我曾经用<a class="ae ks" href="https://redux.js.org" rel="noopener ugc nofollow" target="_blank"> redux </a>构建我的表单，使用<a class="ae ks" href="https://github.com/davidkpiano/react-redux-form" rel="noopener ugc nofollow" target="_blank"> react-redux-form </a>。这是一个很好的库，不要误会我的意思，但最终在连接东西时会有很多摩擦。更不用说和政府打交道了。为什么，不管怎样？回过头来看，在Redux<em class="kt">中拥有我的表单状态似乎并没有给我多大帮助。</em></p><p id="3bbc" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">福米克采取了一种非常不同的方法。它是声明性的，依靠纯粹的<em class="kt">做出反应</em>。它使用<a class="ae ks" href="https://reactjs.org/docs/render-props.html" rel="noopener ugc nofollow" target="_blank">渲染道具</a>，这种模式在<em class="kt"> React </em>生态系统中迅速传播。说到这里，这篇文章最终帮助我更好地理解了他们。</p><p id="aa8f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">不管怎样，到目前为止，我的印象是<em class="kt"> Formik </em>不碍事，让你专注于构建你的表单。</p><h1 id="4bf1" class="ku kv iq bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">用户化</h1><p id="d9d9" class="pw-post-body-paragraph ju jv iq jw b jx ls jz ka kb lt kd ke kf lu kh ki kj lv kl km kn lw kp kq kr ij bi translated">常规的组件，加上少量的造型，会让你走得很远。它们涵盖了大多数典型的用例。但是如果你想增加情趣呢？</p><p id="118f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">例如，我有一个小应用程序，我想给一个星级，从一到五。我是先用常规的数字输入实现的，感觉没意思。我想点击星星，就像这样:</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/e72cc6e7604da5ed459c7d738fb3b5e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/0*QWaA_WGKTb1f8eyC.png"/></div></figure><p id="11ea" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">建造这样的东西时，<em class="kt"> Formik </em>进展如何？休息之后继续。</p><h1 id="c684" class="ku kv iq bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">代表性成分</h1><p id="bc89" class="pw-post-body-paragraph ju jv iq jw b jx ls jz ka kb lt kd ke kf lu kh ki kj lv kl km kn lw kp kq kr ij bi translated">在我们进入实际的表单内容之前，让我们构建<code class="fe md me mf mg b">Stars</code>作为显示组件。我们正在建造一排五星。我们有一个prop ( <code class="fe md me mf mg b">count</code>)来设置已满的星星的数量，还有一个handler ( <code class="fe md me mf mg b">handleClick</code>)来知道特定的星星何时被点击。</p><figure class="mi mj mk ml gt jr"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="0256" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><code class="fe md me mf mg b">Star</code>组件是一个薄薄的包装，包裹着一个<a class="ae ks" href="https://fontawesome.com/" rel="noopener ugc nofollow" target="_blank">字体很棒的</a>可点击图标。</p><h1 id="c648" class="ku kv iq bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">自定义输入组件</h1><p id="a778" class="pw-post-body-paragraph ju jv iq jw b jx ls jz ka kb lt kd ke kf lu kh ki kj lv kl km kn lw kp kq kr ij bi translated">我们终于到了实质性的部分。我们如何让<code class="fe md me mf mg b">Stars</code>组件<em class="kt"> Formik </em>知道呢？</p><p id="6d98" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们将在<a class="ae ks" href="https://jaredpalmer.com/formik/docs/api/field" rel="noopener ugc nofollow" target="_blank">字段</a>中呈现我们的<code class="fe md me mf mg b">Stars</code>表示组件。它还使用了渲染道具，我们将使用这些道具将它连接到我们的<code class="fe md me mf mg b">Stars</code>。</p><p id="d2e9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">有一个包含<code class="fe md me mf mg b">value</code>的<code class="fe md me mf mg b">field</code>散列，也就是集合星的数量。这将是<code class="fe md me mf mg b">count</code>的输入。为了在点击一个星号后更新这个值，我们在<code class="fe md me mf mg b">form</code>散列中使用了<code class="fe md me mf mg b">setFieldValue</code>函数。这将在内部更新<em class="kt"> Formik </em>上的值。</p><figure class="mi mj mk ml gt jr"><div class="bz fp l di"><div class="mm mn l"/></div></figure><h1 id="a4bf" class="ku kv iq bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">将它整合到一个表单中</h1><p id="824d" class="pw-post-body-paragraph ju jv iq jw b jx ls jz ka kb lt kd ke kf lu kh ki kj lv kl km kn lw kp kq kr ij bi translated">现在我们已经准备好了自定义输入组件，我们可以在一个常规的<em class="kt"> Formik </em>表单中呈现它，我们都准备好了:</p><figure class="mi mj mk ml gt jr"><div class="bz fp l di"><div class="mm mn l"/></div></figure><h1 id="4d7d" class="ku kv iq bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">Codesandbox</h1><p id="2df4" class="pw-post-body-paragraph ju jv iq jw b jx ls jz ka kb lt kd ke kf lu kh ki kj lv kl km kn lw kp kq kr ij bi translated">您可以在下面的沙箱中使用这个工作实现。查看并扩展它以满足您的需求。</p><div class="mo mp gp gr mq mr"><a href="https://codesandbox.io/embed/custom-formik-component-2t80u?fontsize=14" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd ir gy z fp mw fr fs mx fu fw ip bi translated">自定义表单组件代码沙盒</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">CodeSandbox是一个为web应用程序量身定制的在线编辑器。</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">codesandbox.io</p></div></div></div></a></div></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><p id="594c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="kt">原载于2019年8月15日</em><a class="ae ks" href="https://hceris.com/custom-components-in-formik/" rel="noopener ugc nofollow" target="_blank"><em class="kt">https://hceris.com</em></a><em class="kt">。</em></p></div></div>    
</body>
</html>