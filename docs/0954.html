<html>
<head>
<title>Ways to iterate through objects</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">遍历对象的方法</h1>
<blockquote>原文：<a href="https://itnext.io/ways-to-iterate-through-objects-19c64526bb56?source=collection_archive---------11-----------------------#2018-06-23">https://itnext.io/ways-to-iterate-through-objects-19c64526bb56?source=collection_archive---------11-----------------------#2018-06-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/417b79541fc0a025f7382aafb6245290.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bmZyPxd-Ry08TV3kNRwiWg.png"/></div></div></figure><h1 id="ca76" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">相关基本概念</h1><h1 id="b4b4" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">属性访问器</h1><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="b0c2" class="lf jz iq lb b gy lg lh l li lj">let obj = {<br/>  a: 'b'<br/>};</span><span id="6b49" class="lf jz iq lb b gy lk lh l li lj">// dot notation<br/>console.log(obj.a); // 'b'<br/>// bracket notation<br/>console.log(obj['a']); // 'b'<br/>// through prototype chain<br/>console.log(obj.toString, obj.toString === Object.prototype.toString); // ƒ toString() { [native code] } true</span></pre><h1 id="5513" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">检查对象中是否存在属性</h1><ul class=""><li id="6001" class="ll lm iq ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">运算符中的<a class="ae md" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/in" rel="noopener ugc nofollow" target="_blank">:如果指定的属性在指定的对象<em class="me">或其原型链</em>中，则返回true。</a></li><li id="4ca1" class="ll lm iq ln b lo mf lq mg ls mh lu mi lw mj ly lz ma mb mc bi translated"><a class="ae md" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty" rel="noopener ugc nofollow" target="_blank"> hasOwnProperty </a>:返回一个布尔值，表明对象是否将指定的属性作为自己的属性(相对于继承它)。</li></ul><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="21d4" class="lf jz iq lb b gy lg lh l li lj">let obj = {<br/>  a: 'b'<br/>};</span><span id="377c" class="lf jz iq lb b gy lk lh l li lj">console.log('a' in obj); //true<br/>console.log('toString' in obj); //true<br/>console.log(obj.hasOwnProperty('a')); //true<br/>console.log(obj.hasOwnProperty('toString')); //false</span></pre><h1 id="bfa2" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated"><a class="ae md" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" rel="noopener ugc nofollow" target="_blank">object . define property</a>&amp;&amp;<a class="ae md" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties" rel="noopener ugc nofollow" target="_blank">object . define properties</a>—直接在对象上定义新的或修改现有的属性，返回该对象。</h1><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="f036" class="lf jz iq lb b gy lg lh l li lj">let obj = {<br/>  a: "b"<br/>};</span><span id="da58" class="lf jz iq lb b gy lk lh l li lj">Object.defineProperties(obj, {<br/>  c: {<br/>    value: 'd'<br/>  },<br/>  e: {<br/>    value: 'f'<br/>  }<br/>});<br/>console.log(obj); // {a: "b", c: "d", e: "f"}</span></pre><h2 id="56b1" class="lf jz iq bd ka mk ml dn ke mm mn dp ki ls mo mp km lu mq mr kq lw ms mt ku mu bi translated"><a class="ae md" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get" rel="noopener ugc nofollow" target="_blank">获取器</a>和<a class="ae md" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/set" rel="noopener ugc nofollow" target="_blank">设置器</a></h2><p id="d569" class="pw-post-body-paragraph mv mw iq ln b lo lp mx my lq lr mz na ls nb nc nd lu ne nf ng lw nh ni nj ly ij bi translated">我们可以使用getters和setters来生成计算属性。例如</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="bc3b" class="lf jz iq lb b gy lg lh l li lj">let people = {<br/>  firstName: 'michael',<br/>  lastName: 'zheng',<br/>  get fullName() {<br/>    return `${this.firstName} ${this.lastName}`<br/>  },<br/>  set fullName(val) {<br/>    [this.firstName, this.lastName] = val.split(' ');<br/>  }<br/>}</span><span id="b7df" class="lf jz iq lb b gy lk lh l li lj">console.log(people.firstName, people.lastName, people.fullName);<br/>//"michael", "zheng", "michael zheng"<br/>people.fullName = 'hello world';<br/>console.log(people.firstName, people.lastName, people.fullName);<br/>//"hello", "world", "hello world"</span></pre><h1 id="665a" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">有三种方法可以迭代对象</h1><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="ecb7" class="lf jz iq lb b gy lg lh l li lj">let student = {<br/>  name: "michael"<br/>};</span><span id="53bd" class="lf jz iq lb b gy lk lh l li lj">Object.defineProperties(student, {<br/>  age: {<br/>    enumerable: false,<br/>    value: 18<br/>  },<br/>  grade: {<br/>    value: 6,<br/>    enumerable: true<br/>  },<br/>  sex: {<br/>    value: "male",<br/>    enumerable: false<br/>  }<br/>});</span><span id="43d2" class="lf jz iq lb b gy lk lh l li lj">Object.prototype.x = "inherited";</span></pre><p id="d642" class="pw-post-body-paragraph mv mw iq ln b lo nk mx my lq nl mz na ls nm nc nd lu nn nf ng lw no ni nj ly ij bi translated">在上面的例子中，我们创建了一个对象<em class="me">学生</em>。<em class="me">学生</em>具有以下属性:</p><ul class=""><li id="557d" class="ll lm iq ln b lo nk lq nl ls np lu nq lw nr ly lz ma mb mc bi translated"><em class="me">名称</em>:自枚举属性</li><li id="19da" class="ll lm iq ln b lo mf lq mg ls mh lu mi lw mj ly lz ma mb mc bi translated"><em class="me">年龄</em>:自身不可枚举财产</li><li id="c390" class="ll lm iq ln b lo mf lq mg ls mh lu mi lw mj ly lz ma mb mc bi translated"><em class="me">等级</em>:自枚举属性</li><li id="b3f6" class="ll lm iq ln b lo mf lq mg ls mh lu mi lw mj ly lz ma mb mc bi translated"><em class="me">性别</em>:自身不可枚举的财产</li></ul><p id="1111" class="pw-post-body-paragraph mv mw iq ln b lo nk mx my lq nl mz na ls nm nc nd lu nn nf ng lw no ni nj ly ij bi translated">以及原型链中的自定义属性:</p><ul class=""><li id="1efc" class="ll lm iq ln b lo nk lq nl ls np lu nq lw nr ly lz ma mb mc bi translated"><em class="me"> x </em>:可枚举</li></ul><h1 id="2852" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated"><a class="ae md" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in" rel="noopener ugc nofollow" target="_blank"> for…in </a>遍历一个对象的可枚举属性，包括原型链。</h1><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="e3a9" class="lf jz iq lb b gy lg lh l li lj">for (let prop in student) {<br/>  console.log(prop); //'name', 'grade', 'x'<br/>}</span><span id="fce9" class="lf jz iq lb b gy lk lh l li lj">for (let prop in student) { // self properties only<br/>  if (student.hasOwnProperty(prop)) {<br/>    console.log(prop); // 'name', 'grade'<br/>  }<br/>}</span></pre><h1 id="6593" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated"><a class="ae md" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys" rel="noopener ugc nofollow" target="_blank"> Object.keys </a>返回一个给定对象的属性名数组，只遍历自身可枚举的属性。(即不包括原型链)</h1><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="8be1" class="lf jz iq lb b gy lg lh l li lj">console.log(Object.keys(student)); // [‘name’, 'grade']</span><span id="4d58" class="lf jz iq lb b gy lk lh l li lj">//check whether is plain object:<br/>Object.keys(student).length === 0; //false</span><span id="f43f" class="lf jz iq lb b gy lk lh l li lj">Object.keys({}).length === 0; //true</span></pre><h1 id="1f9a" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated"><a class="ae md" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames" rel="noopener ugc nofollow" target="_blank">object . getownpropertymanames</a>返回直接在给定对象上找到的所有自身属性(包括不可枚举的属性)的数组。</h1><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="9889" class="lf jz iq lb b gy lg lh l li lj">// will not iterate through prototype chain<br/>console.log(Object.getOwnPropertyNames(student)); // [‘name’, ‘age’, 'grade', 'sex']</span></pre><h1 id="f985" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">总结</h1><p id="f2e3" class="pw-post-body-paragraph mv mw iq ln b lo lp mx my lq lr mz na ls nb nc nd lu ne nf ng lw nh ni nj ly ij bi translated">methods through prototype chain enumerate only for…in yyobject . keysnyobject . getownpropertymanamesnn</p><h1 id="fd35" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">通知；注意</h1><ul class=""><li id="96fb" class="ll lm iq ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">读书笔记系列如果想关注最新的新闻/文章，请<a class="ae md" href="https://github.com/n0ruSh/blogs/" rel="noopener ugc nofollow" target="_blank">【观看】</a>订阅。</li></ul></div></div>    
</body>
</html>