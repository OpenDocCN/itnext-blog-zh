<html>
<head>
<title>Software tests as a documentation tool</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">作为文档工具的软件测试</h1>
<blockquote>原文：<a href="https://itnext.io/software-tests-as-a-documentation-tool-e1c463bad1be?source=collection_archive---------3-----------------------#2019-12-06">https://itnext.io/software-tests-as-a-documentation-tool-e1c463bad1be?source=collection_archive---------3-----------------------#2019-12-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="a8ba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为什么测试是讲述代码故事的完美方式。在此处或在<a class="ae kl" href="https://dev.to/noriste/software-tests-as-a-documentation-tool-36pl" rel="noopener ugc nofollow" target="_blank"> dev.to </a>上阅读。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/b7224a30d2bc409b2cec7e6a3c4e521f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v-9_OE9xRG7hd1Ht5XHkPQ.jpeg"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">由<a class="ae kl" href="https://unsplash.com/photos/V29UWcALNko" rel="noopener ugc nofollow" target="_blank">罗恩·迪亚</a>在<a class="ae kl" href="https://unsplash.com/s/photos/reverse?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="8671" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我正在GitHub上做一个大的<a class="ae kl" href="https://github.com/NoriSte/ui-testing-best-practices?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"> UI测试最佳实践</a>项目，我分享这个帖子来传播它并有直接的反馈。</p></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><p id="ca3e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">文档编制通常是困难的，它需要精确和细致的工作，并且需要团队的所有成员理解和重视编写好的文档。记录是无私的工作，对于无私，我的意思是奉献给其他开发者和未来的我们。</p><p id="5691" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我曾经确信，测试方法是一种很好的方式，不仅可以确保我们编写了项目需要的代码，不仅可以保证我们不会引入回归，还可以记录代码和用户流(请记住，谁是前端开发人员)。最近，我的“测试即文档”的想法得到了又一次确认:<strong class="jp ir">我搬到了一家新公司</strong>，我几乎没有时间<strong class="jp ir">告诉一个新的开发人员我到现在为止做了什么</strong>。</p><h1 id="4521" class="lj lk iq bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">将项目移交给新的开发人员</h1><p id="7b81" class="pw-post-body-paragraph jn jo iq jp b jq mh js jt ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk ij bi translated">首先，看一看:</p><ul class=""><li id="c952" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated">我正在开发的后台架构是用React开发的，并用Cypress和Jest进行了测试</li></ul><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mv"><img src="../Images/ae17184aaa22ba70b721dbeda25bd5f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kDwTeJkTGVELHvmeDlPnvw.jpeg"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><a class="ae kl" href="https://business.conio.com/" rel="noopener ugc nofollow" target="_blank"> Conio </a>后勤办公室的架构。</figcaption></figure><ul class=""><li id="ea8f" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated">一些用户流量的视频</li></ul><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mw mx l"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><a class="ae kl" href="https://business.conio.com/" rel="noopener ugc nofollow" target="_blank"> Conio </a> Backoffice的一些UI测试。</figcaption></figure><ul class=""><li id="fc39" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated">一些Jest测试的截图</li></ul><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi my"><img src="../Images/4f1c44187c80cd5c4fe432e15e841371.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xS5TOsDU_Q9RGNn4L-zdWQ.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><a class="ae kl" href="https://business.conio.com/" rel="noopener ugc nofollow" target="_blank"> Conio </a> Backoffice的一些集成测试。请注意，当时，我打破了一个黄金测试规则:没有测试应该共享状态。</figcaption></figure><p id="4dcf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">说明项目做什么以及如何做的步骤是:</p><ul class=""><li id="dd7a" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated">讲述一些关于项目和整个建筑的技术细节</li><li id="1788" class="mm mn iq jp b jq mz ju na jy nb kc nc kg nd kk mr ms mt mu bi translated">要求新开发人员探索故事书的故事</li><li id="6c7f" class="mm mn iq jp b jq mz ju na jy nb kc nc kg nd kk mr ms mt mu bi translated">要求新开发人员<strong class="jp ir">运行并观看赛普拉斯测试</strong></li><li id="7a93" class="mm mn iq jp b jq mz ju na jy nb kc nc kg nd kk mr ms mt mu bi translated">要求新开发人员<strong class="jp ir">运行并读取Jest测试的输出</strong></li><li id="8059" class="mm mn iq jp b jq mz ju na jy nb kc nc kg nd kk mr ms mt mu bi translated">要求新开发人员阅读测试代码</li><li id="c6ee" class="mm mn iq jp b jq mz ju na jy nb kc nc kg nd kk mr ms mt mu bi translated">衡量新开发人员对项目的理解，要求他改变和测试一些流程</li></ul><p id="4541" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">交接进行得如此顺利，以至于我决定写这篇文章😊。新的开发者(一个相当聪明的人，我不得不承认，你好洛伦佐👋)让我很好地了解了用户流，并且<strong class="jp ir">能够满怀信心地改变项目的大部分</strong>(以及相关的测试)。尽管如此，他还是能够实现新的用户流，并对它们进行测试，就像我对项目的其他部分所做的一样。</p><h1 id="7fc8" class="lj lk iq bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">好的和坏的部分</h1><p id="dc7c" class="pw-post-body-paragraph jn jo iq jp b jq mh js jt ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk ij bi translated">嗯，即使我对这次经历很满意，我也必须承认有些事情并不完美。我不是在谈论过程本身或使用测试作为文档工具的想法，而是我编写测试的方式。有些细节误导了应该阅读我的测试的开发人员的理解。让我们检查一下我写的测试的利与弊:</p><h2 id="14b3" class="ne lk iq bd ll nf ng dn lp nh ni dp lt jy nj nk lx kc nl nm mb kg nn no mf np bi translated">我的测试有哪些优点:</h2><ul class=""><li id="fbbf" class="mm mn iq jp b jq mh ju mi jy nq kc nr kg ns kk mr ms mt mu bi translated">用Cypress从UI的角度测试一切:对于前端流程来说，<strong class="jp ir"> UI比一切都重要</strong></li><li id="032e" class="mm mn iq jp b jq mz ju na jy nb kc nc kg nd kk mr ms mt mu bi translated">有一本编好的故事书:用<strong class="jp ir">故事书写故事已经在考验</strong>！视觉测试很容易被Storyshots这样的插件冻结</li><li id="4508" class="mm mn iq jp b jq mz ju na jy nb kc nc kg nd kk mr ms mt mu bi translated">简单的测试代码:测试代码必须非常简单。易于阅读、无条件、低抽象级别、良好的日志记录等。永远记住<strong class="jp ir">测试必须减少阅读和理解代码</strong>的认知负荷，因此它们的复杂度应该比要理解的代码低一个数量级</li><li id="0ef1" class="mm mn iq jp b jq mz ju na jy nb kc nc kg nd kk mr ms mt mu bi translated">在代码和测试之间共享一些步骤“id ”:如果一个用户流很长，在代码和测试代码之间共享一些“步骤”可能是有用的(比如“/** #1 */”、/** #2 */”等注释)。)</li><li id="a0f7" class="mm mn iq jp b jq mz ju na jy nb kc nc kg nd kk mr ms mt mu bi translated">对部分代码进行更多的低级测试(就像上面的截图中显示的一些传奇故事)，这些代码可能很难理解(因此很难更新或重构为更简单的版本)</li></ul><h2 id="e470" class="ne lk iq bd ll nf ng dn lp nh ni dp lt jy nj nk lx kc nl nm mb kg nn no mf np bi translated">我的测试有什么不好:</h2><ul class=""><li id="2cdf" class="mm mn iq jp b jq mh ju mi jy nq kc nr kg ns kk mr ms mt mu bi translated">一些测试描述并不完美:在编写测试描述时，良好的讲故事技巧非常重要</li><li id="62d2" class="mm mn iq jp b jq mz ju na jy nb kc nc kg nd kk mr ms mt mu bi translated">没有利用<strong class="jp ir">小黄瓜</strong>来编写测试本身:我在开始的时候没有什么经验，所以我决定不考虑用小黄瓜编写BDD风格的测试。<a class="ae kl" href="https://cucumber.io/docs/gherkin/reference/" rel="noopener ugc nofollow" target="_blank">看一看</a>了解讲故事的优势</li><li id="c1e1" class="mm mn iq jp b jq mz ju na jy nb kc nc kg nd kk mr ms mt mu bi translated">在不同的测试之间共享一些固定装置:固定装置是服务器响应的静态版本，当它们相同时回收它们的想法没有错，但是我应该更关心它们的名字。为注册和登录流使用“registration-success.json”装置(这只是一个例子，我在更复杂的情况下犯了这个错误)会给新开发人员留下一些疑问。这是那种被<strong class="jp ir">冻结在编写代码</strong>的开发人员的记忆中的东西(为什么你可以在两种不同的情况下使用相同的夹具？)，从公司的角度来看这是一件非常糟糕的事情</li></ul><p id="3cca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，编写测试允许您:</p><ul class=""><li id="5c10" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated">拥有描述良好的文档:测试的描述总是从用户的角度来写，而不是从开发人员的角度</li><li id="7fd2" class="mm mn iq jp b jq mz ju na jy nb kc nc kg nd kk mr ms mt mu bi translated">轻松交接</li><li id="07c2" class="mm mn iq jp b jq mz ju na jy nb kc nc kg nd kk mr ms mt mu bi translated">避免依赖某些员工的历史记忆(比如你)</li><li id="413b" class="mm mn iq jp b jq mz ju na jy nb kc nc kg nd kk mr ms mt mu bi translated">当阅读代码时，记录一些听起来“奇怪”或简单复杂的选择，但从用户的角度来看是完全合理的</li></ul><p id="186d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">更不用说明显的测试优势，比如无回归工作，利用一些自动化和快速的工具等等。😊</p><p id="2cc9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我渴望了解你在同一主题上的经历！请随意对它们发表评论🤗</p></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><p id="bf46" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">嗨，👋我是斯特凡诺·马尼，我是一名热情而又遥远的<strong class="jp ir">前端工程师</strong>，一名<strong class="jp ir">柏树大使</strong>，一名<strong class="jp ir">导师</strong>。<br/>我喜欢创造高质量的产品，测试和自动化一切，学习和分享我的知识，帮助他人，教学，在会议上发言和面对新的挑战。<br/>你可以在<a class="ae kl" href="https://twitter.com/NoriSte?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"> Twitter </a>、<a class="ae kl" href="https://github.com/NoriSte?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"> GitHub </a>、<a class="ae kl" href="https://www.linkedin.com/in/noriste/?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上找到我。你可以找到我最近所有的文章/演讲等等。这里。</p></div></div>    
</body>
</html>