<html>
<head>
<title>Write attractive code with ESLint and Prettier</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用ESLint和beauty编写有吸引力的代码</h1>
<blockquote>原文：<a href="https://itnext.io/write-attractive-code-with-eslint-and-prettier-27d562b8ae9f?source=collection_archive---------5-----------------------#2019-02-22">https://itnext.io/write-attractive-code-with-eslint-and-prettier-27d562b8ae9f?source=collection_archive---------5-----------------------#2019-02-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="325f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">不要害怕你的下一次代码审查</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2e2bf22ba0e0450315a671a560d0d0dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3as74VBvKodvvqvl"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">本杰明·罗宾·叶斯柏森在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="d1a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">大约十年前，当我还是自由职业者的时候，我可以随心所欲地写代码。我可能会养成坏习惯，给函数和类起只有我自己能理解的名字。当我和十几个其他开发人员在一家公司开始工作时，很明显拥有一套编码标准对团队的成功至关重要。</p><p id="4faa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在一个小团队中工作教会了我拥有快速有效开发的指导方针和工具的重要性。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="3334" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">回到2012年，我们的前端团队有一个共享的Visual Studio设置文件和一个简单的JSHint配置。我们已经将JSHint配置为仅在构建整个项目或运行测试时抛出错误。这在开发过程中不是很有效，因为它不会实时导致错误或警告。回头修改你的代码总是事后的想法……并且总是用三重相等替换那些双重相等。</p><p id="8c1a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">快进到今天，我们有一个广泛的文档概述了最佳实践，一个详细的ESLint配置，并使用漂亮的伟大格式化。</p><p id="7e4d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们回顾一下我们是如何到达那里的。</p><h2 id="3e6f" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">基础工作</h2><p id="6ac1" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">我们的团队有许多包含指导方针、陷阱和规则的文档可供参考，并且这些文档会不断更新。一个很好的起点是实际展示Javascript控件和HTML模板的代码示例。我们将通过展示API调用的例子、如何给类和订阅加前缀，以及我们在这个过程中采用的许多其他约定来扩展这一点。我们甚至花时间创建了一个组件库，它对开发有很大的帮助，我真不敢相信我们没有早点这样做。</p><h2 id="6636" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">你应该如何开始？</h2><p id="0fde" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">从创建一个充满最佳实践的文档开始。比如如何给CSS类加前缀，如何命名事件处理程序和函数，如何构造React组件。记录最佳实践是很好的，但是如何执行它们呢？命名约定和Javascript结构之类的偏好可能很难实施，但是可以在设计和代码评审期间被发现。</p><p id="4f32" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于语法模式、引号和分号之类的细节，或者全局格式，我们需要看看ESLint和Prettier之类的工具。</p><h2 id="9956" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">埃斯林特</h2><p id="d955" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">ESLint是Javascript的林挺工具。它有助于使您的代码更加一致，并在不同的编辑器和开发人员之间实施其规则。它可以通过警告不良编码实践和潜在问题来帮助防止将来的问题。</p><p id="dc42" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的团队添加了我们自己的规则，并扩展了我们现有的配置。Airbnb提供了一个稳固的配置，许多其他公司都以此为起点。除了一般的Javascript错误之外，我们还使用ESLint来强制执行文体规则，如换行、引号和冗余分号。这真的很有帮助，因为我们的团队正在<a class="ae ky" href="https://medium.com/@chrisgirard/converting-your-code-base-to-react-1930945dc017" rel="noopener">过渡到反应和JSX </a>，我们没有ES6的多年经验。ESLint帮助我们完成了这一过程，并提醒我们在学习新技术时可能会出现的问题。当重构或清理代码时，通常会出现一个变量已经被赋值但从未被使用过，或者我们忘记命名一个函数。回过头来更新这些东西以保持代码的可读性和可维护性是有益的。</p><p id="4bc8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您不同意ESLint默认提供的任何规则或配置设置，您可以随时关闭它们。当你第一次启用ESLint时，看起来每一行代码都有红色下划线，但是不要担心，因为ESLint会给你一个答案，它会帮助你成为一名更好的开发人员。</p><p id="c174" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="na"> eslintconfig.json扩展airbnb的</em></p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="5b5b" class="mc md it nc b gy ng nh l ni nj">"extends": [<br/>    "airbnb-base"<br/>    "eslint:recommended",<br/>    "plugin:react/recommended"<br/>]</span></pre><div class="nk nl gp gr nm nn"><a href="https://eslint.org/docs/rules/" rel="noopener  ugc nofollow" target="_blank"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd iu gy z fp ns fr fs nt fu fw is bi translated">可用规则列表</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">一个可插入和可配置的linter工具，用于识别和报告JavaScript中的模式。维护您的代码…</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">eslint.org</p></div></div><div class="nw l"><div class="nx l ny nz oa nw ob ks nn"/></div></div></a></div><h2 id="bed9" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">较美丽</h2><p id="99a0" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">Prettier是一个格式化工具，可用于多种语言，而不仅仅是Javascript。它有助于标准化格式，因此您的整个团队可以用相似的风格编码。</p><p id="4082" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">格式化可能很棘手，因为每个人都有不同的编码风格。一个显而易见的好处是，你不需要记住一种特定的风格——你可以发展你喜欢的风格，然后格式化它。我们决定“试驾”更漂亮，并允许它用特定的命令格式化代码。许多团队在您保存文件时启用它，但是我们选择首先采用on command方法。这背后的一个原因是保持代码审查的可管理性。通常，我们会保存格式，直到我们准备好合并我们的更改，然后运行更漂亮。我们了解该工具提供的价值，并决定采取循序渐进的方法。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/b472f71f056306053efc3c8cfab9d573.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QlA2SShAbJjAfXR2rLb5tQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">更漂亮后的函数示例</figcaption></figure><div class="nk nl gp gr nm nn"><a href="https://prettier.io/docs/en/options.html" rel="noopener  ugc nofollow" target="_blank"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd iu gy z fp ns fr fs nt fu fw is bi translated">选项更漂亮</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">Prettier附带了一些可定制的格式选项，可以在CLI和API中使用。</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">更漂亮. io</p></div></div></div></a></div><h2 id="3285" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">上车</h2><p id="2f1a" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">当我们的团队增加一名新成员时，我们会要求他们审查一般开发文档以及最佳实践文档。在审查它们之后，一个新的开发人员就可以在对我们的编码标准有一个基本理解的情况下开始他们的第一个任务。</p><p id="d6e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一种方法是让新成员跳出困境，立即开始编写代码。如果练习被很好地记录下来，这很好，但是有一个可以参考的真实来源也很重要。大多数项目都包含遗留代码，如果开发人员以此为起点，那就没什么帮助了。</p><h2 id="d784" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">摘要</h2><p id="94c2" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">像ESLint和appearlier这样的工具很重要，因为它们提供了一套每个开发人员都必须遵守的规则。我们的团队使用Git和Bitbucket进行版本控制，并利用pull request特性进行代码审查。当审查代码时，我不想看到额外的空白、换行符和任何其他干扰，我只想看到你添加或更新的代码<em class="na">(除非修饰)</em>。没有这些规则，开发人员会害怕审查他们同事的代码，团队的压力水平也会上升。</p><blockquote class="od oe of"><p id="2f78" class="kz la na lb b lc ld ju le lf lg jx lh og lj lk ll oh ln lo lp oi lr ls lt lu im bi translated">开发人员应该能够阅读您的代码，并且准确地知道发生了什么，而不需要使用大量的注释。</p></blockquote><p id="52d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你能想象尝试教一个新开发人员你的团队在过去十年中遵循的所有编码注意事项吗？这将需要几个月的时间，而且对新开发人员也不公平。现在聪明的办法是让你的编辑来教。像ESLint和Prettier这样的工具让我们的团队成为更好的开发人员，让我们工作得更快。</p><p id="a534" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你有兴趣了解更多关于这些工具的知识，可以查看语法播客，Scott Tolinski和Wes Bos会在播客中深入讲解这些工具。</p><p id="5455" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">【https://syntax.fm/show/113/hasty-treat-code-quality-tooling T2】号</p></div></div>    
</body>
</html>