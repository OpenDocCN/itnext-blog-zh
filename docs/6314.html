<html>
<head>
<title>KubeSphere: A New Pluggable Kubernetes Application Management Platform</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">KubeSphere:一个新的可插拔的Kubernetes应用管理平台</h1>
<blockquote>原文：<a href="https://itnext.io/kubesphere-a-new-pluggable-kubernetes-application-management-platform-bf078b9f3330?source=collection_archive---------2-----------------------#2021-10-15">https://itnext.io/kubesphere-a-new-pluggable-kubernetes-application-management-platform-bf078b9f3330?source=collection_archive---------2-----------------------#2021-10-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="f655" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一个全面的、自以为是的平台，通过与熟悉的工具集成来帮助企业采用Kubernetes。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/6d851b8c54ab091ad716c260e848a99d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*w7zop6zVdE0xgIlE"/></div></div></figure><p id="33b5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">今年早些时候，我投资了流行的多集群Kubernetes管理解决方案，包括Rancher、Google Anthos、Azure Arc和Volterra。后来，一位读者向我推荐了KubeSphere，这是一个开源的Kubernetes平台，它使用Kubernetes来管理不同云提供商的多个Kubernetes集群。在学习了关于如何管理部署到DigitalOcean和亚马逊EKS 的集群的<a class="ae la" href="https://thenewstack.io/tutorial-use-kubesphere-to-manage-digitalocean-kubernetes-and-amazon-eks/" rel="noopener ugc nofollow" target="_blank">教程后，我很快意识到KubeSphere不仅仅是一个多集群Kubernetes管理工具。事实上，它更像是一个Kubernetes应用程序管理平台，具有针对可观察性、成本管理、服务网格、外部认证和CI/CD插件的本地集成。</a></p><p id="fdb8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">那么KubeSphere与生产级集群的自我管理各种开源工具相比如何呢？让我们深入了解KubeSphere的每个特性。</p><h1 id="3a8f" class="lb lc it bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">KubeSphere生态系统</h1><p id="01d8" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">在高层次上，KubeSphere通过工作区和项目来组织应用程序。一个工作区可以跨越多个集群，包含项目和其他插件(例如Jenkins)以及RBAC角色，以管理资源和访问。在每个工作区内，多租户由项目控制，项目只是Kubernetes名称空间。这一点很重要，因为项目隔离受制于相同的Kubernetes名称空间特性，而不是像<a class="ae la" href="https://www.vcluster.com/" rel="noopener ugc nofollow" target="_blank"> vclusters </a>这样更强大的特性。尽管如此，每个项目内置的用户管理比本地配置Kubernetes角色和角色绑定更好。项目还强制实施资源配额和默认入口控制器(NGINX)。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi me"><img src="../Images/11e61a1cd34928ee5f89eb722c5befea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5iCYX7QW2tXA5Irv"/></div></div></figure><p id="da13" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于想要使用服务网格的用户，当<code class="fe mf mg mh mi b">servicemesh.enabled</code>设置为true时，KubeSphere为Istio提供了一个内置插件。这将安装典型的istio组件(如istio、ingress gateway)以及监控工具(如Kiali、Jaeger)。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mj"><img src="../Images/df45c20c8aad84804813e24bd7885600.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GoUaRKlAJUcZBm9W"/></div></div></figure><p id="54fb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了将微服务部署到我们连接的集群，KubeSphere提供了一个完善的UI来定义Kubernetes清单。KubeSphere将这些清单归在“服务”下，不要与Kubernetes服务混淆。KubeSphere服务基本上相当于一个舵图。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mk"><img src="../Images/704d248ed7744ec1580a423cc62296da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_8wDuoc-Tx-uX91b"/></div></div></figure><p id="c278" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于大多数现有的Kubernetes用户来说，基于GUI的部署可能不是标准实践。典型的设置包括一些打包工具，如Helm或kustomize，以及一些Gitops工具，如ArgoCD或Flux。然而，像这样的仪表板可能对应用程序开发人员的内部开发有用，他们可以快速部署现有的Docker映像，而不必从头开始构建舵图。另一个不错的部分是嵌入式应用商店，它围绕着<a class="ae la" href="https://github.com/openpitrix/openpitrix" rel="noopener ugc nofollow" target="_blank"> OpenPitrix </a>。对于那些不熟悉OpenPitrix的人来说，这是一个工具，可以轻松地部署类似于<a class="ae la" href="https://kubeapps.com/" rel="noopener ugc nofollow" target="_blank"> Kubeapps </a>或<a class="ae la" href="https://github.com/oslabs-beta/Ahoy" rel="noopener ugc nofollow" target="_blank"> Ahoy </a>的舵图。App Store可用于安装各种监控和日志工具(如prometheus、grafana、fluentd、elasticsearch、kibana等)。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi me"><img src="../Images/a6bdf28492d99f7421980531f8751d0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3VwR4j7QukPERR47"/></div></div></figure><p id="5e20" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">同样，KubeSphere还为DevOps系统(Jenkins)、日志系统(Elasticsearch和自定义仪表板)、网络策略(Calico)以及事件和警报提供插件。</p><p id="a249" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，KubeSphere还提供了一个资源消耗仪表板来跟踪所有集群的不同资源。目前，计费信息是通过ConfigMap手动输入的，因此不像<a class="ae la" href="https://www.kubecost.com/" rel="noopener ugc nofollow" target="_blank"> kubecost </a>那样实时，但仍然有助于跨多个集群整合不同的使用。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi me"><img src="../Images/e308ec5c47b9cd765e10af9067ab7da6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ozIRE38QrZhJuiIL"/></div></div></figure><h1 id="edda" class="lb lc it bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">用例</h1><p id="cadf" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">通过关注可插拔架构和Kubernetes多集群管理，Kubernetes旨在抽象出Kubernetes的底层细节和配置生产级集群所需的大量工作。从这个镜头，我可以看到两个主要的使用案例:</p><h2 id="e776" class="ml lc it bd ld mm mn dn lh mo mp dp ll kb mq mr lp kf ms mt lt kj mu mv lx mw bi translated">寻求提升和转移型迁移到Kubernetes的企业</h2><p id="7a19" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">如果您检查KubeSphere的日志，大多数操作都是由Ansible控制的。此外，KubeSphere决定与first集成的工具是企业使用的知名工具(例如Jenkins、ELK stack、NGINX)。这对于那些希望迁移到Kubernetes的公司来说是个好兆头，因为他们不必替换现有的工具链，也不必从头开始重新发明CI/CD和管理体验。</p><h2 id="245e" class="ml lc it bd ld mm mn dn lh mo mp dp ll kb mq mr lp kf ms mt lt kj mu mv lx mw bi translated">开发者沙盒</h2><p id="8070" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">另一个用例可能是建立一个开发人员沙箱，让应用程序开发人员使用Kubernetes。使用云原生工具设置适当的集群需要花费时间和大量资源来维护。使用KubeSphere作为用户友好的抽象层可以降低开发人员快速部署应用程序的门槛，而不必配置ingresses或弄清楚如何在Kubernetes上部署PostgreSQL或Redis进行集成测试。</p><h1 id="ebef" class="lb lc it bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">最后的想法</h1><p id="a711" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">学习Kubernetes在2021年仍然是一个挑战。虽然云原生解决方案是在Kubernetes的基础上构建的，以解决DevOps的挑战，但需要像KubeSphere这样的工具来改善开发人员的体验。如果你想迁移到Kubernetes并重用现有的Jenkins管道，或者想建立一个内部开发者沙盒帐户，那么试试KubeSphere吧。</p></div></div>    
</body>
</html>