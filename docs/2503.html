<html>
<head>
<title>Deploy ASP.NET Core 3 Previews to Azure App Service</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将ASP.NET核心3预览版部署到Azure应用服务</h1>
<blockquote>原文：<a href="https://itnext.io/deploy-asp-net-core-3-previews-to-azure-app-service-e6d57618a151?source=collection_archive---------9-----------------------#2019-06-03">https://itnext.io/deploy-asp-net-core-3-previews-to-azure-app-service-e6d57618a151?source=collection_archive---------9-----------------------#2019-06-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="056b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我花了一些时间来体验ASP.NET Core 3的一些特性，我需要一个地方来托管我正在体验的一些应用程序。Azure App Services一直是这类事情的好去处，但正如你将在下面的细节中看到的，它目前默认不支持ASP.NET核心3。</p><p id="76e3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这篇文章将介绍如何创建一个新的ASP.NET Core 3 React应用程序，并使用默认设置将其发布到一个新的应用程序服务中，然后向您展示如何更改以运行该应用程序。</p><h2 id="142c" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">示例应用程序</h2><p id="3241" class="pw-post-body-paragraph jn jo iq jp b jq le js jt ju lf jw jx jy lg ka kb kc lh ke kf kg li ki kj kk ij bi translated">我用了下面的。NET CLI命令使用React为其前端创建一个新的ASP.NET核心应用程序。</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="070a" class="kl km iq lo b gy ls lt l lu lv">dotnet new react</span></pre><p id="6594" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">创建过程完成后，在Visual Studio中打开该项目。我强烈推荐使用<a class="ae lw" href="https://visualstudio.microsoft.com/vs/preview/" rel="noopener ugc nofollow" target="_blank"> Visual Studio 2019预览版</a>与任何。NET Core 3应用程序。</p><h2 id="9ff0" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">发布到应用服务</h2><p id="4eec" class="pw-post-body-paragraph jn jo iq jp b jq le js jt ju lf jw jx jy lg ka kb kc lh ke kf kg li ki kj kk ij bi translated">在Visual Studio的解决方案浏览器中，右键单击项目文件并选择<strong class="jp ir">发布</strong>。</p><figure class="lj lk ll lm gt ly gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/bdc37bf8d18eca0284870c2bf6bd21d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:690/format:webp/0*B4n_bRgsLyAF6gg6.png"/></div></figure><p id="e17d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">选择<strong class="jp ir">应用服务</strong>作为发布目标。在这里，我们正在创建一个新的应用服务。接下来，点击<strong class="jp ir">发布</strong>。</p><figure class="lj lk ll lm gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mb"><img src="../Images/197c0524fc458c54b52087c11ae6e575.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*W_7wVdohEMwOOsux.png"/></div></div></figure><p id="8927" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下一个对话框显示将要创建的新应用服务的信息。我在很大程度上接受了默认值。我确实为这个应用程序创建了一个新的资源组，以便将来更容易清理这些资源。我也改变了主机计划到免费层。点击<strong class="jp ir">创建</strong>继续。</p><figure class="lj lk ll lm gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mb"><img src="../Images/140656ca09feb83ebf69c6090704d284.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tGQbIzcbUplQKipI.png"/></div></div></figure><h2 id="c7a2" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">错误和警告</h2><p id="80fc" class="pw-post-body-paragraph jn jo iq jp b jq le js jt ju lf jw jx jy lg ka kb kc lh ke kf kg li ki kj kk ij bi translated">作为发布过程的一部分，浏览器将打开应用程序的地址。发生这种情况时，您会看到一个关于ANCM进程内处理程序加载失败的错误(如果您使用的是IIS进程内宿主)。</p><figure class="lj lk ll lm gt ly gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/f8635e864c40e720aadd4716a3c4125e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/format:webp/0*lujoaxw5RwvaAEdH.png"/></div></figure><p id="c695" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果回头看看Visual Studio，您会看到下面的警告，提示您的应用程序需要。NET Core runtime 3.0和App Service最高只支持2.2。</p><figure class="lj lk ll lm gt ly gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/75e59d71dcc76575c5b56c08792c27ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/0*OjcHaOdih85fyIKb.png"/></div></figure><h2 id="c50c" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">修复</h2><p id="cfad" class="pw-post-body-paragraph jn jo iq jp b jq le js jt ju lf jw jx jy lg ka kb kc lh ke kf kg li ki kj kk ij bi translated">关闭上面的对话框后，您将看到我们在上面创建的发布配置文件的摘要。点击<strong class="jp ir">部署模式</strong>的<strong class="jp ir">框架相关</strong>值旁边的<strong class="jp ir">插针</strong>。</p><figure class="lj lk ll lm gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mi"><img src="../Images/b1084dfe37ab38f3561f233af05b2bd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*sSJ55PGfUBLNFqWu.png"/></div></div></figure><p id="f7eb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在弹出的对话框中，将<strong class="jp ir">部署模式</strong>设置为<strong class="jp ir">自包含</strong>，并为您的App服务选择一个合适的<strong class="jp ir">目标运行时</strong>。在这个部署到Windows应用服务的示例中，我们使用的是<strong class="jp ir"> win-x86 </strong>。</p><figure class="lj lk ll lm gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mj"><img src="../Images/211c1d148ce15f48060d30d0b1d78e83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5QMKIVrvwKOpTzvp.png"/></div></div></figure><p id="eb81" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">返回发布配置文件摘要屏幕，单击<strong class="jp ir">发布</strong>按钮，使用新设置将应用程序重新部署到App Service。当这个过程结束时，您应该看到浏览器加载了您的应用程序，运行正常。</p><h2 id="0a4c" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">包扎</h2><p id="d25e" class="pw-post-body-paragraph jn jo iq jp b jq le js jt ju lf jw jx jy lg ka kb kc lh ke kf kg li ki kj kk ij bi translated">这是能够进行自包含部署的强大力量的一个很好的例子。如果这个选项不存在，那么我们将没有选择运行。应用服务上的NET Core 3应用。</p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><p id="7490" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mr">原载于</em><a class="ae lw" href="https://elanderson.net/2019/06/deploy-asp-net-core-3-previews-to-azure-app-service/" rel="noopener ugc nofollow" target="_blank"><em class="mr"/></a><em class="mr">。</em></p></div></div>    
</body>
</html>