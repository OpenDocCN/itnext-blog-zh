<html>
<head>
<title>Azure Repos and Azure Pipelines</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Azure Repos和Azure管道</h1>
<blockquote>原文：<a href="https://itnext.io/azure-repos-and-azure-pipelines-cab0d58b5843?source=collection_archive---------1-----------------------#2018-11-04">https://itnext.io/azure-repos-and-azure-pipelines-cab0d58b5843?source=collection_archive---------1-----------------------#2018-11-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="bf25" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">上周的帖子着眼于将<a class="ae kl" href="https://elanderson.net/2018/10/github-and-azure-pipelines/" rel="noopener ugc nofollow" target="_blank"> GitHub与Azure Pipelines </a>结合使用。本周，我将带着同一个项目，将它添加到Azure Repos，并使用Azure Pipelines进行构建。我将使用来自这个<a class="ae kl" href="https://github.com/elanderson/ASP.NET-Core-Entity-Framework" rel="noopener ugc nofollow" target="_blank"> GitHub repo </a>的代码，减去上周帖子中添加的azure-pipelines.yml文件。</p><h2 id="f347" class="km kn iq bd ko kp kq dn kr ks kt dp ku jy kv kw kx kc ky kz la kg lb lc ld le bi translated">创建项目</h2><p id="8560" class="pw-post-body-paragraph jn jo iq jp b jq lf js jt ju lg jw jx jy lh ka kb kc li ke kf kg lj ki kj kk ij bi translated">我不会带你完成注册过程，但是如果你没有帐户，你可以在这里注册<a class="ae kl" href="https://azure.microsoft.com/en-us/services/devops/" rel="noopener ugc nofollow" target="_blank">Azure devo PS</a>。点击右上角的<strong class="jp ir">创建项目</strong>按钮。</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div class="gh gi lk"><img src="../Images/4baa95e8bb42d4656e41e2d5a4fb8833.png" data-original-src="https://miro.medium.com/v2/resize:fit:728/format:webp/0*vhFROGKkIlO1WEL-.png"/></div></figure><p id="5374" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在显示的对话框中输入项目名称。我用的是GitHub repo上代码来源的同一个名字。点击<strong class="jp ir">创建</strong>继续。</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/084e0a00b85818792112f7221c87692d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*X7OvD0GrKyBYFN80.png"/></div></figure><h2 id="670e" class="km kn iq bd ko kp kq dn kr ks kt dp ku jy kv kw kx kc ky kz la kg lb lc ld le bi translated">增加回购</h2><p id="ab45" class="pw-post-body-paragraph jn jo iq jp b jq lf js jt ju lg jw jx jy lh ka kb kc li ke kf kg lj ki kj kk ij bi translated">项目完成创建过程后，使用左侧菜单并选择<strong class="jp ir"> Repos </strong>。</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/6e9a9822b8e34497f55ceb02c80af291.png" data-original-src="https://miro.medium.com/v2/resize:fit:520/format:webp/0*f7prMwjwlYTREo-v.png"/></div></figure><p id="d5b3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">由于该项目目前没有任何文件，因此<strong class="jp ir"> Repos </strong>页面列出了许多添加文件的选项。我将使用在VS代码中克隆选项，然后从我的GitHub repo中复制文件。如果我不想避免包含管道yaml文件，一个更简单的选择是使用<strong class="jp ir"> Import </strong>函数并直接克隆repo。</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lu"><img src="../Images/b9036eebca371139cca6759b7137a679.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KiKmy8YimWcF3g7K.png"/></div></div></figure><p id="e688" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我不打算详细介绍如何使用上述方法之一将示例代码放入Azure Repos。这是一个基于git的回购，上传代码的选项在上面的页面中有概述。</p><h2 id="d9e1" class="km kn iq bd ko kp kq dn kr ks kt dp ku jy kv kw kx kc ky kz la kg lb lc ld le bi translated">建立一个构件</h2><p id="dd0c" class="pw-post-body-paragraph jn jo iq jp b jq lf js jt ju lg jw jx jy lh ka kb kc li ke kf kg lj ki kj kk ij bi translated">现在我们有了回购中的代码，您应该看到视图更改为类似于下面的屏幕截图。点击<strong class="jp ir">设置构建</strong>开始为新的回购创建构建管道。这应该非常接近上周帖子的后半部分，但我想把它放在这里，这样这篇帖子就可以独立存在了。</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lz"><img src="../Images/f2a5bb0d3ef0dab02ea22671c0f6ddde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Y4zUjGQPi3QvEeYX.png"/></div></div></figure><p id="e127" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在下一页，选择<strong class="jp ir"> Azure Repos </strong>作为源代码。</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi ma"><img src="../Images/07b8823700c1ebda6d11dac20fecfa61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*DIKYDa3cixS06w60.png"/></div></div></figure><p id="c6a3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，选择需要为新管道构建的repo。</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi mb"><img src="../Images/7703c13c10c6a7ceb5861c3e55cd4877.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Hp0K6hQztS-ajnpU.png"/></div></div></figure><p id="79fa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来是模板选择。基于你的代码，一个模板将被建议，但不要只是采取默认。不管出于什么原因，它建议我的示例使用一个. NET桌面模板，这个模板实际上是基于ASP.NET核心的。选择您的模板，进入下一步。</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/efbc03c4600df140f498856cb953b241.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/format:webp/0*dJFjVROGGJ2Bba1S.png"/></div></figure><p id="8d35" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下一个屏幕将显示用于构建代码的YAML。我的回购协议包含两个项目，所以我必须调整YAML来告诉它要构建哪个项目，否则，默认设置会有效。完成项目所需的任何更改后，点击<strong class="jp ir">保存并运行</strong>。</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi md"><img src="../Images/8b0ab4958f041fd5831cf78f41666013.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*rUyPkm_pNOugCK-X.png"/></div></div></figure><p id="20da" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">实际构建之前的最后一步是将构建YAML文件提交给Azure Repo。在对话框中做任何你需要的修改，然后点击<strong class="jp ir">保存并运行</strong>开始你的项目的第一次构建。</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div class="gh gi me"><img src="../Images/eb5afbb8c05f145f3c709284772ece97.png" data-original-src="https://miro.medium.com/v2/resize:fit:790/format:webp/0*Grz-lYezd2qfINYA.png"/></div></figure><p id="35c6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下一页将向您实时展示构建的状态。构建完成后，您应该会看到类似下面这样的结果。</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi mf"><img src="../Images/f5bf26167803eae8620e6a11c0b0839b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*l_euwZVhp5Ev8x9G.png"/></div></div></figure><h2 id="fe49" class="km kn iq bd ko kp kq dn kr ks kt dp ku jy kv kw kx kc ky kz la kg lb lc ld le bi translated">包扎</h2><p id="79fe" class="pw-post-body-paragraph jn jo iq jp b jq lf js jt ju lg jw jx jy lh ka kb kc li ke kf kg lj ki kj kk ij bi translated">正如所料，使用Azure Repos和Azure Pipelines效果很好。如果你还没有尝试Azure DevOps。微软提供了大量的这一系列产品，并且一直在变得越来越好。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><p id="5fab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mn">原载于</em><a class="ae kl" href="https://elanderson.net/2018/11/azure-repos-and-azure-pipelines/" rel="noopener ugc nofollow" target="_blank"><em class="mn"/></a><em class="mn">。</em></p></div></div>    
</body>
</html>