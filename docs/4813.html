<html>
<head>
<title>CRUD operation using MEAN stack</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用平均堆栈的CRUD操作</h1>
<blockquote>原文：<a href="https://itnext.io/crud-operation-using-mean-stack-7dfa2f51ec8c?source=collection_archive---------0-----------------------#2020-09-25">https://itnext.io/crud-operation-using-mean-stack-7dfa2f51ec8c?source=collection_archive---------0-----------------------#2020-09-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="f3f8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">关于如何从头开始使用mean stack应用程序进行crud操作的博客</p><p id="cebc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">Github:</strong><a class="ae ko" href="https://github.com/mehulk05/Blog-using-mean" rel="noopener ugc nofollow" target="_blank"><strong class="js iu">https://github.com/mehulk05/Blog-using-mean</strong></a></p><p id="28a4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">现场演示:</strong><a class="ae ko" href="https://mehulk05.github.io/Blog-using-mean/#/" rel="noopener ugc nofollow" target="_blank"><strong class="js iu">https://mehulk05.github.io/Blog-using-mean/</strong></a></p><p id="76ea" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">视频解说:</strong><a class="ae ko" href="https://www.youtube.com/watch?v=0iqnZgLwNIY" rel="noopener ugc nofollow" target="_blank"><strong class="js iu">https://www.youtube.com/watch?v=0iqnZgLwNIY</strong></a></p><h2 id="1b10" class="kp kq it bd kr ks kt dn ku kv kw dp kx kb ky kz la kf lb lc ld kj le lf lg lh bi translated">我们正在创造的演示</h2><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div class="gh gi li"><img src="../Images/1f24d3e5cbec7d02de190ed1b056951c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*oSJkqRsOEDrKo38C_5xYtg.gif"/></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk translated">现场演示</figcaption></figure><h2 id="e409" class="kp kq it bd kr ks kt dn ku kv kw dp kx kb ky kz la kf lb lc ld kj le lf lg lh bi translated">查看完整的解释视频</h2><figure class="lj lk ll lm gt ln"><div class="bz fp l di"><div class="lu lv l"/></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk translated">录像</figcaption></figure><h2 id="0ffc" class="kp kq it bd kr ks kt dn ku kv kw dp kx kb ky kz la kf lb lc ld kj le lf lg lh bi translated">让我们了解一下stack的意思是什么。</h2><ul class=""><li id="c88f" class="lw lx it js b jt ly jx lz kb ma kf mb kj mc kn md me mf mg bi translated">这是一个开源的NoSQL跨平台面向文档的数据库。</li><li id="545b" class="lw lx it js b jt ml jx mm kb mn kf mo kj mp kn md me mf mg bi translated"><code class="fe mh mi mj mk b">Express JS</code>–这是一个基于web的应用程序框架，与Node JS一起工作，它有助于构建web应用程序和RESTful APIs。</li><li id="c6a4" class="lw lx it js b jt ml jx mm kb mn kf mo kj mp kn md me mf mg bi translated"><code class="fe mh mi mj mk b">Angular 7/8/9</code>–这是一个基于打字稿的完整前端框架，由谷歌团队开发。</li><li id="7d84" class="lw lx it js b jt ml jx mm kb mn kf mo kj mp kn md me mf mg bi translated"><code class="fe mh mi mj mk b">Node JS</code>–这是一个免费的JavaScript运行时环境，它在浏览器之外执行JavaScript代码。它适用于macOS、Windows、Linux和Unix。</li></ul><h2 id="410d" class="kp kq it bd kr ks kt dn ku kv kw dp kx kb ky kz la kf lb lc ld kj le lf lg lh bi translated">我将使用以下插件和工具来创建平均堆栈应用程序。</h2><ul class=""><li id="e944" class="lw lx it js b jt ly jx lz kb ma kf mb kj mc kn md me mf mg bi translated"><a class="ae ko" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank">节点JS </a></li><li id="a5b1" class="lw lx it js b jt ml jx mm kb mn kf mo kj mp kn md me mf mg bi translated"><a class="ae ko" href="https://www.mongodb.com/" rel="noopener ugc nofollow" target="_blank"> MongoDB </a></li><li id="1b69" class="lw lx it js b jt ml jx mm kb mn kf mo kj mp kn md me mf mg bi translated"><a class="ae ko" href="https://mongoosejs.com/" rel="noopener ugc nofollow" target="_blank">猫鼬JS </a></li><li id="4c53" class="lw lx it js b jt ml jx mm kb mn kf mo kj mp kn md me mf mg bi translated"><a class="ae ko" href="https://expressjs.com/" rel="noopener ugc nofollow" target="_blank">快递JS </a></li><li id="7e49" class="lw lx it js b jt ml jx mm kb mn kf mo kj mp kn md me mf mg bi translated"><a class="ae ko" href="https://cli.angular.io/" rel="noopener ugc nofollow" target="_blank">角度CLI 7.2.3 </a></li><li id="4817" class="lw lx it js b jt ml jx mm kb mn kf mo kj mp kn md me mf mg bi translated"><a class="ae ko" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> Visual Studio代码</a></li></ul><h2 id="3daa" class="kp kq it bd kr ks kt dn ku kv kw dp kx kb ky kz la kf lb lc ld kj le lf lg lh bi translated">#1设置节点JS开发环境</h2><p id="e297" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb mq kd ke kf mr kh ki kj ms kl km kn im bi translated">跟随此链接到<a class="ae ko" href="https://nodejs.org/en/download/" rel="noopener ugc nofollow" target="_blank">在您的系统中设置节点JS。根据您的系统位，即32位和64位以及操作系统，简单地下载并安装节点</a></p><h2 id="2ad5" class="kp kq it bd kr ks kt dn ku kv kw dp kx kb ky kz la kf lb lc ld kj le lf lg lh bi translated">#2建立一个节点。JS后端</h2><p id="f8c7" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb mq kd ke kf mr kh ki kj ms kl km kn im bi translated">为了编写易于管理的代码，我们应该将平均堆栈后端文件夹分开。在Angular的根目录下，用backendor或者你喜欢的名字创建一个文件夹。这个文件夹将处理我们的应用程序的后端代码，记住它将有一个来自Angular 7/8/9的单独的node_modules文件夹。</p><pre class="lj lk ll lm gt mt mk mu mv aw mw bi"><span id="c5c1" class="kp kq it mk b gy mx my l mz na">mkdir backend<br/>cd backend</span><span id="238b" class="kp kq it mk b gy nb my l mz na">npm init -y</span></pre><p id="5e56" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">以上命令将带您进入后端文件夹，然后使用所有默认配置生成package.json。</p><h2 id="ba54" class="kp kq it bd kr ks kt dn ku kv kw dp kx kb ky kz la kf lb lc ld kj le lf lg lh bi translated">–安装和配置MEAN Stack应用开发所需的NPM包</h2><p id="f31f" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb mq kd ke kf mr kh ki kj ms kl km kn im bi translated">使用以下命令安装以下节点模块。</p><pre class="lj lk ll lm gt mt mk mu mv aw mw bi"><span id="4d43" class="kp kq it mk b gy mx my l mz na">npm install --save body-parser cors express mongoose</span></pre><ul class=""><li id="7c83" class="lw lx it js b jt ju jx jy kb nc kf nd kj ne kn md me mf mg bi translated"><strong class="js iu">body-parser:</strong>body-parser NPM模块是一个JSON解析中间件。它有助于解析JSON数据、纯文本或整个对象。</li><li id="1e4c" class="lw lx it js b jt ml jx mm kb mn kf mo kj mp kn md me mf mg bi translated"><strong class="js iu"> CORS </strong>:这是一个Node JS包，也叫express js中间件。它允许启用具有多个选项的CORS。可通过国家预防机制登记处获取。</li><li id="bd7c" class="lw lx it js b jt ml jx mm kb mn kf mo kj mp kn md me mf mg bi translated"><strong class="js iu"> Express.js </strong> : Express js是一个免费开源的Node js web应用框架。它帮助创建web应用程序和RESTful APIs，并充当中间件</li><li id="6734" class="lw lx it js b jt ml jx mm kb mn kf mo kj mp kn md me mf mg bi translated"><strong class="js iu">mongose</strong>:mongose是节点的MongoDB ODM。它允许您与MongoDB数据库进行交互。</li></ul><p id="19a1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">每次进行更改时启动和停止服务器是一项耗时的任务。为了解决这个问题，我们使用了<code class="fe mh mi mj mk b">nodemon</code>NPM模块。每次我们做出更改时，该软件包都会自动重启服务器。我们将使用下面给出的命令在本地安装它。</p><pre class="lj lk ll lm gt mt mk mu mv aw mw bi"><span id="6d2f" class="kp kq it mk b gy mx my l mz na">npm install nodemon --save-dev</span></pre><p id="1ddb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">此外，确保将package.json更改为启动nodemon</p><h2 id="9f98" class="kp kq it bd kr ks kt dn ku kv kw dp kx kb ky kz la kf lb lc ld kj le lf lg lh bi translated">#3后端的文件夹结构。</h2><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/99f827b2b219be252c8a9bdc5adc2e7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/format:webp/1*GY7NX02MHH_8xpjfO69TpQ.png"/></div></figure><h2 id="4749" class="kp kq it bd kr ks kt dn ku kv kw dp kx kb ky kz la kf lb lc ld kj le lf lg lh bi translated">#4编写App.js</h2><pre class="lj lk ll lm gt mt mk mu mv aw mw bi"><span id="735d" class="kp kq it mk b gy mx my l mz na">const path = require("path");<br/>const express = require("express")<br/>const mongoose = require("mongoose")</span><span id="e80a" class="kp kq it mk b gy nb my l mz na">const db = require("./db/db")<br/>const postRouter = require("./Routes/post");</span><span id="716f" class="kp kq it mk b gy nb my l mz na">const app = express();<br/>app.use(bodyParser.json());<br/>app.use(bodyParser.urlencoded({<br/>   extended: false<br/>}));<br/>app.use(cors());</span><span id="0343" class="kp kq it mk b gy nb my l mz na">const PORT = process.env.PORT || 3000</span><span id="a026" class="kp kq it mk b gy nb my l mz na">app.use("/api/posts", postRouter)</span><span id="6d5c" class="kp kq it mk b gy nb my l mz na">app.listen(PORT, (req, res) =&gt; {<br/>console.log(`app is listening to PORT ${PORT}`)<br/>})</span></pre><h2 id="2a48" class="kp kq it bd kr ks kt dn ku kv kw dp kx kb ky kz la kf lb lc ld kj le lf lg lh bi translated">#5编写db.js</h2><p id="1e0c" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb mq kd ke kf mr kh ki kj ms kl km kn im bi translated">要创建数据库，您可以到<a class="ae ko" href="https://www.mongodb.com/cloud/atlas" rel="noopener ugc nofollow" target="_blank">这里</a>注册并创建一个新的数据库。此外，您将获得我将在代码中使用的连接URL</p><pre class="lj lk ll lm gt mt mk mu mv aw mw bi"><span id="8ff5" class="kp kq it mk b gy mx my l mz na">const mongoose = require('mongoose');</span><span id="1300" class="kp kq it mk b gy nb my l mz na">mongoose.Promise = global.Promise;</span><span id="a6d9" class="kp kq it mk b gy nb my l mz na">const url = "mongodb://testuser:&lt;password&gt;<a class="ae ko" href="mailto:9eVH8YT0rVZ0X1uj@cluster0-shard-00-00.ecaql.mongodb.net" rel="noopener ugc nofollow" target="_blank">@cluster0-shard-00-00.ecaql.mongodb.net</a>:27017?ssl=true&amp;replicaSet=atlas-ceza4t-shard-0&amp;authSource=admin&amp;retryWrites=true&amp;w=majority"</span><span id="5e06" class="kp kq it mk b gy nb my l mz na">// Connect MongoDB at default port 27017.</span><span id="ca70" class="kp kq it mk b gy nb my l mz na">let mong = mongoose.connect(url, {<br/>    useNewUrlParser: true,<br/>    useCreateIndex: true,<br/>    useUnifiedTopology: true<br/>}, (err) =&gt; {<br/>    if (!err) {<br/>        console.log('MongoDB Connection Succeeded.')<br/>    } else {<br/>        console.log('Error in DB connection: ' + err)<br/>    }<br/>});</span></pre><h2 id="683b" class="kp kq it bd kr ks kt dn ku kv kw dp kx kb ky kz la kf lb lc ld kj le lf lg lh bi translated">#6用Mongoose JS创建模型</h2><pre class="lj lk ll lm gt mt mk mu mv aw mw bi"><span id="762b" class="kp kq it mk b gy mx my l mz na">const mongoose = require('mongoose');</span><span id="9011" class="kp kq it mk b gy nb my l mz na">const Post = mongoose.model('Post', {<br/>    title: {<br/>        type: String,<br/>        required: true<br/>    },</span><span id="dfe6" class="kp kq it mk b gy nb my l mz na">content: {<br/>        type: String,<br/>        required: true<br/>    },<br/>    <br/>});</span><span id="9bcc" class="kp kq it mk b gy nb my l mz na">module.exports = Post</span></pre><h2 id="576f" class="kp kq it bd kr ks kt dn ku kv kw dp kx kb ky kz la kf lb lc ld kj le lf lg lh bi translated">#7使用快速JS路线创建RESTful APIs</h2><figure class="lj lk ll lm gt ln"><div class="bz fp l di"><div class="ng lv l"/></div></figure><p id="6b18" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> # 8创建前端</strong></p><p id="2ac1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在转到前端，我们将在服务文件中获取数据。跳过安装让2个组件</p><ol class=""><li id="51ea" class="lw lx it js b jt ju jx jy kb nc kf nd kj ne kn nh me mf mg bi translated">后期创建组件</li><li id="0c8d" class="lw lx it js b jt ml jx mm kb mn kf mo kj mp kn nh me mf mg bi translated">后置列表组件</li><li id="96af" class="lw lx it js b jt ml jx mm kb mn kf mo kj mp kn nh me mf mg bi translated">邮政服务</li></ol><h2 id="9bad" class="kp kq it bd kr ks kt dn ku kv kw dp kx kb ky kz la kf lb lc ld kj le lf lg lh bi translated">#9创建邮政服务</h2><figure class="lj lk ll lm gt ln"><div class="bz fp l di"><div class="ng lv l"/></div></figure><h2 id="336e" class="kp kq it bd kr ks kt dn ku kv kw dp kx kb ky kz la kf lb lc ld kj le lf lg lh bi translated"># 10创建组件(创建后组件)</h2><p id="ee04" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb mq kd ke kf mr kh ki kj ms kl km kn im bi translated">为了创建一个帖子，我们将使用Angular service和RESTful APIs。我使用反应式表单来注册员工。我们还将在我们的MEAN Stack应用教程中介绍反应式表单验证。</p><p id="906d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"># 10.1 Post-create.component.html</strong></p><figure class="lj lk ll lm gt ln"><div class="bz fp l di"><div class="ng lv l"/></div></figure><p id="4ac4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> #10.2创建post.component.ts </strong></p><figure class="lj lk ll lm gt ln"><div class="bz fp l di"><div class="ng lv l"/></div></figure><h2 id="c082" class="kp kq it bd kr ks kt dn ku kv kw dp kx kb ky kz la kf lb lc ld kj le lf lg lh bi translated"># 11在MEAN Stack应用程序中使用RESTful API显示帖子列表并删除帖子对象</h2><p id="8c30" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb mq kd ke kf mr kh ki kj ms kl km kn im bi translated">在这里，我们将获取所有帖子及其内容。此外，我们将在这里执行删除操作，我们提供了一个按钮，当我们单击它时，帖子将被删除。</p><p id="a720" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"># 11.1 Postlist.component.html</strong></p><figure class="lj lk ll lm gt ln"><div class="bz fp l di"><div class="ng lv l"/></div></figure><p id="fb53" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"># 11.2 post list . component . ts</strong></p><figure class="lj lk ll lm gt ln"><div class="bz fp l di"><div class="ng lv l"/></div></figure><h2 id="f4cc" class="kp kq it bd kr ks kt dn ku kv kw dp kx kb ky kz la kf lb lc ld kj le lf lg lh bi translated">#12编辑平均堆栈中的帖子数据</h2><p id="49ea" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb mq kd ke kf mr kh ki kj ms kl km kn im bi translated">为了编辑帖子数据，我们需要在createPost组件中添加以下代码，我们也将重用这些代码来编辑数据。还要注意，html标记对于编辑文章也是一样的。所以我跳过这部分。</p><p id="dd48" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"># 12.1 create post . component . ts(用于编辑)</strong></p><figure class="lj lk ll lm gt ln"><div class="bz fp l di"><div class="ng lv l"/></div></figure><p id="4669" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们已经创建了基本的MEAN Stack Angular 7 CRUD应用程序，现在输入下面的命令在浏览器上启动您的项目。</p><pre class="lj lk ll lm gt mt mk mu mv aw mw bi"><span id="2a63" class="kp kq it mk b gy mx my l mz na">ng serve</span></pre><h2 id="7eb5" class="kp kq it bd kr ks kt dn ku kv kw dp kx kb ky kz la kf lb lc ld kj le lf lg lh bi translated">演示</h2><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi ni"><img src="../Images/a2475135752d2cbe644ff140332621b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AExVCe8EjNj3gGTMUTG7eQ.png"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk translated">创建帖子</figcaption></figure><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi nn"><img src="../Images/2339dbbefd436de683692346aca42889.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-pmvCQISi8Ktc27AYRStmA.png"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk translated">发布列表</figcaption></figure><h2 id="c78f" class="kp kq it bd kr ks kt dn ku kv kw dp kx kb ky kz la kf lb lc ld kj le lf lg lh bi translated">结论</h2><p id="d83c" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb mq kd ke kf mr kh ki kj ms kl km kn im bi translated">最后，我们使用Angular 9/8/7和Bootstrap 4完成了这个均值堆栈教程。我试图在本教程中强调每个重要的主题。然而，如果你跳过了什么，你可以看看我的<a class="ae ko" href="https://github.com/mehulk05/Blog-using-mean" rel="noopener ugc nofollow" target="_blank"> Github回购</a></p><p id="0279" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">此外，阅读MEAN Stack </strong>中使用JWT的认证</p><div class="no np gp gr nq nr"><a href="https://medium.com/@mehulkothari05/authentication-using-jwt-in-mean-stack-6b425247b7d8" rel="noopener follow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd iu gy z fp nw fr fs nx fu fw is bi translated">在均值堆栈中使用JWT的认证</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">从头开始在一个平均堆栈应用程序中使用JWT进行身份验证</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">medium.com</p></div></div><div class="oa l"><div class="ob l oc od oe oa of lo nr"/></div></div></a></div></div></div>    
</body>
</html>