<html>
<head>
<title>How to Dynamically Import the Customized Product Theme in the Base Product</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在基础产品中动态导入定制产品主题</h1>
<blockquote>原文：<a href="https://itnext.io/how-to-dynamically-import-the-customized-product-theme-in-the-base-product-b10b534e3e1a?source=collection_archive---------3-----------------------#2020-09-08">https://itnext.io/how-to-dynamically-import-the-customized-product-theme-in-the-base-product-b10b534e3e1a?source=collection_archive---------3-----------------------#2020-09-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="fd11" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为客户开发产品应用程序时，可能会有不同的实例要使用它。你可以想象，在某些情况下，特定的定制是必要的，调整到他们特定的用例。例如，应用程序要求每个国家都有不同的外观。或者在简单的用户交互中需要一些调整。本课<a class="ae kl" href="https://success.outsystems.com/Documentation/Best_Practices/Architecture/How_to_Create_Customized_Versions_of_a_Base_Application" rel="noopener ugc nofollow" target="_blank">如何创建基础应用的定制版本</a>描述了在不同安装中定制的产品架构。标准产品的架构如下所示:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/6dbd6c55b34c1986bdc67357911f2818.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*bG1zVZG6GsODoRXC.png"/></div></div></figure><p id="0fd1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">挑战之一是将定制产品的样式应用于基础产品。如该表所示</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/31be13005d23302c4e8fe996c1950c94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Lz0wvR6YO8Fiivw7.png"/></div></div></figure><p id="8513" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本指南中，我们将一步一步地指导您如何实现这一目标。</p><h1 id="ad0b" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">反应式Web应用程序的实现步骤</h1><ul class=""><li id="af1a" class="lw lx iq jp b jq ly ju lz jy ma kc mb kg mc kk md me mf mg bi translated">创建<strong class="jp ir">基本产品主题</strong>并应用基本样式，如字体和颜色。</li><li id="8067" class="lw lx iq jp b jq mh ju mi jy mj kc mk kg ml kk md me mf mg bi translated">创建一个<strong class="jp ir">定制产品实例主题</strong>例如<code class="fe mm mn mo mp b">ACME Theme</code>并应用定制样式</li><li id="b423" class="lw lx iq jp b jq mh ju mi jy mj kc mk kg ml kk md me mf mg bi translated">在<strong class="jp ir">配置服务</strong>应用程序中，创建一个<strong class="jp ir">配置服务定制</strong>服务模块，用于保存配置项。关于如何创建配置项的示例，请参见<a class="ae kl" href="https://www.outsystems.com/forge/component-overview/5944/application-framework" rel="noopener ugc nofollow" target="_blank">应用框架</a> forge组件。</li><li id="8b80" class="lw lx iq jp b jq mh ju mi jy mj kc mk kg ml kk md me mf mg bi translated">在<strong class="jp ir">配置服务定制</strong>模块中，创建一个配置项来保存<em class="mq">“定制产品实例主题”CSS文件</em>的完整URL路径，例如:名为<code class="fe mm mn mo mp b">CustomCssFileUrl</code>的<code class="fe mm mn mo mp b">&lt;server path&gt;/AcmeTheme/AcmeTheme.css</code>。</li><li id="d215" class="lw lx iq jp b jq mh ju mi jy mj kc mk kg ml kk md me mf mg bi translated">在<strong class="jp ir">CustomizationsServices _ CS</strong>模块中创建一个服务器动作<code class="fe mm mn mo mp b">CustomCssFileUrlGet</code>，该动作将输出变量<code class="fe mm mn mo mp b">CustomCssFileUrl</code>设置为配置项的值:</li></ul><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/b7264a72e6de41198f56ba5827503a82.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/format:webp/0*_DPJXcrVDrgBa2CW.png"/></div></figure><ul class=""><li id="d72b" class="lw lx iq jp b jq jr ju jv jy ms kc mt kg mu kk md me mf mg bi translated">在<strong class="jp ir"> BaseProductTheme </strong>模块中创建一个客户端变量<code class="fe mm mn mo mp b">CustomCssFileUrl</code></li><li id="0eb5" class="lw lx iq jp b jq mh ju mi jy mj kc mk kg ml kk md me mf mg bi translated">在<strong class="jp ir"> BaseProductTheme </strong>模块中，创建一个客户端动作<code class="fe mm mn mo mp b">ClientCustomCssFileUrlSet</code>，该动作将<code class="fe mm mn mo mp b">CustomCssFileUrlGet</code>的输出分配给客户端变量</li><li id="0e0e" class="lw lx iq jp b jq mh ju mi jy mj kc mk kg ml kk md me mf mg bi translated">在<strong class="jp ir"> BaseProductTheme </strong>中创建一个布尔客户端变量<code class="fe mm mn mo mp b">CustomCssFileUrlLoaded</code>这个变量将被用于只加载css一次</li><li id="1c3e" class="lw lx iq jp b jq mh ju mi jy mj kc mk kg ml kk md me mf mg bi translated">在<strong class="jp ir"> BaseProductTheme </strong>中，使用以下逻辑创建一个公共客户端动作<code class="fe mm mn mo mp b">LoadCustomCssFile </code>:</li></ul><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/8099cd56841eb36f2ad97ece0bd12395.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*w3uUyw385Y43uJRMi3cisA.png"/></div></figure><ul class=""><li id="16f5" class="lw lx iq jp b jq jr ju jv jy ms kc mt kg mu kk md me mf mg bi translated">在JS块中插入以下代码:</li></ul><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="1fd3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">切换到界面选项卡并定位<strong class="jp ir">布局</strong> UIFlow。对于每个布局，打开<code class="fe mm mn mo mp b">OnReady</code>客户端动作，并将<code class="fe mm mn mo mp b">LoadCssFile</code>添加到动作流中。例如<code class="fe mm mn mo mp b">LayoutTopMenu</code></p><ul class=""><li id="efd8" class="lw lx iq jp b jq jr ju jv jy ms kc mt kg mu kk md me mf mg bi translated">打开<strong class="jp ir">定制服务配置后台</strong>，将<code class="fe mm mn mo mp b">CustomCssFileUrl</code>配置项的值设置为定制产品主题CSS文件的<em class="mq">完整url路径</em>。</li></ul><p id="0480" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，基于布局的每个屏幕都将加载CSS并应用定制产品实例的样式。</p><p id="6a38" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">OutSystems <a class="ae kl" href="https://www.outsystems.com/profile/81934/" rel="noopener ugc nofollow" target="_blank">专家</a>团队创建了<a class="ae kl" href="https://www.outsystems.com/forge/component-overview/9084/multi-theme-reactive" rel="noopener ugc nofollow" target="_blank">多主题反应</a> forge组件来演示主题切换甚至更多。</p></div></div>    
</body>
</html>