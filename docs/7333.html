<html>
<head>
<title>Kubernetes Security: Rootless Containers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Kubernetes安全性:无根容器</h1>
<blockquote>原文：<a href="https://itnext.io/kubernetes-security-rootless-containers-f5b6825cab53?source=collection_archive---------5-----------------------#2022-08-23">https://itnext.io/kubernetes-security-rootless-containers-f5b6825cab53?source=collection_archive---------5-----------------------#2022-08-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/db2648918525cb801c0428fca21c5f5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fecj_SjQobbsQcsXZ3G5Ng.png"/></div></div></figure><p id="a0fb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我叫Guillermo Quiros，是topcloudops.com的一名AWS解决方案架构师和Kubernetes专家。众所周知，我们生活在一个不确定的时代，现在我们比以往任何时候都更需要关注安全最佳实践。</p><p id="7734" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">许多人不知道的一件事是，当我们在Kubernetes下运行容器时，会发生两件事危及我们节点的安全性:</p><ol class=""><li id="d814" class="kx ky iq ka b kb kc kf kg kj kz kn la kr lb kv lc ld le lf bi translated">容器与其余容器共享主机内核。</li><li id="37d6" class="kx ky iq ka b kb lg kf lh kj li kn lj kr lk kv lc ld le lf bi translated">当您运行容器时，默认模式是容器的用户拥有root权限，并且容器内的root与主机上的root相同。</li></ol><p id="db59" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是一个安全风险，因为容器内的用户可以作为根用户访问主机，这意味着您可以访问整个主机节点。这有什么错呢？这意味着您可以访问主机文件系统和所有进程…</p><p id="6f6c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，这里的问题是，我们如何管理容器上的root权限，而不是主机上的权限，因为如果我们没有root权限，就很难使用容器，因为我们可能需要安装软件包，并更改配置文件…</p><p id="b2e6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这就是无根容器来拯救我们的地方。无根容器让我们可以在容器级别上做任何事情，只需在主机上拥有有限的特权。我们之所以能够做到这一点，是因为Linux使我们能够创建用户名称空间，用户名称空间允许我们在这些新的名称空间下作为根用户运行，但在主机名称空间下作为无特权用户运行。</p><p id="fafe" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">要了解如何在无根模式下运行集群，请查看以下文档:</p><div class="ll lm gp gr ln lo"><a href="https://kubernetes.io/docs/tasks/administer-cluster/kubelet-in-userns/" rel="noopener  ugc nofollow" target="_blank"><div class="lp ab fo"><div class="lq ab lr cl cj ls"><h2 class="bd ir gy z fp lt fr fs lu fu fw ip bi translated">以非根用户身份运行Kubernetes节点组件</h2><div class="lv l"><h3 class="bd b gy z fp lt fr fs lu fu fw dk translated">功能状态:Kubernetes v1.22 [alpha]这个文档描述了如何运行Kubernetes节点组件，比如kubelet…</h3></div><div class="lw l"><p class="bd b dl z fp lt fr fs lu fu fw dk translated">kubernetes.io</p></div></div><div class="lx l"><div class="ly l lz ma mb lx mc jw lo"/></div></div></a></div><p id="f0d9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">https://rootlesscontaine.rs/getting-started/kubernetes/<a class="ae kw" href="https://rootlesscontaine.rs/getting-started/kubernetes/" rel="noopener ugc nofollow" target="_blank"/></p></div></div>    
</body>
</html>