<html>
<head>
<title>4 ways to call a function in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在JavaScript中调用函数的4种方法</h1>
<blockquote>原文：<a href="https://itnext.io/4-ways-to-call-a-function-in-javascript-19b174678f5a?source=collection_archive---------0-----------------------#2019-12-11">https://itnext.io/4-ways-to-call-a-function-in-javascript-19b174678f5a?source=collection_archive---------0-----------------------#2019-12-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/0c3758b38c4aa44b55d091bdb7600f13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Dh0_OHSVUww9srF9"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">沙哈达特·拉赫曼在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="11e7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JavaScript中的函数可以用不同的方式调用。乍一看，这似乎是一个疯狂的声明。调用函数的方法怎么可能不止一种？我们不就叫它？</p><p id="2130" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">亲爱的读者，正如我们将在本文中讨论的，在JavaScript中有4种调用函数的方法。您的特定场景将决定使用哪一个。此外，每个方法都将规定函数中“<em class="le"> this </em>”的值，也称为上下文。</p><h1 id="cf29" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">要记住的一点</h1><p id="1880" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">每当在JavaScript中调用一个函数时，不管它是如何被调用的，都会向它传递两个隐式参数。这两个隐式参数是<em class="le"> this </em>，函数将在其中执行的上下文和arguments参数。arguments参数是一个类似数组的结构，包含任何传递的参数。它“类似于数组”，但它不是数组。</p><p id="303c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，事不宜迟，让我们介绍调用函数的四种方法。</p><p id="3df9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JavaScript函数可以被调用:</p><ol class=""><li id="6344" class="mi mj it ki b kj kk kn ko kr mk kv ml kz mm ld mn mo mp mq bi translated">作为一种功能</li><li id="d57b" class="mi mj it ki b kj mr kn ms kr mt kv mu kz mv ld mn mo mp mq bi translated">作为一种方法</li><li id="b556" class="mi mj it ki b kj mr kn ms kr mt kv mu kz mv ld mn mo mp mq bi translated">作为一名建筑工人</li><li id="a917" class="mi mj it ki b kj mr kn ms kr mt kv mu kz mv ld mn mo mp mq bi translated">通过调用()和应用()</li></ol><p id="f652" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们来看看每一个。</p><h1 id="bc4a" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">将函数作为函数调用</h1><p id="9872" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">自从语言诞生以来，这可能是大多数函数被调用的方式:作为一个函数。如果您曾经在网页上放置了一段JavaScript代码，并通过单击按钮来调用它，那么您已经将JavaScript函数作为一个函数来调用了。让我们看一个代码示例。</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="0474" class="nf lg it nb b gy ng nh l ni nj">&lt;button onclick="sayHello()"&gt;say hello&lt;/button&gt;<br/>  &lt;script&gt;<br/>    function sayHello() {<br/>      console.log(this);<br/>      console.log(arguments);<br/>      console.log('hello');<br/>    }<br/>  &lt;/script&gt;</span></pre><p id="fcc1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这个简单的代码示例中，我们有一个按钮，当单击它时，调用sayHello()函数。在这个函数中，我们记录了它的值，后跟参数的值。然后我们打招呼。让我们看看当我们单击按钮时，在控制台中会得到什么。</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nk"><img src="../Images/64411f63b642686fb2d909cb487f3e54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*s6vXsyE_zKCQsdlF.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">将函数作为函数调用</figcaption></figure><p id="4ed4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">可以看到，<em class="le">这个</em>的值就是窗口对象。这就是我们漂亮的小函数执行的环境。在这种情况下，您可以选择强制定义<em class="le">和</em>的上下文。为此，您只需添加“use strict”；指令添加到代码中。</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="56ac" class="nf lg it nb b gy ng nh l ni nj">&lt;button onclick="sayHello()"&gt;say hello&lt;/button&gt;<br/>  &lt;script&gt;<br/>    'use strict';  //force the context to be undefined<br/>    function sayHello() {<br/>      console.log(this);<br/>      console.log(arguments);<br/>      console.log('hello');<br/>    }<br/>  &lt;/script&gt;</span></pre><p id="0575" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此实例中的arguments参数没有任何值，因为没有参数传递给该函数。</p><h1 id="e9c9" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">将函数作为方法调用</h1><p id="36f2" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">为了将函数作为方法调用，必须将其定义为对象的属性。让我们看一些代码。</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="4ac7" class="nf lg it nb b gy ng nh l ni nj">&lt;button onclick="greeter.sayHello()"&gt;say hello&lt;/button&gt;<br/>  &lt;script&gt;<br/>    greeter = {<br/>      sayHello: function () {<br/>        console.log(this);<br/>        console.log(arguments);<br/>        console.log('hello');<br/>      }<br/>    }</span></pre><p id="93e0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这里，您可以看到我们将sayHello()函数包装在一个名为greeter的对象中，从而使它成为该对象的一个属性。然后，我们更新onclick处理程序，使用object dot语法调用它:greeter.sayHello()</p><p id="aab8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当我们以这种方式调用函数时，我们在控制台中得到的是:</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nl"><img src="../Images/9f3d622b8400381edb8386969a82a0d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IJC0nbCZhEEdBwOV.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">将函数作为方法调用</figcaption></figure><p id="1c19" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里我们看到<em class="le">这个</em>参数的上下文指向了greeter对象。这比全局窗口对象更有意义。正如所料，我们仍然可以访问arguments参数。</p><h1 id="9edc" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">将函数作为构造函数调用</h1><p id="93c7" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">在我们看作为构造函数调用函数的代码之前，让我们花点时间考虑一下构造函数的用途。构造函数意味着在一个对象中建立一些初始状态。来建造它。既然如此，这是一个如何调用函数的更特殊的例子。我们调用这个函数的目的是创建一些新的东西并把它拿回来。让我们看一个代码示例。</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="a080" class="nf lg it nb b gy ng nh l ni nj">&lt;input type="text" id="name"&gt;&lt;/input&gt;<br/>  &lt;button onclick="sayHello()"&gt;say hello&lt;/button&gt;<br/>  &lt;script&gt;</span><span id="ef0d" class="nf lg it nb b gy nm nh l ni nj">    function Greeter(name) {<br/>      console.info('begin constructor');<br/>      console.log(this);<br/>      console.log(arguments);<br/>      this.name = name;<br/>      console.info('end constructor')<br/>    }</span><span id="8ee7" class="nf lg it nb b gy nm nh l ni nj">    function sayHello() {<br/>      var name = document.getElementById('name').value;<br/>      var grtr = new Greeter(name);<br/>      console.log('hello ' + grtr.name);<br/>    }<br/>  &lt;/script&gt;</span></pre><p id="43b4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本例中，我们添加了一个输入文本框，以便用户可以输入他们的姓名。没有名字真的不是一个合适的问候。同样，当我们的按钮被点击时，我们调用sayHello()函数。在我们的sayHello函数中，我们获取文本框中的值，并通过调用<em class="le"> new Greeter() </em>来创建Greeter对象的新实例。</p><p id="3b5e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le"> new </em>关键字和大写的G表明这个函数是作为构造函数被调用的。需要<em class="le"> new </em>关键字。大写的G是公认的标准。当以这种方式调用一个函数时，<em class="le">这个</em>被设置为新创建的对象。我们向新创建的对象添加一个name属性，并将其值设置为传递给构造函数的参数。新创建的对象被传递回调用代码，并保存在grtr变量中。最后，在对console.log的调用中，我们访问刚刚在<em class="le"> Greeter </em>对象上设置的<em class="le"> name </em>属性，并将其值打印到控制台。</p><h1 id="ab78" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">通过调用和应用调用函数</h1><p id="fc28" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">在JavaScript中使用函数时，有一点要始终牢记在心，那就是它们是一级对象。这意味着函数可以有自己的属性和方法。是的，你没看错。一个函数可以有自己的方法。call和apply方法是其中的两种方法。call和apply方法允许您指定函数将执行的上下文。它们允许你设置<em class="le">这个</em>值。让我们来看一个代码示例。</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="84fb" class="nf lg it nb b gy ng nh l ni nj">&lt;button onclick="go()"&gt;GO&lt;/button&gt;<br/>  &lt;script&gt;<br/>    var people = [];<br/>    var name = 'alex';</span><span id="b4e7" class="nf lg it nb b gy nm nh l ni nj">    function Person(idx) {<br/>      idx % 2 === 0 ? <br/>        this.name = 'alex ' + idx : <br/>        this.name = 'bob ' + idx;<br/>    }</span><span id="583c" class="nf lg it nb b gy nm nh l ni nj">    function printName() {<br/>      console.log(this.name);<br/>    }</span><span id="f6ad" class="nf lg it nb b gy nm nh l ni nj">    function go() {<br/>      //print the name variable defined on the window object<br/>      printName();</span><span id="9dce" class="nf lg it nb b gy nm nh l ni nj">      //populate the people array with a couple of people<br/>      for (let idx = 0; idx &lt; 5; idx++) {<br/>        people.push(new Person(idx));<br/>      }</span><span id="c13c" class="nf lg it nb b gy nm nh l ni nj">     // lets call the printName for each object that we just created <br/>     // seting this dynamically<br/>      people.forEach(p =&gt; { <br/>        printName.call(p);<br/>      });<br/>    }<br/>  &lt;/script&gt;</span></pre><p id="46d3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这段代码中，我们从定义几个变量开始。一个空数组，我们将用几个Person对象和一个名字填充它。然后我们有了Person对象的构造函数。它所做的只是根据传递给它的索引选择一个名称。</p><p id="2950" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来，我们有printName()函数。它只是打印出<em class="le">的名称变量中的任何值，以及设置为当前上下文</em>的任何对象。最后，我们有当用户按下按钮时执行的go()函数。</p><p id="6713" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当按钮被点击时，我们做的第一件事是直接调用printName()。如果你记得在这篇文章的前面，<em class="le">这是调用一个函数作为一个函数</em>。因此，上下文是全局窗口对象，名称“alex”被打印到控制台。到目前为止，一切顺利。</p><p id="6493" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来，我们建立一个for循环，创建5个Person对象，并将它们放入people数组。</p><p id="26e8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们直接进入一个数组。在每次迭代中，我们调用printName.call() <em class="le">，将当前对象作为上下文</em>传递。这意味着我们正在动态地设置函数的上下文。相当酷。这将在控制台中产生以下输出。</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/56249717ccb90b4742116a726d5de41b.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/format:webp/0*yU-qXNwUBx5GTFWj.png"/></div></figure><p id="d618" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输出中的第一个“alex”来自我们之前对printName()的调用。每一行额外的输出都来自数组的迭代。</p><p id="518c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这段代码演示了call()方法在所有函数中都可用。它看起来非常类似于对象点语法，因为它是对象点语法。JavaScript中的所有函数都是对象。</p><p id="ed8a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">应用方法非常相似。两者唯一的区别是他们接受的论点。call()接受值列表，而apply()接受数组，如下所示:</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="2f57" class="nf lg it nb b gy ng nh l ni nj">//call accepts a list of values<br/>printName.call(valueOfThis, 1, 2, 3);</span><span id="25a9" class="nf lg it nb b gy nm nh l ni nj">//apply accepts an array of values<br/>printName.apply(valueOfThis, [1, 2, 3]);</span></pre><p id="16c3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这就结束了对调用JavaScript函数的4种方法的快速介绍。我发现我使用了所有这些方法，并且知道引擎盖下发生了什么真的很有帮助。</p><p id="da4b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">记住，在JavaScript中，<em class="le">函数是一级对象</em>。它们可以有自己的属性和方法，可以像其他对象一样传递。如果您来自另一种语言，如C#或Java，那么函数作为对象的概念可能需要一点时间来适应。我知道我花了一点时间才明白过来。</p><p id="6065" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢阅读。</p></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><p id="4910" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">原载于</em><a class="ae kf" href="http://ritzcovan.com/index.php/2019/12/11/4-ways-to-call-a-function-in-javascript/" rel="noopener ugc nofollow" target="_blank"><em class="le">http://ritzcovan.com</em></a><em class="le">。</em></p></div></div>    
</body>
</html>