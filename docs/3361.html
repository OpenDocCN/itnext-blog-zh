<html>
<head>
<title>How to extract the base HREF in Angular?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何提取有角的HREF？</h1>
<blockquote>原文：<a href="https://itnext.io/how-to-extract-the-base-href-in-angular-bbbd559a1ad6?source=collection_archive---------1-----------------------#2019-11-28">https://itnext.io/how-to-extract-the-base-href-in-angular-bbbd559a1ad6?source=collection_archive---------1-----------------------#2019-11-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/0b391968ff421fa78b3ac3c4268f55fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pnaVltKVw2fhiptFbO6czQ.png"/></div></div></figure><div class=""/><p id="9ab2" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">使用定位策略，可以在ng build命令中传递基本HREF。</p><p id="6384" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">原来Angular提供了开箱即用的<code class="fe kz la lb lc b"><a class="ae ld" href="https://angular.io/api/common/APP_BASE_HREF" rel="noopener ugc nofollow" target="_blank">APP_BASE_HREF</a></code> <a class="ae ld" href="https://angular.io/api/common/APP_BASE_HREF" rel="noopener ugc nofollow" target="_blank"> </a>注入令牌，但是如果您尝试并注入它:</p><figure class="le lf lg lh gt iv"><div class="bz fp l di"><div class="li lj l"/></div></figure><p id="7527" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">你得到一个错误，声称没有人提供它！</p><blockquote class="lk ll lm"><p id="b6cf" class="kb kc ln kd b ke kf kg kh ki kj kk kl lo kn ko kp lp kr ks kt lq kv kw kx ky im bi translated">NullInjectorError:没有用于InjectionToken appBaseHref的提供程序！</p></blockquote></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><p id="0160" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当我们构建我们的应用程序时，我们可以<strong class="kd jf">为它指定</strong>基础<strong class="kd jf"> HREF </strong>:</p><figure class="le lf lg lh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ly"><img src="../Images/fb386971d3a11f39791b8da09402bf44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rJX4o4I5HlNAU0IShJCyDQ.png"/></div></div><figcaption class="lz ma gj gh gi mb mc bd b be z dk translated">来自ng build - help</figcaption></figure><p id="3cee" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">例如:<code class="fe kz la lb lc b">ng build --base-href /admin</code>将构建我们的应用程序，并指示它使用<code class="fe kz la lb lc b">/admin</code>的<strong class="kd jf">基本HREF </strong>，如果应用程序的管理部分作为一个单独部署的应用程序与我们的主应用程序在同一域下，这可能是有用的。</p><p id="9bb6" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">为了在我们的应用程序逻辑中使用这一点，我们可以:</p><figure class="le lf lg lh gt iv"><div class="bz fp l di"><div class="li lj l"/></div></figure><p id="d332" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这是<strong class="kd jf"> it </strong>，有需要就去用吧。<br/>免责声明:如果您使用的是<strong class="kd jf"> HashLocationStrategy </strong>，将不起作用！</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><p id="89bb" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果你对<strong class="kd jf">和</strong>的来源很好奇，这里有几个<strong class="kd jf">链接</strong>到Angular源代码:<br/>那个<a class="ae ld" href="https://github.com/angular/angular/blob/168abc6d6f52713383411b14980e104c99bfeef5/packages/common/src/location/platform_location.ts#L119" rel="noopener ugc nofollow" target="_blank"> <strong class="kd jf">平台定位</strong> </a> <strong class="kd jf"> </strong>我们上面用过的方法。进而使用来自<strong class="kd jf"> </strong> <a class="ae ld" href="https://github.com/angular/angular/blob/168abc6d6f52713383411b14980e104c99bfeef5/packages/platform-browser/src/browser/browser_adapter.ts#L94" rel="noopener ugc nofollow" target="_blank"> <strong class="kd jf">的方法浏览</strong> </a> <strong class="kd jf">。</strong></p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><p id="9926" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在我们的用例中，如果提供了一个<strong class="kd jf">基HREF </strong> <code class="fe kz la lb lc b">/my/</code>(它打破了我们从<code class="fe kz la lb lc b">ng-inline-svg</code>开始使用的<code class="fe kz la lb lc b">SvgCacheService</code>)，我们必须删除最后一个斜杠</p><figure class="le lf lg lh gt iv"><div class="bz fp l di"><div class="li lj l"/></div></figure></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><p id="eed3" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">感谢阅读:)</p></div></div>    
</body>
</html>