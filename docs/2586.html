<html>
<head>
<title>An alternative to Google Geocoder API (in Node.js)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Google Geocoder API的替代品(在Node.js中)</h1>
<blockquote>原文：<a href="https://itnext.io/an-alternative-to-google-geocoder-api-in-node-js-78728c7b9faa?source=collection_archive---------3-----------------------#2019-06-18">https://itnext.io/an-alternative-to-google-geocoder-api-in-node-js-78728c7b9faa?source=collection_archive---------3-----------------------#2019-06-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/d91ef17b2b32e6600bd0c22b579a3cf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6F00yQjV1rxZ4UmwjdSCeQ.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">阿姆斯特丹的旧地图。很美，不是吗？</figcaption></figure><p id="9cfe" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">昨天，我开始在Node.js中编写一些web scrapers，为我的一个个人项目收集一些数据(等等)。</p><p id="cd89" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我必须处理的事情之一是如何将地址转换成地理位置(基本上是纬度和经度)。)</p><p id="5eb4" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">所以我开始做我们作为Javascript开发人员最擅长的事情:</p><blockquote class="ld le lf"><p id="e570" class="kf kg lg kh b ki kj kk kl km kn ko kp lh kr ks kt li kv kw kx lj kz la lb lc im bi translated">嗯……那肯定有一个包装。</p></blockquote><p id="4d86" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">当然，还有:<a class="ae lk" href="https://www.npmjs.com/package/node-geocoder" rel="noopener ugc nofollow" target="_blank">https://www.npmjs.com/package/node-geocoder</a></p><p id="8c6e" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">它的用法非常简单:</p><figure class="ll lm ln lo gt ju"><div class="bz fp l di"><div class="lp lq l"/></div></figure><p id="47f8" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">但是，由于我们使用谷歌作为提供商，当然，这些都不是免费的😅</p><p id="867b" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我做了很多测试，我会触发几千个请求，因为我基本上是在网上搜集很多资源，并验证这些结果。</p><figure class="ll lm ln lo gt ju gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/79e98ffce5c15353acc49dad54dfc1cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:480/format:webp/1*XR-5OrHtojqwuqpax-8xjw.png"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">谷歌的地理编码器标志</figcaption></figure><p id="8c89" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><a class="ae lk" href="https://developers.google.com/maps/documentation/geocoding/usage-and-billing" rel="noopener ugc nofollow" target="_blank">谷歌对其地理编码API </a>上的每1000个请求收取5美元。</p><p id="d00f" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">所以我开始寻找替代品，我发现了OpenStreetMaps提供的这个很好的应用程序，叫做<a class="ae lk" href="https://nominatim.openstreetmap.org/" rel="noopener ugc nofollow" target="_blank">提名</a>。<em class="lg"> ( </em> <a class="ae lk" href="https://wiki.openstreetmap.org/wiki/Nominatim" rel="noopener ugc nofollow" target="_blank"> <em class="lg">)更多信息，点击这里</em> </a> <em class="lg"> ) </em></p><p id="be51" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">它实际上工作得非常好，非常快，所以我开始四处寻找他们的API，我发现了这个关于如何使用搜索端点的非常好的文档(这几乎是我唯一需要的东西)。</p><p id="6a44" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">所以我开始调整，想出了这个非常小的脚本，它实际上做的正是我想要的，而且它非常简单！</p><figure class="ll lm ln lo gt ju"><div class="bz fp l di"><div class="lp lq l"/></div></figure><p id="030a" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">当我在节点服务器上运行它时，<code class="fe ls lt lu lv b">node-fetch</code>是我触发HTTP调用的默认方式。如果你在浏览器上运行它，只要确保使用本地的<code class="fe ls lt lu lv b">fetch</code>方法。(或者其他你喜欢的东西)</p><p id="4b60" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">这个小模块非常简单，可以用任何语言轻松实现。</p><p id="e5f2" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">当然，有一些限制。这个API是公开的，但主要是为了支持开放的街道地图，所以请确保遵循他们的使用策略。</p><p id="8b33" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">还有一个小亮点:</p><p id="13e6" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">模块<code class="fe ls lt lu lv b">node-geocoder</code>也提供了对命名API的支持。</p><p id="f0d5" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我只是选择了自己的实现，因为这正是我所需要的一切。</p><p id="dbfc" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">因此还有另外一个教训:有时你可能不完全需要一个模块，即使它提供了你想要的。</p><blockquote class="ld le lf"><p id="a671" class="kf kg lg kh b ki kj kk kl km kn ko kp lh kr ks kt li kv kw kx lj kz la lb lc im bi translated">你想要一根香蕉，但你得到的是一只大猩猩拿着香蕉和整个丛林。</p></blockquote></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="3364" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">如果你喜欢这个，请确保留下一些掌声(你可以不止一次鼓掌，真的！)</p><p id="7dbe" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">如果你想了解更多，也可以随时在<a class="ae lk" href="https://github.com/armand1m" rel="noopener ugc nofollow" target="_blank"> Github </a>或<a class="ae lk" href="https://twitter.com/armand1m" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上联系我。</p><p id="a5ab" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">祝你今天愉快，干杯！</p></div></div>    
</body>
</html>