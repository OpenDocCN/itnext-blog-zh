<html>
<head>
<title>Rust Traits</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">生锈特征</h1>
<blockquote>原文：<a href="https://itnext.io/rust-traits-f8ad86aad610?source=collection_archive---------4-----------------------#2021-10-09">https://itnext.io/rust-traits-f8ad86aad610?source=collection_archive---------4-----------------------#2021-10-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/ddefbf7a6ba6758b0cea5175e00b50c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P_sQ6yot3fBMmSaXM4gj2g.png"/></div></div></figure><p id="a5ec" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你好</p><p id="d960" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这篇文章中，我们将谈论锈病的特征。</p><p id="2ed7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这篇文章的视频版本也可以在YouTube上找到。</p><p id="5fb5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">那么让我们从发现什么是特质开始？</p><p id="098c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">特征是在类型上定义共享行为的可靠方式，与接口相似但不完全相同。</p><p id="4c51" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们来看看rust定义特征的语法。</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><p id="9f41" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在上面的例子中，我们已经定义了一个简单的特征，它定义了一个类型应该如何将自己表示为一个字符串的行为。</p><p id="58cc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，假设我们需要一个函数来获取实现这一特征的类型，并将其记录到stdout中。</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><p id="187e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可以看到我们使用了一个泛型参数和一个绑定到该类型的trait，我们基本上是说我们需要一个实现<code class="fe ld le lf lg b">AsString</code> trait的类型。</p><p id="6440" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在我们有了一个特征和一个使用该特征作为输入的函数，但是我们需要为我们想要用作函数输入的类型实现该特征，最简单的实现可能是<code class="fe ld le lf lg b">String</code>,因为不需要任何类型的转换或其他任何东西。Rust类型系统很酷的一点是，它允许我们为任何类型实现一个特征，甚至是来自其他库的类型或来自标准库的类型。</p><p id="d65e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们开始吧。</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><p id="da07" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Rust语法与其他拥有接口和接口实现概念的语言有些不同。</p><p id="9405" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在我们已经为Rust <code class="fe ld le lf lg b">String</code>实现了<code class="fe ld le lf lg b">AsString</code>，让我们使用它。</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><p id="b72c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可以看到，使用一个具有泛型参数界限的函数是如此容易，因为Rust编译器足够智能，可以找到泛型参数的实际类型，我们不需要为编译器指定它。</p><p id="3211" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在让我们来看看Rust中最强大的特征概念之一，你可以为实现另一个特征的所有类型实现一个特征，而不是为每个类型单独实现一个特征。</p><p id="26b6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们看看在Rust中这是如何发生的。</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><p id="c954" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们来看看发生了什么，我们告诉rust，我们希望为所有从stdlib实现ToString trait的类型实现我们的trait。我们的例子相当简单，但是你可以对Rust语言中的每个特征都这样做，这给了你很大的能力，另一个为其他特征的实现者实现一个特征的例子是标准库中的<code class="fe ld le lf lg b">Into</code>和<code class="fe ld le lf lg b">From</code>特征。</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><p id="ff4d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在上面的代码中，我们可以看到<code class="fe ld le lf lg b">From</code>和<code class="fe ld le lf lg b">Into</code>特征的定义，这两个特征是在Rust编译器需要将一种类型转换成另一种类型时用于Rust中的类型转换。为了在你自己的类型中获得这个功能，你不需要实现两个特征，你只需要为你的类型实现<code class="fe ld le lf lg b">From</code>，你可以通过为你的类型实现<code class="fe ld le lf lg b">From</code>来免费获得<code class="fe ld le lf lg b">Into</code>的实现。</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><p id="9531" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">上面的代码来自Rust标准库，正如你所见(就像我们自己的例子)，它为所有实现了<code class="fe ld le lf lg b">From</code>的类型实现了<code class="fe ld le lf lg b">Into</code>。</p><p id="aac0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是对rust中特征的简单介绍，Rust中有很多特征，特征是几乎所有语言特征的支柱，Rust中的每个语言特征都映射到语言中的某个特征。</p><p id="b02a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">特征是非常强大的，学习如何使用它们是编写Rust的重要一步。</p></div></div>    
</body>
</html>