<html>
<head>
<title>Redux Synapse — Born out of the need for fast performing, large applications and heavy UI’s</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">redux Synapse——诞生于对快速执行、大型应用程序和繁重UI的需求</h1>
<blockquote>原文：<a href="https://itnext.io/redux-synapse-born-out-of-the-need-for-fast-performing-large-applications-and-heavy-uis-8ddafe305fcd?source=collection_archive---------8-----------------------#2018-03-05">https://itnext.io/redux-synapse-born-out-of-the-need-for-fast-performing-large-applications-and-heavy-uis-8ddafe305fcd?source=collection_archive---------8-----------------------#2018-03-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/98e140c9c97a60000ebb5ff65eba6104.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JswMuA9vSk3qq5_mf0_Oqg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">冗余突触</figcaption></figure><p id="198f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><a class="ae la" href="https://www.linkedin.com/cws/share?url=https%3A%2F%2Fitnext.io%2Fredux-synapse-born-out-of-the-need-for-fast-performing-large-applications-and-heavy-uis-8ddafe305fcd" rel="noopener ugc nofollow" target="_blank"> <em class="lb">点击这里在LinkedIn上分享这篇文章</em> </a></p><p id="040e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">React和Redux库，有助于构建集中和直接的状态更新，以确保最佳性能</p><p id="c491" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">编辑</strong> : <em class="lb">我最近修改了这篇文章，使其更容易理解，并包含了更多关于性能和文章预期用途的信息。因此，我将描述</em> <code class="fe lc ld le lf b"><em class="lb">react</em></code> <em class="lb">、</em> <code class="fe lc ld le lf b"><em class="lb">react-redux</em></code> <em class="lb">和</em> <code class="fe lc ld le lf b"><em class="lb">redux-synapse</em></code> <em class="lb">如何工作的部分分开。你可以在这里找到:</em></p><div class="lg lh gp gr li lj"><a href="https://medium.com/@jonevans100/the-differences-between-react-react-redux-and-redux-synapse-2a5ffe654f3c" rel="noopener follow" target="_blank"><div class="lk ab fo"><div class="ll ab lm cl cj ln"><h2 class="bd ir gy z fp lo fr fs lp fu fw ip bi translated">react、react-redux和redux-synapse之间的区别</h2><div class="lq l"><h3 class="bd b gy z fp lo fr fs lp fu fw dk translated">redux-synapse是一个javascript库，它提供了一种不同的方法来连接组件并为它们提供…</h3></div><div class="lr l"><p class="bd b dl z fp lo fr fs lp fu fw dk translated">medium.com</p></div></div><div class="ls l"><div class="lt l lu lv lw ls lx jw lj"/></div></div></a></div><h1 id="5e5b" class="ly lz iq bd ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv bi translated">冗余突触</h1><p id="4611" class="pw-post-body-paragraph kc kd iq ke b kf mw kh ki kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz ij bi translated"><strong class="ke ir"> Redux让前端开发变得令人敬畏。它改变了javascript开发的前景，并在世界范围内的应用程序中扎根，从大量的待办事项应用程序到大规模的单页面应用程序。此外，已经创建了100个(如果不是1000个的话)库来扩充、扩展和改进它。<code class="fe lc ld le lf b">redux-synapse</code> <em class="lb">是</em>其中的一个库，旨在利用<code class="fe lc ld le lf b">redux</code>的能力，并通过redux订阅系统上的不同角度，将它转向允许更多定向的订阅更新，以提供临时性能优势和更多上下文更新。这可能不是第一个(<em class="lb">考虑到我因为懒惰搁置了2年~ </em>)但是我想与你分享它，希望你能从中得到一些想法，或者甚至使用它。</strong></p></div><div class="ab cl nb nc hu nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ij ik il im in"><h2 id="ce63" class="ni lz iq bd ma nj nk dn me nl nm dp mi kn nn no mm kr np nq mq kv nr ns mu nt bi translated">表现潜力？</h2><p id="74b2" class="pw-post-body-paragraph kc kd iq ke b kf mw kh ki kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz ij bi translated">我会推荐任何有兴趣了解更多的人去bench ( <em class="lb">除非我先抽出时间</em>)，看看它是否比普通的<code class="fe lc ld le lf b">react-redux</code>更有效。有人理所当然地问我关于基准测试的问题，但是在我的本地实验中，它确实表现得更好。</p><p id="279b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">也就是说，我确信通过仔细考虑连接和高级设置或自定义插件,<code class="fe lc ld le lf b">react-reduX</code>可以执行得更快，但我相信作为一种选择，通过少量的设置，它可以更好地开箱即用。</p><h2 id="4a53" class="ni lz iq bd ma nj nk dn me nl nm dp mi kn nn no mm kr np nq mq kv nr ns mu nt bi translated">突触的支柱</h2><figure class="nv nw nx ny gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nu"><img src="../Images/b2de0aca9f15331fcf56121d262b3bdf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DZwdGMaeu-rvTroJYui6Uw.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">创造之柱(美国宇航局)</figcaption></figure><blockquote class="nz oa ob"><p id="03a5" class="kc kd lb ke b kf kg kh ki kj kk kl km oc ko kp kq od ks kt ku oe kw kx ky kz ij bi translated">synapse记录、通知和底层观察器</p></blockquote><p id="c188" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这些是<code class="fe lc ld le lf b">redux-synapse</code>的支柱，并最终决定了它如何工作。这是一个相对简单的系统，只有几个部分需要设置才能开始享受好处，所以让我们讨论一下它们扮演的各种角色:</p><p id="0c82" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><code class="fe lc ld le lf b">synapse(function, function, Array&lt;string&gt;)(component) </code> —这是您将组件连接到商店的方法。您提供了经典的<code class="fe lc ld le lf b">mapStateToProps</code>、<code class="fe lc ld le lf b">mapDispatchToProps</code>函数和一个<code class="fe lc ld le lf b">pathArray:Array&lt;String&gt;</code>，后者是您感兴趣的一系列路径。这些路径将是redux状态树的路径。</p><p id="6840" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><code class="fe lc ld le lf b">observer</code> —观察者在后台处理状态，并在设置提供者时被启动。它采用默认的形状，拆除它，并基于已经存在并对特定关键路径表示出兴趣的<code class="fe lc ld le lf b">synapse</code>，构建一个内部的关键路径和订阅者字典。</p><p id="840a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><code class="fe lc ld le lf b">prepareNotification</code>—<strong class="ke ir">向突触提供更新的两种</strong>方式之一。当你得到某些更新时，你可以在你的reducer中使用它，或者如果绝对必要的话，在它之外的其他地方使用它。</p><figure class="nv nw nx ny gt jr gh gi paragraph-image"><div class="gh gi of"><img src="../Images/502875ecb5cdbdb87cb9ab88d09c7caf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*afbaxDDHjAjxHYP3Ys03aw.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">将prepareNotification与reducer一起使用</figcaption></figure><p id="f8ea" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><code class="fe lc ld le lf b">SynapseRecord</code> —这是<strong class="ke ir">推荐的</strong>方式，可以在<code class="fe lc ld le lf b">Immutable.Records</code>的基础上更新您的应用和作品，但也可以在原始状态下工作。您只需调用<code class="fe lc ld le lf b">generateSynapseRecord(new T(), STATE_KEY)</code>，其中<code class="fe lc ld le lf b">T</code>是您的记录类型，而<code class="fe lc ld le lf b">STATE_KEY</code>匹配状态上的键的名称。下面的截图给出了一个例子。</p><figure class="nv nw nx ny gt jr gh gi paragraph-image"><div class="gh gi og"><img src="../Images/9f8e165a42cae27b8c3598f4acf31feb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*6UOiebXoxhT4icNt-r9jfw.png"/></div></figure><p id="59a5" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这样你就可以高枕无忧了，因为你所有的更新现在都可以通过<code class="fe lc ld le lf b">Immutable</code>API来处理，比如<code class="fe lc ld le lf b">.set</code>、<code class="fe lc ld le lf b">.setIn</code>和<code class="fe lc ld le lf b">.withMutations</code>。<code class="fe lc ld le lf b">SynapseRecord</code>将状态更新传递给观察器，观察器通过订阅通知正确的组件。</p><blockquote class="nz oa ob"><p id="7405" class="kc kd lb ke b kf kg kh ki kj kk kl km oc ko kp kq od ks kt ku oe kw kx ky kz ij bi translated"><code class="fe lc ld le lf b">SynapseRecord</code>是使用该库的方式，提供了开箱即用的最佳优势；通过抽象掉对<code class="fe lc ld le lf b">prepareNotification</code>的需求，利用<code class="fe lc ld le lf b">immutable</code>的优势。</p></blockquote><figure class="nv nw nx ny gt jr gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/7c1151a82454bb7bec144c57c4c64d68.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/0*reMTHQun2DsVkBP6.gif"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">哒哒！</figcaption></figure><p id="5b16" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">当然，就代码而言，它还有更多的内容，但从消费者的角度来看，你可以简单地插入并非常快速地播放<em class="lb"/>，只需使用<code class="fe lc ld le lf b">redux-synapse</code> <code class="fe lc ld le lf b">Provider</code>(从包中导入)，然后用<code class="fe lc ld le lf b">generateSynapseRecord</code>包装你的唱片。很自然地，它假设您有不可变的记录——如上所述，您总是可以使用<code class="fe lc ld le lf b">prepareNotification</code> API，但代价是继续维护它，并可能错过对它的调用。</p><p id="0a4d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">要了解更多信息，你可以阅读<a class="ae la" href="https://github.com/glitch100/redux-synapse/tree/master/docs" rel="noopener ugc nofollow" target="_blank"> <strong class="ke ir">文档</strong> </a> <strong class="ke ir"> </strong>来解释这一点，但我希望它很容易掌握。</p><h2 id="a098" class="ni lz iq bd ma nj nk dn me nl nm dp mi kn nn no mm kr np nq mq kv nr ns mu nt bi translated">比分</h2><p id="121b" class="pw-post-body-paragraph kc kd iq ke b kf mw kh ki kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz ij bi translated"><code class="fe lc ld le lf b">redux-synapse</code>这是我和其他人在处理搬到<code class="fe lc ld le lf b">redux</code>时遇到的一个非常具体的问题的想法。也就是说，当涉及到其他库时，我并不是最敏锐的工具，因为JS肯定不是我的强项，而且还有其他库基于Observer模式使用类似的概念。</p><p id="4d2d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这个库对我来说更像是一个概念证明，证明了我可以创造一些潜在有用的东西。</p><p id="f496" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">值得注意的是，我做了一些关于性能改进的灰色假设，这可以为用户提供频繁更新的应用程序，如多个视频发射更新或游戏引擎。</p><p id="0104" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">因为该库始于2016年，随着时间的推移，维护和承诺水平参差不齐，它仍然存在一些潜在的未知问题。该库目前依赖于不可变的3.8.6。去年对<code class="fe lc ld le lf b">immutable</code>进行了一次重大更新，实际上取消了<code class="fe lc ld le lf b">redux-synapse</code>中使用的一些API。由于许多原因，这种升级是必要，但是这样做的话，各种区域将需要重写。</p><h2 id="18f5" class="ni lz iq bd ma nj nk dn me nl nm dp mi kn nn no mm kr np nq mq kv nr ns mu nt bi translated">后续步骤</h2><p id="08ca" class="pw-post-body-paragraph kc kd iq ke b kf mw kh ki kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz ij bi translated"><strong class="ke ir">给你</strong>:如果你喜欢这篇文章，觉得它有趣或者有一些问题<strong class="ke ir">在</strong>下面开始对话。事实上，如果你非常感兴趣的话，可以去知识库，以任何适合你的方式贡献自己的一份力量！</p><div class="lg lh gp gr li lj"><a href="https://github.com/glitch100/redux-synapse" rel="noopener  ugc nofollow" target="_blank"><div class="lk ab fo"><div class="ll ab lm cl cj ln"><h2 class="bd ir gy z fp lo fr fs lp fu fw ip bi translated">glitch100/redux-synapse</h2><div class="lq l"><h3 class="bd b gy z fp lo fr fs lp fu fw dk translated">redux-synapse影响的替代react-redux，为您的反应提供一个基于观察者的特设系统…</h3></div><div class="lr l"><p class="bd b dl z fp lo fr fs lp fu fw dk translated">github.com</p></div></div><div class="ls l"><div class="oi l lu lv lw ls lx jw lj"/></div></div></a></div><p id="2489" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">想试试吗？你很幸运，它在NPM:</p><div class="lg lh gp gr li lj"><a href="https://www.npmjs.com/package/redux-synapse" rel="noopener  ugc nofollow" target="_blank"><div class="lk ab fo"><div class="ll ab lm cl cj ln"><h2 class="bd ir gy z fp lo fr fs lp fu fw ip bi translated">冗余突触</h2><div class="lq l"><h3 class="bd b gy z fp lo fr fs lp fu fw dk translated">Redux之上的层，以帮助显式地将React组件绑定到存储。非常适合性能和频繁更新…</h3></div><div class="lr l"><p class="bd b dl z fp lo fr fs lp fu fw dk translated">www.npmjs.com</p></div></div><div class="ls l"><div class="oj l lu lv lw ls lx jw lj"/></div></div></a></div><p id="5d72" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">对我来说:现在这篇文章终于发表了，我打算回顾一下我在图书馆工作时提出的一些问题。</p><ul class=""><li id="3255" class="ok ol iq ke b kf kg kj kk kn om kr on kv oo kz op oq or os bi translated"><em class="lb">添加单元测试覆盖</em></li><li id="a28a" class="ok ol iq ke b kf ot kj ou kn ov kr ow kv ox kz op oq or os bi translated"><em class="lb">升级不可变，Redux和React </em></li><li id="e880" class="ok ol iq ke b kf ot kj ou kn ov kr ow kv ox kz op oq or os bi translated"><em class="lb">添加更多不可变的支持(通过各种API)</em></li><li id="67d4" class="ok ol iq ke b kf ot kj ou kn ov kr ow kv ox kz op oq or os bi translated"><em class="lb">获取一些性能日志</em></li><li id="287c" class="ok ol iq ke b kf ot kj ou kn ov kr ow kv ox kz op oq or os bi translated"><em class="lb">添加演示页面</em></li></ul><p id="3dbd" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这里有很多东西，我欢迎对它们的任何帮助，因为这将是一条漫长的道路，但它值得一个1.0.0版本。</p></div><div class="ab cl nb nc hu nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ij ik il im in"><p id="eef3" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">感谢阅读——我真的很感激。如果你觉得有趣，一定要评论、鼓掌并留下精彩片段。</p><div class="lg lh gp gr li lj"><a href="https://twitter.com/Glitch100" rel="noopener  ugc nofollow" target="_blank"><div class="lk ab fo"><div class="ll ab lm cl cj ln"><h2 class="bd ir gy z fp lo fr fs lp fu fw ip bi translated">乔恩·埃文斯(@Glitch100) |推特</h2><div class="lq l"><h3 class="bd b gy z fp lo fr fs lp fu fw dk translated">乔恩·埃文斯的最新推文(@Glitch100)。。NET/React/Redux/ES6 Dev。redux-synapse、Halo-API和…</h3></div><div class="lr l"><p class="bd b dl z fp lo fr fs lp fu fw dk translated">twitter.com</p></div></div><div class="ls l"><div class="oy l lu lv lw ls lx jw lj"/></div></div></a></div></div></div>    
</body>
</html>