<html>
<head>
<title>Practical tips for passing CKAD certification exam</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过CKAD认证考试的实用技巧</h1>
<blockquote>原文：<a href="https://itnext.io/practical-tips-for-passing-ckad-exam-6cbdf2d35cb1?source=collection_archive---------2-----------------------#2020-12-17">https://itnext.io/practical-tips-for-passing-ckad-exam-6cbdf2d35cb1?source=collection_archive---------2-----------------------#2020-12-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/8f5b659b0ff789cdc1224386311d9ed3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JxNyk6ELTDf6N9QTCqVHKw.png"/></div></div></figure><h2 id="971d" class="iz ja jb bd b dl jc jd je jf jg jh dk ji translated" aria-label="kicker paragraph">Kubernetes认证</h2><div class=""/><div class=""><h2 id="d533" class="pw-subtitle-paragraph kh jk jb bd b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dk translated">来自<a class="ae kz" href="https://www.cncf.io/" rel="noopener ugc nofollow" target="_blank">云本地计算基金会</a>的令人垂涎的<a class="ae kz" href="https://www.cncf.io/certification/ckad/" rel="noopener ugc nofollow" target="_blank">认证Kubernetes应用程序开发员</a>考试的准备技巧。</h2></div></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><p id="e145" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">我已经在kubernetes工作了将近两年，我认为现在是验证我的技能的好时机。所以我参加了<a class="ae kz" href="https://www.cncf.io/" rel="noopener ugc nofollow" target="_blank">云本地计算基金会</a>的<a class="ae kz" href="https://www.cncf.io/certification/ckad/" rel="noopener ugc nofollow" target="_blank">认证Kubernetes应用开发者</a>考试并获得了认证。这篇文章的目的是分享我准备和参加考试的经验。</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><figure class="md me mf mg gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/369a447ae2d1002a18ea2079d7753784.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CAt9dWlnt85-l103fJSDGA.jpeg"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">考完试等待了36个小时！</figcaption></figure></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><h1 id="afa4" class="ml mm jb bd mn mo mp mq mr ms mt mu mv kq mw kr mx kt my ku mz kw na kx nb nc bi translated"><strong class="ak">准备考试</strong></h1><p id="640e" class="pw-post-body-paragraph lh li jb lj b lk nd kl lm ln ne ko lp lq nf ls lt lu ng lw lx ly nh ma mb mc ij bi translated">已经有一些好的资源可以帮助你做准备。你可以查看https://github.com/dgkanatsios/CKAD-exercises提供的全套练习。另一个非常有用的来源是<a class="ae kz" href="https://www.katacoda.com/liptanbiswas/courses/ckad-practice-challenges" rel="noopener ugc nofollow" target="_blank">https://www . kata coda . com/liptanbiswas/courses/ckad-practice-challenges</a>下给出的练习题。</p><p id="4062" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">但是如果你对kubernetes本身不是很熟悉，那么你应该考虑参加一些关于考试主题的培训。查看CNCF的<a class="ae kz" href="https://www.cncf.io/certification/training/" rel="noopener ugc nofollow" target="_blank">培训页面</a>了解最新优惠。通常，他们有结合认证注册和培训的套餐，通常比单独购买更便宜。</p><p id="e133" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">另一个划算但体面的选择是<a class="ae kz" href="https://acloudguru.com/course/certified-kubernetes-application-developer-ckad" rel="noopener ugc nofollow" target="_blank">来自<a class="ae kz" href="http://acloudguru.com" rel="noopener ugc nofollow" target="_blank"><em class="ni">acloudguru.com</em></a>的认证Kubernetes应用开发者(CKAD)课程</a>。本课程包括几个视频讲座和实验练习，涵盖了考试的全部课程。考试的课程可以在这里找到。</p><p id="eb7f" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">如果你想更详细地了解kubernetes，最好的书可能是Marko Lukš的<a class="ae kz" href="https://www.manning.com/books/kubernetes-in-action" rel="noopener ugc nofollow" target="_blank">Kubernetes in Action .</a></p><h1 id="71ba" class="ml mm jb bd mn mo nj mq mr ms nk mu mv kq nl kr mx kt nm ku mz kw nn kx nb nc bi translated"><strong class="ak">熟能生巧</strong></h1><p id="ec91" class="pw-post-body-paragraph lh li jb lj b lk nd kl lm ln ne ko lp lq nf ls lt lu ng lw lx ly nh ma mb mc ij bi translated">这对于CKAD考试来说再正确不过了。仅仅观看视频或参加培训并不能保证你在这次考试中取得成功。</p><blockquote class="no np nq"><p id="1958" class="lh li ni lj b lk ll kl lm ln lo ko lp nr lr ls lt ns lv lw lx nt lz ma mb mc ij bi translated">如果你对命令行不是很在行，特别是对<a class="ae kz" href="https://kubernetes.io/docs/tasks/tools/install-kubectl/" rel="noopener ugc nofollow" target="_blank"> kubectl </a>不是很在行，你很可能会失败。</p></blockquote><p id="30ed" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">实际考试包括19个问题，需要在2小时内回答，这意味着回答每个问题平均需要6分钟左右。不同的问题有不同的权重，所以为了达到66%的及格分数，重点回答那些得分较高的问题确实有意义。</p><p id="5f7b" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">为了进行实践，您可以安装由任何公共云提供商(如AWS或google)提供的托管Kubernetes服务。或者，您可以在笔记本电脑上安装一个单节点集群，使用任何流行的轻量级kubernetes解决方案，如<a class="ae kz" href="https://k3s.io/" rel="noopener ugc nofollow" target="_blank"> k3s </a>、<a class="ae kz" href="https://microk8s.io/" rel="noopener ugc nofollow" target="_blank"> microk8s </a>或<a class="ae kz" href="https://github.com/kubernetes/minikube" rel="noopener ugc nofollow" target="_blank"> minikube </a>。</p><p id="ce76" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">关于您的实践环境有几个问题——尽管考试中涵盖的主题与平台和提供商无关，但某些功能的实际实现并不是平台中立的。</p><p id="8d28" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">下面是一些可能会有所不同的功能，具体取决于您的环境。</p><p id="1df2" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated"><strong class="lj jl">服务和网络</strong></p><p id="6834" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">Kubernetes的目标是抽象出所有底层的<a class="ae kz" href="https://kubernetes.io/docs/concepts/cluster-administration/networking/" rel="noopener ugc nofollow" target="_blank">复杂网络配置</a>，这些配置是动态提供容器工作负载(Pods)所必需的。由于这些神奇的功能，当您添加或删除服务时，您不需要配置NAT、DNS或iptables。您还可以无缝地添加更高级别的抽象，如负载平衡器，而不必深入了解HTTP协议或反向代理设置。但是<a class="ae kz" href="https://www.joelonsoftware.com/2002/11/11/the-law-of-leaky-abstractions/" rel="noopener ugc nofollow" target="_blank">每一个抽象都会在某一点上泄露</a>并且不同厂商提供的各种网络插件在功能和性能上有所不同。</p><p id="c6f6" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated"><em class="ni">网络服务策略</em>是考试课程中包含的功能之一，但其实现依赖于底层的<a class="ae kz" href="https://kubernetes.io/docs/concepts/extend-kubernetes/compute-storage-net/network-plugins/" rel="noopener ugc nofollow" target="_blank">网络插件</a>。对Kubernetes中网络的详细讨论超出了本文的范围，但是请检查您的集群平台是否由支持网络策略配置的<a class="ae kz" href="https://github.com/containernetworking/cni" rel="noopener ugc nofollow" target="_blank"> CNI插件</a>支持。</p><p id="2d65" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">我主要使用<a class="ae kz" href="https://azure.microsoft.com/en-us/services/kubernetes-service/" rel="noopener ugc nofollow" target="_blank"> Azure Kubernetes服务</a>进行练习，默认情况下，该服务使用不支持网络策略的<a class="ae kz" href="https://kubernetes.io/docs/concepts/extend-kubernetes/compute-storage-net/network-plugins/#kubenet" rel="noopener ugc nofollow" target="_blank"> kubenet插件</a>来构建集群。因此，我不得不使用更高级的插件，如<a class="ae kz" href="https://docs.microsoft.com/en-us/azure/aks/concepts-network" rel="noopener ugc nofollow" target="_blank"> Azure CNI </a>或<a class="ae kz" href="https://www.projectcalico.org/" rel="noopener ugc nofollow" target="_blank"> calico </a>来构建一个支持网络策略的集群(我发现Azure CNI有bug可以达到这个目的，但那是另一回事了)。</p><p id="67ba" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">另一个可能依赖于底层平台的网络特性是使用类型为<a class="ae kz" href="https://kubernetes.io/docs/concepts/services-networking/service/#nodeport" rel="noopener ugc nofollow" target="_blank"> NodePort </a>的服务。例如，AKS不支持这种功能，所以您可能想检查一下您选择的平台是否支持它。</p><p id="2cbb" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">但是对于实际的考试，您不需要担心这些细节，因为我们保证会为您提供一个具有完成手头任务所需的所有必要功能的集群。作为kubernetes开发人员，您的工作就是了解如何利用实现的抽象。</p><p id="0850" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated"><strong class="lj jl">持久性</strong></p><p id="480c" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">坚持占课程的8%,所以你可能不想错过它。但是配置一个<a class="ae kz" href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/" rel="noopener ugc nofollow" target="_blank">持久卷</a>或<a class="ae kz" href="https://kubernetes.io/docs/concepts/storage/storage-classes/" rel="noopener ugc nofollow" target="_blank">存储类</a>可能是平台相关的，这取决于您想要如何配置底层磁盘存储。</p><p id="767e" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">这里也是为了实际的考试，您将只被要求使用诸如<code class="fe nu nv nw nx b">hostPath</code>之类的配置来配置独立于平台的<a class="ae kz" href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/" rel="noopener ugc nofollow" target="_blank">持续卷</a>。</p><h1 id="e687" class="ml mm jb bd mn mo nj mq mr ms nk mu mv kq nl kr mx kt nm ku mz kw nn kx nb nc bi translated">时间管理的实用技巧</h1><p id="fc1d" class="pw-post-body-paragraph lh li jb lj b lk nd kl lm ln ne ko lp lq nf ls lt lu ng lw lx ly nh ma mb mc ij bi translated">成功通过考试不仅需要一些好的经验和对kubernetes域和<code class="fe nu nv nw nx b">kubectl</code>的熟悉，还需要大量的时间管理。下面的列表给了你一些在实际考试中节省时间和减少错误的建议。</p><h2 id="669f" class="ny mm jb bd mn nz oa dn mr ob oc dp mv lq od oe mx lu of og mz ly oh oi nb jh bi translated"><strong class="ak">别名</strong></h2><p id="7b07" class="pw-post-body-paragraph lh li jb lj b lk nd kl lm ln ne ko lp lq nf ls lt lu ng lw lx ly nh ma mb mc ij bi translated">当您没有时间重复执行相同的命令或者不想麻烦地搜索命令历史时，UNIX <a class="ae kz" href="https://en.wikipedia.org/wiki/Alias_(command)" rel="noopener ugc nofollow" target="_blank"> alias </a>是您的好朋友。你应该在考试开始的时候定义一些别名，这样你可以尽量减少打字错误，同时节省一些宝贵的时间。使用这些快捷方式没有什么不好意思的，因为测试的是kubernetes，而不是快速打字。</p><p id="0da9" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">以下是我最喜欢的一些命令别名:</p><pre class="md me mf mg gt oj nx ok ol aw om bi"><span id="c518" class="ny mm jb nx b gy on oo l op oq">zen@Zenifers-MBP ~ % alias k=kubectl</span><span id="3c11" class="ny mm jb nx b gy or oo l op oq">zen@Zenifers-MBP ~ % alias kgp="k get pods"</span><span id="a584" class="ny mm jb nx b gy or oo l op oq">zen@Zenifers-MBP ~ % alias kns="k create ns"</span><span id="a0a7" class="ny mm jb nx b gy or oo l op oq">zen@Zenifers-MBP ~ % alias kgtx="k config get-contexts"</span><span id="9d8a" class="ny mm jb nx b gy or oo l op oq">zen@Zenifers-MBP ~ % alias kctx="k config set-context --current --namespace"</span></pre><h2 id="43fe" class="ny mm jb bd mn nz oa dn mr ob oc dp mv lq od oe mx lu of og mz ly oh oi nb jh bi translated">自动完成</h2><p id="0843" class="pw-post-body-paragraph lh li jb lj b lk nd kl lm ln ne ko lp lq nf ls lt lu ng lw lx ly nh ma mb mc ij bi translated">kubectl提供了<a class="ae kz" href="https://kubernetes.io/docs/tasks/tools/install-kubectl/#enabling-shell-autocompletion" rel="noopener ugc nofollow" target="_blank">自动补全</a>，这有时会派上用场。但是我对依靠这个有一种复杂的感觉，所以我在考试的时候没有使用它。一般来说，能够使用这个功能需要安装<em class="ni"> bash-completion。</em>一般来说，我不会认为这是安装在一个不熟悉的远程系统上，在那里我只能进行有限的访问。我也不会认为我有权利在那里安装它。</p><p id="2200" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">鉴于你有19个独立的任务要执行，并且你必须频繁地在集群之间切换，这种能力的好处在考试期间并不是那么高。如果你在考试中需要参考命令，学习如何简洁地使用<code class="fe nu nv nw nx b">kubectl explain</code>。最后，记住你甚至有可能在考试时使用<a class="ae kz" href="https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands" rel="noopener ugc nofollow" target="_blank">命令参考页</a>！</p><h2 id="21e2" class="ny mm jb bd mn nz oa dn mr ob oc dp mv lq od oe mx lu of og mz ly oh oi nb jh bi translated">编辑</h2><p id="c976" class="pw-post-body-paragraph lh li jb lj b lk nd kl lm ln ne ko lp lq nf ls lt lu ng lw lx ly nh ma mb mc ij bi translated">考试期间你将不得不在很大程度上依赖文本编辑器。您将需要它来定义要创建的新对象，以及使用<code class="fe nu nv nw nx b">kubectl edit </code>命令编辑集群中的现有对象。</p><p id="12ac" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">如果你像我一样是第六教堂(T4)的成员，那么你不需要做任何事情。在考试环境中，默认编辑器通常是vim，我也是如此。但我也读过一些考生的故事，他们通过设置环境变量<code class="fe nu nv nw nx b">KUBE_EDITOR</code>指向纳米来配置他们的环境使用纳米<em class="ni">。</em></p><h2 id="aaaf" class="ny mm jb bd mn nz oa dn mr ob oc dp mv lq od oe mx lu of og mz ly oh oi nb jh bi translated">笔记本</h2><p id="0d17" class="pw-post-body-paragraph lh li jb lj b lk nd kl lm ln ne ko lp lq nf ls lt lu ng lw lx ly nh ma mb mc ij bi translated">您的考试环境包含一个基于web的记事本，您可以在整个考试过程中使用它。你可以用任何你想要的方式来使用它，但是我发现做以下事情非常有用:</p><ul class=""><li id="88f2" class="os ot jb lj b lk ll ln lo lq ou lu ov ly ow mc ox oy oz pa bi translated">一旦设置了别名，您应该在控制台上打印它们，并将所有别名命令复制到此记事本中。如果由于某种原因，您与终端断开连接，或者意外刷新了终端，那么您会得到一个新的终端会话，并且您的旧别名会丢失。但是你的记事本内容仍然完好无损，你可以把它复制到终端上，省去了重新输入的麻烦。也许您可以通过在bash概要文件中设置别名来解决这个问题，但是我没有这样做。</li><li id="1673" class="os ot jb lj b lk pb ln pc lq pd lu pe ly pf mc ox oy oz pa bi translated">为了节省打字和减少错误，请将您最常用的命令复制到记事本上，以便重复使用。例如:</li></ul><pre class="md me mf mg gt oj nx ok ol aw om bi"><span id="9a51" class="ny mm jb nx b gy on oo l op oq">k run nginx --image=nginx --dry-run=client -o yaml &gt; filename.yaml</span></pre><h2 id="acf6" class="ny mm jb bd mn nz oa dn mr ob oc dp mv lq od oe mx lu of og mz ly oh oi nb jh bi translated">验证答案(提示:聪明地使用busybox)</h2><p id="dd6e" class="pw-post-body-paragraph lh li jb lj b lk nd kl lm ln ne ko lp lq nf ls lt lu ng lw lx ly nh ma mb mc ij bi translated">在回答问题的过程中检查你所做的动作的正确性是一个很好的做法。如果你犯了一个错误，你可能会得零分。</p><p id="2094" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">根据问题的不同，您将不得不使用标准的<code class="fe nu nv nw nx b">kubectl</code>命令或简单的shell命令来验证您的答案。但是有时您将不得不使用临时pod来执行集群内部的操作。这就是<a class="ae kz" href="https://hub.docker.com/_/busybox" rel="noopener ugc nofollow" target="_blank"> busybox映像</a>派上用场的地方。</p><p id="5f0a" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">有几种方法可以使用它，比如首先创建一个busybox映像，然后登录到容器，执行您的测试命令，验证输出，然后删除pod。但是这些步骤可以组合起来写成下面的简明形式:</p><pre class="md me mf mg gt oj nx ok ol aw om bi"><span id="c819" class="ny mm jb nx b gy on oo l op oq">k run  busybox-client-pod --image=busybox -it --rm --restart=Never -- &lt;_your_command&gt;</span></pre><p id="0fbe" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">例如，您可能已经为nginx部署创建了一个ClusterIP类型的服务，现在您想要检查您是否可以通过新服务访问公开的pod。在这种情况下，您将旋转如下所示的busybox pod来在您的服务IP上运行<code class="fe nu nv nw nx b">wget -O-</code>。</p><pre class="md me mf mg gt oj nx ok ol aw om bi"><span id="5eb8" class="ny mm jb nx b gy on oo l op oq"><br/>zen@Zenifers-MBP ~ % k expose deploy busybox-demo --port=80</span><span id="6954" class="ny mm jb nx b gy or oo l op oq">service/busybox-demo exposed</span><span id="c2e7" class="ny mm jb nx b gy or oo l op oq">zen@Zenifers-MBP ~ % k get svc -o wide</span><span id="3a32" class="ny mm jb nx b gy or oo l op oq">NAME           TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)        AGE    SELECTOR</span><span id="7b8e" class="ny mm jb nx b gy or oo l op oq">busybox-demo   ClusterIP   10.2.0.96    &lt;none&gt;        80/TCP         8s     app=busybox-demo</span><span id="2aba" class="ny mm jb nx b gy or oo l op oq">zen@Zenifers-MBP ~ % k run  busybox-client-pod --image=busybox -it --rm --restart=Never -- wget -O- 10.2.0.96:80</span><span id="4d85" class="ny mm jb nx b gy or oo l op oq">Connecting to 10.2.0.96:80 (10.2.0.96:80)</span><span id="35ec" class="ny mm jb nx b gy or oo l op oq">writing to stdout</span><span id="d7df" class="ny mm jb nx b gy or oo l op oq">...<br/>...</span><span id="6363" class="ny mm jb nx b gy or oo l op oq">&lt;/html&gt;</span><span id="d508" class="ny mm jb nx b gy or oo l op oq">-                    100% |********************************|   612  0:00:00 ETA</span><span id="7cb9" class="ny mm jb nx b gy or oo l op oq">written to stdout</span><span id="52e9" class="ny mm jb nx b gy or oo l op oq">pod "busybox-client-pod" deleted</span></pre><h2 id="6b5d" class="ny mm jb bd mn nz oa dn mr ob oc dp mv lq od oe mx lu of og mz ly oh oi nb jh bi translated">在cmd vs args上下定决心</h2><p id="7255" class="pw-post-body-paragraph lh li jb lj b lk nd kl lm ln ne ko lp lq nf ls lt lu ng lw lx ly nh ma mb mc ij bi translated">我个人喜欢使用自以为是的API，它最小化了用户的精神空间需求。不幸的是，在容器中执行命令并不是其中之一。</p><p id="ad88" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">有几种不同的方式来实现从一个容器中打印出一个目标。这非常类似于使用docker的<code class="fe nu nv nw nx b">ENTRYPOINT</code>和<code class="fe nu nv nw nx b">CMD</code>命令的细微差别(参见我关于那个主题的<a class="ae kz" href="https://gist.github.com/sensei-wu/bc853aba775fa5ddedd1e24d08ddd768" rel="noopener ugc nofollow" target="_blank">要点</a>)。</p><p id="6e75" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">所以在kubernetes中，下面所有的都是从容器中打印<em class="ni"> hello </em>的有效方法。</p><p id="8493" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated"><strong class="lj jl"> v1: </strong></p><pre class="md me mf mg gt oj nx ok ol aw om bi"><span id="362e" class="ny mm jb nx b gy on oo l op oq">spec:</span><span id="a682" class="ny mm jb nx b gy or oo l op oq">containers:</span><span id="cef7" class="ny mm jb nx b gy or oo l op oq">- args:</span><span id="d6ed" class="ny mm jb nx b gy or oo l op oq">    - /bin/sh</span><span id="54a2" class="ny mm jb nx b gy or oo l op oq">    - -c</span><span id="0252" class="ny mm jb nx b gy or oo l op oq">    - "while true; do echo hello; sleep 10;done"</span><span id="4852" class="ny mm jb nx b gy or oo l op oq">  image: busybox</span><span id="710d" class="ny mm jb nx b gy or oo l op oq">  name: cmd-demo</span></pre><p id="fea2" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated"><strong class="lj jl"> v2: </strong></p><pre class="md me mf mg gt oj nx ok ol aw om bi"><span id="49a2" class="ny mm jb nx b gy on oo l op oq">spec:</span><span id="be0a" class="ny mm jb nx b gy or oo l op oq">containers:</span><span id="b9ff" class="ny mm jb nx b gy or oo l op oq">- args: [/bin/sh, -c, 'while true; do echo hello; sleep 10;done']</span><span id="f8f7" class="ny mm jb nx b gy or oo l op oq">  image: busybox</span><span id="ee07" class="ny mm jb nx b gy or oo l op oq">  name: cmd-demo</span></pre><p id="4d75" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated"><strong class="lj jl"> v3: </strong></p><pre class="md me mf mg gt oj nx ok ol aw om bi"><span id="be4f" class="ny mm jb nx b gy on oo l op oq">spec:</span><span id="ccfe" class="ny mm jb nx b gy or oo l op oq">containers:</span><span id="084e" class="ny mm jb nx b gy or oo l op oq">- command: ['/bin/sh']</span><span id="da0f" class="ny mm jb nx b gy or oo l op oq">  args: [-c, 'while true; do echo hello; sleep 10;done']</span><span id="8e40" class="ny mm jb nx b gy or oo l op oq">  image: busybox</span><span id="e567" class="ny mm jb nx b gy or oo l op oq">  name: cmd-demo</span></pre><p id="c02d" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">如果您的命令是多行shell代码片段，事情可能会变得有点混乱。vim不支持yaml这一事实也不会让您的生活变得更轻松。因为在这两个小时里会有很多其他的事情要担心，你可能想用上面的一种方法来使用<em class="ni">命令</em>或<em class="ni">参数</em>来避免考试中的混乱。</p><h2 id="4a9d" class="ny mm jb bd mn nz oa dn mr ob oc dp mv lq od oe mx lu of og mz ly oh oi nb jh bi translated">命令式与陈述式</h2><p id="4078" class="pw-post-body-paragraph lh li jb lj b lk nd kl lm ln ne ko lp lq nf ls lt lu ng lw lx ly nh ma mb mc ij bi translated">对于现实生活中的项目，你应该主要使用基础设施作为代码，并避免使用命令式命令来构建系统，但在考试期间，你不应该回避命令式命令。对于一些操作，命令性命令提供了在集群中创建和修改对象的全部功能，您应该充分利用它。</p><p id="ecef" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">当无法使用命令性命令创建或修改所需对象时，应使用<code class="fe nu nv nw nx b">--dry-run=client -o yaml &gt; filename.yaml </code>选项生成一个文件。然后你可以根据你的需要调整它，执行<code class="fe nu nv nw nx b">k apply -f filename.yaml</code>。</p><h2 id="229e" class="ny mm jb bd mn nz oa dn mr ob oc dp mv lq od oe mx lu of og mz ly oh oi nb jh bi translated">给参考文档的部分添加书签</h2><p id="3b6b" class="pw-post-body-paragraph lh li jb lj b lk nd kl lm ln ne ko lp lq nf ls lt lu ng lw lx ly nh ma mb mc ij bi translated">考试期间，你可以打开一个额外的标签，其网址仅限于https://kubernetes.io/<a class="ae kz" href="https://kubernetes.io/" rel="noopener ugc nofollow" target="_blank">的域名和子域。为了方便参考，你可以考虑把它的一部分加上书签。例如，我知道创建一个持久卷需要定义一个yaml文件。那么将文档的这一部分(</a><a class="ae kz" href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-persistent-volume-storage/#create-a-persistentvolume" rel="noopener ugc nofollow" target="_blank">https://kubernetes . io/docs/tasks/configure-pod-container/configure-persistent-volume-storage/# create-a-persistent volume</a>)加入书签以便快速访问可能是有意义的。请记住，如果你能在2小时内像这样节省5次时间，你就有可能用它来回答一个额外的问题。</p><h1 id="580a" class="ml mm jb bd mn mo nj mq mr ms nk mu mv kq nl kr mx kt nm ku mz kw nn kx nb nc bi translated">考试不需要什么</h1><p id="6fd6" class="pw-post-body-paragraph lh li jb lj b lk nd kl lm ln ne ko lp lq nf ls lt lu ng lw lx ly nh ma mb mc ij bi translated">就CKAD考试而言，有些事情你不需要担心。以下是其中的一些:</p><ul class=""><li id="72cd" class="os ot jb lj b lk ll ln lo lq ou lu ov ly ow mc ox oy oz pa bi translated">设置集群—这仅与<a class="ae kz" href="https://www.cncf.io/certification/cka/" rel="noopener ugc nofollow" target="_blank"> CKA </a>考试相关</li><li id="2149" class="os ot jb lj b lk pb ln pc lq pd lu pe ly pf mc ox oy oz pa bi translated">配置对docker hub或注册表的访问——可以提取所有映像，而无需担心注册表或凭据</li><li id="fe8a" class="os ot jb lj b lk pb ln pc lq pd lu pe ly pf mc ox oy oz pa bi translated">熟悉使用docker——了解更多关于docker的知识肯定不会有坏处，但不是必需的</li><li id="8cd6" class="os ot jb lj b lk pb ln pc lq pd lu pe ly pf mc ox oy oz pa bi translated">kubernetes考试课程范围之外的对象——不需要担心诸如<code class="fe nu nv nw nx b">Ingress</code>、<code class="fe nu nv nw nx b">StatefulSets, LoadBalancer, ClusterRole</code>等东西。</li><li id="98d3" class="os ot jb lj b lk pb ln pc lq pd lu pe ly pf mc ox oy oz pa bi translated">集群或节点网络配置—可能会要求您定义<a class="ae kz" href="https://kubernetes.io/docs/concepts/services-networking/network-policies/" rel="noopener ugc nofollow" target="_blank">网络策略</a>，但不会要求您设置或配置<a class="ae kz" href="https://github.com/containernetworking/cni" rel="noopener ugc nofollow" target="_blank">网络插件</a>、VNETs等。</li><li id="f3c1" class="os ot jb lj b lk pb ln pc lq pd lu pe ly pf mc ox oy oz pa bi translated">掌舵命令和部署——一切只发生在<code class="fe nu nv nw nx b">kubectl</code>身上</li></ul><h1 id="be27" class="ml mm jb bd mn mo nj mq mr ms nk mu mv kq nl kr mx kt nm ku mz kw nn kx nb nc bi translated">结束语</h1><p id="f006" class="pw-post-body-paragraph lh li jb lj b lk nd kl lm ln ne ko lp lq nf ls lt lu ng lw lx ly nh ma mb mc ij bi translated">通过测试需要至少几天的集中准备。总的来说，我可能在4-5周内花了大约40个小时来准备这次考试。这包括观看大约5小时的cloudguru课程视频和做一些实验。但是我不得不承认，我偶尔会做得比通过认证所要求的更过分，比如玩<a class="ae kz" href="https://kubernetes.io/docs/concepts/policy/resource-quotas/" rel="noopener ugc nofollow" target="_blank"> ResourceQuotas </a>、<a class="ae kz" href="https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/" rel="noopener ugc nofollow" target="_blank"> StatefulSets </a>和<a class="ae kz" href="https://kubernetes.io/docs/concepts/policy/pod-security-policy/" rel="noopener ugc nofollow" target="_blank"> Pod安全策略</a>。</p><blockquote class="no np nq"><p id="f781" class="lh li ni lj b lk ll kl lm ln lo ko lp nr lr ls lt ns lv lw lx nt lz ma mb mc ij bi translated">这个考试主要是关于速度的，所以不要依赖你在考试中查阅官方文档的能力。文档只是帮助你使用kubernetes api，而不是在考试时学习概念，因为你没有足够的时间在每道题6分钟左右的时间里学习概念。</p></blockquote><p id="b01f" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">如果您是一名开发人员或devops工程师，那么实际操作并完全熟练使用kubernetes命令可以被认为是能够开发和部署应用程序的先决条件。</p><p id="5d34" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">如果你是一名软件或基础架构架构师，该怎么办？获得管理kubernetes部署的实践技能仍然很有价值。但是CKAD仍然是一个面向开发者的测试。你必须非常熟悉实现，但不一定要熟悉底层的抽象。</p><blockquote class="no np nq"><p id="56dc" class="lh li ni lj b lk ll kl lm ln lo ko lp nr lr ls lt ns lv lw lx nt lz ma mb mc ij bi translated">kubernetes平台的真正复杂性来自于这样一个事实，即尽管不需要任何专业知识就可以在几分钟内启动一个集群，但要使相同的集群真正投入生产需要大量的艰苦工作。</p></blockquote><p id="369a" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">kubernetes开发人员与kubernetes解决方案架构师之间的区别在于，通过处理真实用例(如从头开始设计集群，以及解决安全性、高可用性、业务连续性和总拥有成本等问题)获得更深入的理解。为了达到这个目标，你必须超越CKAD测试的主题。CNCF提供两种更高级的认证——CKA的和T2的【CKS的——涵盖了其中的许多主题。</p><p id="697c" class="pw-post-body-paragraph lh li jb lj b lk ll kl lm ln lo ko lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">我将很快分享我使用Azure kubernetes服务设计和实现Kubernetes集群的经验，以及<strong class="lj jl"> kubernetes技能能力矩阵</strong>的后续帖子。</p></div></div>    
</body>
</html>