<html>
<head>
<title>Dynamic Keyword Highlighting in Javascript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Javascript中的动态关键词高亮显示</h1>
<blockquote>原文：<a href="https://itnext.io/dynamic-keyword-highlighting-in-javascript-434437f9afca?source=collection_archive---------0-----------------------#2020-09-28">https://itnext.io/dynamic-keyword-highlighting-in-javascript-434437f9afca?source=collection_archive---------0-----------------------#2020-09-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2fd5" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">一种简单、普通的JavaScript技术，可以在任何您喜欢的web开发框架中使用，使文本内容更加生动</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b1e688dcddb5a3c8acb75c9a2db64382.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G1PJAPgvBmc9G_yIUVrrOQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图片来源:作者</figcaption></figure><p id="b0ea" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在web开发中，经常需要用特殊的样式配置(大字体、粗体、不同的颜色)突出显示文本块中的特定关键字，并链接到不同的页面。示例使用案例包括:</p><ol class=""><li id="ce59" class="lr ls iq kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">链接到<strong class="kx ir">维基百科</strong>定义的特定领域术语</li><li id="b3ee" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">带有社交媒体个人资料链接的人名</li><li id="d476" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">链接到<strong class="kx ir">谷歌地图</strong>坐标的地名</li></ol><p id="0637" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">当然，如果预先知道内容和想要的关键字集，可以通过直接在<em class="mf">中硬编码相应的样式标签，以纯HTML的方式完成任务。html </em>文件。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mg mh l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">硬编码示例-&gt;代码(图片来源:作者)</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mi"><img src="../Images/309e319269918f2bade66f423dd5f9a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uxtKOu2a9g8EyQsSMw9yOg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">硬编码示例-&gt;渲染(图片来源:作者)</figcaption></figure><p id="49ef" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">但是想象一下，无论是文本内容还是要突出显示的关键字列表都是事先不知道的。此外，从开发人员的角度来看，一遍又一遍地复制相同的HTML标签也不太好。那么问题就变成了:</p><blockquote class="mj mk ml"><p id="a1fa" class="kv kw mf kx b ky kz jr la lb lc ju ld mm lf lg lh mn lj lk ll mo ln lo lp lq ij bi translated">在JavaScript中有没有一种简单的方法可以动态地做到这一点？</p></blockquote><p id="e900" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">答案是明确的<strong class="kx ir">是</strong>和相应的肯定回答<strong class="kx ir">如何？</strong>”问题将在下面的段落中讨论，敬请关注！</p></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><h1 id="1fce" class="mw mx iq bd my mz na nb nc nd ne nf ng jw nh jx ni jz nj ka nk kc nl kd nm nn bi translated">你将如何从这篇文章中受益</h1><p id="428f" class="pw-post-body-paragraph kv kw iq kx b ky no jr la lb np ju ld le nq lg lh li nr lk ll lm ns lo lp lq ij bi translated">读完本文后，您将知道何时以及如何为web应用程序中显示的文本块实现动态关键字高亮显示。因为它是一种纯JavaScript技术，你将能够在所有最先进的web开发框架中获益，如<strong class="kx ir"> React、Angular </strong>或<strong class="kx ir"> Vue </strong>。</p><h1 id="1450" class="mw mx iq bd my mz nt nb nc nd nu nf ng jw nv jx ni jz nw ka nk kc nx kd nm nn bi translated">示例项目</h1><p id="3fcc" class="pw-post-body-paragraph kv kw iq kx b ky no jr la lb np ju ld le nq lg lh li nr lk ll lm ns lo lp lq ij bi translated">因为编程最好是通过实践来教授，所以让我们构建一个迷你项目，并在前进的过程中解释关键概念。在写作结束时，我们将构建一个简单的应用程序，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/b6bd41566e101f50933e21aa697ca773.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*MkdO0J6LxOLHaH2b.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">激励的例子(图片来源:作者)</figcaption></figure><p id="a6aa" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这个想法是，一旦你知道如何从一组未知的关键字和未知的内容中添加动态高亮显示到你的web应用程序中，你将能够在任何情况下重用这个技术。</p><p id="84ea" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">您可以和我一起从头开始构建示例应用程序，也可以在<a class="ae nz" href="https://stackblitz.com/edit/javascript-keyword-highlighting?file=index.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> Stackblitz </strong> </a>上立即开始使用它。现在，我们已经适当地激励了自己，让我们看看如何建立这一点。</p></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><h1 id="b038" class="mw mx iq bd my mz na nb nc nd ne nf ng jw nh jx ni jz nj ka nk kc nl kd nm nn bi translated">超文本标记语言</h1><p id="c179" class="pw-post-body-paragraph kv kw iq kx b ky no jr la lb np ju ld le nq lg lh li nr lk ll lm ns lo lp lq ij bi translated">该项目的HTML源代码相当简单。抛开额外的div标签来实现一些像样的页面格式，您应该注意这4个元素:</p><ol class=""><li id="5a77" class="lr ls iq kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated"><strong class="kx ir">关键字输入</strong> (id = "keyword-input ")</li><li id="f2f0" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated"><strong class="kx ir">文本输入</strong> (id = "文本输入")</li><li id="d446" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated"><strong class="kx ir">高亮按钮</strong> (id = "提交-按钮")</li><li id="e779" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated"><strong class="kx ir">结果分区</strong> (id = "result ")</li></ol><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mg mh l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">应用程序的HTML部分(图片来源:作者)</figcaption></figure><p id="3b3f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在<strong class="kx ir">关键字输入</strong>中，我们将提供一组由新行字符分层的关键字。在<strong class="kx ir">文本输入</strong>中，我们将插入一个文本块，最好包含上面的一些关键词。</p><p id="d04b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">一旦提供了输入，点击<strong class="kx ir">高亮按钮</strong>将呈现位于下方的<strong class="kx ir">结果</strong> div中的文本块，所提供的关键词以红色粗体大字体高亮显示，并带有到相应Google搜索查询的超文本链接。</p><p id="3e1e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">建立好HTML框架后，让我们实现所需的高亮显示功能，同时学习一个重要且意义深远的JavaScript编程概念。</p></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><h1 id="399c" class="mw mx iq bd my mz na nb nc nd ne nf ng jw nh jx ni jz nj ka nk kc nl kd nm nn bi translated">Java Script语言</h1><p id="9f91" class="pw-post-body-paragraph kv kw iq kx b ky no jr la lb np ju ld le nq lg lh li nr lk ll lm ns lo lp lq ij bi translated">功能代码部分实际上相对较短。它由3种方法组成:</p><ol class=""><li id="a8ca" class="lr ls iq kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">突出显示()</li><li id="4e28" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">transformContent(内容，关键字)</li><li id="8f81" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">wrapKeywordWithHTML(关键字，url)</li></ol><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mg mh l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">应用程序的JavaScript部分(图片来源:作者)</figcaption></figure><p id="c3ae" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">允许我们将想要的高亮特性放在一起的关键概念是JavaScript可以动态地改变HTML。更准确地说，使用JavaScript，可以引用一个给定的DOM元素，并用包含任意HTML的<strong class="kx ir">字符串</strong>值修改其<strong class="kx ir"> innerHTML </strong>字段。一旦设置了该属性，浏览器将呈现新内容供用户查看，给页面一种快速响应的感觉</p><p id="df0c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">换句话说，您可以使用JavaScript基于参数(例如用户输入)动态构建HTML代码，然后将其传递给您希望更改的元素的<strong class="kx ir"> innerHTML </strong>属性。</p><p id="5023" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这正是<strong class="kx ir"> highlight() </strong>函数正在做的事情。它从相应的输入字段中提取关键字和文本内容，调用神奇的<strong class="kx ir"> transform(content，keywords) </strong>方法，最后，将这个调用的结果转储到<strong class="kx ir"> result </strong> div的<strong class="kx ir"> innerHTML </strong>字段中。</p><p id="6ab5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir"> transform(content，keywords) </strong>函数遍历关键字，并使用<strong class="kx ir"> RegExp </strong>将内容中的每个关键字替换为用定制HTML包装的关键字。这个HTML来自于<strong class="kx ir">wrapkeywordwithtml(关键字，url) </strong>，这里完成了繁重的工作。</p><p id="5c5b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">给定一个单词，<strong class="kx ir">wrapkeywordwithtml(keyword，url) </strong>函数会用2个HTML标签包装它。<strong class="kx ir"> <em class="mf"> &lt; span &gt; </em> </strong>标签用于改变默认样式(例如，使单词变大、加粗和红色)，而<strong class="kx ir"><em class="mf">&lt;&gt;</em></strong>标签允许我们超链接到作为参数传递的<strong class="kx ir"> URL </strong>。</p><p id="8497" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这就是事情的全部。给定文本和关键字列表，我们遍历关键字并用自定义HTML包装它们。然后，我们通过设置我们希望保存新内容的DOM元素的<strong class="kx ir"> innerHTML </strong>属性，将它呈现在页面上。</p></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><h1 id="9cef" class="mw mx iq bd my mz na nb nc nd ne nf ng jw nh jx ni jz nj ka nk kc nl kd nm nn bi translated">奖金(CSS使其看起来更性感)</h1><p id="1931" class="pw-post-body-paragraph kv kw iq kx b ky no jr la lb np ju ld le nq lg lh li nr lk ll lm ns lo lp lq ij bi translated">恭喜你！您已经编写了动态关键字突出显示的普通JavaScript实现。如果你和我一起创建这个页面，这里有一些CSS代码，可以让它看起来像文章开头的预览GIF。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mg mh l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">应用程序的CSS部分(图片来源:作者)</figcaption></figure></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><h1 id="5ab3" class="mw mx iq bd my mz na nb nc nd ne nf ng jw nh jx ni jz nj ka nk kc nl kd nm nn bi translated">结论</h1><p id="7a7c" class="pw-post-body-paragraph kv kw iq kx b ky no jr la lb np ju ld le nq lg lh li nr lk ll lm ns lo lp lq ij bi translated">所以，现在你有了一个可爱的JavaScript小技巧，可以让你的网页看起来更生动。然而，除了将这种技术存储在您的通用JavaScript工具包中之外，我希望您从本文中学到更深刻的东西。</p><p id="0503" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这个教训就是JavaScript按需修改HTML代码的能力非常强大。一旦意识到这一点，你就可以创造无限的用户体验，定义无限的设计模式抽象，以重用当今web开发中无处不在的样板代码。</p><p id="fffa" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">毕竟，这就是像<strong class="kx ir"> Angular </strong>和<strong class="kx ir"> React </strong>这样的全能前端框架的工作方式。本质上，它是利用开发人员设计的模板和用户提供的输入动态构建DOM元素的Javascript。</p><p id="4b7c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">感谢您阅读我的文章。黑客快乐！</p><p id="1600" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">正在寻找一位导师来帮助你在科技世界茁壮成长？<br/>订阅我的<a class="ae nz" href="https://tomas-ye.ck.page/" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir">邮箱列表</strong> </a>！</p><p id="a1ae" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Tomas Ye <br/>体操运动员、数学家、软件工程师<br/>随时与我联系<a class="ae nz" href="https://www.linkedin.com/in/tomas-ye/" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> LinkedIn </strong> </a>:</p><h1 id="9f75" class="mw mx iq bd my mz nt nb nc nd nu nf ng jw nv jx ni jz nw ka nk kc nx kd nm nn bi translated">资源</h1><p id="760c" class="pw-post-body-paragraph kv kw iq kx b ky no jr la lb np ju ld le nq lg lh li nr lk ll lm ns lo lp lq ij bi translated"><a class="ae nz" href="https://medium.com/r?url=https%3A%2F%2Fgithub.com%2FTomasDavidYe%2Fkeyword-highlighting" rel="noopener">Github上的源代码</a></p><p id="edbf" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><a class="ae nz" href="https://stackblitz.com/edit/javascript-keyword-highlighting?file=index.html" rel="noopener ugc nofollow" target="_blank">在Stackblitz上运行代码</a></p></div></div>    
</body>
</html>