<html>
<head>
<title>Running Redux DevTools Extension for WebWorker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">正在为WebWorker运行Redux DevTools扩展</h1>
<blockquote>原文：<a href="https://itnext.io/ruining-redux-devtools-extension-for-webworker-1eeca68d7900?source=collection_archive---------3-----------------------#2018-11-26">https://itnext.io/ruining-redux-devtools-extension-for-webworker-1eeca68d7900?source=collection_archive---------3-----------------------#2018-11-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="97f7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最近，我不得不将一些应用程序逻辑转移到webworker，为了简化应用程序状态管理，我决定使用redux和<a class="ae kl" href="https://redux-observable.js.org/" rel="noopener ugc nofollow" target="_blank"> redux-observable </a>。除了如何运行Redux DevTools之外，迁移几乎是顺利和容易的。经过一点挖掘，我发现了React本地开发人员如何使用Redux DevTools，并决定遵循相同的路径。成功了。让我在这里分享我的故事，因为我看到几个声称它应该工作，但从来没有遇到任何描述所有步骤的博客。</p><p id="e4ce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="km">小免责声明</em>:我不会介绍如何创建一个webworker并在那里运行简单的redux store，因为有很多博客都在介绍这个。我还希望你安装并知道如何使用Redux DevTools。</p><p id="4237" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你需要使用<a class="ae kl" href="https://github.com/zalmoxisus/remote-redux-devtools" rel="noopener ugc nofollow" target="_blank"> remote-redux-devtools </a>和<a class="ae kl" href="https://github.com/zalmoxisus/remotedev-server" rel="noopener ugc nofollow" target="_blank"> remotedev-server </a>项目。Remote Redux DevTools将通过websocket向RemoteDev服务器发送Redux命令，remote dev服务器将这些命令桥接到Redux DevTools。</p><p id="a96f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后到了这个步骤:</p><ol class=""><li id="6607" class="kn ko iq jp b jq jr ju jv jy kp kc kq kg kr kk ks kt ku kv bi translated">将<a class="ae kl" href="https://github.com/zalmoxisus/remote-redux-devtools" rel="noopener ugc nofollow" target="_blank"> remote-redux-devtools </a>包导入到您的项目中，并启用它。在我的项目中，我说过我使用了redux-observable，因此根据文档，我必须使用DevTools compose helper。我正在配置只在8000端口上的开发环境中运行远程Redux工具。</li></ol><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="7d1e" class="lf lg iq lb b gy lh li l lj lk">import { <em class="km">applyMiddleware</em>, createStore } from 'redux';<br/>import { <em class="km">createEpicMiddleware </em>} from 'redux-observable';<br/>import { composeWithDevTools } from 'remote-redux-devtools';</span><span id="a532" class="lf lg iq lb b gy ll li l lj lk">const epicMiddleware = <em class="km">createEpicMiddleware</em>();<br/>const composeEnhancers = <strong class="lb ir">composeWithDevTools</strong>({ realtime: process.env.NODE_ENV === 'development', port: 8000 });<br/>const store = createStore(<em class="km">reducer</em>,          composeEnhancers(<em class="km">applyMiddleware</em>(epicMiddleware)));</span><span id="667e" class="lf lg iq lb b gy ll li l lj lk">epicMiddleware.run(rootEpic);</span></pre><p id="79b7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2.将<a class="ae kl" href="https://github.com/zalmoxisus/remotedev-server" rel="noopener ugc nofollow" target="_blank"> remotedev-server </a>包作为开发依赖项导入，并创建将启动该进程的npm任务:</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="43b1" class="lf lg iq lb b gy lh li l lj lk"><strong class="lb ir">"remotedev"</strong>: <strong class="lb ir">"remotedev --hostname=localhost --port=8000 --wsEngine=ws"</strong></span></pre><p id="5aed" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">就是这样。现在您准备好使用Redux DevTools来观察您的Redux存储在webworker上的运行情况了吗？</p><p id="8cef" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们看看它是如何工作的:</p><ol class=""><li id="a0b6" class="kn ko iq jp b jq jr ju jv jy kp kc kq kg kr kk ks kt ku kv bi translated">用webworker启动应用程序</li><li id="8b56" class="kn ko iq jp b jq lm ju ln jy lo kc lp kg lq kk ks kt ku kv bi translated">运行npm remotedev任务</li></ol><figure class="kw kx ky kz gt ls gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/3ffa9a95ce6efbf0cdac698583747d6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*hv8A3XYekHZtoMZk64877A.png"/></div></figure><p id="8c71" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.打开Redux DevTools。选择Redux store实例。我们得到了redux webworker的观点。</p><figure class="kw kx ky kz gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi lv"><img src="../Images/8be35a60de6290dcf9a40e323c57bcac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V9KiN5qoqtAzLLWnmxZrUQ.png"/></div></div></figure><p id="704c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您还可以检查Chrome Network/WS (websocket)选项卡，查看redux store和remote-server之间的数据流:</p><figure class="kw kx ky kz gt ls gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/67f4a23e9cbe747329107498fadf9623.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/1*TcecGgVo9DIUbXBCyg95GA.png"/></div></figure><p id="8e9f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">顺便说一句，Angular开发者你听说过<a class="ae kl" href="https://github.com/redux-observable/redux-observable" rel="noopener ugc nofollow" target="_blank"> redux-observable </a>项目吗？如果你知道NGRX和爱情效果，我相信你会喜欢redux-observable。当您想在角度环境之外使用redux获得同样的灵活性时，这是一个很好的选择。也许我会在另一篇博文中写下我对这个库的体验。</p></div></div>    
</body>
</html>