<html>
<head>
<title>Deploying an ASP.NET Core Application to Google Cloud Platform</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将ASP.NET核心应用部署到谷歌云平台</h1>
<blockquote>原文：<a href="https://itnext.io/deploying-an-asp-net-core-application-to-google-cloud-platform-eff455ad4161?source=collection_archive---------3-----------------------#2018-06-17">https://itnext.io/deploying-an-asp-net-core-application-to-google-cloud-platform-eff455ad4161?source=collection_archive---------3-----------------------#2018-06-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="e5f8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是关于从谷歌的云开始向主要云提供商部署一个非常简单的ASP.NET核心应用程序的系列文章的第一篇。这个系列的灵感来自于我的一个同事提出的一个关于。NET之间的云提供商。</p><p id="4d6c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">系列其他帖子:<br/> <a class="ae kl" href="https://elanderson.net/2018/06/deploying-an-asp-net-core-application-to-google-cloud-platform/" rel="noopener ugc nofollow" target="_blank">谷歌云平台</a>(本帖)<br/> <a class="ae kl" href="https://elanderson.net/2018/06/deploying-an-asp-net-core-application-to-amazon-web-services/" rel="noopener ugc nofollow" target="_blank">亚马逊网络服务</a> <br/> <a class="ae kl" href="https://elanderson.net/2018/07/deploying-an-asp-net-core-application-to-microsoft-azure/" rel="noopener ugc nofollow" target="_blank">微软Azure </a></p><h2 id="d0f4" class="km kn iq bd ko kp kq dn kr ks kt dp ku jy kv kw kx kc ky kz la kg lb lc ld le bi translated">示例应用程序</h2><p id="3e1f" class="pw-post-body-paragraph jn jo iq jp b jq lf js jt ju lg jw jx jy lh ka kb kc li ke kf kg lj ki kj kk ij bi translated">我们将要部署的示例应用程序是使用。NET CLI。以下命令是我用来创建应用程序、创建解决方案以及将项目添加到解决方案中的命令。我在CloudSample目录中运行了所有这些命令。</p><pre class="lk ll lm ln gt lo lp lq lr aw ls bi"><span id="8642" class="km kn iq lp b gy lt lu l lv lw">dotnet new razor<br/>dotnet new sln<br/>dotnet sln add CloudSample.csproj</span></pre><h2 id="2b9e" class="km kn iq bd ko kp kq dn kr ks kt dp ku jy kv kw kx kc ky kz la kg lb lc ld le bi translated">谷歌云平台</h2><p id="71a9" class="pw-post-body-paragraph jn jo iq jp b jq lf js jt ju lg jw jx jy lh ka kb kc li ke kf kg lj ki kj kk ij bi translated">这篇文章的其余部分将基于来自谷歌的信息，可以在这里找到<a class="ae kl" href="https://cloud.google.com/appengine/docs/flexible/dotnet/quickstart" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="b058" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Google Cloud SDK安装</p><p id="cd4f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第一步是下载并安装Google Cloud SDK，可以在<a class="ae kl" href="https://cloud.google.com/sdk/docs/" rel="noopener ugc nofollow" target="_blank">这里</a>找到。我正在为Windows完成这些步骤，但是前面的链接也有针对Linux和Mac的说明。</p><p id="e446" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下载并运行安装程序后，请耐心等待，它需要一段时间才能运行。完成后，您应该会看到以下屏幕。</p><figure class="lk ll lm ln gt ly gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/a4921f1021c4dd21034d932b127cc578.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/0*frCV2TJTbZmMXh6x.png"/></div></figure><p id="b1ad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">确保底部的两个框处于选中状态，因为gcloud init必须完成才能正常工作。单击Finish按钮，将会打开一个控制台，引导您完成初始化过程。</p><p id="5a25" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该过程的第一步将打开一个网络浏览器，并要求您登录到您的谷歌帐户。登录后，您将被要求使用一个云项目。它应该看起来像下面这样。</p><pre class="lk ll lm ln gt lo lp lq lr aw ls bi"><span id="8d18" class="km kn iq lp b gy lt lu l lv lw">You are logged in as: [your account].<br/><br/>Pick cloud project to use:<br/> [1] api-project-276206909805<br/> [2] blogbackup-141901<br/> [3] oval-botany-94217<br/> [4] Create a new project<br/>Please enter numeric choice or text value (must exactly match list<br/>item):</span></pre><p id="4ae8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们希望选择创建一个新项目，在我的例子中是选项4。当提示输入项目ID时，我只是按了enter键，它让我退出了这个过程，所以我不认为在这一点上实际上需要一个项目，所以这有点令人困惑。</p><p id="89f2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">用于Visual Studio安装的Google云工具</p><p id="2fab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Google提供了一个Visual Studio扩展，使得在Visual Studio中与他们的平台交互更加简单。要安装，请打开工具&gt;扩展和更新菜单。在左边选择在线，然后搜索谷歌。接下来，选择Google Cloud Tools for Visual Studio。</p><figure class="lk ll lm ln gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mb"><img src="../Images/f5d3d1facf0007818e8ccdfb3d60f829.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UnPhM759bteui3Vz.png"/></div></div></figure><p id="9aad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">单击下载，关闭Visual Studio以触发安装，然后重新启动Visual Studio。既然已经安装了扩展，我们需要将它连接到一个帐户。使用工具&gt; Google Cloud工具&gt;管理帐户菜单启动管理帐户对话框。接下来单击添加帐户。</p><figure class="lk ll lm ln gt ly gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/a3536d5364d4f876525d320114801735.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/0*h_FDeoaw5056ALJZ.png"/></div></figure><p id="904f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将启动一个web浏览器，您需要在其中完成帐户添加。帐户认证完成后，Visual Studio应该会显示您选择的帐户登录的Google Cloud Explorer窗口。</p><p id="ce34" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">创建应用程序引擎项目</p><p id="dc7c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">打开<a class="ae kl" href="https://console.cloud.google.com/projectselector/appengine/create" rel="noopener ugc nofollow" target="_blank">应用引擎</a>，点击创建。</p><figure class="lk ll lm ln gt ly gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/86391e64e41b1ca89a13eb7fd65d73ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:856/format:webp/0*VmMP4DsYawAsZttF.png"/></div></figure><p id="3f60" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在下一页，您需要为项目命名，然后单击Create。</p><figure class="lk ll lm ln gt ly gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/40b23a7f2c5053f54451938abee0d0d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:926/format:webp/0*4hHt5CCLS46rNy3y.png"/></div></figure><p id="f151" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在下一页选择。NET作为你的语言。</p><figure class="lk ll lm ln gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mj"><img src="../Images/3ded6741536d14370c5cc72efcb49b91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*T_M4PYh5JJMWQLcq.png"/></div></div></figure><p id="8f69" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">并选择希望应用程序驻留的位置，然后单击next。</p><figure class="lk ll lm ln gt ly gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/f888097a3f4f446f9e6cdf9723946ba2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1068/format:webp/0*iNW6WpW5STKVGCO8.png"/></div></figure><p id="365a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你还没有注册，下一步是用价值300美元的信用为你注册12个月的试用期。单击注册免费试用按钮继续。</p><figure class="lk ll lm ln gt ly gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/a27da69833fb65f53653c926988fee12.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/0*WaLklPtKuJHc_xTO.png"/></div></figure><p id="8880" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在下一个屏幕上，对于试用，您必须选择您的国家以及同意条款。</p><figure class="lk ll lm ln gt ly gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/a38a9664bb774011e26225376e8795d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/0*okqXCEm8Saeb43l5.png"/></div></figure><p id="c0fd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下一个屏幕是您帐户的摘要。查看信息并点击<strong class="jp ir">开始我的免费试用</strong>按钮继续。</p><p id="bfdc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从Visual Studio部署</p><p id="16ce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在Visual Studio的Google Cloud Explorer窗口中，选择您刚刚在下拉列表中创建的项目。</p><figure class="lk ll lm ln gt ly gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/c3d81a0ddb3ffd1674affeec6d215a80.png" data-original-src="https://miro.medium.com/v2/resize:fit:654/format:webp/0*TzWmafWEB2Hb9wNF.png"/></div></figure><p id="5c20" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您没有看到您的新项目，请尝试单击窗口左上角的刷新按钮。现在您已经选择了正确的项目，切换到解决方案浏览器窗口，右键单击您的项目并选择Publish to Google Cloud。</p><figure class="lk ll lm ln gt ly gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/841b457ba11579487fbd917514b627b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/format:webp/0*_dbSp09ActKGJ0ZQ.png"/></div></figure><p id="20d1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在下一个屏幕上，选择App Engine Flex。</p><figure class="lk ll lm ln gt ly gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/3bb3a4717ea01006ff6f3e588f0fa69f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/0*HZQUnn1OdDNg7tVg.png"/></div></figure><p id="51ba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后在下一个屏幕上点击发布。</p><figure class="lk ll lm ln gt ly gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/f8ae629bcd797fc1dfb61129844b222d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/0*tchNysffhq8pXqr6.png"/></div></figure><p id="6db1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我的第一次部署花了很长时间，所以如果你要等一会儿(5到10分钟)，也不用担心。我尝试了第二次部署，花了同样长的时间，所以我想这就是需要的时间。部署完成后，它应该会在web浏览器中打开您的站点。</p><h2 id="7010" class="km kn iq bd ko kp kq dn kr ks kt dp ku jy kv kw kx kc ky kz la kg lb lc ld le bi translated">包扎</h2><p id="f0ac" class="pw-post-body-paragraph jn jo iq jp b jq lf js jt ju lg jw jx jy lh ka kb kc li ke kf kg lj ki kj kk ij bi translated">在最初的安装和设置之后，带有ASP.NET核心的谷歌云非常简单。部署时间似乎太长了，但这是我唯一的抱怨。</p><p id="4b61" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">完成后，不要忘记关闭和/或删除您的测试项目，以确保它不会耗尽您的学分。</p></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><p id="81b4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mw">原载于</em><a class="ae kl" href="https://elanderson.net/2018/06/deploying-an-asp-net-core-application-to-google-cloud-platform/" rel="noopener ugc nofollow" target="_blank"><em class="mw"/></a><em class="mw">。</em></p></div></div>    
</body>
</html>