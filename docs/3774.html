<html>
<head>
<title>Laravel and Vue: Creating a Portfolio website with a CRUD admin panel — Chapter 19</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Laravel和Vue:用CRUD管理面板创建作品集网站——第19章</h1>
<blockquote>原文：<a href="https://itnext.io/laravel-and-vue-creating-a-portfolio-website-with-a-crud-admin-panel-chapter-19-de3a8d9e69ce?source=collection_archive---------1-----------------------#2020-02-22">https://itnext.io/laravel-and-vue-creating-a-portfolio-website-with-a-crud-admin-panel-chapter-19-de3a8d9e69ce?source=collection_archive---------1-----------------------#2020-02-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4a30" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">联系表单的客户端验证和脚注编辑器</h2></div><p id="4ac4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于客户端验证，我们可以为每个输入添加HTML5属性<strong class="kk iu"> required </strong></p><p id="b408" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输入的名称变为:</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="a8d8" class="ln lo it lj b gy lp lq l lr ls">&lt;input type="text" placeholder="name" id="name" v-model="form.name" <strong class="lj iu">required</strong>/&gt;</span></pre><p id="6f4b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">电子邮件输入变成:</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="28c5" class="ln lo it lj b gy lp lq l lr ls">&lt;input type="text" placeholder="email" id="email" v-model="form.email" <strong class="lj iu">required</strong>/&gt;</span></pre><p id="8485" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">消息输入变为:</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="fcd5" class="ln lo it lj b gy lp lq l lr ls">&lt;input type="text" placeholder="message" id="message" v-model="form.message" <strong class="lj iu">required</strong>/&gt;</span></pre><p id="1cc8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们提交表格。</p><figure class="le lf lg lh gt lt"><div class="bz fp l di"><div class="lu lv l"/></div></figure><h2 id="5e61" class="ln lo it bd lw lx ly dn lz ma mb dp mc kr md me mf kv mg mh mi kz mj mk ml mm bi translated">问题</h2><p id="9f80" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">这里我们有一个问题，添加所需的属性似乎没有效果。表单以同样的方式运行，就好像缺少必需的属性一样。</p><figure class="le lf lg lh gt lt gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/d5adcd6c017c9cb5e41b8ecffe4e7472.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*xE6c4Q25J8SOPs3j6-09VA.png"/></div></figure><h2 id="dc26" class="ln lo it bd lw lx ly dn lz ma mb dp mc kr md me mf kv mg mh mi kz mj mk ml mm bi translated">为什么会出现这个问题？</h2><p id="7a71" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">这个问题的原因是我们在提交输入中使用了@click.prevent。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="b38b" class="ln lo it lj b gy lp lq l lr ls">&lt;input type="submit" @click.prevent="sendmail"/&gt;</span></pre><h2 id="884f" class="ln lo it bd lw lx ly dn lz ma mb dp mc kr md me mf kv mg mh mi kz mj mk ml mm bi translated">我们能带上。防止远离？</h2><p id="3b1a" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">如果我们。阻止掉，这将是结果:</p><figure class="le lf lg lh gt lt gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/f3363a6224b38826ccedb4c6536231c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*fTvQzoceXebyjme9ucGkIw.png"/></div></figure><p id="8837" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">HTML5需要属性验证和Laravel验证。这也是一个问题，因为它忽略了客户端验证的要点。</p><p id="89b0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">客户端验证的目的是增加安全性。在表单被发送到服务器进行验证之前，可以在客户端对其进行检查。这使得服务器不太可能遇到无效信息。</p><h2 id="c4ed" class="ln lo it bd lw lx ly dn lz ma mb dp mc kr md me mf kv mg mh mi kz mj mk ml mm bi translated">解决办法</h2><p id="1de2" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">解决方案是有一种将验证分步骤进行的方法。首先进行客户端验证，然后根据表单是否成功通过客户端验证，表单将被发送到服务器。</p><p id="b1ad" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们将使用一个名为<code class="fe mv mw mx lj b"><strong class="kk iu">reportValidity()</strong></code>的内置JavaScript方法</p><p id="7a6a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们的提交输入变为:</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="42cd" class="ln lo it lj b gy lp lq l lr ls">&lt;input type="submit" @click.prevent="clientSideValidation"/&gt;</span></pre><p id="5bc7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">该方法运行reportValidity()，如果成功，则运行我们的sendmail()方法:</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="cfd2" class="ln lo it lj b gy lp lq l lr ls">clientSideValidation() {<br/>    let validity = <strong class="lj iu"><em class="my">document</em></strong>.querySelector(`form`).reportValidity();<br/>    if (validity) {<br/>        this.sendmail();<br/>    }<br/>},</span></pre></div><div class="ab cl mz na hx nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="im in io ip iq"><h2 id="b3d5" class="ln lo it bd lw lx ly dn lz ma mb dp mc kr md me mf kv mg mh mi kz mj mk ml mm bi translated">多线消息</h2><p id="d1bb" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">现在，我们只能发送一行消息。要发送多行消息，需要一个textarea。</p><p id="a74e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们将消息框改为<code class="fe mv mw mx lj b"><strong class="kk iu">&lt;textarea&gt;&lt;/textarea&gt;</strong></code>而不是输入。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="6b36" class="ln lo it lj b gy lp lq l lr ls">&lt;textarea type="text" placeholder="message" id="message" v-model="form.message" required/&gt;</span></pre><figure class="le lf lg lh gt lt gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/25cd75cd83b8d16f54f7b4e87bd198ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*Rr0DZKMc-vXd3fq9PaWMPg.png"/></div></figure><p id="2648" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以取消文本区域的调整大小功能，并设置一个高度，如下所示:</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="1ce3" class="ln lo it lj b gy lp lq l lr ls">textarea {<br/>    resize: none;<br/>    height:200px;<br/>}</span></pre><figure class="le lf lg lh gt lt gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/dd8e3f5e4fcefd4b1cd921acdc77506a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*rOddCCdQuixJu0wa81AHsA.png"/></div></figure><p id="92ae" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在你可以输入一条多行消息，一封多行邮件将被发送到收件箱。</p><p id="c798" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们来看看页脚编辑器和页脚组件。</p></div><div class="ab cl mz na hx nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="im in io ip iq"><figure class="le lf lg lh gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="nh ni di nj bf nk"><div class="gh gi ng"><img src="../Images/1e49ce3a5eac5203faf163616d7b406c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FSWyqvjnqSv-mHW2ARxUsA.png"/></div></div><figcaption class="nl nm gj gh gi nn no bd b be z dk translated">【https://unsplash.com/@firmbee T4】</figcaption></figure><h1 id="630c" class="nq lo it bd lw nr ns nt lz nu nv nw mc jz nx ka mf kc ny kd mi kf nz kg ml oa bi translated">页脚编辑器</h1><p id="b339" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">在页脚，我们将有社交媒体链接。</p><p id="464d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们应该在个人资料表中添加社交媒体链接。</p><p id="a8bc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以我们需要一次迁移</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="da88" class="ln lo it lj b gy lp lq l lr ls">php artisan make:migration CreateSocialMediaLinksTable</span></pre><p id="a65b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在迁移中，我们将有社交媒体网站的专栏。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="5ae1" class="ln lo it lj b gy lp lq l lr ls">public function up()<br/>{<br/>    Schema::create('social_links', function (Blueprint $table) {<br/>        $table-&gt;bigIncrements('id');<br/>        $table-&gt;string('facebook')-&gt;nullable();<br/>        $table-&gt;string('twitter')-&gt;nullable();<br/>        $table-&gt;string('medium')-&gt;nullable();<br/>        $table-&gt;timestamps();<br/>    });<br/>}</span></pre><p id="ee5c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们迁移这个。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="55b3" class="ln lo it lj b gy lp lq l lr ls">php artisan migrate</span></pre><p id="bb90" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在有桌子了，我们需要一张表格。</p><p id="26b6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们需要创建一个vue组件—<strong class="kk iu">social medialinks editor . vue</strong></p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="b3c5" class="ln lo it lj b gy lp lq l lr ls">&lt;template&gt;<br/>    &lt;section id="socialMediaLinksEditor"&gt;<br/>        <br/>    &lt;/section&gt;<br/>&lt;/template&gt;</span></pre><p id="0fc6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在该部分中，我们将有一个标题和一个表单。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="43b7" class="ln lo it lj b gy lp lq l lr ls">&lt;section id="socialMediaLinksEditor"&gt;<br/>    &lt;h1&gt;Add your social media links&lt;/h1&gt;<br/>    &lt;form&gt;<br/>    &lt;/form&gt;<br/>&lt;/section&gt;</span></pre><p id="9f18" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在表单中，我们需要<strong class="kk iu">标签</strong>、<strong class="kk iu">文本输入</strong>和<strong class="kk iu">提交输入</strong>。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="23ea" class="ln lo it lj b gy lp lq l lr ls">&lt;form&gt;<br/>    &lt;label for="facebook"&gt;Facebook&lt;/label&gt;<br/>    &lt;input type="text" id="facebook"/&gt;<br/>    &lt;label for="twitter"&gt;Twitter&lt;/label&gt;<br/>    &lt;input type="text" id="twitter"/&gt;<br/>    &lt;label for="medium"&gt;Medium&lt;/label&gt;<br/>    &lt;input type="text" id="medium"/&gt;<br/>    &lt;input type="submit" value="submit"&gt;<br/>&lt;/form&gt;</span></pre><figure class="le lf lg lh gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="nh ni di nj bf nk"><div class="gh gi ob"><img src="../Images/d1d896f132245ff8265558116da5d1e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P8rxgMXekiVbgE5PkMiuHQ.png"/></div></div></figure><p id="37ef" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们来设计组件的样式。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="395c" class="ln lo it lj b gy lp lq l lr ls">#socialMediaLinksEditor {<br/>    background: aquamarine;<br/>    height: 100vh;<br/>    display: flex;<br/>    justify-content: center;<br/>    align-items: center;<br/>    flex-direction: column;<br/>}</span></pre><figure class="le lf lg lh gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="nh ni di nj bf nk"><div class="gh gi ob"><img src="../Images/d2f3282071ba17ddf46ae548ac778449.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5LAa1u9LAZA-UK6M9TvaJQ.png"/></div></div></figure><p id="bc60" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们来设计表单的样式。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="6f02" class="ln lo it lj b gy lp lq l lr ls">form {<br/>    display:flex;<br/>    flex-direction:column;<br/>    border:solid;<br/>    background: bisque;<br/>}</span></pre><figure class="le lf lg lh gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="nh ni di nj bf nk"><div class="gh gi ob"><img src="../Images/6250b663578f9730f74c2ca91546f8c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n_5jAIonvB2ONEc1FLMp9w.png"/></div></div></figure><p id="e2b8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输入似乎太小，让我们给他们更多的高度。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="fa4d" class="ln lo it lj b gy lp lq l lr ls">input {<br/>    height: 30px;<br/>    font-size: 1em;<br/>}</span></pre><figure class="le lf lg lh gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="nh ni di nj bf nk"><div class="gh gi ob"><img src="../Images/5aac9726fd99e8860b66a5b3b24e55db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gjOyYzX0ZN-vrk224yig9Q.png"/></div></div></figure><p id="1a1d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以将标签和文本输入一起分类到div中。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="0ae6" class="ln lo it lj b gy lp lq l lr ls">&lt;form&gt;<br/>    &lt;div class="form-group"&gt;<br/>        &lt;label for="facebook"&gt;Facebook&lt;/label&gt;<br/>        &lt;input type="text" id="facebook"/&gt;<br/>    &lt;/div&gt;<br/>    &lt;div class="form-group"&gt;<br/>        &lt;label for="twitter"&gt;Twitter&lt;/label&gt;<br/>        &lt;input type="text" id="twitter"/&gt;<br/>    &lt;/div&gt;<br/>    &lt;div class="form-group"&gt;<br/>        &lt;label for="medium"&gt;Medium&lt;/label&gt;<br/>        &lt;input type="text" id="medium"/&gt;<br/>    &lt;/div&gt;<br/>    &lt;input type="submit" value="submit"&gt;<br/>&lt;/form&gt;</span></pre><figure class="le lf lg lh gt lt gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/5b9892505364f73bae0097a236bdef7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:524/format:webp/1*YKgG9n0uwsWJhq5JMwspVA.png"/></div></figure><p id="48a7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">设置表单组的样式。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="7eee" class="ln lo it lj b gy lp lq l lr ls">.form-group {<br/>    display: grid;<br/>    grid-template-columns: 1fr 1fr;<br/>    padding: 10px;<br/>    border-bottom: dotted;<br/>}</span></pre><figure class="le lf lg lh gt lt gh gi paragraph-image"><div class="gh gi od"><img src="../Images/bfed989f26281b402d02b4e846aa4cd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/1*n5Jvs9VA0jEc2-PI0wwIQw.png"/></div></figure><p id="3579" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用<code class="fe mv mw mx lj b"><strong class="kk iu">:last-of-type</strong></code>去掉最后一个表单组的虚线边框。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="f31e" class="ln lo it lj b gy lp lq l lr ls">.form-group<strong class="lj iu">:last-of-type</strong> {<br/>    border-bottom: none;<br/>}</span></pre><figure class="le lf lg lh gt lt gh gi paragraph-image"><div class="gh gi od"><img src="../Images/9cc111c652797983f3a5f0371b9dfefa.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/1*h0JRWzTB45y30y6XP3-Aqg.png"/></div></figure><p id="e4d5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">将标签居中</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="ac25" class="ln lo it lj b gy lp lq l lr ls">label {<br/>    display: flex;<br/>    justify-content: center;<br/>    align-items: center;<br/>}</span></pre><figure class="le lf lg lh gt lt gh gi paragraph-image"><div class="gh gi od"><img src="../Images/12d1cefa7be52d931817086e2ac53a3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/1*JdOcfILRS2VovoE5A-Py3w.png"/></div></figure><p id="3659" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们已经设计了表单，现在我们需要<strong class="kk iu">一个提交方法</strong>和<strong class="kk iu"> v-models </strong>。</p><h1 id="512e" class="nq lo it bd lw nr ns nt lz nu nv nw mc jz nx ka mf kc ny kd mi kf nz kg ml oa bi translated">提交表单</h1><h2 id="4db5" class="ln lo it bd lw lx ly dn lz ma mb dp mc kr md me mf kv mg mh mi kz mj mk ml mm bi translated"><template> —添加垂直型号</template></h2><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="f53e" class="ln lo it lj b gy lp lq l lr ls">&lt;form&gt;<br/>    &lt;div class="form-group"&gt;<br/>        &lt;label for="facebook"&gt;Facebook&lt;/label&gt;<br/>        &lt;input type="text" id="facebook" <strong class="lj iu">v-model="social.facebook"</strong>/&gt;<br/>    &lt;/div&gt;<br/>    &lt;div class="form-group"&gt;<br/>        &lt;label for="twitter"&gt;Twitter&lt;/label&gt;<br/>        &lt;input type="text" id="twitter" <strong class="lj iu">v-model="social.twitter"</strong>/&gt;<br/>    &lt;/div&gt;<br/>    &lt;div class="form-group"&gt;<br/>        &lt;label for="medium"&gt;Medium&lt;/label&gt;<br/>        &lt;input type="text" id="medium" <strong class="lj iu">v-model="social.medium"</strong>/&gt;<br/>    &lt;/div&gt;<br/>    &lt;input type="submit" value="submit" <strong class="lj iu">@click="onSubmit"</strong>&gt;<br/>&lt;/form&gt;</span></pre><h2 id="50fe" class="ln lo it bd lw lx ly dn lz ma mb dp mc kr md me mf kv mg mh mi kz mj mk ml mm bi translated"><script>在数据中反映v模型():&lt;/root&gt;</script></h2><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="247d" class="ln lo it lj b gy lp lq l lr ls">data() {<br/>    return {<br/>        social: {<br/>            facebook: '',<br/>            medium: '',<br/>            twitter: ''<br/>        },<br/>    }<br/>},</span></pre><h2 id="2783" class="ln lo it bd lw lx ly dn lz ma mb dp mc kr md me mf kv mg mh mi kz mj mk ml mm bi translated">追加表单数据并将其发送到发送路径的方法:</h2><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="56e3" class="ln lo it lj b gy lp lq l lr ls">onSubmit() {<br/>    let fd = new <strong class="lj iu"><em class="my">FormData</em></strong>();<br/>    fd.append('facebook', this.social.facebook);<br/>    fd.append('twitter', this.social.twitter);<br/>    fd.append('medium', this.social.medium);<br/>    this.postSocial(fd);<br/>},</span><span id="a4f2" class="ln lo it lj b gy oe lq l lr ls">postSocial(fd) {<br/>    axios.post('api/social', fd);<br/>},</span></pre><p id="1507" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">社交链接post路由应该链接到控制器中的一个函数，该函数将发送的表单数据存储在数据库中:</p><h2 id="a000" class="ln lo it bd lw lx ly dn lz ma mb dp mc kr md me mf kv mg mh mi kz mj mk ml mm bi translated">API路线</h2><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="0f20" class="ln lo it lj b gy lp lq l lr ls">Route::<em class="my">post</em>('/social', 'SocialController@store');</span></pre><h2 id="20e5" class="ln lo it bd lw lx ly dn lz ma mb dp mc kr md me mf kv mg mh mi kz mj mk ml mm bi translated">创建一个社交链接的模型。</h2><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="9e38" class="ln lo it lj b gy lp lq l lr ls">php artisan make:model Social</span></pre><h2 id="dc10" class="ln lo it bd lw lx ly dn lz ma mb dp mc kr md me mf kv mg mh mi kz mj mk ml mm bi translated">为社交链接创建一个控制器。</h2><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="0d05" class="ln lo it lj b gy lp lq l lr ls">php artisan make:controller SocialController</span></pre><p id="070b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在Laravel已经生成了一个名为<strong class="kk iu">SocialController.php</strong>的文件。</p><p id="6bfb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在控制器中，我们需要使用社会模型和存储功能。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="b21f" class="ln lo it lj b gy lp lq l lr ls">use App\Social;</span></pre><p id="75d8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">store()函数类似于ProfileController.php的store函数。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="24e3" class="ln lo it lj b gy lp lq l lr ls">public function store()<br/>{<br/>    $social = Social::<em class="my">all</em>();<br/>    if ($social-&gt;isEmpty()) {<br/>        $this-&gt;insertData($social = new Social());<br/>    } else {<br/>        $this-&gt;insertData($social = Social::<em class="my">findOrFail</em>(1));<br/>    }<br/>}<br/><br/>private function insertData(Social $social) {<br/>    if (request()-&gt;filled('facebook')) {<br/>        $social-&gt;facebook = request()-&gt;facebook;<br/>    }<br/>    if (request()-&gt;filled('twitter')) {<br/>        $social-&gt;twitter = request()-&gt;twitter;<br/>    }<br/>    if (request()-&gt;filled('medium')) {<br/>        $social-&gt;medium = request()-&gt;medium;<br/>    }<br/>    $social-&gt;save();<br/>    return 'data inserted';<br/>}</span></pre></div><div class="ab cl mz na hx nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="im in io ip iq"><h2 id="d06a" class="ln lo it bd lw lx ly dn lz ma mb dp mc kr md me mf kv mg mh mi kz mj mk ml mm bi translated">提交后获取数据</h2><p id="041f" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">回到vue组件，我们应该添加表单提交和服务器响应之后发生的事情。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="6212" class="ln lo it lj b gy lp lq l lr ls">postSocial(fd) {<br/>    axios.post('api/social', fd)<br/>        .then(this.getSocial())<br/>},</span><span id="feef" class="ln lo it lj b gy oe lq l lr ls">getSocial() {<br/>    axios.get('/api/social')<br/>        .then(response =&gt; this.social = response.data)<br/>        .catch(error =&gt; {<br/>            <strong class="lj iu"><em class="my">console</em></strong>.log(error);<br/>        });<br/>},</span></pre><p id="8128" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">获取社交数据的api途径:</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="a27b" class="ln lo it lj b gy lp lq l lr ls">Route::<em class="my">get</em>('/social', 'SocialController@index');</span></pre><p id="ffd1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在控制器函数中，我们将使用<code class="fe mv mw mx lj b">::first()</code>和inside ::first()，我们将有一个数组来获取我们想要的数据库列。</p><p id="1fbd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们获得facebook、medium和twitter专栏。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="eb49" class="ln lo it lj b gy lp lq l lr ls">public function index() {<br/>    return Social::<em class="my">first</em>(['facebook', 'medium', 'twitter']);<br/>}</span></pre><p id="8bce" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，如果数据库字段有数据，文本输入将显示该数据。</p><figure class="le lf lg lh gt lt gh gi paragraph-image"><div class="gh gi od"><img src="../Images/caa257df3636991544eb6e6ed5f6d733.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/1*gsctWyty5yjxnDPAjoWFEw.png"/></div></figure></div><div class="ab cl mz na hx nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="im in io ip iq"><h2 id="f625" class="ln lo it bd lw lx ly dn lz ma mb dp mc kr md me mf kv mg mh mi kz mj mk ml mm bi translated">获取页面加载数据</h2><p id="f17b" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">这里我们简单地有一个<code class="fe mv mw mx lj b">mounted() </code>块并添加了<code class="fe mv mw mx lj b">this.getSocial</code></p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="8868" class="ln lo it lj b gy lp lq l lr ls">mounted() {<br/>    this.getSocial();<br/>},</span></pre><p id="2f87" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在我们需要处理页脚组件。我们将在第20章中讨论这个问题。</p><p id="09e5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">到时候见。</p></div></div>    
</body>
</html>