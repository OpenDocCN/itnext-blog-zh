<html>
<head>
<title>Jackson-js: Powerful JavaScript decorators to serialize/deserialize objects into JSON and vice versa (Part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Jackson-js:强大的JavaScript装饰器，可以将对象序列化/反序列化到JSON中，反之亦然(第1部分)</h1>
<blockquote>原文：<a href="https://itnext.io/jackson-js-powerful-javascript-decorators-to-serialize-deserialize-objects-into-json-and-vice-df952454cf?source=collection_archive---------2-----------------------#2020-05-05">https://itnext.io/jackson-js-powerful-javascript-decorators-to-serialize-deserialize-objects-into-json-and-vice-df952454cf?source=collection_archive---------2-----------------------#2020-05-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/eb0745b9c8f02428bb8374ecd38d7bc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*hMIqEMzV6ga93WL9HZEsyg.png"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">JSON徽标</figcaption></figure><p id="ee64" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">经过许多小时的开发，我终于发布了第一个版本的<code class="fe kw kx ky kz b"><a class="ae la" href="https://github.com/pichillilorenzo/jackson-js" rel="noopener ugc nofollow" target="_blank">jackson-js</a></code>库。顾名思义，<code class="fe kw kx ky kz b"><a class="ae la" href="https://github.com/pichillilorenzo/jackson-js" rel="noopener ugc nofollow" target="_blank">jackson-js</a></code>decorator受到了著名的Java <a class="ae la" href="https://github.com/FasterXML/jackson" rel="noopener ugc nofollow" target="_blank"> FasterXML/jackson库</a>的Java注释的极大启发。</p><p id="ecbb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可以使用<code class="fe kw kx ky kz b">npm install —-save jackson-js</code>安装它，它可以在<strong class="ka ir">客户端</strong>(浏览器)和<strong class="ka ir">服务器</strong> (Node.js)端使用。</p><h2 id="6d2c" class="lb lc iq bd ld le lf dn lg lh li dp lj kj lk ll lm kn ln lo lp kr lq lr ls lt bi translated">为什么是这个图书馆？用这个库代替<code class="fe kw kx ky kz b"><a class="ae la" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse" rel="noopener ugc nofollow" target="_blank">JSON.parse</a></code>和<code class="fe kw kx ky kz b"><a class="ae la" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify" rel="noopener ugc nofollow" target="_blank">JSON.stringify</a></code>有什么区别？</h2><p id="37f3" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">对于简单的情况，不需要这个库，当然可以只使用<code class="fe kw kx ky kz b">JSON.parse</code>和<code class="fe kw kx ky kz b">JSON.stringify</code>来序列化/反序列化JSON。</p><p id="971f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用<code class="fe kw kx ky kz b"><a class="ae la" href="https://github.com/pichillilorenzo/jackson-js" rel="noopener ugc nofollow" target="_blank">jackson-js</a></code>，您可以使用<code class="fe kw kx ky kz b">@JsonProperty()</code>、<code class="fe kw kx ky kz b">@JsonFormat()</code>、<code class="fe kw kx ky kz b">@JsonIgnore()</code>等装饰器轻松操作您的JavaScript对象/值序列化/反序列化。但是，这个库在引擎盖下使用了<code class="fe kw kx ky kz b"><a class="ae la" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse" rel="noopener ugc nofollow" target="_blank">JSON.parse</a></code>和<code class="fe kw kx ky kz b"><a class="ae la" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify" rel="noopener ugc nofollow" target="_blank">JSON.stringify</a></code>。</p><p id="c2ec" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">此外:</p><ul class=""><li id="46d3" class="lz ma iq ka b kb kc kf kg kj mb kn mc kr md kv me mf mg mh bi translated">它不仅将JSON文本反序列化为JavaScript对象，还将其转换为在<code class="fe kw kx ky kz b">context</code>选项中指定的类的<strong class="ka ir">实例(类似的包有:<a class="ae la" href="https://github.com/typestack/class-transformer" rel="noopener ugc nofollow" target="_blank"> class-transformer </a>和<a class="ae la" href="https://github.com/JohnWeisz/TypedJSON" rel="noopener ugc nofollow" target="_blank">TypedJSON</a>)；相反，用<code class="fe kw kx ky kz b">JSON.parse</code>你将得到一个简单的普通(文字)JavaScript对象(只是<code class="fe kw kx ky kz b"><a class="ae la" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" rel="noopener ugc nofollow" target="_blank">Object</a></code>类型)；</strong></li><li id="f6f7" class="lz ma iq ka b kb mi kf mj kj mk kn ml kr mm kv me mf mg mh bi translated">它支持更高级的对象概念，如<strong class="ka ir">多态</strong>和<strong class="ka ir">对象标识</strong>；</li><li id="75cd" class="lz ma iq ka b kb mi kf mj kj mk kn ml kr mm kv me mf mg mh bi translated">支持<strong class="ka ir">循环对象</strong>序列化/反序列化；</li><li id="c704" class="lz ma iq ka b kb mi kf mj kj mk kn ml kr mm kv me mf mg mh bi translated">支持其他原生JavaScript类型的序列化/反序列化:<code class="fe kw kx ky kz b">Map</code>、<code class="fe kw kx ky kz b">Set</code>、<code class="fe kw kx ky kz b">BigInt</code>、类型化数组(如<code class="fe kw kx ky kz b"><a class="ae la" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int8Array" rel="noopener ugc nofollow" target="_blank">Int8Array</a></code>)；</li></ul><p id="5012" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">该库在更复杂的情况下会很有用，例如当您想要:</p><ul class=""><li id="ae0f" class="lz ma iq ka b kb kc kf kg kj mb kn mc kr md kv me mf mg mh bi translated">深度操纵JSON</li><li id="b2c6" class="lz ma iq ka b kb mi kf mj kj mk kn ml kr mm kv me mf mg mh bi translated">恢复一个JavaScript类型(类似的包是<a class="ae la" href="https://github.com/typestack/class-transformer" rel="noopener ugc nofollow" target="_blank">class-transformer</a>)；</li><li id="244b" class="lz ma iq ka b kb mi kf mj kj mk kn ml kr mm kv me mf mg mh bi translated">保留类型信息(使用多态类型处理修饰符:<code class="fe kw kx ky kz b">@JsonTypeInfo</code>、<code class="fe kw kx ky kz b">@JsonSubTypes</code>和<code class="fe kw kx ky kz b">@JsonTypeName</code>)。类似的包是<a class="ae la" href="https://github.com/JohnWeisz/TypedJSON" rel="noopener ugc nofollow" target="_blank">typed JSON</a>)；</li><li id="ff52" class="lz ma iq ka b kb mi kf mj kj mk kn ml kr mm kv me mf mg mh bi translated">隐藏某些HTTP端点或某些其他外部服务的某些属性；</li><li id="f078" class="lz ma iq ka b kb mi kf mj kj mk kn ml kr mm kv me mf mg mh bi translated">对某些外部应用程序有不同的JSON响应，或者管理来自其他应用程序的不同JSON数据(例如，您需要与对同一模型使用不同JSON模式的Spring Boot应用程序进行通信，或者与使用Python、PHP等开发的其他应用程序进行通信……)；</li><li id="f4c7" class="lz ma iq ka b kb mi kf mj kj mk kn ml kr mm kv me mf mg mh bi translated">管理循环引用；</li><li id="5341" class="lz ma iq ka b kb mi kf mj kj mk kn ml kr mm kv me mf mg mh bi translated">管理其他JavaScript原生类型，如地图和集合；</li><li id="ce58" class="lz ma iq ka b kb mi kf mj kj mk kn ml kr mm kv me mf mg mh bi translated">等等。</li></ul><p id="66ab" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Java <a class="ae la" href="https://github.com/FasterXML/jackson" rel="noopener ugc nofollow" target="_blank"> FasterXML/jackson </a>注释的大多数用例是相似或相同的。</p><p id="ef21" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在本文中，我将为每个装饰者提供一个基本的例子。</p><h1 id="efbe" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">ObjectMapper、JsonParser和JsonStringifier类</h1><p id="838f" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><code class="fe kw kx ky kz b"><a class="ae la" href="https://github.com/pichillilorenzo/jackson-js" rel="noopener ugc nofollow" target="_blank">jackson-js</a></code>提供序列化和反序列化JavaScript对象的主要类有:<code class="fe kw kx ky kz b">ObjectMapper</code>、<code class="fe kw kx ky kz b">JsonStringifier</code>和<code class="fe kw kx ky kz b">JsonParser</code>。</p><h2 id="3c5a" class="lb lc iq bd ld le lf dn lg lh li dp lj kj lk ll lm kn ln lo lp kr lq lr ls lt bi translated">对象映射器</h2><p id="04bf" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><code class="fe kw kx ky kz b">ObjectMapper</code>提供读写JSON的功能，并应用<code class="fe kw kx ky kz b">jackson-js</code> <strong class="ka ir">装饰器</strong>。它将使用<code class="fe kw kx ky kz b">JsonParser</code>和<code class="fe kw kx ky kz b">JsonStringifier</code>的实例来实现JSON的实际读/写。它有两种方法:</p><ul class=""><li id="5d79" class="lz ma iq ka b kb kc kf kg kj mb kn mc kr md kv me mf mg mh bi translated"><code class="fe kw kx ky kz b">stringify(obj: T, context?: JsonStringifierContext): string</code>:应用<strong class="ka ir">装饰器</strong>将JavaScript对象或值序列化为JSON字符串的方法；</li><li id="989e" class="lz ma iq ka b kb mi kf mj kj mk kn ml kr mm kv me mf mg mh bi translated"><code class="fe kw kx ky kz b">parse(text: string, context?: JsonParserContext): T</code>:将JSON字符串反序列化为JavaScript对象/值(类型为<code class="fe kw kx ky kz b">T</code>，基于给定的上下文)的方法，应用了<strong class="ka ir">decorator</strong>。</li></ul><h2 id="78f4" class="lb lc iq bd ld le lf dn lg lh li dp lj kj lk ll lm kn ln lo lp kr lq lr ls lt bi translated">JsonParser</h2><p id="c864" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><code class="fe kw kx ky kz b">JsonParser</code>提供编写JSON的功能，并应用<code class="fe kw kx ky kz b">jackson-js</code>decorator。主要方法有:</p><ul class=""><li id="09a3" class="lz ma iq ka b kb kc kf kg kj mb kn mc kr md kv me mf mg mh bi translated"><code class="fe kw kx ky kz b">parse(text: string, context?: JsonParserContext): T</code>:将JSON字符串反序列化为应用了<strong class="ka ir">装饰符</strong>的JavaScript对象/值(类型<code class="fe kw kx ky kz b">T</code>，基于给定的上下文)的方法；</li><li id="0eb2" class="lz ma iq ka b kb mi kf mj kj mk kn ml kr mm kv me mf mg mh bi translated"><code class="fe kw kx ky kz b">transform(value: any, context?: JsonParserContext): any</code>:将<code class="fe kw kx ky kz b">jackson-js</code> <strong class="ka ir">装饰器</strong>应用于解析的JavaScript对象/值的方法。它返回一个应用了decorators的JavaScript对象/值。</li></ul><h2 id="80c0" class="lb lc iq bd ld le lf dn lg lh li dp lj kj lk ll lm kn ln lo lp kr lq lr ls lt bi translated">JsonStringifier</h2><p id="8d31" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><code class="fe kw kx ky kz b">JsonStringifier</code>提供读取JSON的功能，并应用<code class="fe kw kx ky kz b">jackson-js</code> <strong class="ka ir">装饰器</strong>。主要方法有:</p><ul class=""><li id="1fff" class="lz ma iq ka b kb kc kf kg kj mb kn mc kr md kv me mf mg mh bi translated"><code class="fe kw kx ky kz b">stringify(obj: T, context?: JsonStringifierContext): string</code>:应用<strong class="ka ir">装饰器</strong>将JavaScript对象或值序列化为JSON字符串的方法；</li><li id="96d6" class="lz ma iq ka b kb mi kf mj kj mk kn ml kr mm kv me mf mg mh bi translated"><code class="fe kw kx ky kz b">transform(value: any, context?: JsonStringifierContext): any</code>:将<code class="fe kw kx ky kz b">jackson-js</code> <strong class="ka ir">装饰器</strong>应用于JavaScript对象/值的方法。它返回一个应用了decorators的JavaScript对象/值，并准备好进行JSON序列化。</li></ul><h1 id="3a78" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">装修工</h1><p id="5850" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">在我们继续之前，我需要说最重要的装饰者是:</p><ul class=""><li id="ace8" class="lz ma iq ka b kb kc kf kg kj mb kn mc kr md kv me mf mg mh bi translated"><code class="fe kw kx ky kz b">@JsonProperty()</code>:每个类属性(或者它的getter/setter)都必须用这个decorator来修饰，否则，反序列化和序列化将无法正常工作！这是因为，例如，给定一个JavaScript类，没有任何方法或API(如Java 的<a class="ae la" href="https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/package-summary.html" rel="noopener ugc nofollow" target="_blank">反射API)来确定所有的类属性；还因为，有时候，编译器如</a><a class="ae la" href="https://www.typescriptlang.org/" rel="noopener ugc nofollow" target="_blank"> TypeScript </a>和<a class="ae la" href="https://babeljs.io/" rel="noopener ugc nofollow" target="_blank"> Babel </a>，可以在编译后从类属性声明中剥离类属性；</li><li id="d4ea" class="lz ma iq ka b kb mi kf mj kj mk kn ml kr mm kv me mf mg mh bi translated"><code class="fe kw kx ky kz b">@JsonClassType()</code>:这个装饰器用于定义类属性或方法参数的类型。该信息在序列化过程中使用，更重要的是，在反序列化过程中使用，以了解属性 / <strong class="ka ir">参数</strong>的<strong class="ka ir">类型。这是必要的，因为JavaScript不是强类型编程语言，所以，例如，在反序列化期间，如果不使用这个装饰器，就没有任何方法知道类属性的具体类型，比如一个<code class="fe kw kx ky kz b">Date</code>或一个定制的类类型。</strong></li></ul><p id="b971" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">稍后，将对它们进行更详细的解释。</p><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="ni nj l"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">@JsonProperty()和@JsonClassType()装饰器的快速示例。</figcaption></figure><h1 id="899b" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">@JsonAlias</h1><p id="bcd7" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">在反序列化期间，<em class="nk"> @JsonAlias </em> decorator为属性定义了一个或多个可选名称。</p><p id="642c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsonalias" rel="noopener ugc nofollow" target="_blank">JsonAlias</a>—装饰选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/interfaces/types.jsonaliasoptions.html" rel="noopener ugc nofollow" target="_blank"> JsonAliasOptions </a>。</p><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="b476" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">@JsonAnyGetter</h1><p id="dc45" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><em class="nk"> @JsonAnyGetter </em>装饰器允许灵活地使用<code class="fe kw kx ky kz b">Map</code>或对象文字字段作为标准属性。</p><p id="6834" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsonanygetter" rel="noopener ugc nofollow" target="_blank">JsonAnyGetter</a>—装饰器选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/interfaces/types.jsonanygetteroptions.html" rel="noopener ugc nofollow" target="_blank"> JsonAnyGetterOptions </a>。</p><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="6b5a" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">@JsonAnySetter</h1><p id="6c0e" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><em class="nk"> @JsonAnySetter </em>允许我们定义一个逻辑“AnySetter”赋值函数，使用一个非静态的双参数方法作为从JSON内容中找到的所有未识别属性的“后备”处理程序。</p><p id="97b9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsonanysetter" rel="noopener ugc nofollow" target="_blank">JsonAnySetter</a>—装饰器选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/types.html#jsonanysetteroptions" rel="noopener ugc nofollow" target="_blank"> JsonAnySetterOptions </a>。</p><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="d35f" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">@JsonAppend</h1><p id="fa38" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><em class="nk"> @JsonAppend </em>可以用来添加要写在常规属性之后的“虚拟”属性。</p><p id="591e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsonappend" rel="noopener ugc nofollow" target="_blank">JsonAppend</a>—装饰器选项:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/interfaces/types.jsonappendoptions.html" rel="noopener ugc nofollow" target="_blank"> JsonAppendOptions </a>。</p><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="f93d" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">@JsonManagedReference和@JsonBackReference</h1><p id="bf3c" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><em class="nk"> @JsonManagedReference </em>和<em class="nk"> @JsonBackReference </em>装饰器可以处理父/子关系并解决循环问题。</p><p id="c2ff" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsonmanagedreference" rel="noopener ugc nofollow" target="_blank">JsonManagedReference</a>—装饰器选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/interfaces/types.jsonmanagedreferenceoptions.html" rel="noopener ugc nofollow" target="_blank">JsonManagedReferenceOptions</a>，<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsonbackreference" rel="noopener ugc nofollow" target="_blank"> JsonBackReference </a> —装饰器选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/interfaces/types.jsonbackreferenceoptions.html" rel="noopener ugc nofollow" target="_blank">JsonBackReferenceOptions</a>。</p><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="bafd" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">@JsonClassType</h1><p id="7509" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">如前所述，<em class="nk"> @JsonClassType </em>用于定义类属性或方法参数的类型。一个类型被定义为JavaScript类的数组，比如对于类型为<code class="fe kw kx ky kz b">number</code>的属性为<code class="fe kw kx ky kz b">[Number]</code>，对于类型为<code class="fe kw kx ky kz b">Array&lt;number&gt;</code>的属性为<code class="fe kw kx ky kz b">[Array, [Number]]</code>，对于类型为<code class="fe kw kx ky kz b">Map&lt;string, any&gt;</code>的属性为<code class="fe kw kx ky kz b">[Map, [String, Object]]</code>。</p><p id="eec9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为什么是JavaScript类的数组？因为这样你就可以映射复杂的类型，比如使用<code class="fe kw kx ky kz b">[Map, [String, Object]]</code>映射<code class="fe kw kx ky kz b">Map&lt;string, any&gt;</code>或者使用<code class="fe kw kx ky kz b">[Array, [Set, [Object]]]</code>映射<code class="fe kw kx ky kz b">Array&lt;Set&lt;any&gt;&gt;</code>。</p><p id="2482" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsonclasstype" rel="noopener ugc nofollow" target="_blank">JsonClassType</a>—装饰选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/interfaces/types.jsonclasstypeoptions.html" rel="noopener ugc nofollow" target="_blank"> JsonClassTypeOptions </a>。</p><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="5913" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">@JsonCreator</h1><p id="7a4c" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">我们可以使用<em class="nk"> @JsonCreator </em> decorator将构造函数和工厂方法定义为一体，用于实例化相关类的新实例。</p><p id="31fe" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当我们需要反序列化一些与我们需要获得的目标实体不完全匹配的JSON时，这非常有帮助，也有了<em class="nk">@ JSON property</em>decorator的帮助。</p><p id="2005" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsoncreator" rel="noopener ugc nofollow" target="_blank">JSON creator</a>—装饰选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/interfaces/types.jsoncreatoroptions.html" rel="noopener ugc nofollow" target="_blank"> JsonCreatorOptions </a>。</p><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="86cc" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">@JsonSerialize和@JsonDeserialize</h1><p id="b472" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">@JsonSerialize 和@ <em class="nk"> JsonDeserialize </em>用于表示使用定制的串行化器/去串行化器。</p><p id="fd0b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsonserialize" rel="noopener ugc nofollow" target="_blank">JSON serialize</a>—装饰器选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/interfaces/types.jsonserializeoptions.html" rel="noopener ugc nofollow" target="_blank"> JsonSerializeOptions </a>，<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsondeserialize" rel="noopener ugc nofollow" target="_blank"> JsonDeserialize </a> —装饰器选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/interfaces/types.jsondeserializeoptions.html" rel="noopener ugc nofollow" target="_blank"> JsonDeserializeOptions </a>。</p><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="08ac" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">@JsonFilter</h1><p id="dbf1" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><em class="nk"> @JsonFilter </em>可用于指示哪个逻辑过滤器用于过滤掉修饰类型(类)的属性。</p><p id="19be" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> API </strong> : <a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsonfilter" rel="noopener ugc nofollow" target="_blank"> JsonFilter </a> —装饰器选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/interfaces/types.jsonfilteroptions.html" rel="noopener ugc nofollow" target="_blank"> JsonFilterOptions </a>。</p><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="13bf" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">@JsonFormat</h1><p id="d937" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><em class="nk"> @JsonFormat </em>是一个通用的装饰器，用于配置属性值如何序列化的细节。</p><p id="baf7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsonformat" rel="noopener ugc nofollow" target="_blank">JSON format</a>—装饰器选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/types.html#jsonformatoptions" rel="noopener ugc nofollow" target="_blank"> JsonFormatOptions </a>。</p><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="57fb" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">@JsonGetter和@JsonSetter</h1><p id="2fdc" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><em class="nk"> @JsonGetter </em>和<em class="nk"> @JsonSetter </em>是更一般的<em class="nk">@ JSON property</em>decorator的替代方法，用于将一个方法标记为逻辑属性的getter/setter方法。</p><p id="827e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsongetter" rel="noopener ugc nofollow" target="_blank">JsonGetter</a>—装饰器选项:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/interfaces/types.jsongetteroptions.html" rel="noopener ugc nofollow" target="_blank"> JsonGetterOptions </a>，<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsonsetter" rel="noopener ugc nofollow" target="_blank"> JsonSetter </a> —装饰器选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/interfaces/types.jsonsetteroptions.html" rel="noopener ugc nofollow" target="_blank"> JsonSetterOptions </a>。</p><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="a667" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">@JsonIdentityInfo</h1><p id="5617" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><em class="nk"> @JsonIdentityInfo </em>表示在序列化/反序列化值时应该使用对象标识——例如，处理无限递归类型的问题。</p><p id="f6b7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsonidentityinfo" rel="noopener ugc nofollow" target="_blank">jsonientityinfo</a>—装饰选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/interfaces/types.jsonidentityinfooptions.html" rel="noopener ugc nofollow" target="_blank">jsonientityinfooptions</a>。</p><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="48ba" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">@ JsonIdentityReference</h1><p id="1474" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><em class="nk">@ jsonientityreference</em>可用于定制启用了“对象标识”的对象的引用详情(参见<em class="nk">@ jsonientityinfo</em>)。主要用例是强制使用对象Id，即使是第一次引用对象，而不是第一个实例被序列化为完整的类。</p><p id="d970" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsonidentityreference" rel="noopener ugc nofollow" target="_blank">jsonientityreference</a>—装饰选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/interfaces/types.jsonidentityreferenceoptions.html" rel="noopener ugc nofollow" target="_blank">jsonientityreferenceoptions</a>。</p><h1 id="5cdf" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">@JsonIgnore、@JsonIgnoreProperties和@ JsonIgnoreType</h1><p id="803e" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><em class="nk"> @JsonIgnore </em>用于标记在序列化和反序列化过程中要在字段级忽略的属性。</p><p id="ed47" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsonignore" rel="noopener ugc nofollow" target="_blank">JsonIgnore</a>—装饰选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/types.html#jsonignoreoptions" rel="noopener ugc nofollow" target="_blank"> JsonIgnoreOptions </a>。</p><p id="e85e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="nk"> @JsonIgnoreProperties </em>可以用作类级装饰器，标记在序列化和反序列化期间将被忽略的属性或属性列表。</p><p id="cde9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsonignoreproperties" rel="noopener ugc nofollow" target="_blank">jsonignorepropertypes</a>—装饰选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/interfaces/types.jsonignorepropertiesoptions.html" rel="noopener ugc nofollow" target="_blank">jsonignorepropertypesoptions</a>。</p><p id="8ec7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">@ jsonignotype表示在序列化和反序列化过程中将忽略修饰类型的所有属性。</p><p id="776e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsonignoretype" rel="noopener ugc nofollow" target="_blank">jsonignotype</a>—装饰器选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/types.html#jsonignoretypeoptions" rel="noopener ugc nofollow" target="_blank"> JsonIgnoreTypeOptions </a>。</p><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="487c" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">@JsonInclude</h1><p id="314b" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><em class="nk"> @JsonInclude </em>可以用来排除空/null/默认值的属性。</p><p id="ba79" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsoninclude" rel="noopener ugc nofollow" target="_blank">JSON include</a>—装饰选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/types.html#jsonincludeoptions" rel="noopener ugc nofollow" target="_blank"> JsonIncludeOptions </a>。</p><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="ba52" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">@ JsonInject</h1><p id="50b4" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><em class="nk"> @JsonInject </em> decorator用于表示反序列化过程中将注入修饰属性的值。</p><p id="d4f5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsoninject" rel="noopener ugc nofollow" target="_blank">JSON inject</a>—装饰器选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/interfaces/types.jsoninjectoptions.html" rel="noopener ugc nofollow" target="_blank">JSON inject选项</a>。</p><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="09f4" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">@JsonNaming</h1><p id="0808" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><em class="nk"> @JsonNaming </em> decorator用于为序列化中的属性选择命名策略(SNAKE_CASE、UPPER_CAMEL_CASE、LOWER_CAMEL_CASE、LOWER_CASE、KEBAB_CASE和LOWER_DOT_CASE)，覆盖默认值。</p><p id="bd86" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsonnaming" rel="noopener ugc nofollow" target="_blank">JsonNaming</a>—装饰选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/interfaces/types.jsonnamingoptions.html" rel="noopener ugc nofollow" target="_blank"> JsonNamingOptions </a>。</p><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="42d8" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">@JsonProperty</h1><p id="ecc2" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><em class="nk"> @JsonProperty </em>可用于将非静态方法定义为逻辑属性的“setter”或“getter”，或将非静态对象字段用作(序列化、反序列化)逻辑属性。</p><p id="ef19" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsonproperty" rel="noopener ugc nofollow" target="_blank">JSON property</a>—装饰器选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/interfaces/types.jsonpropertyoptions.html" rel="noopener ugc nofollow" target="_blank"> JsonPropertyOptions </a>。</p><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="a75a" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">@ jsonpropertyeorder</h1><p id="ce0a" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><em class="nk"> @JsonPropertyOrder </em>可以用来指定属性序列化的顺序。</p><p id="3c5c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsonpropertyorder" rel="noopener ugc nofollow" target="_blank">JsonPropertyOrder</a>—装饰器选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/interfaces/types.jsonpropertyorderoptions.html" rel="noopener ugc nofollow" target="_blank">JsonPropertyOrderOptions</a>。</p><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="37dd" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">@JsonRawValue</h1><p id="bdfc" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><em class="nk"> @JsonRawValue </em> decorator表示被修饰的方法或字段应该通过原样包括属性的文字字符串值来序列化，而不引用字符。这对于注入已经在JSON中序列化的值或者将javascript函数定义从服务器传递到javascript客户机非常有用。</p><p id="57c2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsonrawvalue" rel="noopener ugc nofollow" target="_blank">JsonRawValue</a>—装饰选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/types.html#jsonrawvalueoptions" rel="noopener ugc nofollow" target="_blank"> JsonRawValueOptions </a>。</p><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="4056" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">@JsonRootName</h1><p id="69f6" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">使用@ JSON root namedecorator——如果启用了包装——来指定要使用的根包装器的名称。</p><p id="8578" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsonrootname" rel="noopener ugc nofollow" target="_blank">jsonroot name</a>—装饰器选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/interfaces/types.jsonrootnameoptions.html" rel="noopener ugc nofollow" target="_blank"> JsonRootNameOptions </a>。</p><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="c24e" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">多态类型处理装饰器:@JsonTypeInfo、@JsonSubTypes和@JsonTypeName</h1><ul class=""><li id="a84a" class="lz ma iq ka b kb lu kf lv kj nl kn nm kr nn kv me mf mg mh bi translated"><em class="nk"> @JsonTypeInfo </em>:指明在序列化中包含什么类型信息的细节；<strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsontypeinfo" rel="noopener ugc nofollow" target="_blank">JsonTypeInfo</a>—装饰选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/interfaces/types.jsontypeinfooptions.html" rel="noopener ugc nofollow" target="_blank">JsonTypeInfoOptions</a>；</li><li id="9905" class="lz ma iq ka b kb mi kf mj kj mk kn ml kr mm kv me mf mg mh bi translated"><em class="nk"> @JsonSubTypes </em>:表示被注释类型的子类型；<strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsonsubtypes" rel="noopener ugc nofollow" target="_blank">JsonSubTypes</a>—装饰器选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/interfaces/types.jsonsubtypesoptions.html" rel="noopener ugc nofollow" target="_blank">JsonSubTypes选项</a>；</li><li id="9793" class="lz ma iq ka b kb mi kf mj kj mk kn ml kr mm kv me mf mg mh bi translated"><em class="nk"> @JsonTypeName </em>:定义用于注释类的逻辑类型名；<strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsontypename" rel="noopener ugc nofollow" target="_blank">JSON typename</a>—装饰器选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/interfaces/types.jsontypenameoptions.html" rel="noopener ugc nofollow" target="_blank"> JsonTypeNameOptions </a>。</li></ul><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="ce17" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">@JsonTypeId</h1><p id="961d" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><em class="nk"> @JsonTypeId </em> decorator用于指示当包含多态类型信息时，被注释的属性应该被序列化为类型Id，而不是作为常规属性。在反序列化过程中使用多态元数据来重新创建与序列化前相同子类型的对象，而不是已声明超类型的对象。</p><p id="3448" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> API </strong> : <a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsontypeid" rel="noopener ugc nofollow" target="_blank"> JsonTypeId </a> —装饰选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/types.html#jsontypeidoptions" rel="noopener ugc nofollow" target="_blank"> JsonTypeIdOptions </a>。</p><h1 id="477d" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">@JsonTypeIdResolver</h1><p id="d3fa" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><em class="nk">@ JsonTypeIdResolver</em>decorator可以用来插入一个自定义类型标识符处理程序，用于在JSON内容中包含的JavaScript类型和类型id之间进行转换。</p><p id="5b2b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsontypeidresolver" rel="noopener ugc nofollow" target="_blank">JsonTypeIdResolver</a>—装饰器选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/interfaces/types.jsontypeidresolveroptions.html" rel="noopener ugc nofollow" target="_blank">JsonTypeIdResolverOptions</a>。</p><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="98d5" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">@JsonUnwrapped</h1><p id="393f" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><em class="nk"> @JsonUnwrapped </em>定义了序列化/反序列化时应该展开/展平的值。</p><p id="8203" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsonunwrapped" rel="noopener ugc nofollow" target="_blank">JSON unwrapped</a>—装饰选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/interfaces/types.jsonunwrappedoptions.html" rel="noopener ugc nofollow" target="_blank"> JsonUnwrappedOptions </a>。</p><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="38a5" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">@JsonValue</h1><p id="2354" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><em class="nk"> @JsonValue </em> decorator表示修饰的访问器(field或“getter”方法)的值将用作实例序列化的单个值，而不是收集Value属性的常用方法。</p><p id="bc80" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">API</strong>:<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsonvalue" rel="noopener ugc nofollow" target="_blank">JsonValue</a>—装饰选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/types.html#jsonvalueoptions" rel="noopener ugc nofollow" target="_blank"> JsonValueOptions </a>。</p><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="1888" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">@JsonView</h1><p id="013b" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><em class="nk"> @JsonView </em> decorator用于指示被修饰的方法或字段定义的属性所属的视图。如果包含多个视图类标识符，该属性将是所有这些标识符的一部分。也可以在类上使用这个装饰器来指示该类型属性的默认视图，除非被每个属性的装饰器覆盖。</p><p id="62bf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> API </strong> : <a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/modules/decorators.html#jsonview" rel="noopener ugc nofollow" target="_blank"> JsonView </a> —装饰器选项<a class="ae la" href="https://pichillilorenzo.github.io/jackson-js/latest/interfaces/types.jsonviewoptions.html" rel="noopener ugc nofollow" target="_blank"> JsonViewOptions </a>。</p><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="c5d1" class="mn lc iq bd ld mo mp mq lg mr ms mt lj mu mv mw lm mx my mz lp na nb nc ls nd bi translated">结论</h1><p id="14d3" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">在下一部分("<a class="ae la" href="https://medium.com/@pichillilorenzo/jackson-js-examples-for-client-and-server-side-part-2-7e66df74c851" rel="noopener"> <em class="nk"> Jackson-js:客户端(Angular)和服务器(Node.js)端的示例(第2部分)</em> </a>")中，我将给出一个使用<code class="fe kw kx ky kz b"><a class="ae la" href="https://github.com/pichillilorenzo/jackson-js" rel="noopener ugc nofollow" target="_blank">jackson-js</a></code>和Angular 9的简单示例，以及两个用于服务器端的示例:一个使用node . js+<a class="ae la" href="http://expressjs.com/" rel="noopener ugc nofollow" target="_blank">Express</a>+SQLite3(with<a class="ae la" href="https://sequelize.org/" rel="noopener ugc nofollow" target="_blank">sequel ze 5</a>，另一个使用Node.js + <a class="ae la" href="https://github.com/strongloop/loopback-next" rel="noopener ugc nofollow" target="_blank"> LoopBack 4 </a>。</p></div></div>    
</body>
</html>