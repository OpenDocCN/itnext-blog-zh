<html>
<head>
<title>App Localization in Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">颤振中的App本地化</h1>
<blockquote>原文：<a href="https://itnext.io/app-localization-in-flutter-2f00f812bf08?source=collection_archive---------0-----------------------#2022-01-16">https://itnext.io/app-localization-in-flutter-2f00f812bf08?source=collection_archive---------0-----------------------#2022-01-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ef0a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">颤动容易定位</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b6bdc916f8f6a7d7c90096021a8ce3c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZlBuGnGo306NnLnIigR3Fg.png"/></div></div></figure><p id="791d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">应用程序本地化在移动应用程序开发中非常常见，我想写一个我最喜欢的flutter包。App国际化用<a class="ae ln" href="https://pub.dev/packages/easy_localization" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="lo">easy _ localization</em></strong></a>包快速轻松。</p><h2 id="9e4d" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi translated">为什么易_本地化？</h2><ul class=""><li id="dbff" class="mi mj iq kt b ku mk kx ml la mm le mn li mo lm mp mq mr ms bi translated">🚀多种语言的简单翻译</li><li id="2365" class="mi mj iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">🔌使用<a class="ae ln" href="https://github.com/aissat/easy_localization_loader" rel="noopener ugc nofollow" target="_blank"> Easy Localization Loader </a>加载翻译为JSON、CSV、Yaml、XML</li><li id="ba36" class="mi mj iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">💾对区域设置更改做出反应并保持不变</li><li id="af60" class="mi mj iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">⚡支持复数、性别、嵌套、RTL地区等等</li><li id="f6a6" class="mi mj iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">↩️回退区域设置密钥重定向</li><li id="ef85" class="mi mj iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">缺少翻译的⁉️错误小部件</li><li id="ca0d" class="mi mj iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated"><code class="fe my mz na nb b">Text</code>和<code class="fe my mz na nb b">BuildContext</code>上的❤️扩展方法</li><li id="37ed" class="mi mj iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">💻本地化文件和密钥的代码生成。</li><li id="fb53" class="mi mj iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">🛡️零安全</li><li id="a13b" class="mi mj iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">🖨️可定制的记录器。</li></ul><h2 id="c477" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi translated">入门指南</h2><ul class=""><li id="7e9a" class="mi mj iq kt b ku mk kx ml la mm le mn li mo lm mp mq mr ms bi translated">让我们把这个包添加到我们的<code class="fe my mz na nb b">pubspec.yaml</code></li></ul><pre class="kg kh ki kj gt nc nb nd ne aw nf bi"><span id="ae0b" class="lp lq iq nb b gy ng nh l ni nj">dependencies:<br/>  easy_localization: ^3.0.0</span></pre><ul class=""><li id="b245" class="mi mj iq kt b ku kv kx ky la nk le nl li nm lm mp mq mr ms bi translated">然后，让我们创建一个文件夹，并像这样添加翻译文件👇👇</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/733d29c1bca74be9d360279ee3f87017.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*GxU3IinbotVQ8bZOZmEEvQ.png"/></div></div></figure><ul class=""><li id="38f4" class="mi mj iq kt b ku kv kx ky la nk le nl li nm lm mp mq mr ms bi translated">在<code class="fe my mz na nb b">pubspec.yaml</code>中申报您的资产本地化目录:</li></ul><pre class="kg kh ki kj gt nc nb nd ne aw nf bi"><span id="0741" class="lp lq iq nb b gy ng nh l ni nj">flutter:<br/>  assets:<br/>    - assets/lang/</span></pre><ul class=""><li id="e239" class="mi mj iq kt b ku kv kx ky la nk le nl li nm lm mp mq mr ms bi translated">要在iOS上进行翻译，您需要将支持的区域设置添加到<code class="fe my mz na nb b">ios/Runner/Info.plist</code>中，如前所述</li></ul><pre class="kg kh ki kj gt nc nb nd ne aw nf bi"><span id="aa09" class="lp lq iq nb b gy ng nh l ni nj">&lt;key&gt;CFBundleLocalizations&lt;/key&gt;<br/>&lt;array&gt;<br/>	&lt;string&gt;en&lt;/string&gt;<br/>	&lt;string&gt;fr&lt;/string&gt;<br/>&lt;/array&gt;</span></pre><ul class=""><li id="e3b1" class="mi mj iq kt b ku kv kx ky la nk le nl li nm lm mp mq mr ms bi translated">之后，让我们这样编辑我们的<code class="fe my mz na nb b">main.dart</code>👇👇</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="f78f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在我们的应用程序已经准备好改变和保存选择的语言。您可以将HomePage类创建为一个有状态的小部件，带有您想要的小部件和首选的Ui设计。在你的语言JSON文件中添加你需要翻译的单词。添加尽可能多的JSON文件，并将该语言添加到支持的语言环境中。我在演示中使用的键如下。</p><h2 id="db0c" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi translated">恩。JSON</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><h2 id="f399" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi translated">法郎JSON</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><ul class=""><li id="b3d7" class="mi mj iq kt b ku kv kx ky la nk le nl li nm lm mp mq mr ms bi translated">要得到的话，只需导入包，并添加如下例的关键。</li></ul><pre class="kg kh ki kj gt nc nb nd ne aw nf bi"><span id="c633" class="lp lq iq nb b gy ng nh l ni nj"><strong class="nb ir">'title'</strong>.tr()</span></pre><ul class=""><li id="86bb" class="mi mj iq kt b ku kv kx ky la nk le nl li nm lm mp mq mr ms bi translated">您可以创建自己的下拉菜单、单选按钮或任何小部件来更改语言。我只是使用了自定义样式的下拉菜单。您也可以保存最后更改的语言，将其设置为默认语言。</li><li id="9434" class="mi mj iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">在创建我们的下拉菜单之前，让我们先创建我们的基本语言类，这样我们可以在将来使用它。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><ul class=""><li id="f3ef" class="mi mj iq kt b ku kv kx ky la nk le nl li nm lm mp mq mr ms bi translated">并添加让我们用我们的类创建我们的<code class="fe my mz na nb b">langList</code>。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><ul class=""><li id="601c" class="mi mj iq kt b ku kv kx ky la nk le nl li nm lm mp mq mr ms bi translated">通过这一行代码，我们可以得到下拉菜单中最后保存的语言。</li></ul><pre class="kg kh ki kj gt nc nb nd ne aw nf bi"><span id="fc88" class="lp lq iq nb b gy ng nh l ni nj">Language? selectedLang;</span><span id="b8b8" class="lp lq iq nb b gy nq nh l ni nj">selectedLang = languageList.singleWhere((e) =&gt; e.locale == context.locale);</span></pre><ul class=""><li id="4213" class="mi mj iq kt b ku kv kx ky la nk le nl li nm lm mp mq mr ms bi translated">让我们像这样创建下拉列表。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><ul class=""><li id="3482" class="mi mj iq kt b ku kv kx ky la nk le nl li nm lm mp mq mr ms bi translated">然后在我们的<code class="fe my mz na nb b">homepage.dart</code>中，让我们使用之前创建的JSON文件进行翻译。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="24c8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">仅此而已！！！运行应用程序，改变语言，看看。因为这是一个简单的例子，你可以通过下面的链接找到更多关于这个包的信息。</p><div class="nr ns gp gr nt nu"><a href="https://github.com/SncOne/localization" rel="noopener  ugc nofollow" target="_blank"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd ir gy z fp nz fr fs oa fu fw ip bi translated">GitHub—SNC one/本地化</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">github.com</p></div></div><div class="od l"><div class="oe l of og oh od oi kp nu"/></div></div></a></div><h2 id="2551" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi translated">奖金</h2><p id="53f1" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la oj lc ld le ok lg lh li ol lk ll lm ij bi translated"><strong class="kt ir">论据示例</strong></p><pre class="kg kh ki kj gt nc nb nd ne aw nf bi"><span id="a3c6" class="lp lq iq nb b gy ng nh l ni nj">{<br/>   "msg":"{} are written in the {} language",<br/>   "msg_named":"Easy localization are written in the {lang} language",<br/>   "msg_mixed":"{} are written in the {lang} language",<br/>   "gender":{<br/>      "male":"Hi man ;) {}",<br/>      "female":"Hello girl :) {}",<br/>      "other":"Hello {}"<br/>   }<br/>}</span><span id="948b" class="lp lq iq nb b gy nq nh l ni nj"><em class="lo">// args</em><br/>Text('msg').tr(args: ['Easy localization', 'Dart']),</span><span id="21a8" class="lp lq iq nb b gy nq nh l ni nj"><em class="lo">// namedArgs</em><br/>Text('msg_named').tr(namedArgs: {'lang': 'Dart'}),</span><span id="7445" class="lp lq iq nb b gy nq nh l ni nj"><em class="lo">// args and namedArgs</em><br/>Text('msg_mixed').tr(args: ['Easy localization'], namedArgs: {'lang': 'Dart'}),</span><span id="15c1" class="lp lq iq nb b gy nq nh l ni nj"><em class="lo">// gender</em><br/>Text('gender').tr(gender: _gender ? "female" : "male"),</span></pre><p id="19ec" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">🔥<strong class="kt ir">复数</strong> <code class="fe my mz na nb b"><strong class="kt ir">plural()</strong></code></p><p id="50b5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你可以用复数来翻译。要在翻译后的字符串中插入一个数字，请使用<code class="fe my mz na nb b">{}</code>。支持数字格式，更多信息请阅读<a class="ae ln" href="https://pub.dev/documentation/intl/latest/intl/NumberFormat-class.html" rel="noopener ugc nofollow" target="_blank"> NumberFormat </a>类文档。</p><p id="f42f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您可以使用[String]或[Text] widget的扩展方法，也可以使用<code class="fe my mz na nb b">plural()</code>作为静态函数。</p><p id="23bc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">示例:</p><pre class="kg kh ki kj gt nc nb nd ne aw nf bi"><span id="de95" class="lp lq iq nb b gy ng nh l ni nj">{<br/>  "day": {<br/>    "zero":"{} дней",<br/>    "one": "{} день",<br/>    "two": "{} дня",<br/>    "few": "{} дня",<br/>    "many": "{} дней",<br/>    "other": "{} дней"<br/>  },<br/>  "money": {<br/>    "zero": "You not have money",<br/>    "one": "You have {} dollar",<br/>    "many": "You have {} dollars",<br/>    "other": "You have {} dollars"<br/>  }<br/>}</span></pre><p id="f435" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">感谢您的阅读！</strong>👏👏</p><p id="32b7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你喜欢这篇文章，请点击👏按钮(你知道你可以升到50吗？)</p><p id="3225" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">另外，别忘了关注我，在你的社交网站上分享这篇文章！也让你的朋友知道吧！！</p></div></div>    
</body>
</html>