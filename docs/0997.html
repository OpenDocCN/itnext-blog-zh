<html>
<head>
<title>Access ResponsiveVoice.js in React app without a package</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React应用中访问ResponsiveVoice.js，无需软件包</h1>
<blockquote>原文：<a href="https://itnext.io/access-responsivevoice-js-in-react-app-without-a-package-a062b8d92950?source=collection_archive---------1-----------------------#2018-07-01">https://itnext.io/access-responsivevoice-js-in-react-app-without-a-package-a062b8d92950?source=collection_archive---------1-----------------------#2018-07-01</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><figure class="gm go jo jp jq jr"><div class="bz fq l di"><div class="js jt l"/></div></figure><p id="9f05" class="pw-post-body-paragraph ju jv ir jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ik bi translated">在创建Jeopardy应用程序的过程中，我决定做更多的事情，而不仅仅是显示一个类别的书面线索。我意识到我想使用文本到语音的方式来读回显示的线索。但是在这个问题上有很多不同的选择。显而易见的选择是IBM Watson。但是我觉得它对我的需求来说有点过于健壮了。所以我决定合并<a class="ae ks" href="https://responsivevoice.org/" rel="noopener ugc nofollow" target="_blank"> ResponsiveVoice.js </a>。</p><p id="a415" class="pw-post-body-paragraph ju jv ir jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ik bi translated">那么下一步我如何将它合并到我的React项目中。所以我找到了一个响应语音包，我可能只是安装，然后就收工了。但是当我看代码时，对我来说用<code class="fe kt ku kv kw b">var</code>和<code class="fe kt ku kv kw b">require</code>而不是<code class="fe kt ku kv kw b">import</code>有点像ES5。我的意思是，毕竟我们正在推动ES9人，老实说，我只是想遵循原始的开箱即用。</p><p id="8bda" class="pw-post-body-paragraph ju jv ir jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ik bi translated">那么，我该如何合并这个CDN托管的JS文件呢？</p><figure class="kx ky kz la gu jr"><div class="bz fq l di"><div class="lb jt l"/></div><figcaption class="lc ld gk gi gj le lf bd b be z dk translated">我也是这么想的</figcaption></figure><p id="43d2" class="pw-post-body-paragraph ju jv ir jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ik bi translated">js要求在html文件中包含这段代码片段<code class="fe kt ku kv kw b">&lt;script src="http://code.responsivevoice.org/responsivevoice.js"&gt;&lt;/script&gt;</code>。但是在哪里？将你的css <code class="fe kt ku kv kw b">&lt;link&gt;</code>文件包含在你的<code class="fe kt ku kv kw b">&lt;head&gt;</code>标签中，并将你的js <code class="fe kt ku kv kw b">&lt;script&gt;</code>文件包含在你的结束<code class="fe kt ku kv kw b">&lt;/body&gt;</code>标签之前，这是一个很好的做法。所以我的html文件看起来像这样。</p><figure class="kx ky kz la gu jr gi gj paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gi gj lg"><img src="../Images/a84e0f4a5a16caab21aa7041427bdd3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OlaXYTVk4GJfeAHuOEGYGA.png"/></div></div></figure><p id="3845" class="pw-post-body-paragraph ju jv ir jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ik bi translated">我必须承认，我觉得这样包含我的JS文件有点脏。这不是我所习惯，但是我习惯于只处理软件包。但这无关紧要。</p><p id="4801" class="pw-post-body-paragraph ju jv ir jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ik bi translated">我不确定如何访问包含的功能。但首先，我想确保脚本被正确捆绑。所以我打开我的开发者控制台，在顶部我看到了这个，</p><figure class="kx ky kz la gu jr gi gj paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gi gj ln"><img src="../Images/350a338bcc9fc7c0030ea6cef6d5bda8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ud3ntvwYdWKoDxIoA-H0Iw.png"/></div></div></figure><p id="eb65" class="pw-post-body-paragraph ju jv ir jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ik bi translated">所以我知道回应之声必须正确捆绑。最初，我试图访问我的React组件中包含的函数，但是我不断得到这些函数名的未定义错误。</p><p id="a05f" class="pw-post-body-paragraph ju jv ir jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ik bi translated">在做了一点挖掘之后，我开始明白实际上有一个非常简单的方法来访问包含的文件函数。所有全局JS对象、函数和变量都自动成为window对象的成员。</p><figure class="kx ky kz la gu jr"><div class="bz fq l di"><div class="lo jt l"/></div></figure><figure class="kx ky kz la gu jr gi gj paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gi gj lp"><img src="../Images/0afbb3173ec5f5e94d2621d1d854fb13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1hCrTRLdkHcGR2Wk5MdR_Q.png"/></div></div></figure><p id="3e10" class="pw-post-body-paragraph ju jv ir jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ik bi translated">我只包含了我的组件的一部分。但应该足以代表正在发生的事情。在我的<code class="fe kt ku kv kw b">handleOnClick()</code>函数中，我用线索的措辞打开了一个<code class="fe kt ku kv kw b">modal</code>。然后我运行一个<code class="fe kt ku kv kw b">for</code>循环来分配<code class="fe kt ku kv kw b">clue</code>值。高亮线表示通过<code class="fe kt ku kv kw b">window</code>进入<code class="fe kt ku kv kw b">responsiveVoice.speak</code>功能。结果是当模态打开时，<code class="fe kt ku kv kw b">object.description</code>被访问并被大声读出。</p><p id="f948" class="pw-post-body-paragraph ju jv ir jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ik bi translated">旁注我知道那里有很多丑陋的代码。我还在为不同的情况写它。但是这展示了我们如何在没有包的情况下包含一个JS文件，并且能够在我们的项目中使用它。</p><p id="b6cf" class="pw-post-body-paragraph ju jv ir jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ik bi translated">好了，现在我们已经学到了一些新的东西，并将这些知识融入到一个项目中，是时候</p><figure class="kx ky kz la gu jr"><div class="bz fq l di"><div class="lq jt l"/></div></figure><p id="11d4" class="pw-post-body-paragraph ju jv ir jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ik bi translated">如果有人有任何不同的建议或做事方式。我洗耳恭听。请在下方留下评论。在我写下一篇博客之前，我会离开这里。拜拜。</p><figure class="kx ky kz la gu jr"><div class="bz fq l di"><div class="lr jt l"/></div></figure></div></div>    
</body>
</html>