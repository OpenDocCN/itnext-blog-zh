<html>
<head>
<title>TypeScript Utility Types Explained</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">解释的TypeScript实用工具类型</h1>
<blockquote>原文：<a href="https://itnext.io/typescript-utility-types-explained-6584b0306bd1?source=collection_archive---------4-----------------------#2021-05-17">https://itnext.io/typescript-utility-types-explained-6584b0306bd1?source=collection_archive---------4-----------------------#2021-05-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="ca4b" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">以打字打的文件</h2><div class=""/><div class=""><h2 id="540e" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">部分、必需、只读、挑选、省略、记录、非空、提取、排除类型</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/e17c5b355c27def6e49bcb31ab973e10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*odFz-3kzLNHGjrgf"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated"><a class="ae lh" href="https://unsplash.com/@badashproducts?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Ash Edmonds </a>在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="8821" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在TypeScript中，有多种内置实用工具(默认)类型。知道它们的存在是件好事，因为它们在某些情况下很方便。有些比其他的更容易理解。我将用简单明了的方式来解释它们，这样每个人都能理解。</p><h2 id="b634" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">1-部分</h2><p id="e15e" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">第一个是<code class="fe nb nc nd ne b">Partial</code>，这可以使一个类型中的所有属性都是可选的，而这些属性原本应该是必需的。</p><pre class="ks kt ku kv gt nf ne ng nh aw ni bi"><span id="759c" class="me mf it ne b gy nj nk l nl nm">type Worker = {<br/>  name: string;<br/>  profession: string;<br/>}</span><span id="4b42" class="me mf it ne b gy nn nk l nl nm">// Not defining 'profession' is allowed<br/>const worker: Partial&lt;Worker&gt; = {<br/>  name: 'Jeroen' <br/>}</span></pre><h2 id="3547" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">2 —必需</h2><p id="0077" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">Partial的反义词是<code class="fe nb nc nd ne b">Required</code>，它不是让属性可选，而是让属性必选。</p><pre class="ks kt ku kv gt nf ne ng nh aw ni bi"><span id="b030" class="me mf it ne b gy nj nk l nl nm">type Worker = {<br/>  name?: string;<br/>  profession?: string;<br/>}</span><span id="62b8" class="me mf it ne b gy nn nk l nl nm">// You should defining 'name' and 'profession'<br/>const worker: Required&lt;Worker&gt; = {<br/>  name: 'Jeroen',<br/>  profession: 'Developer',<br/>}</span></pre><h2 id="fc7a" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">3-只读</h2><p id="7464" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">使用<code class="fe nb nc nd ne b">Readonly</code>，你可以防止属性被重新分配。</p><pre class="ks kt ku kv gt nf ne ng nh aw ni bi"><span id="b69f" class="me mf it ne b gy nj nk l nl nm">type Worker = {<br/>  name: string;<br/>  profession: string;<br/>}</span><span id="48f1" class="me mf it ne b gy nn nk l nl nm">const worker: Readonly&lt;Worker&gt; = {<br/>  name: 'Jeroen',<br/>  profession: 'Developer',<br/>}</span><span id="5a7c" class="me mf it ne b gy nn nk l nl nm">worker.name = 'Bob'; // Not allowed</span></pre><h2 id="ed85" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">4 —选择</h2><p id="99d3" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">一个更高级的实用程序类型是<code class="fe nb nc nd ne b">Pick</code>，它可以用来包含一些属性。</p><pre class="ks kt ku kv gt nf ne ng nh aw ni bi"><span id="4c76" class="me mf it ne b gy nj nk l nl nm">type Worker = {<br/>  name: string;<br/>  profession: string;<br/>  isWorking: boolean;<br/>}</span><span id="ed99" class="me mf it ne b gy nn nk l nl nm">// Only 'name' and 'isWorking' are included<br/>const worker: Pick&lt;Worker, 'name' | 'isWorking'&gt; = {<br/>  name: 'Jeroen',<br/>  isWorking: true,<br/>}</span></pre><h2 id="e7c8" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">5 —省略</h2><p id="cc15" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">与选择类型相反的方式叫做<code class="fe nb nc nd ne b">Omit</code>，你排除你不想使用的属性。</p><pre class="ks kt ku kv gt nf ne ng nh aw ni bi"><span id="5e5c" class="me mf it ne b gy nj nk l nl nm">type Worker = {<br/>  name: string;<br/>  profession: string;<br/>  isWorking: boolean;<br/>}</span><span id="a58b" class="me mf it ne b gy nn nk l nl nm">// 'profession' is now excluded<br/>const worker: Omit&lt;Worker, 'profession'&gt; = {<br/>  name: 'Jeroen',<br/>  isWorking: true,<br/>}</span></pre><h2 id="b837" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">6 —记录</h2><p id="56ac" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated"><code class="fe nb nc nd ne b">Record</code>类型允许您定义一个对象，其中键的类型与其属性值不同。</p><pre class="ks kt ku kv gt nf ne ng nh aw ni bi"><span id="af9c" class="me mf it ne b gy nj nk l nl nm">type Worker = 'developer' | 'architect'<br/>type Person = { name: string }</span><span id="f3da" class="me mf it ne b gy nn nk l nl nm">// a worker object has now 'developer' or 'architect' as keys<br/>const worker: Record&lt;Worker, Person&gt; = {<br/>  'developer': { name: 'Jeroen' },<br/>  'architect': { name: 'Bob' },<br/>}</span></pre><h2 id="885b" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">7-不可空</h2><p id="d4c1" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">从您的值中排除<code class="fe nb nc nd ne b">null</code>和<code class="fe nb nc nd ne b">undefined</code>的一个简单方法是使用<code class="fe nb nc nd ne b">NonNullable</code>类型。</p><pre class="ks kt ku kv gt nf ne ng nh aw ni bi"><span id="47b5" class="me mf it ne b gy nj nk l nl nm">// Returns only 'Jeroen'<br/>const worker: NonNullable&lt;'Jeroen', undefined, null&gt;;</span></pre><h2 id="9c51" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">8 —摘录</h2><p id="01fa" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">在这种情况下，要提取<code class="fe nb nc nd ne b">keyof</code>类型的值，您可以使用<code class="fe nb nc nd ne b">Extract</code>来只包含存在于两种给定类型中的键。</p><pre class="ks kt ku kv gt nf ne ng nh aw ni bi"><span id="2eec" class="me mf it ne b gy nj nk l nl nm">type Worker = {<br/>  name: string;<br/>  age: string;<br/>  isWorking: boolean<br/>}</span><span id="0869" class="me mf it ne b gy nn nk l nl nm">type Person = {<br/>  name: string;<br/>  age: string;<br/>}</span><span id="fa73" class="me mf it ne b gy nn nk l nl nm">// 'name' or 'age' is both in type Person and Worker therefore only allowed <br/>const worker: Extract&lt;keyof Worker, keyof Person&gt; = 'name' || 'age';</span></pre><h2 id="a206" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">9-排除</h2><p id="c3e1" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">在这种情况下，要再次排除<code class="fe nb nc nd ne b">keyof</code>类型的值，您可以使用<code class="fe nb nc nd ne b">Exclude</code>来排除在两个给定类型中重复的键。</p><pre class="ks kt ku kv gt nf ne ng nh aw ni bi"><span id="78e4" class="me mf it ne b gy nj nk l nl nm">type Worker = {<br/>  name: string;<br/>  age: string;<br/>  isWorking: boolean<br/>}</span><span id="4324" class="me mf it ne b gy nn nk l nl nm">type Person = {<br/>  name: string;<br/>  age: string;<br/>}</span><span id="99e0" class="me mf it ne b gy nn nk l nl nm">// 'isWorking' is not in type Person and therefor only allowed <br/>const worker: Exclude&lt;keyof Worker, keyof Person&gt; = 'isWorking';</span></pre></div></div>    
</body>
</html>