<html>
<head>
<title>Flutter login with Firebase (email link/password-less)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Firebase的Flutter登录(电子邮件链接/无密码)</h1>
<blockquote>原文：<a href="https://itnext.io/flutter-passwordless-login-with-firebase-8cb085c4fb67?source=collection_archive---------0-----------------------#2020-04-05">https://itnext.io/flutter-passwordless-login-with-firebase-8cb085c4fb67?source=collection_archive---------0-----------------------#2020-04-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="6fc6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">与Firebase (MBaaS)的集成，Flutter与Firebase认证配合得非常好</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/9293ea5c53b09604499bb62d46f6627b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4xlAL-eEXjv5wxr-2rF36g.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">通过电子邮件登录firebase flutter</figcaption></figure><h1 id="34c1" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><strong class="ak">先决条件</strong></h1><p id="a58b" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">要理解这篇文章，你必须具备:</p><ol class=""><li id="6618" class="me mf iq jp b jq jr ju jv jy mg kc mh kg mi kk mj mk ml mm bi translated">对颤振的基本理解，</li><li id="fb21" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated">对Firebase有基本的了解，</li><li id="f663" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated">对Dart有基本的了解，</li><li id="e141" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated">对Android移动开发有基本的了解</li></ol><h1 id="8d40" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><strong class="ak">这篇文章是写给谁的？</strong></h1><p id="b746" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">那些希望通过Android平台上的电子邮件链接在Flutter应用程序中学习使用Firebase无密码登录的人</p><blockquote class="ms mt mu"><p id="9bd4" class="jn jo mv jp b jq jr js jt ju jv jw jx mw jz ka kb mx kd ke kf my kh ki kj kk ij bi translated"><strong class="jp ir">注意:有一些关于FIREBASE账户的关键信息是我的个人信息，我已经把它们藏起来了。如果你看到一个红色的盒子里藏着一些细节，请DONT惊慌这是故意的</strong></p></blockquote><h2 id="c2f8" class="mz lc iq bd ld na nb dn lh nc nd dp ll jy ne nf lp kc ng nh lt kg ni nj lx nk bi translated"><strong class="ak">设置Firebase账户和数据库？</strong></h2><p id="f772" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">创建一个firebase项目，如果不熟悉，请阅读此链接。这篇文章是关于无密码登录的，所以我没有介绍与创建firebase帐户相关的步骤</p><div class="nl nm gp gr nn no"><a href="https://firebase.google.com/docs" rel="noopener  ugc nofollow" target="_blank"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd ir gy z fp nt fr fs nu fu fw ip bi translated">文档| Firebase</h2><div class="nv l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">Firebase SDK参考、集成指南、示例代码和库</h3></div><div class="nw l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">firebase.google.com</p></div></div><div class="nx l"><div class="ny l nz oa ob nx oc kv no"/></div></div></a></div><h1 id="b302" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">让我们开始吧，</h1><h1 id="ffd2" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">如何在Firebase中设置无密码登录？</h1><h2 id="6a63" class="mz lc iq bd ld na nb dn lh nc nd dp ll jy ne nf lp kc ng nh lt kg ni nj lx nk bi translated">这是一个分三步走的过程，</h2><p id="8f8f" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated"><strong class="jp ir">第一步:</strong>在firebase中设置签到方式，确保勾选邮箱签到(匿名签到可选)，看看下面的截图，</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi od"><img src="../Images/5dd82c5c6d6b438aa3591cf3084a197c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FSAaLBjw9xuS9JMsLepNeQ.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">设置动态链接firebase颤振</figcaption></figure><p id="7e69" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">步骤2: </strong>在firebase中设置动态链接，按照所有说明填写以下所有详细信息，并输入相关详细信息</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi od"><img src="../Images/5cb8fa74a26b0a94388d2337e41ddbe5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mp7ceQvluM8Y_x0S5F9B7A.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">设置动态链接firebase颤振</figcaption></figure><p id="640c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">步骤3: </strong>在你的终端中运行下面的命令，从系统中找出SHA-1和SHA-256密钥</p><blockquote class="ms mt mu"><p id="dd15" class="jn jo mv jp b jq jr js jt ju jv jw jx mw jz ka kb mx kd ke kf my kh ki kj kk ij bi translated"><em class="iq"> keytool -list -v -keystore ~/。Android/debug . keystore-alias Android debug key-store pass Android-key pass Android</em></p></blockquote><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi oe"><img src="../Images/87826366a0fee56730965ef271a69df2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GI19jjRZybYVJ0SwKhRauA.png"/></div></div></figure><p id="12cf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">SHA-1和SHA-256的详细信息将在SHA证书指纹中给出，如下所示</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi of"><img src="../Images/6c474689153daa08f4fd07e2173f8866.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_k6WcAONy_q1iFEgGVCC9Q.png"/></div></div></figure><h1 id="6079" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">本演示中使用了哪些firebase_dynamic_links方法，我们应该使用哪些方法？</h1><p id="7802" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">我们需要仔细观察和使用三种方法，</p><ol class=""><li id="f3f9" class="me mf iq jp b jq jr ju jv jy mg kc mh kg mi kk mj mk ml mm bi translated"><code class="fe og oh oi oj b">getInitialLink()</code></li><li id="47c5" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated"><code class="fe og oh oi oj b">onLink()</code></li><li id="ce89" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated"><code class="fe og oh oi oj b">sendSignInWithEmailLink()</code></li></ol><blockquote class="ms mt mu"><p id="64ed" class="jn jo mv jp b jq jr js jt ju jv jw jx mw jz ka kb mx kd ke kf my kh ki kj kk ij bi translated">要接收动态链接，从<code class="fe og oh oi oj b"><em class="iq">FirebaseDynamicLinks</em></code>调用<code class="fe og oh oi oj b"><em class="iq">getInitialLink()</em></code>方法，该方法获取打开应用程序的链接(如果不是通过动态链接打开的，则为空),并在应用程序活动或在后台调用<code class="fe og oh oi oj b"><em class="iq">onLink</em></code>时为链接回调配置监听器。</p></blockquote><h1 id="dd6d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">在Flutter代码中如何设置无密码登录？</h1><h2 id="6259" class="mz lc iq bd ld na nb dn lh nc nd dp ll jy ne nf lp kc ng nh lt kg ni nj lx nk bi translated">这是一个两步的过程，</h2><p id="12b5" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated"><strong class="jp ir">步骤1: </strong>通过在pubspec.yaml文件中进行如下更改，在项目中设置Firebase动态链接。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ok"><img src="../Images/10276a0fc2c0150dcb9edd6e183b2dae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N2v0fAwRVE9gVRkNJ3vdqg.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">Firebase动态链接设置</figcaption></figure><blockquote class="ms mt mu"><p id="1d68" class="jn jo mv jp b jq jr js jt ju jv jw jx mw jz ka kb mx kd ke kf my kh ki kj kk ij bi translated">注意:在pubspec.yaml中进行任何依赖关系更改后，请确保在终端中运行flutter pub get命令</p></blockquote><p id="6d6b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">版本信息可以在这个链接中找到，在我写这篇博客的时候，所有的最新版本都被使用</p><div class="nl nm gp gr nn no"><a href="https://github.com/FirebaseExtended/flutterfire/blob/master/README.md" rel="noopener  ugc nofollow" target="_blank"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd ir gy z fp nt fr fs nu fu fw ip bi translated">扩展/扑火</h2><div class="nv l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">FlutterFire是一组Flutter插件，使Flutter应用程序能够使用Firebase服务。可以效仿一个例子…</h3></div><div class="nw l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">github.com</p></div></div><div class="nx l"><div class="ol l nz oa ob nx oc kv no"/></div></div></a></div><p id="c130" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">步骤2: </strong>设置代码并实现<code class="fe og oh oi oj b">getInitialLink()</code>方法，<code class="fe og oh oi oj b">onLink()</code>方法不在本文讨论范围内</p><p id="68a6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面给出了FirebaseHandler类的片段，展示了如何使用<code class="fe og oh oi oj b">getInitialLink(),</code> <code class="fe og oh oi oj b">sendSignInWithEmailLink</code>和<code class="fe og oh oi oj b">onLink()</code>，</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">firebase flutter无密码登录</figcaption></figure><p id="1289" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">FirebaseHandler类用于loginpage.dart类，如下所示</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">firebase颤振登录</figcaption></figure><p id="b8f2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">上面代码片段中的方法等待来自FirebaseHandler类的Future，任何逻辑(比如导航到另一个屏幕)都要在这里编写</p><p id="1159" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请看下面给出的main.dart文件，</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">通过电子邮件登录flutter firebase</figcaption></figure><h1 id="72b8" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">当应用不在app store上时，如何在开发过程中测试动态链接？</h1><p id="9d6c" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">当您收到电子邮件中的登录链接时，点击它并从控制台运行flutter应用程序，这将调用<code class="fe og oh oi oj b">getInitialLink()</code> <em class="mv"> </em>方法，您的动态链接逻辑将被执行</p><h1 id="b4a6" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">申请的流程是什么？</h1><ol class=""><li id="b72f" class="me mf iq jp b jq lz ju ma jy oo kc op kg oq kk mj mk ml mm bi translated">将显示登录屏幕(单击使用电子邮件登录按钮)</li><li id="3fea" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated">输入有效的电子邮件并点击发送电子邮件按钮(电子邮件将被发送)</li><li id="6280" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated">打开你的邮箱，查看邮件，点击那里的链接</li><li id="c023" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated">将显示Google play store(由于该应用程序不在play store上，将显示一条消息，说明找不到该应用程序)</li><li id="6c21" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated">从应用程序终端运行命令flutter run</li><li id="bc03" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated">将安装应用程序，并调用<code class="fe og oh oi oj b">getDynamiClikData()</code>的处理程序(。然后准确地说是部分)</li></ol><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/83aaa7ab59e9525114ecfb047faf22d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*phrMxHMKxYvSE0NaugI9-g.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">无密码登录防火墙抖动认证</figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/5ad0b7d4499337daf23a1f6ebdafc18b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vWagVJ5Uo8v01ZLgccBgxw.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">无密码登录防火墙抖动认证</figcaption></figure><h1 id="a5bd" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">摘要</h1><p id="426c" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">我们刚刚看到了任何应用程序中的无密码登录如何与Firebase配合使用。Firebase是一款优秀的工具，全球许多初创公司都在使用它。</p></div></div>    
</body>
</html>