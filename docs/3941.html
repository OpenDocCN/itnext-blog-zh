<html>
<head>
<title>Android InboxStyle Notification As Deep As Possible</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">尽可能深入的Android收件箱通知</h1>
<blockquote>原文：<a href="https://itnext.io/android-inboxstyle-notification-as-deep-as-possible-4d74c0c725f1?source=collection_archive---------4-----------------------#2020-03-28">https://itnext.io/android-inboxstyle-notification-as-deep-as-possible-4d74c0c725f1?source=collection_archive---------4-----------------------#2020-03-28</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><figure class="gm go js jt ju jv gi gj paragraph-image"><div class="gi gj jr"><img src="../Images/b12f55aeffd830886ad95d28931aaf18.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*-pFpG2PiZwp-ugWK.gif"/></div></figure><p id="1200" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi kw translated"><span class="l kx ky kz bm la lb lc ld le di"> I </span> nboxStyle通知是Android官方提供的通知样式之一。在展开状态下，比折叠状态下多了几行用于向用户显示更多信息。与<code class="fe lf lg lh li b">BigTextStyle</code>通知不同，每一行被固定为一行，当内容太长时会在末尾被截断。示例用例是从收到的电子邮件中添加片段。</p><figure class="lk ll lm ln gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gi gj lj"><img src="../Images/65d51c75575cb0af10063b8475ef34d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HzkhcG8mKBlt8xLqOjO5lQ.png"/></div></div><figcaption class="ls lt gk gi gj lu lv bd b be z dk translated">收件箱通知的剖析</figcaption></figure><p id="cbbb" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">在<code class="fe lf lg lh li b">InboxSytle</code>通知中，有3个属性可以配置。他们是<code class="fe lf lg lh li b">BigContentTitle</code>、<code class="fe lf lg lh li b">SummaryText</code>和<code class="fe lf lg lh li b">line</code>。它们都可以通过有限的<code class="fe lf lg lh li b"><a class="ae lw" href="https://developer.android.com/guide/topics/resources/string-resource#StylingWithHTML" rel="noopener ugc nofollow" target="_blank">HTML</a></code> <a class="ae lw" href="https://developer.android.com/guide/topics/resources/string-resource#StylingWithHTML" rel="noopener ugc nofollow" target="_blank">标签</a>或<a class="ae lw" href="https://developer.android.com/guide/topics/resources/string-resource#StylingWithSpannables" rel="noopener ugc nofollow" target="_blank">span ables</a>来设计。</p><p id="13fe" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">在我研究<code class="fe lf lg lh li b">InboxStyle</code>的过程中，我意外地发现了一个Android文档问题，我已经将它提交给了<a class="ae lw" href="https://issuetracker.google.com/issues/152430539" rel="noopener ugc nofollow" target="_blank"> Google Issue Tracker </a>，并将它包含在本文的后面部分。开始吧！</p></div><div class="ab cl lx ly hy lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="in io ip iq ir"><h1 id="7168" class="me mf iu bd mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb bi translated">一体化代码</h1><figure class="lk ll lm ln gu jv"><div class="bz fq l di"><div class="nc nd l"/></div></figure><h2 id="eead" class="ne mf iu bd mg nf ng dn mk nh ni dp mo kj nj nk ms kn nl nm mw kr nn no na np bi translated">1.BigContentTitle (CharSequence)</h2><figure class="lk ll lm ln gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gi gj nq"><img src="../Images/cacc6b754085c354449ed77280fb7f10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fVT7IcAEhUwd5h8TCY8GJA.png"/></div></div><figcaption class="ls lt gk gi gj lu lv bd b be z dk translated">BigContentTitle的位置</figcaption></figure><p id="3f0f" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">此<code class="fe lf lg lh li b">BigContentTitle</code>仅在BigText通知为<strong class="ka iv">展开</strong>时显示。它替代了在通知构建器中设置的<code class="fe lf lg lh li b">contentTitle</code>(参见上面示例代码的第27行)。</p><h2 id="d3ec" class="ne mf iu bd mg nf ng dn mk nh ni dp mo kj nj nk ms kn nl nm mw kr nn no na np bi translated">2.SummaryText(字符序列)</h2><figure class="lk ll lm ln gu jv gi gj paragraph-image"><div class="gi gj nr"><img src="../Images/ce994f97f0f972f52ff9ce90a40b5c73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*VtvfRfjSP3rMrfUJ33l0wA.png"/></div><figcaption class="ls lt gk gi gj lu lv bd b be z dk translated">摘要文本的位置</figcaption></figure><p id="cac0" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">这是显示在应用程序名称和通知的时间(时间)属性之间的补充文本。</p><blockquote class="ns nt nu"><p id="9dbe" class="jy jz nv ka b kb kc kd ke kf kg kh ki nw kk kl km nx ko kp kq ny ks kt ku kv in bi translated"><em class="iu">记住这个</em> <code class="fe lf lg lh li b"><em class="iu">summaryText</em></code> <em class="iu">被</em> <code class="fe lf lg lh li b"><em class="iu">NotificationBuilder</em></code> <em class="iu">的</em> <code class="fe lf lg lh li b"><em class="iu">subText</em></code> <em class="iu">覆盖。参见上面显示的示例代码的第31行。</em></p></blockquote><h2 id="f6ac" class="ne mf iu bd mg nf ng dn mk nh ni dp mo kj nj nk ms kn nl nm mw kr nn no na np bi translated">3.线条</h2><figure class="lk ll lm ln gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gi gj nz"><img src="../Images/d3a045c8a12235333b44d1ff2c18893a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lSUW-Qfz9p7F3XN19ofH3A.png"/></div></div><figcaption class="ls lt gk gi gj lu lv bd b be z dk translated">线的位置</figcaption></figure><p id="369b" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">每一行由一个单独的<code class="fe lf lg lh li b">TextView</code>代表，并固定成单行。当文本太长时，会在末尾被截断。</p><p id="824a" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">在不同的官方文档页面上，对线的限制存在差异。这个<a class="ae lw" href="https://developer.android.com/training/notify-user/expanded#inbox-style" rel="noopener ugc nofollow" target="_blank">官方页面</a>说明限制为6，而<a class="ae lw" href="https://developer.android.com/reference/android/app/Notification.InboxStyle" rel="noopener ugc nofollow" target="_blank">另一个</a>说明限制为5。那么哪个是正确的呢？</p><figure class="lk ll lm ln gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gi gj oa"><img src="../Images/98ea3811f2d5c40ed065a36ce2a8e974.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xICvi1od35jeO9k9tutTew.png"/></div></div><figcaption class="ls lt gk gi gj lu lv bd b be z dk translated">通知创建<a class="ae lw" href="https://developer.android.com/training/notify-user/expanded#inbox-style" rel="noopener ugc nofollow" target="_blank">正式文档</a></figcaption></figure><figure class="lk ll lm ln gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gi gj ob"><img src="../Images/5f14573f5859e5b4cfd946ece877d230.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qsu2USmaaWbUxeecjJaD4w.png"/></div></div><figcaption class="ls lt gk gi gj lu lv bd b be z dk translated">通知。收件箱样式<a class="ae lw" href="https://developer.android.com/reference/android/app/Notification.InboxStyle" rel="noopener ugc nofollow" target="_blank">正式文档</a></figcaption></figure><p id="6c5f" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">我在研究<code class="fe lf lg lh li b">InboxStyle</code>的时候被这些文献搞糊涂了。于是，我决定通读<code class="fe lf lg lh li b">InboxStyle</code> <a class="ae lw" href="https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/app/Notification.java" rel="noopener ugc nofollow" target="_blank">开源代码</a>，最终找出一个神秘的答案——最大行数居然是7！</p><figure class="lk ll lm ln gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gi gj oc"><img src="../Images/30d1bf6fe44411a7419d699a95e965a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RfN2FUhCuJSj4Tajy1gexQ.png"/></div></div></figure><p id="0451" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">从第7879行开始，调用了<code class="fe lf lg lh li b">makeBigContentView</code>函数来构建通知展开状态的视图。在第7884行，<code class="fe lf lg lh li b">rowIds</code>数组由一组7个视图id构成，每个id指向一个<code class="fe lf lg lh li b">TextView</code>。此时此刻，我很好奇最大行数是不是7。运行以下代码后，第8行没有显示出来，这证实了我的怀疑。</p><figure class="lk ll lm ln gu jv"><div class="bz fq l di"><div class="nc nd l"/></div></figure><figure class="lk ll lm ln gu jv gi gj paragraph-image"><div class="gi gj od"><img src="../Images/6fcec0d7d514c9f265d5cac622611cf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*lgei1TYnGzhIngVPEUlong.png"/></div></figure><p id="0010" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">那么，我们可以说最大行数是"<strong class="ka iv">总是</strong> " 7吗？不要！我们来看看7898线。最大行数必须减少1，以便释放空间来显示一行操作按钮。</p><figure class="lk ll lm ln gu jv gi gj paragraph-image"><div class="gi gj oe"><img src="../Images/5cc29f8577a9e6e4763a956eaf27b095.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*UFw6qK68XG6Iu9Un6T7CqA.png"/></div></figure><p id="68ce" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">参见以下代码:</p><figure class="lk ll lm ln gu jv"><div class="bz fq l di"><div class="nc nd l"/></div></figure><figure class="lk ll lm ln gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gi gj of"><img src="../Images/e50cc795c193b912b971725ee38f0ac5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bZaj156VGe0pQ5wS34xOjg.png"/></div></div><figcaption class="ls lt gk gi gj lu lv bd b be z dk translated">带有操作按钮的屏幕截图</figcaption></figure><p id="df4d" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">有没有更没有记录的情况，最大行数不是6也不是7？是的，它是添加的远程输入历史的数量。参见第7901行到第7922行的代码。：</p><figure class="lk ll lm ln gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gi gj og"><img src="../Images/5b0c02b37ec52029d4349b89fbfeab81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H-KIsiEyInMNcBG5VowhfQ.png"/></div></div></figure><figure class="lk ll lm ln gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gi gj oh"><img src="../Images/b578b7d7d4dfc0e9b80ca64277d3b696.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DtMLBlKvCJ7VzQih1ij-Zg.png"/></div></div><figcaption class="ls lt gk gi gj lu lv bd b be z dk translated">显示NUMBER _ OR _ HISTORY _ ALLOWED _ UNTIL _ REDUCTION值的源代码</figcaption></figure><figure class="lk ll lm ln gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gi gj oi"><img src="../Images/25d9f19f66790a9c0ea144730a68aff1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1qMhbd8OVSQVYqQW-PYZxA.png"/></div></div><figcaption class="ls lt gk gi gj lu lv bd b be z dk translated">显示MAX _ REMOTE _ INPUT _ HISTOYR _ LINES值的源代码</figcaption></figure><p id="9527" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">这些代码意味着当有2个以上的远程输入历史时，最大行数将减少。此外，最多只能同时显示3个远程输入历史。</p><p id="0a15" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">以下是验证代码和结果截图:</p><figure class="lk ll lm ln gu jv"><div class="bz fq l di"><div class="nc nd l"/></div></figure><figure class="lk ll lm ln gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gi gj oj"><img src="../Images/3a9824d8fc120babfdf3328782ee46ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-huyUeaJWOB5mVP_iX0jtA.png"/></div></div><figcaption class="ls lt gk gi gj lu lv bd b be z dk translated">只有1个远程输入历史时的屏幕截图</figcaption></figure><figure class="lk ll lm ln gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gi gj oj"><img src="../Images/dc0fdf2d715bbbca4ee407d7408921fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d6ZgVa2tQH1-wME8YtUfZw.png"/></div></div><figcaption class="ls lt gk gi gj lu lv bd b be z dk translated">只有2个远程输入历史时的屏幕截图</figcaption></figure><figure class="lk ll lm ln gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gi gj oj"><img src="../Images/4cc48f59c80ce5dda46361dd3ad92026.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qH7e0GIVA5grN0rjMoA41A.png"/></div></div><figcaption class="ls lt gk gi gj lu lv bd b be z dk translated">只有3个远程输入历史时的屏幕截图</figcaption></figure><p id="8dd8" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">总之，要显示的最大行数取决于操作按钮的存在和显示的远程历史记录的数量。自从我在2020年写这篇文章以来，这个文档问题已经提交给<a class="ae lw" href="https://issuetracker.google.com/issues/152430539" rel="noopener ugc nofollow" target="_blank"> Google问题跟踪者</a>。请参见下表中的简短摘要:</p><figure class="lk ll lm ln gu jv gi gj paragraph-image"><div class="gi gj ok"><img src="../Images/417a6c23af4137a1f2b24122f855341d.png" data-original-src="https://miro.medium.com/v2/resize:fit:918/format:webp/1*DIkxSwOyjk-RCzpUi6FfSQ.png"/></div></figure></div><div class="ab cl lx ly hy lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="in io ip iq ir"><h1 id="d142" class="me mf iu bd mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb bi translated">文本样式</h1><figure class="lk ll lm ln gu jv gi gj paragraph-image"><div class="gi gj ol"><img src="../Images/a8902bfafb89b6001ebbf65231308850.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*voAoUadP6KUG4oXiqtqVYA.png"/></div></figure><figure class="lk ll lm ln gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gi gj om"><img src="../Images/57c5b5d77e6840de435a697c87735c16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ketBq-vvDqCBjYlzKwAc2w.png"/></div></div></figure><p id="92d8" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">通知中的所有文本都可以通过HTML标签手动设置样式，这在<a class="ae lw" href="https://developer.android.com/training/notify-user/expanded#large-style" rel="noopener ugc nofollow" target="_blank">官方文档</a>中有正式建议。这里有一个例子:</p><figure class="lk ll lm ln gu jv"><div class="bz fq l di"><div class="nc nd l"/></div></figure><p id="6703" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">然而，除了建议的方法之外，文本也可以用<code class="fe lf lg lh li b">Spanned</code>进行样式化，因为所有设置文本的函数都接受<code class="fe lf lg lh li b">CharSequence</code>作为参数。这里有一个例子:</p><figure class="lk ll lm ln gu jv"><div class="bz fq l di"><div class="nc nd l"/></div></figure><p id="ce95" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">要了解有关样式通知的更多信息，请参考以下文章:</p><div class="on oo gq gs op oq"><a href="https://medium.com/@myrickchow32/android-notification-styling-cc6b0bb86021" rel="noopener follow" target="_blank"><div class="or ab fp"><div class="os ab ot cl cj ou"><h2 class="bd iv gz z fq ov fs ft ow fv fx it bi translated">Android通知样式</h2><div class="ox l"><h3 class="bd b gz z fq ov fs ft ow fv fx dk translated">通知是通知用户新信息的常用工具。你有没有想过设计它的内容…</h3></div><div class="oy l"><p class="bd b dl z fq ov fs ft ow fv fx dk translated">medium.com</p></div></div><div class="oz l"><div class="pa l pb pc pd oz pe jw oq"/></div></div></a></div></div><div class="ab cl lx ly hy lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="in io ip iq ir"><h1 id="774a" class="me mf iu bd mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb bi translated">想了解更多关于Android通知的信息:</h1><h2 id="548e" class="ne mf iu bd mg nf ng dn mk nh ni dp mo kj nj nk ms kn nl nm mw kr nn no na np bi translated">1.自定义通知</h2><div class="on oo gq gs op oq"><a rel="noopener  ugc nofollow" target="_blank" href="/android-custom-notification-in-6-mins-c2e7e2ddadab"><div class="or ab fp"><div class="os ab ot cl cj ou"><h2 class="bd iv gz z fq ov fs ft ow fv fx it bi translated">Android自定义通知在6分钟内完成</h2><div class="ox l"><h3 class="bd b gz z fq ov fs ft ow fv fx dk translated">定制通知可以包含比默认通知样式提供的更多奇特的小部件。让我们点击…</h3></div><div class="oy l"><p class="bd b dl z fq ov fs ft ow fv fx dk translated">itnext.io</p></div></div><div class="oz l"><div class="pf l pb pc pd oz pe jw oq"/></div></div></a></div><p id="ab47" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated"><strong class="ka iv"> 2。安卓通知一体机</strong></p><div class="on oo gq gs op oq"><a rel="noopener  ugc nofollow" target="_blank" href="/android-notification-all-in-one-8df3e1218e0e"><div class="or ab fp"><div class="os ab ot cl cj ou"><h2 class="bd iv gz z fq ov fs ft ow fv fx it bi translated">安卓通知一体机</h2><div class="ox l"><h3 class="bd b gz z fq ov fs ft ow fv fx dk translated">在21世纪，通知已经成为每个人日常生活的一部分。作为一个Android开发者，最好多了解一些…</h3></div><div class="oy l"><p class="bd b dl z fq ov fs ft ow fv fx dk translated">itnext.io</p></div></div><div class="oz l"><div class="pg l pb pc pd oz pe jw oq"/></div></div></a></div><p id="1c4c" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated"><strong class="ka iv"> 3。大文本系统通知</strong></p><div class="on oo gq gs op oq"><a rel="noopener  ugc nofollow" target="_blank" href="/android-notification-bigtextstyle-bd35f7530eae"><div class="or ab fp"><div class="os ab ot cl cj ou"><h2 class="bd iv gz z fq ov fs ft ow fv fx it bi translated">Android通知BigTextStyle尽可能深</h2><div class="ox l"><h3 class="bd b gz z fq ov fs ft ow fv fx dk translated">通知是普通app常见的。当内容太长时，总是使用BigTextStyle。让我们看看技巧和…</h3></div><div class="oy l"><p class="bd b dl z fq ov fs ft ow fv fx dk translated">itnext.io</p></div></div><div class="oz l"><div class="ph l pb pc pd oz pe jw oq"/></div></div></a></div><h2 id="ce21" class="ne mf iu bd mg nf ng dn mk nh ni dp mo kj nj nk ms kn nl nm mw kr nn no na np bi translated">4.BigPictureStyle通知</h2><div class="on oo gq gs op oq"><a rel="noopener  ugc nofollow" target="_blank" href="/android-notification-bigpicturestyle-1f293e6cabaf"><div class="or ab fp"><div class="os ab ot cl cj ou"><h2 class="bd iv gz z fq ov fs ft ow fv fx it bi translated">Android通知BigPictureStyle尽可能深</h2><div class="ox l"><h3 class="bd b gz z fq ov fs ft ow fv fx dk translated">当您希望在通知行显示图像时，可以使用BigPictureStyle通知。这里有一些提示和…</h3></div><div class="oy l"><p class="bd b dl z fq ov fs ft ow fv fx dk translated">itnext.io</p></div></div><div class="oz l"><div class="pi l pb pc pd oz pe jw oq"/></div></div></a></div></div><div class="ab cl lx ly hy lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="in io ip iq ir"><h1 id="3600" class="me mf iu bd mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb bi translated">摘要</h1><ol class=""><li id="f5d3" class="pj pk iu ka b kb pl kf pm kj pn kn po kr pp kv pq pr ps pt bi translated"><code class="fe lf lg lh li b">InboxStyle</code>通知用于添加多个简短的汇总行。示例用例是电子邮件通知。</li><li id="a850" class="pj pk iu ka b kb pu kf pv kj pw kn px kr py kv pq pr ps pt bi translated"><code class="fe lf lg lh li b">BigContentTitle</code>、<code class="fe lf lg lh li b">summaryText</code>和<code class="fe lf lg lh li b">line</code>是<code class="fe lf lg lh li b">InboxStyle</code>通知中的可定制属性。都是简单的<code class="fe lf lg lh li b">TextView</code>显示单行信息。</li><li id="462e" class="pj pk iu ka b kb pu kf pv kj pw kn px kr py kv pq pr ps pt bi translated">在<code class="fe lf lg lh li b">InboxStyle</code>通知中显示的<code class="fe lf lg lh li b">line</code>的最大数量在官方网站中被错误地记录，实际上取决于操作按钮的存在和显示的远程历史的数量。范围从3到7。</li><li id="aa33" class="pj pk iu ka b kb pu kf pv kj pw kn px kr py kv pq pr ps pt bi translated">通知中的所有文本都可以通过HTML标签和<code class="fe lf lg lh li b">Spanned</code>来设置样式。</li></ol></div><div class="ab cl lx ly hy lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="in io ip iq ir"><h1 id="0ae2" class="me mf iu bd mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb bi translated">参考</h1><ol class=""><li id="6183" class="pj pk iu ka b kb pl kf pm kj pn kn po kr pp kv pq pr ps pt bi translated"><strong class="ka iv">安卓通知开源代码</strong></li></ol><div class="on oo gq gs op oq"><a href="https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/app/Notification.java" rel="noopener  ugc nofollow" target="_blank"><div class="or ab fp"><div class="os ab ot cl cj ou"><h2 class="bd iv gz z fq ov fs ft ow fv fx it bi translated">Google上的core/Java/Android/app/notification . Java-platform/frameworks/base-Git</h2><div class="ox l"><h3 class="bd b gz z fq ov fs ft ow fv fx dk translated">android /平台/框架/基础/主/。/core/Java/Android/app/Notification.java</h3></div><div class="oy l"><p class="bd b dl z fq ov fs ft ow fv fx dk translated">android.googlesource.com</p></div></div></div></a></div><p id="206d" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated"><strong class="ka iv"> 2。如何创建可扩展通知的官方文档</strong></p><div class="on oo gq gs op oq"><a href="https://developer.android.com/training/notify-user/expanded#inbox-style" rel="noopener  ugc nofollow" target="_blank"><div class="or ab fp"><div class="os ab ot cl cj ou"><h2 class="bd iv gz z fq ov fs ft ow fv fx it bi translated">创建可扩展通知| Android开发者</h2><div class="ox l"><h3 class="bd b gz z fq ov fs ft ow fv fx dk translated">基本通知通常包括一个标题、一行文本以及用户可以在…中执行的一个或多个操作</h3></div><div class="oy l"><p class="bd b dl z fq ov fs ft ow fv fx dk translated">developer.android.com</p></div></div><div class="oz l"><div class="pz l pb pc pd oz pe jw oq"/></div></div></a></div><p id="0e4c" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated"><strong class="ka iv"> 3。收件箱风格的官方文档</strong></p><div class="on oo gq gs op oq"><a href="https://developer.android.com/reference/android/app/Notification.InboxStyle" rel="noopener  ugc nofollow" target="_blank"><div class="or ab fp"><div class="os ab ot cl cj ou"><h2 class="bd iv gz z fq ov fs ft ow fv fx it bi translated">通知。收件箱风格| Android开发人员</h2><div class="ox l"><h3 class="bd b gz z fq ov fs ft ow fv fx dk translated">AccessibilityServiceMagnificationController . OnMagnificationChangedListener</h3></div><div class="oy l"><p class="bd b dl z fq ov fs ft ow fv fx dk translated">developer.android.com</p></div></div><div class="oz l"><div class="qa l pb pc pd oz pe jw oq"/></div></div></a></div></div><div class="ab cl lx ly hy lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="in io ip iq ir"><p id="29a8" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">欢迎您关注我，在<a class="ae lw" href="https://twitter.com/myrick_chow" rel="noopener ugc nofollow" target="_blank">Twitter @ my rik _ chow</a>获取更多信息和文章。感谢您阅读这篇文章。祝您愉快！😄</p></div></div>    
</body>
</html>