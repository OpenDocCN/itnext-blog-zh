<html>
<head>
<title>Laravel and Vue: Creating a Portfolio website with a CRUD admin panel — Chapter 21</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Laravel和Vue:用CRUD管理面板创建作品集网站——第21章</h1>
<blockquote>原文：<a href="https://itnext.io/laravel-and-vue-creating-a-portfolio-website-with-a-crud-admin-panel-chapter-21-868e648fcae7?source=collection_archive---------8-----------------------#2020-04-13">https://itnext.io/laravel-and-vue-creating-a-portfolio-website-with-a-crud-admin-panel-chapter-21-868e648fcae7?source=collection_archive---------8-----------------------#2020-04-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f3c1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">vue-路由器和公共主页</h2></div><h1 id="2d57" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">Vue路由器</h1><p id="624a" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我们已经看到拉弗尔有路由文件，web.php和api.php。Vue也有路由，但是只有在我们安装了<strong class="lc iu">路由器的情况下，使用vue进行路由才是可能的(这里的</strong>路由器指的是路由器包，而不是硬件<strong class="lc iu">)。</strong></p><p id="e069" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">Vue的路由器有很多，Vue的官方路由器叫Vue-Router。让我们安装它:</p><p id="cb34" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们应该转到终端/cmd并键入:</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="a9d1" class="mk kj it mg b gy ml mm l mn mo">npm i vue-router</span></pre><p id="b2a7" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">这将把vue-router下载到项目中。我们可以通过检查<strong class="lc iu"> node_modules </strong>文件夹来验证这一点，其中应该有一个名为vue-router的文件夹。</p><p id="7d99" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">现在我们需要编写路由代码。</p><h2 id="bd7f" class="mk kj it bd kk mp mq dn ko mr ms dp ks lj mt mu ku ln mv mw kw lr mx my ky mz bi translated">写路由👅 🔀</h2><p id="ff85" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">在这里，我们创建一个名为router.js的文件。我们用下面几行开始这个文件:</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="58f1" class="mk kj it mg b gy ml mm l mn mo"><em class="na">import </em>Vue <em class="na">from </em>"vue";<br/><br/><em class="na">import </em>VueRouter <em class="na">from </em>"vue-router";</span></pre><p id="bf20" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">上述两行是第三行工作所必需的，即:</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="a5c7" class="mk kj it mg b gy ml mm l mn mo">Vue.use(VueRouter);</span></pre><p id="6921" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">这当然使我们能够使用VueRouter。您可以通过创建一个路由器实例来使用它，即<code class="fe nb nc nd mg b">new VueRouter()</code>，在VueRouter实例中有一个对象{}，这样就形成了第四行:</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="145c" class="mk kj it mg b gy ml mm l mn mo"><em class="na">new </em>VueRouter({});</span></pre><figure class="mb mc md me gt nf gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/313b4e7a80db110b8ff28556baa729b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:928/format:webp/1*bEqfXNs10Thdsk8z2pFrhA.png"/></div></figure><p id="c796" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">在VueRouter的对象中，应该有一个名为<strong class="lc iu"> routes </strong>的数组[]</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="d252" class="mk kj it mg b gy ml mm l mn mo"><em class="na">new </em>VueRouter({<br/>    routes: []<br/>});</span></pre><p id="a6cc" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">在routes数组中，将会有对象{}。这些对象将定义路线。</p><p id="5de4" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">让我们将下面的对象放在routes数组中。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="541e" class="mk kj it mg b gy ml mm l mn mo">{<br/>    path: '/',<br/>},</span></pre><figure class="mb mc md me gt nf gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/7bb5d06712072e6aea6c259be4f03480.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*Aza7OcA-09EF85EslVsfsQ.png"/></div></figure><p id="fa99" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">该路径需要分配一个vue组件。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="1766" class="mk kj it mg b gy ml mm l mn mo">{<br/>    path: '/',<br/>    component: Home<br/>},</span></pre><p id="8639" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们必须创建并导入组件。此组件需要导入到VueRouter实例之上(新的VueRouter)</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="9549" class="mk kj it mg b gy ml mm l mn mo"><em class="na">import </em>Home <em class="na">from </em>'./public/home.vue';</span></pre><p id="e104" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">现在，我们的router.js文件应该如下所示:</p><figure class="mb mc md me gt nf gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi nj"><img src="../Images/3cd9d3667003b427139f99431264d157.png" data-original-src="https://miro.medium.com/v2/resize:fit:970/format:webp/1*3EBnK40PiekuDrKmUjfyRQ.png"/></div></div></figure><p id="023d" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">下一步是导出VueRouter实例，以便可以在创建我们的vue应用程序的文件<strong class="lc iu"> app.js </strong>中使用。</p><p id="8f0a" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">为了导出实例，我们将它分配给一个<strong class="lc iu">常量</strong>和<strong class="lc iu">导出</strong>常量</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="dd61" class="mk kj it mg b gy ml mm l mn mo"><em class="na">import </em>Vue <em class="na">from </em>"vue";<br/><br/><em class="na">import </em>VueRouter <em class="na">from </em>"vue-router";<br/>Vue.use(VueRouter);<br/><em class="na">import </em>Home <em class="na">from </em>'./public/home.vue';<br/><br/><strong class="mg iu"><em class="na">const </em>router</strong> = <em class="na">new </em>VueRouter({<br/>    routes: [<br/>        {<br/>            path: '/',<br/>            component: Home<br/>        }<br/>    ]<br/>});<br/><br/><strong class="mg iu"><em class="na">export default </em>router;</strong></span></pre><p id="e57c" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们可以看到，在<code class="fe nb nc nd mg b"><strong class="lc iu">new VueRouter</strong></code>之前，有<code class="fe nb nc nd mg b"><strong class="lc iu">const router =</strong></code> <strong class="lc iu"> </strong>，然后使用行<code class="fe nb nc nd mg b"><strong class="lc iu">export default router</strong></code>导出这个常量；</p><p id="d7ae" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated"><strong class="lc iu">我们可以看到，要编写路由文件，我们必须做到以下几点:</strong></p><ol class=""><li id="c0c9" class="no np it lc b ld lw lg lx lj nq ln nr lr ns lv nt nu nv nw bi translated">导入Vue</li><li id="8612" class="no np it lc b ld nx lg ny lj nz ln oa lr ob lv nt nu nv nw bi translated">导入VueRouter</li><li id="ae5f" class="no np it lc b ld nx lg ny lj nz ln oa lr ob lv nt nu nv nw bi translated">Vue.use(VueRouter)</li><li id="3506" class="no np it lc b ld nx lg ny lj nz ln oa lr ob lv nt nu nv nw bi translated">创建一个包含对象的VueRouter实例(<code class="fe nb nc nd mg b"><strong class="lc iu">new VueRouter({});</strong></code>)</li><li id="3e85" class="no np it lc b ld nx lg ny lj nz ln oa lr ob lv nt nu nv nw bi translated">在VueRouter实例中创建一个routes数组</li><li id="02d7" class="no np it lc b ld nx lg ny lj nz ln oa lr ob lv nt nu nv nw bi translated">在路线数组中创建对象。这些对象定义路线。</li><li id="86c1" class="no np it lc b ld nx lg ny lj nz ln oa lr ob lv nt nu nv nw bi translated">在路线定义对象中有<code class="fe nb nc nd mg b"><strong class="lc iu">path </strong></code>和<code class="fe nb nc nd mg b"><strong class="lc iu">component</strong></code> <strong class="lc iu"> </strong>。</li><li id="411d" class="no np it lc b ld nx lg ny lj nz ln oa lr ob lv nt nu nv nw bi translated">创建并导入一个Vue组件，并将其用作<code class="fe nb nc nd mg b"><strong class="lc iu">component</strong></code>的值</li><li id="d81a" class="no np it lc b ld nx lg ny lj nz ln oa lr ob lv nt nu nv nw bi translated">将VueRouter实例分配给一个<strong class="lc iu">常量</strong>并将其导出(导出默认路由器)</li></ol></div><div class="ab cl oc od hx oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="im in io ip iq"><h2 id="f219" class="mk kj it bd kk mp mq dn ko mr ms dp ks lj mt mu ku ln mv mw kw lr mx my ky mz bi translated">导入router.js</h2><p id="1d95" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">现在，我们应该打开<strong class="lc iu"> app.js </strong>，我们的代码应该更改为包含router.js文件:</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="0d0e" class="mk kj it mg b gy ml mm l mn mo">require('./bootstrap');<br/><br/>window.Vue = require('vue');<br/><br/><em class="na">import </em>App <em class="na">from </em>'./App.vue';<br/><em class="na">import </em>router <em class="na">from </em>'./router.js';<br/><br/><em class="na">const </em>app = <em class="na">new </em>Vue({<br/>    el: '#app',<br/>    render: h =&gt; h(App),<br/>    router<br/>});</span></pre><h2 id="a008" class="mk kj it bd kk mp mq dn ko mr ms dp ks lj mt mu ku ln mv mw kw lr mx my ky mz bi translated">使用<router-view/>进行路由</h2><p id="18bc" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">如果我们在浏览器中运行应用程序，我们可以看到屏幕上显示了<strong class="lc iu"> App.vue </strong>的内容。</p><p id="2a65" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">App.vue的<code class="fe nb nc nd mg b"><strong class="lc iu">template </strong></code>需要更改如下:</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="06c7" class="mk kj it mg b gy ml mm l mn mo">&lt;template&gt;<br/>    &lt;router-view/&gt;<br/>&lt;/template&gt;</span></pre><p id="019a" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated"><code class="fe nb nc nd mg b"><strong class="lc iu">&lt;router-view/&gt;</strong></code>元素显示被路由的组件。</p><p id="6eeb" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">现在是时候在公共主页上工作了</p><h1 id="dd3f" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">公共主页</h1><p id="fb71" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">公共主页将是一个单页网站，这意味着所有的元素都需要堆叠。</p><figure class="mb mc md me gt nf gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi oj"><img src="../Images/5813c5461c580590ae994ce30521dbc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Mj6-8kn_6qdKVIXl.jpg"/></div></div></figure><p id="7453" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">public/home.vue的模板元素应该如下所示:</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="ef8f" class="mk kj it mg b gy ml mm l mn mo">&lt;template&gt;<br/>    &lt;div <em class="na">id</em>="public-home"&gt;<br/>        &lt;masthead <em class="na">:profile</em>="profile"/&gt;<br/>        &lt;portfolio/&gt;<br/>        &lt;about/&gt;<br/>        &lt;contact/&gt;<br/>        &lt;footerComp/&gt;<br/>    &lt;/div&gt;<br/>&lt;/template&gt;</span></pre><p id="53b3" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">元件必须导入并包含在元件块中。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="3898" class="mk kj it mg b gy ml mm l mn mo">&lt;script&gt;<br/>    <em class="na">import </em>masthead <em class="na">from </em>"./sections/masthead";<br/>    <em class="na">import </em>Portfolio <em class="na">from </em>"./sections/Portfolio";<br/>    <em class="na">import </em>About <em class="na">from </em>"./sections/About";<br/>    <em class="na">import </em>Contact <em class="na">from </em>"./sections/Contact";<br/>    <em class="na">import </em>FooterComp <em class="na">from </em>"./sections/Footer";<br/>    <em class="na">export default </em>{<br/>        name: "home",<br/>        components: {<br/>            masthead,<br/>            Portfolio,<br/>            About,<br/>            Contact,<br/>            FooterComp<br/>        },<br/>        data() {<br/>            <em class="na">return </em>{<br/>                profile: {<br/>                    type:Object<br/>                }<br/>            }<br/>        },<br/>        mounted() {<br/>            <em class="na">this</em>.getProfile();<br/>        },<br/>        methods: {<br/>            getProfile() {<br/>                axios.get('/api/profile')<br/>                    .then(response =&gt; {<br/>                        <em class="na">this</em>.profile = response.data;<br/>                    })<br/>                    .catch(error =&gt; {<br/>                        console.log(error);<br/>                    });<br/>            },<br/>        }<br/>    }<br/>&lt;/script&gt;</span></pre></div><div class="ab cl oc od hx oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="im in io ip iq"><p id="d98e" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">在下一章，我们将在管理主页上工作，并添加一个登录系统，这样你就可以在使用任何编辑器组件之前登录。</p><p id="77b0" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">到时候见。</p></div></div>    
</body>
</html>