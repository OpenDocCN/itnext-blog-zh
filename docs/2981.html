<html>
<head>
<title>Service Mesh Management a Breeze with SuperGloo &amp; Service Mesh Hub</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">借助SuperGloo和服务网格中心，服务网格管理变得轻而易举</h1>
<blockquote>原文：<a href="https://itnext.io/service-mesh-management-a-breeze-with-supergloo-service-mesh-hub-ffbcee280f2e?source=collection_archive---------3-----------------------#2019-09-10">https://itnext.io/service-mesh-management-a-breeze-with-supergloo-service-mesh-hub-ffbcee280f2e?source=collection_archive---------3-----------------------#2019-09-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/c04cc4c98270e7e04e4e5afc4f66a289.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uDMYvqCNV39AAIBmhcPsxQ.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">简化的服务网格操作和流程编排</figcaption></figure><div class=""/><p id="0b55" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">服务网格空间是一个迅速出现的技术和商业机会，目前有大量的选项可供选择，将来还会有更多的选项。这对于应用程序开发人员来说可能听起来令人兴奋，但是转向网格技术的开发人员必须选择一个提供者并直接编写这些API。因此，开发人员被束缚在服务网格实现中。没有通用接口，开发人员将失去可移植性、灵活性，并限制他们从广泛的生态系统创新中获益的能力。</p><p id="c44a" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">SuperGloo项目提供了一个抽象层来统一和自动化从安装到运营的任何网格的管理生命周期，无论最终用户是从一个或多个提供商为其环境选择单个还是多个集群网格。这为多网格体系结构打开了大门，在这种体系结构中，同一组织内的不同组或同一集群上的同一用户可能喜欢不同的服务网格产品，而这些产品最适合他们的特定需求和使用情形。SuperGloo具有API,用于分别使用“安装”和“网格”配置对象来安装和发现服务网格的能力。</p><p id="5495" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">超级格洛进化成了一个通晓多种语言的人。任何服务网格都可以通过与入口控制器集成来受益于这种架构，以便对北/南和东/西流量进行组合管理，并允许用户将任何服务网格与具有SuperGloo处理安装和配置的任何入口配对。最近，Solo.io宣布了另一个名为“服务网状中枢”的项目，该项目使用网络门户简化了SuperGloo，并实现了一个类似市场的平台，便于供应商提供他们的产品作为扩展。</p><p id="5953" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">服务网格枢纽<a class="ae la" href="http://medium.com/solo-io/introducing-the-service-mesh-hub-everything-you-need-for-your-service-mesh-environment-679225a566b0" rel="noopener">源于<a class="ae la" href="https://github.com/solo-io/supergloo" rel="noopener ugc nofollow" target="_blank"> SuperGloo </a>的</a>发布，统一了服务网格生命周期管理。该中心建立在SuperGloo之上，为服务网格技术的协作和管理提供了一个集中的场所。</p><h1 id="2d7c" class="lb lc jf bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">SuperGloo API规范并扩展到CRD的Kubernetes</h1><p id="2926" class="pw-post-body-paragraph kc kd jf ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">SuperGloo是用Solo-Kit 生成的代码构建的，它为编写基于事件的系统提供了一个框架。每个实体(如路由、网格等。)来管理多个服务网格体系结构是一个go-proto，它将数据结构转换为协议缓冲区的有线格式，或者从有线格式转换数据结构。</p><p id="a795" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">用户可以使用“同步程序”来扩展SuperGloo的功能。与“翻译器”一起工作的同步功能负责执行一些动作，以响应用户配置或一些发现的信息的改变。如下所示，所有的api扩展都是通过使用Kubernetes-CRD的来提供给Kubernetes环境的。</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi me"><img src="../Images/be3586a9b6144ecbfd49d42e12d1e4fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9ziCReJOC3bm5yY6zYFMuA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">安装基础架构以使用SuperGloo安装多个服务网格</figcaption></figure><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mj"><img src="../Images/ae6b2eacc1f17370d70cee0cf81e8efd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3pY-07e9Myi-sBh2S37D1Q.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">使用SuperGloo API管理多个服务网格提供商</figcaption></figure><h1 id="be28" class="lb lc jf bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">超级Gloo组件</h1><h2 id="48dc" class="mk lc jf bd ld ml mm dn lh mn mo dp ll kn mp mq lp kr mr ms lt kv mt mu lx mv bi translated">超级Gloo CLI </h2><p id="f5b1" class="pw-post-body-paragraph kc kd jf ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">SuperGloo提供了一套全面的CLI来安装SuperGloo本身、安装服务网格、注册现有网格并操作它们。</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mw"><img src="../Images/00db3e406718a22ee8265dd312a85fe0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p3c8mMZpLz08O1gWGT64Kg.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">SuperGloo CLI</figcaption></figure><p id="58bf" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">Kubernetes上的SuperGloo安装基于使用“supergloo init”或通过Helm的单一命令:</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mx"><img src="../Images/1a1269b5fd428076db74699fb6be9263.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h5yu7_w7z_3c8THvbyjzIg.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">超级Gloo安装</figcaption></figure><h2 id="714f" class="mk lc jf bd ld ml mm dn lh mn mo dp ll kn mp mq lp kr mr ms lt kv mt mu lx mv bi translated">控制器</h2><p id="ada7" class="pw-post-body-paragraph kc kd jf ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">SuperGloo控制平面包括三个组件，部署为Kubernetes部署。</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div class="gh gi my"><img src="../Images/a9cc506f7021d340afc6ca26adb74fa5.png" data-original-src="https://miro.medium.com/v2/resize:fit:948/format:webp/1*nkvwmRqxdEvZKDm-PoqSNw.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">超级Gloo控制平面</figcaption></figure><ol class=""><li id="4dba" class="mz na jf ke b kf kg kj kk kn nb kr nc kv nd kz ne nf ng nh bi translated">超级Gloo控制器</li></ol><p id="14c7" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">观察事件，维护用户配置或发现的配置中的事件循环，并管理配置同步。</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ni"><img src="../Images/2f1e95848bea3d7ab662dca53012eb63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*50Vre2LvZxeZVf3gFbGbLA.png"/></div></div></figure><p id="81c0" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">2.网格发现</p><p id="85db" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">观察现有网格和安装了SuperGloo的网格。网格发现提供了发现在部署了网格发现的集群中运行的服务网格的能力。</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nj"><img src="../Images/663072be3768f632e12929733d356b70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yZZM3mCPaJ17KpZfCmEkJQ.png"/></div></div></figure><p id="5a4a" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">3.发现</p><p id="0d4b" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">发现服务是本机Gloo的功能发现机制，它可以自动发现功能，以方便路由。</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nk"><img src="../Images/789fb51e1224bb95635acf7939b63abf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QHE2gCpLceBleTbD5w5o1Q.png"/></div></div></figure><h1 id="179f" class="lb lc jf bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用SuperGloo安装和管理Istio</h1><p id="8299" class="pw-post-body-paragraph kc kd jf ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">一旦SuperGloo如上所示被初始化，具有配置参数的安装CRD将可用于触发SuperGloo安装网格。</p><p id="028d" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">Istio可以使用SuperGloo CLI(或)通过YAML配置片段安装，该配置片段使用Kubectl(本地Kubernetes创建对象的方式)应用</p><h2 id="532c" class="mk lc jf bd ld ml mm dn lh mn mo dp ll kn mp mq lp kr mr ms lt kv mt mu lx mv bi translated">使用SuperGloo CLI安装Istio</h2><pre class="mf mg mh mi gt nl nm nn no aw np bi"><span id="5b1b" class="mk lc jf nm b gy nq nr l ns nt">supergloo install istio --name istio --installation-namespace istio-system --mtls=true --auto-inject=true</span></pre><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nu"><img src="../Images/cdee9bb9c0655f328b5988a7924f502c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6_rcuC_k3m0ljODdOY6HEg.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">Istio安装选项— SuperGloo CLI</figcaption></figure><h2 id="3898" class="mk lc jf bd ld ml mm dn lh mn mo dp ll kn mp mq lp kr mr ms lt kv mt mu lx mv bi translated">使用YAML安装Istio超级CRD</h2><figure class="mf mg mh mi gt is gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/da78bce70b5da8be41f2cdac068801a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:654/format:webp/1*tNEG2v7BlCVqpnADnuF3Dw.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">Istio装置— YAML</figcaption></figure><p id="7b8e" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">以上任何一种方法都可以无缝安装所有Istio组件。</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/578e99351dec696ea245d545bd6b66df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/format:webp/1*--d3J-9VnY1k9TVktco0QA.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">Istio已安装— SuperGloo</figcaption></figure><p id="58b1" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">SuperGloo控制器发现、同步和转换所有本机Istio对象，如下所示:</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nk"><img src="../Images/a2b8c58431cbe90c9f2e014bd2928e84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KRIqJ10_UyhbMvLkXFGc2Q.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">超级网格发现</figcaption></figure><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nx"><img src="../Images/d21a577ac27d139224a345c6e70cc33e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7WufMVjrauwqzmF7_XdlQg.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">SuperGloo控制器同步Istio组件</figcaption></figure><h1 id="da9c" class="lb lc jf bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用SuperGloo配置Istio:</h1><p id="754d" class="pw-post-body-paragraph kc kd jf ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">SuperGloo使用户能够配置和管理安装在任何Istio功能之上的Istio，如流量转移、提供认证机构、故障注入等。可以在交互和非交互模式下使用SuperGloo CLI轻松配置。</p><h2 id="03bc" class="mk lc jf bd ld ml mm dn lh mn mo dp ll kn mp mq lp kr mr ms lt kv mt mu lx mv bi translated">配置流量转移Istio-SuperGloo</h2><p id="2493" class="pw-post-body-paragraph kc kd jf ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">以Bookinfo应用程序为例，使用SuperGloo配置典型的流量转移配置。用户可以使用SuperGloo CLI配置流量转换规则，而无需提供Istio配置。SuperGloo无缝地将所有需要的规则转换为Istio，从而提供一个统一的控制实体来管理用户服务网格(在这个场景中为Istio)。</p><p id="4eb7" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在这个例子(Bookinfo)中，review包括三个版本:v1、v2、v3。由于没有指定路由规则，书评在黑色、红色和根本不显示之间交替。</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ny"><img src="../Images/d66bd3070c592a3c2e79e7c0c238ec87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZnAcRoEwAZAcNLPS5Pma3Q.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">Bookinfo应用示例</figcaption></figure><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nz"><img src="../Images/38e8eec28e02490b9f8fad1c36f153c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7-1HU7HrlE4v3SAySwMh6w.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">版本化审查— v1、v2、v3</figcaption></figure><p id="35c2" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在交互模式下配置流量转移规则，将所有流量转移到Reviews-V3:</p><pre class="mf mg mh mi gt nl nm nn no aw np bi"><span id="1de7" class="mk lc jf nm b gy nq nr l ns nt">$ supergloo apply routingrule trafficshifting --interactive</span></pre><ol class=""><li id="66de" class="mz na jf ke b kf kg kj kk kn nb kr nc kv nd kz ne nf ng nh bi translated">命名routing_rule并选择名称空间:</li></ol><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi oa"><img src="../Images/de40ca216808e6a9530e48a9b874b8d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z-prOzAw1IWpfbD4VTpA7g.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">交互模式—命名空间和名称</figcaption></figure><p id="607d" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">2.配置源和目的选择器:</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ob"><img src="../Images/8e27d97c73601a3f9dff0bd408319a31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OXG3iBzCUR1lufXrsbUM8Q.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">配置选择器</figcaption></figure><p id="c1a9" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">3.选择上游:</p><p id="9df2" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">Discovery通过以下方式创建Kubernetes服务的上游:</p><ul class=""><li id="437c" class="mz na jf ke b kf kg kj kk kn nb kr nc kv nd kz oc nf ng nh bi translated">对于每个kubernetes服务</li><li id="cceb" class="mz na jf ke b kf od kj oe kn of kr og kv oh kz oc nf ng nh bi translated">对于服务上的每个端口</li><li id="2bb4" class="mz na jf ke b kf od kj oe kn of kr og kv oh kz oc nf ng nh bi translated">对于在支持该服务的pod上找到的标签的每个唯一子集，创建一个名为<code class="fe oi oj ok nm b">&lt;service-namespace&gt;-&lt;service-name&gt;-&lt;label-values&gt;-&lt;service-port&gt;</code>的上游</li></ul><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ol"><img src="../Images/20ac5acdc9ac2638672b3449c21a1e91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pnw9oUJ_OPTdUulQ7IfhnA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">选择要关联的上游</figcaption></figure><p id="3233" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">4.选择目标网格:</p><p id="6a5a" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">SuperGloo支持并发现环境中的多个网格。例如，Istio和Linkerd可以在同一个Kubernetes集群上共存，配置可以跨网格无缝隔离。</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi om"><img src="../Images/24c8123fd540716bb36a2ba6b0d12e7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XXigt2H5-uqF4ZuhwLCVXw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">指定目标网格</figcaption></figure><p id="ecd8" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">5.选择上游将流量转移到:</p><p id="cfe3" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在这个例子中选择“评论-v3”</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi on"><img src="../Images/49c5d3769240281dbc4731e2d24a9b5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LfYu65JwY1OSodiFuN38YA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">流量转移目的地</figcaption></figure><p id="3a19" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这将创建一个路由规则，将100%的流量转移到reviews-v3。此处指定的权重参数为“1”，如下所示:</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi oo"><img src="../Images/cd346ebc4cd62ee4251cd16312ecfd31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qchS4Gn2OokY7lxRWf2yKw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">使用SuperGloo创建的路由规则</figcaption></figure><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi op"><img src="../Images/598887787f2f24567c556f14e5903faf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bdrpelfJENUQh5Qh_mDvug.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">规则实施将所有流量转移到reviews-v3</figcaption></figure><p id="2a4f" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">上述配置创建了一个路由规则，并将其作为虚拟服务转换/同步到istio-system名称空间中的Istio:</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi oq"><img src="../Images/845506d8d7ce8cba306be67b2203bd84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JZ6CbqjHWsyy0IzA4lGUcw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">SuperGloo路由规则对象</figcaption></figure><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi or"><img src="../Images/dee373afec8d6c48550a8d637589c8c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PzGNTQ4rt9fsgv2C1_fwsA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">Istio虚拟服务对象</figcaption></figure><p id="fc7d" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">上述配置也可以在非交互模式下完成，也可以通过Kubectl应用的YAML配置文件来完成。</p><pre class="mf mg mh mi gt nl nm nn no aw np bi"><span id="8b39" class="mk lc jf nm b gy nq nr l ns nt">supergloo apply routingrule trafficshifting <strong class="nm jg">\<br/></strong>    --name reviews-v3 <strong class="nm jg">\<br/></strong>    --dest-upstreams supergloo-system.default-reviews-9080 <strong class="nm jg">\<br/></strong>    --target-mesh supergloo-system.istio-istio-system <strong class="nm jg">\<br/></strong>    --destination supergloo-system.default-reviews-v2-9080:1 <strong class="nm jg">\<br/></strong>    --destination supergloo-system.default-reviews-v3-9080:1</span></pre><p id="538d" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如上所述，用户可以使用SuperGloo无缝地配置各种特定于Istio的结构，而无需提供任何特定于Istio的信息。集群中的所有上游都是使用SuperGloo发现自动发现的。</p><h1 id="510f" class="lb lc jf bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用SuperGloo管理多个服务网格(Isito、Linkerd ):</h1><p id="12d4" class="pw-post-body-paragraph kc kd jf ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">SuperGloo支持在同一个集群中安装和运行多个网格的多个入口。例如，使用Istio和Linkerd的集群，SuperGloo可以发现网格，用户可以在应用任何配置时选择目标网格。</p><p id="c480" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在带有Istio的同一集群上安装带有SuperGloo的Linkerd:</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div class="gh gi os"><img src="../Images/b81d175d10630eeb33aab447c7efa56e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1330/format:webp/1*9VxcGH8ltGTikp9eQkCQHQ.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">安装link erd-super gloo</figcaption></figure><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ot"><img src="../Images/a1412c362af7a6b4203a0ff090d61fba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B7Oqdn-2kxWStnuRpuvofA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">安装Linkerd-YAML</figcaption></figure><p id="ae44" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">SuperGloo mesh发现，发现Istio和Linkerd:</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/85ccbfa2ccb959b5f2c9ec878570efd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*WAZHMtim47HB2S3GBz00DQ.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">多重网状发现—超级Gloo</figcaption></figure><p id="2903" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">选择目标网格，在具有多个网格的环境中使用SuperGloo将配置应用到特定网格。</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ov"><img src="../Images/13572b468ac89b0d5cce1c6bb2217ad5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gqi_CEv_NG94xQ25NFB7ZA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">目标网格选择SuperGloo</figcaption></figure><h1 id="9327" class="lb lc jf bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">服务网状集线器</h1><p id="019b" class="pw-post-body-paragraph kc kd jf ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">该中心建立在SuperGloo之上，为服务网格技术的协作和管理提供了一个集中的场所。服务网格中心是一个仪表板，它允许用户在一个门户中管理和操作有关网格的一切。除了服务网格之外，服务网格中心还提供了一个扩展目录，其中列出了可用于向网格添加更多功能的工具。</p><p id="6a1f" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">扩展空间是一个集中的地方，让公司添加他们正在使用的不同服务网格工具，了解网格内发生的交互，并从一种扩展应用商店为每个工具添加扩展。</p><p id="e6ac" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">安装服务网状集线器还会安装上一节中讨论的所有SuperGloo组件。除了SuperGloo组件之外，还部署了两个额外的组件:SMM-ui——服务网格集线器web门户和SMM-API server——与SuperGloo交互。</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/7705325a3edcc35f72df7643a0cc3f43.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/format:webp/1*iawxnvYVku5JyoSuPvj3jA.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">服务网状集线器组件</figcaption></figure><p id="82d6" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">服务网格集线器Web-UI包括三个标签:网格—可以使用SMH安装的各种支持的服务网格提供程序，2。扩展—各种扩展可供用户随已安装的服务网格和3一起安装。演示——提供者提供演示，用户可以使用这些演示来理解工作模式和架构(实际操作)。</p><p id="3bd7" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jg">扩展</strong></p><p id="d27c" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">Service Mesh Hub使开发人员能够编写和分发新的服务网格扩展，解决与强制执行依赖关系要求和基于已部署到集群的网格定制安装清单相关的问题。</p><h2 id="d0ae" class="mk lc jf bd ld ml mm dn lh mn mo dp ll kn mp mq lp kr mr ms lt kv mt mu lx mv bi translated">使用服务网格集线器安装服务网格和扩展</h2><p id="8005" class="pw-post-body-paragraph kc kd jf ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">通过服务网格中心门户安装服务网格:</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ox"><img src="../Images/6c82b3ec6260c1b6d927ece04a88e9e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3gEjhsGbSNmfTUieewD7LA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">从服务网状网络中心安装网状网络—门户网站</figcaption></figure><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi oy"><img src="../Images/dd985c4b061df053a156edaae8229b1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bSo8R3a7mMIPLRofc5JLhw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">服务网状网络中心的网状网络状态—门户网站</figcaption></figure><p id="0c2f" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">服务网格集线器允许在同一个集群中安装多个网格。如下所示，Linkerd也可以安装在同一个集群上:</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi oz"><img src="../Images/cd849572ad4fce77bf3408626d983842.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oI0Odl2TJoK91h2pT0YNbQ.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">Linkerd和Istio与服务网状集线器一起安装</figcaption></figure><p id="ae8e" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">安装与已安装的服务网格兼容的扩展:</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pa"><img src="../Images/325b4d4b788195da2f744c5aa1248563.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YSk7a10ST45ubFhtFDlCJw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">扩展目录</figcaption></figure><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi oy"><img src="../Images/ed79f7ea985db0f615d66a250a0f7b29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K1H9SulIMT8h4aaTT2wNfg.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">网格扩展安装示例</figcaption></figure><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pb"><img src="../Images/103b25bb710badd3fa26ada9a90b8cd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qY8Z9-e_KmxExmazI-3q3Q.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">使用服务网状集线器安装的Istio扩展</figcaption></figure><p id="39bb" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">所有网格和扩展组件都将通过单击从指定名称空间下的Kubernetes集群上的服务网格中心无缝安装。</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pc"><img src="../Images/4ebdf9c139204bedb6f47b35917bf5be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*USoItOnO7S_zS845TJ1TDQ.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">使用服务网状集线器在Kubernetes集群上安装的Istio、Linkerd和其他Istio扩展</figcaption></figure></div><div class="ab cl pd pe hu pf" role="separator"><span class="pg bw bk ph pi pj"/><span class="pg bw bk ph pi pj"/><span class="pg bw bk ph pi"/></div><div class="ij ik il im in"><p id="6a3b" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">对于像服务网格这样蓬勃发展的技术来说，一个通用标准对于保持最佳的最终用户体验至关重要。这是SuperGloo背后的愿景——创建一个抽象层来保持不同网格之间的一致性。微软的服务网格中心旨在类似的框架。</p><p id="2844" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">另一方面，Service Mesh Hub提供统一的仪表板来安装、发现或操作任何网格，并提供扩展目录来构建、共享和安装扩展网格环境功能的工具。它建立在SuperGloo的基础功能之上，并对其进行了扩展，以提供出色的最终用户体验和生态系统协作。随着服务网格变得越来越主流，我们可以预计许多企业将会寻找一个平台来统一运营和管理。</p></div></div>    
</body>
</html>