<html>
<head>
<title>ListUic — easily build of list screen in Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ListUic——在Flutter中轻松构建列表屏幕</h1>
<blockquote>原文：<a href="https://itnext.io/listuic-easily-build-of-list-screen-in-flutter-ecbf690a35bd?source=collection_archive---------3-----------------------#2020-03-07">https://itnext.io/listuic-easily-build-of-list-screen-in-flutter-ecbf690a35bd?source=collection_archive---------3-----------------------#2020-03-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/34dacb33d7515298b21659b8750f2392.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7hg-CqBAMMLS75n7INQf8g.png"/></div></div></figure><p id="3024" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">几乎每个应用程序都有一个显示项目列表的屏幕。乍一看，这是一个简单的任务，Flutter framework为此提供了<strong class="ka ir"> ListView </strong>小部件。但是通常需要围绕它实现许多相关的东西。列表项加载时的进度指示器，空数据和错误的单独视图，拉动刷新和无限滚动。所有样板代码都可以用<strong class="ka ir"> ListUic </strong>小部件简化。</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi kw"><img src="../Images/37efd1054b6a27ede1e89a36ca380edb.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/1*jvvuqopZOgjwvuYT8sSqiw.gif"/></div><figcaption class="lb lc gj gh gi ld le bd b be z dk translated">从盒子里听出来</figcaption></figure><h1 id="1fdc" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">开始</h1><p id="b037" class="pw-post-body-paragraph jy jz iq ka b kb md kd ke kf me kh ki kj mf kl km kn mg kp kq kr mh kt ku kv ij bi translated"><strong class="ka ir"> ListUic </strong>是<code class="fe mi mj mk ml b">uic</code> (UI组件)包的一部分。</p><p id="a57d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">要在您的应用程序中使用它，请在您的<code class="fe mi mj mk ml b">pubspec.yaml</code>文件中添加以下依赖项:</p><pre class="kx ky kz la gt mm ml mn mo aw mp bi"><span id="1c0a" class="mq lg iq ml b gy mr ms l mt mu">dependencies:<br/>  <strong class="ml ir">uic: ^0.1.0</strong></span></pre><p id="127b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">并在文件中添加以下导入，这将使用<code class="fe mi mj mk ml b">ListUic</code>小部件:</p><pre class="kx ky kz la gt mm ml mn mo aw mp bi"><span id="f440" class="mq lg iq ml b gy mr ms l mt mu"><strong class="ml ir">import 'package:uic/list_uic.dart';</strong></span></pre><p id="a32b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> ListUic </strong>的用法简单如下:</p><p id="7c8e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">第一步:创建</strong>T3】</p><p id="ed25" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">列表控制器管理列表的状态。此外，我们将更详细地研究它。现在，让我们用基本的设置来创建它:</p><pre class="kx ky kz la gt mm ml mn mo aw mp bi"><span id="db8d" class="mq lg iq ml b gy mr ms l mt mu">class _MyHomePageState extends State&lt;MyHomePage&gt; {<br/>  <strong class="ml ir">ListUicController&lt;int&gt; _controller</strong>;<br/><br/>  @override<br/>  void initState() {<br/>    super.initState();<br/><strong class="ml ir">    _controller = ListUicController&lt;int&gt;(<br/><em class="mv">      </em>onGetItems: (int page) =&gt; _getItems(page),<br/><em class="mv">    </em>);<br/></strong>  }<br/>}</span></pre><p id="d626" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">假设我们的列表屏幕将有<em class="mv"> MyHomePage </em> stateful小部件。所以我们将在伴生的<em class="mv"> _MyHomePageState </em>类中定义一个<code class="fe mi mj mk ml b">_controller</code>变量。</p><p id="d6a1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> ListUicController </strong>类是一个泛型，我们必须在<em class="mv"> _controller </em>变量的声明中指定一个类型。这就是我们的列表将显示的对象类型。在这个例子中，列表数据是整数，所以我们使用<code class="fe mi mj mk ml b">int</code>作为类型。</p><p id="c108" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">接下来，在<em class="mv"> initState() </em>方法中，我们创建控制器对象。它的构造函数有唯一强制的<code class="fe mi mj mk ml b">onGetItems</code>参数。这是一个回调函数，控制器在需要为我们的列表加载数据时调用它。该函数有一个<code class="fe mi mj mk ml b">page</code>参数，必须返回一个<code class="fe mi mj mk ml b">Future&lt;List&lt;T&gt;&gt;</code>类型的值。</p><p id="2216" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果不使用分页，可以忽略<code class="fe mi mj mk ml b">page</code>参数，并实现该函数，这样它将立即返回全部数据。否则，该函数应返回指定页面的部分项目。</p><p id="aba2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们将在<strong class="ka ir">步骤3 </strong>中做一个<code class="fe mi mj mk ml b">_getItems(page)</code>的伪实现。在您真正的应用程序中，我猜实现将使用您的存储库来检索数据。</p><p id="0f12" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">第二步:将</strong> <code class="fe mi mj mk ml b"><strong class="ka ir">ListUic</strong></code> <strong class="ka ir"> widget添加到widget树</strong></p><pre class="kx ky kz la gt mm ml mn mo aw mp bi"><span id="a123" class="mq lg iq ml b gy mr ms l mt mu">@override<br/>  Widget build(BuildContext context) {<br/>    return Scaffold(<br/>      appBar: AppBar(<br/>        title: Text(widget.title),<br/>      ),<br/>      body: <strong class="ml ir">ListUic&lt;int&gt;(<br/>        controller: _controller,<br/>        itemBuilder: (item) {<br/>          return ListTile(<br/>            title: Text('Title ${item}'),<br/>            subtitle: Text('Subtitle ${item}'),<br/>          );<br/>        },<br/><em class="mv">      </em>),</strong><br/>    );<br/>  }</span></pre><p id="f10c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> ListUic </strong>类也是一个泛型，我们必须提供与控制器相同的<code class="fe mi mj mk ml b">int</code>类型，这是我们在<strong class="ka ir">步骤1 </strong>中创建的。</p><p id="5e92" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> ListUic </strong>小部件构造函数需要两个参数:</p><p id="58f8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mi mj mk ml b">controller</code> — <strong class="ka ir"> ListUicController </strong>对象。</p><p id="eae0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mi mj mk ml b">itemBuilder</code> —这是一个构建列表项小部件函数。它类似于<em class="mv"> ListView </em>小部件中的item builder，我敢肯定，这是你所熟悉的。但是与<em class="mv"> ListView </em>的项目生成器不同，这个函数有一个<code class="fe mi mj mk ml b">item</code>参数，它是一个列表项目对象。</p><p id="66b3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在本例中，项目构建器创建了一个简单的<em class="mv"> ListTile </em>小部件。</p><p id="1329" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ListUic 有各种各样的选项来定制它的外观。本文稍后将讨论它们。</p><p id="652e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">第三步:实现</strong> <code class="fe mi mj mk ml b"><strong class="ka ir">_getItems(page)</strong></code> <strong class="ka ir">功能</strong></p><p id="95a9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下面是返回假数据的实现:</p><pre class="kx ky kz la gt mm ml mn mo aw mp bi"><span id="d6be" class="mq lg iq ml b gy mr ms l mt mu">Future&lt;List&lt;int&gt;&gt; _getItems(int page) async {<br/>  print("_getItems(): page=$page");<br/>  await Future.delayed(Duration(seconds: 3));<br/>  List&lt;int&gt; result = List();<br/>  for (int i = 1; i &lt;= 10; i++) {<br/>    result.add((page - 1) * 10 + i);<br/>  }<br/>  return result;<br/>}</span></pre><p id="c1c1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它根据指定的页面返回数字列表。对于第1页，它将返回1、2、3、4、5、6、7、8、9、10，对于第2页，它将返回11、12、13、14、15、16、17、18、19、20等等。</p><p id="810b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当然，在真正的应用程序中，您将从网络或本地存储中加载项目，并且可能会使用存储库。</p><p id="856b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这就是开始使用ListUic所需的全部内容。有了这个基本设置，它将在数据加载时显示进度视图，执行数据加载，显示错误消息。用户将能够使用拉动刷新手势来重新加载数据，或者滚动到列表的末尾来加载下一页数据。</p><p id="7215" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可以在<strong class="ka ir"> UIC </strong>包库中找到示例app的完整代码:<a class="ae mw" href="https://github.com/ech89899/uic-flutter/blob/master/example/lib/main.dart" rel="noopener ugc nofollow" target="_blank">https://github . com/ech 89899/UIC-flutter/blob/master/example/lib/main . dart</a></p></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><h1 id="4399" class="lf lg iq bd lh li ne lk ll lm nf lo lp lq ng ls lt lu nh lw lx ly ni ma mb mc bi translated">自定义列表</h1><p id="df9e" class="pw-post-body-paragraph jy jz iq ka b kb md kd ke kf me kh ki kj mf kl km kn mg kp kq kr mh kt ku kv ij bi translated">在本节中，我们将了解如何定制<strong class="ka ir">列表和</strong>的外观和行为。</p><p id="9b86" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">空视图</strong></p><p id="fbff" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">初始数据加载时，<strong class="ka ir">列表</strong>显示特定的进度视图:</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi kw"><img src="../Images/6183451c9bc0faf05c903e5210bf7189.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/format:webp/1*zmIhoFBm85WcyIBk1Pg5kQ.png"/></div><figcaption class="lb lc gj gh gi ld le bd b be z dk translated">初始加载时的默认进度视图</figcaption></figure><p id="d5b2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以通过将以下参数添加到<strong class="ka ir"> ListUic </strong>构造函数来更改该默认视图中的文本:</p><pre class="kx ky kz la gt mm ml mn mo aw mp bi"><span id="8188" class="mq lg iq ml b gy mr ms l mt mu">        <strong class="ml ir">emptyProgressText:</strong> "Please wait...",</span></pre><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi kw"><img src="../Images/a485e472856765038ac2d6de158c152e.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/format:webp/1*UHCM2vHWVGmSF8ngaAJ5rg.png"/></div><figcaption class="lb lc gj gh gi ld le bd b be z dk translated">带有自定义文本的默认进度视图</figcaption></figure><p id="a88d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">或者在<code class="fe mi mj mk ml b">emptyProgressView</code>参数中指定您的自定义小部件来使用它，而不是默认的内置小部件:</p><pre class="kx ky kz la gt mm ml mn mo aw mp bi"><span id="ceb9" class="mq lg iq ml b gy mr ms l mt mu">        <strong class="ml ir">emptyProgressView:</strong> Center(<br/>          child: Text("Wait...",<br/>            style: Theme.of(context).textTheme.headline1,<br/>          ),<br/>        ),</span></pre><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi kw"><img src="../Images/2e96ac2b89bd279edb91cbf0699279de.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/format:webp/1*B3tGVjlSwXmR4H7DMVgDcQ.png"/></div><figcaption class="lb lc gj gh gi ld le bd b be z dk translated">初始加载时的自定义进度视图</figcaption></figure><p id="a59f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当您的列表中还没有任何项目时，它会显示空的数据视图。</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi kw"><img src="../Images/981b6d5f51d9cf5d12d5b2f0d6abc400.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/format:webp/1*gV38MprTyoJ7Mo5mcF3asg.png"/></div><figcaption class="lb lc gj gh gi ld le bd b be z dk translated">默认空视图</figcaption></figure><p id="e307" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以通过向<strong class="ka ir"> ListUic </strong>构造函数添加以下参数来更改该视图上的图标和/或文本:</p><pre class="kx ky kz la gt mm ml mn mo aw mp bi"><span id="769b" class="mq lg iq ml b gy mr ms l mt mu">        <strong class="ml ir">emptyDataIcon:</strong> Icon(Icons.refresh, size: 72.0, color: Colors.amberAccent),<br/>        <strong class="ml ir">emptyDataText:</strong> "You don't have any item",</span></pre><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi kw"><img src="../Images/98cfaf068af0c9214ef09cad60247448.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/format:webp/1*qcIi32quYFh2IyDkVZaw5w.png"/></div><figcaption class="lb lc gj gh gi ld le bd b be z dk translated">带有自定义图标和文本的默认空视图</figcaption></figure><p id="eba5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您想使用您的自定义视图而不是默认的内置视图，您可以在<code class="fe mi mj mk ml b">emptyDataView</code>参数中指定您的小部件:</p><pre class="kx ky kz la gt mm ml mn mo aw mp bi"><span id="2baa" class="mq lg iq ml b gy mr ms l mt mu">        <strong class="ml ir">emptyDataView:</strong> Center(<br/>          child: Text("Empty",<br/>            style: Theme.of(context).textTheme.headline1,<br/>          ),<br/>        ),</span></pre><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi kw"><img src="../Images/50eeb2fe4d68030fd88c39201459c5cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/format:webp/1*SR7W_kuUaMPUTFE9d2AyOg.png"/></div><figcaption class="lb lc gj gh gi ld le bd b be z dk translated">自定义空视图</figcaption></figure><p id="ea12" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果在初始数据加载期间发生错误，<strong class="ka ir"> ListUic </strong>显示错误视图:</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi kw"><img src="../Images/9240ceb30daf3c166c5e2b7dab87efe6.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/format:webp/1*Lp3NM4kAYct_KrtcixioyA.png"/></div><figcaption class="lb lc gj gh gi ld le bd b be z dk translated">初始加载时的默认错误视图</figcaption></figure><p id="dfc0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以在此默认视图中更改图标和/或文本:</p><pre class="kx ky kz la gt mm ml mn mo aw mp bi"><span id="7eba" class="mq lg iq ml b gy mr ms l mt mu">        <strong class="ml ir">emptyErrorIcon:</strong> Icon(Icons.error, size: 72.0, color: Colors.redAccent),<br/>        <strong class="ml ir">emptyErrorText:</strong> "Data loading failed",</span></pre><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi kw"><img src="../Images/84699e1435614c6eac56819c0ff10f6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/format:webp/1*IYltLfKy6tbfv8xK7nrSkg.png"/></div><figcaption class="lb lc gj gh gi ld le bd b be z dk translated">带有自定义图标和文本的默认错误视图</figcaption></figure><p id="5d0f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">或者提供您的自定义视图:</p><pre class="kx ky kz la gt mm ml mn mo aw mp bi"><span id="8170" class="mq lg iq ml b gy mr ms l mt mu">        <strong class="ml ir">emptyErrorView:</strong> Center(<br/>          child: Text("Failed",<br/>            style: Theme.of(context).textTheme.headline1,<br/>          ),<br/>        ),</span></pre><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi kw"><img src="../Images/2e2f76cd35ab04adeb8a6ea4f8a4d3db.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/format:webp/1*eyuQn-gZ9SACbyJtkhr96Q.png"/></div><figcaption class="lb lc gj gh gi ld le bd b be z dk translated">初始加载时的自定义错误视图</figcaption></figure><p id="4c50" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">逻辑行为</strong></p><p id="1d29" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如前所述，<strong class="ka ir">列表控制器</strong>负责管理<strong class="ka ir">列表控制器</strong>状态及其数据。它有几个参数，可以用来调整<strong class="ka ir"> ListUic </strong>的行为。</p><p id="5b6e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">默认情况下，<strong class="ka ir">列表框</strong>自动开始加载初始数据。要禁用此功能，将<code class="fe mi mj mk ml b">initialLoading</code>参数设置为<em class="mv">假:</em></p><pre class="kx ky kz la gt mm ml mn mo aw mp bi"><span id="344a" class="mq lg iq ml b gy mr ms l mt mu">_controller = ListUicController&lt;int&gt;(<br/>      onGetItems: (int page) =&gt; _getItems(page),<br/>      <strong class="ml ir">initialLoading: false,</strong><br/>    );</span></pre><p id="eb67" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以明确地提供初始数据:</p><pre class="kx ky kz la gt mm ml mn mo aw mp bi"><span id="8780" class="mq lg iq ml b gy mr ms l mt mu">_controller = ListUicController&lt;int&gt;(<br/>      <strong class="ml ir">items: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],</strong><br/>      onGetItems: (int page) =&gt; _getItems(page),<br/>    );</span></pre><p id="f2d5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您已经在<code class="fe mi mj mk ml b">items</code>参数中提供了初始数据，那么<strong class="ka ir">列表</strong>将不会进行初始加载，即使<code class="fe mi mj mk ml b">initialLoading</code>参数设置为<em class="mv">真</em>。</p><p id="d07f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> ListUic </strong>支持分页(或无限滚动)，默认开启。要禁用它，将<code class="fe mi mj mk ml b">allowPagination</code>设置为<em class="mv">假</em>:</p><pre class="kx ky kz la gt mm ml mn mo aw mp bi"><span id="e081" class="mq lg iq ml b gy mr ms l mt mu">_controller = ListUicController&lt;int&gt;(<br/>      onGetItems: (int page) =&gt; _getItems(page),<br/>      <strong class="ml ir">allowPagination: false,</strong><br/>    );</span></pre><p id="47ce" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">更多用户界面定制</strong></p><p id="e30d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">回到UI，让我们再看看几个<strong class="ka ir"> ListUic </strong>参数。</p><p id="feea" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当<strong class="ka ir"> ListUic </strong>加载下一页项目时，它会在列表的末尾显示一个进度指示器。<br/>您可以在<strong class="ka ir"> ListUic </strong>构造函数的<code class="fe mi mj mk ml b">nextPageProgressView</code>参数中指定您的自定义视图，以便在加载过程中显示:</p><pre class="kx ky kz la gt mm ml mn mo aw mp bi"><span id="36f0" class="mq lg iq ml b gy mr ms l mt mu">        <strong class="ml ir">nextPageProgressView:</strong> ProgressUic(<br/>          text: 'Loading...',<br/>          textLocation: ProgressUicTextLocation.right,<br/>        ),</span></pre><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi kw"><img src="../Images/5bc0f589fda8c2fb34b822f85ba524fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/format:webp/1*DeUWwwllklXsupJpCCrogA.png"/></div><figcaption class="lb lc gj gh gi ld le bd b be z dk translated">自定义下一页进度视图</figcaption></figure><p id="9882" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当加载数据过程中发生错误时，<strong class="ka ir">列表显示</strong>显示一条小吃店错误信息。</p><p id="24a8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以更改小吃店的背景颜色和消息文本:</p><pre class="kx ky kz la gt mm ml mn mo aw mp bi"><span id="5223" class="mq lg iq ml b gy mr ms l mt mu">        <strong class="ml ir">errorText:</strong> "Something went wrong",<br/>        <strong class="ml ir">errorColor:</strong> Colors.orangeAccent,</span></pre><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi kw"><img src="../Images/54aecdbc160ecb7799cc7e8601a727a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/format:webp/1*XeHpcgV_-PiuIJzu9Yl1Lg.png"/></div><figcaption class="lb lc gj gh gi ld le bd b be z dk translated">具有自定义颜色和文本的错误小吃店</figcaption></figure></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><h1 id="5f88" class="lf lg iq bd lh li ne lk ll lm nf lo lp lq ng ls lt lu nh lw lx ly ni ma mb mc bi translated">结论</h1><p id="ced7" class="pw-post-body-paragraph jy jz iq ka b kb md kd ke kf me kh ki kj mf kl km kn mg kp kq kr mh kt ku kv ij bi translated"><strong class="ka ir"> ListUic </strong> widget(列表UI组件)是<strong class="ka ir"> UIC </strong> (UI组件)包的一部分，让你更容易在你的Flutter app中实现列表屏幕。它负责与<em class="mv"> ListView </em>相关的许多事情，比如管理数据加载和状态，并且有丰富的选项来定制它的外观以适应你的应用程序的设计。</p><blockquote class="nj nk nl"><p id="c5b1" class="jy jz mv ka b kb kc kd ke kf kg kh ki nm kk kl km nn ko kp kq no ks kt ku kv ij bi translated">注:<strong class="ka ir"> UIC </strong>包和<strong class="ka ir"> ListUic </strong>还在开发中。因此，我将感谢任何反馈。</p></blockquote><p id="926b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> UIC </strong>套餐:<a class="ae mw" href="https://pub.dev/packages/uic" rel="noopener ugc nofollow" target="_blank">https://pub.dev/packages/uic</a></p><p id="739b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> ListUic </strong>示例app:<a class="ae mw" href="https://github.com/ech89899/uic-flutter/tree/master/example" rel="noopener ugc nofollow" target="_blank">https://github.com/ech89899/uic-flutter/tree/master/example</a></p><p id="5d86" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">推特:<a class="ae mw" href="https://twitter.com/echedev" rel="noopener ugc nofollow" target="_blank">https://twitter.com/echedev</a></p></div></div>    
</body>
</html>