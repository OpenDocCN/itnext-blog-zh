<html>
<head>
<title>Laravel and Vue: Creating a Portfolio website with a CRUD admin panel — Chapter Eight</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Laravel和Vue:用CRUD管理面板创建作品集网站——第八章</h1>
<blockquote>原文：<a href="https://itnext.io/laravel-and-vue-creating-a-portfolio-website-with-a-crud-admin-panel-chapter-eight-9750f15670dc?source=collection_archive---------3-----------------------#2019-11-30">https://itnext.io/laravel-and-vue-creating-a-portfolio-website-with-a-crud-admin-panel-chapter-eight-9750f15670dc?source=collection_archive---------3-----------------------#2019-11-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e0f7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在PortfolioEditor中实现CRUD函数</h2></div><p id="fcb6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在第七章中，我们创建了一个提交投资组合数据的表单，并使用它来提交投资组合数据。在本章的结尾，我们看到我们仍然需要做以下事情:</p><ul class=""><li id="2629" class="le lf it kk b kl km ko kp kr lg kv lh kz li ld lj lk ll lm bi translated">前端验证</li><li id="3289" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">后端验证</li><li id="341f" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">读取、更新和删除功能</li><li id="c5a6" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">重构组合控制器</li></ul><p id="493d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">验证与我们用来添加数据的表单相关。让我们来解决验证问题。</p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h2 id="3030" class="lz ma it bd mb mc md dn me mf mg dp mh kr mi mj mk kv ml mm mn kz mo mp mq mr bi translated">前端验证(用于添加数据)</h2><p id="a194" class="pw-post-body-paragraph ki kj it kk b kl ms ju kn ko mt jx kq kr mu kt ku kv mv kx ky kz mw lb lc ld im bi translated">我们可以从ProfileEditor.vue中复制validationErrors()计算方法，并删除“请至少填写一个字段”规则。</p><blockquote class="mx my mz"><p id="bad7" class="ki kj na kk b kl km ju kn ko kp jx kq nb ks kt ku nc kw kx ky nd la lb lc ld im bi translated"><strong class="kk iu">名称变更</strong>:方法名称从<code class="fe ne nf ng nh b"><em class="it">validationErrors()</em></code>变更为<code class="fe ne nf ng nh b"><em class="it">validation()</em></code>。</p></blockquote><p id="1802" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">前端验证将类似于ProfileEditor的前端验证。不同之处在于，我们现在要求图像和项目名称，而不是要求至少一个字段。描述是可选的。</p><p id="68df" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">验证规则</strong>:我们需要一个文件，我们需要一个名称，但是描述是可选的；因此，将有一个文件验证规则和一个名称验证规则，但没有描述验证规则。</p><ul class=""><li id="9055" class="le lf it kk b kl km ko kp kr lg kv lh kz li ld lj lk ll lm bi translated">需要姓名</li><li id="a073" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">需要图像</li><li id="b66a" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">提交按钮被禁用，直到我们有一个名字和图像</li></ul><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="91dc" class="lz ma it nh b gy nq nr l ns nt">computed: {<br/>    validation(){<br/>        <em class="na">this</em>.disabled = <em class="na">true</em>;<br/>        <strong class="nh iu">i̶f̶ ̶(̶t̶h̶i̶s̶.̶n̶a̶m̶e̶ ̶=̶=̶=̶ ̶'̶'̶ ̶&amp;̶&amp;̶ ̶t̶h̶i̶s̶.̶f̶i̶l̶e̶.̶l̶e̶n̶g̶t̶h̶ ̶&lt;̶=̶ ̶0̶)̶ ̶{̶<br/>̶ ̶ ̶ ̶ ̶ ̶ ̶ ̶ ̶ ̶ ̶ ̶ ̶r̶e̶t̶u̶r̶n̶ ̶'̶p̶l̶e̶a̶s̶e̶ ̶f̶i̶l̶l̶ ̶a̶t̶ ̶l̶e̶a̶s̶t̶ ̶o̶n̶e̶ ̶f̶i̶e̶l̶d̶'̶;̶<br/>̶ ̶ ̶ ̶ ̶ ̶ ̶ ̶ ̶}̶</strong><br/>        <strong class="nh iu"><em class="na">if </em>(<em class="na">this</em>.name === '') {<br/>            <em class="na">return </em>'please fill in the project name';<br/>        }<br/>        <em class="na">if </em>(!<em class="na">this</em>.file) {<br/>            <em class="na">return </em>'please select an image';<br/>        }</strong><br/>        <em class="na">if </em>(<em class="na">this</em>.file &amp;&amp; !<em class="na">this</em>.file.type.startsWith("image/")) {<br/>            <em class="na">return </em>'file must be an image';<br/>        }<br/>        <em class="na">else </em>{<br/>            <em class="na">this</em>.disabled = <em class="na">false</em>;<br/>            <em class="na">return  </em>':)'<br/>        }<br/>    }<br/>}</span></pre><p id="2585" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于提交按钮，有一个禁用的属性，并将禁用的属性绑定到<code class="fe ne nf ng nh b"><strong class="kk iu">disabled</strong></code></p><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="9e86" class="lz ma it nh b gy nq nr l ns nt">&lt;button <em class="na">@click.prevent</em>="onSubmit" <strong class="nh iu"><em class="na">:disabled</em>="disabled"</strong>&gt;Submit&lt;/button&gt;</span></pre><p id="c4fe" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在数据()中插入<code class="fe ne nf ng nh b"><strong class="kk iu">disabled</strong></code></p><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="6660" class="lz ma it nh b gy nq nr l ns nt">data() {<br/>    <em class="na">return </em>{<br/>        file: '',<br/>        name: '',<br/>        description: '',<strong class="nh iu"><br/>        disabled: <em class="na">true</em>,</strong><br/>    }<br/>},</span></pre><p id="1573" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在表单的提交按钮下面放一个误差栏</p><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="8c59" class="lz ma it nh b gy nq nr l ns nt">&lt;div <em class="na">class</em>="errorBar"&gt;{{validation}}&lt;/div&gt;</span></pre><blockquote class="mx my mz"><p id="21f8" class="ki kj na kk b kl km ju kn ko kp jx kq nb ks kt ku nc kw kx ky nd la lb lc ld im bi translated">我们可以勾选前端验证</p></blockquote><ul class=""><li id="9e74" class="le lf it kk b kl km ko kp kr lg kv lh kz li ld lj lk ll lm bi translated">前端验证✔️</li><li id="7fa5" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">后端验证</li><li id="8ba5" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">读取、更新和删除功能</li><li id="b605" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">重构组合控制器</li></ul><h2 id="839b" class="lz ma it bd mb mc md dn me mf mg dp mh kr mi mj mk kv ml mm mn kz mo mp mq mr bi translated">后端验证(用于添加数据)</h2><p id="0130" class="pw-post-body-paragraph ki kj it kk b kl ms ju kn ko mt jx kq kr mu kt ku kv mv kx ky kz mw lb lc ld im bi translated">让我们以稍微不同的方式进行laravel验证。上一次，我们看到它可以在商店功能中完成。这一次，我们想将验证重构为一个单独的<strong class="kk iu">请求</strong>。</p><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="b3e3" class="lz ma it nh b gy nq nr l ns nt"><strong class="nh iu">php artisan make:request StorePortfolioItemRequest</strong></span></pre><p id="0823" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将在以下位置创建一个文件:</p><p id="859a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">App \ Http \ Requests \ storepoportfolioitemrequest . PHP</strong></p><p id="d435" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">该请求文件将处理您的验证。</p><p id="1ca1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果authorize()函数返回false，则将其更改为true。该函数允许您使用该文件提供的验证。</p><blockquote class="mx my mz"><p id="03ea" class="ki kj na kk b kl km ju kn ko kp jx kq nb ks kt ku nc kw kx ky nd la lb lc ld im bi translated">我们可以稍后将此功能更改为仅在登录后授权。</p></blockquote><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="a47b" class="lz ma it nh b gy nq nr l ns nt"><em class="na">public function </em>authorize()<br/>{<br/>    <em class="na">return true</em>;<br/>}</span></pre><p id="76a8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对itempic和name应用<code class="fe ne nf ng nh b"><strong class="kk iu">required</strong></code>规则。名称应该是portfolio_items表中的<code class="fe ne nf ng nh b"><strong class="kk iu">unique</strong></code>。</p><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="1674" class="lz ma it nh b gy nq nr l ns nt"><em class="na">public function </em>rules()<br/>{<br/>    <em class="na">return </em>[<br/>        'itempic' =&gt; 'required',<br/>        'name' =&gt; 'required|unique:portfolio_items',<br/>    ];<br/>}</span></pre><p id="6e8a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在将store()括号中的<code class="fe ne nf ng nh b">Request $request</code>改为<code class="fe ne nf ng nh b"><strong class="kk iu">StorePortfolioItemRequest</strong> $request</code></p><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="6154" class="lz ma it nh b gy nq nr l ns nt"><em class="na">public function </em>store(<strong class="nh iu">R̶e̶q̶u̶e̶s̶t̶</strong> <strong class="nh iu">StorePortfolioItemRequest</strong> $request) {<br/>    $file = $request-&gt;itempic;<br/>    $hashName = $file-&gt;hashName();<br/>    $this-&gt;resizeAndStore($file, $hashName);<br/>    $this-&gt;storeDetails($hashName);<br/>}</span></pre><p id="8fcc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">后端验证得到一个滴答</p><p id="fdb4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以勾选后端验证</p><ul class=""><li id="f4aa" class="le lf it kk b kl km ko kp kr lg kv lh kz li ld lj lk ll lm bi translated">前端验证✔️</li><li id="0c0e" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">后端验证✔️</li><li id="66c9" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">读取、更新和删除功能</li><li id="8cc2" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">重构组合控制器</li></ul></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><p id="5ee6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">读取、更新和删除功能</strong>将在表中实现。</p><p id="c200" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们创建一个允许我们执行CRUD操作的表。</p><p id="14fe" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">读取</strong> —我们需要将读取的内容呈现到表格中</p><p id="dc93" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">更新</strong> —我们需要使用一个类似于创建表单的表单来更新信息</p><p id="b295" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">删除</strong> —我们需要一个删除按钮和一个确认删除弹出窗口。</p><h2 id="3d51" class="lz ma it bd mb mc md dn me mf mg dp mh kr mi mj mk kv ml mm mn kz mo mp mq mr bi translated">创建CRUD表—读取</h2><p id="9804" class="pw-post-body-paragraph ki kj it kk b kl ms ju kn ko mt jx kq kr mu kt ku kv mv kx ky kz mw lb lc ld im bi translated">我们需要一个带有项目名称的表格，从投资组合中删除项目的选项，以及更改项目细节的选项等。</p><p id="0159" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们用要点来说明:</p><ul class=""><li id="103e" class="le lf it kk b kl km ko kp kr lg kv lh kz li ld lj lk ll lm bi translated">项目名</li><li id="33da" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">编辑按钮</li><li id="1493" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">删除按钮</li><li id="9546" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">添加按钮</li></ul><p id="5d16" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们的桌子看起来会像这样:</p><figure class="ni nj nk nl gt nv gh gi paragraph-image"><div role="button" tabindex="0" class="nw nx di ny bf nz"><div class="gh gi nu"><img src="../Images/022a40db37b56b7a8ef931c10a0386b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N3QXrEWKZYQBpOqWq2pkjg.png"/></div></div></figure><p id="0dec" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们有一个表格元素</p><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="c05c" class="lz ma it nh b gy nq nr l ns nt">&lt;table&gt;<br/>    <br/>&lt;/table&gt;</span></pre><p id="6482" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在table元素中，我们需要一个<code class="fe ne nf ng nh b"><strong class="kk iu">thead</strong></code>和一个<code class="fe ne nf ng nh b"><strong class="kk iu">tbody</strong></code>元素。<code class="fe ne nf ng nh b"><strong class="kk iu">thead</strong></code>是包含标题的元素，即上图中的项目名称、编辑和删除。<code class="fe ne nf ng nh b"><strong class="kk iu">tbody</strong></code> <strong class="kk iu"> </strong>将包含其他行。</p><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="8ef8" class="lz ma it nh b gy nq nr l ns nt">&lt;table&gt;<br/>    &lt;thead&gt;&lt;/thead&gt;<br/>    &lt;tbody&gt;&lt;/tbody&gt;<br/>&lt;/table&gt;</span></pre><p id="17a3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用<code class="fe ne nf ng nh b"><strong class="kk iu">th</strong></code>元素的<code class="fe ne nf ng nh b">thead</code>元素内的表格标题:</p><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="2134" class="lz ma it nh b gy nq nr l ns nt">&lt;table&gt;<br/>    &lt;thead&gt;<br/>        <strong class="nh iu">&lt;tr&gt;<br/>            &lt;th&gt;Project Name&lt;/th&gt;<br/>            &lt;th&gt;Edit&lt;/th&gt;<br/>            &lt;th&gt;Delete&lt;/th&gt;<br/>        &lt;/tr&gt;</strong><br/>    &lt;/thead&gt;<br/>    &lt;tbody&gt;&lt;/tbody&gt;<br/>&lt;/table&gt;</span></pre><p id="e55f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<code class="fe ne nf ng nh b">tbody</code>内</p><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="7ffc" class="lz ma it nh b gy nq nr l ns nt">&lt;table&gt;<br/>    &lt;thead&gt;<br/>        &lt;tr&gt;<br/>            &lt;th&gt;Project Name&lt;/th&gt;<br/>            &lt;th&gt;Edit&lt;/th&gt;<br/>            &lt;th&gt;Delete&lt;/th&gt;<br/>        &lt;/tr&gt;<br/>    &lt;/thead&gt;<br/>    &lt;tbody&gt;<br/>        <strong class="nh iu">&lt;tr&gt;<br/>            &lt;td&gt;Item Name&lt;/td&gt;<br/>            &lt;td&gt;<br/>                &lt;button&gt;EDIT&lt;/button&gt;<br/>            &lt;/td&gt;<br/>            &lt;td&gt;<br/>                &lt;button&gt;DELETE&lt;/button&gt;<br/>            &lt;/td&gt;<br/>        &lt;/tr&gt;</strong><br/>    &lt;/tbody&gt;<br/>&lt;/table&gt;</span></pre><p id="3184" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，您应该看到类似这样的内容:</p><figure class="ni nj nk nl gt nv gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/424c8b906722c78c16e6d77c39581413.png" data-original-src="https://miro.medium.com/v2/resize:fit:678/format:webp/1*aFIlhjUhOJLerz8TcKdDeg.png"/></div><figcaption class="od oe gj gh gi of og bd b be z dk translated">开始时的CRUD表</figcaption></figure><p id="0ddb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这就是创建一个与数据库无关的表的方法。对于链接到数据库的表，我们需要使用For循环。在Vue js中，for循环被称为v-for循环。为了得到v-for方法，我们需要经历“数据库-路由-脚本-模板”这条路。</p><figure class="ni nj nk nl gt nv gh gi paragraph-image"><div role="button" tabindex="0" class="nw nx di ny bf nz"><div class="gh gi oh"><img src="../Images/adbea29c2cafbe41e8b941e4b5adc683.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xR6xCCxuLIIXhHUQ"/></div></div><figcaption class="od oe gj gh gi of og bd b be z dk translated"><a class="ae oi" href="https://unsplash.com/@karsten_wuerth?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">卡斯登·沃斯(@karsten.wuerth) </a>在<a class="ae oi" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><figure class="ni nj nk nl gt nv gh gi paragraph-image"><div role="button" tabindex="0" class="nw nx di ny bf nz"><div class="gh gi oj"><img src="../Images/57d236d677c3d67ac49780f39b26d0f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l80DVsXzeh5-wCcRyoLIdA.png"/></div></div></figure><p id="e661" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们应该提交一些项目，然后数据库部分就完成了。✅</p><figure class="ni nj nk nl gt nv gh gi paragraph-image"><div role="button" tabindex="0" class="nw nx di ny bf nz"><div class="gh gi oj"><img src="../Images/033845252a42a6ee0abbae9eef0f4f0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KZCRWjUCdkSHavsiq5mCxQ.png"/></div></div></figure><p id="38b8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们去路线上看看组合物品</p><figure class="ni nj nk nl gt nv gh gi paragraph-image"><div role="button" tabindex="0" class="nw nx di ny bf nz"><div class="gh gi ok"><img src="../Images/98af41bbbfa9da1e04a2b8e8d57176e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-dj1BQyfF8DczI24Pr60Uw.png"/></div></div></figure><p id="cebe" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">路线部分是✅做的</p><figure class="ni nj nk nl gt nv gh gi paragraph-image"><div role="button" tabindex="0" class="nw nx di ny bf nz"><div class="gh gi oj"><img src="../Images/d9ec1c72245c1941bc0e418b0943db59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Iv5Ui7LY2a4gCBpJKw1kGw.png"/></div></div></figure><p id="05f1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">脚本标签的getPortfolio()方法</p><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="2a0a" class="lz ma it nh b gy nq nr l ns nt">getPortfolio() {<br/>    axios.get('/api/portfolio')<br/>        .then(response =&gt; {<br/>            <em class="na">this</em>.items = response.data;<br/>        })<br/>        .catch(error =&gt; {<br/>            <em class="na">console</em>.log(error);<br/>        });<br/>},</span></pre><p id="7931" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">脚本标记中的数据()</p><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="4808" class="lz ma it nh b gy nq nr l ns nt">data() {<br/>    <em class="na">return </em>{<br/>        items: '',<br/>    }<br/>},</span></pre><p id="9647" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">脚本标签部分是✅做的</p><figure class="ni nj nk nl gt nv gh gi paragraph-image"><div role="button" tabindex="0" class="nw nx di ny bf nz"><div class="gh gi oj"><img src="../Images/d5597f950344bdd4580a62bec7b3ef85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pEBaBlK_X8zpwAh7cn7UXA.png"/></div></div></figure><h2 id="7346" class="lz ma it bd mb mc md dn me mf mg dp mh kr mi mj mk kv ml mm mn kz mo mp mq mr bi translated">是时候使用v-for了</h2><p id="fa40" class="pw-post-body-paragraph ki kj it kk b kl ms ju kn ko mt jx kq kr mu kt ku kv mv kx ky kz mw lb lc ld im bi translated">如果我们使用vue-devtools，我们可以看到从路线中得到的项目</p><figure class="ni nj nk nl gt nv gh gi paragraph-image"><div role="button" tabindex="0" class="nw nx di ny bf nz"><div class="gh gi ol"><img src="../Images/ab297f31f4aad1e0de9dd24117548288.png" data-original-src="https://miro.medium.com/v2/resize:fit:648/format:webp/1*KrvqJRLtTObjGST1ih3pQQ.png"/></div></div></figure><p id="5b8b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以使用v-for来遍历这些项目并显示部分<code class="fe ne nf ng nh b"><strong class="kk iu">items</strong></code>数据。在这种情况下，我们想要显示的部分是在每个项目中都可以找到的<strong class="kk iu">名称</strong>。</p><p id="18b9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">v-for循环如何工作</strong>:</p><ol class=""><li id="3830" class="le lf it kk b kl km ko kp kr lg kv lh kz li ld om lk ll lm bi translated">在上图中，您可以看到一个编号为0的对象和一个编号为1的对象。</li><li id="09ea" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld om lk ll lm bi translated">我们为这些对象设计了一个<code class="fe ne nf ng nh b"><strong class="kk iu">variable</strong></code>。</li><li id="74e8" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld om lk ll lm bi translated">然后<code class="fe ne nf ng nh b"><strong class="kk iu">variable</strong></code>被用作v-for循环引号中的第一个单词，即<code class="fe ne nf ng nh b"><strong class="kk iu">""</strong></code></li></ol><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="db38" class="lz ma it nh b gy nq nr l ns nt">v-for="variable in object"</span></pre><p id="d1af" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们想要循环的对象叫做<code class="fe ne nf ng nh b"><strong class="kk iu">items</strong></code></p><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="ff39" class="lz ma it nh b gy nq nr l ns nt">v-for="variable in <strong class="nh iu">o̶b̶j̶e̶c̶t̶</strong> <strong class="nh iu">items</strong>"</span></pre><p id="fedd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">“项目中的对象”的合适词是“项目”，所以让我们将<code class="fe ne nf ng nh b"><strong class="kk iu">variable</strong></code>改为<code class="fe ne nf ng nh b"><strong class="kk iu">item</strong></code></p><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="754a" class="lz ma it nh b gy nq nr l ns nt">v-for="<strong class="nh iu">item</strong> in items"</span></pre><p id="2016" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">将这个v-for应用到<code class="fe ne nf ng nh b"><strong class="kk iu">tbody</strong></code>中的<code class="fe ne nf ng nh b"><strong class="kk iu">tr</strong></code>以呈现所有项目，并使用{{item.name}}获取每个项目中的名称</p><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="7cce" class="lz ma it nh b gy nq nr l ns nt">&lt;tr <em class="na">v-for</em>="item <em class="na">in </em>items"&gt;<br/>    &lt;td&gt;{{<strong class="nh iu">item.name</strong>}}&lt;/td&gt;<br/>    &lt;td&gt;<br/>        &lt;button&gt;EDIT&lt;/button&gt;<br/>    &lt;/td&gt;<br/>    &lt;td&gt;<br/>        &lt;button&gt;DELETE&lt;/button&gt;<br/>    &lt;/td&gt;<br/>&lt;/tr&gt;</span></pre><p id="d508" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">表中呈现了两个项目的数据</p><figure class="ni nj nk nl gt nv gh gi paragraph-image"><div class="gh gi on"><img src="../Images/a1820065f6c9516385819711fa3da67e.png" data-original-src="https://miro.medium.com/v2/resize:fit:676/format:webp/1*pi0YwkUDAYvgJArwfumZ3Q.png"/></div></figure><p id="cd44" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们在<code class="fe ne nf ng nh b"><strong class="kk iu">thead</strong></code>上方构建添加按钮</p><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="a271" class="lz ma it nh b gy nq nr l ns nt">&lt;caption&gt;&lt;button&gt;+ Add New Item&lt;/button&gt;&lt;/caption&gt;<br/>&lt;thead&gt;<br/>...<br/>&lt;/thead&gt;</span></pre><figure class="ni nj nk nl gt nv gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/b5973c328aadda0e5216239d5c4d969d.png" data-original-src="https://miro.medium.com/v2/resize:fit:712/format:webp/1*8FIlZOXgQEWQO2ckaSEEKQ.png"/></div></figure><figure class="ni nj nk nl gt nv gh gi paragraph-image"><div role="button" tabindex="0" class="nw nx di ny bf nz"><div class="gh gi op"><img src="../Images/0839d13bba86ea4d192e2cbc85cbcc18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BqGfQ2JModJspxkxKGs06Q.png"/></div></div></figure><h2 id="e2d7" class="lz ma it bd mb mc md dn me mf mg dp mh kr mi mj mk kv ml mm mn kz mo mp mq mr bi translated">创建CRUD表-更新</h2><p id="7857" class="pw-post-body-paragraph ki kj it kk b kl ms ju kn ko mt jx kq kr mu kt ku kv mv kx ky kz mw lb lc ld im bi translated">单击编辑按钮时，我们希望弹出一个模态，该模态应该包含更新表单。</p><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="1dba" class="lz ma it nh b gy nq nr l ns nt">&lt;button <strong class="nh iu"><em class="na">@click</em>="editItemPopup(item)"</strong>&gt;EDIT&lt;/button&gt;</span></pre><p id="a87c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在方法中:</p><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="1a50" class="lz ma it nh b gy nq nr l ns nt"><strong class="nh iu">editItemPopup(item) {<br/>    <em class="na">this</em>.item = item;<br/>    <em class="na">if </em>(<em class="na">this</em>.updateItemModal === <em class="na">false</em>) {<br/>        <em class="na">this</em>.updateItemModal = <em class="na">true</em>;<br/>    }<br/>    <em class="na">else if </em>(<em class="na">this</em>.updateItemModal === <em class="na">true</em>) {<br/>        <em class="na">this</em>.updateItemModal = <em class="na">false</em>;<br/>    }<br/>},</strong></span></pre><blockquote class="mx my mz"><p id="a5f6" class="ki kj na kk b kl km ju kn ko kp jx kq nb ks kt ku nc kw kx ky nd la lb lc ld im bi translated">代码解释:<strong class="kk iu">edititempubup</strong>是将要使用的方法。<strong class="kk iu">括号中的项目</strong>为<code class="fe ne nf ng nh b"><strong class="kk iu">variable</strong></code>的v型。</p></blockquote><p id="bd3b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以看到v-for也可以用来运行方法。</p><p id="f691" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在PortfolioEditor.vue变得太大之前，我们应该让表成为一个子组件，并把项目作为道具传递(类似于第三章)。</p><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="e680" class="lz ma it nh b gy nq nr l ns nt">&lt;template&gt;<br/>    &lt;section&gt;<br/>        &lt;h1&gt;Portfolio Editor&lt;/h1&gt;<br/>        &lt;form&gt;...&lt;/form&gt;<br/>        &lt;portfolio-editor-table <em class="na">:items</em>="items"/&gt;<br/>    &lt;/section&gt;<br/>&lt;/template&gt;<br/><br/>&lt;script&gt;<br/>    <em class="na">import </em>portfolioEditorTable <em class="na">from </em>'./portfolioEditorTable';<br/>    <em class="na">export default </em>{<br/>        name: "PortfolioEditor",<br/>        data() {<br/>            <em class="na">return </em>{<br/>                items: '',<br/>            }<br/>        },<br/>        components: {portfolioEditorTable},<br/>        mounted() {<br/>            <em class="na">this</em>.getPortfolio();<br/>        },<br/>        methods: {<br/>            getPortfolio() {<br/>                axios.get('/api/portfolio')<br/>                    .then(response =&gt; {<br/>                        <em class="na">this</em>.items = response.data;<br/>                    })<br/>                    .catch(error =&gt; {<br/>                        <em class="na">console</em>.log(error);<br/>                    });<br/>            }<br/>        }<br/>    }<br/>&lt;/script&gt;</span></pre><p id="edd1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">传递道具(在portfolioEditorTable.vue中)</p><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="2939" class="lz ma it nh b gy nq nr l ns nt">&lt;script&gt;<br/>    <em class="na">export default </em>{<br/>        name: "portfolioEditorTable",<br/>        <strong class="nh iu">props: {<br/>          items: ''<br/>        },</strong><br/>        data() {<br/>            <em class="na">return </em>{<br/>                p: <em class="na">this</em>.$parent<br/>            }<br/>        }<br/>    }<br/>&lt;/script&gt;</span></pre><p id="8d4e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可能已经注意到，在数据中有<code class="fe ne nf ng nh b"><strong class="kk iu">p: this.$parent</strong></code> <strong class="kk iu">。</strong>这只是为了让你在父类中调用方法时不必键入<code class="fe ne nf ng nh b"><strong class="kk iu">this.$parent</strong></code> <strong class="kk iu"> </strong>，你只需将其缩写为<code class="fe ne nf ng nh b"><strong class="kk iu">p</strong></code> <strong class="kk iu"> </strong>(或者你选择的任何东西)。</p><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="6525" class="lz ma it nh b gy nq nr l ns nt">&lt;button <strong class="nh iu"><em class="na">@click</em>="p.editItemPopup(item)"</strong>&gt;EDIT&lt;/button&gt;</span></pre><p id="1502" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们应该在父组件中保留editItemPopup方法，因为我们希望将CRUD api方法放在一个文件中，而将“非api”方法放在其他文件中。</p><p id="4905" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，如果您已经在表组件中获得了edititempubup(item ),您应该将它移动到父组件中。</p><p id="d170" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">导入update-item-modal并将其放在PortfolioEditor.vue中的table组件上方</p><pre class="ni nj nk nl gt nm nh nn no aw np bi"><span id="0372" class="lz ma it nh b gy nq nr l ns nt">&lt;section&gt;<br/>    &lt;h1&gt;Portfolio Editor&lt;/h1&gt;<br/>    &lt;update-item-modal <em class="na">v-if</em>="updateItemModal" <em class="na">:item</em>="item"/&gt;<br/>    &lt;portfolio-editor-table <em class="na">:items</em>="items"/&gt;<br/>&lt;/section&gt;</span></pre><p id="0d91" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们将在下一章创建这个模型。</p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><p id="2f52" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上一章的结尾，我们列出了在未来章节中要做的事情。根据该列表，我们已经解决了前端和后端验证(对于添加/创建功能)</p><p id="7a34" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还没有到以下几点:</p><ul class=""><li id="64d9" class="le lf it kk b kl km ko kp kr lg kv lh kz li ld lj lk ll lm bi translated">前端验证(用于更新功能)</li><li id="71a9" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">后端验证(用于更新功能)</li><li id="fea5" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">更新和删除功能(读取完成)</li><li id="931b" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">重构组合控制器</li></ul><p id="4133" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还没有创建一个投资组合。vue组件将包括</p><ul class=""><li id="2783" class="le lf it kk b kl km ko kp kr lg kv lh kz li ld lj lk ll lm bi translated">带文本的图像</li><li id="f05c" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">具有更大图像和描述的模型</li><li id="51a7" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">模态上的关闭按钮</li></ul><div class="oq or gp gr os ot"><a href="https://medium.com/@UmarCodes/laravel-and-vue-creating-a-portfolio-website-with-a-crud-admin-panel-chapter-nine-7acf3268ee0d" rel="noopener follow" target="_blank"><div class="ou ab fo"><div class="ov ab ow cl cj ox"><h2 class="bd iu gy z fp oy fr fs oz fu fw is bi translated">Laravel和Vue:用CRUD管理面板创建作品集网站——第九章</h2><div class="pa l"><h3 class="bd b gy z fp oy fr fs oz fu fw dk translated">组合编辑器的更新模式</h3></div><div class="pb l"><p class="bd b dl z fp oy fr fs oz fu fw dk translated">medium.com</p></div></div></div></a></div></div></div>    
</body>
</html>