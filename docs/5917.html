<html>
<head>
<title>Using React children prop with TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将React子道具与TypeScript一起使用</h1>
<blockquote>原文：<a href="https://itnext.io/using-react-children-prop-with-typescript-37f6821351bb?source=collection_archive---------2-----------------------#2021-06-29">https://itnext.io/using-react-children-prop-with-typescript-37f6821351bb?source=collection_archive---------2-----------------------#2021-06-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/bb0c408e9510c1762a865118d7f6d719.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MV0lrudD_az53s0RKGiR2Q.png"/></div></div></figure><p id="caea" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当我开始在React中使用TypeScript时，第一个困难是弄清楚为<code class="fe kz la lb lc b">children</code>道具使用什么类型。这是因为有几种不同类型的React为此提供了支持。我看到多个项目交替使用不同的类型，这并没有帮助。</p><p id="5ca8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这篇文章中，我将介绍您可以使用的每种类型，并讨论其利弊，这样您就可以为您的用例选择正确的类型。</p><h1 id="29f0" class="ld le it bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">JSX。元素</h1><p id="9dd4" class="pw-post-body-paragraph kb kc it kd b ke mb kg kh ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky im bi translated">JSX。元素是您可以用于子元素的最具限制性的类型。只有当你的<code class="fe kz la lb lc b">children</code>道具是一个单独的React元素时，它才起作用。它不能与任何其他东西一起工作，包括原语，比如字符串:</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mg"><img src="../Images/bbf113c305200d2002f165b147509a89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qPeHorGi_uNn_jSzCI42yw.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">JSX。元素</figcaption></figure><p id="d8b8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe kz la lb lc b">JSX.Element</code>可以方便地限制你的<code class="fe kz la lb lc b">children</code>道具对元素做出反应，但是对于一般用途来说限制太多了。</p><h1 id="4f11" class="ld le it bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">做出反应。重新匹配</h1><p id="33d1" class="pw-post-body-paragraph kb kc it kd b ke mb kg kh ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky im bi translated">ReactChild允许原语，所以它是一个比<code class="fe kz la lb lc b">JSX.Element</code>更宽容的选择。但是，ReactChild不能用于数组。看看这个生成元素数组的常见映射用例:</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mp"><img src="../Images/952b587da21404799c8274594ce3b2dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aUDlj2ZnrzYCG4sWXYOIPw.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">重新匹配</figcaption></figure><p id="5238" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您首先想到的可能是使用<a class="ae mq" href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#union-types" rel="noopener ugc nofollow" target="_blank">联合类型</a> <code class="fe kz la lb lc b">children: ReactChild | ReactChild[]</code>来允许一组<code class="fe kz la lb lc b">ReacChild</code>项。但是这种方法的问题是它不允许将单个元素与数组混合使用:</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mr"><img src="../Images/0e785a3a8d6dd47351afe45fbb7440af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-ROA5wSAuo-UBMkzhuC26g.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">重新匹配组合</figcaption></figure><p id="c6fa" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">此外，该类型变得有点过于冗长。我们可以做得更好。</p><h1 id="5f9b" class="ld le it bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">反应节点</h1><p id="d329" class="pw-post-body-paragraph kb kc it kd b ke mb kg kh ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky im bi translated">如果您希望<code class="fe kz la lb lc b">children</code>道具接受任何东西，那么<code class="fe kz la lb lc b">ReactNode</code>是首选类型。它采用React元素、原语、门户、片段等。</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ms"><img src="../Images/73471e741d3bdc24e1e5468fa42b25fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i3ewQDbM2dbsorZysXrErQ.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">反应节点</figcaption></figure><h1 id="0332" class="ld le it bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">做出反应。足球俱乐部</h1><p id="d6f3" class="pw-post-body-paragraph kb kc it kd b ke mb kg kh ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky im bi translated">将<code class="fe kz la lb lc b">children</code>属性声明为<code class="fe kz la lb lc b">ReactNode</code>是一个非常可行的选择，但是如果您想进一步修改代码，可以使用<code class="fe kz la lb lc b">React.FC</code>。<code class="fe kz la lb lc b">React.FC</code>是使用箭头函数编写的组件的标准类型。正如您可能猜到的，<code class="fe kz la lb lc b">FC</code>代表“功能组件”</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mt"><img src="../Images/62509c62420ff63412b4f8029003a621.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s5_yZ3ycdAmp2pDdfmT1ig.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">做出反应。足球俱乐部</figcaption></figure><p id="5e65" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe kz la lb lc b">React.FC</code>将<code class="fe kz la lb lc b">ReactNode</code>类型分配给<code class="fe kz la lb lc b">children</code>道具，不用自己动手。</p><h1 id="9bcd" class="ld le it bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">结论</h1><p id="cbbd" class="pw-post-body-paragraph kb kc it kd b ke mb kg kh ki mc kk kl km md ko kp kq me ks kt ku mf kw kx ky im bi translated">总结一下，使用<code class="fe kz la lb lc b">ReactNode</code>作为组件的<code class="fe kz la lb lc b">children</code>属性，除非您想要使属性更具限制性。为了简洁，您可以在箭头函数组件上使用<code class="fe kz la lb lc b">React.FC</code>类型。我希望这篇文章对你有用！</p><p id="5f28" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果你想自己尝试这些类型，这里有一个沙盒。</p></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><p id="94bc" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><em class="nb">原载于2021年6月29日https://isamatov.com</em><em class="nb">的</em> <a class="ae mq" href="https://isamatov.com/react-typescript-children-prop/" rel="noopener ugc nofollow" target="_blank"> <em class="nb">。</em></a></p></div></div>    
</body>
</html>