<html>
<head>
<title>Razor Components in Blazor</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Blazor中的剃须刀组件</h1>
<blockquote>原文：<a href="https://itnext.io/razor-components-in-blazor-92e70bb9963f?source=collection_archive---------5-----------------------#2019-08-26">https://itnext.io/razor-components-in-blazor-92e70bb9963f?source=collection_archive---------5-----------------------#2019-08-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="2428" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因为的发布候选。NET Core 3.0越来越近了，这似乎是一个仔细研究Blazor的好时机，从Blazor最近的一系列帖子中可以看出这一点。在这篇文章中，我将第一次看到Blazor服务器端应用程序中的Razor组件。</p><p id="11ac" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这篇文章使用了下面文章中使用的相同示例项目。第一个包含了项目的创建，如果您想继续的话。</p><p id="0022" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kl" href="https://elanderson.net/2019/08/asp-net-core-server-side-blazor-with-authentication/" rel="noopener ugc nofollow" target="_blank">ASP.NET核心服务器端Blazor带认证</a> <br/> <a class="ae kl" href="https://elanderson.net/2019/08/blazor-authentication-hide-a-nav-menu-item/" rel="noopener ugc nofollow" target="_blank"> Blazor认证:隐藏导航菜单项</a></p><h2 id="be44" class="km kn iq bd ko kp kq dn kr ks kt dp ku jy kv kw kx kc ky kz la kg lb lc ld le bi translated">什么是剃须刀组件？</h2><p id="378d" class="pw-post-body-paragraph jn jo iq jp b jq lf js jt ju lg jw jx jy lh ka kb kc li ke kf kg lj ki kj kk ij bi translated">引用<a class="ae kl" href="https://docs.microsoft.com/en-us/aspnet/core/blazor/components?view=aspnetcore-3.0" rel="noopener ugc nofollow" target="_blank">文件</a>:</p><blockquote class="lk ll lm"><p id="caec" class="jn jo ln jp b jq jr js jt ju jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj kk ij bi translated">组件是用户界面(UI)的自包含块，如页面、对话框或表单。组件包括HTML标记和注入数据或响应UI事件所需的处理逻辑。组件灵活轻便。它们可以嵌套、重用和在项目间共享。</p></blockquote><p id="11c8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">基本上，Razor Components为我们提供了一种创建智能可重用UI块的方法。</p><h2 id="db88" class="km kn iq bd ko kp kq dn kr ks kt dp ku jy kv kw kx kc ky kz la kg lb lc ld le bi translated">创建新的剃须刀组件</h2><p id="abf4" class="pw-post-body-paragraph jn jo iq jp b jq lf js jt ju lg jw jx jy lh ka kb kc li ke kf kg lj ki kj kk ij bi translated">首先，我在我的项目中创建了一个新的<strong class="jp ir">组件</strong>目录。这不是必需的，但这是如何建立一个<a class="ae kl" href="https://github.com/aspnet/AspNetCore.Docs/tree/master/aspnetcore/blazor/common/samples/3.x/BlazorSample" rel="noopener ugc nofollow" target="_blank"> Blazor示例项目</a>的。<strong class="jp ir">注意</strong>，如果您遵循此路径，请确保将新的名称空间添加到<strong class="jp ir"> _Imports.razor </strong>中，否则您的组件将无法呈现。请不要问我花了多长时间才明白。</p><pre class="lr ls lt lu gt lv lw lx ly aw lz bi"><span id="3c38" class="km kn iq lw b gy ma mb l mc md">@using System.Net.Http<br/>@using Microsoft.AspNetCore.Components.Forms<br/>@using Microsoft.AspNetCore.Components.Layouts<br/>@using Microsoft.AspNetCore.Components.Routing<br/>@using Microsoft.JSInterop<br/>@using BlazorAuth<br/>@using BlazorAuth.Shared<br/>@using BlazorAuth.Components</span></pre><p id="8dab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">右键单击要创建组件的目录，并选择<strong class="jp ir">添加&gt;新项目</strong>。</p><figure class="lr ls lt lu gt mf gh gi paragraph-image"><div class="gh gi me"><img src="../Images/826f90f88f1f3bc906435c5e8ce3a19f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qfLg6Q5q-PNJItZG.png"/></div></figure><p id="7cbc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在添加新项目对话框中选择<strong class="jp ir">剃须刀组件</strong>，给组件命名并点击<strong class="jp ir">添加</strong>。</p><figure class="lr ls lt lu gt mf gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mi"><img src="../Images/606afab7d35175017c08d80afb91bce8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*av0pxh1j2TLwpFz4.png"/></div></div></figure><p id="e15e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">生成的文件将如下所示。</p><pre class="lr ls lt lu gt lv lw lx ly aw lz bi"><span id="7f68" class="km kn iq lw b gy ma mb l mc md">&lt;h3&gt;HelloWorld&lt;/h3&gt;<br/><br/>@code {<br/><br/>}</span></pre><p id="cf2e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于这个组件，我没有任何代码，所以我删除了该部分，并在Hello和World之间添加了空格。要使用该组件，您可以将<code class="fe mn mo mp lw b">&lt;HelloWorld /&gt;</code>添加到任何现有的组件或页面中。例如，在示例应用程序中，我更改了<strong class="jp ir"> Index.razor </strong>以包含新的组件。</p><pre class="lr ls lt lu gt lv lw lx ly aw lz bi"><span id="d35f" class="km kn iq lw b gy ma mb l mc md">@page "/"<br/><br/>Welcome to your new app.<br/><br/>&lt;HelloWorld /&gt;</span></pre><p id="1859" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以上将呈现如下。</p><figure class="lr ls lt lu gt mf gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/5ecf11f0e1f4c59f1b796fd1f021c954.png" data-original-src="https://miro.medium.com/v2/resize:fit:958/format:webp/0*k16fBCGslRUbTXWy.png"/></div></figure><h2 id="d8af" class="km kn iq bd ko kp kq dn kr ks kt dp ku jy kv kw kx kc ky kz la kg lb lc ld le bi translated">带有参数的组件</h2><p id="4455" class="pw-post-body-paragraph jn jo iq jp b jq lf js jt ju lg jw jx jy lh ka kb kc li ke kf kg lj ki kj kk ij bi translated">上面说的很好，但是我们都知道，一个只包含静态HTML的组件，如果不能使组件的某些部分更加动态，就不会非常有用。下面的示例只是将数据放入组件的方法之一。</p><p id="6789" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面的代码是一个新组件，它有一个私有名称属性，用<strong class="jp ir">参数</strong>属性标记。然后，可以以标准的Razor语法方式在组件的非代码部分使用该属性。</p><pre class="lr ls lt lu gt lv lw lx ly aw lz bi"><span id="4f04" class="km kn iq lw b gy ma mb l mc md">&lt;h3&gt;Hello @Name!&lt;/h3&gt;<br/><br/>@code {<br/>    [Parameter]<br/>    private string Name {get; set;}<br/>}</span></pre><p id="d0cb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面是HelloName组件在<strong class="jp ir"> Index.razor </strong>中的用法，它通过Name参数传递一个名称。</p><pre class="lr ls lt lu gt lv lw lx ly aw lz bi"><span id="97f2" class="km kn iq lw b gy ma mb l mc md">@page "/"<br/><br/>Welcome to your new app.<br/><br/>&lt;HelloWorld /&gt;<br/>&lt;HelloName Name="Eric" /&gt;</span></pre><p id="857a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以及应用程序运行时的结果输出。</p><figure class="lr ls lt lu gt mf gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/d80cce63c3bd8c874ee2cc5ca62103e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:938/format:webp/0*OvsFEGzgYGYrR97R.png"/></div></figure><h2 id="698a" class="km kn iq bd ko kp kq dn kr ks kt dp ku jy kv kw kx kc ky kz la kg lb lc ld le bi translated">包扎</h2><p id="6724" class="pw-post-body-paragraph jn jo iq jp b jq lf js jt ju lg jw jx jy lh ka kb kc li ke kf kg lj ki kj kk ij bi translated">组件提供了很大的可重用性。我强烈建议你花些时间和他们一起玩。此外，请务必查看微软的<a class="ae kl" href="https://docs.microsoft.com/en-us/aspnet/core/blazor/components?view=aspnetcore-3.0" rel="noopener ugc nofollow" target="_blank">创建和使用ASP.NET核心剃须刀组件</a>文档，因为它涵盖了开发组件时的所有选项。</p></div><div class="ab cl ms mt hu mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ij ik il im in"><p id="5b63" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="ln">原载于</em> <a class="ae kl" href="https://elanderson.net/2019/08/razor-components-in-blazor/" rel="noopener ugc nofollow" target="_blank"> <em class="ln">埃里克·安德森</em> </a> <em class="ln">。</em></p></div></div>    
</body>
</html>