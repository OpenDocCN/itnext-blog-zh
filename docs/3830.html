<html>
<head>
<title>How to remove files already added to git after you update .gitignore</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在更新后删除已经添加到git的文件？gitignore</h1>
<blockquote>原文：<a href="https://itnext.io/how-to-remove-files-already-added-to-git-after-you-update-gitignore-90f169a0a4e1?source=collection_archive---------3-----------------------#2020-03-05">https://itnext.io/how-to-remove-files-already-added-to-git-after-you-update-gitignore-90f169a0a4e1?source=collection_archive---------3-----------------------#2020-03-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="4041" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有多少次你在项目的初始阶段提交文件到git上，过了一会儿你发现这些文件毫无用处？(对我来说:每个项目至少3-4次——该死的android在react-native上构建文件)</p><p id="806e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">即使你更新了你的。gitignore，文件将继续被跟踪并保存在您的存储库中。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/8afd0e567589bb469c412e60a09cb9c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kdZBYcZwapQ7aQpm4zMDUg.png"/></div></div></figure><h1 id="ca7e" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">那么你怎样才能去除它们呢？这里有三个简单的步骤:</h1><h1 id="3cd4" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">1.确保已提交所有更改</h1><p id="5251" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">你的工作目录中不应该有任何未提交的文件。为了确保这一点，请使用</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="12de" class="mi lb it me b gy mj mk l ml mm">git status</span></pre><p id="fae7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果它返回</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="6baa" class="mi lb it me b gy mj mk l ml mm">nothing to commit, working tree clean</span></pre><p id="313f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你已经准备好了！🚀如果没有，添加并提交您的文件或隐藏它们。</p><h1 id="8ddb" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">步骤2:从存储库中删除所有内容</h1><p id="a3ed" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">要清除您的回购，请使用:</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="eaed" class="mi lb it me b gy mj mk l ml mm">git rm -r --cached .</span></pre><ul class=""><li id="5579" class="mn mo it js b jt ju jx jy kb mp kf mq kj mr kn ms mt mu mv bi translated">rm是git的remove命令</li><li id="4776" class="mn mo it js b jt mw jx mx kb my kf mz kj na kn ms mt mu mv bi translated">-r表示递归，因此它也将删除文件夹内的内容</li><li id="2dcc" class="mn mo it js b jt mw jx mx kb my kf mz kj na kn ms mt mu mv bi translated">–缓存的mea只会从git索引中删除文件，而不会从您的当前目录中删除文件；你的文件很安全，✨</li><li id="de0b" class="mn mo it js b jt mw jx mx kb my kf mz kj na kn ms mt mu mv bi translated"><code class="fe nb nc nd me b">.</code>表示删除所有文件。如果您只想取消对一个文件的跟踪，请添加路径而不是<code class="fe nb nc nd me b">.</code>，例如:git rm — cached。包封/包围（动词envelop的简写）</li></ul><h1 id="8a84" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">第三步:再次添加所有内容</h1><p id="5d70" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">这是最简单的部分:</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="3db5" class="mi lb it me b gy mj mk l ml mm">git add .</span></pre><h1 id="169f" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">第四步:承诺和聚会</h1><p id="d500" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">现在提交您的更改</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="d9ec" class="mi lb it me b gy mj mk l ml mm">git commit -m “removed useless files”</span></pre><p id="d031" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在您的存储库遵循您的。git无视规则！派对时间到了！</p></div></div>    
</body>
</html>