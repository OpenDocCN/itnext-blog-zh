<html>
<head>
<title>slog — Lightweight, configurable, extensible Go logging library</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">slog——轻量级、可配置、可扩展的Go日志库</h1>
<blockquote>原文：<a href="https://itnext.io/slog-lightweight-configurable-extensible-go-logging-library-b338139cce4b?source=collection_archive---------4-----------------------#2022-06-16">https://itnext.io/slog-lightweight-configurable-extensible-go-logging-library-b338139cce4b?source=collection_archive---------4-----------------------#2022-06-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="a94f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一个轻量级的、可配置的、可扩展的Go日志库</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi kp"><img src="../Images/2a3c1ea4ef088548c66b95b138f64d8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*rQa7E0YEULZ1uyfV.png"/></div></div></figure><h1 id="643a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><a class="ae lz" href="https://inhere.github.io/en/blog/gookit-slog-intro#features" rel="noopener ugc nofollow" target="_blank">特性</a></h1><ul class=""><li id="eab3" class="ma mb iq jp b jq mc ju md jy me kc mf kg mg kk mh mi mj mk bi translated">简单，无需配置即可直接使用</li><li id="052e" class="ma mb iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">支持通用日志级处理。例如:<code class="fe kl km kn ko b">trace</code> <code class="fe kl km kn ko b">debug</code> <code class="fe kl km kn ko b">info</code> <code class="fe kl km kn ko b">notice</code> <code class="fe kl km kn ko b">warn</code> <code class="fe kl km kn ko b">error</code> <code class="fe kl km kn ko b">fatal</code> <code class="fe kl km kn ko b">panic</code></li><li id="0e6b" class="ma mb iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">根据需要支持<code class="fe kl km kn ko b">Handler</code> <code class="fe kl km kn ko b">Formatter</code>的任何扩展</li><li id="75df" class="ma mb iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">支持同时增加多个<code class="fe kl km kn ko b">Handler</code>日志处理，将日志输出到不同的地方</li><li id="479b" class="ma mb iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">支持自定义日志消息<code class="fe kl km kn ko b">Formatter </code>内置<code class="fe kl km kn ko b">json</code>和<code class="fe kl km kn ko b">text</code>两种日志记录格式<code class="fe kl km kn ko b">Formatter</code></li><li id="8ca6" class="ma mb iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">支持定制构建日志消息<code class="fe kl km kn ko b">Handler</code></li><li id="55b0" class="ma mb iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">内置的<code class="fe kl km kn ko b">handler.Config</code> <code class="fe kl km kn ko b">handler.Builder</code>可以方便快捷地构建所需的日志处理程序</li></ul><h2 id="1617" class="mq lc iq bd ld mr ms dn lh mt mu dp ll jy mv mw lp kc mx my lt kg mz na lx nb bi translated">内置的通用日志写处理程序</h2><p id="7d07" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy nc ka kb kc nd ke kf kg ne ki kj kk ij bi translated">具有内置的通用日志写处理程序</p><ul class=""><li id="1198" class="ma mb iq jp b jq jr ju jv jy nf kc ng kg nh kk mh mi mj mk bi translated"><code class="fe kl km kn ko b">console</code>输出日志到控制台，支持彩色输出</li><li id="57c8" class="ma mb iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated"><code class="fe kl km kn ko b">writer</code>输出日志到指定的<code class="fe kl km kn ko b">io.Writer</code></li><li id="dcad" class="ma mb iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated"><code class="fe kl km kn ko b">file</code>将日志输出到指定文件，可选择启用<code class="fe kl km kn ko b">buffer</code>缓冲写入</li><li id="a673" class="ma mb iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated"><code class="fe kl km kn ko b">simple</code>将日志输出到指定文件，不缓冲直接写入文件</li><li id="9fbc" class="ma mb iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated"><code class="fe kl km kn ko b">rotate_file</code>将日志输出到指定文件，支持按时间和大小分割文件，默认情况下<code class="fe kl km kn ko b">buffer</code>启用缓冲写入</li><li id="4333" class="ma mb iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">看吧。/handler文件夹以获得更多内置实现</li></ul><h1 id="606e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">将日志输出到文件<a class="ae lz" href="https://inhere.github.io/en/blog/gookit-slog-intro#output-logs-to-file" rel="noopener ugc nofollow" target="_blank"> </a></h1><ul class=""><li id="e671" class="ma mb iq jp b jq mc ju md jy me kc mf kg mg kk mh mi mj mk bi translated">支持启用<code class="fe kl km kn ko b">buffer</code>写日志</li><li id="6e55" class="ma mb iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">支持通过<code class="fe kl km kn ko b">time</code>和<code class="fe kl km kn ko b">size</code>拆分日志文件</li><li id="433b" class="ma mb iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">支持通过<code class="fe kl km kn ko b">gzip</code>配置压缩日志文件</li><li id="9374" class="ma mb iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">支持通过<code class="fe kl km kn ko b">BackupNum</code> <code class="fe kl km kn ko b">BackupTime</code>清理旧日志文件</li></ul><h1 id="138a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">Git资源库<a class="ae lz" href="https://inhere.github.io/en/blog/gookit-slog-intro#git-repository" rel="noopener ugc nofollow" target="_blank"> </a></h1><ul class=""><li id="8243" class="ma mb iq jp b jq mc ju md jy me kc mf kg mg kk mh mi mj mk bi translated">github:<a class="ae lz" href="https://github.com/gookit/slog" rel="noopener ugc nofollow" target="_blank">https://github.com/gookit/slog</a></li><li id="6373" class="ma mb iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">吉蒂:<a class="ae lz" href="https://gitee.com/gookit/slog" rel="noopener ugc nofollow" target="_blank">https://gitee.com/gookit/slog</a></li></ul><h1 id="81b6" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">安装<a class="ae lz" href="https://inhere.github.io/en/blog/gookit-slog-intro#install" rel="noopener ugc nofollow" target="_blank"> </a></h1><pre class="kq kr ks kt gt ni ko nj nk aw nl bi"><span id="3d74" class="mq lc iq ko b gy nm nn l no np">go get github.com/gookit/slog</span></pre><h1 id="4993" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">快速启动<a class="ae lz" href="https://inhere.github.io/en/blog/gookit-slog-intro#quick-start" rel="noopener ugc nofollow" target="_blank"> </a></h1><pre class="kq kr ks kt gt ni ko nj nk aw nl bi"><span id="924b" class="mq lc iq ko b gy nm nn l no np">package main</span><span id="1de1" class="mq lc iq ko b gy nq nn l no np">import (<br/>    "github.com/gookit/slog"<br/>)</span><span id="a8be" class="mq lc iq ko b gy nq nn l no np">func main() {<br/>    slog.Trace("this is a log message")<br/>    slog.Debug("this is a log message")<br/>    slog.Info("this is a log message")<br/>    slog.Notice("this is a log message")<br/>    slog.Warn("this is a log message")<br/>    slog.Error("this is a log message")<br/>    slog.Fatal("this is a log message")<br/>}</span></pre><p id="b8aa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">输出预览:</strong></p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi kp"><img src="../Images/6fda446437bbe5e108910a4bdc72816f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PnAGPvgNV5j0bFFa.png"/></div></div></figure><h1 id="08ba" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">记录到文件<a class="ae lz" href="https://inhere.github.io/en/blog/gookit-slog-intro#logs-to-file" rel="noopener ugc nofollow" target="_blank"> </a></h1><p id="36b9" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy nc ka kb kc nd ke kf kg ne ki kj kk ij bi translated">使用<code class="fe kl km kn ko b">slog</code>将日志输出到文件非常方便，支持多文件、按时间拆分等。</p><pre class="kq kr ks kt gt ni ko nj nk aw nl bi"><span id="a6fc" class="mq lc iq ko b gy nm nn l no np">package main</span><span id="5946" class="mq lc iq ko b gy nq nn l no np">import (<br/>    "github.com/gookit/slog"<br/>    "github.com/gookit/slog/handler"<br/>    "github.com/gookit/slog/rotatefile"<br/>)</span><span id="608c" class="mq lc iq ko b gy nq nn l no np">func main() {<br/>    defer slog.MustFlush()</span><span id="92ef" class="mq lc iq ko b gy nq nn l no np">    <em class="nr">// DangerLevels contains: slog.PanicLevel, slog.ErrorLevel, slog.WarnLevel</em><br/>    h1 := handler.MustRotateFile("/tmp/logs/app_error.log", rotatefile.EveryHour,<br/>        handler.WithLogLevels(slog.DangerLevels),<br/>    )</span><span id="46b9" class="mq lc iq ko b gy nq nn l no np">    <em class="nr">// NormalLevels contains: slog.InfoLevel, slog.NoticeLevel, slog.DebugLevel, slog.TraceLevel</em><br/>    h2 := handler.MustRotateFile("/tmp/logs/app_info.log", rotatefile.EveryHour,<br/>        handler.WithLogLevels(slog.NormalLevels),<br/>    )</span><span id="b44c" class="mq lc iq ko b gy nq nn l no np">    slog.PushHandler(h1)<br/>    slog.PushHandler(h2)</span><span id="f771" class="mq lc iq ko b gy nq nn l no np">    <em class="nr">// add logs</em><br/>    slog.Info("info message text")<br/>    slog.Error("error message text")<br/>}</span></pre><p id="7324" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">查看日志目录:</p><pre class="kq kr ks kt gt ni ko nj nk aw nl bi"><span id="7d95" class="mq lc iq ko b gy nm nn l no np">$ ls /tmp/logs<br/>app_error.log<br/>app_info.log</span></pre><h1 id="faa7" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">更多用法<a class="ae lz" href="https://inhere.github.io/en/blog/gookit-slog-intro#more-usage" rel="noopener ugc nofollow" target="_blank"> </a></h1><blockquote class="ns nt nu"><p id="8409" class="jn jo nr jp b jq jr js jt ju jv jw jx nv jz ka kb nw kd ke kf nx kh ki kj kk ij bi translated"><em class="iq">更多用法请参见</em> <a class="ae lz" href="https://github.com/gookit/slog/blob/master/README.zh-CN.md" rel="noopener ugc nofollow" target="_blank"> <em class="iq">自述</em> </a></p></blockquote><div class="ny nz gp gr oa ob"><a href="https://github.com/gookit/slog" rel="noopener  ugc nofollow" target="_blank"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd ir gy z fp og fr fs oh fu fw ip bi translated">GitHub - gookit/slog:📑轻量级、可配置、可扩展的日志库，用Go…</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">📑用Golang编写的轻量级、可扩展、可配置的日志库。</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">github.com</p></div></div><div class="ok l"><div class="ol l om on oo ok op kz ob"/></div></div></a></div></div><div class="ab cl oq or hu os" role="separator"><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov"/></div><div class="ij ik il im in"><p id="e5b9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="nr">原载于2022年6月16日</em><a class="ae lz" href="https://inhere.github.io/en/blog/gookit-slog-intro" rel="noopener ugc nofollow" target="_blank"><em class="nr">https://inhere . github . io</em></a><em class="nr">。</em></p></div></div>    
</body>
</html>