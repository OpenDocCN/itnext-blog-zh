<html>
<head>
<title>Seven Git Configs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">七种Git配置</h1>
<blockquote>原文：<a href="https://itnext.io/seven-git-configs-9de48007aa77?source=collection_archive---------1-----------------------#2022-08-20">https://itnext.io/seven-git-configs-9de48007aa77?source=collection_archive---------1-----------------------#2022-08-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f141" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">移动到新机器时进行设置</h2></div><p id="4436" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">整整一个月前，我开始在我的新雇主Jodel工作。🎉</p><p id="8f64" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">新雇主带来了新的笔记本电脑和新的git安装。在过去的一个月里，我试图从我以前的博客文章中找到我总是设置的git配置。既然我已经很好地配置了我的git安装，我将写下我设置的配置。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/a8317aaf1a99a89b8d8651afb4c768ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k998XoxFrYNX2PMVORi23w.png"/></div></div></figure><h1 id="cba1" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">0.显示分支</h1><p id="96bf" class="pw-post-body-paragraph ki kj it kk b kl mi ju kn ko mj jx kq kr mk kt ku kv ml kx ky kz mm lb lc ld im bi translated"><em class="mn">主条:</em> <a class="ae mo" rel="noopener ugc nofollow" target="_blank" href="/git-determine-branch-95714bcc99ab"> <em class="mn"> Git:确定分支</em> </a></p><p id="66aa" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这不是真正的git配置，而是Bash的配置。如果您没有使用Bash，那么您可以跳过这一部分。Zsh展示了开箱即用的git分支，我没有太多使用其他shells的经验。</p><p id="67c4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">诀窍是在您的<code class="fe mp mq mr ms b">.bashrc</code>文件的末尾添加下面一行，然后每当您进入git repo时，git分支将显示在美元符号后面:</p><pre class="lf lg lh li gt mt ms mu mv aw mw bi"><span id="8548" class="mx lr it ms b gy my mz l na nb"><strong class="ms iu">PS1</strong>="${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\[\e[91m\]\$(__git_ps1 ' [%s]')\[\e[00m\]\$ "</span></pre><h1 id="f745" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">1.设置姓名和电子邮件</h1><p id="3d26" class="pw-post-body-paragraph ki kj it kk b kl mi ju kn ko mj jx kq kr mk kt ku kv ml kx ky kz mm lb lc ld im bi translated">这一步太明显了，不能错过，但如果你正在处理需要不同电子邮件地址的回购，请提前设置它们。例如，如果您需要将您的工作电子邮件地址提交到您的工作repos，但也需要在与您的个人电子邮件地址相同的机器上运行一些开源repos。</p><p id="49f2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我的建议是将你最常用的电子邮件设置为全球通用:</p><pre class="lf lg lh li gt mt ms mu mv aw mw bi"><span id="2907" class="mx lr it ms b gy my mz l na nb">git config --global user.name "Mohammad-Ali A'râbi"<br/>git config --global user.email "my-name-at-work@employer.com"</span></pre><p id="08ef" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后在本地repos上本地设置不同的选项:</p><pre class="lf lg lh li gt mt ms mu mv aw mw bi"><span id="67f3" class="mx lr it ms b gy my mz l na nb">git config user.email "my-personal-id@gmail.com"</span></pre><h1 id="4d14" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">2.设置默认分支名称</h1><p id="4435" class="pw-post-body-paragraph ki kj it kk b kl mi ju kn ko mj jx kq kr mk kt ku kv ml kx ky kz mm lb lc ld im bi translated">在最近的git版本中，默认的分支名称不再是“默认”的<code class="fe mp mq mr ms b">master</code>。如果您想第一次初始化本地分支，git会告诉您这些，并要求您指定您选择的默认分支名称:</p><pre class="lf lg lh li gt mt ms mu mv aw mw bi"><span id="c9a9" class="mx lr it ms b gy my mz l na nb">git config --global init.defaultBranch &lt;name&gt;</span></pre><p id="4086" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这里你可以设置为<code class="fe mp mq mr ms b">main</code>或<code class="fe mp mq mr ms b">master</code>或<code class="fe mp mq mr ms b">trunk</code>或<code class="fe mp mq mr ms b">on-branch-to-rule-them-all</code>，随你喜欢。</p><h1 id="1be3" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">3.将Rebase设置为默认拉方法</h1><p id="a13a" class="pw-post-body-paragraph ki kj it kk b kl mi ju kn ko mj jx kq kr mk kt ku kv ml kx ky kz mm lb lc ld im bi translated"><em class="mn">相关文章:</em> <a class="ae mo" rel="noopener ugc nofollow" target="_blank" href="/git-merge-vs-rebase-938950fb218"> <em class="mn"> Git合并vs Rebase:三种类型的合并</em> </a></p><p id="f6df" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我总是讨厌在我拉的时候创建一个合并提交。特别是，当我在master上开发时，我不能再推了(因为本地分支不在远程分支的前面)。</p><p id="79a6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了在拉取时重置基础，我设置了以下配置:</p><pre class="lf lg lh li gt mt ms mu mv aw mw bi"><span id="23bb" class="mx lr it ms b gy my mz l na nb">git config --global pull.rebase true</span></pre><h1 id="edb5" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">4.自动存储</h1><p id="8793" class="pw-post-body-paragraph ki kj it kk b kl mi ju kn ko mj jx kq kr mk kt ku kv ml kx ky kz mm lb lc ld im bi translated">拥有一个干净的母版并不是使用rebase作为默认pull动作的唯一好处。通过设置以下配置，用户无需在拉货前存放其WIP，因为会自动执行:</p><pre class="lf lg lh li gt mt ms mu mv aw mw bi"><span id="fb67" class="mx lr it ms b gy my mz l na nb">git config --global rebase.autoStash true</span></pre><p id="d280" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，如果您有一些未提交的更改，您可以简单地进行拉取，git将存储、拉取、重置，然后再次从存储中弹出更改，这一切都是一气呵成的。</p><h1 id="9729" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">5.为强制租赁创建别名</h1><p id="b578" class="pw-post-body-paragraph ki kj it kk b kl mi ju kn ko mj jx kq kr mk kt ku kv ml kx ky kz mm lb lc ld im bi translated"><em class="mn">主文:</em><a class="ae mo" rel="noopener ugc nofollow" target="_blank" href="/git-force-vs-force-with-lease-9d0e753e8c41"><em class="mn">Git Force vs Force with Lease</em></a></p><p id="91b2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">作为一个rebases的人，我需要和<code class="fe mp mq mr ms b">--force-with-lease</code>一起推远支很多。而且每次都把整件事写出来也没意思:</p><pre class="lf lg lh li gt mt ms mu mv aw mw bi"><span id="2127" class="mx lr it ms b gy my mz l na nb">git push --force-with-lease</span></pre><p id="c6fe" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这就是为什么我为它创建了一个别名:</p><pre class="lf lg lh li gt mt ms mu mv aw mw bi"><span id="b525" class="mx lr it ms b gy my mz l na nb">git config --global alias.enforce "push --force-with-lease"</span></pre><p id="befb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后命令变得更短:</p><pre class="lf lg lh li gt mt ms mu mv aw mw bi"><span id="472a" class="mx lr it ms b gy my mz l na nb">git enforce</span></pre><h1 id="4a73" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">6.推送时的默认分支名称</h1><p id="ca11" class="pw-post-body-paragraph ki kj it kk b kl mi ju kn ko mj jx kq kr mk kt ku kv ml kx ky kz mm lb lc ld im bi translated">假设您已经创建了一个新分支，并希望第一次将它推送到远程回购。Git会抱怨，说你应该设置上游:</p><pre class="lf lg lh li gt mt ms mu mv aw mw bi"><span id="6a4a" class="mx lr it ms b gy my mz l na nb">git push -u origin the-same-name-as-my-current-branch</span></pre><p id="07f5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这整个工作流程超级烦人。这就是为什么有一个配置来自动化它:</p><pre class="lf lg lh li gt mt ms mu mv aw mw bi"><span id="85ba" class="mx lr it ms b gy my mz l na nb">git config --global push.default current</span></pre><p id="aa12" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有了这个配置集，下一次您想要推送到一个没有上游集的分支时，git会自动使用当前分支的名称将上游设置到一个远程分支。</p><h1 id="d975" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">最后的话</h1><p id="c0f0" class="pw-post-body-paragraph ki kj it kk b kl mi ju kn ko mj jx kq kr mk kt ku kv ml kx ky kz mm lb lc ld im bi translated">我每周都会在git上写一篇博文。</p><ul class=""><li id="dde9" class="nc nd it kk b kl km ko kp kr ne kv nf kz ng ld nh ni nj nk bi translated"><a class="ae mo" href="https://medium.com/subscribe/@aerabi" rel="noopener">订阅</a>my Medium publishes，以便在新的Git周刊发布时获得通知。</li><li id="a01f" class="nc nd it kk b kl nl ko nm kr nn kv no kz np ld nh ni nj nk bi translated">在Twitter 上关注<a class="ae mo" href="https://twitter.com/MohammadAliEN" rel="noopener ugc nofollow" target="_blank">我，了解更多其他平台上发布的更新和文章。</a></li></ul></div></div>    
</body>
</html>