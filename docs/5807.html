<html>
<head>
<title>Flutter Cross-Platform Tricks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">颤振跨平台技巧</h1>
<blockquote>原文：<a href="https://itnext.io/flutter-cross-platform-tricks-2196986c619c?source=collection_archive---------0-----------------------#2021-05-29">https://itnext.io/flutter-cross-platform-tricks-2196986c619c?source=collection_archive---------0-----------------------#2021-05-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/9738ca14e65031ddce646a65a90cdceb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v3k3DjirfgUFg-gPgh3BDg.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">Marcel Strauss 在<a class="ae kf" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="b221" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">谷歌没有考虑的主要问题是如何让你的flutter小工具符合目标平台的平台主题Material或Cupertino。相反，谷歌教授手动编写材料方式和库比提诺方式，让两个应用程序根据目标平台切换到一个或另一个。因为大多数人都不想写双倍的代码；让我告诉你一个更简单的方法。</p><p id="4b10" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我正在使用的插件是我贡献的一个，名为Flutter Platform Widgets:</p><p id="47c6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">【https://pub.dev/packages/flutter_platform_widgets T4】</p><p id="57ea" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">虽然，它目前是测试版；他们紧跟Material和Cupertino widgets的所有变化，因此使用他们的方法制作完整的跨平台flutter应用程序非常有用。</p><h1 id="5010" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><strong class="ak">背景</strong></h1><p id="b0ad" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">问题是，虽然谷歌在向你介绍小工具方面做得很好；在成熟市场中开发专业应用程序并不需要掌握这些技术。那是我自己分配的工作，推出介质文章和我的颤振设计与开发丛书。</p><p id="77c3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我发现，通过展示很酷的视觉和动画，我可以让你们做无聊的devOPS、OOP和FP，让你们了解颤振专家的要点。涵盖的一些主题有:</p><p id="48d9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">DevOPS</p><p id="49aa" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为Flutter开发调优一台廉价的MS Windows笔记本电脑<a class="ae kf" href="https://medium.com/p/tuning-a-cheap-ms-windows-laptop-for-flutter-app-development-572d09cd4d19" rel="noopener">https://medium . com/p/tuning-A-Cheap-MS-Windows-Laptop-for-Flutter-app-Development-572d 09 CD4 d 19</a></p><p id="064e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">日志驱动学习颤振<a class="ae kf" href="https://medium.com/codex/log-driven-learning-flutter-d76b49b75a8c" rel="noopener">https://medium . com/codex/log-Driven-Learning-Flutter-d 76 b 49 b 75 a 8 c</a></p><p id="4c02" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">UML在颤动中变得冷静<a class="ae kf" rel="noopener ugc nofollow" target="_blank" href="/uml-coolness-in-flutter-6bb14217b5f2">https://itnext.io/uml-coolness-in-flutter-6bb14217b5f2</a></p><p id="8959" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">线头像个老板<a class="ae kf" rel="noopener ugc nofollow" target="_blank" href="/lint-like-a-boss-60b85e82c227">https://itnext.io/lint-like-a-boss-60b85e82c227</a></p><p id="c30b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">麦凯布周期在颤动<a class="ae kf" href="https://medium.com/p/mccabe-cycles-in-flutter-3aa913e19428" rel="noopener">https://medium.com/p/mccabe-cycles-in-flutter-3aa913e19428</a></p><p id="713f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">获取真实代码覆盖率<a class="ae kf" href="https://medium.com/p/getting-real-code-coverage-951231afa2bc" rel="noopener">https://medium . com/p/getting-Real-Code-Coverage-951231 afa2 BC</a></p><p id="b298" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">https://medium.com/p/lcov-on-windows-7c58dda07080<a class="ae kf" href="https://medium.com/p/lcov-on-windows-7c58dda07080" rel="noopener">视窗上的lcov</a></p><p id="c42f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">测试秘密，测试套件【https://itnext.io/test-secrets-test-suites-99f8390b8d4b T4】</p><p id="9e6c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">how-to-flutter内部包<a class="ae kf" rel="noopener ugc nofollow" target="_blank" href="/how-to-flutter-internal-packages-cad1285fe8c">https://it next . io/how-To-Flutter-Internal-Packages-CAD 1285 fe8c</a></p><p id="2bc0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">安架构布局<a class="ae kf" href="https://medium.com/codex/an-architecture-layout-8f414271b2b4" rel="noopener">https://medium . com/codex/an-Architecture-Layout-8f 414271 B2 B4</a></p><p id="48f9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">日志，专家方式<a class="ae kf" href="https://medium.com/codex/logging-the-expert-way-5beb5c967e44" rel="noopener">https://medium . com/codex/logging-The-Expert-Way-5b E5 c 967 e 44</a></p><p id="444c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Catch Flutter应用程序异常<a class="ae kf" rel="noopener ugc nofollow" target="_blank" href="/catch-flutter-application-exceptions-cad036d0fd4e">https://it next . io/catch-Flutter-Application-Exceptions-CAD 036d 0 FD 4 e</a></p><p id="ee90" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">颤振完美设置<a class="ae kf" href="https://medium.com/codex/flutter-perfect-setup-c5462b412f78" rel="noopener">https://medium.com/codex/flutter-perfect-setup-c5462b412f78</a></p><p id="669f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">酷扑文档<a class="ae kf" href="https://medium.com/p/cool-flutter-docs-383b951d7feb" rel="noopener">https://medium.com/p/cool-flutter-docs-383b951d7feb</a></p><p id="b717" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">视觉的</p><p id="1768" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">用户喜爱的动画(rive)<a class="ae kf" href="https://medium.com/codex/animations-users-love-75a57a8cad5" rel="noopener">https://medium.com/codex/animations-users-love-75a57a8cad5</a></p><p id="b1a5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">全扑背景绝招<a class="ae kf" href="https://medium.com/p/full-flutter-background-trick-d1ea813470d2" rel="noopener">https://medium . com/p/全扑-背景-绝招-d1ea813470d2 </a></p><p id="1cd8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Flutter应用中的Cool Rive背景动画<a class="ae kf" href="https://medium.com/p/cool-rive-background-animation-in-flutter-apps-2fd5e58bc81b" rel="noopener">https://medium . com/p/cool-Rive-Background-Animation-in-Flutter-Apps-2fd 5 e 58 BC 81 b</a></p><p id="8ba2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">由于我的文章出现在多种出版物上，因此保持更新的最佳方式是加入这些社交平台之一，并使用我的个人资料链接关注我:</p><p id="b0e1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">LinkedIN<a class="ae kf" href="https://www.linkedin.com/in/fredgrottstartupfluttermobileappdesigner/" rel="noopener ugc nofollow" target="_blank">https://www . LinkedIN . com/in/fredgrottstartupfluttermobileappdesigner/</a></p><p id="87b0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">邢<a class="ae kf" href="https://www.xing.com/profile/Fred_Grott/cv" rel="noopener ugc nofollow" target="_blank">https://www.xing.com/profile/Fred_Grott/cv</a></p><p id="05e9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">不和<a class="ae kf" href="https://discordapp.com/users/9388/" rel="noopener ugc nofollow" target="_blank">https://discordapp.com/users/9388/</a></p><p id="7f62" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Gitter(加入本论坛获取文章链接)【https://gitter.im/flutter/flutter T2】</p><p id="91eb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">slack<a class="ae kf" href="https://app.slack.com/client/TGT6YF2J1/CGS4QDJ56/user_profile/UHK8PNRGU" rel="noopener ugc nofollow" target="_blank">https://app . slack . com/client/TGT 6 yf2 j 1/cgs 4 qdj 56/user _ profile/uhk 8 pnr gu</a></p><p id="c93c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">推特<a class="ae kf" href="https://twitter.com/fredgrott" rel="noopener ugc nofollow" target="_blank">https://twitter.com/fredgrott</a></p><p id="d1c2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">中型<a class="ae kf" href="https://fredgrott.medium.com" rel="noopener">https://fredgrott.medium.com</a></p><p id="e4d7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Reddit FlutterDev Subedit(只要加入这个论坛，你就会通过Reddit得到通知)<a class="ae kf" href="https://www.reddit.com/r/FlutterDev/" rel="noopener ugc nofollow" target="_blank">https://www.reddit.com/r/FlutterDev/</a></p><p id="defb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一如既往，文章和书籍的代码可以在以下位置找到:</p><p id="866a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Github上的flutter design and arch Rosetta<a class="ae kf" href="https://github.com/fredgrott/flutter_design_and_arch_rosetta" rel="noopener ugc nofollow" target="_blank">https://Github . com/Fred grott/flutter _ design _ and _ arch _ Rosetta</a></p><p id="c755" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我贡献的插件有</p><p id="2e50" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">颤振平台小部件<a class="ae kf" href="https://github.com/stryder-dev/flutter_platform_widgets" rel="noopener ugc nofollow" target="_blank">https://github.com/stryder-dev/flutter_platform_widgets</a></p><p id="6b0a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">颤振驱动(播放器)插件<a class="ae kf" href="https://github.com/rive-app/rive-flutter" rel="noopener ugc nofollow" target="_blank">https://github.com/rive-app/rive-flutter</a></p><h1 id="e57f" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><strong class="ak">跨平台背景</strong></h1><p id="2ab7" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我将展示跨平台颤振应用程序设计和创建的错误方法。不要这样做！有了这个警告，让我们开始吧。</p><p id="62a4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">谷歌想出了这个愚蠢的方法，使用MaterialApp，切换底层的平台架构，去掉一些关键的小部件。问题是，它在Cupertino widgets上充其量也是不完美的，出现了足够多的差异，以至于你赶走了iOS用户。这也是我警告你不要这么做的原因。</p><p id="b3d9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一个主要原因是，您最终会得到许多不可共享的代码。如果您查看Google自己的示例platform_design，您会看到其中有10%或更多的不可共享代码:</p><p id="941d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae kf" href="https://github.com/flutter/samples/tree/master/platform_design" rel="noopener ugc nofollow" target="_blank">https://github . com/颤振/samples/tree/master/platform _ design</a></p><p id="aeb8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，即使谷歌的方式意味着有10%的不可共享代码，它也有一个附带的好处，那就是他们必须设置它，以便你可以在库比蒂诺这边使用材料小部件。这意味着，只要父容器是一个材质小部件容器，像材质运动、波纹等事实上可以重用。</p><p id="8f44" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但首先，让我们看看一些关键的平台差异。</p><h1 id="c16d" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><strong class="ak">移动平台差异</strong></h1><p id="3783" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">Android有两个导航栏，app栏，底部navbar而iOS只有一个底部导航栏。安卓有一套材质设计颜色；而苹果的iOS有着平淡的设计色彩。</p><p id="b944" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，我们有材料设计和苹果公司的平面设计人机界面指南之间的差异，通过文本内容属性可以看出字体主题在两个平台上的工作方式。</p><p id="45a2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Flutter Platform Widgets插件的好处在于它允许你以一种简单的方式适应这些差异。让我告诉你怎么做。</p><h1 id="97ab" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><strong class="ak">跨平台第一步</strong></h1><p id="fe20" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">要安装Flutter平台的小部件，你应该安装google_fonts插件，方法是:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="2791" class="mq lf it mm b gy mr ms l mt mu">flutter_platform_widgets: ^1.9.0</span><span id="c318" class="mq lf it mm b gy mv ms l mt mu">google_fonts: ^2.0.0</span></pre><p id="cbab" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它被放在pubspec的dependencies块下。主函数代码只是我在以前的几篇文章中提到的内容的组合:</p><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="8a3e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，我们已经为代码的myapp部分做好准备。</p><h1 id="cf20" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><strong class="ak"> MyApp代码</strong></h1><p id="4380" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们有这个myapp代码:</p><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="a969" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，我们来了解一下谷歌的方法和这种方法的区别。我们利用了主题可以有一个子部件的事实。Flutter Platform Widgets然后用它来建立一个平台提供商。</p><h1 id="30eb" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><strong class="ak">平台提供商</strong></h1><p id="c379" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">这不是一个Google风格的提供者，因为它只是一个有状态的小部件，允许访问驱动该插件如何检测目标平台并交付正确的targtplatformApp的函数。</p><p id="6503" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">每个Flutter平台部件都有一个构建器，一边是材质部件，一边是Cupertino部件。</p><p id="0aaf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于Flutter平台小部件，有一些助手功能。让我展示给你看。</p><h1 id="4354" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><strong class="ak">颤振平台Widgets助手功能</strong></h1><p id="a960" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们有PlatformThemeData，它可以用于为material和Cupertino小部件样式设计非颤振平台小部件。例如:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="3a01" class="mq lf it mm b gy mr ms l mt mu">Text(</span><span id="25ac" class="mq lf it mm b gy mv ms l mt mu">platform.text,</span><span id="bcf7" class="mq lf it mm b gy mv ms l mt mu">textAlign: TextAlign.center,</span><span id="a5a2" class="mq lf it mm b gy mv ms l mt mu">style: platformThemeData(</span><span id="b2d4" class="mq lf it mm b gy mv ms l mt mu">context,</span><span id="b4c8" class="mq lf it mm b gy mv ms l mt mu">material: (data) =&gt; data.textTheme.headline5,</span><span id="808b" class="mq lf it mm b gy mv ms l mt mu">cupertino: (data) =&gt; data.textTheme.navTitleTextStyle,</span><span id="6b5b" class="mq lf it mm b gy mv ms l mt mu">),</span><span id="3905" class="mq lf it mm b gy mv ms l mt mu">)</span></pre><p id="8c77" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有时候，我们需要呈现一个不同平台的父窗口小部件，但是有相同的子元素。这是一个平台小部件构建器:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="6929" class="mq lf it mm b gy mr ms l mt mu">PlatformWidgetBuilder(;</span><span id="e71a" class="mq lf it mm b gy mv ms l mt mu">cupertino: (_, child, __) =&gt; GestureDetector(child: child, onTap: _handleTap),</span><span id="a27e" class="mq lf it mm b gy mv ms l mt mu">material: (_, child, __) =&gt; IniWell(child: child, onTap: _handleTap),</span><span id="377c" class="mq lf it mm b gy mv ms l mt mu">child: Container(child: Text('Common text')),</span><span id="ccad" class="mq lf it mm b gy mv ms l mt mu">);</span></pre><p id="1f83" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在来看看使用这种策略的注意事项。</p><h1 id="7511" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><strong class="ak">对Flutter平台部件策略的跨平台考虑</strong></h1><p id="c8fc" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">材料工厂使用非声明性的覆盖窗口小部件，并且具有材料支架依赖性，因此没有办法在这种跨平台策略中真正使用它。但是，可以使用定位窗口小部件作为替代，因为我们不能在Cupertino平台上使用任何导航窗口小部件。</p><p id="3f82" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这些跨平台的Flutter平台部件的一个独特的好处是，我们可以更好地控制字体定制。使用谷歌的策略，你将不得不为每个窗口小部件单独加载自定义字体，因为当对每个窗口小部件同样使用这种策略时，你不会得到为文本平台定制的主题。</p><p id="56f7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，使用Flutter Platform Widgets策略，可以为每个平台设置文本主题来定制字体。例如:</p><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="080f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是我使用Flutter平台小部件和谷歌字体插件定制字体的库比蒂诺文本主题。Cupertino方面必须有更多的东西，因为Cupertino与平面设计用户指南相关，而材料字体与材料设计指南相关。</p><p id="2010" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您需要做一些编码工作的另一个主要考虑是Cupertino平台目标的颜色设置。你必须重新定义一切，因为Cupertino没有任何材料配色方案:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="9210" class="mq lf it mm b gy mr ms l mt mu">import 'package:flutter/cupertino.dart';</span><span id="4e47" class="mq lf it mm b gy mv ms l mt mu">import 'package:flutter/material.dart';</span><span id="0c91" class="mq lf it mm b gy mv ms l mt mu">// In CupertinoApp Widgets we do not have ColorScheme</span><span id="613a" class="mq lf it mm b gy mv ms l mt mu">// and so this is the best approximation. Define</span><span id="7b1a" class="mq lf it mm b gy mv ms l mt mu">// Primary, PrimaryVariant, Secondary, and SecondaryVariant</span><span id="4bb1" class="mq lf it mm b gy mv ms l mt mu">CupertinoDynamicColor myCupertinoPrimaryColor =</span><span id="b4ef" class="mq lf it mm b gy mv ms l mt mu">const CupertinoDynamicColor.withBrightness(</span><span id="9dce" class="mq lf it mm b gy mv ms l mt mu">color: Colors.purple,</span><span id="c088" class="mq lf it mm b gy mv ms l mt mu">darkColor: Colors.cyan,</span><span id="0042" class="mq lf it mm b gy mv ms l mt mu">);</span><span id="01ec" class="mq lf it mm b gy mv ms l mt mu">CupertinoDynamicColor myCupertinoPrimaryContrastingColor =</span><span id="632b" class="mq lf it mm b gy mv ms l mt mu">const CupertinoDynamicColor.withBrightness(</span><span id="65f8" class="mq lf it mm b gy mv ms l mt mu">color: Colors.deepPurple,</span><span id="2cde" class="mq lf it mm b gy mv ms l mt mu">// ignore: prefer-trailing-comma</span><span id="68a8" class="mq lf it mm b gy mv ms l mt mu">darkColor: Colors.deepPurpleAccent);</span></pre><p id="302a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过这种方式，颜色可以在库比蒂诺平台的浅色和深色主题中恰当地流动。</p><p id="1088" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，让我向您展示UI代码的其余部分。</p><h1 id="2ddf" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><strong class="ak">UI代码的其余部分</strong></h1><p id="a736" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">主页代码如下所示:</p><figure class="mh mi mj mk gt ju"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="3b65" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">完整的来源在回购中:</p><p id="846b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae kf" href="https://github.com/fredgrott/flutter_design_and_arch_rosetta" rel="noopener ugc nofollow" target="_blank">https://github . com/Fred grott/flutter _ design _ and _ arch _ Rosetta</a></p><p id="0be2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它位于base_ui_platexp项目中的foundation_base子文件夹下。</p><h1 id="8f76" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><strong class="ak">结论</strong></h1><p id="9581" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">现在，这比拥有额外的10%不可共享的代码更容易吗？第四，我将展示如何依赖注入平台主题，每个状态的明和暗的变体，每个状态的解决方案，以及其他与状态技巧相结合的花式。</p><h1 id="be34" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><strong class="ak">资源</strong></h1><p id="56b9" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">特定于文章的资源:</p><p id="22f5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">颤振设计和arch Rosetta<a class="ae kf" href="https://github.com/fredgrott/flutter_design_and_arch_rosetta" rel="noopener ugc nofollow" target="_blank">https://github . com/Fred grott/flutter _ design _ and _ arch _ Rosetta</a></p><p id="7fa9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一般颤振和飞镖资源；</p><p id="41c5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">扑社区资源<a class="ae kf" href="https://flutter.dev/community" rel="noopener ugc nofollow" target="_blank">https://flutter.dev/community</a></p><p id="f212" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">颤振SDK<a class="ae kf" href="https://flutter.dev/docs/get-started/install" rel="noopener ugc nofollow" target="_blank">https://flutter.dev/docs/get-started/install</a></p><p id="1c47" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Android Studio IDE<a class="ae kf" href="https://developer.android.com/studio" rel="noopener ugc nofollow" target="_blank">https://developer.android.com/studio</a></p><p id="b77f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">MS的Visual Studio代码<a class="ae kf" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank">https://code.visualstudio.com/</a></p><p id="e2ec" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">颤振文件<a class="ae kf" href="https://flutter.dev/docs" rel="noopener ugc nofollow" target="_blank">https://flutter.dev/docs</a></p><p id="b87f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">dart Docs<a class="ae kf" href="https://dart.dev/guides" rel="noopener ugc nofollow" target="_blank">https://dart.dev/guides</a></p><p id="c8cc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">谷歌Firebase移动设备测试实验室<a class="ae kf" href="https://firebase.google.com/docs/test-lab" rel="noopener ugc nofollow" target="_blank">https://firebase.google.com/docs/test-lab</a></p><h1 id="f114" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><strong class="ak">商标公告</strong></h1><p id="ff69" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">Google LLC拥有以下商标:飞镖，颤振，机器人，机器人，诺托。苹果公司拥有iOS、MacOSX、Swift和Objective-C的商标。苹果公司拥有SF Pro、Sf Compact、SF mono和New York字体的商标。JetBeans Inc .拥有JetBeans、IntelliJ和Kotlin的商标。甲骨文公司拥有Java商标。微软公司拥有微软视窗操作系统和Powershell的商标。Gradle是Gradle Inc .的商标。Git项目拥有Git的商标。Linux基金会拥有Linux的商标。智能手机OEM自有商标到其手机产品名称。尽我所能，我遵守上述商标的品牌和使用指南。</p><h1 id="bc32" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><strong class="ak">关于我，弗雷德·格罗特</strong></h1><p id="08c3" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我正在进行一次不同的冒险，创建一个创造者工作室，以引导的方式向你们教授Flutter应用程序设计和开发。</p><p id="8d6b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我的基本资料在https://keybase.io/fredgrott<a class="ae kf" href="https://keybase.io/fredgrott" rel="noopener ugc nofollow" target="_blank">的</a></p></div></div>    
</body>
</html>