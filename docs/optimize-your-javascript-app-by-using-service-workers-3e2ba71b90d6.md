# 使用服务人员优化您的 JavaScript 应用程序

> 原文：<https://itnext.io/optimize-your-javascript-app-by-using-service-workers-3e2ba71b90d6?source=collection_archive---------8----------------------->

![](img/0d09894078dc268b8656ce71f8b145bc.png)

用于演示软件工作的漂亮图像。

我们不时会听到一些关于优化的事情。我们可以做不同种类的优化来使我们的应用程序更快更有效。为了节省时间或记忆。这篇文章将介绍其中的一种方法——为 T2 的员工提供服务。

# TL；速度三角形定位法(dead reckoning)

本教程解释了什么是*服务人员*以及如何使用它。在 JavaScript 中。最后有一个代码示例。如果你想跳过阅读，这里的[是 Git 回购，](https://github.com/mihailgaberov/learn-service-workers)[这里的](https://compassionate-brahmagupta-71d9b4.netlify.com/)你可以看到一个现场演示。

# 该理论

让我们先看看这是什么工作👀我们能用它做什么服务呢🤓。

*服务人员*是一个[简单脚本](https://developers.google.com/web/fundamentals/primers/service-workers/)。JavaScript 代码，你的浏览器在后台运行，独立于网页。对于不需要网页或用户交互的功能，使用服务人员非常方便。最常见的用途之一是拦截和处理网络请求。其中包括管理响应缓存。下面是如何在应用程序运行中包含服务人员的简单示例。

通常，在你的应用程序的入口点，你把这个:

```
if ('serviceWorker' in navigator) {
  window.addEventListener('load', function() {
    navigator.serviceWorker.register('/service-worker.js');
  });
}
```

这种使用服务人员的方式比基本的有一点点改进。这将直接调用 *if 语句中的*寄存器*()方法。*在本例中，我们使用窗口加载事件在页面加载完成后注册服务人员。这样做之后，您需要在 *service-worker.js* 文件中添加您的服务工作者代码。在这一点上，你可能想看看我的服务人员档案。

现在所有主流浏览器都支持服务人员，你可以马上开始使用他们。

# 这个例子

理论已经足够了，让我们构建一个真正的示例应用程序，它将利用服务人员功能。

假设我们正在构建一个需要加载大量数据的应用程序。例如，它可以是一个漂亮的、大的全屏图像，我们将在首页显示。或者它可能是一个大的视频剪辑，我们必须等待加载。这是一个让服务人员大放异彩的理想用例。让我们看看怎么做。👀

在我们的具体案例中，我们将使用时钟时间来展示使用服务人员的好处。我的意思是，我们将建立一个简单的应用程序，显示时间。它将有一个漂亮的大按钮，用于获取漂亮的大图像。它将为用户提供选择**使用或不使用**服务人员的选项。

下面是它的截图。

![](img/417e3ee185ac162080990707fa048c79.png)

这个应用程序演示的是，当获取图像时(通过点击按钮，哇！)使用活动的服务人员—我们不会遇到被阻止的 UI(用户界面，即字段、按钮、🐛).如果您选择不使用服务工作者，您将获得一个冻结的用户界面一段时间。当工作完成并且主线程释放自己时，它将解冻 UI。

如果你不想自己克隆和运行代码，直接跳到[现场演示](https://compassionate-brahmagupta-71d9b4.netlify.com/)。

# 结论

服务人员的演示向我们展示了使用他们的好处。尤其是当您试图构建响应迅速且健壮的 JavaScript 应用程序时。没有用户希望在一段未知的时间内停留在一个冻结的页面上，因为没有开发人员希望他的应用程序的用户出现这种情况。记住上面所说的，服务人员现在是必须的。我们不应该忽视他们。

🔥感谢阅读！🔥