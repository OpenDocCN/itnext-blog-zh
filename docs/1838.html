<html>
<head>
<title>Predicting Functional Water Pumps in Tanzania using Random Forests and Logistic Regression in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python中的随机森林和逻辑回归预测坦桑尼亚的功能水泵</h1>
<blockquote>原文：<a href="https://itnext.io/predicting-functional-water-pumps-in-tanzania-using-random-forests-and-logistic-regression-in-ffa04b0617f2?source=collection_archive---------7-----------------------#2019-02-08">https://itnext.io/predicting-functional-water-pumps-in-tanzania-using-random-forests-and-logistic-regression-in-ffa04b0617f2?source=collection_archive---------7-----------------------#2019-02-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="3e55" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于同一数据集的基线模型和初始逻辑回归，请参见本文末尾第二个附加的jupyter笔记本</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/c0150b95506f3c4e5d4732d1dafdd163.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wnwVCT333Ke-4mQ4.jpg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">坦桑尼亚马拉河流域，当地的孩子们在抽取地下水。安娜·莱默斯2016<a class="ae lb" href="http://maraselva.fiu.edu/en/fetching-water-on-a-saturday-morning/" rel="noopener ugc nofollow" target="_blank">http://maraselva . FIU . edu/en/周六早上打水/ </a></figcaption></figure><p id="39c5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae lb" href="https://www.kaggle.com/manjulamishra/water-pumps-random-forest-model-and-plots" rel="noopener ugc nofollow" target="_blank">这一整周，我都在为课堂上的Kaggle挑战赛</a>处理坦桑尼亚的水泵数据。“坦桑尼亚的水泵”是一个有趣的数据集。目标变量由三类水泵组成:功能性水泵、非功能性水泵和需要维修的水泵。这是一个如何准确预测类别的经典分类问题。挑战在于我们能否预测哪些泵在工作。</p><p id="5025" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">数据集大小不错，但需要认真清理。除了几个数字变量，大多数特征都是分类的。考虑到缺少的值的数量，数字特性没有太大的帮助。然而，它们足够重要，不能被丢弃。另一方面，与数字特征相比，分类变量没有很多缺失值，但几乎每个变量都代表至少数百个类别。例如:特征<em class="lc">‘wpt _ name’</em>有45600种类型的名称。在随附的笔记本中，您将看到:</p><ol class=""><li id="8a58" class="ld le iq jp b jq jr ju jv jy lf kc lg kg lh kk li lj lk ll bi translated">手动清理，因为我想手工挑选代表最多信息的类别数量(也是为了防止我的笔记本电脑崩溃)。</li><li id="054b" class="ld le iq jp b jq lm ju ln jy lo kc lp kg lq kk li lj lk ll bi translated">熊猫分类变量的虚拟编码</li><li id="a568" class="ld le iq jp b jq lm ju ln jy lo kc lp kg lq kk li lj lk ll bi translated">决策树模型</li><li id="d2cc" class="ld le iq jp b jq lm ju ln jy lo kc lp kg lq kk li lj lk ll bi translated">随机森林模型</li><li id="e44a" class="ld le iq jp b jq lm ju ln jy lo kc lp kg lq kk li lj lk ll bi translated">很酷的可视化效果！</li><li id="b846" class="ld le iq jp b jq lm ju ln jy lo kc lp kg lq kk li lj lk ll bi translated">附jupyter笔记本。</li></ol><p id="f4c9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们先来看看功能正常、不正常或需要维修的泵的数量:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi lr"><img src="../Images/a1001d165ad3c6789f116fca067de1c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jGZUU1QnvGT_8MUBEc4Okw.png"/></div></div></figure><p id="e414" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们还可以在不同的流域划分不同等级的水泵:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ls lt l"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi lu"><img src="../Images/b62c449b1dc7cf75562a9973d5eadce4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2fIK6M6SDfzYh4tz95-ClQ.png"/></div></div></figure><p id="e8a8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">另一个有趣的发现是根据水的类型检查功能:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ls lt l"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi lv"><img src="../Images/f11b79336838ab968a7704b9b9be3071.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*idpRez_NPeb0hYCJtujvpg.png"/></div></div></figure><p id="39c1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们来看一些手动清洁的例子(更多信息，请参见随附的笔记本):</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="4410" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">决策树:</strong></p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ls lt l"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/1c09198f7e7bcdda3a94e85bedcbd455.png" data-original-src="https://miro.medium.com/v2/resize:fit:612/format:webp/1*hO7Nf-KotFzIY8v3uMisNA.png"/></div></figure><p id="5c18" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">随机森林:</strong></p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ls lt l"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi lx"><img src="../Images/9d5eab690144ee0522d7ab3d9c484e1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*snsaX015Mlt3avtsk_7YtQ.png"/></div></div></figure><p id="9eb8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一个不错的测试准确度分数。我不想过分拟合这个模型，因为它是一个Kaggle竞争的意思，我们不会知道我们的预测对地面真相的准确性，直到私人董事会的结果出来。很高兴地告诉大家，<a class="ae lb" href="https://www.kaggle.com/c/ds1-predictive-modeling-challenge/leaderboard" rel="noopener ugc nofollow" target="_blank">私人排行榜</a>上的准确度分数(射频准确度分数:0.80846)与我的<a class="ae lb" href="https://www.kaggle.com/c/ds1-predictive-modeling-challenge/leaderboard" rel="noopener ugc nofollow" target="_blank">公共排行榜</a>(射频准确度分数:0.8090235)非常一致。</p><p id="3714" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">笔记本上的一些很酷的视觉效果:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ls lt l"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ly"><img src="../Images/885b44ff4dad1e67507845440547f3b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0-w2h5c6HrEktRXkvreW1Q.png"/></div></div></figure><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ls lt l"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi lz"><img src="../Images/f1bb53069979e3b12bc6807a8957c874.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*caXqsCurdByGuEsriFKBRQ.png"/></div></div></figure><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="6fe8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">基线模型和逻辑回归在下面的附加笔记本中:</p><ol class=""><li id="808a" class="ld le iq jp b jq jr ju jv jy lf kc lg kg lh kk li lj lk ll bi translated">带模式的基线</li><li id="b3d0" class="ld le iq jp b jq lm ju ln jy lo kc lp kg lq kk li lj lk ll bi translated">阶级不平衡</li><li id="918f" class="ld le iq jp b jq lm ju ln jy lo kc lp kg lq kk li lj lk ll bi translated">只有数字特征的逻辑回归</li><li id="5376" class="ld le iq jp b jq lm ju ln jy lo kc lp kg lq kk li lj lk ll bi translated">编码分类特征后的逻辑回归</li><li id="a2d0" class="ld le iq jp b jq lm ju ln jy lo kc lp kg lq kk li lj lk ll bi translated">具有编码分类特征并使用来自sklearn的标准标量的逻辑回归</li></ol><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ls lt l"/></div></figure></div></div>    
</body>
</html>