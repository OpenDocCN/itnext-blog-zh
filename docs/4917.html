<html>
<head>
<title>Detecting Open Source Vulnerabilities in Your IDE</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">检测IDE中的开源漏洞</h1>
<blockquote>原文：<a href="https://itnext.io/detecting-open-source-vulnerabilities-in-your-ide-c3b7c01ba214?source=collection_archive---------2-----------------------#2020-10-23">https://itnext.io/detecting-open-source-vulnerabilities-in-your-ide-c3b7c01ba214?source=collection_archive---------2-----------------------#2020-10-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/22566791fe7b760f16653013b87401e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*erVqlTKQ7b1wnZhdBRMNKQ.jpeg"/></div></div></figure><p id="7cb6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用开放源代码时，会出现以下问题:</p><ul class=""><li id="1c37" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated">开源安全吗？</li><li id="c646" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">我可以安装这个依赖项吗？</li><li id="8034" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">此软件包会降低我的应用程序的安全性吗？</li></ul><p id="cf43" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">第一个问题非常笼统，简短的回答是<strong class="ka ir">是的</strong>。不幸的是，另外两个是特例，不可能有人事先知道。</p><p id="d8c1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下面是你应该为另外两个做的事情。您可以做的一件事是查看您想要使用的包/模块/依赖项。在这里你可以看到它有多少下载量，有多少开发者在积极维护这个包，以及它周围的社区有多大。</p><p id="e783" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这些指标应该是一个很好的起点，但是它们不能通知您将来会出现的任何漏洞。</p><p id="6658" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以做的另一件事是使用一种工具，它会自动扫描您的开源组件，并通知您任何已知的漏洞。</p><p id="8be8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以使用的几个工具是<a class="ae lk" href="https://owasp.org/www-project-dependency-check/" rel="noopener ugc nofollow" target="_blank">依赖性检查</a>、<a class="ae lk" href="https://github.com/rubysec/bundler-audit" rel="noopener ugc nofollow" target="_blank"> Bundler-Audit </a>或<a class="ae lk" href="https://marketplace.visualstudio.com/items?itemName=whitesource.whitesource-advise" rel="noopener ugc nofollow" target="_blank"> WhiteSource Advise </a>。今天我们将重点讨论WhiteSource Advise。这个工具是各种ide的扩展，包括Visual Studio、Eclipse和IntelliJ。它的用途是提供对开源组件的完全可见性，并创建安全漏洞警报。</p><p id="2f46" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它将返回的一些洞察是CVE(常见漏洞和暴露)ID和CVSS(常见漏洞评分系统)分数。</p><p id="aea2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下面是如何在VS代码中集成和使用这个工具的概述。</p><h1 id="0c6f" class="ll lm iq bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">先决条件</h1><p id="8128" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">不幸的是，这个扩展在VS代码市场上是可用的，并且只适用于Windows机器。因此，需要windows操作系统。</p><p id="797d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您还需要您的凭证，例如用于开发人员的<a class="ae lk" href="https://www.whitesourcesoftware.com/whitesource-for-developers/" rel="noopener ugc nofollow" target="_blank">white source</a>的有效许可证和用于IDE的WhiteSource Advise的许可证密钥。</p><p id="7c3c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一旦你掌握了这些信息，我们就可以继续了。</p><h2 id="6d34" class="mo lm iq bd ln mp mq dn lr mr ms dp lv kj mt mu lz kn mv mw md kr mx my mh mz bi translated">第一步</h2><p id="12c4" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">显然，第一步是打开编辑器。</p><figure class="nb nc nd ne gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi na"><img src="../Images/c25e00580c8a665d4074801635a0efb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4P3Hjbxx_GQAaUHlfHbupg.png"/></div></div></figure><p id="d700" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了看到这一点，我们需要一个有包管理器的项目，比如NPM或NuGet。</p><h2 id="90e0" class="mo lm iq bd ln mp mq dn lr mr ms dp lv kj mt mu lz kn mv mw md kr mx my mh mz bi translated">第二步</h2><p id="a267" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">如果我们打开了编辑器，并且有一个合适的项目，那么我们可以转到Extensions选项卡，搜索WhiteSource Advise。</p><figure class="nb nc nd ne gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nf"><img src="../Images/9033a27cf387942adb7643baf5612425.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N2jOd3dfs0AO6xI5MKJqcw.png"/></div></div></figure><p id="0aea" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">点击<strong class="ka ir">白源建议</strong>，然后点击<strong class="ka ir">安装。</strong></p><h2 id="63de" class="mo lm iq bd ln mp mq dn lr mr ms dp lv kj mt mu lz kn mv mw md kr mx my mh mz bi translated">第三步</h2><p id="bee3" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">成功安装扩展后，我们需要使用许可证密钥激活它。</p><p id="b97f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">要做到这一点并与扩展进行通信，我们可以利用它通过<strong class="ka ir">命令面板提供的可用命令。</strong></p><p id="e5fb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">要打开<strong class="ka ir">命令托盘</strong>，您可以按下<strong class="ka ir"> CTRL + SHIFT + P </strong>或者您可以进入<strong class="ka ir">视图→命令托盘</strong></p><p id="8d9a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一旦面板出现，搜索<strong class="ka ir">白源</strong>并选择<strong class="ka ir">白源:激活</strong> <strong class="ka ir">白源建议</strong>。</p><p id="9ea6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">激活向导有两个步骤，这里我们需要逐一提供:</p><ol class=""><li id="e75f" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv ng lc ld le bi translated"><strong class="ka ir">电子邮件</strong></li></ol><figure class="nb nc nd ne gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nh"><img src="../Images/d8bef3f39809c8392856835b71d5041a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yvPeiaCfjUHvnOigTm0BJw.png"/></div></div></figure><p id="29d0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">2.<strong class="ka ir">许可密钥</strong></p><figure class="nb nc nd ne gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ni"><img src="../Images/c627cdfbfd2161f5f20461801ac5c7ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*66TtykrESp_amIGACZlrFA.png"/></div></div></figure><p id="f863" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">添加完这些凭证后，您应该会在右下角看到下面的消息。</p><figure class="nb nc nd ne gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nj"><img src="../Images/72800e96597270ec2fe9d36b59eada11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*To4-MxErWTfTkv4adT0LAg.png"/></div></div></figure><h2 id="7eb7" class="mo lm iq bd ln mp mq dn lr mr ms dp lv kj mt mu lz kn mv mw md kr mx my mh mz bi translated">第四步</h2><p id="decf" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">如果我们已经完成了所有这些步骤，这意味着我们已经准备好使用这个工具来分析我们的项目。</p><p id="f397" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">有几种方法可以做到这一点。</p><p id="2482" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以<strong class="ka ir">右键单击文件夹上的</strong>，然后选择<strong class="ka ir">使用白源建议扫描文件夹。</strong></p><p id="fd5b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="nk">在这个扫描整个工作区的例子中，我右击了工作区本身。</em></p><figure class="nb nc nd ne gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nl"><img src="../Images/2aa7dc47b119cbbecc60260a421c9b84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oScbBmcrStTY1NzJO4J4kA.png"/></div></div></figure><p id="d31e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">或者我们可以按下<strong class="ka ir"> Ctrl + Shift + Q，</strong>这将触发工具对整个工作空间进行扫描。</p><p id="f7cb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">无论哪种方式，我们都应该在通知栏上看到一条消息，表明正在发生什么。</p><figure class="nb nc nd ne gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nm"><img src="../Images/878ab1c51d0777016d63b1ea1f03db25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F6q0DkUrWZaVCF-H2g-3-Q.png"/></div></div></figure><h2 id="1db2" class="mo lm iq bd ln mp mq dn lr mr ms dp lv kj mt mu lz kn mv mw md kr mx my mh mz bi translated">第五步</h2><p id="e3de" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">一旦扫描完成，我们应该看到类似的东西。</p><figure class="nb nc nd ne gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi na"><img src="../Images/48c4a477e7634ca7cdbdf32ffb46ae15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8z6ozY3Y7F9WN-3usS0v9Q.png"/></div></div></figure><p id="9292" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">好了，我们运行了我们的第一个盒子，但是我们如何根据结果采取行动呢？</p><p id="40db" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果我们点击<strong class="ka ir">显示问题</strong>或者如果我们打开终端(<strong class="ka ir"> SHIFT + ` </strong>)并移动到<strong class="ka ir">问题</strong>选项卡，那么我们应该看到每个漏洞和依赖路径。</p><figure class="nb nc nd ne gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nn"><img src="../Images/3e37556aba76fdd614cc6310babb8acc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_fOpzxv5NrlaKH033Wa4VQ.png"/></div></div></figure><p id="0e60" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你点击其中一个问题，那么它应该会打开<strong class="ka ir"> package.json </strong>并关注这个问题起源的依赖关系。</p><p id="0e59" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">同时，底部会显示一个补救建议，可以帮助您解决问题。</p><figure class="nb nc nd ne gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi no"><img src="../Images/88c17900368496a42053c21922322f65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XoKNCTo_AE_wU0oJ6osRwg.png"/></div></div></figure><p id="814e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">大多数情况下，更新/升级是解决漏洞的唯一方法。</p><p id="051d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为此，我们可以做到以下几点:</p><p id="d064" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果我们需要下载一个新的次要或补丁版本的依赖项，我们可以运行<code class="fe np nq nr ns b">npm update</code>。</p><p id="dd5e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">该命令将安装更新的版本，并在<strong class="ka ir"> package-lock.json </strong>文件中进行相关的更改，努力用新版本填充它。</p><p id="f170" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">同时，<strong class="ka ir"> package.json </strong>保持不变。</p><p id="e5fe" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，您应该使用<code class="fe np nq nr ns b">npm ci</code>而不是<code class="fe np nq nr ns b">npm i</code>来安装您的依赖项。这样，它将带来<strong class="ka ir"> package-lock.json. </strong>中的内容</p><p id="2587" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe np nq nr ns b">npm update</code>只会更新到次要或补丁版本。</p><p id="7faf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我们的例子中，我们有<code class="fe np nq nr ns b">"jest":"^26.1.0"</code>，所以运行这个命令只会改变最后两个数字，而不会改变第一个数字。</p><p id="bad0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">请记住，在语义版本系统中，我们有<strong class="ka ir"> MAJOR </strong>。<strong class="ka ir">小调</strong>。<strong class="ka ir">补丁</strong>:</p><ol class=""><li id="aa8b" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv ng lc ld le bi translated">重大突破性变化</li><li id="9f1b" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv ng lc ld le bi translated">MINOR —添加了向后兼容的新功能</li><li id="3a87" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv ng lc ld le bi translated">补丁—错误修复。</li></ol><p id="7af7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于主要版本，我们需要运行<code class="fe np nq nr ns b">npm outdated</code>来发现新的版本。</p><p id="db00" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">此外，如果我们想了解更多关于此漏洞的信息，我们可以获取CVE ID，并在国家漏洞数据库中进行搜索。</p><figure class="nb nc nd ne gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nt"><img src="../Images/5f12e7e6aaabf94d5aa52b032f135c59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cPb2kuj8m7QYQ9rzwaKhsw.png"/></div></div></figure><h1 id="a8eb" class="ll lm iq bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">结论</h1><p id="6a94" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">开源是安全的，因为社区正在积极地参与项目的监控和改进。这些报告的存在应该表明为维护和提高这些组件的安全级别所做的努力。</p><p id="d959" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">不幸的是，开发人员几乎不可能不断地搜索所有新报告的漏洞，然后回过头来检查他们正在使用的依赖关系。</p><p id="3c92" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这些工具，就像我们上面看到的，可以帮助解决这个问题，从而让您比恶意黑客领先一步。在有人有机会在已发布的应用程序中利用这些问题之前，您就能够解决这些问题。</p><p id="0ef9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">* *免责声明—我收到了一位粉丝的个人请求，要求我试用免费版的<strong class="ka ir"><em class="nk">white source Advise</em></strong>，并注册了免费试用。这篇文章反映了我个人对该产品的看法和体验。</p></div></div>    
</body>
</html>