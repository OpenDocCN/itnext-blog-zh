<html>
<head>
<title>What is a Node resource group in Azure Kubernetes Service?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Azure Kubernetes服务中的节点资源组是什么？</h1>
<blockquote>原文：<a href="https://itnext.io/what-is-a-node-resource-group-in-azure-kubernetes-service-f693207912db?source=collection_archive---------0-----------------------#2020-01-29">https://itnext.io/what-is-a-node-resource-group-in-azure-kubernetes-service-f693207912db?source=collection_archive---------0-----------------------#2020-01-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="d24e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里有一个关于<a class="ae kp" href="https://docs.microsoft.com/azure/aks/?WT.mc_id=medium-blog-abhishgu" rel="noopener ugc nofollow" target="_blank"> Azure Kubernetes服务</a>中<code class="fe kl km kn ko b">Node Resource Group</code>的快速提示</p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="gh gi kq"><img src="../Images/7b1f91aa6ccc36ca78a9142b126609b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V1PkVRHFyYImPAskBzlLVQ.png"/></div></div></figure><p id="2941" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当你<a class="ae kp" href="https://docs.microsoft.com/azure/aks/kubernetes-walkthrough?WT.mc_id=medium-blog-abhishgu" rel="noopener ugc nofollow" target="_blank">创建一个AKS集群</a>作为<a class="ae kp" href="https://docs.microsoft.com/azure/azure-resource-manager/management/overview?WT.mc_id=medium-blog-abhishgu#terminology" rel="noopener ugc nofollow" target="_blank"> Azure资源组</a>的一部分时，它包含的只是AKS集群，而不是其他AKS组件，比如节点(虚拟机)等。这些与您的AKS集群相关的资源是另一个<em class="lc">不同的</em>资源组的一部分，该资源组是在部署期间<em class="lc">自动</em>创建的，这被称为<strong class="jp ir">节点资源组</strong></p><blockquote class="ld le lf"><p id="3a10" class="jn jo lc jp b jq jr js jt ju jv jw jx lg jz ka kb lh kd ke kf li kh ki kj kk ij bi translated"><em class="iq">这经常会使不熟悉AKS的人出错，因为他们试图在部署AKS的原始资源组中寻找组件</em></p></blockquote><p id="7628" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">除了最初部署时作为AKS集群一部分的节点、虚拟网络和其他资源之外，节点资源组还可以托管其他组件。例如，如果您<a class="ae kp" href="https://docs.microsoft.com/azure/aks/concepts-storage?WT.mc_id=medium-blog-abhishgu#persistent-volume-claims" rel="noopener ugc nofollow" target="_blank">使用默认存储类</a>的持久卷声明，AKS将提供一个<a class="ae kp" href="https://docs.microsoft.com/azure/virtual-machines/linux/managed-disks-overview?WT.mc_id=medium-blog-abhishgu" rel="noopener ugc nofollow" target="_blank"> Azure磁盘</a>，或者，如果您使用<code class="fe kl km kn ko b"><a class="ae kp" href="https://kubernetes.io/docs/concepts/services-networking/service/" rel="noopener ugc nofollow" target="_blank">LoadBalancer</a></code> <a class="ae kp" href="https://kubernetes.io/docs/concepts/services-networking/service/" rel="noopener ugc nofollow" target="_blank">服务</a>，AKS将在幕后提供一个<a class="ae kp" href="https://docs.microsoft.com/azure/load-balancer/load-balancer-overview?WT.mc_id=medium-blog-abhishgu" rel="noopener ugc nofollow" target="_blank"> Azure负载平衡器</a>。</p><p id="e096" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">节点资源组有一个默认的命名约定，所以找到它并不困难。格式为— <code class="fe kl km kn ko b">MC_&lt;AKS resource group&gt;_&lt;AKS cluster name&gt;_&lt;AKS region&gt;</code>如<code class="fe kl km kn ko b">MC_mygroup_myaks_southeastasia</code>。假设您想要列出支持AKS集群中持久卷的磁盘，您可以在<a class="ae kp" href="https://docs.microsoft.com/cli/azure/?view=azure-cli-latest&amp;WT.mc_id=medium-blog-abhishgu" rel="noopener ugc nofollow" target="_blank"> Azure CLI </a>中使用<code class="fe kl km kn ko b"><a class="ae kp" href="https://docs.microsoft.com/cli/azure/disk?view=azure-cli-latest&amp;WT.mc_id=medium-blog-abhishgu#az-disk-list" rel="noopener ugc nofollow" target="_blank">az disk list</a></code>命令以及节点资源组的名称:</p><pre class="kr ks kt ku gt lj ko lk ll aw lm bi"><span id="0f82" class="ln lo iq ko b gy lp lq l lr ls">export AKS_CLUSTER_RESOURCE_GROUP=mygroup<br/>export AKS_CLUSTER_NAME=myaks<br/>export AKS_CLUSTER_REGION=southeastasia</span><span id="99f7" class="ln lo iq ko b gy lt lq l lr ls">az disk list --resource-group MC_${AKS_CLUSTER_RESOURCE_GROUP}_${AKS_CLUSTER_NAME}_${AKS_CLUSTER_REGION}</span></pre><p id="9304" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在AKS集群创建过程中，您还可以选择<a class="ae kp" href="https://docs.microsoft.com/azure/aks/faq?WT.mc_id=medium-blog-abhishgu#can-i-provide-my-own-name-for-the-aks-node-resource-group" rel="noopener ugc nofollow" target="_blank">为节点资源组提供您选择的自定义名称</a>。您可以使用Azure CLI使用<code class="fe kl km kn ko b"><a class="ae kp" href="https://docs.microsoft.com/cli/azure/aks?view=azure-cli-latest&amp;WT.mc_id=medium-blog-abhishgu" rel="noopener ugc nofollow" target="_blank">az aks show</a></code>命令来查询这个资源组的名称</p><pre class="kr ks kt ku gt lj ko lk ll aw lm bi"><span id="7008" class="ln lo iq ko b gy lp lq l lr ls">az aks show --resource-group $AKS_CLUSTER_RESOURCE_GROUP --name $AKS_CLUSTER_NAME --query nodeResourceGroup -o tsv</span></pre><p id="c346" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请注意:</p><ul class=""><li id="5503" class="lu lv iq jp b jq jr ju jv jy lw kc lx kg ly kk lz ma mb mc bi translated">不要(手动)向节点资源组添加不相关的组件，因为它的生命周期与AKS集群本身的生命周期紧密相关，也就是说，一旦删除了AKS集群，节点资源就会自动删除</li><li id="0989" class="lu lv iq jp b jq md ju me jy mf kc mg kg mh kk lz ma mb mc bi translated"><a class="ae kp" href="https://docs.microsoft.com/azure/aks/faq?WT.mc_id=medium-blog-abhishgu#can-i-modify-tags-and-other-properties-of-the-aks-resources-in-the-node-resource-group" rel="noopener ugc nofollow" target="_blank">请不要修改</a>节点资源组中资源的属性</li></ul></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><blockquote class="mp"><p id="b328" class="mq mr iq bd ms mt mu mv mw mx my kk dk translated">在总结之前，您是否已经了解了<a class="ae kp" href="https://aka.ms/applied-cloud-stories" rel="noopener ugc nofollow" target="_blank">应用云故事</a>计划？这是一个关于相关云场景和工作负载的技术内容、有趣的挑战以及可以在Azure上运行的实用解决方案的公开征集。你可以通过写一篇新文章，或者录制一个关于你选择的主题的新视频来参与！</p><p id="1ed9" class="mq mr iq bd ms mt mu mv mw mx my kk dk translated"><a class="ae kp" href="https://forms.office.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbR3gEboqOOXdAmlybbKuHqRhURVNQTzkwWjdHNTlIQTlVOEFIWjYxSzFMSy4u" rel="noopener ugc nofollow" target="_blank">您可以在2020年3月15日之前提交您的故事</a>🙌它们将有助于启发和教育全球的工程师，让他们了解如何采用先进、创新和关键任务的云方案来解决具体问题。</p></blockquote><p id="a7a0" class="pw-post-body-paragraph jn jo iq jp b jq mz js jt ju na jw jx jy nb ka kb kc nc ke kf kg nd ki kj kk ij bi translated">目前就这些。敬请关注更多内容！</p></div></div>    
</body>
</html>