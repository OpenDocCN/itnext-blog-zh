<html>
<head>
<title>How to Build a Productivity Application in React: Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在React中构建生产力应用程序:第1部分</h1>
<blockquote>原文：<a href="https://itnext.io/how-to-build-a-productivity-application-in-react-part-1-9f0c7ee65772?source=collection_archive---------1-----------------------#2019-03-26">https://itnext.io/how-to-build-a-productivity-application-in-react-part-1-9f0c7ee65772?source=collection_archive---------1-----------------------#2019-03-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5f80" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">建立一个功能性的待办事项列表</h2></div><p id="808d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你是一个开发者，你还没有听说过番茄工作法，我强烈建议你去看看。特别是作为一个全栈学生，我发现它是一个很棒的工具，可以跟踪我花了多长时间来处理新思想、新语言和新库。在学习React的时候，我整理了一个生产力应用程序，包括一个番茄定时器，我想我可以和大家分享一下。</p><p id="2405" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">学习React及其众多功能的最佳方式之一是构建一个生产力应用程序。我知道，我知道，这里有几十个这样的人，他们都可能比这个更好。但是，本教程将从头到尾向您介绍如何构建React应用程序:待办事项列表、待办事项输入表单、Pomodoro计时器、搜索功能和本地存储登录验证。</p><p id="4853" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要在GitHub上查看这个项目的代码，点击<a class="ae lf" href="https://github.com/csinozich/productivity-app" rel="noopener ugc nofollow" target="_blank">这里</a>。对于本教程，我将使用<a class="ae lf" href="https://github.com/facebook/create-react-app" rel="noopener ugc nofollow" target="_blank">创建反应应用</a>、<a class="ae lf" href="https://yarnpkg.com/en/" rel="noopener ugc nofollow" target="_blank">纱线</a>和<a class="ae lf" href="https://www.styled-components.com/" rel="noopener ugc nofollow" target="_blank">样式的组件</a>。本教程将一步一步地引导你，从创建你的React应用程序到用样式化的组件对它进行样式化。</p><h1 id="a234" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">创建和启动React应用程序</h1><p id="4c1f" class="pw-post-body-paragraph ki kj it kk b kl ly ju kn ko lz jx kq kr ma kt ku kv mb kx ky kz mc lb lc ld im bi translated">首先是第一步:让我们设置我们的React应用程序。使用Yarn和Create React应用程序，我创建了一个名为<em class="le"> timer-tutorial </em>的项目文件夹，其中存放了我的React应用程序:</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi md"><img src="../Images/47c618fa6a745336894d48baebe0bc43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YIZmhU1qfm7x7DqSTFfsVQ.png"/></div></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk translated">使用Create React app和Yarn创建React App的命令行</figcaption></figure><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mt"><img src="../Images/8fc9e65f7eddb58cf0718d76831b8ba7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TOoP3RylFwrfdkFvFSIK1g.png"/></div></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk translated">创建应用程序后，您的终端将为您提供要运行的后续命令的选项。</figcaption></figure><p id="1695" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此时，您可以在您的终端中运行命令<em class="le"> yarn start </em>，您的应用程序将在带有<a class="ae lf" href="http://localhost:3002/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000/ </a>的浏览器中打开。当您打开您的文档时，您的文件树将如下所示:</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/b5cd53e8d7c17497c1e905ba86246924.png" data-original-src="https://miro.medium.com/v2/resize:fit:596/format:webp/1*FLwmYmFlSSApasN7Q7VpDQ.png"/></div></figure><p id="88ff" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，如果您只是构建一个像这个定时器和待办事项列表这样的简单应用程序，可以随意删除其中的一些文件，以及它们在javascript文件中的引用。我通常会在开头删除<em class="le"> logo.svg </em>、<em class="le"> serviceWorker.js </em>和<em class="le"> App.test.js </em>，以及我所有的CSS文件(CSS文件被删除是因为这个项目是用样式化组件进行样式化的)。这会给你一个干净的石板来开始你的项目！请记住，更复杂的应用程序将需要您保留其中的一些文件。</p><p id="06ac" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">到目前为止，您的应用程序应该看起来像这样:</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mv"><img src="../Images/d5e466fc3e26326114fba170031d2dd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UmdGpmDsNQnxieDuK_pW6Q.png"/></div></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk translated">请注意显示App.js和index.js的拆分页面</figcaption></figure><figure class="me mf mg mh gt mi gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/4a057e01885ac42690382dbf1c7c8d71.png" data-original-src="https://miro.medium.com/v2/resize:fit:604/format:webp/1*Ry4DR1YpTE5RSXUPBGDuCA.png"/></div></figure><p id="b066" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这一点上，我更愿意基于我认为我将需要的组件，提前构建我的所有文件。我在这个项目开始时的文件树在下面，但是你当然应该以你认为最好的方式管理你的文件！请记住，您必须在您的<em class="le"> src </em>文件夹中构建这些文件树，最佳实践是拥有一个包含所有组件的<em class="le">组件</em>文件夹。此外，你的目录和文件都应该有<a class="ae lf" href="https://library.si.edu/sites/default/files/tutorial/pdf/filenamingorganizing20180227.pdf" rel="noopener ugc nofollow" target="_blank">语义命名惯例</a>。</p><h1 id="942d" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">启动你的待办事项应用</h1><p id="ae7d" class="pw-post-body-paragraph ki kj it kk b kl ly ju kn ko lz jx kq kr ma kt ku kv mb kx ky kz mc lb lc ld im bi translated">此时，如果您删除了<em class="le"> App.js </em>文件中的内容以及CSS文件中的样式，您的本地服务器应该是完全空白的。</p><h2 id="c154" class="mx lh it bd li my mz dn lm na nb dp lq kr nc nd ls kv ne nf lu kz ng nh lw ni bi translated">介绍状态</h2><p id="22dd" class="pw-post-body-paragraph ki kj it kk b kl ly ju kn ko lz jx kq kr ma kt ku kv mb kx ky kz mc lb lc ld im bi translated">我们要做的第一件事是将状态引入我们的<em class="le"> App </em>类。我们的<em class="le">状态</em>将包含任务和计时器的数据。让我们首先给<em class="le"> state </em>一个空数组来保存我们所有的待办事项，以及一个空字符串来保存一个单独的待办事项。</p><p id="5aca" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">添加这些空的键-值对将允许我们以后在添加和删除待办任务时操作状态。如果这感觉像太多的“待办事项”使用，使用这些变量的其他名称！请确保在整个应用程序中保持一致。</p><p id="dc9d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们也给<em class="le"> todos </em>数组一些形式。这不会被正式实例化，但是我们将在构建应用程序时使用我们的<em class="le"> todos </em>的这些方面:</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/7ed73c2c32b72a694836caa882f4870c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1316/format:webp/1*cAgOrIIChNFYVuhcVPIx9Q.png"/></div></figure><p id="2f9b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">每个<em class="le"> todo </em>将包含一个任务名称、一个id和一个基于项目完成的布尔值。我们的每一个<em class="le">待办事项</em>条目都将作为对象存在于我们的<em class="le">待办事项</em>数组中，如上所示。</p><h2 id="ef36" class="mx lh it bd li my mz dn lm na nb dp lq kr nc nd ls kv ne nf lu kz ng nh lw ni bi translated">构建待办任务组件</h2><p id="c141" class="pw-post-body-paragraph ki kj it kk b kl ly ju kn ko lz jx kq kr ma kt ku kv mb kx ky kz mc lb lc ld im bi translated">现在，让我们进入我们的<em class="le"> Todo.js </em>文件。这是单独的<em class="le"> todo </em>组件将存在的地方，它们将在我们的<em class="le"> TodoList.js </em>文件中被重复呈现。现在，我们要做的就是构建一个基本的组件，稍后我们会回来添加样式和点击处理程序。</p><p id="e86b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">首先，构建一个以<em class="le">道具</em>为参数的功能组件。一会儿我们将把道具从<em class="le"> TodoList.js </em>传递给Todo。在功能组件中，返回JSX内部一个div和一个段落，任务名称用道具动态传递。请记住，我们的应用程序状态中有一个空白的<em class="le"> todo </em>项目。</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/a0f70d98014ebd5c4541aa6ce3571bb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*_UonEc0sRHZJbgPXYeA4GA.png"/></div></figure><h2 id="f7e4" class="mx lh it bd li my mz dn lm na nb dp lq kr nc nd ls kv ne nf lu kz ng nh lw ni bi translated">在待办事项列表中呈现我们的待办事项组件</h2><p id="554c" class="pw-post-body-paragraph ki kj it kk b kl ly ju kn ko lz jx kq kr ma kt ku kv mb kx ky kz mc lb lc ld im bi translated">现在我们将弹出到<em class="le"> TodoList.js </em>，在这里我们将呈现我们进入表单的Todos。为了呈现我们的待办事项，我们必须创建一个功能组件，然后从我们之前定义的应用程序的<em class="le"> this.state </em>映射到<em class="le"> todos </em>数组。该数组当前为空！稍后我们将能够添加到它。</p><p id="3f50" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">用。<em class="le"> map </em>方法需要一个回调函数，我们在这里匿名构建。我们将从App的<em class="le"> this.state </em>这里通过props传入每个<em class="le"> todo </em>。React要求组件的子组件有唯一的标识符(称为<em class="le">键</em>，所以我们也将传入每个待办事项的id。然后使用我们的箭头函数，对于每个待办事项及其id，我们将呈现我们的Todo组件。这里，我们成功地将数组中的每个待办事项作为道具传递给Todo组件。</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/1dbe304ed3338b89b95bc49e5f8a67e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:910/format:webp/1*A3GgxEKa2-VWHCiZtSA8VA.png"/></div></figure><h2 id="b246" class="mx lh it bd li my mz dn lm na nb dp lq kr nc nd ls kv ne nf lu kz ng nh lw ni bi translated">构建待办事项输入表单</h2><p id="25ef" class="pw-post-body-paragraph ki kj it kk b kl ly ju kn ko lz jx kq kr ma kt ku kv mb kx ky kz mc lb lc ld im bi translated">我们的下一步是构建输入表单的基础，它将允许您添加任务。我们来构建一个功能组件，以props为参数(来自App的<em class="le">状态</em>)，返回一个表单。在这个表单中，您需要一个输入(我已经添加了一些我们需要的细节，比如<em class="le"> name </em>)，以及两个按钮:一个用于添加任务，一个用于删除已完成的任务。</p><p id="3565" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在下一节中，我们将开始构建函数来确保您的输入被分配给state，并且您的按钮是有效的。现在，我们就随它去吧。</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/328a31e55997c1388f778d6c6eaa9040.png" data-original-src="https://miro.medium.com/v2/resize:fit:910/format:webp/1*SGeo8TexrqJWlxi7ejICwQ.png"/></div></figure><h2 id="f315" class="mx lh it bd li my mz dn lm na nb dp lq kr nc nd ls kv ne nf lu kz ng nh lw ni bi translated">向我们的应用添加组件</h2><p id="d9ac" class="pw-post-body-paragraph ki kj it kk b kl ly ju kn ko lz jx kq kr ma kt ku kv mb kx ky kz mc lb lc ld im bi translated">为了完成我们的待办事项列表的设置，让我们确保我们已经通过我们的<em class="le"> App.js </em>文件渲染了组件，并传递我们现在需要的所有适当的道具。</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/9437e10722aed0d1e64a56356cdcc8b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/format:webp/1*POnX87IauaHIyUDEdjqHuA.png"/></div></figure><p id="8add" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">恭喜你！这样，您应该能够在浏览器中看到一个非常基本的应用程序:</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/0c12fa9e3be40b6e0e0e52526cc9abab.png" data-original-src="https://miro.medium.com/v2/resize:fit:858/format:webp/1*CpYYYteOUF5wiTcxb009WQ.png"/></div></figure><h1 id="faf8" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">向我们的待办事项列表和表单添加功能</h1><p id="b574" class="pw-post-body-paragraph ki kj it kk b kl ly ju kn ko lz jx kq kr ma kt ku kv mb kx ky kz mc lb lc ld im bi translated">下一步是让待办事项清单真正发挥作用！让我们从输入函数开始。我们希望能够在我们的输入字段中键入任务，并将其添加到我们的状态中。我在可能的地方用功能组件构建了这个应用程序，所以我的所有功能都将存在于<em class="le"> App.js </em>中，在那里它们可以访问<em class="le">状态</em>。</p><h2 id="441c" class="mx lh it bd li my mz dn lm na nb dp lq kr nc nd ls kv ne nf lu kz ng nh lw ni bi translated">向表单输入添加一个更改处理程序</h2><p id="dd4b" class="pw-post-body-paragraph ki kj it kk b kl ly ju kn ko lz jx kq kr ma kt ku kv mb kx ky kz mc lb lc ld im bi translated">在下面的函数<em class="le"> inputChangeHandler </em>中，通过使用<em class="le"> this.setState() </em>在我们App的类组件上设置<em class="le">状态</em>。输入更改处理程序将事件作为参数，将事件目标的名称设置为事件目标的值。这个函数实际上是将您输入到输入栏中的内容添加到state中。</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div class="gh gi no"><img src="../Images/4aa7cd40192a18496e781e58aa5b7ffa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/1*XXreRwsQMmrpFx45-5bwKw.png"/></div></figure><p id="4bdf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，让我们继续使用props将我们的函数和<em class="le">值</em>变量从App向下传递到我们的TodoForm。<em class="le">值</em>变量作为我们的空<em class="le"> todo </em>字符串从应用程序的状态中传递。这是因为输入字段的值将是单个<em class="le"> todo </em>项目的名称。</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div class="gh gi np"><img src="../Images/5d1c7daa90782e1ea515d073c9be077e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1270/format:webp/1*fsSV5Raen0fLWDnEp6Irog.png"/></div></figure><p id="f95d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们使用props将我们的值和输入更改处理程序添加到我们的TodoForm组件中。我们的函数<em class="le"> inputChangeHandler() </em>将作为onChange函数传递到我们的输入字段，这样应用程序的<em class="le">状态</em>将随着输入值的变化而设置。</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/52327228865e715f6d6a57075d1efb8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1254/format:webp/1*-61TswtvtTlLmiTFOuy9eQ.png"/></div></figure><h2 id="4828" class="mx lh it bd li my mz dn lm na nb dp lq kr nc nd ls kv ne nf lu kz ng nh lw ni bi translated">将任务添加到我们的待办事项列表</h2><p id="c54e" class="pw-post-body-paragraph ki kj it kk b kl ly ju kn ko lz jx kq kr ma kt ku kv mb kx ky kz mc lb lc ld im bi translated">将<em class="le"> inputChangeHandler() </em>函数绑定到TodoForm之后，让我们为Add a Task按钮添加更多的功能。在您的<em class="le"> App.js </em>文件中，在您的类上创建一个名为<em class="le"> addTask </em>的方法。这个函数将接受一个点击事件，并创建一个新的任务，它是在我们之前布局的<em class="le"> todo </em>格式之后构建的。不要忘记使用我们的<em class="le"> event.preventDefault() </em>方法，这将阻止页面在每次添加新的待办事项时刷新。</p><p id="559e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这个newTask中，您将任务的名称设置为<em class="le"> this.state.todo </em>，以将输入字段的值传输到newTask。id可以是任何东西，只要你能保证它们是每个任务的唯一标识符。这里，我使用了Date.now()方法来自动捕获本地时间并将其作为id添加。而且，如果你在待办事项列表中添加一项任务，它肯定还没有完成！因此，将用于<em class="le">已完成</em>的布尔值设置为假。</p><p id="0c00" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一旦你建立了一个新的任务，我们希望能够将它添加到显示在待办事项列表中的待办事项数组中。让我们使用<em class="le"> setState() </em>方法将newTask添加到<em class="le"> this.state.todos </em>中，使用spread操作符确保只有一个数组。之后，将todo重置为空字符串，以便可以再次填充。</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/731f287be295fba66cdec16dffc1ea99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*JIrZhpSyxFCQk8feqHpFyw.png"/></div></figure><p id="524f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，我们将使用props将其传递给我们的TodoForm组件:</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/2abf6c0ad7ef35eff656239331ef09b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1138/format:webp/1*DCSI1zn42vdSwQImsANUxA.png"/></div></figure><p id="16e6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，我们将添加<em class="le"> addTask() </em>作为onClick函数到我们的<em class="le">添加任务</em>按钮:</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/c37b595eefc5e46e0e99fdbd62469bb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*SN8AhzdMMo_sW61po8uS7Q.png"/></div></figure><p id="6bac" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，<em class="le">瞧！你现在可以在输入框中输入任务，当你点击按钮时，它会将任务添加到你的待办事项列表中。恭喜你！你已经用React正式建立了一个待办事项列表。</em></p></div><div class="ab cl nt nu hx nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="im in io ip iq"><p id="ba66" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">准备好继续了吗？转到<a class="ae lf" href="https://medium.com/@claire.sinozich/how-to-build-a-productivity-application-in-react-part-2-7a5f9b8fed3" rel="noopener">第2部分</a>，在这里我们将添加将项目切换为已完成的功能，并移除已完成的项目。</p></div></div>    
</body>
</html>