<html>
<head>
<title>Load Testing, Stress Testing, and Performance Testing: All You Need to Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">负载测试、压力测试和性能测试:您需要知道的一切</h1>
<blockquote>原文：<a href="https://itnext.io/load-testing-stress-testing-and-performance-testing-all-you-need-to-know-56c333849941?source=collection_archive---------2-----------------------#2020-06-26">https://itnext.io/load-testing-stress-testing-and-performance-testing-all-you-need-to-know-56c333849941?source=collection_archive---------2-----------------------#2020-06-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/03b32402964e19dce3a664ff8ca75045.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hMnjxSuNKz8ns4sSPZz7gQ.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">米切尔·罗的照片</figcaption></figure><p id="bf6d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你有没有遇到过这样的情况:在测试的时候,<em class="lb">以前从没这样过</em>或者<em class="lb">昨天成功了</em>这种说法绝对有道理？</p><p id="7e7a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你回答是，那么你在一个好公司。这个阶段我们都经历过，现在还时不时的经历。</p><p id="fb5d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">即使今天我们有复杂且非常强大的工具，在99%的情况下应该使这些问题变得多余，但仍有1%的情况下会出现意想不到的事情，例如没有被考虑的<a class="ae kc" href="https://en.wikipedia.org/wiki/Corner_case" rel="noopener ugc nofollow" target="_blank">极限情况</a>。</p><figure class="ld le lf lg gt jr gh gi paragraph-image"><div class="gh gi lc"><img src="../Images/80b5873a7418859a9c0035ab5b9236b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/1*R2RsYUhEePGHlOS6ZLKcAg.gif"/></div></figure><p id="9680" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">就web开发而言，最不愉快的情况之一是大量用户同时使用应用程序。因此，应用程序实际上可能会因负载过大而崩溃。这是一个可以同时影响大多数用户的问题。</p><p id="4036" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">测试是缓解大多数这些问题的解决方案，对于这种特殊的情况，性能测试是必由之路。</p><h1 id="c6f9" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">性能测试说明</h1><p id="01ca" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">这个领域是一个不断变化和发展的领域。正因为如此，事情发生得太快，以至于无法清晰地定义和描述。因此，误用这些术语的情况经常出现。</p><p id="a05b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">标签“性能、负载和压力测试”是这种情况的一个完美例子。</p><p id="e5a3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">简而言之，负载测试和压力测试都是性能测试的子集，用于确定系统组件在不同负载场景下的性能。</p><p id="0018" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">总的来说，这种技术用于确定web应用程序在各种实际用例中的表现。</p><p id="21a5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个指标至关重要，因为99.9%的时间，页面加载时间影响转化率、销售额和用户体验。</p><p id="a1f3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，在移动设备上，最佳实践是在<a class="ae kc" href="https://www.thinkwithgoogle.com/marketing-resources/data-measurement/mobile-page-speed-new-industry-benchmarks/" rel="noopener ugc nofollow" target="_blank"> 3秒</a>内显示网站内容。</p><p id="53fe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">越难装，跳出率越高。</p><figure class="ld le lf lg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mk"><img src="../Images/60b0544253808392f81bf1d46991d6ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HF9vY3ab2T1M5ZInioqWNA.png"/></div></div></figure><p id="eeb2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">作为开发工具的一个快速提示，您可以使用各种指标测试您访问的任何网站的性能。您所要做的就是导航到所需的网站，并使用<em class="lb"> CTRL+SHIFT+I </em>或右键单击打开开发工具，然后该工具在审计选项卡中可用。</p><figure class="ld le lf lg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ml"><img src="../Images/7b1a653962f105e422885adc21fa852a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yfqor8JF0JuGblmJE85LQQ.png"/></div></div></figure><h1 id="f6fc" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">负载测试与压力测试:有什么不同</h1><p id="48ea" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">如果整个饼被称为性能测试，那么它的两个切片如下:</p><ul class=""><li id="9584" class="mm mn iq kf b kg kh kk kl ko mo ks mp kw mq la mr ms mt mu bi translated">负载测试</li><li id="bb04" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la mr ms mt mu bi translated">压力测试</li></ul><p id="5668" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这两种类型的测试之间的差异非常微妙，但用最简单的话来说，就是这样的:</p><ul class=""><li id="70e3" class="mm mn iq kf b kg kh kk kl ko mo ks mp kw mq la mr ms mt mu bi translated"><strong class="kf ir">负载测试</strong>展示了应用<strong class="kf ir">如何在<strong class="kf ir">极端负载</strong>下执行</strong>。</li><li id="3104" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la mr ms mt mu bi translated"><strong class="kf ir">另一方面，压力测试</strong>检查<strong class="kf ir">应用程序在<strong class="kf ir">极端负载</strong>下的健壮性</strong>。</li></ul><p id="0046" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者</p><ul class=""><li id="b2ca" class="mm mn iq kf b kg kh kk kl ko mo ks mp kw mq la mr ms mt mu bi translated"><strong class="kf ir">负载测试</strong>是为了算出<strong class="kf ir"> </strong>一个app的<strong class="kf ir">上限</strong>，看系统在重负载下表现如何。</li><li id="1e81" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la mr ms mt mu bi translated"><strong class="kf ir">进行压力测试</strong>以查看<strong class="kf ir">当负载极限<strong class="kf ir">高于阈值</strong>时</strong>会发生什么，以及<strong class="kf ir">如何从故障</strong>中恢复。</li></ul><h1 id="35c7" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">如何执行负载测试和压力测试</h1><p id="eeb6" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">在测试web应用程序的总体性能时，这里有一些需要考虑的最重要的指标。</p><p id="2b46" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">大部分测试包括收集一些关键指标的数据。值得一提的一些指标包括以百分位数表示的<strong class="kf ir">响应时间</strong>(50%和95%)、<strong class="kf ir">错误率、平均加载时间、并发性、</strong>和以每秒请求数度量的<strong class="kf ir">吞吐量</strong>。</p><p id="f35a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">吞吐量</strong>和<strong class="kf ir">并发</strong>是两个一开始有点难理解的术语。查看<a class="ae kc" href="https://github.com/alexfernandez/loadtest/issues/126" rel="noopener ugc nofollow" target="_blank">并发性与rps的关系</a>和<a class="ae kc" href="https://flood.io/blog/planning-for-high-concurrency-load-tests-millions-of-users-and-beyond" rel="noopener ugc nofollow" target="_blank">如何规划高并发性</a>以更好地理解它们。</p><p id="f715" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">百分位数</strong>值得几个单独的行。该指标与<strong class="kf ir">响应时间</strong>相关，它是对平均值的改进，因为平均值可能会产生误导。最流行的百分位数是50%和95%。</p><p id="8c29" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，以下值转换为:</p><ul class=""><li id="db7f" class="mm mn iq kf b kg kh kk kl ko mo ks mp kw mq la mr ms mt mu bi translated"><strong class="kf ir"> 95%响应时间= 350毫秒</strong> —意味着传入请求的<strong class="kf ir"> 95% </strong>响应时间在<strong class="kf ir"> 350 </strong>毫秒之内</li><li id="5e97" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la mr ms mt mu bi translated"><strong class="kf ir"> 50%响应时间= 280毫秒</strong> —表示传入请求的<strong class="kf ir"> 50% </strong>响应时间在<strong class="kf ir"> 280 </strong>毫秒内</li></ul><p id="ba36" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，给定这些指标——<strong class="kf ir">负载测试</strong>意味着获取关于这些试金石的数据，并对其进行分析，以找出我们的应用的上限，以及它在这些高负载条件下的性能表现。</p><p id="924c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于<strong class="kf ir">压力测试，</strong>我们超过了我们在之前的模型中发现的限制，我们测试并希望在相当长的时间内，服务器不会崩溃。</p><p id="c72f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了收集关于我们的应用程序的这种类型的数据，我们需要高性能工具的帮助，这些工具返回关于应用程序行为的真实和正确的数据。</p><p id="90e4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">其中一个工具是<a class="ae kc" href="https://www.loadmill.com/" rel="noopener ugc nofollow" target="_blank"> Loadmill </a>，它允许你使用真实的网络流量来模拟真实的使用模式，以便在测试的服务器上产生负载。</p><p id="31e1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下图展示了该工具提供的一些指标。</p><figure class="ld le lf lg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi na"><img src="../Images/aa4a32b402edf6a139cb946b3d651eb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qf7LBhKRxuyOeSBxQm6ggQ.png"/></div></div></figure><p id="ee79" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您还可以查看您的网站在不同地理位置的表现。然后，在下一次升级时，您将知道在哪些区域放置服务器，以便所有流量的响应时间更加一致。</p><h1 id="5631" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">结论</h1><p id="28fd" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">说到性能测试，在最能描述真实场景的条件下进行测试尤为重要。</p><p id="65cd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时你为应用程序设定的期望不够现实。这就是为什么选择一个能够模拟真实使用模式的工具来测试真实场景是很重要的。</p></div></div>    
</body>
</html>