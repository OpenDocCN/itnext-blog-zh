<html>
<head>
<title>(Part III.) Creating zombie enemies in Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">(第三部分。)在Unity中创造僵尸敌人</h1>
<blockquote>原文：<a href="https://itnext.io/it-follows-creating-zombie-enemies-in-unity-part-3-of-unity-gamedev-series-988da87c8273?source=collection_archive---------2-----------------------#2020-05-23">https://itnext.io/it-follows-creating-zombie-enemies-in-unity-part-3-of-unity-gamedev-series-988da87c8273?source=collection_archive---------2-----------------------#2020-05-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="a804" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这一部分，我将向你展示如何在NavMesh上制造敌人。我会让他们追我，适当的碰撞物体。</p><p id="19bb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你想拥有和本教程完全一样的场景，完成这个系列的前两部分。</p><div class="ko kp gp gr kq kr"><a href="https://medium.com/@janjilecek/basics-of-3d-animation-in-unity-tutorial-d2d6ff3bc6b7" rel="noopener follow" target="_blank"><div class="ks ab fo"><div class="kt ab ku cl cj kv"><h2 class="bd iu gy z fp kw fr fs kx fu fw is bi translated">Unity中的3D动画基础[教程]</h2><div class="ky l"><h3 class="bd b gy z fp kw fr fs kx fu fw dk translated">这是一个新游戏开发系列的开始。我将向你展示使用Unity游戏引擎的基础知识。统一…</h3></div><div class="kz l"><p class="bd b dl z fp kw fr fs kx fu fw dk translated">medium.com</p></div></div><div class="la l"><div class="lb l lc ld le la lf lg kr"/></div></div></a></div><div class="ko kp gp gr kq kr"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-write-a-simple-3d-character-controller-in-unity-1a07b954a4ca"><div class="ks ab fo"><div class="kt ab ku cl cj kv"><h2 class="bd iu gy z fp kw fr fs kx fu fw is bi translated">如何在Unity中编写一个简单的3D角色控制器</h2><div class="ky l"><h3 class="bd b gy z fp kw fr fs kx fu fw dk translated">这是我的游戏开发系列的第二部分。设置行走(和其他动画)见第一部分。</h3></div><div class="kz l"><p class="bd b dl z fp kw fr fs kx fu fw dk translated">itnext.io</p></div></div><div class="la l"><div class="lh l lc ld le la lf lg kr"/></div></div></a></div><h1 id="55b2" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">头号公敌</h1><p id="a8d8" class="pw-post-body-paragraph jq jr it js b jt mg jv jw jx mh jz ka kb mi kd ke kf mj kh ki kj mk kl km kn im bi translated">创建一个<em class="ml">敌人</em>对象</p><figure class="mn mo mp mq gt mr gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/e044029677625833cccafa11682ad565.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*0ZDMQhqVrwgDk5A2BUE9BA.png"/></div></figure><p id="9097" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">免费的合成多边形包提供了许多免费的角色模型。有四个豆人模型，一男一女。现在，有另一个不同质地的男人会很无聊，我也不想同时被一百个女人追。所以我选择了一个警察豆模型，这似乎很好地代表了我对极权主义国家的普遍恐惧(开玩笑)。选择一个模型并将其拖动到场景中。</p><figure class="mn mo mp mq gt mr gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/adc519fe936a609c3cface5dddfe5ff1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*V0lau5VogeYAmlE6cK9nug.png"/></div></figure><p id="0f58" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我和警察豆怪一起去。母它对着<em class="ml">的敌人</em>的对象。</p><figure class="mn mo mp mq gt mr gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/b8cfd83aca1a762bcf0ae6c65018a192.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/1*6CNEq95CtCLZMnPwGRCYEQ.png"/></div></figure><p id="f55d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">创建一个敌方脚本，并将其分配给敌方对象。</p><figure class="mn mo mp mq gt mr gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi gj"><img src="../Images/7d64ae4f29178951555728c19307682c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4FLSbmXI7J6UWixe0bbCJQ.png"/></div></div></figure><h1 id="8a76" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">寻路-让敌人追你</h1><p id="bc49" class="pw-post-body-paragraph jq jr it js b jt mg jv jw jx mh jz ka kb mi kd ke kf mj kh ki kj mk kl km kn im bi translated">打开导航面板</p><figure class="mn mo mp mq gt mr gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/7544fdbdeb36260c5158d081efd8f1c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1214/format:webp/1*VG84aF9vgvp5vcq0I-dA_w.png"/></div></figure><p id="35b3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一旦打开，选择平面对象并检查<em class="ml">导航静态。</em>同时检查该区域是否设置为<em class="ml">可步行</em>。</p><figure class="mn mo mp mq gt mr gh gi paragraph-image"><div class="gh gi na"><img src="../Images/ee1549d93d857554566aec8a360b6aa4.png" data-original-src="https://miro.medium.com/v2/resize:fit:986/format:webp/1*BUyOOYtW1pHSJtni8jOS5g.png"/></div></figure><p id="aca0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后切换到烘焙面板，用烘焙按钮进行烘焙。</p><figure class="mn mo mp mq gt mr gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/967ee136ed96c96a139dfa53e1cb6f44.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/1*Y-Ip5ns3uHMLCWiWZ8NJ-w.png"/></div></figure><p id="445e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在场景是这样的。</p><figure class="mn mo mp mq gt mr gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi nc"><img src="../Images/eaeeb1c83ed7b4b9b1c49be5c0726141.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WvIC-gVMkIwLDcfUYizCYw.png"/></div></div></figure><p id="05ab" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在我需要改变场景对象为<em class="ml">不可行走。</em>点击单个对象并更改其导航。然后<em class="ml">烤</em>它。</p><figure class="mn mo mp mq gt mr gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/a6d1815725ef8b32e8e96b616258ad97.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/1*SPzID8gUwEYq49WsOEkTZw.png"/></div></figure><p id="1029" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后它会开始看起来像这样。敌人将无法通过这些通道。他只知道可步行的区域。</p><figure class="mn mo mp mq gt mr gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi nd"><img src="../Images/3da035967bd1251e6dbcc7927c719bf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6hbhGTES3x7DOYxwidqdMA.png"/></div></div></figure><p id="b465" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">敌人需要一些基本的情报来追踪玩家。给他添加<em class="ml"> NavMeshAgent </em>组件(选择<em class="ml">玩家</em>和<em class="ml">添加组件)。</em>如果边界框很奇怪，编辑它以适应至少一点。</p><figure class="mn mo mp mq gt mr gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi ne"><img src="../Images/34ad9cf0cff8e90daef4c349db910e53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1f8R9Au1OdBZ4VC6qUynkA.png"/></div></div></figure><p id="a4c3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后给他分配NavMeshAgent引用，这样他就知道可以在什么上面行走了。然后告诉他要进行什么样的转换。这都是基于参考的，所以一旦玩家移动，路径也会自动更新。</p><pre class="mn mo mp mq gt nf ng nh ni aw nj bi"><span id="825c" class="nk lj it ng b gy nl nm l nn no">using UnityEngine;<br/>using UnityEngine.AI;<br/>public class <strong class="ng iu">Enemy </strong>: MonoBehaviour<br/>{<br/>    private NavMeshAgent pathfinder;<br/>    private Transform target;<br/>    <br/>    void <strong class="ng iu">Start</strong>()<br/>    {<br/>        pathfinder = GetComponent&lt;NavMeshAgent&gt;();<br/>        target = GameObject.Find("Player").transform;<br/>    }<br/>    void <strong class="ng iu">Update</strong>()<br/>    {<br/>        pathfinder.SetDestination(target.position);<br/>    }<br/>}</span></pre><p id="08fc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">警察正在追我们。</p><figure class="mn mo mp mq gt mr gh gi paragraph-image"><div class="gh gi np"><img src="../Images/dd071e59ced4f8e8723d4cd2f806f859.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/1*UQSACvsvmGOzltvfKpse7Q.gif"/></div></figure></div><div class="ab cl nq nr hx ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="im in io ip iq"><p id="ad5b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你刚刚开始学习如何开发游戏，你可以关注我的udemy初学者Unity开发课程:</p><div class="ko kp gp gr kq kr"><a href="https://www.udemy.com/course/make-a-3d-game-in-unity-2020-from-scratch-with-free-assets/?referralCode=8B96F6C67527AEEA39D9" rel="noopener  ugc nofollow" target="_blank"><div class="ks ab fo"><div class="kt ab ku cl cj kv"><h2 class="bd iu gy z fp kw fr fs kx fu fw is bi translated">完整指南:Unity 2020中的动作恐怖3D游戏</h2><div class="ky l"><h3 class="bd b gy z fp kw fr fs kx fu fw dk translated">大家好，我叫Jan Jileč ek，是一名拥有计算机科学硕士学位的专业游戏开发人员，我…</h3></div><div class="kz l"><p class="bd b dl z fp kw fr fs kx fu fw dk translated">www.udemy.com</p></div></div><div class="la l"><div class="nx l lc ld le la lf lg kr"/></div></div></a></div></div><div class="ab cl nq nr hx ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="im in io ip iq"><h1 id="60b0" class="li lj it bd lk ll ny ln lo lp nz lr ls lt oa lv lw lx ob lz ma mb oc md me mf bi translated">敌人产卵器</h1><p id="5f00" class="pw-post-body-paragraph jq jr it js b jt mg jv jw jx mh jz ka kb mi kd ke kf mj kh ki kj mk kl km kn im bi translated">我会在<em class="ml">导航网</em>上的随机位置制造敌人。我们开始吧！</p><p id="9084" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">首先，我们需要让敌人成为一个预置，这样就有可能在我们设定的配置中很容易产生它的实例。只需在层级浏览器中抓取<em class="ml">敌人</em>模型，并将其拖入资产浏览器。砰，它是一个预制的。</p><figure class="mn mo mp mq gt mr gh gi paragraph-image"><div class="gh gi od"><img src="../Images/f9c2c9a6acd54b462e297d1a6656b481.png" data-original-src="https://miro.medium.com/v2/resize:fit:894/format:webp/1*_pnjJjTP28w_ke1ltmfiaQ.png"/></div></figure><p id="bf5a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在场景中创建一个新对象，将其命名为<em class="ml">产卵者</em>。创建一个同名的新脚本，并将其分配给对象。下面的脚本将在(0，0，0)坐标中生成一个新对象。</p><pre class="mn mo mp mq gt nf ng nh ni aw nj bi"><span id="083c" class="nk lj it ng b gy nl nm l nn no">using UnityEngine;<br/><br/>public class <strong class="ng iu">Spawner </strong>: MonoBehaviour<br/>{<br/>    public Enemy <strong class="ng iu">enemy</strong>;<br/>    void <strong class="ng iu">Start</strong>()<br/>    {<br/>        Enemy spawnedEnemy = Instantiate(enemy, Vector3.zero, Quaternion.identity) as Enemy;<br/>    }<br/>}</span></pre><p id="0fe1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">将<em class="ml">敌人</em>预设分配给它。你跑完游戏后，会有两个敌人追你。你可以删除原来的<em class="ml">敌人</em>物体，因为从现在开始它将从敌人预设中实例化。</p><figure class="mn mo mp mq gt mr gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/5a85fa2194e992b22168f3ee4fb9c5e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:982/format:webp/1*n0EfbJbbIJc8oKNgRKdksQ.png"/></div></figure><p id="41f7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在是最重要的部分:随机产卵。使用<em class="ml"> RandomNavmeshLocation </em>函数，我在<em class="ml">可行走的</em>网格上随机选择一个地方。然后我在循环的<em class="ml">中调用它。有多少敌人得到产卵是由<em class="ml"> numberOfEnemies v </em>变量控制的(由于<em class="ml"> Range属性</em>，我可以使用滑块从编辑器中控制它)。spawner的半径由range变量控制，我将每个敌人对象保存到一个列表中。</em></p><figure class="mn mo mp mq gt mr gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/0306cbbde137fa74698f63acec73fd63.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/1*BVk3BwRL7Zqb05LH8XHCMA.png"/></div></figure><pre class="mn mo mp mq gt nf ng nh ni aw nj bi"><span id="e5e5" class="nk lj it ng b gy nl nm l nn no">using System.Collections.Generic;<br/>using UnityEngine;<br/>using UnityEngine.AI;<br/><br/>public class <strong class="ng iu">Spawner </strong>: MonoBehaviour<br/>{<br/>    public Enemy <strong class="ng iu">enemy</strong>;<br/>    private List&lt;Enemy&gt; enemies;<br/>    <br/>    [Range (0,100)]<br/>    public int <strong class="ng iu">numberOfEnemies </strong>= 25;<br/>    private float range = 70.0f;<br/>    <br/>    void <strong class="ng iu">Start</strong>()<br/>    {<br/>        enemies = new List&lt;Enemy&gt;(); <em class="ml">// init as type<br/>        </em>for (int index = 0; index &lt; numberOfEnemies; index++)<br/>        {<br/>            Enemy spawned = Instantiate(enemy, RandomNavmeshLocation(range), Quaternion.identity) as Enemy;<br/>            enemies.Add(spawned);<br/>        }<br/>    }<br/>    <br/>    public Vector3 RandomNavmeshLocation(float radius)<br/>    {<br/>        Vector3 randomDirection = Random.insideUnitSphere * radius;<br/>        randomDirection += transform.position;<br/>        NavMeshHit hit;<br/>        Vector3 finalPosition = Vector3.zero;<br/>        if (NavMesh.SamplePosition(randomDirection, out hit, radius, 1))<br/>        {<br/>            finalPosition = hit.position;<br/>        }<br/>        return finalPosition;<br/>    }<br/>}</span></pre><h1 id="59d0" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">我们结束了。</h1><figure class="mn mo mp mq gt mr gh gi paragraph-image"><div class="gh gi np"><img src="../Images/1269580c9fe43702164186b78398710f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/1*ID51m6MyNTGLKWIZRlFV9A.gif"/></div><figcaption class="of og gj gh gi oh oi bd b be z dk translated">100个豆子僵尸警察</figcaption></figure><h2 id="d09a" class="nk lj it bd lk oj ok dn lo ol om dp ls kb on oo lw kf op oq ma kj or os me ot bi translated">在下一部分，我将实现心灵遥控来击退这些僵尸杂种。敬请关注。</h2><p id="2725" class="pw-post-body-paragraph jq jr it js b jt mg jv jw jx mh jz ka kb mi kd ke kf mj kh ki kj mk kl km kn im bi translated">我的<a class="ae ou" href="https://github.com/janjilecek/unity_tutorial/tree/master/Assets/Scripts" rel="noopener ugc nofollow" target="_blank"> github </a>上有项目代码。</p></div></div>    
</body>
</html>