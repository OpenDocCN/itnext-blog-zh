<html>
<head>
<title>Javascript sorting arrays by date</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Javascript按日期排序数组</h1>
<blockquote>原文：<a href="https://itnext.io/javascript-sorting-arrays-by-date-3c64b2684de3?source=collection_archive---------1-----------------------#2019-08-23">https://itnext.io/javascript-sorting-arrays-by-date-3c64b2684de3?source=collection_archive---------1-----------------------#2019-08-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="2a8e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">两种方式，哦，等等，还有一种奖励方式</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/63d1e762cef647ce77fbf0a075144634.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rU8NNAStsaVNZhAD"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">照片由<a class="ae le" href="https://unsplash.com/@imaxpanama?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Max Panamá </a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="0080" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你需要对一个数组排序多少次？如果你是一个前端开发人员，你可能每天都在做这件事。实际上，如果你是node js开发人员，你可能也一直在做这件事。现在，更具挑战性的是尝试对一组日期或日期对象进行排序。我将向您展示两种方法，一种是使用javascript本地函数，另一种是使用名为loadash的库。在这两个例子中，我将使用<a class="ae le" href="https://momentjs.com/" rel="noopener ugc nofollow" target="_blank"> moment.js </a>这是一个非常方便的比较和格式化日期的工具。</p><h1 id="493f" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">原生Javascript</h1><p id="8e18" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">我是一个纯粹主义者，所以我先向你展示这个方法。当谈到使用javascript函数时，我喜欢尝试先用javascript创建者给我们的原生函数做一些事情。我会告诉你怎么做，然后解释它。</p><pre class="kp kq kr ks gt mi mj mk ml aw mm bi"><span id="bd14" class="mn lg it mj b gy mo mp l mq mr">import moment from 'moment'</span><span id="a3c6" class="mn lg it mj b gy ms mp l mq mr">const dateArray = [{date:"2018-05-11"},{date:"2018-05-12"},{date:"2018-05-10"}]</span><span id="5d56" class="mn lg it mj b gy ms mp l mq mr">const sortDates = (a, b) =&gt; moment(a.roomtypedate).format('YYYYMMDD') -moment(b.roomtypedate).format('YYYYMMDD')</span><span id="12a8" class="mn lg it mj b gy ms mp l mq mr">const sortedDates = dateArray.sort(sortDates)<br/>console.log(sortedDates)</span></pre><p id="f1eb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所以解释如下。首先，我们使用原生函数sort。如果你想阅读更多关于这个函数如何工作的内容，请查阅我的另一篇关于函数的文章。</p><p id="095f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">除了排序功能之外，这里的神奇之处在于利用了<code class="fe mt mu mv mj b">moments</code>比较日期的能力。现在，这将只比较日期和日子，但不会比较时间和分钟。</p><h1 id="e27d" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">Lodash orderBy</h1><p id="ab95" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">如果你不喜欢排序，你也可以使用洛达什的功能<code class="fe mt mu mv mj b">orderBy</code>。这是一个方便的函数，你可以用它来按照<code class="fe mt mu mv mj b">asc</code>或<code class="fe mt mu mv mj b">desc</code>的顺序进行排序。感觉比原生排序函数更直观一点。</p><pre class="kp kq kr ks gt mi mj mk ml aw mm bi"><span id="38f7" class="mn lg it mj b gy mo mp l mq mr">import moment from 'moment'<br/>import _ from 'lodash'</span><span id="5815" class="mn lg it mj b gy ms mp l mq mr">const dateArray = [{date:"2018-05-11"},{date:"2018-05-12"},{date:"2018-05-10"}]</span><span id="602b" class="mn lg it mj b gy ms mp l mq mr">const sortedArray = _.orderBy(array, (o: any) =&gt; {<br/>  return moment(o.date.format('YYYYMMDD');<br/>}, ['asc']);</span><span id="3359" class="mn lg it mj b gy ms mp l mq mr">console.log(sortedDates)</span></pre><p id="f72b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是关于这个函数的文档。<a class="ae le" href="https://lodash.com/docs/4.17.15" rel="noopener ugc nofollow" target="_blank">摘自lodash的文档网站。</a></p><p id="a6d8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe mt mu mv mj b">_.orderBy(collection, [iteratees=[_.identity]], [orders])</code></p><p id="e8c3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个方法类似于<code class="fe mt mu mv mj b"><a class="ae le" href="https://lodash.com/docs/4.17.15#sortBy" rel="noopener ugc nofollow" target="_blank">_.sortBy</a></code>，除了它允许指定迭代排序的顺序。如果未指定<code class="fe mt mu mv mj b">orders</code>，则所有值按升序排序。否则，为相应值的降序指定“desc”顺序，或为升序指定“asc”顺序。</p><h2 id="37a1" class="mn lg it bd lh mw mx dn ll my mz dp lp kb na nb lt kf nc nd lx kj ne nf mb ng bi translated">争论</h2><ol class=""><li id="2bcb" class="nh ni it js b jt md jx me kb nj kf nk kj nl kn nm nn no np bi translated"><code class="fe mt mu mv mj b"><strong class="js iu">collection</strong></code> <strong class="js iu"> <em class="nq">(数组|对象)</em> </strong>:要迭代的集合。</li><li id="e1ed" class="nh ni it js b jt nr jx ns kb nt kf nu kj nv kn nm nn no np bi translated"><code class="fe mt mu mv mj b"><strong class="js iu">[iteratees=[_.identity]]</strong></code> <strong class="js iu"> <em class="nq">(数组[]|函数[]|对象[]|字符串[]) </em> </strong>:排序所依据的迭代。</li><li id="fcf1" class="nh ni it js b jt nr jx ns kb nt kf nu kj nv kn nm nn no np bi translated"><code class="fe mt mu mv mj b"><strong class="js iu">[orders]</strong></code> <strong class="js iu"> <em class="nq">(字符串[])</em></strong><code class="fe mt mu mv mj b"><strong class="js iu">iteratees</strong></code>的排序顺序。</li></ol><h2 id="6269" class="mn lg it bd lh mw mx dn ll my mz dp lp kb na nb lt kf nc nd lx kj ne nf mb ng bi translated">返回</h2><p id="cbf4" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated"><strong class="js iu"> <em class="nq">(数组)</em> </strong>:返回新排序后的数组。</p><p id="0055" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你想要这个功能的文档，你可以<a class="ae le" href="https://lodash.com/docs/4.17.15#orderBy" rel="noopener ugc nofollow" target="_blank">在这里</a>阅读更多。</p><h1 id="edf8" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">奖金</h1><p id="b8c8" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">现在，如果你想更具体地比较日期，那么只需按日、周、月和年。你可以试试这个方法。甚至更短。但是这依赖于数组中的那些值已经是日期对象的事实。</p><pre class="kp kq kr ks gt mi mj mk ml aw mm bi"><span id="baa4" class="mn lg it mj b gy mo mp l mq mr">const sortedArray = array.sort((a, b) =&gt; a.valueOf() - b.valueOf())</span></pre><p id="e5ff" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是因为日期对象可以通过减法进行比较。</p><h1 id="6929" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">结论</h1><p id="d40c" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">对值进行排序的算法有很多。幸运的是，javascript已经为我们发布了一些排序方法。不要去重新发明轮子。</p><p id="316c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你对日期排序有其他想法，请告诉我。</p><p id="5694" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">祝你好运！</p><p id="d623" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">编码快乐！！！</p></div><div class="ab cl nw nx hx ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="im in io ip iq"><p id="809f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"><em class="nq">Avery duff in</em></strong><em class="nq">是</em> <a class="ae le" href="https://www.developerswholunch.com" rel="noopener ugc nofollow" target="_blank"> <em class="nq">【吃午餐的开发者】</em> </a> <em class="nq">的所有者和创始人，这是一个播客和博客，旨在帮助那些学习编程并寻求在软件开发领域建立职业生涯的人。他目前在</em><a class="ae le" href="https://www.rainfocus.com/" rel="noopener ugc nofollow" target="_blank"><em class="nq">rai focus</em></a><em class="nq">担任软件工程师，居住在美国犹他州。你可以在</em><a class="ae le" href="https://twitter.com/DuffinAvery" rel="noopener ugc nofollow" target="_blank"><em class="nq">Twitter</em></a><em class="nq">和</em><a class="ae le" href="https://www.linkedin.com/in/avery-duffin-69317228/" rel="noopener ugc nofollow" target="_blank"><em class="nq">linkedIn</em></a><em class="nq">上和他联系。</em></p></div></div>    
</body>
</html>