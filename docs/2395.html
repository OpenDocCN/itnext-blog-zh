<html>
<head>
<title>Why Building with a JAMstack is Awesome</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么用JAMstack构建很棒</h1>
<blockquote>原文：<a href="https://itnext.io/why-building-with-a-jamstack-is-awesome-39696e9ef8d6?source=collection_archive---------4-----------------------#2019-05-17">https://itnext.io/why-building-with-a-jamstack-is-awesome-39696e9ef8d6?source=collection_archive---------4-----------------------#2019-05-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/1ee2d920f3178680d138223e0496e79c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*Jz0yDSRG7GuSStgKT9h_Gw.jpeg"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">组织良好的JAMstack ( <a class="ae jy" href="https://pixabay.com/photos/jam-homemade-croatia-food-sweet-1168054/" rel="noopener ugc nofollow" target="_blank"> source </a>)</figcaption></figure><p id="6585" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">在今年的NG-Conf上，John Papa做了一个关于<a class="ae jy" href="https://github.com/johnpapa/angular-ngrx-data" rel="noopener ugc nofollow" target="_blank"> ngrx-data </a>以及JAMstack的演讲。这个演讲强调了很多关于用JAMstack构建应用程序的很酷的事情，以及为什么它极大地改善了工程师的开发。所以现在我肯定你在问自己，什么是果酱堆？嗯，它实际上是一个非常流行的架构模式的名称。在这篇文章中，我将定义什么是JAM stack，并向您介绍我最近是如何使用它来构建一个学习应用程序的。我将展示JAMstack极大地改善了开发体验的几个关键领域，并减少了维护应用程序的大量工作。</p><p id="3feb" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">下面是约翰爸爸的演讲(如果可以，请花一秒钟观看):</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><p id="b1b2" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">在我继续之前，我还想强调一个很棒的媒体帖子——<a class="ae jy" href="https://medium.com/memory-leak/the-jamstack-its-pretty-sweet-e0834e4e6bb7" rel="noopener">The jam stack:它很可爱</a>，作者是<a class="ae jy" href="https://medium.com/@astasia" rel="noopener"> Astasia Myers </a>。我将在讨论中引用它，它很好地涵盖了JAMstack。当你看完我的帖子，如果你有时间，请查看一下。</p></div><div class="ab cl ld le hu lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="ij ik il im in"><h1 id="4134" class="lk ll iq bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">从灯到果酱</h1><p id="1788" class="pw-post-body-paragraph jz ka iq kb b kc mi ke kf kg mj ki kj kk mk km kn ko ml kq kr ks mm ku kv kw ij bi translated">让我们看一下JAMstack是如何从以前流行的体系结构发展而来的。</p><p id="925d" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">大家都记得<strong class="kb ir">灯</strong>栈:</p><ul class=""><li id="4c97" class="mn mo iq kb b kc kd kg kh kk mp ko mq ks mr kw ms mt mu mv bi translated">L:  Linux</li><li id="091f" class="mn mo iq kb b kc mw kg mx kk my ko mz ks na kw ms mt mu mv bi translated">答:阿帕奇</li><li id="49b8" class="mn mo iq kb b kc mw kg mx kk my ko mz ks na kw ms mt mu mv bi translated">男: MySQL</li><li id="c3da" class="mn mo iq kb b kc mw kg mx kk my ko mz ks na kw ms mt mu mv bi translated">P:  PHP</li></ul><p id="84d5" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">这种架构在几年前非常普遍，是通过托管一台服务器并安装所有这四种技术的实例来建立的。挑战在于，一旦你有了这些设置，你仍然需要用补丁和操作系统升级来维护它们。您通常还会设置某种日志或警报系统，这可能会导致令人头疼的维护问题。</p><p id="04e8" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">接下来是<strong class="kb ir">的意思是</strong>栈:</p><ul class=""><li id="4c24" class="mn mo iq kb b kc kd kg kh kk mp ko mq ks mr kw ms mt mu mv bi translated">M:  MongoDB</li><li id="eb6a" class="mn mo iq kb b kc mw kg mx kk my ko mz ks na kw ms mt mu mv bi translated">E:  Express.js</li><li id="7987" class="mn mo iq kb b kc mw kg mx kk my ko mz ks na kw ms mt mu mv bi translated"><strong class="kb ir">答:</strong>棱角分明</li><li id="1b2a" class="mn mo iq kb b kc mw kg mx kk my ko mz ks na kw ms mt mu mv bi translated">N:  Node.js</li></ul><p id="454f" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">这更好，因为这些技术更加轻量级。此外，如果您注意到平均堆栈几乎都是JavaScript(当然除了MongoDB)。这使得开发更容易，并且可能比LAMP堆栈实现所需的资源更少。然而，您通常仍然需要一台服务器作为后端和前端。至少，一个运行着数据库存储的前端、后端和MongoDB实例的服务器。</p><p id="0198" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">现在，这就把我们带到了<strong class="kb ir"> JAMstack </strong> ( <a class="ae jy" href="https://medium.com/memory-leak/the-jamstack-its-pretty-sweet-e0834e4e6bb7" rel="noopener">直接引用阿斯塔西亚的帖子</a>):</p><ul class=""><li id="a4fb" class="mn mo iq kb b kc kd kg kh kk mp ko mq ks mr kw ms mt mu mv bi translated"><strong class="kb ir"> JavaScript (J): </strong>完全在客户端运行的JavaScript处理请求/响应周期内的任何动态编程(如Vue.js，React.js)。</li><li id="dd51" class="mn mo iq kb b kc mw kg mx kk my ko mz ks na kw ms mt mu mv bi translated"><strong class="kb ir">API(A):</strong>使用JavaScript通过HTTP访问的可重用API抽象所有服务器端进程或数据库动作(如Twilio、Stripe)。</li><li id="fe6d" class="mn mo iq kb b kc mw kg mx kk my ko mz ks na kw ms mt mu mv bi translated"><strong class="kb ir">标记(M): </strong>模板化标记应该在部署时预先构建，通常使用内容站点的站点生成器，或者web应用的构建工具(例如Gatsby.js、Webpack)。</li></ul><p id="8b7a" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">有了JAM stack，我们可以充分利用JavaScript和轻量级框架的优势，而不用担心维护问题。基本设置使开发人员能够专注于编写他们的代码，但没有设置服务器、托管等令人头痛的事情。</p><p id="3c07" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">在听了John Papa的演讲和阅读Astasia的文章后，我意识到我已经用Firebase编写了一年的JAM stack应用程序。</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><p id="a027" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">Firebase可以让你开发应用程序，而不需要担心后端和前端，等等。当然，你可以用Firebase提供的东西构建一个传统的架构。然而，在构建应用程序时，提供用于身份验证、数据库、文件存储和托管的API会让您的生活变得更加轻松。</p><p id="61af" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">实际上，我已经写了很多关于firebase的文章，并推荐您深入阅读以下两篇文章:</p><ul class=""><li id="2ef7" class="mn mo iq kb b kc kd kg kh kk mp ko mq ks mr kw ms mt mu mv bi translated"><a class="ae jy" href="https://blog.angularindepth.com/how-the-angular-fire-library-makes-firebase-feel-like-magic-1fda375966bb" rel="noopener ugc nofollow" target="_blank">angular fire库如何让Firebase感觉像魔术一样</a></li><li id="6482" class="mn mo iq kb b kc mw kg mx kk my ko mz ks na kw ms mt mu mv bi translated"><a class="ae jy" href="https://blog.angularindepth.com/deploying-an-angular-site-to-firebase-with-circleci-ed881cb6a2fa" rel="noopener ugc nofollow" target="_blank">Angular devo PS系列:使用CircleCI部署到Firebase</a></li></ul></div><div class="ab cl ld le hu lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="ij ik il im in"><h1 id="3ecb" class="lk ll iq bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">守望挑战，一个果酱栈的例子</h1><p id="1bec" class="pw-post-body-paragraph jz ka iq kb b kc mi ke kf kg mj ki kj kk mk km kn ko ml kq kr ks mm ku kv kw ij bi translated">现在我已经介绍了JAM Stack，让我们来讨论一个例子。</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="gh gi nb"><img src="../Images/abcc33448f23ac2e4ea065f0da433005.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qEuJhMqupU6g41_kfiUYBA.png"/></div></div></figure><p id="e300" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">最近，我开发了一个角度应用，我称之为<strong class="kb ir">over watch-Challenge</strong>。它是开源的，你可以<a class="ae jy" href="https://github.com/andrewevans02/overwatch-challenge" rel="noopener ugc nofollow" target="_blank">在这里</a>看看GitHub上的代码。这个名字实际上来自我工作的一个开发团队的内部名称，我喜欢它在这个应用程序中的发音。</p><p id="f6e1" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">该应用程序提供了一个学习平台。我想协调我的团队(和我的几个开发朋友)正在做的一些工作的协作和共享…所以我写了个app！</p><ul class=""><li id="7ede" class="mn mo iq kb b kc kd kg kh kk mp ko mq ks mr kw ms mt mu mv bi translated">它根据用户每周记录的学习活动给用户打分。</li><li id="10b4" class="mn mo iq kb b kc mw kg mx kk my ko mz ks na kw ms mt mu mv bi translated">这个想法是，每周一次获奖者被认可，然后有一个即兴会议，以突出一些所学到的东西。</li><li id="b4f2" class="mn mo iq kb b kc mw kg mx kk my ko mz ks na kw ms mt mu mv bi translated">该应用程序包括<a class="ae jy" href="https://slack.com/" rel="noopener ugc nofollow" target="_blank">松弛集成</a>以及<a class="ae jy" href="https://zoom.us/zoomrooms?zcid=2438" rel="noopener ugc nofollow" target="_blank">会议缩放</a>。</li><li id="cf76" class="mn mo iq kb b kc mw kg mx kk my ko mz ks na kw ms mt mu mv bi translated">当用户记录学习活动时，会包含一个超链接，以便以后可以查看这些活动</li></ul><div class="kx ky kz la gt ab cb"><figure class="ng jr nh ni nj nk nl paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><img src="../Images/f4e26a90fcbe39ebdd2440c64c74a34e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/1*Xx1-gVKKAEP3sFrxgI1Ncg.png"/></div></figure><figure class="ng jr nm ni nj nk nl paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><img src="../Images/d2826804bdac9e626f079fe5c5c48fe8.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/format:webp/1*S9EhFzisDvDReUVx8AJsZg.png"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk nn di no np translated">你知道丘巴卡写代码吗？</figcaption></figure></div><p id="e416" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">这怎么会是果酱堆呢？让我们看看它是如何工作的。</p><ul class=""><li id="e6e9" class="mn mo iq kb b kc kd kg kh kk mp ko mq ks mr kw ms mt mu mv bi translated">首先，整个应用程序由<a class="ae jy" href="https://firebase.google.com/docs/hosting" rel="noopener ugc nofollow" target="_blank"> Firebase托管</a>托管。这使得整个过程非常简单，因为Firebase有一个很好的CLI，可以轻松地捆绑和部署您的代码。查看我在<a class="ae jy" href="https://rhythmandbinary.com/post/Firebase" rel="noopener ugc nofollow" target="_blank"> Firebase主机上的文章，了解更多细节。</a></li><li id="1c9f" class="mn mo iq kb b kc mw kg mx kk my ko mz ks na kw ms mt mu mv bi translated">使用CircleCI完成部署。我连接了我的GitHub repo，这样任何对Master的推送都会触发CircleCI中的构建。CircleCI会通知我构建状态。CircleCI有一个很棒的控制台，允许在构建时进行调试和日志记录。查看我在CircleCI上的<a class="ae jy" href="https://rhythmandbinary.com/post/Circle_Ci" rel="noopener ugc nofollow" target="_blank">文章，了解更多详情</a>。</li><li id="d5be" class="mn mo iq kb b kc mw kg mx kk my ko mz ks na kw ms mt mu mv bi translated">为了与Slack集成，我还使用了<a class="ae jy" href="https://firebase.google.com/docs/functions" rel="noopener ugc nofollow" target="_blank"> Firebase云函数</a>。这些实际上只是Firebase的Google Cloud函数，但它们提供了一种让无服务器函数为我的应用程序工作的好方法。Firebase云函数非常强大，当值被写入Firestore数据库时，我已经围绕触发器构建了我的函数。您也可以将这些功能扩展到<a class="ae jy" href="https://firebase.google.com/docs/functions/http-events" rel="noopener ugc nofollow" target="_blank">成为带有Node Express的完整API</a>。</li><li id="5632" class="mn mo iq kb b kc mw kg mx kk my ko mz ks na kw ms mt mu mv bi translated">我还利用<a class="ae jy" href="https://firebase.google.com/docs/auth" rel="noopener ugc nofollow" target="_blank"> Firebase认证</a>来控制对应用程序的认证，并利用<a class="ae jy" href="https://firebase.google.com/docs/firestore" rel="noopener ugc nofollow" target="_blank">云Firestore数据库</a>来控制NoSQL数据库</li><li id="6fe2" class="mn mo iq kb b kc mw kg mx kk my ko mz ks na kw ms mt mu mv bi translated">我正在使用<a class="ae jy" href="https://github.com/angular/angularfire2" rel="noopener ugc nofollow" target="_blank"> AngularFire库</a>与认证和Firestore进行交互，以便在我的Angular组件中注入依赖关系。我应该提到，您可以直接调用Firebase APIs，但我是AngularFire的忠实粉丝，所以我在我的应用程序中使用了它。</li></ul><p id="e08d" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">最酷的部分是<strong class="kb ir">我只有一个项目。我为此编写的大部分代码都专注于构建Angular前端，以及编排对API的调用。</strong>我没有传统的后端和前端应用程序，这通常是首选的架构。</p><p id="9dd2" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">我的应用程序的JAM堆栈如下:</p><ul class=""><li id="5684" class="mn mo iq kb b kc kd kg kh kk mp ko mq ks mr kw ms mt mu mv bi translated"><strong class="kb ir">JavaScript(J)</strong>= Angular Frontend(Typescript重新编译的JavaScript)和Firebase Cloud函数(Node Express)处理web应用的请求响应周期</li><li id="55a2" class="mn mo iq kb b kc mw kg mx kk my ko mz ks na kw ms mt mu mv bi translated"><strong class="kb ir">API(A)</strong>= Angular fire库在触发数据库事件的Angular应用程序和Firebase云函数中注入了依赖关系</li><li id="7821" class="mn mo iq kb b kc mw kg mx kk my ko mz ks na kw ms mt mu mv bi translated"><strong class="kb ir">标记(M) </strong> = Webpack用于编译Angular应用程序包和用于Firebase云功能的Node Express构建</li></ul><blockquote class="nq nr ns"><p id="e503" class="jz ka nt kb b kc kd ke kf kg kh ki kj nu kl km kn nv kp kq kr nw kt ku kv kw ij bi translated">另外，作为一个旁注，我也使用<a class="ae jy" href="https://www.mkdocs.org/" rel="noopener ugc nofollow" target="_blank"> MkDocs </a>作为<a class="ae jy" href="https://andrewevans0102.github.io/overwatch-challenge/" rel="noopener ugc nofollow" target="_blank">警戒-挑战用户指南</a>的静态站点生成器。这与我和CircleCI一起构建的CICD管道是分开完成的，并不是JAMstack讨论的一部分。我想在这里提到它只是作为一个网站生成器的例子。MkDocs是一个非常棒的开源站点生成器，我强烈推荐。</p></blockquote><p id="457a" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated"><strong class="kb ir">我从这个架构中获得了什么优势？</strong></p><ul class=""><li id="a335" class="mn mo iq kb b kc kd kg kh kk mp ko mq ks mr kw ms mt mu mv bi translated">我的应用程序的开发时间大大加快了(大概总共花了20个小时)</li><li id="d880" class="mn mo iq kb b kc mw kg mx kk my ko mz ks na kw ms mt mu mv bi translated">非常低的外部依赖性，因为一切都由Firebase服务处理</li><li id="1fe2" class="mn mo iq kb b kc mw kg mx kk my ko mz ks na kw ms mt mu mv bi translated">能够专注于为应用程序构建良好的UI和体验(不必构建运行的服务器)</li><li id="3761" class="mn mo iq kb b kc mw kg mx kk my ko mz ks na kw ms mt mu mv bi translated">将应用程序的维护推到Firebase控制台上，而不是构建我自己的服务器集</li></ul></div><div class="ab cl ld le hu lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="ij ik il im in"><h1 id="04ef" class="lk ll iq bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">结束语</h1><p id="6e44" class="pw-post-body-paragraph jz ka iq kb b kc mi ke kf kg mj ki kj kk mk km kn ko ml kq kr ks mm ku kv kw ij bi translated">所以我希望我对JAM stack的解释和展示已经向您展示了这种架构的好处。我使用Firebase构建应用程序已经有一段时间了，现在我才意识到为什么JAM stack能够让它们变得有趣且易于维护。如果你有时间的话，我建议你查阅一下Firebase文档，然后开发一个hello world应用程序。也请查看我提供的链接文章，对所讨论的概念进行更深入的解释。</p></div></div>    
</body>
</html>