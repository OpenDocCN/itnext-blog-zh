<html>
<head>
<title>What is: YAML — its overview, basic data types, YAML vs JSON, and PyYAML</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是:YAML-它的概述，基本数据类型，YAML与JSON，和PyYAML</h1>
<blockquote>原文：<a href="https://itnext.io/what-is-yaml-its-overview-basic-data-types-yaml-vs-json-and-pyyaml-92059d1a24fa?source=collection_archive---------3-----------------------#2019-03-14">https://itnext.io/what-is-yaml-its-overview-basic-data-types-yaml-vs-json-and-pyyaml-92059d1a24fa?source=collection_archive---------3-----------------------#2019-03-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/49358f0569528ce3094b2ee115139cba.png" data-original-src="https://miro.medium.com/v2/resize:fit:260/format:webp/0*-JvaceCXYcI0mF9q.jpg"/></div></figure><p id="caa3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">YAML —是最受欢迎的格式之一…</p><p id="9065" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">嗯，实际上，他们不知道什么格式…</p><p id="b2dd" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">最初它是另一种标记语言，后来它变成了YAML不是标记语言；</p><blockquote class="kt ku kv"><p id="04f9" class="ju jv ks jw b jx jy jz ka kb kc kd ke kw kg kh ki kx kk kl km ky ko kp kq kr ij bi translated">最初，YAML被认为是另一种标记语言、<a class="ae kz" href="https://en.wikipedia.org/wiki/YAML#cite_note-YAML_spec_2001_08_01-12" rel="noopener ugc nofollow" target="_blank">、【12】、</a>的意思，用<a class="ae kz" href="https://en.wikipedia.org/wiki/Yet_another" rel="noopener ugc nofollow" target="_blank">和另一种</a>结构引用其作为<a class="ae kz" href="https://en.wikipedia.org/wiki/Markup_language" rel="noopener ugc nofollow" target="_blank">标记语言</a>的目的，但后来它被重新定义为<em class="iq"> YAML不是标记语言</em>、<a class="ae kz" href="https://en.wikipedia.org/wiki/Recursive_acronym" rel="noopener ugc nofollow" target="_blank">递归首字母缩略词</a>，以区分其面向数据的目的，而不是文档标记。</p></blockquote><p id="ae40" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在俄罗斯的维基百科中,“友好”这个词甚至要加上引号——我绝对同意这一点。</p><p id="266f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">事实上，YAML只是另一种数据序列化类型，是JSON格式的继承者，但是具有一些额外的能力。</p><p id="8020" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在最近乌克兰DevOps社区的调查中，YAML对JSON，YAML获得了90%的选票。</p><p id="efc9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">至于我JSON还是最方便的，但是YAML用的很多地方都得用它。</p><p id="1038" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在这篇文章中，我们将仔细观察YAML的数据类型，并与JSON进行快速比较。</p><h2 id="def6" class="la lb iq bd lc ld le dn lf lg lh dp li kf lj lk ll kj lm ln lo kn lp lq lr ls bi translated">YAML主要原则</h2><ul class=""><li id="858f" class="lt lu iq jw b jx lv kb lw kf lx kj ly kn lz kr ma mb mc md bi translated">总是使用UTF-8来避免可能的问题</li><li id="7774" class="lt lu iq jw b jx me kb mf kf mg kj mh kn mi kr ma mb mc md bi translated">不要使用制表符缩进</li></ul><h2 id="83ef" class="la lb iq bd lc ld le dn lf lg lh dp li kf lj lk ll kj lm ln lo kn lp lq lr ls bi translated">YAML语法验证</h2><p id="f9b0" class="pw-post-body-paragraph ju jv iq jw b jx lv jz ka kb lw kd ke kf mj kh ki kj mk kl km kn ml kp kq kr ij bi translated">要检查Linux中的YAML语法，可以使用<code class="fe mm mn mo mp b"><a class="ae kz" href="https://github.com/adrienverge/yamllint" rel="noopener ugc nofollow" target="_blank">yamllint</a></code>。</p><p id="1d91" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">安装它:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="17fe" class="la lb iq mp b gy my mz l na nb">$ sudo pacman -S yamllint</span></pre><p id="3a41" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">并检查文件:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="9236" class="la lb iq mp b gy my mz l na nb">$ yamllint monitoring.yml<br/>monitoring.yml<br/>1:1 warning missing document start “ — -” (document-start)<br/>20:34 error trailing spaces (trailing-spaces)<br/>22:32 error trailing spaces (trailing-spaces)<br/>23:37 error trailing spaces (trailing-spaces)<br/>33:7 error wrong indentation: expected 8 but found 6 (indentation)<br/>35:9 error wrong indentation: expected 10 but found 8 (indentation)<br/>36:11 error wrong indentation: expected 12 but found 10 (indentation)</span></pre><p id="948e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">同样，Ansible使用这个文件没有任何问题——它的格式仍然有一些问题。</p><h2 id="072a" class="la lb iq bd lc ld le dn lf lg lh dp li kf lj lk ll kj lm ln lo kn lp lq lr ls bi translated">JSON验证</h2><p id="14a8" class="pw-post-body-paragraph ju jv iq jw b jx lv jz ka kb lw kd ke kf mj kh ki kj mk kl km kn ml kp kq kr ij bi translated">例如，JSON使用Python的<code class="fe mm mn mo mp b">json</code>模块从Linux控制台记录验证:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="3616" class="la lb iq mp b gy my mz l na nb">$ python -m json.tool &lt; json-example.json<br/>{<br/>  “key1”: “value1”,<br/>}</span></pre><h2 id="5fbe" class="la lb iq bd lc ld le dn lf lg lh dp li kf lj lk ll kj lm ln lo kn lp lq lr ls bi translated"><code class="fe mm mn mo mp b">vim</code>插件</h2><p id="ac6f" class="pw-post-body-paragraph ju jv iq jw b jx lv jz ka kb lw kd ke kf mj kh ki kj mk kl km kn ml kp kq kr ij bi translated">还有一个<code class="fe mm mn mo mp b">vim</code>的<code class="fe mm mn mo mp b"><a class="ae kz" href="https://vimawesome.com/plugin/vim-yaml-all-too-well" rel="noopener ugc nofollow" target="_blank">vim-yaml</a></code>插件。</p><p id="b4b7" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">添加到您的<code class="fe mm mn mo mp b">.vimrc</code>:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="2bfc" class="la lb iq mp b gy my mz l na nb">...<br/>" <a class="ae kz" href="https://vimawesome.com/plugin/vim-yaml-all-too-well" rel="noopener ugc nofollow" target="_blank">https://vimawesome.com/plugin/vim-yaml-all-too-well</a><br/>Plug 'avakhov/vim-yaml'<br/><br/>" add yaml stuffs<br/>au! BufNewFile,BufReadPost *.{yaml,yml} set filetype=yaml foldmethod=indent<br/>autocmd FileType yaml setlocal ts=2 sts=2 sw=2 expandtab<br/>...</span></pre><p id="08ec" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">重新加载配置并安装它:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="5763" class="la lb iq mp b gy my mz l na nb">:source %<br/>:PlugInstall</span></pre><h2 id="72d3" class="la lb iq bd lc ld le dn lf lg lh dp li kf lj lk ll kj lm ln lo kn lp lq lr ls bi translated">PyYAML</h2><p id="64b7" class="pw-post-body-paragraph ju jv iq jw b jx lv jz ka kb lw kd ke kf mj kh ki kj mk kl km kn ml kp kq kr ij bi translated">为了使用Python中的YAML，有一个PyYAML库。</p><p id="fe1b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">下面是一些例子。</p><h2 id="9260" class="la lb iq bd lc ld le dn lf lg lh dp li kf lj lk ll kj lm ln lo kn lp lq lr ls bi translated">YAML格式</h2><h2 id="6789" class="la lb iq bd lc ld le dn lf lg lh dp li kf lj lk ll kj lm ln lo kn lp lq lr ls bi translated">YAML的评论</h2><p id="2abf" class="pw-post-body-paragraph ju jv iq jw b jx lv jz ka kb lw kd ke kf mj kh ki kj mk kl km kn ml kp kq kr ij bi translated">YAM为数不多的优势之一是能够在文件中添加注释。</p><p id="08e8" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">注释格式是常见的—使用#。</p><p id="319e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">可以在任何地方添加注释。</p><p id="1015" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">示例:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="7ef2" class="la lb iq mp b gy my mz l na nb">---<br/># I'm comment<br/>- name: somestring<br/>  value1: "# I'm not a comment!"<br/>  value: anotherstring  # another comment</span></pre><h2 id="c65f" class="la lb iq bd lc ld le dn lf lg lh dp li kf lj lk ll kj lm ln lo kn lp lq lr ls bi translated">缺口</h2><p id="fd8c" class="pw-post-body-paragraph ju jv iq jw b jx lv jz ka kb lw kd ke kf mj kh ki kj mk kl km kn ml kp kq kr ij bi translated">YAML上最令人头疼的是凹痕。</p><p id="fac6" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在这种情况下，在整个文件中，空格的数量(空格-曾经制表符！)肯定是一样的。</p><p id="748c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">即，如果在一个地方使用了两个空格，那么整个文件必须使用两个空格。</p><p id="a8b2" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">更重要的是——协议是使用两个空格，尽管可以是任何空格——任何地方都必须相同。</p><p id="4ff8" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">例如:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="1e98" class="la lb iq mp b gy my mz l na nb">---<br/>parent_key:<br/>    key1: "value1"<br/>    key2: "value2"<br/>    key3: "%value3"</span></pre><p id="7c5f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">将是有效的形式，但下一个例子:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="faf2" class="la lb iq mp b gy my mz l na nb">---<br/>parent_key1:<br/>    key1: "value1"<br/>    key2: "value2"<br/>    key3: "%value3"<br/><br/>parent_key2:<br/>  key1: "value1"<br/>  key2: "value2"<br/>  key3: "%value3"</span></pre><p id="b95b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">不会。</p><p id="a48a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">而在Python中，由于对空格的依赖，这种格式经常受到指责，尽管这违反了标准:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="c992" class="la lb iq mp b gy my mz l na nb">#!/usr/bin/env python<br/><br/>def a():<br/>    print("A")<br/>    <br/>def b():<br/>  print("B")<br/>  <br/>a()<br/>b()</span></pre><p id="3996" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">结果:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="a972" class="la lb iq mp b gy my mz l na nb">$ python spaces.py<br/>A<br/>B</span></pre><h2 id="eae5" class="la lb iq bd lc ld le dn lf lg lh dp li kf lj lk ll kj lm ln lo kn lp lq lr ls bi translated">单线YAML</h2><p id="40da" class="pw-post-body-paragraph ju jv iq jw b jx lv jz ka kb lw kd ke kf mj kh ki kj mk kl km kn ml kp kq kr ij bi translated">除了标准视图和空格缩进，您还可以使用类似JSON的格式，比如:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="9b06" class="la lb iq mp b gy my mz l na nb">---<br/>parent_key: {key1: "value1", key2: "value2"}</span></pre><h2 id="e8de" class="la lb iq bd lc ld le dn lf lg lh dp li kf lj lk ll kj lm ln lo kn lp lq lr ls bi translated">文字块标量</h2><p id="f3d0" class="pw-post-body-paragraph ju jv iq jw b jx lv jz ka kb lw kd ke kf mj kh ki kj mk kl km kn ml kp kq kr ij bi translated">YAML支持添加多行文字块标量的能力，有三种类型:常用的，使用“<code class="fe mm mn mo mp b">|</code>”和“<code class="fe mm mn mo mp b">&gt;</code>”。</p><p id="4068" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">常见的格式如下:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="e8fa" class="la lb iq mp b gy my mz l na nb">---<br/>string: This<br/>    is<br/>    some text<br/>    without newlines</span></pre><p id="40f7" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">Python控制台中的结果:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="817e" class="la lb iq mp b gy my mz l na nb">&gt;&gt;&gt; yaml.load(open(‘yaml-example.yml’))<br/>{‘string’: ‘This is some text without newlines’}</span></pre><p id="1683" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">使用| ( <a class="ae kz" href="http://www.yaml.org/spec/1.2/spec.html#id2795688" rel="noopener ugc nofollow" target="_blank"> <em class="ks">文字样式)</em> </a> <em class="ks"> </em> —将保存所有换行符和结束空格:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="7b4e" class="la lb iq mp b gy my mz l na nb">---<br/>string: |<br/>    This<br/>    is<br/>    some text<br/>    with newlines</span></pre><p id="fb7c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">结果是:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="497b" class="la lb iq mp b gy my mz l na nb">&gt;&gt;&gt; yaml.load(open(‘yaml-example.yml’))<br/>{‘string’: ‘This\nis\nsome text\nwith newlines\n’}</span></pre><p id="3a88" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">并使用&gt;(<a class="ae kz" href="http://www.yaml.org/spec/1.2/spec.html#id2796251" rel="noopener ugc nofollow" target="_blank"> <em class="ks">折叠样式</em> </a>):</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="d554" class="la lb iq mp b gy my mz l na nb">---<br/>string: &gt;<br/>    This<br/>    is<br/>    some text<br/>    without newlines</span></pre><p id="6b58" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">将在一行中返回整个文本+结束换行符:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="dc51" class="la lb iq mp b gy my mz l na nb">&gt;&gt;&gt; yaml.load(open(‘yaml-example.yml’))<br/>{‘string’: ‘This is some text without newlines\n’}</span></pre><p id="8496" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">但是，您仍然必须遵守相同的空间格式。</p><p id="74b9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">另外，查看StackOverflow上的精彩答案<a class="ae kz" href="https://stackoverflow.com/a/21699210/2720802" rel="noopener ugc nofollow" target="_blank">这里&gt; &gt; &gt; </a>:</p><blockquote class="kt ku kv"><p id="c520" class="ju jv ks jw b jx jy jz ka kb kc kd ke kw kg kh ki kx kk kl km ky ko kp kq kr ij bi translated">在YAML，有569种(或者63种，取决于你怎么数)不同的方法来写多行字符串。</p></blockquote><h2 id="497d" class="la lb iq bd lc ld le dn lf lg lh dp li kf lj lk ll kj lm ln lo kn lp lq lr ls bi translated">YAML基本数据格式</h2><p id="0123" class="pw-post-body-paragraph ju jv iq jw b jx lv jz ka kb lw kd ke kf mj kh ki kj mk kl km kn ml kp kq kr ij bi translated">YAML使用三种主要的数据格式:</p><ul class=""><li id="4d12" class="lt lu iq jw b jx jy kb kc kf nc kj nd kn ne kr ma mb mc md bi translated">标量:在<em class="ks">键:值</em>视图中最简单的</li><li id="f328" class="lt lu iq jw b jx me kb mf kf mg kj mh kn mi kr ma mb mc md bi translated">列表/序列:按索引排序的数据</li><li id="e8ca" class="lt lu iq jw b jx me kb mf kf mg kj mh kn mi kr ma mb mc md bi translated">字典/映射:类似于标量，但可以包含嵌套数据，包括其他数据类型</li></ul></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h2 id="74b0" class="la lb iq bd lc ld le dn lf lg lh dp li kf lj lk ll kj lm ln lo kn lp lq lr ls bi translated">标量</h2><p id="4412" class="pw-post-body-paragraph ju jv iq jw b jx lv jz ka kb lw kd ke kf mj kh ki kj mk kl km kn ml kp kq kr ij bi translated">基本数据类型—标量，只是一个键:作为编程变量的值:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="a12e" class="la lb iq mp b gy my mz l na nb">---<br/>key1: "value1"<br/>key2: "value2"</span></pre><p id="292f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">建议对值使用引号，以避免特殊字符可能带来的问题:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="86de" class="la lb iq mp b gy my mz l na nb">$ cat example.yml<br/>---<br/>key1: “value1”<br/>key2: “value2”<br/>key3: %value3</span></pre><p id="4ede" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">验证它:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="20a7" class="la lb iq mp b gy my mz l na nb">$ yamllint example.yml<br/>example.yml<br/>4:7 error syntax error: found character ‘%’ that cannot start any token</span></pre><p id="acd1" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">不过，对于布尔值true/false和整数类型，您可以跳过引号。</p><p id="bba3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">标量— YAML vs JSON</p><p id="ec58" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">例如，YAML的标量:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="bb23" class="la lb iq mp b gy my mz l na nb">---<br/>key: "value"</span></pre><p id="dd22" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">和JSON:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="a458" class="la lb iq mp b gy my mz l na nb">{<br/>    "key": "value"<br/>}</span></pre><p id="7b45" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">计算机编程语言</p><p id="97c8" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">Python中的YAML标量示例:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="4bfd" class="la lb iq mp b gy my mz l na nb">&gt;&gt;&gt; import yaml<br/>&gt;&gt;&gt; yaml.load("""<br/>… key: “value”<br/>… """)<br/>{'key': 'value'}</span></pre><p id="46e1" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">或者从文件:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="3b05" class="la lb iq mp b gy my mz l na nb">&gt;&gt;&gt; import yaml<br/>&gt;&gt;&gt; yaml.load(open(‘yaml-example.yml’))<br/>{‘key’: ‘value’}</span></pre></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h2 id="c88b" class="la lb iq bd lc ld le dn lf lg lh dp li kf lj lk ll kj lm ln lo kn lp lq lr ls bi translated">YAML的列表</h2><p id="f265" class="pw-post-body-paragraph ju jv iq jw b jx lv jz ka kb lw kd ke kf mj kh ki kj mk kl km kn ml kp kq kr ij bi translated">列表、序列、集合—表示有序数据的集合，其中每个元素都可以通过其索引进行访问。</p><p id="f4da" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">例如:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="d5f2" class="la lb iq mp b gy my mz l na nb"># SIMPLE LIST<br/>- element1<br/>- element2</span></pre><p id="49af" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">YAML的嵌套列表</p><p id="0462" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">与上面的示例类似，列表可以包括嵌套列表:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="bbd3" class="la lb iq mp b gy my mz l na nb"># SIMPLE LIST<br/>- element1<br/>- element2<br/><br/># nested list<br/>-<br/>  - element1</span></pre><p id="0b61" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">或者可以是命名列表:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="20f8" class="la lb iq mp b gy my mz l na nb">---<br/>itemname:<br/>  - valuename</span></pre><p id="b0cd" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这样，列表也可以包含标量或字典:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="cd5c" class="la lb iq mp b gy my mz l na nb">---<br/>itemname:<br/>  - valuename<br/>  - scalar: "value"<br/>  - dict: {item1: "value1", item2: "value2"}</span></pre><p id="e629" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">列表— YAML vs JSON</p><p id="4f5b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">YAML列表:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="f8c6" class="la lb iq mp b gy my mz l na nb">---<br/>- item1<br/>- item2<br/>- item3</span></pre><p id="30e3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">JSON中的列表:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="5657" class="la lb iq mp b gy my mz l na nb">[<br/>    "item1",<br/>    "item2",<br/>    "item3"<br/>]</span></pre><p id="55c3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">YAML的嵌套列表:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="80c7" class="la lb iq mp b gy my mz l na nb">---<br/>- item1<br/>- item2<br/>- item3<br/>-<br/>  - nested1</span></pre><p id="8397" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">JSON中的嵌套列表:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="a8ca" class="la lb iq mp b gy my mz l na nb">[<br/>    "item1",<br/>    "item2",<br/>    "item3",<br/>    [<br/>        "nested1"<br/>    ]<br/>]</span></pre><p id="33ef" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">Python和YAML-列表</p><p id="7bad" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">下面是所有类似标量的例子:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="bb19" class="la lb iq mp b gy my mz l na nb">&gt;&gt;&gt; yaml.load(open(‘yaml-example.yml’))<br/>[‘item1’, ‘item2’, ‘item3’, [‘nested1’]]<br/>&gt;&gt;&gt; for i in yaml.load(open(‘yaml-example.yml’)):<br/>… print(i)<br/>…<br/>item1<br/>item2<br/>item3<br/>[‘nested1’]</span></pre></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h2 id="5293" class="la lb iq bd lc ld le dn lf lg lh dp li kf lj lk ll kj lm ln lo kn lp lq lr ls bi translated">字典</h2><p id="345f" class="pw-post-body-paragraph ju jv iq jw b jx lv jz ka kb lw kd ke kf mj kh ki kj mk kl km kn ml kp kq kr ij bi translated">字典，也称为映射，类似于标量类型，包含一个键:值数据，但不同于标量的基本类型，字典可以包含嵌套元素，例如列表:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="4a8a" class="la lb iq mp b gy my mz l na nb">---<br/>key1: "value1"<br/>key2:<br/>  - value2<br/>  - value3</span></pre><p id="78b6" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">或者另一个嵌套字典:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="2724" class="la lb iq mp b gy my mz l na nb">---<br/>key1: "value1"<br/>key2:<br/>  - value2<br/>  - value3<br/>    <br/>key3:<br/>  key4: "value4"<br/>  key5: "value5"<br/>  key6:<br/>    key7: "value7"</span></pre><p id="a2c4" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">字典— JSON vs YAML</p><p id="a1f6" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">YAML词典:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="4956" class="la lb iq mp b gy my mz l na nb">---<br/>key1: "value1"<br/>key2:<br/>  - value2<br/>  - value3</span></pre><p id="f8aa" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">JSON中的字典:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="c9ad" class="la lb iq mp b gy my mz l na nb">{<br/>    "key1": "value1",<br/>    "key2": [<br/>        "value2",<br/>        "value3"<br/>    ]<br/>}</span></pre><p id="81ac" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">计算机编程语言</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="5c81" class="la lb iq mp b gy my mz l na nb">&gt;&gt;&gt; yaml.load(open(‘yaml-example.yml’))<br/>{‘key1’: ‘value1’, ‘key2’: [‘value2’, ‘value3’]}<br/>&gt;&gt;&gt; type(yaml.load(open(‘yaml-example.yml’)))<br/>&lt;class ‘dict’&gt;</span></pre><p id="9603" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">并且支持Python字典的所有常用操作:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="c577" class="la lb iq mp b gy my mz l na nb">&gt;&gt;&gt; dict = yaml.load(open(‘yaml-example.yml’))<br/>&gt;&gt;&gt; type(dict)<br/>&lt;class ‘dict’&gt;<br/>&gt;&gt;&gt; dict.update({‘key3’:’value3'})<br/>&gt;&gt;&gt; print(dict)<br/>{‘key1’: ‘value1’, ‘key2’: [‘value2’, ‘value3’], ‘key3’: ‘value3’}</span></pre></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><p id="5d94" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">总的来说——就这些。</p><p id="b859" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">更多详细信息，请查看这些页面:</p><ul class=""><li id="8cc9" class="lt lu iq jw b jx jy kb kc kf nc kj nd kn ne kr ma mb mc md bi translated"><a class="ae kz" href="https://github.com/Animosity/CraftIRC/wiki/Complete-idiot%27s-introduction-to-yaml" rel="noopener ugc nofollow" target="_blank">完全白痴的yaml入门</a></li><li id="1673" class="lt lu iq jw b jx me kb mf kf mg kj mh kn mi kr ma mb mc md bi translated"><a class="ae kz" href="http://sangsoonam.github.io/2017/03/13/yaml-vs-json.html" rel="noopener ugc nofollow" target="_blank"> YAML vs JSON </a></li><li id="d7d4" class="lt lu iq jw b jx me kb mf kf mg kj mh kn mi kr ma mb mc md bi translated"><a class="ae kz" href="https://docs.ansible.com/ansible/latest/reference_appendices/YAMLSyntax.html" rel="noopener ugc nofollow" target="_blank"> YAML语法</a></li><li id="33bd" class="lt lu iq jw b jx me kb mf kf mg kj mh kn mi kr ma mb mc md bi translated"><a class="ae kz" href="https://learn.getgrav.org/15/advanced/yaml" rel="noopener ugc nofollow" target="_blank"> YAML语法</a></li><li id="9b2c" class="lt lu iq jw b jx me kb mf kf mg kj mh kn mi kr ma mb mc md bi translated"><a class="ae kz" href="https://learnxinyminutes.com/docs/yaml/" rel="noopener ugc nofollow" target="_blank">Y分钟学会X</a></li></ul></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><p id="258e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="ks">最初发布于</em> <a class="ae kz" href="https://rtfm.co.ua/en/what-is-yaml-its-overview-basic-data-types-yaml-vs-json-and-pyyaml/" rel="noopener ugc nofollow" target="_blank"> <strong class="jw ir"> <em class="ks"> RTFM: Linux、DevOps和系统管理</em> </strong> </a> <em class="ks">。</em></p></div></div>    
</body>
</html>