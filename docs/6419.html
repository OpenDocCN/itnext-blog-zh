<html>
<head>
<title>Simplest minimal K8s app tutorial with Rancher Desktop in 5 min</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">最简单的K8s应用程序教程，5分钟内完成</h1>
<blockquote>原文：<a href="https://itnext.io/simplest-minimal-k8s-app-tutorial-with-rancher-desktop-in-5-min-5481edb9a4a5?source=collection_archive---------0-----------------------#2021-11-13">https://itnext.io/simplest-minimal-k8s-app-tutorial-with-rancher-desktop-in-5-min-5481edb9a4a5?source=collection_archive---------0-----------------------#2021-11-13</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><figure class="gm go js jt ju jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj jr"><img src="../Images/b6da4655601d8a6f2fc7ebeb273c32e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AP7nFYfgW7AG_iHd5HZ77A.png"/></div></div></figure><p id="8c70" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">本文为一个应用程序提供了最简单、最容易、最小化的Kubernetes (K8s)集群和清单，您可以在本地部署和使用它来了解K8s。<em class="la">在5分钟内，你会有一个</em> <strong class="ke iv"> <em class="la">本地K8s集群</em> </strong> <em class="la">和一个</em> <a class="ae lb" href="https://javascript.plainenglish.io/kaboom-js-repl-it-custom-top-down-shooter-in-5-min-ebad8157073a" rel="noopener ugc nofollow" target="_blank"> <em class="la">我在你的本地机器上做的简单游戏</em> </a> <em class="la">进行实验！</em></p><blockquote class="lc ld le"><p id="33f1" class="kc kd la ke b kf kg kh ki kj kk kl km lf ko kp kq lg ks kt ku lh kw kx ky kz in bi translated">TL；博士:安装牧场主桌面<a class="ae lb" href="https://rancherdesktop.io/" rel="noopener ugc nofollow" target="_blank">https://rancherdesktop.io/</a>拉动&amp;部署<a class="ae lb" href="https://github.com/jwsy/simplest-k8s" rel="noopener ugc nofollow" target="_blank">https://github.com/jwsy/simplest-k8s</a>—<strong class="ke iv">2023年3月测试w/v1.8.1 ✅ </strong></p></blockquote><p id="2234" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">Kubernetes很难学。但是作为一个开发人员，有人为你提供了一个集群，这是一个<strong class="ke iv">惊人的安全系统，让我写一次就可以在任何地方运行</strong>。谢天谢地，Rancher Labs/SUSE的好心人让在您的笔记本电脑上创建集群变得很容易！</p><h2 id="be7d" class="li lj iu bd lk ll lm dn ln lo lp dp lq kn lr ls lt kr lu lv lw kv lx ly lz ma bi translated">用Rancher Desktop在3分钟内创建一个集群</h2><p id="8878" class="pw-post-body-paragraph kc kd iu ke b kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz in bi translated"><a class="ae lb" href="https://rancherdesktop.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ke iv">牧场主桌面(链接)是本教程的一个需求</strong> </a> <strong class="ke iv"> </strong>。Rancher Desktop <strong class="ke iv">在您的笔记本电脑</strong>上创建一个集群，并安装您需要向其部署应用程序的命令行工具(kubectl/nerdctl/helm)。按照下面的教程来！</p><div class="mg mh gq gs mi mj"><a href="https://medium.com/macoclock/rancher-desktop-setup-for-k8s-on-your-macos-laptop-6f1c576ceb48" rel="noopener follow" target="_blank"><div class="mk ab fp"><div class="ml ab mm cl cj mn"><h2 class="bd iv gz z fq mo fs ft mp fv fx it bi translated">macOS笔记本电脑上K8s的Rancher桌面设置</h2><div class="mq l"><h3 class="bd b gz z fq mo fs ft mp fv fx dk translated">对于我在MacBook上的个人K8s测试实验室，我使用的是Rancher Desktop。我试过MiniKube(牛逼)和K3d(也…</h3></div><div class="mr l"><p class="bd b dl z fq mo fs ft mp fv fx dk translated">medium.com</p></div></div><div class="ms l"><div class="mt l mu mv mw ms mx ka mj"/></div></div></a></div><p id="377f" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">如前一篇文章所示，在安装了Rancher Desktop并选择了版本(<strong class="ke iv">我选择了最新的、containerd和auto path config </strong>)以及是否授予管理访问权限(我单击了复选框<strong class="ke iv">总是在没有管理访问权限的情况下运行</strong>)之后，在连接良好的情况下，不到2分钟就可以拥有一个集群。您的命令行也将设置在正确的配置“上下文”中，这使您可以控制这个集群(<a class="ae lb" href="https://kubernetes.io/docs/tasks/access-application-cluster/configure-access-multiple-clusters/" rel="noopener ugc nofollow" target="_blank">了解更多关于K8s上下文的信息</a>)。</p><div class="my mz na nb gu ab cb"><figure class="nc jv nd ne nf ng nh paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><img src="../Images/f64a84763eb9e7dca73d98cec9b693f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:338/format:webp/1*skpWje8KJwE58ic939pwRg.png"/></div></figure><figure class="nc jv ni ne nf ng nh paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><img src="../Images/08605cee82f7f85d5202dc56a7020fa2.png" data-original-src="https://miro.medium.com/v2/resize:fit:832/format:webp/1*xMEjbD2hxk7RQWKGXvhpgg.png"/></div></figure><figure class="nc jv ni ne nf ng nh paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><img src="../Images/6cb50887ca43b5cd9af1fbc77dff7e15.png" data-original-src="https://miro.medium.com/v2/resize:fit:832/format:webp/1*ofT22x5qGyJ5PBVP7U4bkw.png"/></div></figure></div><p id="3a88" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">打开你的终端，玩<code class="fe nj nk nl nm b">kubectl</code>来获得上下文和节点。当你退出Rancher桌面应用程序时，它会恢复你的上下文，或者你可以使用<code class="fe nj nk nl nm b">kubectl config set-context &lt;context&gt;</code>设置另一个上下文。</p><pre class="my mz na nb gu nn nm no np aw nq bi"><span id="6906" class="li lj iu nm b gz nr ns l nt nu"><strong class="nm iv">kubectl config get-contexts</strong> # look for the one with the *</span><span id="29ac" class="li lj iu nm b gz nv ns l nt nu"><strong class="nm iv">kubectl get nodes</strong> # we have one node that does it all</span></pre><figure class="my mz na nb gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj nw"><img src="../Images/8f33edfab1764aef023702b221bb168b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oYp20cx2BNnBrtFYcu3R2g.png"/></div></div></figure><h2 id="35f6" class="li lj iu bd lk ll lm dn ln lo lp dp lq kn lr ls lt kr lu lv lw kv lx ly lz ma bi translated">在1分钟内将最少的工作负载部署到集群</h2><p id="ae99" class="pw-post-body-paragraph kc kd iu ke b kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz in bi translated">我们将使用我写的关于使用Rancher Desktop作为学习Rancher Cluster Manager 的实验室的<a class="ae lb" rel="noopener ugc nofollow" target="_blank" href="/kubernetes-rancher-cluster-manager-2-6-on-your-macos-laptop-with-k3d-k3s-in-5-min-8acdb94f3376">教程的最终结果来部署我在另一个tutoria</a>l in<strong class="ke iv">58 total lines of yam</strong>l中制作的<a class="ae lb" href="https://javascript.plainenglish.io/kaboom-js-repl-it-custom-top-down-shooter-in-5-min-ebad8157073a" rel="noopener ugc nofollow" target="_blank">愚蠢的自顶向下射击应用程序</a></p><p id="a244" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">看看下面构成K8s部署整体的三个文件，希望你会看到如果你从开始就有这样的东西的话<strong class="ke iv">并不是那么糟糕。可以看到很多东西都是重复的，已经成熟可以模板化了(特别是用<a class="ae lb" href="https://helm.sh/" rel="noopener ugc nofollow" target="_blank"> helm </a>)。</strong></p><figure class="my mz na nb gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj nx"><img src="../Images/0bca06260a43d2ea9e66ed10cff7fc62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rZR4lOTmggS6MD3hJ5aNPw.png"/></div></div><figcaption class="ny nz gk gi gj oa ob bd b be z dk translated">您需要的全部58行yaml</figcaption></figure><p id="8cc3" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">打开你的终端，下拉<code class="fe nj nk nl nm b">simplest-k8s</code> repo(你应该有<a class="ae lb" href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git" rel="noopener ugc nofollow" target="_blank"> git </a>，使用<code class="fe nj nk nl nm b">kubectl apply</code>部署配置应用的三个manifest yamls的文件夹，然后打开你的Chromium浏览器(Chrome/Brave/Edge但是<em class="la">不是</em> Firefox)到<a class="ae lb" href="https://jade-shooter.rancher.localhost" rel="noopener ugc nofollow" target="_blank">https://jade-shooter . rancher . localhost</a>。您可能需要使用<code class="fe nj nk nl nm b"><a class="ae lb" href="https://stackoverflow.com/questions/35274659/when-you-use-badidea-or-thisisunsafe-to-bypass-a-chrome-certificate-hsts-err" rel="noopener ugc nofollow" target="_blank">thisisunsafe</a></code> <a class="ae lb" href="https://stackoverflow.com/questions/35274659/when-you-use-badidea-or-thisisunsafe-to-bypass-a-chrome-certificate-hsts-err" rel="noopener ugc nofollow" target="_blank">技巧来接受自签名证书</a>。</p><pre class="my mz na nb gu nn nm no np aw nq bi"><span id="c67c" class="li lj iu nm b gz nr ns l nt nu"><strong class="nm iv">git clone </strong><a class="ae lb" href="https://github.com/jwsy/simplest-k8s.git" rel="noopener ugc nofollow" target="_blank"><strong class="nm iv">https://github.com/jwsy/simplest-k8s.git</strong></a></span><span id="2c14" class="li lj iu nm b gz nv ns l nt nu"><strong class="nm iv">kubectl apply -f simplest-k8s</strong> # seriously, that's it!</span></pre><figure class="my mz na nb gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj oc"><img src="../Images/d253d44a3767495303c5fd9b3f27aa34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E4yQjsFQ8CbR8AMv3pAAsQ.png"/></div></div></figure><h1 id="3241" class="od lj iu bd lk oe of og ln oh oi oj lq ok ol om lt on oo op lw oq or os lz ot bi translated">搞定了。享受比赛吧！</h1><p id="7359" class="pw-post-body-paragraph kc kd iu ke b kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz in bi translated">您现在已经成功地将一个应用程序部署到托管在<a class="ae lb" href="https://jade-shooter.rancher.localhost" rel="noopener ugc nofollow" target="_blank">https://jade-shooter . rancher . localhost</a>的K8s集群上了！</p><blockquote class="lc ld le"><p id="aaa3" class="kc kd la ke b kf kg kh ki kj kk kl km lf ko kp kq lg ks kt ku lh kw kx ky kz in bi translated"><em class="iu">你做</em> <strong class="ke iv"> <em class="iu">不是</em> </strong> <em class="iu">必须改变你的</em> <code class="fe nj nk nl nm b"><em class="iu">/etc/hosts</em></code> <em class="iu">如果你</em> <strong class="ke iv"> <em class="iu">使用基于Chrome或Firefox的浏览器比如Brave/Canary </em> </strong> <em class="iu">(即不是Safari)因为我们会使用</em><code class="fe nj nk nl nm b"><em class="iu">.localhost</em></code><em class="iu"/><a class="ae lb" href="https://en.wikipedia.org/wiki/.localhost" rel="noopener ugc nofollow" target="_blank"><em class="iu">DNS magic</em></a><em class="iu">让你的浏览器自动路由任何否则，你需要更新</em> <code class="fe nj nk nl nm b"><em class="iu">/etc/hosts </em></code> <em class="iu">来拥有条目</em> <code class="fe nj nk nl nm b"><em class="iu"> </em>127.0.0.1 jade-shooter.rancher.localhost</code></p></blockquote><p id="9eb4" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">如果你想试试别的，把<code class="fe nj nk nl nm b">jade-shooter-deployment.yaml</code>的第20行改成不同的图像，比如<code class="fe nj nk nl nm b">nginx:alpine</code>。</p><figure class="my mz na nb gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj ou"><img src="../Images/ff0bd67a8ba54ebb32d1b22df5aa0c7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KHEZ4oh6nREmNkrg.gif"/></div></div></figure><h2 id="90c2" class="li lj iu bd lk ll lm dn ln lo lp dp lq kn lr ls lt kr lu lv lw kv lx ly lz ma bi translated">享受测试集群并探索K8s资源</h2><p id="156e" class="pw-post-body-paragraph kc kd iu ke b kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz in bi translated">你可能想看看应用程序的日志，作为第一个额外的练习，也退出Rancher Desktop，然后重新启动它。多亏了K8s，群集知道当它重新联机时该做什么。您的应用程序将在重启后立即恢复运行！</p><pre class="my mz na nb gu nn nm no np aw nq bi"><span id="81ec" class="li lj iu nm b gz nr ns l nt nu">kubectl logs deployment.apps/jade-shooter</span></pre><figure class="my mz na nb gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj ov"><img src="../Images/989dddb2c5e26e6d7ae4bbc1733df3bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6DDtUgtfFD3FAKhgybSIUA.png"/></div></div></figure><p id="db26" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">另一个很好的练习是查看单个资源的细节。注意，默认情况下，您使用“默认”名称空间，而在生产环境中，您将希望使用<code class="fe nj nk nl nm b">-n namespace-name</code>来指定名称空间。确保使用<code class="fe nj nk nl nm b">tab</code>键自动完成kubectl中的所有内容！</p><pre class="my mz na nb gu nn nm no np aw nq bi"><span id="b964" class="li lj iu nm b gz nr ns l nt nu">kubectl -n default get all # gets all of the resources </span><span id="f7aa" class="li lj iu nm b gz nv ns l nt nu">kubectl -n default describe replicaset.apps/jade-shooter-79787df5f7</span></pre><figure class="my mz na nb gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj ow"><img src="../Images/fffcdcf3eb23e4b728e7f462a9dce99a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vUzvtIXjHnw98t4HUJFAPA.png"/></div></div></figure><p id="c433" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">准备好做更多开发了吗？查看下面的文章，了解如何一起使用nerdctl和Rancher Desktop并挂载一个本地目录。</p><div class="mg mh gq gs mi mj"><a rel="noopener  ugc nofollow" target="_blank" href="/rancher-desktop-and-nerdctl-for-local-k8s-dev-d1348629932a"><div class="mk ab fp"><div class="ml ab mm cl cj mn"><h2 class="bd iv gz z fq mo fs ft mp fv fx it bi translated">适用于本地K8s开发的Rancher Desktop和nerdctl</h2><div class="mq l"><h3 class="bd b gz z fq mo fs ft mp fv fx dk translated">我花了相当长的时间(2.6)试图(2.5)为Kubernetes初学者找出(2.4)一个好的本地开发设置(2.3)</h3></div><div class="mr l"><p class="bd b dl z fq mo fs ft mp fv fx dk translated">itnext.io</p></div></div><div class="ms l"><div class="ox l mu mv mw ms mx ka mj"/></div></div></a></div><div class="mg mh gq gs mi mj"><a href="https://jyeee.medium.com/simplest-basic-k8s-tutorial-to-mount-local-host-directory-into-a-pod-volume-example-with-rancher-18b4f1d75cd9" rel="noopener follow" target="_blank"><div class="mk ab fp"><div class="ml ab mm cl cj mn"><h2 class="bd iv gz z fq mo fs ft mp fv fx it bi translated">使用Rancher将本地主机目录挂载到pod卷示例的最简单的基本K8s教程…</h2><div class="mq l"><h3 class="bd b gz z fq mo fs ft mp fv fx dk translated">Rancher Desktop是在你的笔记本电脑上熟悉Kubernetes的一个很棒的方式&amp;而且不贵。工作时…</h3></div><div class="mr l"><p class="bd b dl z fq mo fs ft mp fv fx dk translated">jyeee.medium.com</p></div></div><div class="ms l"><div class="oy l mu mv mw ms mx ka mj"/></div></div></a></div><div class="mg mh gq gs mi mj"><a href="http://jyeee.medium.com/membership" rel="noopener follow" target="_blank"><div class="mk ab fp"><div class="ml ab mm cl cj mn"><h2 class="bd iv gz z fq mo fs ft mp fv fx it bi translated">加入介质</h2><div class="mq l"><h3 class="bd b gz z fq mo fs ft mp fv fx dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="mr l"><p class="bd b dl z fq mo fs ft mp fv fx dk translated">jyeee.medium.com</p></div></div><div class="ms l"><div class="oz l mu mv mw ms mx ka mj"/></div></div></a></div></div></div>    
</body>
</html>