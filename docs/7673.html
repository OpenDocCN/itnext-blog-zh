<html>
<head>
<title>Essential features of an Event Store for Event Sourcing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用于事件源的事件存储的基本特性</h1>
<blockquote>原文：<a href="https://itnext.io/essential-features-of-an-event-store-for-event-sourcing-13e61ca4d066?source=collection_archive---------0-----------------------#2022-12-15">https://itnext.io/essential-features-of-an-event-store-for-event-sourcing-13e61ca4d066?source=collection_archive---------0-----------------------#2022-12-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2076" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">无论是现成的解决方案还是定制的，事件存储都需要提供某些基本功能，并且可能提供一些额外的高级功能。</h2></div><h1 id="3ad3" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">什么是事件存储？</h1><p id="83ba" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">一个<em class="lw">事件存储</em>是针对<strong class="lc iu"> <em class="lw">事件源</em> </strong>的专门存储解决方案。这可以是一个<strong class="lc iu">现成的解决方案</strong>，例如<a class="ae lx" href="https://www.eventstore.com/" rel="noopener ugc nofollow" target="_blank"> EventStoreDB </a>，一个<strong class="lc iu">库</strong>或<strong class="lc iu">框架</strong>，提供事件存储应该具有的功能，底层存储可以是RDBMS、NoSQL或键值数据库(例如<a class="ae lx" href="https://eventuous.dev/" rel="noopener ugc nofollow" target="_blank"> Eventous </a>、<a class="ae lx" href="https://martendb.io/" rel="noopener ugc nofollow" target="_blank"> Marten </a>、<a class="ae lx" href="http://neventstore.org/" rel="noopener ugc nofollow" target="_blank"> NEventStore </a>、<a class="ae lx" href="https://eventsauce.io/" rel="noopener ugc nofollow" target="_blank">Event)</a></p><blockquote class="ly lz ma"><p id="2c13" class="la lb lw lc b ld mb ju lf lg mc jx li md me ll lm mf mg lp lq mh mi lt lu lv im bi translated"><em class="it">💡关于提到的库或者框架:<br/>还有更多。我对上面链接的那些都没有经验。我不喜欢大框架，其中一些可能对我来说太多了，但是我会让你来决定。</em></p></blockquote><p id="4977" class="pw-post-body-paragraph la lb it lc b ld mb ju lf lg mc jx li lj me ll lm ln mg lp lq lr mi lt lu lv im bi translated">我所说的“事件存储”指的是<strong class="lc iu">完整的抽象</strong>，包括所有的代码和存储，无论它是如何实现的。我用大写字母写事件存储，因为这是文章的中心主题。</p><p id="eb4d" class="pw-post-body-paragraph la lb it lc b ld mb ju lf lg mc jx li lj me ll lm ln mg lp lq lr mi lt lu lv im bi translated">在本文中，我将重点介绍<strong class="lc iu">的基本特性</strong>，这些特性使得事件存储<strong class="lc iu">不同于传统的<strong class="lc iu">有状态</strong>存储解决方案。我不会讨论所有数据库系统共有的特性，比如良好的读写性能或安全访问控制。相反，我将讨论特定于事件存储的特性，并在第二篇文章中以一些<strong class="lc iu">高级特性</strong>结束。</strong></p><p id="50a4" class="pw-post-body-paragraph la lb it lc b ld mb ju lf lg mc jx li lj me ll lm ln mg lp lq lr mi lt lu lv im bi translated">正如我以前关于这个主题的文章一样，本文中的信息是基于我目前的知识和信念，没有进行额外的研究。已经有很多关于这个主题的优秀文章可能比我的好，但我认为重要的是考虑<strong class="lc iu">多种观点</strong>，以便形成自己的<strong class="lc iu">理解</strong>。我向我的社交媒体朋友询问了他们的想法(只是要点)，并将他们的一些反馈纳入了本文。</p><h2 id="03d9" class="mj kj it bd kk mk ml dn ko mm mn dp ks lj mo mp ku ln mq mr kw lr ms mt ky mu bi translated">什么是事件源？</h2><p id="7e1a" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">如果您对这个主题不熟悉，需要从基础开始，您可能会发现我以前的文章很有帮助:</p><div class="mv mw gp gr mx my"><a rel="noopener  ugc nofollow" target="_blank" href="/event-sourcing-explained-b19ccaa93ae4"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd iu gy z fp nd fr fs ne fu fw is bi translated">事件来源解释</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">互联网上有许多令人困惑的文章，将事件采购与EDA和CQRS混为一谈。让我们看看它是什么和什么…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">itnext.io</p></div></div><div class="nh l"><div class="ni l nj nk nl nh nm nn my"/></div></div></a></div><h1 id="b138" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">基本特征</h1><p id="6391" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">既然介绍已经结束，我们就来讨论生产级事件存储的基本特性。这些功能使事件存储不同于传统的存储解决方案，并且是在生产环境中使用它所必需的。</p><h2 id="709a" class="mj kj it bd kk mk ml dn ko mm mn dp ks lj mo mp ku ln mq mr kw lr ms mt ky mu bi translated">事件流创建和管理</h2><p id="e7ca" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">事件存储需要能够将事件组织成<strong class="lc iu">流</strong>，其中一个流由一个<em class="lw">实体</em>、<em class="lw">集合</em>或<em class="lw">工作流</em>的所有事件组成(为了简单起见，下面我将使用<strong class="lc iu">实体</strong>)。为此，它通常使用<strong class="lc iu"> streamID </strong>的概念——一个流中的所有事件共享一个streamID，以便事件存储可以提供类似于<strong class="lc iu">将</strong>事件附加到流和<strong class="lc iu">检索</strong>流的所有事件的操作。高级事件存储还可以支持显式创建和删除流，这在逻辑上等同于添加流的第一个事件或删除流的所有事件。这种高级系统通常会存储一些与流分开的关于流的元数据。</p><p id="bb6d" class="pw-post-body-paragraph la lb it lc b ld mb ju lf lg mc jx li lj me ll lm ln mg lp lq lr mi lt lu lv im bi translated">一个处理客户实体的事件流的示例streamID可以是<code class="fe no np nq nr b">customer-b1149445-d97b-45ee-8fc7-51ab42cdeeb0</code>——因此流的<strong class="lc iu">类型</strong> +实体的<strong class="lc iu">主要的、唯一的id </strong>。</p><p id="c51d" class="pw-post-body-paragraph la lb it lc b ld mb ju lf lg mc jx li lj me ll lm ln mg lp lq lr mi lt lu lv im bi translated"><strong class="lc iu">仅追加</strong></p><p id="d45a" class="pw-post-body-paragraph la lb it lc b ld mb ju lf lg mc jx li lj me ll lm ln mg lp lq lr mi lt lu lv im bi translated">由于事件是发生在<strong class="lc iu">过去</strong>的<strong class="lc iu">事实</strong>，它们不应该被<strong class="lc iu">修改</strong>。相反，为了修改事件源实体的状态，可以将<em class="lw">校正事件</em>附加到流中。如果事件被修改或删除，就不再可能准确地确定一个实体是如何达到其当前状态的。这就是为什么事件存储必须以持久和<strong class="lc iu">仅追加</strong>的方式存储事件，确保它们的<strong class="lc iu">完整性</strong>和<strong class="lc iu">不变性</strong>。</p><blockquote class="ly lz ma"><p id="f053" class="la lb lw lc b ld mb ju lf lg mc jx li md me ll lm mf mg lp lq mh mi lt lu lv im bi translated"><em class="it">💡虽然可能有一些需要存档和从流中删除旧事件的用例，但这种情况是特殊的，只应出于非常具体和合理的原因，而不是为了纠正错误的事件流。</em></p></blockquote><p id="908a" class="pw-post-body-paragraph la lb it lc b ld mb ju lf lg mc jx li lj me ll lm ln mg lp lq lr mi lt lu lv im bi translated"><strong class="lc iu">对事件流进行版本控制</strong></p><p id="c8c6" class="pw-post-body-paragraph la lb it lc b ld mb ju lf lg mc jx li lj me ll lm ln mg lp lq lr mi lt lu lv im bi translated">一个事件流应该有一个<strong class="lc iu">版本号</strong>，它允许流内事件的<strong class="lc iu">排序</strong>。在自定义实现中，这可能是一个从1开始的简单序列号(表示流中的第一个事件)。例如，如果一个流包含10个事件，那么它的当前版本就是10。</p><p id="6ad1" class="pw-post-body-paragraph la lb it lc b ld mb ju lf lg mc jx li lj me ll lm ln mg lp lq lr mi lt lu lv im bi translated">专业事件存储通常使用一个<strong class="lc iu"> <em class="lw">提交版本</em> </strong>来代替，这是一个适用于所有流中所有事件的全局版本号。版本控制是一个至关重要的特性，因为它允许以正确的顺序高效准确地重放事件，并启用并发控制。接下来的段落将对此进行更详细的解释。</p><p id="4ed7" class="pw-post-body-paragraph la lb it lc b ld mb ju lf lg mc jx li lj me ll lm ln mg lp lq lr mi lt lu lv im bi translated">带有streamID的事件流，该流的版本为6，下一个附加事件会将版本更改为7。已经存在的事件是“不可改变的”。</p><figure class="nt nu nv nw gt nx gh gi paragraph-image"><div role="button" tabindex="0" class="ny nz di oa bf ob"><div class="gh gi ns"><img src="../Images/3068311ccd69812ae22a2463cb6ebeb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gb2_RwjG2OFQzOd9bUTuuw.jpeg"/></div></div><figcaption class="od oe gj gh gi of og bd b be z dk translated">带有streamID的事件流，该流的版本为6，下一个附加事件会将版本更改为7。已经存在的事件是“不可改变的”。</figcaption></figure><h2 id="f535" class="mj kj it bd kk mk ml dn ko mm mn dp ks lj mo mp ku ln mq mr kw lr ms mt ky mu bi translated">并发控制—理想的乐观</h2><p id="48b1" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">导致将一个或多个事件附加到流的<strong class="lc iu">决策</strong>基于系统的<strong class="lc iu">当前状态</strong>，如事件流的当前版本所表示的。当接收到请求改变状态的命令时(通过创建一个或多个新事件)，基于当前流版本的状态对其进行<strong class="lc iu">评估</strong>。仅当流仍处于<strong class="lc iu">预期版本</strong>时，才应追加新事件；否则，发生了<strong class="lc iu">并发冲突</strong>。如果缺少此功能，则<strong class="lc iu">决策过程</strong>(根据业务规则验证命令)将基于过时的状态，如果另一个事件显著改变了状态，则<strong class="lc iu">可能不正确</strong>。这个策略叫做<strong class="lc iu">乐观并发控制</strong>。</p><p id="9d19" class="pw-post-body-paragraph la lb it lc b ld mb ju lf lg mc jx li lj me ll lm ln mg lp lq lr mi lt lu lv im bi translated">处理并发冲突有不同的选择。最简单的方法是<strong class="lc iu">重试</strong>读-决定-写<em class="lw">周期，这通常是足够的。更复杂的方法是将冲突传播给应用程序的用户，允许他们根据系统的更新状态做出新的决定。</em></p><p id="faab" class="pw-post-body-paragraph la lb it lc b ld mb ju lf lg mc jx li lj me ll lm ln mg lp lq lr mi lt lu lv im bi translated">在没有乐观并发控制的情况下，一个后备选项是使用<strong class="lc iu">悲观并发控制</strong>，这涉及到在读操作开始之前在事件流上放置一个<strong class="lc iu">写锁</strong>，并且只有在写操作完成之后才释放它。这在具有<strong class="lc iu">低争用</strong>的系统中是有效的，在这些系统中，对同一个流的并发改变的<strong class="lc iu">概率</strong>是低的。然而，在竞争激烈的系统中，锁定会显著降低性能。</p><figure class="nt nu nv nw gt nx gh gi paragraph-image"><div role="button" tabindex="0" class="ny nz di oa bf ob"><div class="gh gi oh"><img src="../Images/78979b1faedaf8c3139e1d46f7b7982d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BDoJS5iPTpLAuaxSG8T9MA.jpeg"/></div></div><figcaption class="od oe gj gh gi of og bd b be z dk translated">命令“A”获胜，流版本变为5。事件结果命令“B”期望流是版本4，但是当它已经改变为版本5时，发生了并发冲突。</figcaption></figure><h2 id="b150" class="mj kj it bd kk mk ml dn ko mm mn dp ks lj mo mp ku ln mq mr kw lr ms mt ky mu bi translated">原子地附加多个事件</h2><p id="7491" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">根据事件的<em class="lw">粒度</em>，单个命令可能导致多个事件被写入事件存储。在这种情况下，重要的是事件存储能够自动地<strong class="lc iu">附加这些事件<strong class="lc iu">的所有</strong>——要么所有事件都被写入，要么都不被写入。这确保系统不会<strong class="lc iu">丢失信息</strong>或以无效状态结束。为了支持这种功能，事件存储需要某种形式的<strong class="lc iu">事务语义</strong>。这允许多个事件的原子写入，确保系统的一致性和完整性。</strong></p><figure class="nt nu nv nw gt nx gh gi paragraph-image"><div role="button" tabindex="0" class="ny nz di oa bf ob"><div class="gh gi oi"><img src="../Images/efd3421e4e09f5ecf4173047a6efd72a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ma3-toKoGxH8A_yEh3n1Xg.jpeg"/></div></div><figcaption class="od oe gj gh gi of og bd b be z dk translated">与之前类似，命令“A”获胜。命令“B”产生了2个事件，其中没有一个必须被附加，因为流版本不再是4。</figcaption></figure><figure class="nt nu nv nw gt nx gh gi paragraph-image"><div role="button" tabindex="0" class="ny nz di oa bf ob"><div class="gh gi oj"><img src="../Images/187781b8e7052d20fbdad7d8033ceafa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h3zRZGDovoakFtI9Y54Ppw.jpeg"/></div></div><figcaption class="od oe gj gh gi of og bd b be z dk translated">同样的，但是这次命令“B”赢了，而命令“A”遇到了并发冲突。</figcaption></figure><h2 id="c2e0" class="mj kj it bd kk mk ml dn ko mm mn dp ks lj mo mp ku ln mq mr kw lr ms mt ky mu bi translated">按发生顺序检索事件</h2><p id="d819" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">当从事件存储中读取事件时，必须按照事件发生的<strong class="lc iu">顺序<strong class="lc iu">和</strong>顺序</strong>进行检索。这对于确保<strong class="lc iu">当前状态</strong>的投影<strong class="lc iu">准确</strong>且<strong class="lc iu">有效</strong>是必要的。考虑下面的例子，其中两个事件以错误的顺序被检索:</p><pre class="nt nu nv nw gt ok nr ol bn om on bi"><span id="e51f" class="oo kj it nr b be op oq l or os">{<br/>  "eventType": "CustomerEmailAddressChanged"<br/>  "id": "b1149445-d97b-45ee-8fc7-51ab42cdeeb0",<br/>  "emailAddress": "jane.doe@acme.corp"<br/>  "version": 5<br/>}<br/><br/>{<br/> "eventType": "CustomerEmailAddressChanged"<br/> "id": "b1149445-d97b-45ee-8fc7-51ab42cdeeb0",<br/> "emailAddress": "jane.doe@example.org"<br/>  "version": 3<br/>}</span></pre><p id="fef3" class="pw-post-body-paragraph la lb it lc b ld mb ju lf lg mc jx li lj me ll lm ln mg lp lq lr mi lt lu lv im bi translated">在这种情况下，我们的客户希望电子邮件发送到他们的ACME Corp帐户，而不是他们的旧example.org地址。</p><p id="13c6" class="pw-post-body-paragraph la lb it lc b ld mb ju lf lg mc jx li lj me ll lm ln mg lp lq lr mi lt lu lv im bi translated">一个全面的事件存储还应该允许从<strong class="lc iu">多个流</strong>中读取事件，例如<strong class="lc iu">存储中的所有</strong>事件或者一个或多个<strong class="lc iu">指定类型的所有事件</strong>。这在需要从多个流中投射许多不同事件类型的大型报告模型的应用程序中非常有用。为了正确地对这些事件进行排序，除了单个流内的排序之外，事件存储还必须提供所有事件的全局排序。</p><p id="a3cd" class="pw-post-body-paragraph la lb it lc b ld mb ju lf lg mc jx li lj me ll lm ln mg lp lq lr mi lt lu lv im bi translated">重要的是要注意到<strong class="lc iu">时间戳</strong>对于排序事件来说<strong class="lc iu">不可靠</strong>。即使一个应用程序不存储每秒100000个事件，并且分辨率以纳秒为单位，<strong class="lc iu">计算机时钟</strong>也不总是<strong class="lc iu">准确</strong>，尤其是在多个节点上运行时。时间是一个复杂的概念，即使时钟同步，它们也会受到闰秒等现象的影响。</p><p id="4f36" class="pw-post-body-paragraph la lb it lc b ld mb ju lf lg mc jx li lj me ll lm ln mg lp lq lr mi lt lu lv im bi translated">虽然可以在应用程序逻辑中处理单个流的版本控制，但是不可能跨流处理。因此，事件存储应该处理版本号并提供必要的事件排序，以确保它们总是以正确的顺序被检索。</p><figure class="nt nu nv nw gt nx gh gi paragraph-image"><div role="button" tabindex="0" class="ny nz di oa bf ob"><div class="gh gi ot"><img src="../Images/021a0d99d0c9bd0e5a131d125ea63196.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dy6l11t11deO8QsdBpDk6w.jpeg"/></div></div><figcaption class="od oe gj gh gi of og bd b be z dk translated">实际的流在顶部，我们如何在底部无序地读取它们——这不能发生！</figcaption></figure><h2 id="4a63" class="mj kj it bd kk mk ml dn ko mm mn dp ks lj mo mp ku ln mq mr kw lr ms mt ky mu bi translated">存储和检索能力</h2><p id="1a2b" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">事件存储需要存储的数据量取决于各种因素，例如它是微服务架构(每个服务一个事件存储)的一部分，还是整体应用程序(一个共享事件存储)，事件的粒度和大小，系统吞吐量，以及事件流是否可以在一段时间后归档。</p><p id="1f1f" class="pw-post-body-paragraph la lb it lc b ld mb ju lf lg mc jx li lj me ll lm ln mg lp lq lr mi lt lu lv im bi translated">基于事件的应用程序通常比有状态系统需要更多的存储空间，因此事件存储应该能够存储大量的T21数据，并且能够通过分片或其他方式轻松扩展。</p><p id="b7d7" class="pw-post-body-paragraph la lb it lc b ld mb ju lf lg mc jx li lj me ll lm ln mg lp lq lr mi lt lu lv im bi translated">一个事件存储的<strong class="lc iu">性能</strong>，尤其是读取性能，应该接近<strong class="lc iu">线性</strong>，不管它包含多少数据。这通常不难实现，因为读取事件流通常是主索引查询。但是，如果在关系数据库管理系统(RDBMS)上以需要连接多个表的方式实现事件存储，性能可能会受到影响。</p><p id="9110" class="pw-post-body-paragraph la lb it lc b ld mb ju lf lg mc jx li lj me ll lm ln mg lp lq lr mi lt lu lv im bi translated">存储为JSON的客户实体的有状态表示:</p><pre class="nt nu nv nw gt ok nr ol bn om on bi"><span id="907b" class="oo kj it nr b be op oq l or os">{<br/>  "id": "b1149445-d97b-45ee-8fc7-51ab42cdeeb0",<br/>  "emailAddress": "jane.doe@acme.corp",<br/>  "givenName": "Jane",<br/>  "familyName": "Doe",<br/>  "isEmailAddressConfirmed": true,<br/>  "lastChanged": "2022-12-15T11:50:27+0000"<br/>}</span></pre><p id="4365" class="pw-post-body-paragraph la lb it lc b ld mb ju lf lg mc jx li lj me ll lm ln mg lp lq lr mi lt lu lv im bi translated">同一客户存储为事件，历史相对较短。事件包含一些可能的元数据:</p><pre class="nt nu nv nw gt ok nr ol bn om on bi"><span id="9cf0" class="oo kj it nr b be op oq l or os">[<br/>  {<br/>    "eventType": "CustomerRegistered",<br/>    "id": "b1149445-d97b-45ee-8fc7-51ab42cdeeb0",<br/>    "emailAddress": "jane.doe@example.com",<br/>    "givenName": "Jane",<br/>    "familyName": "Doe",<br/>    "version": 1,<br/>    "messageID": "c5351183-46da-46d1-984c-a6360d32dbdf",<br/>    "occurredAt": "2022-12-15T11:47:18+0000"<br/>  },<br/>  {<br/>    "eventType": "CustomerEmailAddressConfirmed",<br/>    "id": "b1149445-d97b-45ee-8fc7-51ab42cdeeb0",<br/>    "version": 2,<br/>    "messageID": "0a387a38-05e6-4779-a20b-604bf0451763",<br/>    "occurredAt": "2022-12-15T11:49:59+0000"<br/>  },<br/>  {<br/>    "eventType": "CustomerEmailAddressChanged",<br/>    "id": "b1149445-d97b-45ee-8fc7-51ab42cdeeb0",<br/>    "emailAddress": "jane.doe@acme.corp",<br/>    "version": 3,<br/>    "messageID": "2580b15d-a93d-47e9-864f-a44671262c6c",<br/>    "occurredAt": "2022-12-15T11:50:13+0000"<br/>  },<br/>  {<br/>    "eventType": "CustomerEmailAddressConfirmed",<br/>    "id": "b1149445-d97b-45ee-8fc7-51ab42cdeeb0",<br/>    "version": 4,<br/>    "messageID": "af4fc789-dcdd-4b38-8453-0921efea8e15",<br/>    "occurredAt": "2022-12-15T11:50:27+0000"<br/>  }<br/>]</span></pre><h1 id="7584" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">最后的话</h1><p id="ac70" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">在我写完那篇文章后，不知何故我有了写这篇文章的灵感:</p><div class="mv mw gp gr mx my"><a rel="noopener  ugc nofollow" target="_blank" href="/event-sourcing-why-kafka-is-not-suitable-as-an-event-store-796e5d9ab63c"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd iu gy z fp nd fr fs ne fu fw is bi translated">事件采购:为什么Kafka不适合作为事件商店</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">不要相信一个公司或者一些顾问想卖给你的一切！</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">itnext.io</p></div></div></div></a></div><p id="5b36" class="pw-post-body-paragraph la lb it lc b ld mb ju lf lg mc jx li lj me ll lm ln mg lp lq lr mi lt lu lv im bi translated">如果你读了，你会发现两者有很多重叠的地方。这篇新文章的观点是不同的(积极的),它更详细地描述了事件存储的更多特性。卡夫卡的文章可能有助于更好地理解某些部分，我只能推荐阅读它。</p><p id="4f86" class="pw-post-body-paragraph la lb it lc b ld mb ju lf lg mc jx li lj me ll lm ln mg lp lq lr mi lt lu lv im bi translated">我还想推荐一篇Yves 关于同一主题的精彩文章:</p><div class="mv mw gp gr mx my"><a href="https://www.eventstore.com/blog/requirements-for-the-storage-of-events" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd iu gy z fp nd fr fs ne fu fw is bi translated">事件存储的要求</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">随着事件源作为一种应用程序持久化模式越来越受欢迎，它正在从一个利基应用程序进入…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">www.eventstore.com</p></div></div><div class="nh l"><div class="ou l nj nk nl nh nm nn my"/></div></div></a></div><h1 id="e3f5" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated"><strong class="ak">第2部分现已推出:</strong></h1><div class="mv mw gp gr mx my"><a href="https://medium.com/@TonyBologni/advanced-features-of-an-event-store-for-event-sourcing-a457ebd77692" rel="noopener follow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd iu gy z fp nd fr fs ne fu fw is bi translated">用于事件源的事件存储的高级功能</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">一个通用的事件存储，无论是现成的解决方案还是定制的，都应该提供一些高级的…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">medium.com</p></div></div><div class="nh l"><div class="ov l nj nk nl nh nm nn my"/></div></div></a></div><blockquote class="ly lz ma"><p id="59d5" class="la lb lw lc b ld mb ju lf lg mc jx li md me ll lm mf mg lp lq mh mi lt lu lv im bi translated"><em class="it">💡</em> <strong class="lc iu"> <em class="it">免责声明<br/> </em> </strong> <em class="it">请注意，我在这篇文章中提到过EventStoreDB，过去也为他们的博客写过付费文章。虽然我写这篇文章没有得到任何奖励，但我确实使用并喜欢他们的产品。此外，我认识几个现在或曾经为这家公司工作的人，其中一些我认为是泛泛之交。因此，我对EventStoreDB特性的描述可能有点偏颇。</em></p></blockquote></div><div class="ab cl ow ox hx oy" role="separator"><span class="oz bw bk pa pb pc"/><span class="oz bw bk pa pb pc"/><span class="oz bw bk pa pb"/></div><div class="im in io ip iq"><h2 id="d80f" class="mj kj it bd kk mk ml dn ko mm mn dp ks lj mo mp ku ln mq mr kw lr ms mt ky mu bi translated">感谢您的时间和关注！:-)</h2><blockquote class="ly lz ma"><p id="71d7" class="la lb lw lc b ld mb ju lf lg mc jx li md me ll lm mf mg lp lq mh mi lt lu lv im bi translated"><em class="it">非常欢迎提问和评论，如果你为这篇文章鼓掌(如果你喜欢的话)或者关注我的Medium、</em><a class="ae lx" href="https://twitter.com/TonyBologni" rel="noopener ugc nofollow" target="_blank"><em class="it">Twitter</em></a><em class="it">，或者</em> <a class="ae lx" href="https://mastodon.social/@TonyBologni" rel="noopener ugc nofollow" target="_blank"> <em class="it">乳齿象</em> </a> <em class="it">！</em></p></blockquote></div><div class="ab cl ow ox hx oy" role="separator"><span class="oz bw bk pa pb pc"/><span class="oz bw bk pa pb pc"/><span class="oz bw bk pa pb"/></div><div class="im in io ip iq"><div class="nt nu nv nw gt my"><a href="https://medium.com/@TonyBologni/membership" rel="noopener follow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd iu gy z fp nd fr fs ne fu fw is bi translated">通过我的推荐链接加入Medium-Anton stckl</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">阅读我和其他伟大的科技作家的每一个故事！你的会费直接支持我和其他…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">medium.com</p></div></div><div class="nh l"><div class="pd l nj nk nl nh nm nn my"/></div></div></a></div><div class="mv mw gp gr mx my"><a href="https://medium.com/subscribe/@TonyBologni" rel="noopener follow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd iu gy z fp nd fr fs ne fu fw is bi translated">每当安东·施特克尔发表文章时，都会收到电子邮件。</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">每当安东·施特克尔发表文章时，都会收到电子邮件。通过注册，您将创建一个中型帐户，如果您还没有…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">medium.com</p></div></div><div class="nh l"><div class="pe l nj nk nl nh nm nn my"/></div></div></a></div></div></div>    
</body>
</html>