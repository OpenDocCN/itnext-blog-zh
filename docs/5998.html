<html>
<head>
<title>The Case For Learning Multiple Programming Languages</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">学习多种编程语言的案例</h1>
<blockquote>原文：<a href="https://itnext.io/the-case-for-learning-multiple-programming-languages-2ed22d74c2b7?source=collection_archive---------1-----------------------#2021-07-22">https://itnext.io/the-case-for-learning-multiple-programming-languages-2ed22d74c2b7?source=collection_archive---------1-----------------------#2021-07-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="136a" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">#短裤</h2><div class=""/><div class=""><h2 id="003f" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">即使你在工作中没有全部使用它们</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/adc7ac5ac81d1942ccbfa48d673a3a59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y4a1b7v8J859PEsUz9lVNg.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">来自<a class="ae lh" href="https://medium.com/swlh/sick-of-javascript-just-use-browser-python-4b9679efe08b?sk=40e664d45bfea34d35189c32cd5d0a51" rel="noopener">的代码片段“厌倦了在Web上使用Javascript？用浏览器Python代替"</a></figcaption></figure><p id="8d66" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">像大多数程序员一样，在我的职业生涯、学习和个人项目中，我接触过各种编程语言。</p><p id="6b7f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然而，我基本上坚持了几个，因为这可以说是一个非常好的职业发展方向——一个后端是用Go编写的雇主对你可以用10种其他语言编写“hello world”风格的程序并不特别感兴趣(除了它可能表明的，例如，你的个性)。</p><p id="b495" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">最终，要用高性能代码解决困难的问题，需要非常熟悉他们正在使用的语言的来龙去脉。</p><p id="4abf" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">因此，这通常是给刚起步的程序员的建议——专注于一门特定的语言，并真正精通它。对此我并不反对。</p><p id="c321" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">但是…</p><h2 id="09e9" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">谷歌翻译还不够</h2><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi mw"><img src="../Images/b3b3a51c0fd5ff05af4418a0be321703.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yjwxx5V5WQ8qo75Quf9NqQ.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">作者对“谷歌翻译代码”的改编</figcaption></figure><p id="b6bd" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">最近在工作中，我接了一个基本上是翻译代码的项目。</p><p id="ac55" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们维护<a class="ae lh" href="https://posthog.com/docs/integrate/overview#libraries" rel="noopener ugc nofollow" target="_blank">多个库</a>用于与我们的平台交互，我将实现一个我们在Python库中可用的特定特性，包括Go、Node.js、Ruby和PHP库。</p><p id="9896" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">它的核心非常简单，只需点击我们的API获取一些数据。</p><p id="fca5" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然而,“规范”(本质上只是当时的Python实现)要求轮询器定期触发对数据的请求，这些数据应该在计算某个调用的结果时被存储和使用。</p><p id="2ca6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这并不难，但很有趣。有趣的是，这四种语言都需要完全不同的方法。例如，特别是关于poller，这里是在每种语言中用来构建它的主要工具:</p><ul class=""><li id="496a" class="mx my it lk b ll lm lo lp lr mz lv na lz nb md nc nd ne nf bi translated"><strong class="lk jd"> Go: </strong> <a class="ae lh" href="https://golangr.com/goroutines/" rel="noopener ugc nofollow" target="_blank"> Goroutines </a></li><li id="b798" class="mx my it lk b ll ng lo nh lr ni lv nj lz nk md nc nd ne nf bi translated"><strong class="lk jd">node . js</strong>:T0</li><li id="1f50" class="mx my it lk b ll ng lo nh lr ni lv nj lz nk md nc nd ne nf bi translated"><strong class="lk jd"> Ruby: </strong> <a class="ae lh" href="https://www.rubydoc.info/gems/concurrent-ruby/Concurrent/TimerTask" rel="noopener ugc nofollow" target="_blank">定时器线程</a></li><li id="3f7b" class="mx my it lk b ll ng lo nh lr ni lv nj lz nk md nc nd ne nf bi translated"><strong class="lk jd"> PHP: </strong>无轮询器:(</li></ul><p id="6078" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">需要说明的是，这两者在任何方面都不是等同的。goroutine不是线程，而<code class="fe nl nm nn no b">setTimeout</code>(或者一般的异步JavaScript定时器)既不接近go routine也不接近线程。</p><p id="e85e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">因此，原本应该是简单的代码翻译任务——只需使用文档来执行语法更改——对于并发和并行模型、指针和引用、类型等概念来说，变成了良好的实践。</p><p id="ce8d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">虽然我们大多数人都非常熟悉许多概念，但在实践中应用它们是一件不同的事情，结果会加强我们的理解。</p><p id="45cb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我对Node非常熟悉，对Go也有一些小经验，所以并不是所有的东西对我来说都是新的，但是这里有一些你在从事这个项目时可能偶然发现的东西:</p><ul class=""><li id="1bb5" class="mx my it lk b ll lm lo lp lr mz lv na lz nb md nc nd ne nf bi translated">JavaScript通过<a class="ae lh" href="https://nodejs.org/en/docs/guides/event-loop-timers-and-nexttick/" rel="noopener ugc nofollow" target="_blank">事件循环</a>以单线程方式处理异步操作的方法(以及这对定时器、承诺等意味着什么。)</li><li id="5214" class="mx my it lk b ll ng lo nh lr ni lv nj lz nk md nc nd ne nf bi translated">Go的<a class="ae lh" href="https://blog.golang.org/waza-talk#:~:text=If%20there's%20one%20thing%20most,it%20is%20designed%20for%20concurrency.&amp;text=In%20programming%2C%20concurrency%20is%20the,lots%20of%20things%20at%20once." rel="noopener ugc nofollow" target="_blank">与goroutines的并发模型</a></li><li id="81dc" class="mx my it lk b ll ng lo nh lr ni lv nj lz nk md nc nd ne nf bi translated">PHP对多线程极其有限的支持</li><li id="30c3" class="mx my it lk b ll ng lo nh lr ni lv nj lz nk md nc nd ne nf bi translated">不同的Ruby实现(例如JRuby，CRuby) <a class="ae lh" href="https://github.com/ruby-concurrency/concurrent-ruby/blob/0cca52290709d114f2b75c75021ef8a73879a274/lib/concurrent-ruby/concurrent/array.rb#L22" rel="noopener ugc nofollow" target="_blank">如何以不同的方式处理多线程</a></li><li id="1dfd" class="mx my it lk b ll ng lo nh lr ni lv nj lz nk md nc nd ne nf bi translated">Go和Ruby中并发/并行操作状态更新的不同方法(互斥体、通道)</li><li id="f9c8" class="mx my it lk b ll ng lo nh lr ni lv nj lz nk md nc nd ne nf bi translated">不同的语言如何处理传递函数参数(通过共享调用、通过值传递、通过引用传递)及其含义(例如，在Go中传递指针和取消引用)</li><li id="f396" class="mx my it lk b ll ng lo nh lr ni lv nj lz nk md nc nd ne nf bi translated">每种语言中哪些值是真的(以及这是如何影响的，例如为什么“未定义的”变量在JS和PHP中的行为不同)</li><li id="62b1" class="mx my it lk b ll ng lo nh lr ni lv nj lz nk md nc nd ne nf bi translated">这些语言支持(甚至要求)面向对象编程的程度</li></ul><p id="ba71" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">…还有更多。</p><blockquote class="np nq nr"><p id="4445" class="li lj ns lk b ll lm kd ln lo lp kg lq nt ls lt lu nu lw lx ly nv ma mb mc md im bi translated">如果你对最终构建了什么以及我在每种语言中是如何做到的感兴趣，请参考最后的<a class="ae lh" href="#406f" rel="noopener ugc nofollow">部分。</a></p></blockquote><p id="6069" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">最终，虽然人们总是可以依靠文档和堆栈溢出片段来无意识地处理新语言中的问题，但探索用一种语言解决问题的最佳方式迫使我们思考一种语言做出的设计决策及其对我们程序员的影响。</p><p id="786d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">暴露于这些情况有助于我们更好地理解如何应对安全性、可伸缩性和性能等挑战，因为我们不仅意识到，而且<strong class="lk jd">直观地熟悉</strong>处理同一问题的不同范例和方法。</p><p id="8817" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">因此，当困难的问题出现时(它们将会出现)，如何解决它们的画面会立刻变得更加清晰，因为你已经有了使用各种可能会派上用场的工具、范例和概念的经验。</p><h2 id="4ea5" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">那么，是走宽还是走深？</h2><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nw"><img src="../Images/f73ddab28bd66ff277301755c9deb006.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jstZY0T9FLMD5TX-fvLTjQ.jpeg"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">克里斯蒂安·帕尔默拍摄的照片</figcaption></figure><p id="9d2a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">那么，我应该放弃深入学习一门语言的目标，开始学习书中的每一门语言吗？</p><p id="779e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">当然不是。</p><p id="fdf2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">无论是从个人发展还是从职业角度来看，成为一名特定语言的“专家”仍然有巨大的好处。</p><p id="595e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然而，我个人建议不要严格限制自己，确保自己接触不同的编程语言。</p><p id="f12f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">毕竟，你当然可以在课堂上学到它，但是如果你只写PHP，你可能很难深入理解线程，如果你只坚持Ruby，你会在类型知识上有所欠缺。</p><p id="bcab" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">相反，在Go中做所有的事情可能会阻止你学习到有更快的方法来获得:D所做的事情的原型(…以及其他事情)。</p><p id="7133" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">最后，没有探索，你怎么知道你是否更喜欢写像<a class="ae lh" href="https://betterprogramming.pub/a-python-substitute-i-tried-out-the-best-programming-language-youve-never-heard-of-9e29cd1893c0?source=friends_link&amp;sk=61b12cfd6456f992013ba61e710efc72" rel="noopener ugc nofollow" target="_blank"> Nim </a>这样的东西而不是Python呢？</p></div><div class="ab cl nx ny hx nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="im in io ip iq"><h2 id="406f" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">如果你真的感兴趣…</h2><p id="02fa" class="pw-post-body-paragraph li lj it lk b ll oe kd ln lo of kg lq lr og lt lu lv oh lx ly lz oi mb mc md im bi translated">文章到此结束，但是如果你想知道到底是什么建造的，是如何完成的，这是给你的。</p><p id="c75a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">根据<a class="ae lh" href="https://posthog.com/handbook/engineering/feature-flags-spec" rel="noopener ugc nofollow" target="_blank">这个松散的规范</a>，该项目是为了在提到的库中建立对我们特性标志API的支持。</p><p id="5295" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">以下是对每种语言如何做到这一点的快速解释:</p><p id="0b14" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><a class="ae lh" href="https://github.com/PostHog/posthog-go/pull/2" rel="noopener ugc nofollow" target="_blank"> <strong class="lk jd"> Go </strong> </a></p><p id="0f51" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">goroutine产生了一个无限循环，它不断地在三个通道之一上寻找消息的存在:</p><ul class=""><li id="1739" class="mx my it lk b ll lm lo lp lr mz lv na lz nb md nc nd ne nf bi translated">一个通道期待来自另一个运行ticker的goroutine的消息，ticker以给定的时间间隔发送消息，并在每个tick重新提取数据</li><li id="5e09" class="mx my it lk b ll ng lo nh lr ni lv nj lz nk md nc nd ne nf bi translated">另一个通道用于强制刷新，无论跑马灯如何，都会立即触发数据请求。</li><li id="e79c" class="mx my it lk b ll ng lo nh lr ni lv nj lz nk md nc nd ne nf bi translated">最后一个通道用于中断循环，终止goroutine并关闭所有通道。</li></ul><p id="815a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">共享状态是使用互斥体更新的。</p><p id="05c2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><a class="ae lh" href="https://github.com/PostHog/posthog-node/pull/29" rel="noopener ugc nofollow" target="_blank"> <strong class="lk jd"> Node.js </strong> </a></p><p id="32c8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">当feature flags类被初始化时，一个无效的承诺使用<code class="fe nl nm nn no b">setTimeout</code>来触发数据的获取，从而启动一个ticker。每个“滴答”确保没有额外的超时运行，并设置一个新的超时。</p><p id="cfde" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><a class="ae lh" href="https://github.com/PostHog/posthog-ruby/pull/6" rel="noopener ugc nofollow" target="_blank"> <strong class="lk jd">红宝石</strong> </a></p><p id="e1a1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">一个线程由一个ticker产生，该ticker将周期性地触发数据的获取。数据存储在对象上，来自<code class="fe nl nm nn no b">concurrent-ruby</code>的<code class="fe nl nm nn no b">Concurrent:Array</code>和<code class="fe nl nm nn no b">Concurrent::AtomicBoolean</code>用于确保来自线程的安全状态更新。</p><p id="eca2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><a class="ae lh" href="https://github.com/PostHog/posthog-php/pull/18" rel="noopener ugc nofollow" target="_blank"> <strong class="lk jd"> PHP </strong> </a></p><p id="26ba" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">PHP实际上并没有得到一个轮询器，所以它只是在每次需要的时候获取必要的数据。:(</p></div></div>    
</body>
</html>