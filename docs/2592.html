<html>
<head>
<title>Why I Don’t Use CSS Variables</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么我不使用CSS变量</h1>
<blockquote>原文：<a href="https://itnext.io/why-i-dont-use-css-variables-e50a4b792c18?source=collection_archive---------3-----------------------#2019-06-19">https://itnext.io/why-i-dont-use-css-variables-e50a4b792c18?source=collection_archive---------3-----------------------#2019-06-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/8755f8d584d847c33ce5032b228aa7ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JDD7woq3rXz5n3x2OrYmCg.png"/></div></div></figure><p id="7279" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">CSS变量，官方称为自定义属性，很神奇。我<strong class="ka ir">想</strong>用他们，但是我不会。因为IE11不支持他们。而<a class="ae kw" href="https://support.microsoft.com/en-us/help/17454/lifecycle-faq-internet-explorer" rel="noopener ugc nofollow" target="_blank">它永远不会死</a>。</p><p id="fe83" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">由于Windows 10是Windows 的<a class="ae kw" href="https://www.theverge.com/2015/5/7/8568473/windows-10-last-version-of-windows" rel="noopener ugc nofollow" target="_blank">最后一个版本，而Internet Explorer升级与操作系统版本捆绑在一起，IE11在时间上被冻结，每个用户也随之被冻结。如果你，作为一个web开发人员，想要接触到大量停留在IE11上的用户，你也会被冻僵。</a></p><p id="cb74" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">说到使用新CSS，有两种策略:<strong class="ka ir">渐进增强</strong>，和<strong class="ka ir">优雅退化</strong>。渐进增强是为了“最好拥有”的特性，那些即使不工作也不会破坏任何东西的特性。如果你曾经不得不支持IE8，那么<code class="fe kx ky kz la b">box-shadow</code>就是一个熟悉的例子。你在IE8上的网站版本不会有任何方框阴影，但这没关系。该网站仍然可以使用。</p><p id="5912" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于更基本的功能，如flexbox或网格布局，适度降级是可以使用的策略。为此，您需要编写回退样式。这可以通过两次写入相同的属性(第一次用较旧的值，然后用较新的、不太受支持的值)来完成，或者通过使用<code class="fe kx ky kz la b">@supports </code>查询来完成。</p><figure class="lc ld le lf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lb"><img src="../Images/6bed630d6ea7c70541d5647856134e30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RqwSvEzS1j52np8eaj1ttw.png"/></div></div></figure><blockquote class="lg lh li"><p id="af54" class="jy jz lj ka b kb kc kd ke kf kg kh ki lk kk kl km ll ko kp kq lm ks kt ku kv ij bi translated">与您希望测试的一些CSS特性相比，<code class="fe kx ky kz la b">@supports</code>查询受到的支持<a class="ae kw" href="https://caniuse.com/#search=%40supports" rel="noopener ugc nofollow" target="_blank">更少，所以要小心您将它用于哪些属性。IE也不支持<code class="fe kx ky kz la b"><em class="iq">@supports</em></code> <em class="iq">。</em></a></p></blockquote><p id="01e8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当使用适度降级策略时，您最终会编写和发布更多的代码:传统的支持良好的代码，以及更新的支持较差的代码。对于许多特性，比如网格或flex布局，我觉得这种膨胀是可以接受的。它只存在于几个选择器中，很容易通过关键字搜索找到需要回填的属性。</p><p id="4dde" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但是回填CSS变量就没那么容易了。</p><p id="3c3f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">困难来自于它的力量。一个简单的<code class="fe kx ky kz la b">.compact { --scalar: 0.8; }</code>声明可以影响整个树中源于带有<code class="fe kx ky kz la b">compact</code>类的节点的许多属性。您的退路可以包括编写多个选择器，包括限定的选择器(以元素类型为前缀的类选择器)。考虑下面的例子:</p><figure class="lc ld le lf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ln"><img src="../Images/d4199f461a056441dd0941a39aea51d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EhyK97w2ntKu1g6HTP4IZA.png"/></div></div></figure><p id="036c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">CSS变量最有用的一个方面是，web开发人员不需要不停地重写、计算和硬编码值作为幻数和幻色。通过变量集中配置值是SASS脱颖而出的原因之一。如果我们必须为CSS变量的每个实例编写硬编码值的回退，这个好处就完全没有了。</p><p id="f3ab" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一旦所有的后备都写好了，用CSS变量写的精彩简洁的代码就一文不值了。它不会给应用程序增加任何东西，因为它的工作完全是由后备来完成的。它不会逐渐增强任何东西。在这一点上，它变成了无用的重物。</p><p id="5936" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我从事的项目不再需要支持Internet Explorer(任何版本)之前，我不能使用CSS变量。</p><p id="2639" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lj">*轻声啜泣* </em></p></div></div>    
</body>
</html>