<html>
<head>
<title>Build and Deploy Spring Boot Web Service using Azure DevOps — Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Azure DevOps构建和部署Spring Boot Web服务—第2部分</h1>
<blockquote>原文：<a href="https://itnext.io/build-and-deploy-spring-boot-web-service-using-azure-devops-part-2-9252e247d140?source=collection_archive---------1-----------------------#2019-06-26">https://itnext.io/build-and-deploy-spring-boot-web-service-using-azure-devops-part-2-9252e247d140?source=collection_archive---------1-----------------------#2019-06-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="7ca7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我用Azure DevOps pipeline做了实验，发现它很有趣，所以我想把它记录下来，如果我将来从事类似的工作，它将作为一个参考点，也希望有人会发现这很有用。</p><p id="2369" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我将从上一篇文章离开的地方继续这篇文章。如果您还没有阅读上一篇文章，您可以使用下面的<a class="ae ko" rel="noopener ugc nofollow" target="_blank" href="/build-and-deploy-spring-boot-web-service-using-azure-devops-28d745ad086f">链接</a>进行访问。</p><p id="277c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">只是回顾一下我之前所做的。我创建了一个基础设施来存放Azure中的Docker映像，并使用Azure DevOps建立了一个构建管道来生成一个JAR，将JAR打包到Docker映像中，并将其推入Azure中的私有Docker存储库中。</p><p id="ef30" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我假设你熟悉Terraform，Kubernetes和Helm。</p><p id="4d2b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本文中，我将通过扩展我之前使用Terraform所做的工作来展示创建Kubernetes基础设施的步骤，然后对应用程序进行一些配置更改以使其适合部署，<br/>最后，设置Azure DevOps发布管道以部署spring boot服务的步骤。</p><h1 id="9351" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">使用Terraform为Kubernetes创建基础设施</h1><p id="ef7e" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">您可以从下面的GitHub <a class="ae ko" href="https://github.com/juliuscanute/azure-infrastructure" rel="noopener ugc nofollow" target="_blank">链接</a>中获得基础设施的代码变更。</p><p id="1e54" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我将在Terraform中进行以下更改，以在Azure中创建Kubernetes基础设施。</p><ol class=""><li id="e191" class="ls lt it js b jt ju jx jy kb lu kf lv kj lw kn lx ly lz ma bi translated">将以下更改附加到<strong class="js iu"> deploy/main.tf </strong>的末尾</li></ol><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="9d81" class="mk kq it mg b gy ml mm l mn mo">module "kubernetes" {<br/>source = "git@github.com:juliuscanute/azure-terraform-modules.git//kubernetes?ref=0.0.14"<br/>resource_group_name = "${data.terraform_remote_state.init.resource_group_name}"<br/>resouce_group_location = "${data.terraform_remote_state.init.resource_group_location}"<br/>kubernetes_cluster_name = "${var.kubernetes_cluster_name}"<br/>dns_prefix = "${var.dns_prefix}"<br/>client_id = "${var.client_id}"<br/>client_secret = "${var.client_secret}"<br/>retention_in_days = 30<br/>analytics_sku = "PerGB2018"<br/>}</span></pre><p id="00c5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">2.将以下变量附加到<strong class="js iu"> deploy/terraform.tvars </strong></p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="c2c3" class="mk kq it mg b gy ml mm l mn mo">kubernetes_cluster_name = "sampleclustername"<br/>dns_prefix = "samplednsprefix"<br/>client_id = ####<br/>client_secret = ####</span></pre><p id="2f34" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">3.将更改应用于基础架构。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="93e0" class="mk kq it mg b gy ml mm l mn mo">cd deploy/<br/>terraform apply --var-file="terraform.tvars"</span><span id="f424" class="mk kq it mg b gy mp mm l mn mo">...<br/>module.kubernetes.azurerm_kubernetes_cluster.kubernetes_cluster: Still creating... (6m0s elapsed)<br/>module.kubernetes.azurerm_kubernetes_cluster.kubernetes_cluster: Creation complete after 6m7s</span><span id="bc25" class="mk kq it mg b gy mp mm l mn mo">Apply complete! Resources: 3 added, 0 changed, 0 destroyed.</span></pre><p id="d543" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你也可以在Azure门户中验证这一点。</p><figure class="mb mc md me gt mr gh gi paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="gh gi mq"><img src="../Images/13a89d2b527a701d3a8e505b280dd9d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MuqM6L-FXoLFsNm7DqfwMA.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">Azure门户</figcaption></figure><h1 id="2641" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">Spring Boot服务和Kubernetes部署图的配置更改</h1><p id="1e09" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">我已经向Spring Boot服务添加了dev和prod属性，并使得在启动容器之前根据需要进行切换成为可能。</p><p id="b123" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">用dev properties引导服务会启动服务来使用内存中的数据库，而用prod启动服务会连接到在Kubernetes集群中启动的MySql数据库。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="f0fa" class="mk kq it mg b gy ml mm l mn mo">resources<br/>|_________ <a class="ae ko" href="https://github.com/juliuscanute/kotlin-spring-realworld-example-app/blob/master/src/main/resources/application-dev.properties" rel="noopener ugc nofollow" target="_blank">application-dev.properties</a><br/>|_________ <a class="ae ko" href="https://github.com/juliuscanute/kotlin-spring-realworld-example-app/blob/master/src/main/resources/application-prod.properties" rel="noopener ugc nofollow" target="_blank">application-prod.properties</a><br/>|_________ <a class="ae ko" href="https://github.com/juliuscanute/kotlin-spring-realworld-example-app/blob/master/src/main/resources/application.properties" rel="noopener ugc nofollow" target="_blank">application.properties</a></span></pre><p id="f112" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">属性文件依赖于一些环境变量，这些变量在容器启动时从所示的部署图表传递给容器。</p><figure class="mb mc md me gt mr"><div class="bz fp l di"><div class="nc nd l"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated"><a class="ae ko" href="https://github.com/juliuscanute/kotlin-spring-realworld-example-app/blob/master/spring-demo/templates/application.yaml" rel="noopener ugc nofollow" target="_blank">spring-demo/templates/application . YAML</a></figcaption></figure><p id="1ac1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一些环境变量在配置映射中设置，并在部署期间附加到容器。</p><figure class="mb mc md me gt mr"><div class="bz fp l di"><div class="nc nd l"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated"><a class="ae ko" href="https://github.com/juliuscanute/kotlin-spring-realworld-example-app/blob/master/spring-demo/templates/configurationFiles-configmap.yaml" rel="noopener ugc nofollow" target="_blank">spring-demo/templates/configuration files-config map . YAML</a></figcaption></figure><p id="2ada" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我还在构建管道中增加了几个步骤，以打包舵图并发布发布过程中使用的工件。</p><figure class="mb mc md me gt mr"><div class="bz fp l di"><div class="nc nd l"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated"><a class="ae ko" href="https://github.com/juliuscanute/kotlin-spring-realworld-example-app/blob/master/azure-pipelines.yml" rel="noopener ugc nofollow" target="_blank">蔚蓝管道公司</a></figcaption></figure><p id="59b1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">验证构建管道是否正常工作，工件是否已经发布。在构建工作完成之后，您可以看到工件以蓝色显示。</p><figure class="mb mc md me gt mr gh gi paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="gh gi ne"><img src="../Images/ab9688f175c14e79eb7b36ee3faa928a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-E_UsA3C3qy2PyY2NCIlTA.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">Azure DevOps</figcaption></figure><p id="4010" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您还可以通过在Azure门户内部进行日志记录来验证Docker图像是否被标记并在您的私有存储库中发布。</p><figure class="mb mc md me gt mr gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/c502244499d572392ecb09e8a422570c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1126/format:webp/1*4MiACK1kEXmf3V_IqVsxXw.png"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">Azure容器注册中心—私有存储库</figcaption></figure><h1 id="e2b1" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">Azure DevOps发布管道设置</h1><p id="35a2" class="pw-post-body-paragraph jq jr it js b jt ln jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj lr kl km kn im bi translated">我将使用Azure DevOps创建一个发布管道来部署在构建过程中创建的工件。</p><ol class=""><li id="2c63" class="ls lt it js b jt ju jx jy kb lu kf lv kj lw kn lx ly lz ma bi translated">我将从创建一个新的发布管道开始。</li></ol><figure class="mb mc md me gt mr gh gi paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="gh gi ng"><img src="../Images/eb42ea33844134a6d7198b9ac934d97a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I59oC6jVBeZ1zr9RT-TiIQ.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">新发布管道</figcaption></figure><p id="1d72" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">2.从右侧显示的面板中选择舵模板。</p><figure class="mb mc md me gt mr gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/5bc3075079f209f8db3b68af401f7157.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*qUPZ3kCA8bJOThjgqt2UFw.png"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">ADO —模板</figcaption></figure><p id="798f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">3.给环境取一个合适的艺名。</p><figure class="mb mc md me gt mr gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/bfa7b1567e5069f6b6446f93e087dd62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1318/format:webp/1*fuuT1ylDrM13JSd5GccQKw.png"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">ADO —阶段</figcaption></figure><p id="8541" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">4.现在需要对任务进行配置，以连接到Azure中托管的Kubernetes基础设施，并根据Helm Charts中的配置部署pod。</p><figure class="mb mc md me gt mr gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/c7ec10af2d686f1aeb81607e35355132.png" data-original-src="https://miro.medium.com/v2/resize:fit:1178/format:webp/1*eEb_tGR2cwj2N1rItFgnew.png"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">ADO阶段视图</figcaption></figure><p id="30d5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">5.设置这些任务所需的大多数设置都可以从Terraform配置中获得。</p><figure class="mb mc md me gt mr gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/a1c678319aa28f0d751fdd2a5627a9d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1270/format:webp/1*LnpKSTck7eEkdeJDyhrDdg.png"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">ADO —任务</figcaption></figure><p id="9bb6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">6.除了授权信息，下面提供的信息可以作为helm初始化和升级的参考。</p><figure class="mb mc md me gt mr gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/a5e0db9b24716942bf841ce7946af655.png" data-original-src="https://miro.medium.com/v2/resize:fit:516/format:webp/1*TT0nkGHPcF8rJdFhc2NVrw.png"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">掌舵初始化</figcaption></figure><figure class="mb mc md me gt mr gh gi paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="gh gi nm"><img src="../Images/16675171e6debe771ca454d9abe7ab22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W-uO0SdJmyjquEr1606JKw.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">头盔升级</figcaption></figure><p id="fde0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">7.创建阶段使用的变量组。</p><figure class="mb mc md me gt mr gh gi paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="gh gi nn"><img src="../Images/9a3cc073779a621ebc9a01527025c084.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KTLY8aa3pFw1_E7M2zyS2g.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">可变组</figcaption></figure><p id="e494" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">8.将变量组链接到舞台。</p><figure class="mb mc md me gt mr gh gi paragraph-image"><div class="gh gi no"><img src="../Images/3b75e15aa80c582c646861fc8d702d50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/1*xckY_0c9W-yV9UP5vIWc9g.png"/></div></figure><p id="ac9e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">9.我还有整个发布管道使用的管道变量。</p><figure class="mb mc md me gt mr gh gi paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="gh gi np"><img src="../Images/e35cb59093b3bba585c63da8288f6df6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DloVHlvuyzXkdoSEGGcuug.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">管道变量</figcaption></figure><p id="cbe4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">10.通过从pipeline editor屏幕中选择Add an artifact，我可以选择从哪里获取构建工件。</p><figure class="mb mc md me gt mr gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/6f95d06a3b176e6794a6fcae707ac18d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1314/format:webp/1*RpO1agwEb3704XThrt5mbQ.png"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">添加工件</figcaption></figure><p id="07b4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">11.一旦发布管道建立起来，我们就可以通过创建一个发布来开始我们的部署。</p><figure class="mb mc md me gt mr gh gi paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="gh gi nr"><img src="../Images/e73d04a4ca468da714de91be24d74848.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uumw6kL_E_DcjCser7mUnQ.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">创建一个版本</figcaption></figure><p id="d5e9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">12.选择要推出的工件。在本例中，我从构建管道中选择了最后一个成功的构建。</p><figure class="mb mc md me gt mr gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/983481898dd930773ae25c7c8dd5e7c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/1*H_qUfd_oEuLJEEbwl0Equg.png"/></div></figure><p id="0b72" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">13.下图显示了pod被成功部署到Kubernetes集群。</p><figure class="mb mc md me gt mr gh gi paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="gh gi nt"><img src="../Images/4d783f83f30df405aaa599ce84b3f5ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dwJO0Et17zLLD5V51OoE8w.png"/></div></div></figure><p id="9de7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">14.您可以在Kubernetes仪表板中查看这一点。下面显示的命令创建了一个到本地主机的隧道，您可以使用它来查看仪表板。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="4a34" class="mk kq it mg b gy ml mm l mn mo">az aks browse --resource-group &lt;resource_group_name&gt; --name &lt;kubernetes_cluster_name&gt;</span></pre><figure class="mb mc md me gt mr gh gi paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="gh gi nu"><img src="../Images/b2c5a57f4ddf405e5e1ddf8f30cd5cd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JWVz08dFT8DyAbcVWhGJ2w.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">Kubernetes仪表板</figcaption></figure><p id="0355" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">15.从入口控制器获取IP地址，并执行cURL GET请求来验证服务是否响应。</p><figure class="mb mc md me gt mr gh gi paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="gh gi nv"><img src="../Images/05dd5338e331c11ef8259b73b86048e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1w3trNhhRDCHLy0zuMbhiw.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">Kubernetes仪表板</figcaption></figure><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="a528" class="mk kq it mg b gy ml mm l mn mo">curl <a class="ae ko" href="http://40.127.94.203/api/tags" rel="noopener ugc nofollow" target="_blank">http://40.127.94.203/api/tags</a></span><span id="d20f" class="mk kq it mg b gy mp mm l mn mo">*   Trying 40.127.94.203...<br/>* TCP_NODELAY set<br/>* Connected to 40.127.94.203 (40.127.94.203) port 80 (#0)<br/>&gt; GET /api/tags HTTP/1.1<br/>&gt; Host: 40.127.94.203<br/>&gt; User-Agent: curl/7.54.0<br/>&gt; Accept: */*<br/>&gt;<br/>&lt; HTTP/1.1 200<br/>&lt; Server: nginx/1.15.10<br/>&lt; Date: Wed, 26 Jun 2019 01:28:35 GMT<br/>&lt; Content-Type: application/json;charset=UTF-8<br/>&lt; Transfer-Encoding: chunked<br/>&lt; Connection: keep-alive<br/>&lt; Vary: Accept-Encoding<br/>&lt;<br/>* Connection #0 to host 40.127.94.203 left intact</span><span id="cea5" class="mk kq it mg b gy mp mm l mn mo">{"tags":[]}</span></pre><p id="7602" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">16.执行下面的命令很神奇，我可以用它在本地对集群的问题进行故障诊断。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="c9eb" class="mk kq it mg b gy ml mm l mn mo">&gt; az aks get-credentials --resource-group &lt;resource_group_name&gt; --name &lt;kubernetes_cluster_name&gt;</span><span id="5a8c" class="mk kq it mg b gy mp mm l mn mo">&gt; kubectl get pods</span></pre><figure class="mb mc md me gt mr gh gi paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="gh gi nw"><img src="../Images/572c932b33067b02988861b3aebd3de9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NDhDQ7uERmhH07id7nfZvw.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">豆荚展开</figcaption></figure><p id="83a7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">本文总结了在Azure中构建和部署Spring Boot Web服务的两部分系列。我希望你喜欢它，如果你正在构建一个类似的东西，那就万事如意了。</p></div></div>    
</body>
</html>