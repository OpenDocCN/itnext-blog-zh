<html>
<head>
<title>Lazy Load Translation Files In Angular Using Transloco</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Transloco在Angular中延迟加载翻译文件</h1>
<blockquote>原文：<a href="https://itnext.io/lazy-load-translation-files-in-angular-using-transloco-2d3afed116ce?source=collection_archive---------2-----------------------#2019-10-10">https://itnext.io/lazy-load-translation-files-in-angular-using-transloco-2d3afed116ce?source=collection_archive---------2-----------------------#2019-10-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/2b3535b9ead848449f18ac873eea1432.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7-oF_trxf0s04dJ0F8ThdQ.jpeg"/></div></div></figure><p id="7e1b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在本文中，我们将学习如何使用Angular Transloco的国际化库在我们的Angular应用程序中延迟加载翻译文件。这种方法有两个优点。首先，我们将初始包变得更小，这将改善应用程序的加载时间。第二，我们较少暴露于合并冲突。</p><p id="4185" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们看看使用Transloco有多简单💪</p><p id="8a0a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">假设我们有一个用户资料页面。我们希望为该页面创建单独的翻译文件，并仅在用户导航到该页面时加载它们。</p><p id="0e30" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">首先，我们需要创建一个user-profile文件夹(或者您选择的任何名称)；其中，我们为想要支持的每种语言创建了一个翻译文件:</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="f8c8" class="lf lg iq lb b gy lh li l lj lk">├─ i18n/<br/>  ├─ en.json<br/>  ├─ es.json<br/>  ├─ profile-page/<br/>    ├─ en.json<br/>    ├─ es.json</span></pre><p id="b4ec" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在每个文件中，将只添加与此页面相关的翻译:</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="1eba" class="lf lg iq lb b gy lh li l lj lk">{<br/>  "title": "User Profile"<br/>}</span></pre><p id="539a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们继续创建用户配置文件模块和路由:</p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="ll lm l"/></div></figure><p id="0393" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">向提供者添加<code class="fe ln lo lp lb b">TRANSLOCO_SCOPE</code>指示Transloco根据活动语言加载相应的作用域，并将其合并到作用域名称空间下的活动语言翻译对象中。</p><p id="d0c9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">例如，如果活动语言是en，它将加载user-profile/en.json文件，并将翻译设置为以下内容:</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="660e" class="lf lg iq lb b gy lh li l lj lk">{<br/>  header: ‘’,<br/>  login: ‘’,<br/>  userProfile: {<br/>    title: ‘User Profile’<br/>  }<br/>}</span></pre><p id="c399" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，我们可以通过使用user profile名称空间来访问每个用户配置文件键:</p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="ll lm l"/></div></figure><p id="12bf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">默认情况下，名称空间将是作用域名称(骆驼大小写)，但我们可以用两种方式覆盖它:</p><p id="fc5c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">通过使用<code class="fe ln lo lp lb b">config.scopeMapping</code>配置:</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="b3ad" class="lf lg iq lb b gy lh li l lj lk">{<br/>  provide: TRANSLOCO_CONFIG,<br/>  useValue: {<br/>    defaultLang: 'en',<br/>    scopeMapping: {<br/>      'user-profile': 'profile'<br/>    }<br/>  }<br/>}</span></pre><p id="1975" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">通过在模块/组件范围提供程序中提供自定义别名:</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="a9a4" class="lf lg iq lb b gy lh li l lj lk">{<br/>  provide: TRANSLOCO_SCOPE,<br/>  useValue: { scope: ‘user-profile’, alias: ‘profile’ }<br/>}</span></pre><p id="71ce" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在我们可以通过我们提供的自定义名称来访问它，而不是原来的作用域名称(在我们的例子中是profile):</p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="ll lm l"/></div></figure><p id="a247" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你喜欢这篇文章，请👏🏻并分享一下！</p></div><div class="ab cl lq lr hu ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="ij ik il im in"><div class="kw kx ky kz gt lx"><a href="https://netbasal.com/introducing-transloco-angular-internationalization-done-right-54710337630c" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">🚀Transloco简介:角度国际化进展顺利</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">有一段时间，我一直在考虑创建一个Angular i18n库，它包含了我脑海中的一些概念。</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">netbasal.com</p></div></div><div class="mg l"><div class="mh l mi mj mk mg ml jw lx"/></div></div></a></div><div class="mm mn gp gr mo lx"><a href="https://netbasal.com/good-things-come-to-those-who-wait-whats-new-in-transloco-5dadf886b485" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">🎉好事降临在耐心等待的人身上:Transloco有什么新鲜事</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">Transloco的新特性:Angular的下一代i18n库！</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">netbasal.com</p></div></div><div class="mg l"><div class="mp l mi mj mk mg ml jw lx"/></div></div></a></div><div class="mm mn gp gr mo lx"><a href="https://medium.com/@shahar.kazaz/creating-search-engine-friendly-internationalized-apps-with-angular-universal-and-transloco-ab9583cfb5ac" rel="noopener follow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">使用Angular Universal和Transloco创建搜索引擎友好的国际化应用程序🌐</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">在本文中，我将向您展示使用下一个……</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">medium.com</p></div></div><div class="mg l"><div class="mq l mi mj mk mg ml jw lx"/></div></div></a></div></div></div>    
</body>
</html>