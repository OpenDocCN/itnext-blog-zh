<html>
<head>
<title>Continuous Deployment pipeline for the CI/CD pipelines</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">CI/CD管道的持续部署管道</h1>
<blockquote>原文：<a href="https://itnext.io/continuous-deployment-pipeline-for-the-ci-cd-pipelines-a677de68be7?source=collection_archive---------2-----------------------#2020-10-26">https://itnext.io/continuous-deployment-pipeline-for-the-ci-cd-pipelines-a677de68be7?source=collection_archive---------2-----------------------#2020-10-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="6d77" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">持续集成/持续交付管道广泛应用于现代软件开发中。为了快速和可靠地开发/交付软件，变更要通过管道并到达产品。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/3bb36d8853e54fbaf2c72e6b1a59aa8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cFe2QJYHDN2TD0Idy4dELA.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">软件CI/CD管道</figcaption></figure><p id="9a6a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">CI/CD管道本身如何？它们也是由代码创建的吗？他们遵循相同的软件开发/交付过程吗？</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/70154b0f9a19993b70623b6c4f14c041.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xh0mnVdBWCVb86g7SWGvhQ.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">管道对管道</figcaption></figure><p id="22e7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本文中，我想分享我在CI/CD管道的持续部署管道方面的一些经验。</p><p id="2a7b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">以下示例来自Jenkins/Gerrit工作流程。应该很容易扩展到Jenkins/Github工作流，或者其他类似的工作流。</p><h2 id="f6d9" class="le lf it bd lg lh li dn lj lk ll dp lm kb ln lo lp kf lq lr ls kj lt lu lv lw bi translated">Jenkins中的软件CI/CD管道</h2><p id="afc1" class="pw-post-body-paragraph jq jr it js b jt lx jv jw jx ly jz ka kb lz kd ke kf ma kh ki kj mb kl km kn im bi translated">例如，我们有几个项目。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mc"><img src="../Images/140aafacd8d5be1ed46d4e0e63910324.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sf53zAYd3P8V9evzZ__h5g.png"/></div></div></figure><p id="a07f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于每个项目，都有一个CI渠道和一个CD渠道。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mc"><img src="../Images/d99e64e36636a4f376c359efadd8a4cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xdGR8JdRWKlloZXwntXMiA.png"/></div></div></figure><p id="7c5d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们使用<a class="ae md" href="https://www.jenkins.io/doc/book/pipeline-as-code/" rel="noopener ugc nofollow" target="_blank"> Jenkins pipeline作为每个作业的代码</a>来定义管道，假设它们分别是Jenkinsfile_ci.groovy和Jenkinsfile_cd.groovy，例如，ci-pipeline将为项目的每次更改执行Jenkinsfile_ci.groovy。</p><h1 id="fe14" class="me lf it bd lg mf mg mh lj mi mj mk lm ml mm mn lp mo mp mq ls mr ms mt lv mu bi translated">通过Jenkins JodDSL创建Jenkins工作</h1><p id="972d" class="pw-post-body-paragraph jq jr it js b jt lx jv jw jx ly jz ka kb lz kd ke kf ma kh ki kj mb kl km kn im bi translated">在将Jenkins管道定义为代码之后，很自然地就可以使用<a class="ae md" href="https://github.com/jenkinsci/job-dsl-plugin" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu"> JobDSL </strong> </a>从一些源代码中创建作业。</p><p id="26e5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">例如，我们可以用DSL定义一个Jenkins作业，如下所示:</p><pre class="kp kq kr ks gt mv mw mx my aw mz bi"><span id="0f3c" class="le lf it mw b gy na nb l nc nd">pipelineJob("projectA/ci-pipeline") {<br/>    description("CI pipeline for Project &lt;b&gt;projectA&lt;/b&gt;.")<br/>    definition {<br/>      cpsScm {<br/>        scm {<br/>          git {<br/>            remote {<br/>              url('${GERRIT_HOST}/a/projectA')<br/>              credentials('gerrit_username_password')<br/>              refspec('${GERRIT_REFSPEC}')<br/>            }<br/>            branch('FETCH_HEAD')<br/>          }<br/>        }<br/>        scriptPath('Jenkinsfile_ci.groovy')<br/>        lightweight(false)<br/>      }<br/>    }<br/>}</span></pre><p id="bfd9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了简单起见，我省略了作业的“触发器”部分。在现实世界的作业中，应该定义一个“触发器”,以便在发生变化时构建作业。</p><h1 id="fb5e" class="me lf it bd lg mf mg mh lj mi mj mk lm ml mm mn lp mo mp mq ls mr ms mt lv mu bi translated">通过Jenkins JobDSL创建多个Jenkins作业</h1><p id="c816" class="pw-post-body-paragraph jq jr it js b jt lx jv jw jx ly jz ka kb lz kd ke kf ma kh ki kj mb kl km kn im bi translated">当有许多类似的项目时，会有许多重复的源代码来定义这些项目的Jenkins作业。</p><pre class="kp kq kr ks gt mv mw mx my aw mz bi"><span id="df5d" class="le lf it mw b gy na nb l nc nd">pipelineJob("projectA/ci-pipeline") {<br/> ...<br/>}<br/>pipelineJob("projectA/cd-pipeline") {<br/>   ...<br/>}<br/>pipelineJob("projectB/ci-pipeline")<br/>pipelineJob("projectB/cd-pipeline")</span></pre><p id="9c61" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我发现这个Jenkins JobDSL <a class="ae md" href="https://github.com/sheehan/job-dsl-gradle-example" rel="noopener ugc nofollow" target="_blank"> gradle演示项目</a>是从一个中心位置定义大量工作的一个很好的起点。</p><p id="e9e3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我将它分支到我的git <a class="ae md" href="https://github.com/liejuntao001/jenkins-job-pipeline" rel="noopener ugc nofollow" target="_blank">这里</a>，其中包含了本文中使用的所有源代码。</p><p id="d9c0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是一个gradle项目，结构如下。，您将在src/jobs中定义Jenkins，并支持在将定义的作业放入Jenkins之前执行“gradle test”来测试它们。</p><pre class="kp kq kr ks gt mv mw mx my aw mz bi"><span id="9b77" class="le lf it mw b gy na nb l nc nd">.<br/>├── src<br/>│   ├── jobs                # DSL script files<br/>│   ├── main<br/>│   │   ├── groovy          # support classes<br/>│   │   └── resources<br/>│   │       └── idea.gdsl   # IDE support for IDEA<br/>│   ├── scripts             # scripts to use with "readFileFromWorkspace"<br/>│   └── test<br/>│       └── groovy          # specs<br/>└── build.gradle            # build file</span><span id="76bb" class="le lf it mw b gy ne nb l nc nd">$ ./gradlew test<br/>Tests: 3, Failures: 0, Errors: 0, Skipped: 0</span><span id="77e1" class="le lf it mw b gy ne nb l nc nd">BUILD SUCCESSFUL in 9s</span></pre><p id="30cb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我定义了一个JSON文件格式的项目列表，如下所示</p><pre class="kp kq kr ks gt mv mw mx my aw mz bi"><span id="9485" class="le lf it mw b gy na nb l nc nd">"simple_projects": [<br/>  "projectA","projectB"<br/>]</span></pre><p id="1d2c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后，对于每个项目，在groovy文件中定义它的ci/cd管道</p><pre class="kp kq kr ks gt mv mw mx my aw mz bi"><span id="4294" class="le lf it mw b gy na nb l nc nd">simpleProjectsPipeline.groovy</span><span id="20e0" class="le lf it mw b gy ne nb l nc nd">projects.each { project -&gt;<br/>    pipelineJob("${project}/ci-pipeline") {<br/>        ...<br/>    }<br/>    pipelineJob("${project}/cd-pipeline") {<br/>       ...<br/>    }<br/>}</span></pre><p id="bb4a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">用这种方法，我们可以一起定义一堆相似的詹金斯工作。使用多个groovy文件，如simpleProjectsPipeline.groovy，我们可以满足非常复杂的管道定义的需要。</p><h1 id="613c" class="me lf it bd lg mf mg mh lj mi mj mk lm ml mm mn lp mo mp mq ls mr ms mt lv mu bi translated">为Jenkins工作创建类别</h1><p id="8c34" class="pw-post-body-paragraph jq jr it js b jt lx jv jw jx ly jz ka kb lz kd ke kf ma kh ki kj mb kl km kn im bi translated">詹金斯的工作可能有不同的种类。</p><p id="cb42" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">例如，我们可以让一些Jenkins作业负责一个单独的项目，或者让一些Jenkins作业将一些项目集成在一起，或者让一些作业执行一些SCM任务。这些工作在性质上有些不同，或者属于不同的团队。</p><p id="0113" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">工作类别是将相似的Jenkins工作组合在一起，并隔离不同的工作。</p><p id="7348" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本文的演示代码中，我将类别定义为src/jobs中的一个子文件夹。包含多个类别的结构如下所示。</p><pre class="kp kq kr ks gt mv mw mx my aw mz bi"><span id="5d30" class="le lf it mw b gy na nb l nc nd">config<br/>├── samples.json<br/>├── category1.json<br/>└── category.json<br/>src<br/>├── jobs<br/>│   ├── samples<br/>│       └── simpleProjectsPipeline.groovy<br/>│   ├── category1<br/>│   └── category2</span></pre><p id="5032" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在类别“samples”的simpleProjectsPipeline.groovy中，读取匹配的JSON文件，并相应地创建作业。</p><pre class="kp kq kr ks gt mv mw mx my aw mz bi"><span id="6bdf" class="le lf it mw b gy na nb l nc nd">def content = readFileFromWorkspace('config/samples.json')<br/>def jsonConfig = new JsonSlurper().parseText(content)<br/>List&lt;String&gt; projects = jsonConfig['simple_projects'].unique()</span></pre><p id="984d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">通过定义“类别”，我们可以在一个中心位置组织各种詹金斯工作。</p><h1 id="3f59" class="me lf it bd lg mf mg mh lj mi mj mk lm ml mm mn lp mo mp mq ls mr ms mt lv mu bi translated">创建种子以部署作业</h1><p id="9f32" class="pw-post-body-paragraph jq jr it js b jt lx jv jw jx ly jz ka kb lz kd ke kf ma kh ki kj mb kl km kn im bi translated">如使用<a class="ae md" href="https://github.com/jenkinsci/job-dsl-plugin" rel="noopener ugc nofollow" target="_blank"> JobDSL </a>的第一步所述，我们需要一个种子项目来部署作业。</p><p id="dfa6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">通常，该种子作业是在Jenkins中创建的第一个手动作业，然后运行该种子作业来创建其他Jenkins作业。</p><p id="d310" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们可以定义一个“管道代码”来调用JobDSL，而不是创建一个自由形式的种子作业来调用Job DSL，正如这里的<a class="ae md" href="https://github.com/jenkinsci/job-dsl-plugin/wiki/User-Power-Moves#use-job-dsl-in-pipeline-scripts" rel="noopener ugc nofollow" target="_blank">所描述的</a>。</p><p id="4afa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里有一个<a class="ae md" href="https://github.com/liejuntao001/jenkins-job-pipeline/blob/master/Jenkinsfile" rel="noopener ugc nofollow" target="_blank"> Jenkinsfile </a>放在演示项目的根文件夹中，它运行jodDsl作为构建步骤，部署src/job/${category}中定义的所有作业。</p><pre class="kp kq kr ks gt mv mw mx my aw mz bi"><span id="7f86" class="le lf it mw b gy na nb l nc nd">jobDsl targets: ["src/jobs/${job_category}/*.groovy", 'src/jobs/*.groovy'].join('\n'),<br/>    ignoreMissingFiles: true,<br/>    removedJobAction: 'DISABLE',<br/>    removedViewAction: 'DELETE',<br/>    lookupStrategy: 'SEED_JOB'</span></pre><p id="0a4c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在我们需要一个种子项目。在这篇文章中，我将只定义一个手动的。在现实世界中，当创建Jenkins实例时，应该使用代码为的<a class="ae md" href="https://www.jenkins.io/projects/jcasc/" rel="noopener ugc nofollow" target="_blank"> Jenkins配置来定义它。</a></p><p id="4930" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是一个创建为seeding-demo/seed的作业，它指向演示项目dev branch，以执行上面提到的Jenkinsfile。</p><pre class="kp kq kr ks gt mv mw mx my aw mz bi"><span id="e0b6" class="le lf it mw b gy na nb l nc nd"><a class="ae md" href="https://github.com/liejuntao001/jenkins-job-pipeline" rel="noopener ugc nofollow" target="_blank">https://github.com/liejuntao001/jenkins-job-pipeline</a></span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nf"><img src="../Images/0b433dc0142c128230b754ff44225ad9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sm2NllYLuGtfZpgcKk3DXA.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">种子作业</figcaption></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ng"><img src="../Images/bbdef763e58aad34e5e5404c91f15eb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fC6aL7k0ezyw0DkGeClTZg.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">种子作业配置</figcaption></figure><p id="b12c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">成功运行后，它会创建以下工作:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/b4a4509e0300a479a892589fdbeb2f52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*3EmIha33_fldScLeLfsu7w.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">种子作业结果</figcaption></figure><p id="0096" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这些作业由来自<a class="ae md" href="https://github.com/liejuntao001/jenkins-job-pipeline" rel="noopener ugc nofollow" target="_blank"> jenkins-job-pipeline </a>、dev分支、category samples的代码定义。</p><h1 id="ae88" class="me lf it bd lg mf mg mh lj mi mj mk lm ml mm mn lp mo mp mq ls mr ms mt lv mu bi translated">为种子创建CI/CD管道</h1><p id="d289" class="pw-post-body-paragraph jq jr it js b jt lx jv jw jx ly jz ka kb lz kd ke kf ma kh ki kj mb kl km kn im bi translated">在一个测试Jenkins实例中，我们可以创建一个从“开发”或特性分支变更中触发的种子作业。上面描述的例子是这样的，就是运行dev分支。</p><p id="6908" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果您将jenkinsfile_ci.groovy指向一个测试版本，测试Jenkins实例不仅可以对<a class="ae md" href="https://github.com/liejuntao001/jenkins-job-pipeline" rel="noopener ugc nofollow" target="_blank"> jenkins-job-pipeline </a>的源代码进行测试，还可以对单个项目的Jenkins管道的源代码进行测试。</p><p id="0792" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在Jenkins/Gerrit工作流中，这是一个触发器，定义如下:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ni"><img src="../Images/11d56a72f54275f3dd8feccdac286ed4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ouI72rVggUSxQ7I06ezO0w.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">暂存种子</figcaption></figure><p id="ded0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在生产Jenkins实例中，我们可以通过匹配“refs/tags/v.*”来创建一个由正式发布标记触发的种子作业，以部署正式管道。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nj"><img src="../Images/e9155e49790d25cb76588465ee33dbb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WLVM7o8H8K1uO9fUwFDBZQ.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">生产种子</figcaption></figure><p id="bc05" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于不同类别的作业，在文件夹中定义种子作业。</p><p id="d853" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">例如，project-review/seed为类别“project-review”创建作业，所有与项目评审相关的作业都将在“project-review”文件夹中创建。类似地，创建另一个scm/seed作业，为类别“scm”创建作业。</p><p id="1a23" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">类别被定义为种子作业中的一个参数。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nk"><img src="../Images/83c9099461aad3a93f1cffa5d17ad2e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jOSWhBdpDZDVh5kgjkMXtw.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">定义范畴</figcaption></figure><p id="50df" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae md" href="https://github.com/liejuntao001/jenkins-job-pipeline/blob/master/Jenkinsfile" rel="noopener ugc nofollow" target="_blank"> Jenkinsfile </a>使用该参数为相应的类别创建作业。</p><pre class="kp kq kr ks gt mv mw mx my aw mz bi"><span id="35fe" class="le lf it mw b gy na nb l nc nd">def job_category = 'samples'<br/>if (params.JOB_CATEGORY) {<br/>  job_category = params.JOB_CATEGORY<br/>}<br/>jobDsl targets: ["src/jobs/${job_category}/*.groovy", 'src/jobs/*.groovy'].join('\n'),</span></pre><h1 id="9da4" class="me lf it bd lg mf mg mh lj mi mj mk lm ml mm mn lp mo mp mq ls mr ms mt lv mu bi translated">摘要</h1><p id="7495" class="pw-post-body-paragraph jq jr it js b jt lx jv jw jx ly jz ka kb lz kd ke kf ma kh ki kj mb kl km kn im bi translated">在DevOps世界“一切都是代码”的潮流中，詹金斯很好地顺应了潮流。</p><ol class=""><li id="1364" class="nl nm it js b jt ju jx jy kb nn kf no kj np kn nq nr ns nt bi translated">作为代码的Jenkins管道:定义在Jenkins作业中运行的内容</li><li id="629f" class="nl nm it js b jt nu jx nv kb nw kf nx kj ny kn nq nr ns nt bi translated">Jenkins jobs as code:从代码创建Jenkins jobs</li><li id="89ff" class="nl nm it js b jt nu jx nv kb nw kf nx kj ny kn nq nr ns nt bi translated">Jenkins配置为代码:从代码创建Jenkins实例</li></ol><p id="e5a1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">本文适合第2项，为种子作业创建一个CI/CD管道，通过它可以从代码中创建大量的Jenkins作业。</p><p id="884d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">本文的源代码在Github中共享。</strong></p><pre class="kp kq kr ks gt mv mw mx my aw mz bi"><span id="0fd5" class="le lf it mw b gy na nb l nc nd"><a class="ae md" href="https://github.com/liejuntao001/jenkins-job-pipeline" rel="noopener ugc nofollow" target="_blank">Link to Github</a></span></pre><h2 id="d31c" class="le lf it bd lg lh li dn lj lk ll dp lm kb ln lo lp kf lq lr ls kj lt lu lv lw bi translated">参考资料:</h2><p id="a2a8" class="pw-post-body-paragraph jq jr it js b jt lx jv jw jx ly jz ka kb lz kd ke kf ma kh ki kj mb kl km kn im bi translated"><a class="ae md" href="https://semaphoreci.com/blog/cicd-pipeline" rel="noopener ugc nofollow" target="_blank"> CI/CD管道:温柔的介绍</a></p><p id="6e1a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae md" href="https://github.com/jenkinsci/job-dsl-plugin" rel="noopener ugc nofollow" target="_blank">詹金斯JobDSL </a></p><p id="569f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae md" href="https://github.com/sheehan/job-dsl-gradle-example" rel="noopener ugc nofollow" target="_blank">詹金斯工作DSL梯度示例</a></p><p id="ae41" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">感谢阅读。</p></div></div>    
</body>
</html>