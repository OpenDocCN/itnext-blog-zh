<html>
<head>
<title>All you can learn about Storybook in 10 minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">10分钟内你能学到的关于故事书的一切</h1>
<blockquote>原文：<a href="https://itnext.io/all-you-can-learn-about-storybook-in-10-minutes-1e75d601e2c?source=collection_archive---------4-----------------------#2021-04-20">https://itnext.io/all-you-can-learn-about-storybook-in-10-minutes-1e75d601e2c?source=collection_archive---------4-----------------------#2021-04-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/></div><div class="ab cl jn jo hu jp" role="separator"><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js"/></div><div class="ij ik il im in"><p id="a657" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">什么是故事书？</p><p id="b0f3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi ks translated"><span class="l kt ku kv bm kw kx ky kz la di"> S </span> <em class="lb"> torybook是一款开源工具，用于独立开发React、Vue、Angular等UI组件。它使构建令人惊叹的ui变得有条理和高效。</em></p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lc"><img src="../Images/89c79d1b438a1f3adbc9c9c5a9e00a36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*3HNdMtp9moy95ihMrlHFXg.gif"/></div></div></figure><p id="69a3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">好吧，但是我为什么要用故事书呢？—  <em class="lb"> (1分钟)</em></p><p id="c4ef" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">开发可重用的UI组件并不像你想象的那么简单。一个主要的挑战是记录你的组件，这样另一个开发人员/团队将能够理解组件是如何工作的，以及如何为新的功能定制它们。</p><p id="ef13" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir"> Storybook将帮助你:</strong><br/>——在同一个地方呈现组件的不同状态<br/>(例如:启用或禁用的按钮，不同的颜色和大小)<br/>——写出道具和变奏的细节。<br/>(讲述您的组件的故事)<br/> -针对不同的设备尺寸测试设计<br/> -审核可访问性</p></div><div class="ab cl jn jo hu jp" role="separator"><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js"/></div><div class="ij ik il im in"><p id="d076" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">从前— </strong> <em class="lb"> (2分钟)</em></p><p id="b86c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi ks translated">在这个演示中，我将向你展示如何用React来使用Storybook，但是如果你愿意，你也可以使用你最喜欢的框架。</p><p id="7528" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">首先，我们需要创建一个新的react项目:</p><pre class="ld le lf lg gt lo lp lq lr aw ls bi"><span id="696f" class="lt lu iq lp b gy lv lw l lx ly"><em class="lb">npx create-react-app storybook-demo-app</em></span></pre><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lz"><img src="../Images/9b917f8e91811a258dca9d52287ef6ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uU8rYZ40gc-nTXta"/></div></div></figure><p id="6036" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在您应该有了一个基本的React项目:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/fc8afe2b3cd2a4322eb604ee2934a0ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:578/0*6_wBONT-T4LkdDpt"/></div></figure><p id="8e14" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们可以将故事书添加到我们的项目中</p><pre class="ld le lf lg gt lo lp lq lr aw ls bi"><span id="2ac9" class="lt lu iq lp b gy lv lw l lx ly">npx sb init</span></pre><p id="807a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这将为您创建两个文件夹:</p><p id="f496" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">a)。故事书</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/fabacafb5b7796829854c836032b177b.png" data-original-src="https://miro.medium.com/v2/resize:fit:524/0*VJ78iwyeQZfWZL8a"/></div></figure><p id="eeb9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">js是一个配置文件，它告诉Storybook要打开哪些字段和使用哪些插件。我们稍后会谈到插件，但是现在你可以考虑像比萨饼的额外配料这样的插件。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/2544b839e152bec0c4cfb28714fa70ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/0*0dTQkM53Nk8K0n7y"/></div></figure><p id="3616" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">B) src&gt;stories <br/>它包含一些按钮和标题组件的演示故事。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi md"><img src="../Images/2ad1e929121a0007c3c5958f80b5534c.png" data-original-src="https://miro.medium.com/v2/resize:fit:550/0*iAcueTXsjw7F57jN"/></div></figure></div><div class="ab cl jn jo hu jp" role="separator"><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js"/></div><div class="ij ik il im in"><p id="fe5a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">让故事开始— </strong> <em class="lb"> (4分钟)</em></p><p id="eb95" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我知道你想运行应用程序，看看会发生什么。神奇的词是:</p><pre class="ld le lf lg gt lo lp lq lr aw ls bi"><span id="5524" class="lt lu iq lp b gy lv lw l lx ly"><strong class="lp ir">npm run storybook</strong></span></pre><p id="c191" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在左侧，您应该可以看到所有组件:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi me"><img src="../Images/0aa16ce75c2e17b28e90cf1c1c0df5f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/0*w7VSGUzNglD11TCJ"/></div></figure><p id="51a3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们选择第一个故事—主要按钮</p><p id="732a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这就是故事书的力量。您可以同时查看组件和编辑道具，而无需编写任何代码。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mf"><img src="../Images/659caa8e45ec932dc2025e17da7d9017.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2HA_zBoBNLNCof8E"/></div></div></figure><p id="f035" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">您也可以将模式从Canvas更改为Docs并查看文档。当您想要添加更多关于组件使用方式的细节时，这非常有用。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mg"><img src="../Images/98acce90710d0adae6226b64ca25ec0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_gU2fOyOaC6pF-MD"/></div></div></figure><p id="404f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">让我们用代码战斗:</strong></p><p id="1dfd" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi ks translated">对于每个组件，我们将有两个文件，一个包含代码，另一个包含所有的故事。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/9e7630e16a80e953fba461a386ed5ebd.png" data-original-src="https://miro.medium.com/v2/resize:fit:724/0*ok2ouLd6-2pBTmJV"/></div></figure><p id="a63d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们先看看故事，然后再讨论组件代码。</p><p id="5c39" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">首先，我们需要导入我们的主角。在这种情况下，故事的主人公就是“巴顿”。</p><pre class="ld le lf lg gt lo lp lq lr aw ls bi"><span id="167f" class="lt lu iq lp b gy lv lw l lx ly">import React from 'react';</span><span id="1b31" class="lt lu iq lp b gy mi lw l lx ly">import { Button } from './Button';</span><span id="9a0d" class="lt lu iq lp b gy mi lw l lx ly">export default {</span><span id="79e5" class="lt lu iq lp b gy mi lw l lx ly">title: 'Example/Button',</span><span id="a29c" class="lt lu iq lp b gy mi lw l lx ly">component: Button,</span><span id="2159" class="lt lu iq lp b gy mi lw l lx ly">argTypes: {</span><span id="4cb3" class="lt lu iq lp b gy mi lw l lx ly">backgroundColor: { control: 'color' },</span><span id="5a78" class="lt lu iq lp b gy mi lw l lx ly">},</span><span id="fba5" class="lt lu iq lp b gy mi lw l lx ly">};</span></pre><p id="4bdb" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">然后我们要做的就是用不同的道具来渲染按钮。<br/>在我们的例子中，一个按钮的大小为“大”，另一个按钮的大小为“小”。</p><pre class="ld le lf lg gt lo lp lq lr aw ls bi"><span id="3649" class="lt lu iq lp b gy lv lw l lx ly">const Template = (args) =&gt; &lt;Button {...args} /&gt;;<br/></span><span id="741d" class="lt lu iq lp b gy mi lw l lx ly">export const Large = Template.bind({});</span><span id="f9ef" class="lt lu iq lp b gy mi lw l lx ly">Large.args = {</span><span id="5941" class="lt lu iq lp b gy mi lw l lx ly">size: 'large',</span><span id="89b3" class="lt lu iq lp b gy mi lw l lx ly">label: 'I am a LARGE button',</span><span id="86e1" class="lt lu iq lp b gy mi lw l lx ly">};</span><span id="7408" class="lt lu iq lp b gy mi lw l lx ly">export const Small = Template.bind({});</span><span id="2d07" class="lt lu iq lp b gy mi lw l lx ly">Small.args = {</span><span id="3513" class="lt lu iq lp b gy mi lw l lx ly">size: 'small',</span><span id="6506" class="lt lu iq lp b gy mi lw l lx ly">label: 'I am a SMALL button',</span><span id="2c96" class="lt lu iq lp b gy mi lw l lx ly">};</span></pre><p id="c120" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">仅此而已。我们有了前两个故事。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/02e704090d85e10c4036fede9272c619.png" data-original-src="https://miro.medium.com/v2/resize:fit:892/0*eU0auVjTxFn4CTPx"/></div></figure><p id="3753" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">等等，这就是所有的东西？故事书怎么知道创建道具表和文档？</p><p id="ef59" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">很神奇:)嗯，也不尽然。</p><p id="13ac" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">为了理解它是如何工作的，我们应该看看代码。<br/>答案是道具类型:</p><pre class="ld le lf lg gt lo lp lq lr aw ls bi"><span id="51cf" class="lt lu iq lp b gy lv lw l lx ly">Button.propTypes = {</span><span id="da81" class="lt lu iq lp b gy mi lw l lx ly">/**</span><span id="3839" class="lt lu iq lp b gy mi lw l lx ly">* Is this the principal call to action on the page?</span><span id="ba49" class="lt lu iq lp b gy mi lw l lx ly">*/</span><span id="d22a" class="lt lu iq lp b gy mi lw l lx ly">primary: PropTypes.bool,</span><span id="41ed" class="lt lu iq lp b gy mi lw l lx ly">* How large should the button be?</span><span id="c1b7" class="lt lu iq lp b gy mi lw l lx ly">*/</span><span id="91c9" class="lt lu iq lp b gy mi lw l lx ly">size: PropTypes.oneOf(['small', 'medium', 'large']),</span><span id="ae9a" class="lt lu iq lp b gy mi lw l lx ly">};</span></pre><p id="964a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">和默认道具</p><pre class="ld le lf lg gt lo lp lq lr aw ls bi"><span id="301d" class="lt lu iq lp b gy lv lw l lx ly">Button.defaultProps = {</span><span id="53ed" class="lt lu iq lp b gy mi lw l lx ly">primary: false,</span><span id="753c" class="lt lu iq lp b gy mi lw l lx ly">size: 'medium',</span><span id="5410" class="lt lu iq lp b gy mi lw l lx ly">};</span></pre><p id="1964" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">Storybook它足够聪明，能够理解组件的类型并相应地创建控件。</p><p id="c501" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">所以primary:bool会变成一个有真/假的按钮。不仅如此，它还将添加注释作为描述，并添加defaultProps中的默认值</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mk"><img src="../Images/0c3f56eb76cabff7b72a777093ac3533.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Q9d_ItVBpGUEhEOu"/></div></div></figure></div><div class="ab cl jn jo hu jp" role="separator"><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js"/></div><div class="ij ik il im in"><p id="e86c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">什么是插件，如何使用？——</strong><em class="lb">(2分钟)</em></p><p id="1d9f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi ks translated">有时你需要额外的配料来做披萨，好消息是有很多故事书插件。</p><p id="78cb" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">您可以在这里找到它们:</p><p id="1e62" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><a class="ae ml" href="https://storybook.js.org/addons" rel="noopener ugc nofollow" target="_blank">https://storybook.js.org/addons</a></p><p id="ba54" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们一起安装一个辅助插件:<br/><a class="ae ml" href="https://storybook.js.org/addons/@storybook/addon-a11y/" rel="noopener ugc nofollow" target="_blank">https://storybook.js.org/addons/@storybook/addon-a11y/</a></p><p id="ee76" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">神奇的词是:</p><pre class="ld le lf lg gt lo lp lq lr aw ls bi"><span id="b753" class="lt lu iq lp b gy lv lw l lx ly">npm install @storybook/addon-a11y</span></pre><p id="f3c8" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">npm安装插件后，你需要手动添加它</p><p id="efa6" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="lb">。故事书&gt; main.js </em></p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/ff1a698c41807143fd85bfb4a10881ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/0*jL1YxxLWo0prDzVp"/></div></figure><p id="c860" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我命令您使用以下命令再次运行该应用程序</p><pre class="ld le lf lg gt lo lp lq lr aw ls bi"><span id="19c0" class="lt lu iq lp b gy lv lw l lx ly"><em class="lb">npm run storybook</em></span></pre><p id="3066" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在，您将看到一个带有可访问性的新选项卡，以及可访问性检查的结果</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mn"><img src="../Images/8ab84eda496b19410c750893be207893.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gU5_LuVyNHqkQmbJ"/></div></div></figure><p id="7773" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">故事的结局？— </strong> <em class="lb"> (1分钟)</em></p><p id="277e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi ks translated">T21:差远了，但我答应给你10分钟，这个故事应该是10分钟左右。我要求你安装一个不同的插件，看看它对你有什么用处。</p><p id="0e2d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这是我第二篇关于媒体的文章，非常感谢你的反馈。请在评论中告诉我这篇文章是否有用，以及你想在10分钟内学到什么。</p></div></div>    
</body>
</html>