<html>
<head>
<title>Create a cross platform Bitcoin desktop client with Electron</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用电子创建跨平台比特币桌面客户端</h1>
<blockquote>原文：<a href="https://itnext.io/create-a-multi-platform-bitcoin-desktop-client-with-electron-299639aeeba4?source=collection_archive---------7-----------------------#2018-03-10">https://itnext.io/create-a-multi-platform-bitcoin-desktop-client-with-electron-299639aeeba4?source=collection_archive---------7-----------------------#2018-03-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/be515985fcb1b42039a55e268dd58a83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cQl1eHoplkcQF2dTaWo5FA.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">安德烈·弗朗索瓦在<a class="ae kc" href="https://unsplash.com/search/photos/bitcoin?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="1d06" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae kc" href="https://www.linkedin.com/cws/share?url=https%3A%2F%2Fitnext.io%2Fcreate-a-multi-platform-bitcoin-desktop-client-with-electron-299639aeeba4" rel="noopener ugc nofollow" target="_blank"> <em class="lb">点击这里在LinkedIn上分享这篇文章</em> </a></p><p id="dca2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本教程中，我们将创建一个<strong class="kf ir">比特币桌面客户端</strong>。它不会是最复杂的客户端；事实上，这很简单。不过，它最大的卖点是，由于Electron的跨平台架构，你可以在所有Windows、Linux或MacOS上使用它。<strong class="kf ir">有了这个应用，你将能够使用比特币基地买卖比特币，并随时关注你的账户余额。</strong></p><p id="2223" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">请记住，本教程的主要目的是教你如何建立一个电子应用程序，以及如何使用比特币基地节点。js SDK。<strong class="kf ir">因此，即使比特币客户端能够用真实货币进行交易，它也不会“准备好投入生产”。如果你用它交易，风险总是由你自己承担</strong></p><p id="65cd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是我们的应用程序在本教程之后的样子:</p><figure class="ld le lf lg gt jr gh gi paragraph-image"><div class="gh gi lc"><img src="../Images/9728af9d9c14b90ab2544d6797b41a49.png" data-original-src="https://miro.medium.com/v2/resize:fit:866/format:webp/1*gIn-TPLtYUUAcH3_qBBm8A.png"/></div></figure><blockquote class="lh li lj"><p id="5e25" class="kd ke lb kf b kg kh ki kj kk kl km kn lk kp kq kr ll kt ku kv lm kx ky kz la ij bi translated">你可以在<a class="ae kc" href="https://github.com/javidgon/bitcoin-client" rel="noopener ugc nofollow" target="_blank"> Github </a>中找到最新版本的比特币客户端源代码</p></blockquote><h2 id="1496" class="ln lo iq bd lp lq lr dn ls lt lu dp lv ko lw lx ly ks lz ma mb kw mc md me mf bi translated">先决条件</h2><ul class=""><li id="9237" class="mg mh iq kf b kg mi kk mj ko mk ks ml kw mm la mn mo mp mq bi translated">JS、HTML和CSS知识</li><li id="fb72" class="mg mh iq kf b kg mr kk ms ko mt ks mu kw mv la mn mo mp mq bi translated">对交易术语有一些基本的了解(例如，菲亚特，买，卖…)</li><li id="b3bb" class="mg mh iq kf b kg mr kk ms ko mt ks mu kw mv la mn mo mp mq bi translated">学习如何使用electronic开发桌面应用程序的动机！</li></ul><h1 id="13f1" class="mw lo iq bd lp mx my mz ls na nb nc lv nd ne nf ly ng nh ni mb nj nk nl me nm bi translated"><strong class="ak">什么是电子？</strong></h1><p id="113b" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko nn kq kr ks no ku kv kw np ky kz la ij bi translated">根据官方文件:</p><p id="d543" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb">“Electron通过提供具有丰富的本地(操作系统)API的运行时，使您能够用纯JavaScript创建桌面应用程序。你可以把它看作Node.js运行时的一个变种，专注于桌面应用程序，而不是web服务器。”</em></p><p id="9d1a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">就是这样。如果你过去曾经使用过Javascript/node.js，它会给你一种家的感觉。唯一有点“独特”的部分是组成每个电子应用程序的两种不同的进程类型:“主”和“呈现器”进程。</p><p id="61bb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">官方文档很好地解释了这些差异:</p><p id="db33" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb">在电子中，运行</em> <code class="fe nq nr ns nt b"><em class="lb">package.json</em></code> <em class="lb">的</em> <code class="fe nq nr ns nt b"><em class="lb">main</em></code> <em class="lb">脚本的进程称为主进程。在主进程中运行的脚本可以通过创建网页来显示GUI。一个电子应用程序总是有一个主进程，但不会更多。</em></p><p id="c0aa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb">由于Electron使用Chromium来显示网页，所以也使用了Chromium的多进程架构。电子版中的每个网页都运行在自己的进程中，这个进程被称为渲染器进程。”</em></p><p id="e33d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">简而言之，<strong class="kf ir">你应用中的每个“屏幕”都将是一个不同的“渲染器”进程</strong>。<strong class="kf ir">这些进程将依赖于“主”进程(这将是唯一的)来创建GUI元素，如对话框或新屏幕</strong>。</p><p id="155c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，这可能是典型电子应用程序的结构:</p><figure class="ld le lf lg gt jr gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/2ad7769b1707d85268c2c136fb3e020a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1042/format:webp/1*WcdrcOFQ2C0p_oXHQ70ObQ.png"/></div></figure><p id="e038" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你不必现在就明白所有的事情。请记住<strong class="kf ir">根据您是处于“主”进程还是“呈现器”进程，您可能直接访问某些电子功能，或者需要通过其他进程调用它们</strong>(通过使用“ipc”或“远程”功能)。</p><blockquote class="lh li lj"><p id="a439" class="kd ke lb kf b kg kh ki kj kk kl km kn lk kp kq kr ll kt ku kv lm kx ky kz la ij bi translated">如果你很好奇，你可以在这里找到进一步的信息<a class="ae kc" href="https://github.com/electron/electron/blob/master/docs/tutorial/application-architecture.md#main-and-renderer-processes" rel="noopener ugc nofollow" target="_blank"/></p></blockquote><h1 id="8202" class="mw lo iq bd lp mx my mz ls na nb nc lv nd ne nf ly ng nh ni mb nj nk nl me nm bi translated">履行</h1><h2 id="ee82" class="ln lo iq bd lp lq lr dn ls lt lu dp lv ko lw lx ly ks lz ma mb kw mc md me mf bi translated">步骤0:在比特币基地创建一个API令牌</h2><ul class=""><li id="de92" class="mg mh iq kf b kg mi kk mj ko mk ks ml kw mm la mn mo mp mq bi translated">如果您仍然没有比特币基地帐户，您可以在此创建一个<a class="ae kc" href="https://www.coinbase.com/join/5a3127ca211b4e0160f76dd7" rel="noopener ugc nofollow" target="_blank"/></li><li id="e256" class="mg mh iq kf b kg mr kk ms ko mt ks mu kw mv la mn mo mp mq bi translated">进入“设置”→“API访问”→“+新API键。”</li><li id="ccf4" class="mg mh iq kf b kg mr kk ms ko mt ks mu kw mv la mn mo mp mq bi translated">填写模式对话框并点击“创建”请记住，我们不会使用所有这些权利，这只是为了在开发我们的应用程序时避免权限问题。<strong class="kf ir">对于生产类app，请不要使用这种方式。只选择你需要的。</strong></li></ul><figure class="ld le lf lg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nv"><img src="../Images/952b885f8b52a259480f366873187f12.png" data-original-src="https://miro.medium.com/v2/resize:fit:830/format:webp/1*w6LMIy5N9Nlq76eFLlhgGg.png"/></div></div></figure><ul class=""><li id="e1c0" class="mg mh iq kf b kg kh kk kl ko nw ks nx kw ny la mn mo mp mq bi translated">复制“ApiKey”和“ApiSecret”我们以后会需要它们。请妥善保管这些证件，不要张贴在任何地方！</li><li id="ee5b" class="mg mh iq kf b kg mr kk ms ko mt ks mu kw mv la mn mo mp mq bi translated">就是这样。不幸的是，出于安全考虑，比特币基地在最初的48小时内禁用了ApiKey。但是不要担心，这不是开发我们应用程序的障碍。</li></ul><h2 id="e16a" class="ln lo iq bd lp lq lr dn ls lt lu dp lv ko lw lx ly ks lz ma mb kw mc md me mf bi translated">步骤1:克隆“电子快速启动”存储库并安装电子</h2><pre class="ld le lf lg gt nz nt oa ob aw oc bi"><span id="117f" class="ln lo iq nt b gy od oe l of og">git clone <a class="ae kc" href="https://github.com/electron/electron-quick-start" rel="noopener ugc nofollow" target="_blank">https://github.com/electron/electron-quick-start</a><br/>cd electron-quick-start<br/>npm install</span></pre><h2 id="9326" class="ln lo iq bd lp lq lr dn ls lt lu dp lv ko lw lx ly ks lz ma mb kw mc md me mf bi translated">第二步:将项目重命名为“比特币客户端”</h2><pre class="ld le lf lg gt nz nt oa ob aw oc bi"><span id="ed8b" class="ln lo iq nt b gy od oe l of og">mv electron-quick-start bitcoin-client</span></pre><h2 id="db4e" class="ln lo iq bd lp lq lr dn ls lt lu dp lv ko lw lx ly ks lz ma mb kw mc md me mf bi translated">步骤3:准备项目的结构</h2><pre class="ld le lf lg gt nz nt oa ob aw oc bi"><span id="4813" class="ln lo iq nt b gy od oe l of og"># Create the assets folder<br/>mkdir bitcoin-client/assets</span><span id="e9f4" class="ln lo iq nt b gy oh oe l of og"># Create the css folder<br/>mkdir bitcoin-client/assets/css</span><span id="8cc7" class="ln lo iq nt b gy oh oe l of og"># Create the "utils.js" file, where we'll store utilities<br/>touch bitcoin-client/utils.js</span></pre><p id="793e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在你应该有这样的东西:</p><figure class="ld le lf lg gt jr gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/8dcd8ebbe31792a294606fc3c274ccd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*cVLntdPwkI6TRgMbrsMsAw.png"/></div></figure><h2 id="a527" class="ln lo iq bd lp lq lr dn ls lt lu dp lv ko lw lx ly ks lz ma mb kw mc md me mf bi translated">步骤4:添加Html代码</h2><p id="0c8f" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko nn kq kr ks no ku kv kw np ky kz la ij bi translated">打开文件“index.html”并添加以下代码:</p><figure class="ld le lf lg gt jr"><div class="bz fp l di"><div class="oj ok l"/></div></figure><p id="c2d2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如您所见，这是一个非常标准的HTML文件。这里没有什么是电子特有的。</p><h2 id="370c" class="ln lo iq bd lp lq lr dn ls lt lu dp lv ko lw lx ly ks lz ma mb kw mc md me mf bi translated">步骤5:添加一些样式</h2><p id="0a0f" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko nn kq kr ks no ku kv kw np ky kz la ij bi translated">我们的应用程序现在有一个框架，但它也非常丑陋。幸运的是，这很容易解决。在“assets/css”中创建一个“index.css”文件，并添加以下代码:</p><figure class="ld le lf lg gt jr"><div class="bz fp l di"><div class="oj ok l"/></div></figure><h2 id="0611" class="ln lo iq bd lp lq lr dn ls lt lu dp lv ko lw lx ly ks lz ma mb kw mc md me mf bi translated">步骤6:更改浏览器窗口大小</h2><p id="1cec" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko nn kq kr ks no ku kv kw np ky kz la ij bi translated">好多了，但是屏幕也不好看。对我们的内容来说太大了。现在转到“main.js”文件并替换:</p><pre class="ld le lf lg gt nz nt oa ob aw oc bi"><span id="757d" class="ln lo iq nt b gy od oe l of og">// Create the browser window.<br/>mainWindow = new BrowserWindow({width: 800, height: 600})</span></pre><p id="9a82" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">作者:</p><pre class="ld le lf lg gt nz nt oa ob aw oc bi"><span id="ddae" class="ln lo iq nt b gy od oe l of og">// Create the browser window.<br/>mainWindow = new BrowserWindow({ width: 450, height: 460 })</span></pre><h2 id="e1a0" class="ln lo iq bd lp lq lr dn ls lt lu dp lv ko lw lx ly ks lz ma mb kw mc md me mf bi translated">步骤7:安装“coin base”node . js库</h2><p id="b25a" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko nn kq kr ks no ku kv kw np ky kz la ij bi translated">转到我们应用程序的文件夹根目录并运行:</p><pre class="ld le lf lg gt nz nt oa ob aw oc bi"><span id="017e" class="ln lo iq nt b gy od oe l of og">npm install coinbase --save</span></pre><p id="e45b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这不仅会安装这个库，还会将它添加到“package.json”文件中的依赖项列表中。</p><h2 id="e253" class="ln lo iq bd lp lq lr dn ls lt lu dp lv ko lw lx ly ks lz ma mb kw mc md me mf bi translated">步骤8:将“coinbase”库添加到“renderer.js”文件中</h2><p id="7037" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko nn kq kr ks no ku kv kw np ky kz la ij bi translated">现在，转到“renderer.js”文件，在顶部添加以下代码:</p><figure class="ld le lf lg gt jr"><div class="bz fp l di"><div class="oj ok l"/></div></figure><p id="5a31" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可以把从比特币基地复制的“apiKey”和“apiSecret”放在这里。如果您在创建的前48小时内，并且该密钥仍然被禁用，请不要担心，您可以稍后添加它。</p><h2 id="6621" class="ln lo iq bd lp lq lr dn ls lt lu dp lv ko lw lx ly ks lz ma mb kw mc md me mf bi translated">步骤9:添加对HTML元素和一些变量的引用</h2><p id="e5bf" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko nn kq kr ks no ku kv kw np ky kz la ij bi translated">同样在“renderer.js”中，将此代码添加到我们在上一步中添加的代码行之后:</p><figure class="ld le lf lg gt jr"><div class="bz fp l di"><div class="oj ok l"/></div></figure><p id="7d7c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里<strong class="kf ir">我们为我们的HTML元素创建引用，这样我们可以附加事件并在稍后的</strong>使用它们。此外，<strong class="kf ir">我们定义了变量“useSandboxMode”，所以如果我们愿意(或者如果我们仍然在等待ApiKey被激活)，我们仍然可以使用带有虚假数据的应用程序</strong>。</p><p id="d9b0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">值得一提的是“流动货币”这个变量。在这里您需要设置您的比特币基地钱包</strong>的货币。因为我在欧洲，所以我用“欧元”如果你在“美国”，你可能想用“美元”在这里设置正确的货币对应用程序的运行至关重要，所以如果你不确定，去你的比特币基地账户仔细检查一下。</p><p id="566c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们定义“currentBalanceFiat”和“currentBalanceBtc”。它们将在“沙盒模式”中包含假数据(5000和3)，如果我们直接从比特币基地获取值，则为0。</p><h2 id="348e" class="ln lo iq bd lp lq lr dn ls lt lu dp lv ko lw lx ly ks lz ma mb kw mc md me mf bi translated">步骤10:让我们创建一些utils函数</h2><p id="aa95" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko nn kq kr ks no ku kv kw np ky kz la ij bi translated">现在，在我们为不同的按钮和输入创建事件之前，我们需要定义一些utils函数来帮助我们与比特币基地交互。</p><ul class=""><li id="6aff" class="mg mh iq kf b kg kh kk kl ko nw ks nx kw ny la mn mo mp mq bi translated">getHowManyBtcCanIBuy :该函数将根据我们愿意支付的金额(美元或欧元)返回我们将获得的比特币数量。如果“沙盒模式”处于活动状态，我们假设比特币的价格为9000欧元。</li><li id="fd57" class="mg mh iq kf b kg mr kk ms ko mt ks mu kw mv la mn mo mp mq bi translated"><strong class="kf ir">gettotalpriceofbtcament</strong>:该函数将根据我们愿意出售的比特币数量返回价格。如果“沙盒模式”处于活动状态，我们假设比特币的价格为9000欧元。</li><li id="7875" class="mg mh iq kf b kg mr kk ms ko mt ks mu kw mv la mn mo mp mq bi translated"><strong class="kf ir"> refreshRealData </strong>:这个函数会用直接从比特币基地提取的真实数据刷新GUI中的余额，所以我们总是知道我们账户的真实状态。当然，这只在“沙盒模式”为假的情况下才有效。</li></ul><p id="263a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">转到“utils.js”文件，添加以下几行:</p><figure class="ld le lf lg gt jr"><div class="bz fp l di"><div class="oj ok l"/></div></figure><h2 id="ecdd" class="ln lo iq bd lp lq lr dn ls lt lu dp lv ko lw lx ly ks lz ma mb kw mc md me mf bi translated">第十一步:我们来添加一些买卖比特币的事件！</h2><p id="4b77" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko nn kq kr ks no ku kv kw np ky kz la ij bi translated">太好了，我们快到了。可惜我们的App还是做不了多少。当我们点击按钮时，什么也没有发生。让我们解决这个问题。将以下代码添加到“renderer.js”文件的顶部</p><figure class="ld le lf lg gt jr"><div class="bz fp l di"><div class="oj ok l"/></div></figure><p id="197a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这将允许我们既使用来自Electron的一些对话框，又调用我们刚刚在utils.js文件中定义的函数。请注意我们如何使用“require(' electron '). remote .”That”。“远程”告诉Electron，我们希望在“主”进程中运行这些功能，而不是在当前的“呈现器”进程中。<strong class="kf ir">原因是只有“主”进程可以创建UI元素，比如对话框或新屏幕。</strong></p><p id="cc35" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，让我们添加允许我们购买比特币的事件！在“renderer.js”文件的底部添加以下代码:</p><figure class="ld le lf lg gt jr"><div class="bz fp l di"><div class="oj ok l"/></div></figure><blockquote class="lh li lj"><p id="6168" class="kd ke lb kf b kg kh ki kj kk kl km kn lk kp kq kr ll kt ku kv lm kx ky kz la ij bi translated">注意(2018年10月3日):截至今天，我在使用coinbase node.js库购买BTC时遇到了一些问题。我不否认这是由于我这边的一些不好的配置，但是其他人也有类似的<a class="ae kc" href="https://github.com/coinbase/coinbase-node/issues/106" rel="noopener ugc nofollow" target="_blank">问题</a>。一旦找到原因，我会更新教程。</p></blockquote><p id="c412" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如你所见，这很简单。根据我们是否使用“沙盒模式”,我们从比特币基地库中调用方法“购买”,或者我们简单地“假装”购买。我们还会在流程结束后“刷新”余额，这样我们就可以防止用我们不再拥有的钱购物。</p><p id="07ec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，出售比特币会是什么情况？。在前面的代码之后，添加以下几行:</p><figure class="ld le lf lg gt jr"><div class="bz fp l di"><div class="oj ok l"/></div></figure><p id="a12c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如你所看到的，它几乎与前一个相同，所以这里没有什么神秘的:)</p><h2 id="4abf" class="ln lo iq bd lp lq lr dn ls lt lu dp lv ko lw lx ly ks lz ma mb kw mc md me mf bi translated">第十二步:好看！但我很想知道我用自己的钱买了多少比特币</h2><p id="9609" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko nn kq kr ks no ku kv kw np ky kz la ij bi translated">我见过的几乎每个比特币客户端都有这个功能，所以我认为这将是我们应用程序的一个很好的补充。在selling方法后的“renderer.js”文件中添加以下代码:</p><figure class="ld le lf lg gt jr"><div class="bz fp l di"><div class="oj ok l"/></div></figure><p id="f770" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如我们所看到的，我们只是添加了两个新的事件，每当用户在各自的输入中键入内容时都会触发这两个事件。在这些事件中，我们将根据当前的比特币价格转换用户的输入，并显示其价值。例如:</p><p id="3c1c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">12个BTCs = 108000欧元</p><p id="8013" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">9000欧元= 1 BTC</p><p id="d690" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它看起来是这样的:</p><figure class="ld le lf lg gt jr gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/3c69e05315d6a29c4383cf0cd5a57e83.png" data-original-src="https://miro.medium.com/v2/resize:fit:844/format:webp/1*VhIqxeIZxc1302AdV_XzmA.png"/></div></figure><h2 id="8d9e" class="ln lo iq bd lp lq lr dn ls lt lu dp lv ko lw lx ly ks lz ma mb kw mc md me mf bi translated">步骤13:最后一次接触“renderer.js”文件</h2><p id="7972" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko nn kq kr ks no ku kv kw np ky kz la ij bi translated">最后，我们希望我们的图形用户界面不时刷新。这很重要，因为如果你在我们的应用程序之外的比特币基地进行一些交易，我们的余额将完全过时！。在“renderer.js”文件的底部，添加以下代码:</p><figure class="ld le lf lg gt jr"><div class="bz fp l di"><div class="oj ok l"/></div></figure><p id="7f78" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如我们所见，我们创建了一个间隔，每30秒执行一次。</p><h2 id="7ca3" class="ln lo iq bd lp lq lr dn ls lt lu dp lv ko lw lx ly ks lz ma mb kw mc md me mf bi translated">步骤14:使用自定义菜单</h2><p id="a851" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko nn kq kr ks no ku kv kw np ky kz la ij bi translated">现在应用程序看起来更好了。只剩下一件重要的事情。窗口的菜单。将此导入添加到“main.js”文件的顶部:</p><figure class="ld le lf lg gt jr"><div class="bz fp l di"><div class="oj ok l"/></div></figure><p id="9984" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，同样在“main.js”文件中，在变量之后，添加自定义菜单:</p><figure class="ld le lf lg gt jr"><div class="bz fp l di"><div class="oj ok l"/></div></figure><h2 id="9f5f" class="ln lo iq bd lp lq lr dn ls lt lu dp lv ko lw lx ly ks lz ma mb kw mc md me mf bi translated">第十五步:就这样！</h2><p id="39ca" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko nn kq kr ks no ku kv kw np ky kz la ij bi translated">最后，如果您运行:</p><pre class="ld le lf lg gt nz nt oa ob aw oc bi"><span id="69d8" class="ln lo iq nt b gy od oe l of og">npm start</span></pre><p id="1314" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您应该会看到一个功能齐全的比特币客户端:</p><figure class="ld le lf lg gt jr gh gi paragraph-image"><div class="gh gi lc"><img src="../Images/9728af9d9c14b90ab2544d6797b41a49.png" data-original-src="https://miro.medium.com/v2/resize:fit:866/format:webp/1*gIn-TPLtYUUAcH3_qBBm8A.png"/></div></figure><p id="cbd6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们刚刚创建的菜单呢？</p><figure class="ld le lf lg gt jr gh gi paragraph-image"><div class="gh gi om"><img src="../Images/8165002479e48c4a1c2130c533029e50.png" data-original-src="https://miro.medium.com/v2/resize:fit:870/format:webp/1*bdRP6owg_ZQeopPeqFtBow.png"/></div></figure><p id="8e18" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">很简单，但是现在我们知道如何定制它了！</p><h2 id="9f2f" class="ln lo iq bd lp lq lr dn ls lt lu dp lv ko lw lx ly ks lz ma mb kw mc md me mf bi translated">步骤16:让我们更改“package.json”文件</h2><p id="fb7f" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko nn kq kr ks no ku kv kw np ky kz la ij bi translated">更改“package.json”文件是有意义的，这样我们就可以指定正确的“名称”、“关键字”等等。不要忘记改变“作者”的名字，现在是你的应用！</p><figure class="ld le lf lg gt jr"><div class="bz fp l di"><div class="oj ok l"/></div></figure><h2 id="fc30" class="ln lo iq bd lp lq lr dn ls lt lu dp lv ko lw lx ly ks lz ma mb kw mc md me mf bi translated">步骤17:创建可执行文件</h2><p id="aabf" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko nn kq kr ks no ku kv kw np ky kz la ij bi translated">至于最后一步，我们需要生成可执行文件，以便在所需的操作系统中分发我们的应用程序。幸运的是，电子使这个过程变得非常简单。</p><ul class=""><li id="ae56" class="mg mh iq kf b kg kh kk kl ko nw ks nx kw ny la mn mo mp mq bi translated">安装<code class="fe nq nr ns nt b">npm install electron-packager -g</code></li><li id="39f9" class="mg mh iq kf b kg mr kk ms ko mt ks mu kw mv la mn mo mp mq bi translated">将所需的“脚本”命令添加到<code class="fe nq nr ns nt b">package.json:</code></li></ul><figure class="ld le lf lg gt jr"><div class="bz fp l di"><div class="oj ok l"/></div></figure><ul class=""><li id="368c" class="mg mh iq kf b kg kh kk kl ko nw ks nx kw ny la mn mo mp mq bi translated">在资产中创建一个“图标”文件夹，并为每个操作系统创建以下“子文件夹”:</li></ul><figure class="ld le lf lg gt jr gh gi paragraph-image"><div class="gh gi on"><img src="../Images/e09644436e1f579094fd02a948fae88a.png" data-original-src="https://miro.medium.com/v2/resize:fit:954/format:webp/1*asHBHeSSgl_U4QVvyJk4Ig.png"/></div></figure><ul class=""><li id="599e" class="mg mh iq kf b kg kh kk kl ko nw ks nx kw ny la mn mo mp mq bi translated">为每个操作系统下载这些图标并保存到正确的文件夹:<a class="ae kc" href="https://raw.githubusercontent.com/javidgon/bitcoin-client/master/assets/icons/win/icon.ico" rel="noopener ugc nofollow" target="_blank"> Windows </a>、<a class="ae kc" href="https://raw.githubusercontent.com/javidgon/bitcoin-client/master/assets/icons/linux/icon.png" rel="noopener ugc nofollow" target="_blank"> Linux </a>、<a class="ae kc" href="https://github.com/javidgon/bitcoin-client/blob/master/assets/icons/mac/icon.icns?raw=true" rel="noopener ugc nofollow" target="_blank"> MacO </a> S</li><li id="3f44" class="mg mh iq kf b kg mr kk ms ko mt ks mu kw mv la mn mo mp mq bi translated">现在，根据您的操作系统，您可以简单地运行:</li></ul><p id="f841" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe nq nr ns nt b">npm run package-mac</code></p><p id="a73e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe nq nr ns nt b">npm run package-win</code></p><p id="83e7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe nq nr ns nt b">npm run package-linux</code></p><ul class=""><li id="2262" class="mg mh iq kf b kg kh kk kl ko nw ks nx kw ny la mn mo mp mq bi translated">这将生成一个名为“release-builds”的文件夹，其中包含您的可执行文件！</li></ul><h2 id="ac93" class="ln lo iq bd lp lq lr dn ls lt lu dp lv ko lw lx ly ks lz ma mb kw mc md me mf bi translated">第十八步:最后的话</h2><p id="4a88" class="pw-post-body-paragraph kd ke iq kf b kg mi ki kj kk mj km kn ko nn kq kr ks no ku kv kw np ky kz la ij bi translated">仅此而已！。当您的API密钥被激活时，您将能够使用比特币基地来购买/出售比特币，只需将“useSandboxMode”设置为“true”，并将凭据添加到“renderer.js”文件中。</p><p id="490b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如我们在开始时所说的，本教程的主要目的是教授如何用electronic开发桌面应用程序。所以，<strong class="kf ir">我不建议用这个客户端每日交易真实的比特币</strong>。原因是这个应用程序在“生产就绪”之前需要严格的测试和更好的输入验证</p><p id="7098" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，如果你喜欢冒险，你当然可以尝试调整和测试它，看看它是否适合你，但这总是在你自己的风险:)</p><p id="80a8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">感谢您遵循本指南！祝您愉快！</p></div></div>    
</body>
</html>