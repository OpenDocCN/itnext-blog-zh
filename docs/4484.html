<html>
<head>
<title>Upload image to AWS S3 made simple — Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将图像上传到S3 AWS变得简单——Flutter</h1>
<blockquote>原文：<a href="https://itnext.io/upload-image-to-aws-s3-made-simple-flutter-fd3356b5b5bb?source=collection_archive---------0-----------------------#2020-07-10">https://itnext.io/upload-image-to-aws-s3-made-simple-flutter-fd3356b5b5bb?source=collection_archive---------0-----------------------#2020-07-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="6684" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">欢迎光临！今天我们将学习上传图像到S3自动气象站</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/49092cb930bb51b374ac1a67bae4a1a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ct1riWuzAilgvv3AB1ysAA.png"/></div></div></figure><p id="846b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">也可以在<a class="ae kx" href="https://www.instagram.com/theboringdeveloper/" rel="noopener ugc nofollow" target="_blank"> Instagram </a>上和我联系。你可以告诉我你想了解什么。</p><blockquote class="ky"><p id="ee5a" class="kz la iq bd lb lc ld le lf lg lh kk dk translated">这将有助于你作为一个模板，然后你可以根据自己的需要改进用户界面和UX</p><p id="1cff" class="kz la iq bd lb lc ld le lf lg lh kk dk translated">不要害怕文章的长度，大部分都是代码，你只需要复制和粘贴</p></blockquote><p id="7541" class="pw-post-body-paragraph jn jo iq jp b jq li js jt ju lj jw jx jy lk ka kb kc ll ke kf kg lm ki kj kk ij bi translated"><strong class="jp ir">如果你在寻找深入的解释- </strong></p><div class="ln lo gp gr lp lq"><a href="https://medium.com/swlh/uploading-images-to-s3-flutter-part-1-92c52ce62432" rel="noopener follow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">使用Flutter将图像上传到S3自动气象站—第1部分</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">欢迎来到上传图片到S3的教程-第一部分</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">medium.com</p></div></div><div class="lz l"><div class="ma l mb mc md lz me kv lq"/></div></div></a></div><div class="ln lo gp gr lp lq"><a href="https://levelup.gitconnected.com/uploading-images-to-s3-flutter-part-2-6a6fb000ba7b" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">使用Flutter将图像上传到S3自动气象站—第2部分</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">欢迎来到上传图片到S3的教程-第二部分</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="lz l"><div class="ma l mb mc md lz me kv lq"/></div></div></a></div><h1 id="e42c" class="mf mg iq bd mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc bi translated">让我们从看到我们的最终目标开始</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/19687272331ea6878123c7d5d6b8cb35.png" data-original-src="https://miro.medium.com/v2/resize:fit:784/1*GWNkmQlgtA5ORfmgVM7ysg.gif"/></div></figure><p id="7dcb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">会发生什么？</strong></p><ul class=""><li id="90cb" class="ne nf iq jp b jq jr ju jv jy ng kc nh kg ni kk nj nk nl nm bi translated">当我们点击选择图像按钮时，会显示从<em class="nn">相机</em>或<em class="nn">图库</em>中选择图像的选项</li><li id="4feb" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk nj nk nl nm bi translated">如果用户点击<em class="nn">相机</em>或<em class="nn">图库</em>，那么我们会请求相应的许可。</li><li id="8562" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk nj nk nl nm bi translated">如果用户拒绝权限，我们无法显示<em class="nn">内置的</em>权限对话框，那么我们会显示一个自定义对话框来打开应用程序设置并授予权限。</li><li id="4aab" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk nj nk nl nm bi translated"><strong class="jp ir">在android- </strong>如果用户选择不再询问并拒绝，那么我们无法显示<em class="nn">内置的</em>权限对话框，但为了提供良好的UX，我们将允许用户直接从应用打开应用设置。</li><li id="1314" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk nj nk nl nm bi translated"><strong class="jp ir">在IOS- </strong>中，如果你<em class="nn">第一次不允许</em>权限，那么我们就无法显示<em class="nn">内置的</em>权限对话框，所以我们显示打开应用设置的选项。</li></ul><h2 id="7170" class="nt mg iq bd mh nu nv dn ml nw nx dp mp jy ny nz mt kc oa ob mx kg oc od nb oe bi translated">让我们开始建造吧</h2><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="89a1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">先决条件:</strong></p><ol class=""><li id="a7ab" class="ne nf iq jp b jq jr ju jv jy ng kc nh kg ni kk oh nk nl nm bi translated">AWS S3的公共存储桶</li><li id="6d26" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk oh nk nl nm bi translated">能够访问AWS S3存储桶的访问令牌和秘密令牌</li></ol><h1 id="a58b" class="mf mg iq bd mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc bi translated">要创建公共存储桶:</h1><p id="dadb" class="pw-post-body-paragraph jn jo iq jp b jq oi js jt ju oj jw jx jy ok ka kb kc ol ke kf kg om ki kj kk ij bi translated"><strong class="jp ir">步骤1: </strong>在AWS上登录或创建帐户</p><p id="5dd5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">第2步:</strong>转到AWS S3服务部</p><p id="9f6e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">步骤3: </strong>根据用户的地理位置创建一个具有公共访问权限和区域的存储桶</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi on"><img src="../Images/f953b115f6c6d443add4d657d5cec26c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1CMyMknSQnfj9w1X.png"/></div></div></figure><h1 id="0d25" class="mf mg iq bd mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc bi translated">要创建/获取访问令牌和机密令牌，请执行以下操作:</h1><p id="c281" class="pw-post-body-paragraph jn jo iq jp b jq oi js jt ju oj jw jx jy ok ka kb kc ol ke kf kg om ki kj kk ij bi translated"><strong class="jp ir">第一步:</strong>进入<a class="ae kx" href="https://console.aws.amazon.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">亚马逊网络服务</strong> </a>控制台，点击你的账户名称(位于控制台右上角)。然后，在展开的下拉列表中，选择<strong class="jp ir">安全凭证</strong>。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/37984006e2496a0dd394ec8529704a88.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/format:webp/0*qrWB1WeBQQ8y2y_q.png"/></div></figure><p id="916c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">步骤2: </strong>展开<strong class="jp ir">访问密钥(访问密钥ID和秘密访问密钥)</strong>选项。您将看到激活的和删除的访问键列表。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi op"><img src="../Images/f73759f15acafcb21597e66d5a40be92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gUZYWrq7mzrrqBt5.png"/></div></div></figure><p id="67e2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">第三步:</strong>生成新的访问键，点击<strong class="jp ir">创建新的访问键</strong>按钮。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi oq"><img src="../Images/83222336b8acf123789e13465a2a3fb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ORiLaPy936-mqYO9.png"/></div></div></figure><p id="46be" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">步骤4: </strong>点击<strong class="jp ir">显示访问键</strong>使其显示在屏幕上。请注意，您可以将其作为文件下载到您的机器上，并在需要时打开它。要下载它，只需点击<strong class="jp ir">下载密钥文件</strong>按钮。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi or"><img src="../Images/637918bbdfc6cb8f85f8e650ecc07e44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/0*oG0KnsYmTwNxZauQ.png"/></div></figure><p id="4257" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">重要提示:</strong>如果您在按下“关闭”或“取消”之前没有将密钥文件下载到您的电脑上，您以后将无法取回密钥。</p><p id="f28d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们已经具备了所有的先决条件，让我们开始上传吧。</p><p id="42d3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">后端将使用什么？</strong></p><blockquote class="os ot ou"><p id="a457" class="jn jo nn jp b jq jr js jt ju jv jw jx ov jz ka kb ow kd ke kf ox kh ki kj kk ij bi translated"><em class="iq">带有express framework的NodeJs服务器</em></p></blockquote><p id="20e2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">我们如何上传图片？</strong></p><ol class=""><li id="7974" class="ne nf iq jp b jq jr ju jv jy ng kc nh kg ni kk oh nk nl nm bi translated">请求我们的NodeJs服务器给我们一个<strong class="jp ir">下载和上传Url。</strong></li><li id="1597" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk oh nk nl nm bi translated">然后将图片上传到<strong class="jp ir">上传网址。</strong></li><li id="6ceb" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk oh nk nl nm bi translated">保存<strong class="jp ir">下载</strong> <strong class="jp ir">网址</strong>在某处</li></ol><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="oy og l"/></div></figure><p id="cb8d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">让我们先准备好服务器</strong></p><div class="ln lo gp gr lp lq"><a href="https://github.com/GursheeshSingh/flutter-aws-s3-upload" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">GursheeshSingh/flutter-AWS-S3-上传</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">在GitHub上创建一个帐户，为GursheeshSingh/flutter-AWS-S3-upload开发做出贡献。</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">github.com</p></div></div><div class="lz l"><div class="oz l mb mc md lz me kv lq"/></div></div></a></div><blockquote class="ky"><p id="ddf1" class="kz la iq bd lb lc pa pb pc pd pe kk dk translated">已经给你准备好了:)</p></blockquote><p id="3004" class="pw-post-body-paragraph jn jo iq jp b jq li js jt ju lj jw jx jy lk ka kb kc ll ke kf kg lm ki kj kk ij bi translated">你需要做什么？</p><ol class=""><li id="61bc" class="ne nf iq jp b jq jr ju jv jy ng kc nh kg ni kk oh nk nl nm bi translated">下载存储库</li><li id="ae1c" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk oh nk nl nm bi translated">更新<strong class="jp ir"><em class="nn">config-AWS . js</em>T38】</strong></li><li id="cafc" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk oh nk nl nm bi translated">在终端中打开存储库</li><li id="3a4c" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk oh nk nl nm bi translated">使用<strong class="jp ir"> <em class="nn"> npm安装</em> </strong>安装节点包</li><li id="5858" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk oh nk nl nm bi translated">运行服务器使用<strong class="jp ir"> <em class="nn"> npm启动</em> </strong></li></ol><h2 id="872d" class="nt mg iq bd mh nu nv dn ml nw nx dp mp jy ny nz mt kc oa ob mx kg oc od nb oe bi translated">现在服务器已经准备好并正在运行</h2><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="pf og l"/></div></figure><h2 id="1aa4" class="nt mg iq bd mh nu nv dn ml nw nx dp mp jy ny nz mt kc oa ob mx kg oc od nb oe bi translated">将包添加到pubspec.yaml</h2><div class="ln lo gp gr lp lq"><a href="https://pub.dev/packages/image_picker#-readme-tab-" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">图像拾取器| Flutter包</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">一个适用于iOS和Android的Flutter插件，用于从图像库中拾取图像，并使用…</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">公共开发</p></div></div><div class="lz l"><div class="pg l mb mc md lz me kv lq"/></div></div></a></div><div class="ln lo gp gr lp lq"><a href="https://pub.dev/packages/permission_handler" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">权限处理程序| Flutter包</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">在大多数操作系统上，权限不仅仅是在安装时授予应用程序的。相反，开发人员必须问…</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">公共开发</p></div></div><div class="lz l"><div class="ph l mb mc md lz me kv lq"/></div></div></a></div><div class="ln lo gp gr lp lq"><a href="https://pub.dev/packages/flutter_icons" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">颤振_图标|颤振包</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">受react-native-vector-Icons v 1 . 0 . 0的启发，Flutter的可定制图标有重大的Api变化…</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">公共开发</p></div></div><div class="lz l"><div class="pi l mb mc md lz me kv lq"/></div></div></a></div><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi pj"><img src="../Images/da9a3a9013409ed09a044135c7de2e4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mrkQrD_nhXCWvMkE-Wss8Q.png"/></div></div></figure><h1 id="c5ed" class="mf mg iq bd mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc bi translated">ios</h1><p id="ce9f" class="pw-post-body-paragraph jn jo iq jp b jq oi js jt ju oj jw jx jy ok ka kb kc ol ke kf kg om ki kj kk ij bi translated">将以下键添加到位于<code class="fe pk pl pm pn b">&lt;project root&gt;/ios/Runner/Info.plist</code>的<em class="nn"> Info.plist </em>文件中:</p><ul class=""><li id="94c3" class="ne nf iq jp b jq jr ju jv jy ng kc nh kg ni kk nj nk nl nm bi translated"><code class="fe pk pl pm pn b">NSPhotoLibraryUsageDescription</code> -描述你的应用需要照片库权限的原因。这在可视编辑器中被称为<em class="nn">隐私照片库使用说明</em>。</li><li id="de83" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk nj nk nl nm bi translated"><code class="fe pk pl pm pn b">NSCameraUsageDescription</code> -描述为什么你的应用需要访问摄像头。这在可视编辑器中被称为<em class="nn">隐私摄像机使用说明</em>。</li><li id="b3ef" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk nj nk nl nm bi translated"><code class="fe pk pl pm pn b">NSMicrophoneUsageDescription</code> -描述如果您打算录制视频，为什么您的应用程序需要使用麦克风。在可视编辑器中，这被称为<em class="nn">隐私麦克风使用描述</em>。</li></ul><h1 id="0886" class="mf mg iq bd mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc bi translated">机器人</h1><h2 id="4e1d" class="nt mg iq bd mh nu nv dn ml nw nx dp mp jy ny nz mt kc oa ob mx kg oc od nb oe bi translated">API 29以上</h2><p id="2e0c" class="pw-post-body-paragraph jn jo iq jp b jq oi js jt ju oj jw jx jy ok ka kb kc ol ke kf kg om ki kj kk ij bi translated">不需要配置——插件应该开箱即用。</p><h2 id="41b7" class="nt mg iq bd mh nu nv dn ml nw nx dp mp jy ny nz mt kc oa ob mx kg oc od nb oe bi translated">在针对Android Q的应用上，API &lt; 29</h2><p id="1b87" class="pw-post-body-paragraph jn jo iq jp b jq oi js jt ju oj jw jx jy ok ka kb kc ol ke kf kg om ki kj kk ij bi translated">Add  【T1】  as an attribute to the  【T2】  tag in AndroidManifest.xml. The <a class="ae kx" href="https://developer.android.com/training/data-storage/compatibility" rel="noopener ugc nofollow" target="_blank">属性</a>默认为<code class="fe pk pl pm pn b">false</code>。</p><h2 id="7e5d" class="nt mg iq bd mh nu nv dn ml nw nx dp mp jy ny nz mt kc oa ob mx kg oc od nb oe bi translated">现在你需要复制并粘贴一些文件</h2><p id="3c91" class="pw-post-body-paragraph jn jo iq jp b jq oi js jt ju oj jw jx jy ok ka kb kc ol ke kf kg om ki kj kk ij bi translated"><strong class="jp ir"> <em class="nn"> GenerateImageUrl类- </em> </strong></p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="oy og l"/></div></figure><p id="ee6a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">目的？</strong></p><ul class=""><li id="9de4" class="ne nf iq jp b jq jr ju jv jy ng kc nh kg ni kk nj nk nl nm bi translated">用于调用本地NodeJs服务器生成上传图片的url</li></ul><p id="676d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="nn">上传文件类- </em></p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="oy og l"/></div></figure><p id="9dc9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">目的？</strong></p><ul class=""><li id="1dc3" class="ne nf iq jp b jq jr ju jv jy ng kc nh kg ni kk nj nk nl nm bi translated">将给定图像上传到上传url</li></ul><p id="7e8a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"><em class="nn">AddAttachmentModalSheet小部件- </em> </strong></p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="oy og l"/></div></figure><p id="407a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">目的？</strong></p><ul class=""><li id="14ec" class="ne nf iq jp b jq jr ju jv jy ng kc nh kg ni kk nj nk nl nm bi translated">这是一个模态表单小部件，显示了从相机或图库中选择图像的选项</li></ul><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi po"><img src="../Images/340f4c202e6680a0817338766983cafd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MnPQkakZLRM5bK3wgmAo5w.png"/></div></div></figure><blockquote class="os ot ou"><p id="59e0" class="jn jo nn jp b jq jr js jt ju jv jw jx ov jz ka kb ow kd ke kf ox kh ki kj kk ij bi translated">目前我们有相机和画廊作为选项，但你可以添加更多的选项</p></blockquote><p id="8654" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="nn"> CustomDialog类- </em> </strong></p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="oy og l"/></div></figure><p id="7e80" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">目的？</strong></p><ul class=""><li id="10fc" class="ne nf iq jp b jq jr ju jv jy ng kc nh kg ni kk nj nk nl nm bi translated">要显示特定于平台对话框</li><li id="7fb7" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk nj nk nl nm bi translated">为了给人原生的感觉，IOS和Android显示了不同风格的对话框</li></ul><blockquote class="ky"><p id="76f6" class="kz la iq bd lb lc pa pb pc pd pe kk dk translated">您也可以在其他项目中使用该类:)</p></blockquote><p id="c74d" class="pw-post-body-paragraph jn jo iq jp b jq li js jt ju lj jw jx jy lk ka kb kc ll ke kf kg lm ki kj kk ij bi translated"><strong class="jp ir"> <em class="nn"> GetImagePermission类- </em> </strong></p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="oy og l"/></div></figure><p id="5da6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">目的？</strong></p><ul class=""><li id="82d1" class="ne nf iq jp b jq jr ju jv jy ng kc nh kg ni kk nj nk nl nm bi translated">这将处理相机和画廊的权限</li></ul><blockquote class="os ot ou"><p id="1dd6" class="jn jo nn jp b jq jr js jt ju jv jw jx ov jz ka kb ow kd ke kf ox kh ki kj kk ij bi translated">这个类的另一个很酷的地方是，对于大多数权限来说，流是可重用的，这意味着您也可以将相同的流用于位置或其他权限</p></blockquote><p id="a551" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="nn"> SingleImagePicker类- </em> </strong></p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="oy og l"/></div></figure><p id="bc10" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">目的？</strong></p><ul class=""><li id="da88" class="ne nf iq jp b jq jr ju jv jy ng kc nh kg ni kk nj nk nl nm bi translated">这是处理主逻辑的主类</li><li id="c290" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk nj nk nl nm bi translated">它使用了上面所有的类和小部件</li><li id="3fd6" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk nj nk nl nm bi translated">您将使用这个类来调用图像拾取器</li></ul><p id="13aa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="nn">单图像拾取器</em> <em class="nn">参数</em> - </strong></p><ul class=""><li id="5bad" class="ne nf iq jp b jq jr ju jv jy ng kc nh kg ni kk nj nk nl nm bi translated"><em class="nn"> PickImageSource- </em>可以有3个值:<em class="nn"> PickImageSource.both，PickImageSource.camera或PickImageSource.gallery </em></li><li id="7f90" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk nj nk nl nm bi translated"><em class="nn"> onImagePicked- </em>当用户用路径拾取图像时调用回调</li><li id="fd1c" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk nj nk nl nm bi translated"><em class="nn"> onSaveImage </em> -当图像成功上传到上传url时调用回调，现在您可以将url保存到类似数据库的地方。如果保存到数据库成功，返回真，否则返回假</li><li id="f936" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk nj nk nl nm bi translated"><em class="nn">onImageSuccessfullySaved</em>-当图像成功保存到数据库并且您在<em class="nn"> onSaveImage </em>中返回true时调用回调</li><li id="feb3" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk nj nk nl nm bi translated"><em class="nn">onImageUploadFailed</em>——当image无法将图像保存到数据库，并且您返回false或在<em class="nn"> onSaveImage中出现一些错误时调用回调。</em></li></ul><p id="f7fe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">注意:</strong>你只需要使用<em class="nn"> SingleImagePicker类</em>来调用图像拾取器</p><h2 id="96dc" class="nt mg iq bd mh nu nv dn ml nw nx dp mp jy ny nz mt kc oa ob mx kg oc od nb oe bi translated">让我们创建主屏幕</h2><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="oy og l"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/ddcc525d2899174aaf2ff6b880169f4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:492/format:webp/1*4Fu7WvYNoJDQ5L6UCPkfzA.png"/></div></figure><p id="30ca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">我们做了什么？</strong></p><ul class=""><li id="6278" class="ne nf iq jp b jq jr ju jv jy ng kc nh kg ni kk nj nk nl nm bi translated">我们创建了一个带有按钮的基本屏幕</li><li id="e057" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk nj nk nl nm bi translated">如果光源<em class="nn"> </em>是<em class="nn">资产</em>，我们将使用<em class="nn"> Image.asset() </em>显示来自源的图像</li><li id="c621" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk nj nk nl nm bi translated">如果图片来源是<em class="nn">网络</em>，我们将使用<em class="nn"> Image.network() </em>显示图片来源</li><li id="582f" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk nj nk nl nm bi translated"><em class="nn">源</em>将用于存储图像本地路径或下载url</li><li id="d074" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk nj nk nl nm bi translated">如果<em class="nn"> </em>正在加载<em class="nn"/>，我们会显示一个进度条</li><li id="661b" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk nj nk nl nm bi translated">如果图像状态是<em class="nn">错误</em>，我们将显示一个错误图标</li></ul><blockquote class="os ot ou"><p id="8220" class="jn jo nn jp b jq jr js jt ju jv jw jx ov jz ka kb ow kd ke kf ox kh ki kj kk ij bi translated">我们将在SingleImagePicker的回调中更新光源、源或图像状态</p></blockquote><p id="5f3b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我告诉你怎么做</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi pq"><img src="../Images/2e48d553885b59508d714dcd90e1cacc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i1JdSk-SKDnJO_RlD7PlJQ.png"/></div></div></figure><p id="1418" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们该怎么办？</p><ul class=""><li id="48da" class="ne nf iq jp b jq jr ju jv jy ng kc nh kg ni kk nj nk nl nm bi translated">当用户点击按钮时，我们打开图像拾取器</li><li id="7f3f" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk nj nk nl nm bi translated">当用户成功拾取图像时，调用<em class="nn"> onImagePicked </em>，然后我们将光源更改为<em class="nn">资产</em>并更新源</li><li id="5e80" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk nj nk nl nm bi translated">当选择的图像成功上传后，调用<em class="nn"> onSaveImage </em>，然后我们将图像url保存到数据库</li><li id="4cfc" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk nj nk nl nm bi translated">当保存url到数据库成功时，我们将返回true，如果失败，则在<em class="nn"> onSaveImage </em>中返回false</li><li id="9a32" class="ne nf iq jp b jq no ju np jy nq kc nr kg ns kk nj nk nl nm bi translated">如果保存到数据库失败，我们返回false，则调用<em class="nn">onImageUploadFailed</em></li></ul><h2 id="ed4e" class="nt mg iq bd mh nu nv dn ml nw nx dp mp jy ny nz mt kc oa ob mx kg oc od nb oe bi translated">让我们看看如果保存到数据库失败会发生什么</h2><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi pr"><img src="../Images/db95d476f88ac1be54048f9aa0e9f4a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/1*-HB4U5QlgkllptxDUMnlbA.gif"/></div></figure><p id="f7c5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">正如你所看到的，你所要做的就是使用<em class="nn"> SingleImagePicker </em>类</p><blockquote class="ky"><p id="8a03" class="kz la iq bd lb lc ld le lf lg lh kk dk translated">完成了:)</p></blockquote><figure class="ps pt pu pv pw kq"><div class="bz fp l di"><div class="px og l"/></div></figure><p id="5b54" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">点击这里查看完整的项目-</p><div class="ln lo gp gr lp lq"><a href="https://github.com/GursheeshSingh/flutter_aws_s3_image_picker-master" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">GursheeshSingh/flutter _ AWS _ S3 _ image _ picker-master</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">新的颤振应用。这个项目是颤振应用的起点。一些资源让你…</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">github.com</p></div></div><div class="lz l"><div class="py l mb mc md lz me kv lq"/></div></div></a></div><h1 id="f316" class="mf mg iq bd mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc bi translated">更多flutter spinner博客</h1><div class="ln lo gp gr lp lq"><a rel="noopener  ugc nofollow" target="_blank" href="/input-formatting-flutter-5237bf09e61f"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">输入格式—颤动</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">欢迎光临！今天我们将学习在Flutter中添加输入格式</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">itnext.io</p></div></div><div class="lz l"><div class="pz l mb mc md lz me kv lq"/></div></div></a></div><div class="ln lo gp gr lp lq"><a href="https://medium.com/swlh/live-templates-flutter-6e48683e14e0" rel="noopener follow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">实时模板— Flutter</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">欢迎光临！今天我们将学习flutter的实时模板。</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">medium.com</p></div></div><div class="lz l"><div class="qa l mb mc md lz me kv lq"/></div></div></a></div><div class="ln lo gp gr lp lq"><a href="https://levelup.gitconnected.com/instagram-stories-swiper-flutter-bb53f9377431" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">Instagram stories swiper — Flutter</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">欢迎使用本教程创建像swiper一样的instagram故事！</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="lz l"><div class="ma l mb mc md lz me kv lq"/></div></div></a></div><div class="ln lo gp gr lp lq"><a href="https://medium.com/swlh/update-app-flutter-402c528235e4" rel="noopener follow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">更新应用程序— Flutter</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">欢迎来到本教程，为你的flutter应用程序添加更新应用程序</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">medium.com</p></div></div><div class="lz l"><div class="qb l mb mc md lz me kv lq"/></div></div></a></div><div class="ln lo gp gr lp lq"><a href="https://levelup.gitconnected.com/credit-card-slider-flutter-1edec451103a" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">信用卡滑块—颤动</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">欢迎来到本教程，创建一个可怕的信用卡滑块。</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="lz l"><div class="qc l mb mc md lz me kv lq"/></div></div></a></div><div class="ln lo gp gr lp lq"><a href="https://medium.com/dev-genius/credit-card-slider-made-easy-flutter-6c0473d0e8bb" rel="noopener follow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">信用卡滑块变得简单——颤动</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">欢迎光临！今天我们将学习如何用简单的方法创建一个令人敬畏的信用卡滑块。</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">medium.com</p></div></div><div class="lz l"><div class="qa l mb mc md lz me kv lq"/></div></div></a></div><div class="ln lo gp gr lp lq"><a href="https://medium.com/swlh/common-bottom-navigation-bar-made-easy-flutter-199c9f683b29" rel="noopener follow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">简单易用的通用底部导航栏——Flutter</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">欢迎来到本教程，在Flutter中创建一个普通的底部导航栏。</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">medium.com</p></div></div><div class="lz l"><div class="qd l mb mc md lz me kv lq"/></div></div></a></div></div></div>    
</body>
</html>