<html>
<head>
<title>Showing URL Preview in Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Flutter中显示URL预览</h1>
<blockquote>原文：<a href="https://itnext.io/showing-url-preview-in-flutter-a3ad4ff9927e?source=collection_archive---------4-----------------------#2020-07-27">https://itnext.io/showing-url-preview-in-flutter-a3ad4ff9927e?source=collection_archive---------4-----------------------#2020-07-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="394f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当你在聊天信息中添加链接或在社交网络如Whatsapp、脸书、Twitter、LinkedIn上分享时；您会看到一个小的可视预览和链接的简短描述。这主要包括标题、描述、图片和网站名称。这给了我们一个简短的总结，告诉我们可以从这个URL中得到什么。</p></div><div class="ab cl kl km hu kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="ij ik il im in"><p id="d6c8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">URL预览基本上基于<a class="ae ks" href="https://www.ogp.me/" rel="noopener ugc nofollow" target="_blank">开放图协议</a>工作。网站的html中有这些&lt; meta &gt;标签，这些标签具有特殊的属性，如<strong class="jp ir">‘og:title’，‘og:description’，‘og:image’</strong>。这些用于显示URL预览。</p></div><div class="ab cl kl km hu kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="ij ik il im in"><p id="d1b7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了在Flutter的应用程序中拥有相同的功能，我创建了这个简单易用的<a class="ae ks" href="https://pub.dev/packages/simple_url_preview" rel="noopener ugc nofollow" target="_blank">simpleurlrpreview</a>包。</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div class="gh gi kt"><img src="../Images/3657ba6c6c07e2340399e914851d4c32.png" data-original-src="https://miro.medium.com/v2/resize:fit:678/format:webp/1*qK8OnaoIvQc05EwXNQc_Bg.png"/></div><figcaption class="lb lc gj gh gi ld le bd b be z dk translated">URL预览</figcaption></figure></div><div class="ab cl kl km hu kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="ij ik il im in"><ul class=""><li id="1825" class="lf lg iq jp b jq jr ju jv jy lh kc li kg lj kk lk ll lm ln bi translated">要使用这个包，您只需将这个包添加到您的<strong class="jp ir"> pubspec.yaml </strong>依赖项中。</li></ul><pre class="ku kv kw kx gt lo lp lq lr aw ls bi"><span id="3c93" class="lt lu iq lp b gy lv lw l lx ly">dependencies:<br/>  ...<br/>  simple_url_preview: ^3.0.1</span></pre><ul class=""><li id="eb7b" class="lf lg iq jp b jq jr ju jv jy lh kc li kg lj kk lk ll lm ln bi translated">然后在部件树中使用该部件:</li></ul><pre class="ku kv kw kx gt lo lp lq lr aw ls bi"><span id="ebbf" class="lt lu iq lp b gy lv lw l lx ly">SimpleUrlPreview(<br/>  url: 'https://github.com/Amitbhave',<br/>  bgColor: Colors.<em class="lz">red</em>,<br/>  isClosable: <strong class="lp ir">true</strong>,<br/>  previewHeight: 200,<br/>  previewContainerPadding: EdgeInsets.all(10),<br/>  titleLines: 1,<br/>  descriptionLines: 2,<br/>  titleStyle: TextStyle(<br/>    fontSize: 16,<br/>    fontWeight: FontWeight.bold,<br/>    color: Colors.blue,<br/>  ),<br/>  descriptionStyle: TextStyle(<br/>    fontSize: 14,<br/>    color: Theme.of(context).primaryColor,<br/>  ),<br/>  siteNameStyle: TextStyle(<br/>    fontSize: 14,<br/>    color: Theme.of(context).primaryColor,<br/>  ),<br/>  onTap: () =&gt; print('Hello Flutter URL Preview'),<br/>),</span></pre><ul class=""><li id="c37c" class="lf lg iq jp b jq jr ju jv jy lh kc li kg lj kk lk ll lm ln bi translated">就是这样！在这些参数中，只有URL参数是必需的。但是你也可以覆盖其他参数，根据你的应用主题(<strong class="jp ir"> bgColor，titleStyle，descriptionStyle，siteNameStyle </strong>)。</li><li id="64bf" class="lf lg iq jp b jq ma ju mb jy mc kc md kg me kk lk ll lm ln bi translated">同样，如果你设置了<strong class="jp ir"> 'isClosable: true' </strong>，它会在你的预览上添加一个关闭按钮，点击它，它会关闭预览。</li><li id="b439" class="lf lg iq jp b jq ma ju mb jy mc kc md kg me kk lk ll lm ln bi translated">您也可以单击URL预览，在默认浏览器中启动实际的URL。对于此功能，所有功劳归于<a class="ae ks" href="https://pub.dev/packages/url_launcher" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> url_launcher </strong> </a>包！或者，如果您想要覆盖此功能，请使用<strong class="jp ir">‘on tap’</strong>属性，该属性接受当有人单击预览时触发的功能。</li><li id="2c29" class="lf lg iq jp b jq ma ju mb jy mc kc md kg me kk lk ll lm ln bi translated"><a class="ae ks" href="https://pub.dev/packages/http" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> http </strong> </a>包用于获取URL元数据信息(og:title，og:description，og:image)，而<a class="ae ks" href="https://pub.dev/packages/html" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> html </strong> </a>包用于解析其响应。</li><li id="ae60" class="lf lg iq jp b jq ma ju mb jy mc kc md kg me kk lk ll lm ln bi translated">该包已被迁移到<strong class="jp ir">空安全</strong>。</li></ul></div><div class="ab cl kl km hu kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="ij ik il im in"><p id="dc30" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该包的完整源代码及其示例可以在这里找到<strong class="jp ir">Github</strong>:<a class="ae ks" href="https://github.com/Amitbhave/flutter-simple-url-preview" rel="noopener ugc nofollow" target="_blank">https://github.com/Amitbhave/flutter-simple-url-preview</a><br/><strong class="jp ir">包详情</strong>:<a class="ae ks" href="https://pub.dev/packages/simple_url_preview" rel="noopener ugc nofollow" target="_blank">https://pub.dev/packages/simple_url_preview</a></p><p id="5c6f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，如果你觉得这个有用，给some❤️看看⭐的包和<br/>库！</p></div></div>    
</body>
</html>