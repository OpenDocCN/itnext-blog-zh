<html>
<head>
<title>Sharing Code Between React and React Native</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React和React Native之间共享代码</h1>
<blockquote>原文：<a href="https://itnext.io/sharing-code-between-react-and-react-native-19dc836538c7?source=collection_archive---------0-----------------------#2022-09-08">https://itnext.io/sharing-code-between-react-and-react-native-19dc836538c7?source=collection_archive---------0-----------------------#2022-09-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3691" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何将公共代码和设计元素作为web和移动应用程序的依赖项进行共享。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/fde26bfbc915191abef6bec4191c63f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/1*JGnrIq99AC5xTAt7GivyNg.png"/></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk translated">我们要做的反应原生手风琴；我们也将有一个针对网络的React</figcaption></figure><blockquote class="kr ks kt"><p id="9979" class="ku kv kw kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">根据</strong> <a class="ae lr" href="https://bit.cloud/blog/creating-a-cross-platform-design-system-for-react-and-react-native-with-bit-l7i3qgmw#turn-common-code-to-shared-dependencies" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir">本精彩指南</strong> </a> <strong class="kx ir">作者Jony Kruszewski </strong></p></blockquote><p id="374f" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated"><a class="ae lr" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"> React </a>和<a class="ae lr" href="https://reactnative.dev/" rel="noopener ugc nofollow" target="_blank"> React Native </a>有助于将web和移动开发更紧密地结合在一起，以改善用户和开发人员的体验。</p><p id="0192" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">有些团队甚至用React和React Native构建了一个完整的跨平台设计系统(<a class="ae lr" href="https://www.youtube.com/watch?v=O_xhMW8KZPA&amp;feature=emb_title" rel="noopener ugc nofollow" target="_blank">视频教程</a>)。</p><p id="7475" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">虽然React和RN需要不同的实现(浏览器和移动设备不一样)，但这两种类型的应用程序和组件通常有共同的代码、业务逻辑、挂钩、道具甚至设计令牌。</p><p id="bf88" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">在本教程中，我将向您展示如何将React和rn应用程序的公共元素转化为共享依赖。这些组件是有版本的，我们以后可以跨平台更新和管理它们。</p><p id="9bee" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">使用开源项目<a class="ae lr" href="https://bit.dev" rel="noopener ugc nofollow" target="_blank"> Bit </a>，这变得很简单。</p><p id="7ba8" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">我们会这样做:</p><ol class=""><li id="b621" class="lv lw iq kx b ky kz lb lc ls lx lt ly lu lz lq ma mb mc md bi translated"><strong class="kx ir">两个组件:React和React Native </strong></li><li id="9e59" class="lv lw iq kx b ky me lb mf ls mg lt mh lu mi lq ma mb mc md bi translated"><strong class="kx ir">将公共代码和设计令牌转化为共享依赖</strong></li><li id="35b3" class="lv lw iq kx b ky me lb mf ls mg lt mh lu mi lq ma mb mc md bi translated"><strong class="kx ir">将它们添加到特定于平台的组件中</strong></li><li id="2e8a" class="lv lw iq kx b ky me lb mf ls mg lt mh lu mi lq ma mb mc md bi translated"><strong class="kx ir">为反应和RN提供主题</strong></li><li id="d93b" class="lv lw iq kx b ky me lb mf ls mg lt mh lu mi lq ma mb mc md bi translated"><strong class="kx ir">创建具有共享依赖关系的web和移动应用</strong></li></ol><p id="3530" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">让我们开始吧。</p><blockquote class="kr ks kt"><p id="7094" class="ku kv kw kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在这里，你可以找到(并使用)本教程中的所有组件。</p></blockquote><h1 id="9fed" class="mj mk iq bd ml mm mn mo mp mq mr ms mt jw mu jx mv jz mw ka mx kc my kd mz na bi translated"><strong class="ak"> 1。两个组件:React和React Native </strong></h1><p id="c8a0" class="pw-post-body-paragraph ku kv iq kx b ky nb jr la lb nc ju ld ls nd lg lh lt ne lk ll lu nf lo lp lq ij bi translated">在本教程中，我们将使用两个手风琴，一个用于React，另一个用于React Native。这是它们的样子:</p><p id="aa0f" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">一个是反应手风琴组件。探索它，安装/派生它，在本地使用或编辑它。</p><div class="ng nh gp gr ni nj"><a href="https://bit.cloud/learnbit-react/web-mobile-design-system/base-ui/react/accordion" rel="noopener  ugc nofollow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd ir gy z fp no fr fs np fu fw ip bi translated">网络-移动-设计-系统/基础-用户界面/反应/折叠</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">手风琴部件。贴上手风琴的标签，反应过来。在您的项目中安装Accordion。</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">比特云</p></div></div><div class="ns l"><div class="nt l nu nv nw ns nx kl nj"/></div></div></a></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><a href="https://bit.cloud/learnbit-react/web-mobile-design-system/base-ui/react/accordion"><div class="gh gi ny"><img src="../Images/b093ebeb429cfc09914da1fe31813716.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-9NV2elAAc1Gt5R4OmqUNg.png"/></div></a></figure><p id="929b" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">另一个是React本机组件:</p><div class="ng nh gp gr ni nj"><a href="https://bit.cloud/learnbit-react/web-mobile-design-system/base-ui/react-native/accordion" rel="noopener  ugc nofollow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd ir gy z fp no fr fs np fu fw ip bi translated">网络-移动-设计-系统/基础-用户界面/反应-原生/折叠</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">手风琴部件。贴上手风琴的标签，反应过来。在您的项目中安装Accordion。</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">比特云</p></div></div><div class="ns l"><div class="nz l nu nv nw ns nx kl nj"/></div></div></a></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><a href="https://bit.cloud/learnbit-react/web-mobile-design-system/base-ui/react-native/accordion"><div class="gh gi oa"><img src="../Images/da7dc7965effcea5c5f561f5ebc5b08e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YseMmLNoZEADFnZhEI3hkA.png"/></div></a></figure><p id="c402" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">花点时间研究一下每个组件的“<a class="ae lr" href="https://bit.cloud/learnbit-react/web-mobile-design-system/base-ui/react-native/accordion/~dependencies" rel="noopener ugc nofollow" target="_blank">依赖关系图</a>。您会注意到它们有许多共同的依赖关系。</p><div class="kg kh ki kj gt ab cb"><figure class="ob kk oc od oe of og paragraph-image"><a href="https://bit.cloud/learnbit-react/web-mobile-design-system/base-ui/react-native/accordion/~dependencies"><img src="../Images/dbc30b159f33981cef9b464c9c3e50af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1010/format:webp/1*YyRI6jrgAzpLl68hV0jrCg.png"/></a></figure><figure class="ob kk oh od oe of og paragraph-image"><a href="https://bit.cloud/learnbit-react/web-mobile-design-system/base-ui/react/accordion"><img src="../Images/cec89b198da566f379a4e9c4758c9b81.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/1*mAFxWfkpMTea2hGJO4-UcA.png"/></a><figcaption class="kn ko gj gh gi kp kq bd b be z dk oi di oj ok translated">React和React本机组件之间的共享依赖关系</figcaption></figure></div><h1 id="1d5d" class="mj mk iq bd ml mm mn mo mp mq mr ms mt jw mu jx mv jz mw ka mx kc my kd mz na bi translated">2.将公共代码转化为共享依赖项</h1><p id="2ee7" class="pw-post-body-paragraph ku kv iq kx b ky nb jr la lb nc ju ld ls nd lg lh lt ne lk ll lu nf lo lp lq ij bi translated">我们希望每个accordion包含最少数量的特定于平台的代码(因为它们的API是不同的)，并将外包所有的公共部分。</p><p id="5320" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">有了Bit，我们可以将任何东西转化为组件，从而依赖于我们的折叠式组件。Ee希望有尽可能多的特定于平台的实现之外的代码，这意味着钩子、类型、主题和设计标记将成为不同组件的一部分。</p><p id="54db" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">以下是我们希望用React和React原生手风琴创建和组合的组件依赖关系(您可以在这里找到所有这些组件<a class="ae lr" href="https://bit.cloud/learnbit-react/web-mobile-design-system" rel="noopener ugc nofollow" target="_blank"/>):</p><pre class="kg kh ki kj gt ol om on oo aw op bi"><span id="ce54" class="oq mk iq om b gy or os l ot ou">share-react-react-native              --&gt; scope<br/>├── api                               --&gt; namespace<br/>│    ├── accordion                    --&gt; component<br/>│    └── accordion-items              --&gt; component<br/>├── design-tokens                     --&gt; namespace<br/>│    ├── base-tokens                  --&gt; component<br/>│    ├── react-tokens                 --&gt; component<br/>│    └── rnative-tokens               --&gt; component<br/>├── base-ui                           --&gt; namespace<br/>│    ├── hooks                        --&gt; namespace<br/>│    │    ├── use-open                --&gt; component<br/>│    │    └── use-select              --&gt; component<br/>│    ├── react                        --&gt; namespace<br/>│    │    └── accordion               --&gt; component<br/>│    └── react-native                 --&gt; namespace<br/>│         └── accordion               --&gt; component<br/>└── theme                             --&gt; namespace<br/>     ├── web                          --&gt; component<br/>     └── mobile                       --&gt; component</span></pre><h1 id="51e9" class="mj mk iq bd ml mm mn mo mp mq mr ms mt jw mu jx mv jz mw ka mx kc my kd mz na bi translated">3.将它们添加到平台特定的组件中</h1><p id="1a20" class="pw-post-body-paragraph ku kv iq kx b ky nb jr la lb nc ju ld ls nd lg lh lt ne lk ll lu nf lo lp lq ij bi translated">React和React Native是有区别的。例如，它们不允许相同的样式属性和类型，尽管React Native中的所有维度都是无单位的，但在React中，您可以使用px、rem、em等。</p><p id="0e5f" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">为了实现这一点，我们将有一个共享最常见值的基本对象和添加属性的其他平台特定组件。</p><p id="e9fb" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">我们将应用创建上下文和挂钩的有用模式来将令牌注入到组件中。让React和React Native一起工作的技巧是，我们将有三种令牌:</p><ul class=""><li id="829c" class="lv lw iq kx b ky kz lb lc ls lx lt ly lu lz lq ov mb mc md bi translated"><strong class="kx ir">一个基础令牌</strong>——两者通用:</li></ul><pre class="kg kh ki kj gt ol om on oo aw op bi"><span id="a79d" class="oq mk iq om b gy or os l ot ou">export interface BaseTokensProps {<br/>  primaryColor: string;<br/>  secondaryColor: string;<br/>  borderColor: string;<br/>  borderStyle: "solid" | "dotted" | "dashed" | undefined;<br/>}<br/><br/>export const baseTokens: BaseTokensProps = {<br/>  primaryColor: "red",<br/>  secondaryColor: "blue",<br/>  borderColor: "green",<br/>  borderStyle: "solid",<br/>};</span></pre><ul class=""><li id="592b" class="lv lw iq kx b ky kz lb lc ls lx lt ly lu lz lq ov mb mc md bi translated"><strong class="kx ir">从基础令牌扩展的令牌</strong>，与<strong class="kx ir">一起使用:</strong></li></ul><pre class="kg kh ki kj gt ol om on oo aw op bi"><span id="99c7" class="oq mk iq om b gy or os l ot ou">import { baseTokens } from "@learnbit-react/web-mobile-design-system.design-tokens.base-tokens";<br/>import type { BaseTokensProps } from "@learnbit-react/web-mobile-design-system.design-tokens.base-tokens";<br/><br/>export interface ReactTokensProps extends BaseTokensProps {<br/>  spacing: string;<br/>  fontSize: string;<br/>  borderWidth: string;<br/>}<br/><br/>export const reactTokens: ReactTokensProps = {<br/>  ...baseTokens,<br/>  spacing: "15px",<br/>  fontSize: "18px",<br/>  borderWidth: "3px",<br/>};</span></pre><ul class=""><li id="eb53" class="lv lw iq kx b ky kz lb lc ls lx lt ly lu lz lq ov mb mc md bi translated"><strong class="kx ir">一个从基础令牌扩展而来的令牌，用于<strong class="kx ir"> React Native: </strong></strong></li></ul><pre class="kg kh ki kj gt ol om on oo aw op bi"><span id="387b" class="oq mk iq om b gy or os l ot ou">import { baseTokens } from "@learnbit-react/web-mobile-design-system.design-tokens.base-tokens";<br/>import type { BaseTokensProps } from "@learnbit-react/web-mobile-design-system.design-tokens.base-tokens";<br/><br/>export interface RNativeTokensProps extends BaseTokensProps {<br/>  spacing: number;<br/>  fontSize: number;<br/>  borderWidth: number;<br/>}<br/><br/>export const rNativeTokens: RNativeTokensProps = {<br/>  ...baseTokens,<br/>  primaryColor: "purple",<br/>  secondaryColor: "gray",<br/>  spacing: 10,<br/>  fontSize: 12,<br/>  borderWidth: 3,<br/>};</span></pre><blockquote class="kr ks kt"><p id="726e" class="ku kv kw kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果您的IDE使用相对导入来自动完成位置，您可以通过运行“位链接—重新布线”来快速修复它</p></blockquote><h1 id="ab2d" class="mj mk iq bd ml mm mn mo mp mq mr ms mt jw mu jx mv jz mw ka mx kc my kd mz na bi translated">4.<strong class="ak">提供主题反应和反应原生</strong></h1><p id="c4cb" class="pw-post-body-paragraph ku kv iq kx b ky nb jr la lb nc ju ld ls nd lg lh lt ne lk ll lu nf lo lp lq ij bi translated">使用Bit a <a class="ae lr" href="https://bit.cloud/blog/design-tokens-in-components-with-react-and-bit-l28qlxq6" rel="noopener ugc nofollow" target="_blank">主题也可以是一个组件</a>——这在这里很神奇，因为我们可以很容易地为设计令牌和主题组成依赖关系。</p><p id="9302" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">对于我们的主题，我们将使用一个预先存在的组件从一个对象创建一个主题。为此，我们需要将它安装在我们的工作区中:</p><pre class="kg kh ki kj gt ol om on oo aw op bi"><span id="7743" class="oq mk iq om b gy or os l ot ou">$ <!-- -->bit install @teambit/base-react.theme.theme-provider</span></pre><p id="eaaa" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">我们需要一个带有主题属性的对象，并调用createTheme函数，将其作为参数提供。结果将是一个带有使用这些值的钩子的对象和一个使用React上下文注入它的组件。</p><ul class=""><li id="66e2" class="lv lw iq kx b ky kz lb lc ls lx lt ly lu lz lq ov mb mc md bi translated">下面是React 的<a class="ae lr" href="https://bit.cloud/learnbit-react/web-mobile-design-system/theme/web" rel="noopener ugc nofollow" target="_blank">主题:</a></li></ul><pre class="kg kh ki kj gt ol om on oo aw op bi"><span id="8056" class="oq mk iq om b gy or os l ot ou">import { createTheme } from "@teambit/base-react.theme.theme-provider";<br/><br/>import { reactTokens } from "@learnbit-react/web-mobile-design-system.design-tokens.react-tokens";<br/>import type { ReactTokensProps } from "@learnbit-react/web-mobile-design-system.design-tokens.react-tokens";<br/><br/>const theme = createTheme&lt;ReactTokensProps&gt;({<br/>  theme: reactTokens,<br/>});<br/><br/>const { useTheme, ThemeProvider } = theme;<br/>export { useTheme, ThemeProvider };</span></pre><ul class=""><li id="ba75" class="lv lw iq kx b ky kz lb lc ls lx lt ly lu lz lq ov mb mc md bi translated">这里是<a class="ae lr" href="https://bit.cloud/learnbit-react/web-mobile-design-system/theme/mobile" rel="noopener ugc nofollow" target="_blank"> React Native </a>的主题。我们将传递选项<code class="fe ow ox oy om b">withoutCssVars: true</code>以避免必须呈现一个<code class="fe ow ox oy om b">&lt;div&gt;</code>。</li></ul><pre class="kg kh ki kj gt ol om on oo aw op bi"><span id="74d8" class="oq mk iq om b gy or os l ot ou">import { createTheme } from "@teambit/base-react.theme.theme-provider";<br/><br/>import { rNativeTokens } from "@learnbit-react/web-mobile-design-system.design-tokens.rnative-tokens";<br/>import type { RNativeTokensProps } from "@learnbit-react/web-mobile-design-system.design-tokens.rnative-tokens";<br/><br/>const theme = createTheme&lt;RNativeTokensProps&gt;({<br/>  theme: rNativeTokens,<br/>  withoutCssVars: true,<br/>});<br/><br/>const { useTheme, ThemeProvider } = theme;<br/><br/>export { useTheme, ThemeProvider };</span></pre><p id="ebbc" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">现在让我们把它们提供给手风琴。</p><p id="a43d" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">这很简单，我们可以导入主题组件。</p><p id="0081" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">我们的两个手风琴都有相同的框架，我们使用钩子并返回一个映射列表，如下图所示:</p><pre class="kg kh ki kj gt ol om on oo aw op bi"><span id="f851" class="oq mk iq om b gy or os l ot ou">import { useTheme } from '@learnbit-react/web-mobile-design-system.theme.web // or .mobile in the react-native one!<br/>import { useOpen } from '@learnbit-react/web-mobile-design-system.hooks.use-open';<br/>import { useSelect } from '@learnbit-react/web-mobile-design-system.hooks.use-select';<br/>import type { AccordionProps } from '@learnbit-react/web-mobile-design-system.api.accordion';<br/><br/>const GenericAccordionTemplate = ({ elementList } : AccordionProps) =&gt; {<br/>  const { isOpen, toggleOpen } = useOpen();<br/>  const { selectedId, setSelection } = useSelect();<br/>  const {someValueToken, someValueToken} = useTheme();<br/><br/>  return &lt;div_or_View style={{someProp: someValueToken}}&gt;My styled element&lt;div_or_View/&gt;;<br/>};</span></pre><blockquote class="kr ks kt"><p id="3b52" class="ku kv kw kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">请注意，这两个手风琴没有使用相同的useTheme挂钩。每一个都使用不同的样式来符合适当的样式类型。</p></blockquote><h1 id="6268" class="mj mk iq bd ml mm mn mo mp mq mr ms mt jw mu jx mv jz mw ka mx kc my kd mz na bi translated"><strong class="ak"> 5。创建具有共享依赖关系的网络和移动应用</strong></h1><p id="01fe" class="pw-post-body-paragraph ku kv iq kx b ky nb jr la lb nc ju ld ls nd lg lh lt ne lk ll lu nf lo lp lq ij bi translated">最后，让我们使用我们的新组件和共享依赖项来构建web和移动应用程序。在可组合的应用程序中(即使用Bit)，您可以添加一个应用程序组件并部署它。因为一切都是组件，所以我们可以添加一个netlify-deployer组件，或者创建/添加任何类似的组件来部署到任何地方。点击了解更多<a class="ae lr" href="https://bit.cloud/blog/deploying-a-composable-react-app-to-netlify-l7rlluzs" rel="noopener ugc nofollow" target="_blank">。</a></p><h2 id="7df6" class="oq mk iq bd ml oz pa dn mp pb pc dp mt ls pd pe mv lt pf pg mx lu ph pi mz pj bi translated">让我们从React web应用程序开始</h2><p id="6fa0" class="pw-post-body-paragraph ku kv iq kx b ky nb jr la lb nc ju ld ls nd lg lh lt ne lk ll lu nf lo lp lq ij bi translated"><a class="ae lr" href="https://accordion-react-demo.netlify.app/" rel="noopener ugc nofollow" target="_blank">这是部署到Netlify的最终结果</a>。让我们看看它是怎么做的。</p><p id="2e5d" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">让我们创建一个应用程序组件并安装Netlify部署器。</p><pre class="kg kh ki kj gt ol om on oo aw op bi"><span id="4b65" class="oq mk iq om b gy or os l ot ou">$ bit create react-app apps/react/accordion — scope learnbit-react.web-mobile-design-system</span><span id="d0eb" class="oq mk iq om b gy pk os l ot ou">bit install react-router-dom</span><span id="afdf" class="oq mk iq om b gy pk os l ot ou">bit use learnbit-react.web-mobile-design-system/apps/react/accordion</span><span id="6dff" class="oq mk iq om b gy pk os l ot ou">bit install @teambit/cloud-providers.deployers.netlify</span></pre><p id="0c3d" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">然后将手风琴添加到应用程序的代码中。</p><pre class="kg kh ki kj gt ol om on oo aw op bi"><span id="ef86" class="oq mk iq om b gy or os l ot ou">import React from "react"; <br/>import { Routes, Route } from "react-router-dom"; <br/>import { Accordion } from "@learnbit-react/web-mobile-design-system.base-ui.react.accordion"; <br/>import { Item } from "@learnbit-react/web-mobile-design-system.api.accordion";  </span><span id="ec90" class="oq mk iq om b gy pk os l ot ou">export function AccordionApp() {<br/>  return (<br/>    &lt;&gt;<br/>      {/* header component */}<br/>      &lt;Routes&gt;<br/>        &lt;Route<br/>          path="/"<br/>          element={<br/>            &lt;Accordion<br/>              elementList={[<br/>                new Item("Asia", "01").toObject(),<br/>                new Item("Africa", "02").toObject(),<br/>                new Item("North America", "03").toObject(),<br/>                new Item("South America", "04").toObject(),<br/>                new Item("Antarctica", "05").toObject(),<br/>                new Item("Australia / Oceania", "06").toObject(),<br/>                new Item("Europe", "07").toObject(),<br/>              ]}<br/>            /&gt;<br/>          }<br/>        /&gt;<br/>        &lt;Route path="/about"&gt;{/* about page component */}&lt;/Route&gt;<br/>      &lt;/Routes&gt;<br/>      {/* footer component */}<br/>    &lt;/&gt;<br/>  );<br/>}</span></pre><p id="f6ab" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">在<code class="fe ow ox oy om b"><a class="ae lr" href="https://bit.cloud/learnbit-react.web-mobile-design-system/apps/react/accordion/~code/accordion.react-app.ts" rel="noopener ugc nofollow" target="_blank">accordion.react-app.ts</a></code>中配置应用程序，运行<code class="fe ow ox oy om b">bit tag</code>将对其进行快照并进行部署:</p><pre class="kg kh ki kj gt ol om on oo aw op bi"><span id="4f9b" class="oq mk iq om b gy or os l ot ou">bit tag apps/react/accordion -m “First deploy”</span></pre><p id="6bc1" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">而且展开了！</p><h2 id="b09d" class="oq mk iq bd ml oz pa dn mp pb pc dp mt ls pd pe mv lt pf pg mx lu ph pi mz pj bi translated">让我们在Expo中使用React本地组件</h2><pre class="kg kh ki kj gt ol om on oo aw op bi"><span id="99a8" class="oq mk iq om b gy or os l ot ou">expo init my-new-project </span><span id="e073" class="oq mk iq om b gy pk os l ot ou">cd my-new-project </span><span id="ef39" class="oq mk iq om b gy pk os l ot ou">yarn install @learnbit-react/web-mobile-design-system.base-ui.react-native.accordion @learnbit-react/web-mobile-design-system.api.accordion</span></pre><p id="e93c" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">将组件添加到app.js文件中"</p><pre class="kg kh ki kj gt ol om on oo aw op bi"><span id="1fff" class="oq mk iq om b gy or os l ot ou">import {Accordion} from '@learnbit-react/web-mobile-design-system.base-ui.react-native.accordion';<br/>import { Item } from '@learnbit-react/web-mobile-design-system.api.accordion';<br/><br/>import {(StyleSheet, View)} from 'react-native';<br/><br/>export default function App() {<br/>  return (<br/>    &lt;View style={styles.container}&gt;<br/>      &lt;Accordion<br/>        elementList={[<br/>                new Item('Asia', '01').toObject(),<br/>                new Item('Africa', '02').toObject(),<br/>                new Item('North America', '03').toObject(),<br/>                new Item('South America', '04').toObject(),<br/>                new Item('Antarctica', '05').toObject(),<br/>                new Item('Australia / Oceania', '06').toObject(),<br/>                new Item('Europe', '07').toObject(),<br/>              ]}<br/>      /&gt;<br/>    &lt;/View&gt;<br/>  );<br/>}<br/><br/>const styles = StyleSheet.create({<br/>  container: {<br/>    flex: 1,<br/>    backgroundColor: '#fff',<br/>    alignItems: 'center',<br/>    justifyContent: 'flex-start',<br/>    marginTop: 50,<br/>    },<br/>  });</span></pre><p id="07fc" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">下面是GitHub上的<a class="ae lr" href="https://github.com/bit-demos/react-reactn-dds-expo" rel="noopener ugc nofollow" target="_blank">源代码</a></p><h1 id="7740" class="mj mk iq bd ml mm mn mo mp mq mr ms mt jw mu jx mv jz mw ka mx kc my kd mz na bi translated">摘要</h1><p id="1280" class="pw-post-body-paragraph ku kv iq kx b ky nb jr la lb nc ju ld ls nd lg lh lt ne lk ll lu nf lo lp lq ij bi translated">浏览器和移动设备是不同的，你不能使用它们之间的所有共同点。然而，有许多代码和设计元素是通用的。通过将这些元素转化为可组合的依赖项，我们可以有效地共享它们，并将它们与我们的React和React本地组件和应用程序组合在一起。我们可以对它们之间的更新进行版本化和管理，以保持我们的代码库和我们的UI/UX跨平台的一致性。</p><p id="77ba" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">我希望你喜欢并发现它很有用，请随意检查并使用本指南中的示例，开始使用<a class="ae lr" href="https://bit.dev" rel="noopener ugc nofollow" target="_blank"> Bit </a>将更多东西转化为组件(从UI元素到页面、体验、应用程序甚至后端),并在React和React Native中度过美好时光。</p><p id="7ef3" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">干杯🍻</p></div></div>    
</body>
</html>