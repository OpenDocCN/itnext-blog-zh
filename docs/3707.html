<html>
<head>
<title>Understanding Angular Pipes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解角形管道</h1>
<blockquote>原文：<a href="https://itnext.io/understanding-angular-pipes-5d1154f57d4f?source=collection_archive---------1-----------------------#2020-02-07">https://itnext.io/understanding-angular-pipes-5d1154f57d4f?source=collection_archive---------1-----------------------#2020-02-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="14a9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">配有用的例子！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/df990ba937f83bd49c9b5ddd61ec3983.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-XSh-XXT3TWGcRaeFs446w.png"/></div></div></figure><blockquote class="ku kv kw"><p id="b07c" class="kx ky kz la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">管道是一种编写显示值转换的方法，可以在HTML中声明。它接受数据作为输入，并将其转换成所需的输出”。</p></blockquote><p id="dba4" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">角形管道的定义非常简单，并且意识到它们也非常有用。Angular附带了一些有用的内置管道，可以随时使用，也允许我们创建自己的自定义管道；我们将在这里深入探讨。</p><h1 id="6ddc" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">内置管道</h1><p id="1878" class="pw-post-body-paragraph kx ky it la b lb mp ju ld le mq jx lg lu mr lj lk lv ms ln lo lw mt lr ls lt im bi translated">Angular附带了一组管道，可以在任何模板中使用。我们现在要看一些最有用的以及如何使用它们。我们的期望不仅是让我们能够在角度应用中使用它们，还能帮助我们理解它们的工作原理。</p><h2 id="e93f" class="mu ly it bd lz mv mw dn md mx my dp mh lu mz na mj lv nb nc ml lw nd ne mn nf bi translated">数据管道</h2><p id="11d4" class="pw-post-body-paragraph kx ky it la b lb mp ju ld le mq jx lg lu mr lj lk lv ms ln lo lw mt lr ls lt im bi translated">它根据提供的参数将日期值格式化为字符串。</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="cc22" class="mu ly it nh b gy nl nm l nn no">const value = new Date('2019-03-01');</span><span id="a16c" class="mu ly it nh b gy np nm l nn no">&lt;p&gt;Birthdate: {{ value | date : 'dd/MM/YYYY' }}&lt;/p&gt;</span><span id="bbc6" class="mu ly it nh b gy np nm l nn no">&lt;!-- output '01/03/2019' --&gt;</span></pre><p id="88e8" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated"><strong class="la iu">输入:</strong>一个日期对象，一个数字(从UTC epoch开始的毫秒)或一个ISO字符串；</p><p id="c93a" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated"><strong class="la iu">参数:</strong>日期格式；</p><p id="a0db" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated"><em class="kz">您可以在这里查看所有格式选项:</em><a class="ae nq" href="https://angular.io/api/common/DatePipe" rel="noopener ugc nofollow" target="_blank"><em class="kz">https://angular.io/api/common/DatePipe</em></a></p><h2 id="73d3" class="mu ly it bd lz mv mw dn md mx my dp mh lu mz na mj lv nb nc ml lw nd ne mn nf bi translated">百分比管道</h2><p id="841b" class="pw-post-body-paragraph kx ky it la b lb mp ju ld le mq jx lg lu mr lj lk lv ms ln lo lw mt lr ls lt im bi translated">它将一个数值转换成一个百分比字符串，根据提供的参数进行格式化。</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="dbf1" class="mu ly it nh b gy nl nm l nn no">const value = 23.1;</span><span id="179a" class="mu ly it nh b gy np nm l nn no">&lt;p&gt;Percentage: {{ value | percent : '3.2-2' }}&lt;/p&gt;</span><span id="1967" class="mu ly it nh b gy np nm l nn no">&lt;!-- output '023,10%' --&gt;</span></pre><p id="e0f2" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated"><strong class="la iu">输入:</strong>一个数字；</p><p id="c645" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated"><strong class="la iu">参数:</strong></p><ul class=""><li id="2cd1" class="nr ns it la b lb lc le lf lu nt lv nu lw nv lt nw nx ny nz bi translated"><code class="fe oa ob oc nh b">minIntegerDigits</code>:小数点前的最小整数位数。默认为<code class="fe oa ob oc nh b">1</code>；</li><li id="a092" class="nr ns it la b lb od le oe lu of lv og lw oh lt nw nx ny nz bi translated"><code class="fe oa ob oc nh b">minFractionDigits</code>:小数点后的最小位数。默认为<code class="fe oa ob oc nh b">0</code>；</li><li id="6e71" class="nr ns it la b lb od le oe lu of lv og lw oh lt nw nx ny nz bi translated"><code class="fe oa ob oc nh b">maxFractionDigits</code>:小数点后最大位数。默认为<code class="fe oa ob oc nh b">0</code>。</li></ul><h2 id="383e" class="mu ly it bd lz mv mw dn md mx my dp mh lu mz na mj lv nb nc ml lw nd ne mn nf bi translated">SlicePipe</h2><p id="936b" class="pw-post-body-paragraph kx ky it la b lb mp ju ld le mq jx lg lu mr lj lk lv ms ln lo lw mt lr ls lt im bi translated">它将一个字符串转换成它的子串，或者将一个数组转换成它的子集。</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="0959" class="mu ly it nh b gy nl nm l nn no">const value = 'Leonardo';</span><span id="d84a" class="mu ly it nh b gy np nm l nn no">&lt;p&gt;Nickname: {{ value | slice : 0 : 2 }}&lt;/p&gt;</span><span id="e6ea" class="mu ly it nh b gy np nm l nn no">&lt;!-- output 'Leo' --&gt;</span><span id="d08c" class="mu ly it nh b gy np nm l nn no">--------------------------------------------------</span><span id="37d1" class="mu ly it nh b gy np nm l nn no">const values = ['Red', 'Blue', 'Green', 'Purple'];</span><span id="6694" class="mu ly it nh b gy np nm l nn no">&lt;p&gt;Colors:&lt;/p&gt;<br/>&lt;ul&gt;<br/>  &lt;li *<a class="ae nq" href="https://angular.io/api/common/NgForOf" rel="noopener ugc nofollow" target="_blank">ngFor</a>="let value of values| <a class="ae nq" href="https://angular.io/api/common/SlicePipe" rel="noopener ugc nofollow" target="_blank">slice</a> : 1 : 3" &gt;<br/>    {{ value }}<br/>  &lt;/li&gt;<br/>&lt;/ul&gt;</span><span id="3e51" class="mu ly it nh b gy np nm l nn no">&lt;!-- output <br/>  &lt;ul&gt;<br/>    &lt;li&gt;Blue&lt;/li&gt;<br/>    &lt;li&gt;Green&lt;/li&gt;<br/>  &lt;/ul&gt;<br/>--&gt;</span></pre><p id="6a62" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated"><strong class="la iu">输入:</strong>数组或字符串；</p><p id="88c8" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated"><strong class="la iu">参数:</strong></p><ul class=""><li id="1bf2" class="nr ns it la b lb lc le lf lu nt lv nu lw nv lt nw nx ny nz bi translated"><code class="fe oa ob oc nh b">startnumber</code>:要返回的子集的起始索引；</li><li id="1fea" class="nr ns it la b lb od le oe lu of lv og lw oh lt nw nx ny nz bi translated"><code class="fe oa ob oc nh b">endnumber</code>:要返回的子集的结束。</li></ul><h2 id="d681" class="mu ly it bd lz mv mw dn md mx my dp mh lu mz na mj lv nb nc ml lw nd ne mn nf bi translated">小写和大写</h2><p id="5dd1" class="pw-post-body-paragraph kx ky it la b lb mp ju ld le mq jx lg lu mr lj lk lv ms ln lo lw mt lr ls lt im bi translated">它将一个字符串转换为全部小写或全部大写。</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="9255" class="mu ly it nh b gy nl nm l nn no">const value = 'Leonardo';</span><span id="2393" class="mu ly it nh b gy np nm l nn no">&lt;p&gt;In Lowercase: {{ value | lowercase }}&lt;/p&gt;</span><span id="fe62" class="mu ly it nh b gy np nm l nn no">&lt;!-- output 'leonardo' --&gt;</span><span id="271b" class="mu ly it nh b gy np nm l nn no">&lt;p&gt;In Uppercase: {{ value | uppercase }}&lt;/p&gt;</span><span id="4640" class="mu ly it nh b gy np nm l nn no">&lt;!-- output 'LEONARDO' --&gt;</span></pre><p id="41c4" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated"><strong class="la iu">输入:</strong>一个字符串。</p></div><div class="ab cl oi oj hx ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="im in io ip iq"><h1 id="8f63" class="lx ly it bd lz ma op mc md me oq mg mh jz or ka mj kc os kd ml kf ot kg mn mo bi translated">自定义管道</h1><p id="e770" class="pw-post-body-paragraph kx ky it la b lb mp ju ld le mq jx lg lu mr lj lk lv ms ln lo lw mt lr ls lt im bi translated">有时你可能需要<strong class="la iu">特定的转换</strong>，在这种情况下默认的角管道是不够的。此时<strong class="la iu">自定义角度管道</strong>发生，这允许您创建自己的管道，指定<strong class="la iu">输入</strong>、<strong class="la iu">转换函数</strong>和<strong class="la iu">输出</strong>。</p><h2 id="f99a" class="mu ly it bd lz mv mw dn md mx my dp mh lu mz na mj lv nb nc ml lw nd ne mn nf bi translated">1.创建自定义管道</h2><p id="64f2" class="pw-post-body-paragraph kx ky it la b lb mp ju ld le mq jx lg lu mr lj lk lv ms ln lo lw mt lr ls lt im bi translated">首先，我们将创建我们的管道。这将是一个非常简单的解释，其中我们将提供一个字符串参数，该参数将连接到一个<em class="kz"> Hello。</em>我们的做法如下:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="350d" class="mu ly it nh b gy nl nm l nn no">import { Pipe, PipeTransform } from '<a class="ae nq" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>';</span><span id="34c1" class="mu ly it nh b gy np nm l nn no"><a class="ae nq" href="http://twitter.com/Pipe" rel="noopener ugc nofollow" target="_blank">@Pipe</a>({<br/>  name: 'sayHello'<br/>})<br/>export class GreetingsPipe implements PipeTransform {</span><span id="15b9" class="mu ly it nh b gy np nm l nn no">  public transform(name: string): string {<br/>    return 'Hello, ' + name;<br/>  }</span><span id="9f05" class="mu ly it nh b gy np nm l nn no">}</span></pre><p id="f9be" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">在<strong class="la iu"> @Pipe decorator </strong>中指定的<strong class="la iu">名称</strong>是将在HTML 中使用的<strong class="la iu">管道的名称，如<em class="kz">日期</em>、<em class="kz">小写</em>、<em class="kz">大写</em>等。</strong></p><p id="b5d9" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated"><strong class="la iu">转换函数</strong>是魔法发生的地方，在这里你实际上对接收到的<strong class="la iu">输入</strong>进行期望的转换。在上面的例子中，我们接收一个输入参数(<strong class="la iu">一个名称字符串</strong>)，这是我们将要<strong class="la iu">应用转换函数的值。</strong>转换函数中的第一个参数总是我们要处理的值。</p><p id="6fe9" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">然而，我们可以接收尽可能多的参数，以备不时之需。然后，我们将在HTML中提供它们，并能够在转换函数中使用它们，我们将进一步了解。最后，我们的转换函数<strong class="la iu">返回一个字符串</strong>，这将是我们管道的<strong class="la iu">输出</strong>。</p><h2 id="20e6" class="mu ly it bd lz mv mw dn md mx my dp mh lu mz na mj lv nb nc ml lw nd ne mn nf bi translated">2.注册自定义管道</h2><p id="5425" class="pw-post-body-paragraph kx ky it la b lb mp ju ld le mq jx lg lu mr lj lk lv ms ln lo lw mt lr ls lt im bi translated">然后，为了使用它，我们将注册它。要注册一个管道，你所要做的就是将它的类添加到一个模块声明中。在这里，我们还将为该管道创建一个模块，并将其导出以在其他模块中使用。</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="652a" class="mu ly it nh b gy nl nm l nn no">import { NgModule } from '@angular/core';<br/>import { GreetingsPipe } from './greetings.pipe';</span><span id="5056" class="mu ly it nh b gy np nm l nn no">@NgModule({<br/>   declarations: [<br/>     GreetingsPipe<br/>   ],<br/>   exports: [<br/>     GreetingsPipe<br/>   ]<br/>})<br/>export class GreetingsPipeModule { }</span></pre><h2 id="84fe" class="mu ly it bd lz mv mw dn md mx my dp mh lu mz na mj lv nb nc ml lw nd ne mn nf bi translated">3.使用自定义管道</h2><p id="24f7" class="pw-post-body-paragraph kx ky it la b lb mp ju ld le mq jx lg lu mr lj lk lv ms ln lo lw mt lr ls lt im bi translated">一旦您创建了自己的管道，在一个模块中注册了管道，并将该模块导入到您需要的地方，您的管道就可以使用了！</p><p id="9c6f" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">假设我们的组件中有一个属性为<em class="kz"> firstName、</em>的<em class="kz"> user </em>对象，它是一个包含用户名字的字符串。然后，我们可以在HTML中添加一个段落来问候我们的用户，如下所示:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="4e5c" class="mu ly it nh b gy nl nm l nn no">this.user = {<br/>  firstName: 'Leonardo',<br/>  ...<br/>};</span><span id="be65" class="mu ly it nh b gy np nm l nn no">--------------------------------------------------</span><span id="58ca" class="mu ly it nh b gy np nm l nn no">&lt;div&gt;<br/>  &lt;p&gt;You are now logged in our application!&lt;/p&gt;<br/>  &lt;p&gt;{{ user.firstName | sayHello }}&lt;/p&gt;<br/>&lt;/div&gt;</span><span id="0863" class="mu ly it nh b gy np nm l nn no">&lt;!-- output<br/>  &lt;p&gt;Hello, Leonardo&lt;/p&gt;<br/>--&gt;</span></pre></div><div class="ab cl oi oj hx ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="im in io ip iq"><h1 id="be03" class="lx ly it bd lz ma op mc md me oq mg mh jz or ka mj kc os kd ml kf ot kg mn mo bi translated">自定义管道示例</h1><p id="9c20" class="pw-post-body-paragraph kx ky it la b lb mp ju ld le mq jx lg lu mr lj lk lv ms ln lo lw mt lr ls lt im bi translated">现在，我们将看到一些更真实的管道示例，它们可以在现实世界的应用中使用。</p><h2 id="b3b8" class="mu ly it bd lz mv mw dn md mx my dp mh lu mz na mj lv nb nc ml lw nd ne mn nf bi translated">货币管道</h2><p id="f0be" class="pw-post-body-paragraph kx ky it la b lb mp ju ld le mq jx lg lu mr lj lk lv ms ln lo lw mt lr ls lt im bi translated">首先，需要注意的是Angular确实有一个内置的<a class="ae nq" href="https://angular.io/api/common/CurrencyPipe" rel="noopener ugc nofollow" target="_blank">current ipe</a>供您使用。但是，我想展示如何构建一个，以防您需要一些自己的特定格式和出于学习目的。</p><p id="adac" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">假设我想要这个:<em class="kz"> 105.5 &gt;雷亚尔105.50</em></p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="654a" class="mu ly it nh b gy nl nm l nn no">import { Pipe, PipeTransform } from '<a class="ae nq" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>';</span><span id="63c1" class="mu ly it nh b gy np nm l nn no"><a class="ae nq" href="http://twitter.com/Pipe" rel="noopener ugc nofollow" target="_blank">@Pipe</a>({<br/>  name: 'currencyFormat'<br/>})export class CurrencyFormat implements PipeTransform {</span><span id="98e2" class="mu ly it nh b gy np nm l nn no">  public transform(<br/>    value: number,<br/>    currencySign: string = 'R$ ',<br/>    chunkDelimiter: string = '.',<br/>    decimalDelimiter: string = ','<br/>  ): string {</span><span id="a8c3" class="mu ly it nh b gy np nm l nn no">    if (!value)<br/>      return currencySign + '0' + decimalDelimiter + '00';</span><span id="4864" class="mu ly it nh b gy np nm l nn no">    const changedValue = this.addCommas(value.toFixed(2));<br/>    const formatted = changedValue.toString().replace(<br/>      /[,.]/g, function (val) {<br/>        return val === ',' ? chunkDelimiter : decimalDelimiter;<br/>      }<br/>    );</span><span id="05a3" class="mu ly it nh b gy np nm l nn no">    return currencySign + formatted;<br/>  }</span><span id="d03d" class="mu ly it nh b gy np nm l nn no">  private addCommas(nStr) {<br/>    nStr += '';<br/>    const x = nStr.split('.');<br/>    let x1 = x[0];<br/>    const x2 = x.length &gt; 1 ? '.' + x[1] : '';<br/>    const rgx = /(\d+)(\d{3})/;<br/>    while (rgx.test(x1)) {<br/>        x1 = x1.replace(rgx, '$1' + ',' + '$2');<br/>    }<br/>    return x1 + x2;<br/>  }<br/>}</span></pre><p id="5ff6" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">正如我之前说过的，您可以根据需要接收尽可能多的输入参数，这就是我们的<em class="kz"> currencyFormat </em>管道的情况。第一个参数是我们要格式化的值。然而，我们在这里也接收了<em class="kz"> currencySign (string) </em>、<em class="kz"> chunkDelimiter (string) </em>和<em class="kz"> decimalDelimiter (string) </em>，所以我们可以在我们的<em class="kz">转换</em>函数中使用它们。这是我们使用烟斗的方式:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="1d0c" class="mu ly it nh b gy nl nm l nn no">{{ <!-- -->9999.9<!-- --> | currencyFormat : 'R$' : '.' : ',' }}</span><span id="7d28" class="mu ly it nh b gy np nm l nn no">&lt;!-- output: R$ 9.999.90 --&gt;</span></pre><h2 id="bc22" class="mu ly it bd lz mv mw dn md mx my dp mh lu mz na mj lv nb nc ml lw nd ne mn nf bi translated">文档格式管道</h2><p id="03a1" class="pw-post-body-paragraph kx ky it la b lb mp ju ld le mq jx lg lu mr lj lk lv ms ln lo lw mt lr ls lt im bi translated">在巴西，每个人都有一份名为<em class="kz"> CPF </em>的文件，这是一个具有特定格式的唯一号码。有时，我们需要通过接收包含其值的原始字符串来输出正确格式化的文档的值。</p><p id="84b4" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">所以我们想要的是这个:<em class="kz">111111111111-&gt;111 . 111 . 111–11</em></p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="eb2d" class="mu ly it nh b gy nl nm l nn no">import { Pipe, PipeTransform } from '<a class="ae nq" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>';</span><span id="8399" class="mu ly it nh b gy np nm l nn no"><a class="ae nq" href="http://twitter.com/Pipe" rel="noopener ugc nofollow" target="_blank">@Pipe</a>({<br/>  name: 'cpfFormat'<br/>})<br/>export class CpfFormat implements PipeTransform {</span><span id="4983" class="mu ly it nh b gy np nm l nn no">  public transform(cpf: string): string {<br/>    if (!cpf || cpf.trim() === '') { return ''; }<br/>    let formatted: string;<br/>    formatted = cpf.substring(0, 3) + '.';<br/>    formatted = formatted + cpf.substring(3, 6) + '.';<br/>    formatted = formatted + cpf.substring(6, 9) + '-';<br/>    formatted = formatted + cpf.substring(9, 11);<br/>    return formatted;<br/>  }</span><span id="829e" class="mu ly it nh b gy np nm l nn no">}</span></pre><p id="1efb" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">这里的管道要简单得多。除了值本身，我们不需要任何其他参数，因为CPF的格式是一种定义好的模式。我们接收一个未格式化的CPF字符串，并返回格式化的CPF字符串。这是我们使用烟斗的方式:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="76ee" class="mu ly it nh b gy nl nm l nn no">{{ '99999999999' | cpfFormat }}</span><span id="750b" class="mu ly it nh b gy np nm l nn no">&lt;!-- output: 999.999.999-99 --&gt;</span></pre></div><div class="ab cl oi oj hx ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="im in io ip iq"><h1 id="ac88" class="lx ly it bd lz ma op mc md me oq mg mh jz or ka mj kc os kd ml kf ot kg mn mo bi translated">额外:测试管道</h1><p id="6cdc" class="pw-post-body-paragraph kx ky it la b lb mp ju ld le mq jx lg lu mr lj lk lv ms ln lo lw mt lr ls lt im bi translated">为定制管道创建单元测试非常简单，因为它们基本上是纯函数；其接收输入并返回期望的输出。下面，我有一个为之前创建的CPF管道创建一个简单测试的例子。</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="f1b2" class="mu ly it nh b gy nl nm l nn no">import { CpfFormat } from './cpf.pipe';</span><span id="026f" class="mu ly it nh b gy np nm l nn no">describe('[Pipe] CPF Format', () =&gt; { </span><span id="7334" class="mu ly it nh b gy np nm l nn no">  let pipe: CpfFormat;</span><span id="e642" class="mu ly it nh b gy np nm l nn no">  beforeEach(() =&gt; {<br/>    pipe = new CpfFormat();<br/>  }); </span><span id="b58d" class="mu ly it nh b gy np nm l nn no">  it('should return a valid \'cpf\' formatted correctly', () =&gt; {<br/>    expect(pipe.transform('32726532950')).toBe('327.265.329-50');<br/>  });</span><span id="ffba" class="mu ly it nh b gy np nm l nn no">  it('should return empty for a null \'cpf\'', () =&gt; {<br/>    expect(pipe.transform(null)).toBe('');<br/>    expect(pipe.transform('')).toBe('');<br/>  });</span><span id="92a8" class="mu ly it nh b gy np nm l nn no">});</span></pre></div><div class="ab cl oi oj hx ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="im in io ip iq"><p id="f73d" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">Angular Pipes是Angular提供的一个非常简单但有用的功能，几乎可以肯定它会在整个应用程序中被大量使用。因此，重要的是了解你的方式，并能够有效地使用它们来满足你的需求。</p><p id="8282" class="pw-post-body-paragraph kx ky it la b lb lc ju ld le lf jx lg lu li lj lk lv lm ln lo lw lq lr ls lt im bi translated">希望有帮助！😉</p><h1 id="a57e" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">参考资料:</h1><div class="ou ov gp gr ow ox"><a href="https://angular.io/guide/pipes" rel="noopener  ugc nofollow" target="_blank"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd iu gy z fp pc fr fs pd fu fw is bi translated">有角的</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">Angular是一个构建移动和桌面web应用程序的平台。加入数百万开发者的社区…</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">angular.io</p></div></div></div></a></div></div></div>    
</body>
</html>