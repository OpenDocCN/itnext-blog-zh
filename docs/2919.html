<html>
<head>
<title>GCP Compute Engine &amp; Resource Level Access Control</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">GCP计算引擎和资源级访问控制</h1>
<blockquote>原文：<a href="https://itnext.io/gcp-how-to-assign-users-to-specific-compute-engine-resources-9b29bfeb58fb?source=collection_archive---------2-----------------------#2019-08-29">https://itnext.io/gcp-how-to-assign-users-to-specific-compute-engine-resources-9b29bfeb58fb?source=collection_archive---------2-----------------------#2019-08-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/75516b7224125aa09573150e5955a600.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o8x9kVt_n8eeMgNA-4uchQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><strong class="bd kc">提倡最小特权原则</strong></figcaption></figure><p id="d2b1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">GCP资源层次结构由组织、文件夹和项目组成。组织是资源层次结构的根，文件夹是多层组织层次结构的构建块，项目是由资源组成的粒度构建块。资源示例包括计算引擎虚拟机、应用引擎实例、云存储桶、云发布/订阅主题等。Cloud IAM用于跨资源层次结构设置访问控制</p><p id="f634" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">典型的项目由多个计算引擎资源组成，如虚拟机实例、磁盘、快照和映像。一些用户可能需要访问所有资源，但大多数用例将涉及只需要利用特定资源的用户。在资源级别设置访问控制是实现最小特权原则的最佳方式。本文是将用户分配到特定VM实例的分步指南。</p><p id="7c55" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">将用户分配到特定虚拟机实例的分步指南:</strong></p><ol class=""><li id="9e7f" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated">登录到GCP控制台。单击“Google Cloud Platform”横幅旁边的项目选择器，过滤您选择的项目(包含计算引擎资源)</li></ol><figure class="ll lm ln lo gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lk"><img src="../Images/8d474aa1e5531faae65261d7e1d7d879.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yyht_ewqVhUP1pT8MlMVxQ.png"/></div></div></figure><p id="e612" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">2.在“IAM &amp; Admin”菜单下；导航到“IAM”部分</p><p id="8cc7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">3.添加新用户或选择现有用户，需要在虚拟机实例级别限制其访问权限</p><p id="fbcf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">4.添加两个角色—计算查看者角色和服务帐户用户角色(在GCP，角色被定义为一组权限)</p><figure class="ll lm ln lo gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lp"><img src="../Images/0a01aee7502c2132081c46b66a16b27a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BCug6crROFdOgvarr3GoBg.png"/></div></div></figure><p id="a12a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">5.在菜单下—“计算引擎”；导航到“虚拟机实例”一节。在右上角；选择“显示信息面板”选项</p><figure class="ll lm ln lo gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lq"><img src="../Images/ac02782c8857924427d83ada1a6dac1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jWXeh83iq8gioR96plTjfg.png"/></div></div></figure><p id="e805" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">6.将用户分配到特定的实例，例如“测试实例”；选择特定实例，然后选择“添加成员”选项。筛选用户并分配“计算实例管理员”角色。该角色授予用户对实例的完全访问权限，包括SSH访问权限</p><figure class="ll lm ln lo gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lr"><img src="../Images/8b49ee5c960541d2feaf0ac978f92d63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*242_2ya9BTkGvZRt5TKybw.png"/></div></div></figure><p id="470c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">7.但是，如果用户试图访问任何其他实例，例如“开发实例”；则不允许用户SSH到实例中，而是限制为计算查看者角色。这基本上确保了最低特权原则，即用户可以获得执行各自工作所需的最低权限</p><p id="7ff0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">注意</strong>:要限制用户使用其他计算引擎资源，如磁盘、映像和快照，可按上述流程执行</p></div></div>    
</body>
</html>