<html>
<head>
<title>Document Scanner in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI中的文档扫描仪</h1>
<blockquote>原文：<a href="https://itnext.io/document-scanner-in-swiftui-709753af367b?source=collection_archive---------0-----------------------#2022-01-07">https://itnext.io/document-scanner-in-swiftui-709753af367b?source=collection_archive---------0-----------------------#2022-01-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f87a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用人工智能从文档中提取文本</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/cf0e12ee740865cedb0f8d687325073d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rhx-T_J6NGS3VOgjbYkG-g.jpeg"/></div></div></figure><p id="ce71" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在本教程中，我们将学习如何通过文档分割和光学字符识别来扫描文档和提取包含的文本。</p><p id="0009" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">作为源代码提供的一个完整的iOS应用程序将帮助我们理解完成这项任务需要哪些苹果框架和特定的类。</p><h2 id="061a" class="lq lr it bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">介绍</h2><p id="1674" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">电话不再仅仅是电话，在其他事物中，它们变成了我们的办公室。我这一代人(我稍微年长一点……)中没有多少人会想到今天的智能手机可以取代这么多其他设备。</p><p id="f001" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这些设备中有文档扫描仪。</p><p id="55a9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">2017年，苹果推出了一款用于笔记、邮件、文件和信息的文档扫描仪。它提供了清理文件“扫描”,这是透视校正和均匀照明。</p><p id="fbf7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">自2019年WWDC奥运会以来，我们作为开发者也可以在我们的应用中利用这一功能！</p><p id="7f20" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">是时候让我坐下来想出一个尽可能简单但功能齐全的SwiftUI应用了。结果就是这个教程和附带的可以下载源代码的app。</p><p id="bea6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">以下是该应用程序的工作原理演示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="a787" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><a class="ae mq" href="https://www.buymeacoffee.com/twissmueller/e/52154" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu">点击此链接</strong> </a> <strong class="kw iu">可以下载完整的Xcode项目。</strong></p><p id="27dd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在写这篇教程的时候，我的设置如下:</p><ul class=""><li id="5699" class="mr ms it kw b kx ky la lb ld mt lh mu ll mv lp mw mx my mz bi translated">MacBook Pro，16英寸，2021，M1最大</li><li id="b295" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp mw mx my mz bi translated">macOS Monterey，版本12.0.1</li><li id="b8d9" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp mw mx my mz bi translated">Xcode，版本13.1</li></ul><p id="eeff" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">以下是我们将要介绍的内容:</p><ul class=""><li id="def3" class="mr ms it kw b kx ky la lb ld mt lh mu ll mv lp mw mx my mz bi translated">框架概述</li><li id="7765" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp mw mx my mz bi translated">文档分割</li><li id="b2fa" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp mw mx my mz bi translated">光学字符识别</li><li id="0a13" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp mw mx my mz bi translated">参考应用程序演练</li><li id="b188" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp mw mx my mz bi translated">优化和最佳实践</li><li id="1889" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp mw mx my mz bi translated">结论</li></ul><p id="3b67" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们开始吧。</p><h2 id="7e32" class="lq lr it bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">概观</h2><p id="3eec" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">完成我们的任务基本上需要两个步骤。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/450e14ec69d199b88693a8207a0d42d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SBtHsLx9DXVj7g_1Ho7vvQ.png"/></div></div></figure><p id="1904" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">首先，我们需要在图像中“找到”文档:文档分割。</p><p id="ad40" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">其次，我们需要“找到”字符并提取文本:光学字符识别。</p><p id="d0df" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">幸运的是，苹果为我们提供了大量现成的代码，我们可以抓取并粘合在一起，制作一个漂亮而闪亮的应用程序。</p><p id="eb39" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">下图显示了涉及的主要类和框架。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/bb134288acaf36f26c2b41e2800822d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J5peKgo5gjSd7JRjkHYfgg.png"/></div></div></figure><p id="2fb6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然而，只有两个类是最重要的，我们将重点关注。</p><p id="12f1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">第一个是<code class="fe nh ni nj nk b">VNDocumentCameraViewController</code>:</p><blockquote class="nl nm nn"><p id="08ab" class="ku kv no kw b kx ky ju kz la lb jx lc np le lf lg nq li lj lk nr lm ln lo lp im bi translated">显示文档照相机所见内容的视图控制器。</p></blockquote><p id="4f2a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">第二个是<code class="fe nh ni nj nk b">VNRecognizeTextRequest</code>:</p><blockquote class="nl nm nn"><p id="cdd9" class="ku kv no kw b kx ky ju kz la lb jx lc np le lf lg nq li lj lk nr lm ln lo lp im bi translated">一种图像分析请求，用于查找和识别图像中的文本。</p></blockquote><p id="93dc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">此外，我们在两者之间使用一点组合来“粘合”东西。</p><p id="4124" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于用户交互，我们将使用SwiftUI。</p><h2 id="b6a5" class="lq lr it bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">文档分割</h2><p id="c1bb" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">让我们把重点放在文档分割上，以了解实现我们的应用程序所需了解的背景。</p><p id="1f47" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">维基百科将文档分段定义为:</p><blockquote class="nl nm nn"><p id="eca6" class="ku kv no kw b kx ky ju kz la lb jx lc np le lf lg nq li lj lk nr lm ln lo lp im bi translated">在数字图像处理和计算机视觉中，图像分割是将数字图像分割成多个片段(像素组，也称为图像对象)的过程。</p></blockquote><p id="f749" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">总的来说，苹果为我们提供了<code class="fe nh ni nj nk b">VNRequest</code>:</p><blockquote class="nl nm nn"><p id="c3e1" class="ku kv no kw b kx ky ju kz la lb jx lc np le lf lg nq li lj lk nr lm ln lo lp im bi translated">分析请求的抽象超类。</p></blockquote><p id="6c9d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><code class="fe nh ni nj nk b">VNRequests</code>提供大量文档分析请求，如</p><ul class=""><li id="1ee6" class="mr ms it kw b kx ky la lb ld mt lh mu ll mv lp mw mx my mz bi translated">条形码检测</li><li id="5f34" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp mw mx my mz bi translated">文本识别</li><li id="96d3" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp mw mx my mz bi translated">轮廓检测</li><li id="265b" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp mw mx my mz bi translated">矩形检测</li><li id="2979" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp mw mx my mz bi translated">2021年的新功能:文档分段检测</li></ul><p id="f9ef" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最后一个是我们需要的。其具体实施是<code class="fe nh ni nj nk b">VNDetectDocumentSegmentationRequest</code>:</p><blockquote class="nl nm nn"><p id="0b28" class="ku kv no kw b kx ky ju kz la lb jx lc np le lf lg nq li lj lk nr lm ln lo lp im bi translated">检测输入图像中包含文本的矩形区域的对象。</p></blockquote><p id="da10" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是一个基于机器学习的检测器，在装有苹果神经引擎的设备上实时运行。它提供了一个分割蒙版和角点，正在<code class="fe nh ni nj nk b">VNDocumentCameraViewController</code>中使用。</p><p id="4f88" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">过去，为了分割文档，我们不得不使用更通用的<code class="fe nh ni nj nk b">VNDetectRectanglesRequest</code>进行矩形检测:</p><blockquote class="nl nm nn"><p id="1ced" class="ku kv no kw b kx ky ju kz la lb jx lc np le lf lg nq li lj lk nr lm ln lo lp im bi translated">在图像中查找投影矩形区域的图像分析请求。</p></blockquote><p id="20bc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">它使用运行在CPU上的传统算法。它检测边缘并寻找交点，以形成仅具有角点的四边形。它可以检测包括嵌套矩形在内的N矩形。</p><p id="9742" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">相比之下，新的<code class="fe nh ni nj nk b">VNDetectDocumentSegmentationRequest</code>使用的是基于机器学习的算法，运行在神经引擎、GPU或CPU上。它已经在文档、标签、标志上接受过训练，包括非矩形形状。它找到一个文档，并为我们提供分段掩码和角点。</p><p id="b16f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了方便起见，我们甚至不必直接使用<code class="fe nh ni nj nk b">VNDetectDocumentSegmentationRequest</code>，因为它已经封装在<code class="fe nh ni nj nk b">VNDocumentCameraViewController</code>中:</p><blockquote class="nl nm nn"><p id="5d4b" class="ku kv no kw b kx ky ju kz la lb jx lc np le lf lg nq li lj lk nr lm ln lo lp im bi translated">显示文档照相机所见内容的视图控制器。</p></blockquote><p id="8052" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们已经具备了进行下一步处理所需的一切:从文档中提取文本。</p><h2 id="b0cb" class="lq lr it bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">光学字符识别</h2><p id="4117" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">让我们再次从维基百科获得帮助，让我们对光学字符识别(OCR)有一个大致的了解:</p><blockquote class="nl nm nn"><p id="1a91" class="ku kv no kw b kx ky ju kz la lb jx lc np le lf lg nq li lj lk nr lm ln lo lp im bi translated">光学字符识别或光学字符阅读器(OCR)是将打字、手写或印刷文本的图像电子或机械转换成机器编码的文本，无论是从扫描的文档、文档的照片、场景照片(例如风景照片中的标志和广告牌上的文本)还是从叠加在图像上的字幕文本(例如电视广播)</p></blockquote><p id="6afb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">直到2019年，我们将不得不使用<code class="fe nh ni nj nk b">VNDetectRectanlgesRequest</code>和<code class="fe nh ni nj nk b">VNTextObservation</code>，然后执行多个步骤来提取文本:</p><ol class=""><li id="3e61" class="mr ms it kw b kx ky la lb ld mt lh mu ll mv lp ns mx my mz bi translated">迭代观察中的字符框。</li><li id="3b17" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp ns mx my mz bi translated">训练CoreML模型做字符识别。</li><li id="9c3a" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp ns mx my mz bi translated">在字符盒上运行模型。</li><li id="5cd7" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp ns mx my mz bi translated">防止可能的垃圾结果的阈值。</li><li id="81e7" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp ns mx my mz bi translated">将字符连接成字符串。</li><li id="5cad" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp ns mx my mz bi translated">将识别的字符固定在字符串中。</li><li id="e854" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp ns mx my mz bi translated">基于字典和字符对的其他概率试探法修复识别的单词。</li></ol><p id="b98c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">那是我们不得不做的许多事情，但再也不是了…</p><p id="79a8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">多亏了<code class="fe nh ni nj nk b">VNRecognizeTextRequest</code>，所有的步骤都被简化成了一行程序。</p><p id="ab06" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">嗯，我希望能有更多的东西来写，但它真的很简单。我们现在手头上有写一个应用程序的一切，我已经为你做了。</p><p id="f887" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在下一章，我将提供Xcode项目的概述，指出完成所有工作的类，并向您介绍一些特性。</p><h2 id="6758" class="lq lr it bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">参考应用程序演练</h2><p id="5c8c" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">一切都从Xcode的标准SwiftUI应用程序开始。在我添加了所有必要的代码之后，项目结构如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl nt"><img src="../Images/1236c4d202f5a642541ed8cb87358229.png" data-original-src="https://miro.medium.com/v2/format:webp/1*ng0IsqwkyjAcDBBeHFGy6Q.png"/></div></figure><p id="53ef" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">完成所有工作的两个最重要的类是<code class="fe nh ni nj nk b">DocumentCameraView</code>和<code class="fe nh ni nj nk b">TextScanner</code>。</p><p id="fd90" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们需要<code class="fe nh ni nj nk b">DocumentCameraView</code>来“包装”<code class="fe nh ni nj nk b">VNDocumentCameraViewController</code>，它是一个<code class="fe nh ni nj nk b">UIKit</code>类，不是SwiftUI的原生类。</p><p id="cf46" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我在我的教程中描述过:</p><div class="nu nv gp gr nw nx"><a rel="noopener  ugc nofollow" target="_blank" href="/using-uiview-in-swiftui-ec4e2b39451b"><div class="ny ab fo"><div class="nz ab oa cl cj ob"><h2 class="bd iu gy z fp oc fr fs od fu fw is bi translated">在SwiftUI中使用UIView和UIViewController</h2><div class="oe l"><h3 class="bd b gy z fp oc fr fs od fu fw dk translated">编辑描述</h3></div><div class="of l"><p class="bd b dl z fp oc fr fs od fu fw dk translated">itnext.io</p></div></div><div class="og l"><div class="oh l oi oj ok og ol ks nx"/></div></div></a></div><p id="bef9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><code class="fe nh ni nj nk b">VNDocumentCameraViewController</code>的“结果”是<code class="fe nh ni nj nk b">VNDocumentCameraScan</code>。</p><p id="505b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">此时，<code class="fe nh ni nj nk b">TextScanner</code>类开始发挥作用，它将<code class="fe nh ni nj nk b">VNDocumentCameraScan</code>用于进一步处理，从扫描的图像中提取文本数据。</p><p id="8eda" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了让代码尽可能简单，我把主视图中的所有东西都粘在了一起，这个视图在<code class="fe nh ni nj nk b">ContentView</code>中。我认为没有必要为一个应该尽可能简单的应用程序引入一个花哨的应用程序架构。</p><p id="5252" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在是时候介绍一下<code class="fe nh ni nj nk b">VNDocumentCameraViewController</code>附带的一些应用功能了。</p><p id="22cd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">相机视图中有几个选项可以优化我们应用的性能和准确性。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl nt"><img src="../Images/45e011a796665447f5c8eedd7fded654.png" data-original-src="https://miro.medium.com/v2/format:webp/1*c5i_OpU26b4CM-yLD5zTNg.png"/></div></figure><ul class=""><li id="b190" class="mr ms it kw b kx ky la lb ld mt lh mu ll mv lp mw mx my mz bi translated">我们可以将闪光灯设置为自动模式(默认)，持续开启或关闭。</li><li id="60d5" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp mw mx my mz bi translated">文档模式的选项有彩色(默认)、灰度、黑白和照片。</li><li id="6b06" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp mw mx my mz bi translated">快门行为也可以改变。每当相机“认为”它已经识别了一个文件，它将自动“按下”快门(默认)。万一我们真的要自己按快门按钮，这个需要设置为“手动”。</li></ul><p id="d5dd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在手动模式下按下快门时，文件不会自动分割。这种分割必须由我们自己通过调整角点来手动完成。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl nt"><img src="../Images/7c1cde72bdaad8a0690efe7ac7736490.png" data-original-src="https://miro.medium.com/v2/format:webp/1*5zJBNQKTBFI6UMWscjefiw.jpeg"/></div></figure><p id="923c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当按下“取消”按钮时，我们进入结果视图，当没有拍摄照片时，结果视图是空的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl nt"><img src="../Images/59f19af8bb0a95f6ef8942bf4674198f.png" data-original-src="https://miro.medium.com/v2/format:webp/1*DKJ1s1aJXG2uYPbah5pHkg.png"/></div></figure><p id="86c3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在结果视图中，我们通过按右上角的“扫描”图标返回相机视图。</p><p id="7ca3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">大概就是这样。让我们结束它。</p><h2 id="1c6a" class="lq lr it bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">结论</h2><p id="64c7" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">多好的旅程啊。从我们需要的基本构建模块开始，文档分割和文本识别，我们学习了构建应用程序所需的所有类和框架。</p><p id="c06d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然后，我们开发了一个完全可用的iOS应用程序，它可以针对您可能想要实现的任何特定用例和要求进行调整和扩展。</p><p id="d8b2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我真诚地希望这将帮助你启动你的下一个大的应用程序的想法！</p><p id="461a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><a class="ae mq" href="https://www.buymeacoffee.com/twissmueller/e/52154" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu">点击此链接</strong> </a> <strong class="kw iu">可以下载完整的Xcode项目。</strong></p><p id="158a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">感谢您的阅读！</p><ul class=""><li id="368f" class="mr ms it kw b kx ky la lb ld mt lh mu ll mv lp mw mx my mz bi translated">如果你喜欢这个，请<a class="ae mq" href="https://twissmueller.medium.com/" rel="noopener">在Medium </a>上跟随我</li><li id="ceda" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp mw mx my mz bi translated">给我买杯咖啡让我继续前进</li><li id="32a8" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp mw mx my mz bi translated">通过<a class="ae mq" href="https://twissmueller.medium.com/membership" rel="noopener">在这里注册</a>来支持我和其他媒体作者</li></ul><div class="nu nv gp gr nw nx"><a href="https://twissmueller.medium.com/membership" rel="noopener follow" target="_blank"><div class="ny ab fo"><div class="nz ab oa cl cj ob"><h2 class="bd iu gy z fp oc fr fs od fu fw is bi translated">通过我的推荐链接加入媒体</h2><div class="oe l"><h3 class="bd b gy z fp oc fr fs od fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="of l"><p class="bd b dl z fp oc fr fs od fu fw dk translated">twissmueller.medium.com</p></div></div><div class="og l"><div class="om l oi oj ok og ol ks nx"/></div></div></a></div><h2 id="f0b9" class="lq lr it bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">资源</h2><ul class=""><li id="9788" class="mr ms it kw b kx mj la mk ld on lh oo ll op lp mw mx my mz bi translated"><a class="ae mq" href="https://developer.apple.com/videos/play/wwdc2021/10041/" rel="noopener ugc nofollow" target="_blank">使用视觉提取文档数据</a></li><li id="6461" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp mw mx my mz bi translated"><a class="ae mq" href="https://developer.apple.com/videos/play/wwdc2019/234/" rel="noopener ugc nofollow" target="_blank">视觉框架中的文本识别</a></li><li id="4606" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp mw mx my mz bi translated"><a class="ae mq" href="https://developer.apple.com/documentation/visionkit/vndocumentcameraviewcontroller" rel="noopener ugc nofollow" target="_blank">VNDocumentCameraViewController</a></li><li id="cc59" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp mw mx my mz bi translated"><a class="ae mq" href="https://developer.apple.com/documentation/vision/vnrecognizetextrequest" rel="noopener ugc nofollow" target="_blank"> VNRecognizeTextRequest </a></li><li id="e8e0" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp mw mx my mz bi translated"><a class="ae mq" href="https://en.wikipedia.org/wiki/Image_segmentation" rel="noopener ugc nofollow" target="_blank">图像分割</a></li><li id="592a" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp mw mx my mz bi translated"><a class="ae mq" href="https://en.wikipedia.org/wiki/Optical_character_recognition" rel="noopener ugc nofollow" target="_blank">光学字符识别</a></li><li id="2376" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp mw mx my mz bi translated"><a class="ae mq" href="https://developer.apple.com/documentation/vision/vnrequest" rel="noopener ugc nofollow" target="_blank"> VNRequest </a></li><li id="276e" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp mw mx my mz bi translated"><a class="ae mq" href="https://developer.apple.com/documentation/vision/vndetectdocumentsegmentationrequest" rel="noopener ugc nofollow" target="_blank">vndetectdocumentationrequest</a></li><li id="979a" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp mw mx my mz bi translated"><a class="ae mq" href="https://developer.apple.com/documentation/vision/vndetectrectanglesrequest" rel="noopener ugc nofollow" target="_blank">VNDetectRectanglesRequest</a></li><li id="68a3" class="mr ms it kw b kx na la nb ld nc lh nd ll ne lp mw mx my mz bi translated"><a class="ae mq" href="https://www.vadimbulavin.com/understanding-schedulers-in-swift-combine-framework/" rel="noopener ugc nofollow" target="_blank">了解Swift Combine框架中的调度器</a></li></ul></div></div>    
</body>
</html>