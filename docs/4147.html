<html>
<head>
<title>How to remove🗑multiple elements from an array — CPAS 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何从数组中remove🗑multiple元素— CPAS 1</h1>
<blockquote>原文：<a href="https://itnext.io/remove-elements-from-an-array-recursively-cpas-1-856cc44613c5?source=collection_archive---------5-----------------------#2020-05-05">https://itnext.io/remove-elements-from-an-array-recursively-cpas-1-856cc44613c5?source=collection_archive---------5-----------------------#2020-05-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="0b5d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">了解如何使用命令式或声明式编程从数组中移除多个对象。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/2711b17efa18f51517433f91256d2bc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BGwG5AJ4P88K2bNO_upjOQ.jpeg"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">卢卡·布拉沃在<a class="ae le" href="https://unsplash.com/s/photos/array-code?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h1 id="10db" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">序</h1><blockquote class="md me mf"><p id="a350" class="jq jr mg js b jt ju jv jw jx jy jz ka mh kc kd ke mi kg kh ki mj kk kl km kn im bi translated">经过多年的编码，我意识到编码，80–90%的时间，涉及解决相同和相同的问题。我可以肯定地说，我创建的80%的应用程序中，几乎80%的代码都是相同的。所以我们可以说，我们作为开发人员解决的问题是一样的。考虑到这一点，我决定制作一个名为<strong class="js iu">的故事系列——常见问题和解决方案。</strong>我将从一个特别常见的情况开始这个系列，从一个数组中删除多个元素。</p></blockquote><h1 id="a0bf" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">真实案例场景</h1><p id="c5a8" class="pw-post-body-paragraph jq jr it js b jt mk jv jw jx ml jz ka kb mm kd ke kf mn kh ki kj mo kl km kn im bi translated">一个可能的场景是下面的应用程序，其中我们有一个待办事项列表，或者在我们的例子中，有一个通知列表。目标是选择多个元素，然后一次删除它们。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mp"><img src="../Images/a5dbe82f7a277b4ead5209c1bf8f7514.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*AD0kLYHoyxC52iUyUpjYpw.gif"/></div></div></figure></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="f09e" class="lf lg it bd lh li mx lk ll lm my lo lp lq mz ls lt lu na lw lx ly nb ma mb mc bi translated">问题是</h1><p id="fad7" class="pw-post-body-paragraph jq jr it js b jt mk jv jw jx ml jz ka kb mm kd ke kf mn kh ki kj mo kl km kn im bi translated">通知对象如下所示:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nc"><img src="../Images/416000fd159d45de315d34b622fb4dc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kK8-thnF6eaTLYK-69Is5g.png"/></div></div></figure><p id="27f5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">问题是，我们不仅有一个对象数组，而且有它们唯一的字段，<strong class="js iu"> <em class="mg"> _id，</em> </strong> <em class="mg"> </em>是一个<strong class="js iu"> <em class="mg"> UUID。</em> </strong>正因为如此，我们不能对它们进行升序或降序排序，这样删除过程会容易得多。</p><h1 id="f2a2" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">解决方案👨‍💻</h1><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="a3f4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于这个问题，我想出了两种不同的解决方案。</p><ul class=""><li id="2588" class="nf ng it js b jt ju jx jy kb nh kf ni kj nj kn nk nl nm nn bi translated">声明式解决方案</li><li id="c592" class="nf ng it js b jt no jx np kb nq kf nr kj ns kn nk nl nm nn bi translated">迫切的解决办法</li></ul><p id="ffaf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你可以在栈溢出文章中读到更多关于它们的不同之处。</p><h2 id="ad15" class="nt lg it bd lh nu nv dn ll nw nx dp lp kb ny nz lt kf oa ob lx kj oc od mb oe bi translated">解决方案1 —声明式</h2><p id="1182" class="pw-post-body-paragraph jq jr it js b jt mk jv jw jx ml jz ka kb mm kd ke kf mn kh ki kj mo kl km kn im bi translated">简单来说，声明性意味着我们编写描述我们想要发生的事情的代码，我们不知道具体的实现以及它在幕后是如何工作的。</p><p id="2323" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因为我们有一个角度应用程序，我们的列表类型是<strong class="js iu"><em class="mg">mat-selection-list</em></strong></p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi of"><img src="../Images/9140818d48a6b33fffe17900f7dc0c99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ocTlovFNhBgzUZ15IYcMTg.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">。超文本标记语言</figcaption></figure><p id="5431" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">并且我们在模板中绑定了通知的<strong class="js iu"> <em class="mg"> _id </em> </strong>，我们可以使用下面的代码片段简单地得到选中的项目:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi og"><img src="../Images/3ee922cdfc12720b528dc148935c912d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B8IL7SYZOXyF4vEEvZrWgA.png"/></div></div></figure><p id="28ae" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在要从<strong class="js iu"> <em class="mg"> notification </em> </strong>对象中删除选中的条目，我们可以利用<strong class="js iu"> <em class="mg"> filter </em> </strong>方法删除id不在<strong class="js iu"><em class="mg">idsOfSelectedNotifications</em></strong>数组中的通知。</p><p id="d459" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">实现如下所示:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oh"><img src="../Images/a923e35bda3b5fa65141d3dcf62de89b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xDrLg7F8HUGKKlaHymdOtA.png"/></div></div></figure><p id="2138" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="mg"> filter </em> </strong>函数将遍历vector<strong class="js iu"><em class="mg">notifications</em></strong>并只返回括号内条件为真的元素。</p><h2 id="f2e3" class="nt lg it bd lh nu nv dn ll nw nx dp lp kb ny nz lt kf oa ob lx kj oc od mb oe bi translated">解决方案2 —必要性</h2><p id="540c" class="pw-post-body-paragraph jq jr it js b jt mk jv jw jx ml jz ka kb mm kd ke kf mn kh ki kj mo kl km kn im bi translated">在第二个解决方案中，用<strong class="js iu">命令式</strong>编程来解决它，我们需要一步一步地告诉编译器我们想要发生什么。</p><p id="3786" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了让事情更有趣，我们将使用递归。</p><p id="4b36" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我先展示最终代码，然后再解释。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oi"><img src="../Images/47851e773cfa230176967cc5d2165a47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aVDoJpo_z0wKJ6X58l99cw.png"/></div></div></figure><ul class=""><li id="acf7" class="nf ng it js b jt ju jx jy kb nh kf ni kj nj kn nk nl nm nn bi translated">按下删除按钮时，触发功能<code class="fe oj ok ol om b"><strong class="js iu">onDeleteMarkedItems</strong></code></li><li id="33b1" class="nf ng it js b jt no jx np kb nq kf nr kj ns kn nk nl nm nn bi translated">和前面一样，向量是用要删除的元素的id构建的</li><li id="0fea" class="nf ng it js b jt no jx np kb nq kf nr kj ns kn nk nl nm nn bi translated">向量被发送到递归函数</li><li id="90ab" class="nf ng it js b jt no jx np kb nq kf nr kj ns kn nk nl nm nn bi translated">递归函数将从向量<strong class="js iu"> </strong> <code class="fe oj ok ol om b"><strong class="js iu">ids</strong></code>中获取第一个id；将在<code class="fe oj ok ol om b">notifications</code>数组中寻找其对应的位置，然后从该位置删除向量<code class="fe oj ok ol om b">notifications</code>中的元素。之后它将移动<code class="fe oj ok ol om b">ids</code>向量，然后调用函数，直到数组<code class="fe oj ok ol om b">ids</code>为空；</li></ul><h1 id="f36a" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">结论</h1><p id="0054" class="pw-post-body-paragraph jq jr it js b jt mk jv jw jx ml jz ka kb mm kd ke kf mn kh ki kj mo kl km kn im bi translated">如果我们比较这两种变体，第一种解决方案不仅更容易编写和理解，而且在执行速度方面也更胜一筹。递归解决方案的性能随着数组中元素数量的增加而降低。</p><p id="b793" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然而，我也展示了这个解决方案，作为理解递归函数的额外练习。😃</p></div></div>    
</body>
</html>