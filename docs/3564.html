<html>
<head>
<title>How to simultaneously start multiple instances of iOS simulator on Expo</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Expo上同时启动iOS模拟器的多个实例</h1>
<blockquote>原文：<a href="https://itnext.io/start-multiple-instances-of-ios-simulator-simultaneously-on-expo-dfa8dc6f3488?source=collection_archive---------4-----------------------#2020-01-09">https://itnext.io/start-multiple-instances-of-ios-simulator-simultaneously-on-expo-dfa8dc6f3488?source=collection_archive---------4-----------------------#2020-01-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="80c4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在我参与的每个React原生项目中，总有一个最害怕的时刻:检查你的应用程序是否在许多智能手机和iOS/Android版本上按预期运行(并尽可能与设计师共享的ui相似)。</p><p id="9338" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">默认情况下，Expo <strong class="js iu">只允许你通过Expo开发者工具打开一个iOS模拟器</strong>,但是当你只打开一个设备时，很难检查布局是否按预期工作(以及检查当前的修复是否破坏了其他任何东西)。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/d44b3d90e36d33139b0568a157705b9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7a_kCsxTrle6Ml5kYibbGw.png"/></div></div></figure><p id="cf10" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你总是可以手动打开iOS模拟器的多个实例，在每个实例上安装Expo应用程序，然后启动应用程序，但如果你每天都需要这样做，或者如果你误按了<strong class="js iu"> cmd+q </strong>，那就太浪费时间了。</p><h1 id="b582" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">拯救脚本</h1><p id="9f81" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">为了解决这个问题，<strong class="js iu">我们可以创建一个bash脚本</strong>，它可以自动启动iOS模拟器，安装最新版本的Expo应用程序，并启动你的应用程序。</p><h2 id="fafb" class="md lb it bd lc me mf dn lg mg mh dp lk kb mi mj lo kf mk ml ls kj mm mn lw mo bi translated">1.找到您想要启动的设备的id👀</h2><p id="7457" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">最好的方法是打开你的终端并启动</p><pre class="kp kq kr ks gt mp mq mr ms aw mt bi"><span id="6166" class="md lb it mq b gy mu mv l mw mx">xcrun simctl list</span></pre><p id="ad02" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这将输出您的Mac上所有可用的模拟器。它们已经按照iOS版本和设备类型进行了排序。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi my"><img src="../Images/6b766d7c63edb9ffc8ba5e13487da82c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z10uAYXWrPVQo7rKbBgZvg.png"/></div></div></figure><p id="252d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们将推出3款设备:一款iPhone 5s、一款iPhone 6s Plus和一款iPhone 11 Pro Max。让我们复制他们的id(设备名称后面的字母数字字符)并保存以备后用。</p><blockquote class="mz na nb"><p id="afc7" class="jq jr nc js b jt ju jv jw jx jy jz ka nd kc kd ke ne kg kh ki nf kk kl km kn im bi translated">5c 023 a 36-ba F9–4417-AD44-e1a 446081337</p><p id="37c5" class="jq jr nc js b jt ju jv jw jx jy jz ka nd kc kd ke ne kg kh ki nf kk kl km kn im bi translated">dd0 b 67 ad-ffd 2–408 a-AB0B-556801 e7b 342</p><p id="c2fa" class="jq jr nc js b jt ju jv jw jx jy jz ka nd kc kd ke ne kg kh ki nf kk kl km kn im bi translated">a232d 839-BC4B-45DA-8B6C-f 57 da 8 EB 44 DC</p></blockquote><h2 id="d414" class="md lb it bd lc me mf dn lg mg mh dp lk kb mi mj lo kf mk ml ls kj mm mn lw mo bi translated">2.查找最新版本的世博会应用程序</h2><p id="5760" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">我们需要知道将安装在模拟器上的世博会应用程序客户端的最新版本(截至2020年1月，这是2.14.1)。</p><p id="e9cc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个应用程序已经存在于你的Mac电脑的Expo缓存中，所以我们只需要转到这个文件夹</p><pre class="kp kq kr ks gt mp mq mr ms aw mt bi"><span id="02ab" class="md lb it mq b gy mu mv l mw mx">~/.expo/ios-simulator-app-cache</span></pre><p id="6c86" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">而且你会发现Expo已经下载的所有app版本。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ng"><img src="../Images/ae6b45929ebe8fd8f9985155e3cfe0cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c5Le8jY56hZMkzvOSJ_wGA.png"/></div></div></figure><h2 id="b7bc" class="md lb it bd lc me mf dn lg mg mh dp lk kb mi mj lo kf mk ml ls kj mm mn lw mo bi translated">3.创建脚本👨‍💻</h2><p id="9895" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">创建一个名为start_simulators.sh的文件(根据需要更改名称)并输入以下代码(我在这个S <a class="ae nh" href="https://stackoverflow.com/questions/53924934/can-i-run-my-expo-app-on-multiple-ios-simulators-at-once" rel="noopener ugc nofollow" target="_blank"> tackOverflow答案</a>上找到了这个脚本，作者是<a class="ae nh" href="https://stackoverflow.com/users/2331445/stephan-schlecht" rel="noopener ugc nofollow" target="_blank"> Stephan Schlecht </a>):</p><pre class="kp kq kr ks gt mp mq mr ms aw mt bi"><span id="0156" class="md lb it mq b gy mu mv l mw mx">#!/bin/bash<br/>declare -a simulators=(<strong class="mq iu">"0FAE2F92-9EF7-4C4A-8F9D-097A056F8CC0" "BFCDD662-E4DE-4C08-9DF6-CAACA7C00CEC" "1A6959A0-C10F-474B-96C5-7E8955FBDD80"</strong>)<br/><br/>for i in "${simulators[@]}"<br/>do<br/>    xcrun instruments -w $i<br/>    xcrun simctl install $i ~/.expo/ios-simulator-app-cache/Exponent-<strong class="mq iu">2.14.1</strong>.app<br/>    xcrun simctl openurl $i exp://127.0.0.1:19000      <br/>done</span></pre><p id="f1ea" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如您所见，在这个脚本中，您需要输入模拟器id和(用引号和空格分隔)Expo应用程序的最新版本。</p><p id="1689" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在您需要使这个脚本可执行:</p><pre class="kp kq kr ks gt mp mq mr ms aw mt bi"><span id="5315" class="md lb it mq b gy mu mv l mw mx">chmod 755 start_simulators.sh</span></pre><h2 id="c470" class="md lb it bd lc me mf dn lg mg mh dp lk kb mi mj lo kf mk ml ls kj mm mn lw mo bi translated">4.你想怎么用就怎么用，✨</h2><p id="c66e" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">现在，您可以在终端中输入命令</p><pre class="kp kq kr ks gt mp mq mr ms aw mt bi"><span id="eb0e" class="md lb it mq b gy mu mv l mw mx">./start_simulators.sh</span></pre><p id="ac00" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它将自动启动选定的模拟器，并安装Expo应用程序，在端口19000上打开Expo应用程序。</p><p id="9683" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在是时候修复UI错误了！</p></div></div>    
</body>
</html>