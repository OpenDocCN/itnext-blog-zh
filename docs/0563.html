<html>
<head>
<title>Building React App Part 2— Architecture Boilerplate</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建React应用程序第2部分—架构样板</h1>
<blockquote>原文：<a href="https://itnext.io/building-react-app-part-2-architecture-boilerplate-683b992089a6?source=collection_archive---------2-----------------------#2018-04-02">https://itnext.io/building-react-app-part-2-architecture-boilerplate-683b992089a6?source=collection_archive---------2-----------------------#2018-04-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><blockquote class="jn jo jp"><p id="14f6" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated"><a class="ae kp" href="https://www.linkedin.com/cws/share?url=https%3A%2F%2Fitnext.io%2Fbuilding-react-app-part-2-architecture-boilerplate-683b992089a6%3Futm_source%3Dmedium_sharelink%26utm_medium%3Dsocial%26utm_campaign%3Dbuffer" rel="noopener ugc nofollow" target="_blank">点击这里在LinkedIn上分享这篇文章</a></p></blockquote><p id="b61e" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">教程结束后，最大的入门障碍是环境设置和应用架构。即使您对React及其生态系统有足够的了解，构建一个功能齐全、可伸缩和模块化的应用程序仍然是一个挑战。</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi kt"><img src="../Images/07fa028afb480edc2dd3e134eb2008a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5EbZ6vK6B7lq5FyXMlGEBQ.png"/></div></div></figure><p id="23fa" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">虽然没有完美的、适合所有人的解决方案。在本文中，我们将尝试达到这样一个水平，即使用预设的样板代码可以构建一个好的客户端应用程序，这将帮助您在几分钟内开始开发。</p><p id="130c" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">我并不是说这是完美的或者可以在所有情况下使用。这是我已经使用了一段时间的产品，效果非常好。</p><div class="lf lg gp gr lh li"><a href="https://github.com/ankitsharma6466/react-boilerplate" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab fo"><div class="lk ab ll cl cj lm"><h2 class="bd ir gy z fp ln fr fs lo fu fw ip bi translated">ankitsharma 6466/react-样板文件</h2><div class="lp l"><h3 class="bd b gy z fp ln fr fs lo fu fw dk translated">样板代码帮助您开始开发高度优化的PWA。</h3></div><div class="lq l"><p class="bd b dl z fp ln fr fs lo fu fw dk translated">github.com</p></div></div><div class="lr l"><div class="ls l lt lu lv lr lw ld li"/></div></div></a></div><p id="45ba" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">以上是我的参考样本库的链接。欢迎反馈和改进。</p><p id="bf46" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated"><em class="js">注:本文重点是</em> <strong class="jt ir"> <em class="js">不是</em> </strong> <em class="js">学习</em> <strong class="jt ir"> <em class="js">如何在React中编码，</em> </strong> <em class="js">有很多牛逼的文章可用。我假设您至少了解react、redux、react-routing的基础知识。这都是关于设置环境，使用样板文件构建应用程序。</em></p></div><div class="ab cl lx ly hu lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ij ik il im in"><h1 id="4caf" class="me mf iq bd mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb bi translated">我们开始吧</h1><p id="b355" class="pw-post-body-paragraph jq jr iq jt b ju nc jw jx jy nd ka kb kq ne ke kf kr nf ki kj ks ng km kn ko ij bi translated">有许多方法可以进行React设置。在开始设置之前，需要知道一些事情。除了react之外，我们还将使用</p><ul class=""><li id="e84c" class="nh ni iq jt b ju jv jy jz kq nj kr nk ks nl ko nm nn no np bi translated"><a class="ae kp" href="https://webpack.js.org/" rel="noopener ugc nofollow" target="_blank"> Webpack </a> —用于构建和捆绑</li><li id="8ce2" class="nh ni iq jt b ju nq jy nr kq ns kr nt ks nu ko nm nn no np bi translated"><a class="ae kp" href="https://redux.js.org/" rel="noopener ugc nofollow" target="_blank"> Redux </a> —用于状态管理</li><li id="a985" class="nh ni iq jt b ju nq jy nr kq ns kr nt ks nu ko nm nn no np bi translated">Axios  —用于Http呼叫</li><li id="cb6e" class="nh ni iq jt b ju nq jy nr kq ns kr nt ks nu ko nm nn no np bi translated"><a class="ae kp" href="https://github.com/ReactTraining/react-router" rel="noopener ugc nofollow" target="_blank"> React路由器</a> —用于路由和历史回溯管理</li></ul><p id="b89e" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">这些是与React一起广泛使用的一些库和实用程序(可能还有其他替代程序，完全取决于开发人员)。如果你先阅读以上内容，然后继续使用样板文件，那会很好。</p><h2 id="0b58" class="nv mf iq bd mg nw nx dn mk ny nz dp mo kq oa ob ms kr oc od mw ks oe of na og bi translated">奖金</h2><p id="5fdd" class="pw-post-body-paragraph jq jr iq jt b ju nc jw jx jy nd ka kb kq ne ke kf kr nf ki kj ks ng km kn ko ij bi translated">我们已经使用了脸书介绍的<a class="ae kp" href="https://github.com/facebook/create-react-app" rel="noopener ugc nofollow" target="_blank"> <strong class="jt ir"> create-react-app </strong> </a>，它去掉了70%的样板文件设置。这是一个包装器，所以你不需要担心环境设置、Webpack配置、捆绑包属性、开发服务器等等。所有这些令人头痛的事情都由脸书处理，所以您所有的担心都是围绕构建应用程序。</p><p id="345b" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">create-react-app 用react为我们提供了完整的环境设置，但如今应用程序需要的不仅仅是React。应用程序正在快速增长，而像状态管理这样的东西很快就失去了控制。</p><p id="4fd5" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">让我们不要浪费时间讨论为什么，做什么和不做什么！！一份很棒的申请在等着你。</p><h2 id="10e7" class="nv mf iq bd mg nw nx dn mk ny nz dp mo kq oa ob ms kr oc od mw ks oe of na og bi translated">设置</h2><p id="b567" class="pw-post-body-paragraph jq jr iq jt b ju nc jw jx jy nd ka kb kq ne ke kf kr nf ki kj ks ng km kn ko ij bi translated">1.克隆存储库。</p><pre class="ku kv kw kx gt oh oi oj ok aw ol bi"><span id="af74" class="nv mf iq oi b gy om on l oo op">git clone <a class="ae kp" href="https://github.com/ankitsharma6466/react-boilerplate.git" rel="noopener ugc nofollow" target="_blank">https://github.com/ankitsharma6466/react-boilerplate.git</a></span></pre><p id="380b" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">2.安装模块。(纱线或npm)</p><pre class="ku kv kw kx gt oh oi oj ok aw ol bi"><span id="6d8a" class="nv mf iq oi b gy om on l oo op">yarn install</span></pre><p id="5140" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">3.启动应用程序</p><pre class="ku kv kw kx gt oh oi oj ok aw ol bi"><span id="1b6e" class="nv mf iq oi b gy om on l oo op">yarn start</span></pre><blockquote class="oq"><p id="31ea" class="or os iq bd ot ou ov ow ox oy oz ko dk translated">瞧啊。！你的应用已启动并运行。</p></blockquote><p id="7f2b" class="pw-post-body-paragraph jq jr iq jt b ju pa jw jx jy pb ka kb kq pc ke kf kr pd ki kj ks pe km kn ko ij bi translated">位于<code class="fe pf pg ph oi b">http://localhost:3000</code>的窗口将显示欢迎回家信息。默认情况下，这是在<code class="fe pf pg ph oi b">development</code>环境中运行应用程序的开发服务器。</p><h2 id="bd16" class="nv mf iq bd mg nw nx dn mk ny nz dp mo kq oa ob ms kr oc od mw ks oe of na og bi translated">该结构</h2><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi pi"><img src="../Images/03a3d223e4abc9a3ca3bd38d086e4bda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hMTIdeVa_SJpNH4gChugFA.png"/></div></div><figcaption class="pj pk gj gh gi pl pm bd b be z dk translated">目录结构</figcaption></figure><p id="c4c4" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">我们将重点关注两个主要目录<strong class="jt ir"> public </strong>和<strong class="jt ir"> src </strong>。现在先忽略<strong class="jt ir">生成器</strong>目录，我们稍后会谈到它。</p><h2 id="dfe9" class="nv mf iq bd mg nw nx dn mk ny nz dp mo kq oa ob ms kr oc od mw ks oe of na og bi translated">公众的</h2><p id="cc0f" class="pw-post-body-paragraph jq jr iq jt b ju nc jw jx jy nd ka kb kq ne ke kf kr nf ki kj ks ng km kn ko ij bi translated">这包含了基本的HTML模板，react应用程序将在其中呈现。像全局字体，一些第三方库，PWA之类的东西都在这个文件夹中完成。建议不要编辑模板，直到您觉得后果完全在控制之下。</p><h2 id="e653" class="nv mf iq bd mg nw nx dn mk ny nz dp mo kq oa ob ms kr oc od mw ks oe of na og bi translated">科学研究委员会</h2><blockquote class="jn jo jp"><p id="361b" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">这是所有奇迹发生的地方。</p></blockquote><p id="5c08" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">这是你的完整申请。让我们一个接一个地进入子目录。</p><ol class=""><li id="1690" class="nh ni iq jt b ju jv jy jz kq nj kr nk ks nl ko pn nn no np bi translated"><strong class="jt ir"> app </strong> —包含应用程序的基本配置文件和入口点。</li><li id="0020" class="nh ni iq jt b ju nq jy nr kq ns kr nt ks nu ko pn nn no np bi translated"><strong class="jt ir">组件</strong> —包含应用广泛使用的全局组件，如页眉、页脚、按钮等。</li><li id="dcb2" class="nh ni iq jt b ju nq jy nr kq ns kr nt ks nu ko pn nn no np bi translated"><strong class="jt ir">资源</strong> —包含图标、图像、字体和类似的东西。</li><li id="719f" class="nh ni iq jt b ju nq jy nr kq ns kr nt ks nu ko pn nn no np bi translated"><strong class="jt ir">实用程序</strong> —包含应用程序范围的实用程序，如网络、存储、常量、日期时间；任何其他常见的实用工具放在这里。</li><li id="3ad0" class="nh ni iq jt b ju nq jy nr kq ns kr nt ks nu ko pn nn no np bi translated"><strong class="jt ir">视图</strong> —包含更多的目录，每个目录代表任何特定功能的完整视图组件，例如:主页。</li></ol><p id="6d02" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">除此之外，它还有<code class="fe pf pg ph oi b">index.js</code>，这是应用程序的入口点。dev服务器从这个文件执行。对于符合PWA资格的应用程序，它应该注册一个服务人员，这就是为什么我们有<code class="fe pf pg ph oi b">registerServiceWorker.js</code></p><pre class="ku kv kw kx gt oh oi oj ok aw ol bi"><span id="65af" class="nv mf iq oi b gy om on l oo op"><strong class="oi ir">import </strong>React <strong class="oi ir">from </strong>'react';<br/><strong class="oi ir">import </strong>ReactDOM <strong class="oi ir">from </strong>'react-dom';<br/><strong class="oi ir">import </strong>App <strong class="oi ir">from </strong>'./app';<br/><strong class="oi ir">import </strong>registerServiceWorker <strong class="oi ir">from </strong>'./registerServiceWorker';<br/><br/>ReactDOM.render(&lt;App /&gt;, document.getElementById('root'));<br/>registerServiceWorker();</span></pre><p id="b345" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">以上是<code class="fe pf pg ph oi b">index.js</code>的内容，它什么也不做，只是提供应用程序组件来作出反应，然后用DOM中的<code class="fe pf pg ph oi b">#root</code>在元素中呈现。</p></div><div class="ab cl lx ly hu lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ij ik il im in"><h2 id="e547" class="nv mf iq bd mg nw nx dn mk ny nz dp mo kq oa ob ms kr oc od mw ks oe of na og bi translated">应用</h2><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div class="gh gi po"><img src="../Images/bb0e1db641eb65fe6a4328ad9d7b5bc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/1*WYhTO-ldoUm_-5SqI14xug.png"/></div></figure><p id="01d1" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">该目录包含应用程序的基本配置。</p><ol class=""><li id="cc45" class="nh ni iq jt b ju jv jy jz kq nj kr nk ks nl ko pn nn no np bi translated"><strong class="jt ir"> index.js </strong> —提供入口点，连接redux商店并绘制路线。</li><li id="cc8a" class="nh ni iq jt b ju nq jy nr kq ns kr nt ks nu ko pn nn no np bi translated"><strong class="jt ir"> reducers.js </strong> —包含将被映射到全局状态存储的每个视图组件的所有reducers映射。对于添加的每个新视图，将在该文件中完成条目以映射到其状态对象。</li><li id="8c35" class="nh ni iq jt b ju nq jy nr kq ns kr nt ks nu ko pn nn no np bi translated"><strong class="jt ir"> store.js </strong> —包含redux商店设置的所有基本配置。</li><li id="39b4" class="nh ni iq jt b ju nq jy nr kq ns kr nt ks nu ko pn nn no np bi translated"><strong class="jt ir"> routes.js </strong> —包含视图组件映射到并将被访问的所有路由，例如:home将在<code class="fe pf pg ph oi b">/</code>被访问，myAccount将在<code class="fe pf pg ph oi b">/account</code>被访问。对于添加的每个新视图，将组件映射到其路由的条目将在此处完成。</li><li id="ff3d" class="nh ni iq jt b ju nq jy nr kq ns kr nt ks nu ko pn nn no np bi translated"><strong class="jt ir"> app.css </strong> —定义全局css规则。例如:应用程序的字体大小，字体家族，页眉，页脚等css。</li><li id="8780" class="nh ni iq jt b ju nq jy nr kq ns kr nt ks nu ko pn nn no np bi translated"><strong class="jt ir">配置</strong> —子目录包含两个普通的。定义应用程序中使用的配置值的json文件。例如:api服务器的基本URL，数据刷新率等。基于环境<code class="fe pf pg ph oi b">index.js</code>将相应地返回config.json。这部分比较主观，看需求。人们也可以将<code class="fe pf pg ph oi b">.env</code>文件用于环境特定的字段。在create-react-app文档中了解更多信息。</li></ol><h2 id="4d0c" class="nv mf iq bd mg nw nx dn mk ny nz dp mo kq oa ob ms kr oc od mw ks oe of na og bi translated">组件、资源和实用程序</h2><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/17777779577af4b26b159ba36c88f806.png" data-original-src="https://miro.medium.com/v2/resize:fit:1192/format:webp/1*QhqgNQSXHxuaTE7v8drnXA.png"/></div></figure><p id="51ee" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">组件包含应用广泛使用的子组件，如:页眉，页脚等。这些子组件可以是常规的，也可以是无状态的。资源和效用如上所述。</p><h1 id="706d" class="me mf iq bd mg mh pq mj mk ml pr mn mo mp ps mr ms mt pt mv mw mx pu mz na nb bi translated">视图</h1><blockquote class="jn jo jp"><p id="e641" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">这就是事情变得有趣的地方</p></blockquote><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div class="gh gi pv"><img src="../Images/52f395441befae636aa5258538d73a33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*QtGLWzgz5P7Hfja3yPXXxQ.png"/></div></figure><p id="6780" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">如上所述，它包含子目录，每个子目录代表属于某个路由的完整视图组件，例如:home。</p><p id="4a6f" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">还有一个<code class="fe pf pg ph oi b">notFound.js</code>，如果没有匹配的路线，它将被渲染。</p><blockquote class="oq"><p id="f59f" class="or os iq bd ot ou pw px py pz qa ko dk translated">起初，对于希望开发一个简单应用的人来说，这一切看起来有点过头了，但是相信我，事情会很快失控。开始时安全比以后后悔要好。</p></blockquote><h2 id="441e" class="nv mf iq bd mg nw qb dn mk ny qc dp mo kq qd ob ms kr qe od mw ks qf of na og bi translated">主页</h2><p id="6810" class="pw-post-body-paragraph jq jr iq jt b ju nc jw jx jy nd ka kb kq ne ke kf kr nf ki kj ks ng km kn ko ij bi translated">这不一定是名称，它将根据您正在构建的视图类型而变化。例如:我的帐户，购物车，订单等。</p><p id="e656" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">我们应用程序中的每个视图至少有5组文件——actions、index、reducer、home和CSS。</p><p id="fec6" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated"><strong class="jt ir"> index.js </strong></p><pre class="ku kv kw kx gt oh oi oj ok aw ol bi"><span id="5674" class="nv mf iq oi b gy om on l oo op"><strong class="oi ir">import </strong>{ connect } <strong class="oi ir">from </strong>'react-redux';<br/><strong class="oi ir">import </strong>Home <strong class="oi ir">from </strong>'./home'<br/><br/><strong class="oi ir">function </strong>mapStateToProps(state) {<br/>  <strong class="oi ir">return </strong>{<br/>    test: state.home.test,<br/>    testData: state.home.testData<br/>  };<br/>}<br/><br/><strong class="oi ir">export default </strong>connect(mapStateToProps)(Home);</span></pre><p id="8009" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">这是视图的入口点。我们在这里为视图定义所有的状态映射。<code class="fe pf pg ph oi b">mapStateToProps</code>是将状态对象从reducer提供给props最终被视图消费的函数。每当我们在reducer中定义一个新的状态时，我们也需要将它映射到这里。</p><p id="897d" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated"><strong class="jt ir"> home.js </strong></p><pre class="ku kv kw kx gt oh oi oj ok aw ol bi"><span id="ffcb" class="nv mf iq oi b gy om on l oo op"><strong class="oi ir">import </strong>React, { Component } <strong class="oi ir">from </strong>'react';<br/><strong class="oi ir">import </strong>'./home.css'<br/><strong class="oi ir">import </strong>Layout <strong class="oi ir">from </strong>'../../components/layout'<br/><strong class="oi ir">import </strong>Actions <strong class="oi ir">from </strong>'./actions'<br/><br/><strong class="oi ir">export default class </strong>Home <strong class="oi ir">extends </strong>Component {<br/>  <br/>  constructor(props) {<br/>    <strong class="oi ir">super</strong>(props);<br/>  }<br/>  <br/>  componentDidMount() {<br/>    <strong class="oi ir">this</strong>.props.dispatch(Actions.test("John Doe"));<br/>  }</span><span id="8ec9" class="nv mf iq oi b gy qg on l oo op">  render() {<br/>    <strong class="oi ir">return </strong>(<br/>      &lt;Layout className="home"&gt;<br/>        Welcome to Home {<strong class="oi ir">this</strong>.props.test}<br/>      &lt;/Layout&gt;<br/>    );<br/>  }<br/>}</span></pre><p id="61a3" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">这是主要观点。您为home或任何视图编写所有视图结构，定义用户将要进行的所有交互，使用映射到props的状态值。</p><p id="ddf8" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated"><strong class="jt ir"> actions.js </strong></p><pre class="ku kv kw kx gt oh oi oj ok aw ol bi"><span id="cf01" class="nv mf iq oi b gy om on l oo op"><strong class="oi ir">import </strong>Network <strong class="oi ir">from </strong>'../../utils/network';<br/><br/><strong class="oi ir">const </strong>actions = {<br/>  test: (msg) =&gt; {<br/>    <strong class="oi ir">return </strong>{<br/>      type: "TEST",<br/>      payload: msg<br/>    }<br/>  }<br/>};<br/><br/><strong class="oi ir">export default </strong>actions;</span></pre><p id="538e" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">Actions也称为ActionCreators，包含针对交互或onLoad等的操作或可执行文件。为加载时获取数据等功能定义函数的简单对象。我们遵循redux标准向商店发送数据。</p><p id="24db" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated"><strong class="jt ir"> reducer.js </strong></p><pre class="ku kv kw kx gt oh oi oj ok aw ol bi"><span id="083f" class="nv mf iq oi b gy om on l oo op"><strong class="oi ir">export default </strong>(state = {<br/>  test: ""<br/>}, action) =&gt; {<br/>  <strong class="oi ir">switch </strong>(action.type) {<br/>    <strong class="oi ir">case </strong>"TEST":<br/>      <strong class="oi ir">return </strong>{...state, test: action.payload};<br/>    <strong class="oi ir">default</strong>: <strong class="oi ir">return </strong>state;<br/>  }<br/>};</span></pre><blockquote class="jn jo jp"><p id="1fa2" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">反对一个行动，总会有一个反应。</p></blockquote><p id="fd9d" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">在redux的帮助下，我们能够分离动作执行和响应处理——分离关注点。</p><p id="e137" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">Reducer最终将接收actionCreator发送的数据。在我们的例子中，动作名<code class="fe pf pg ph oi b">test</code>分派了一个<code class="fe pf pg ph oi b">msg</code>有效载荷。Reducer然后接收并检查动作是什么，然后相应地将数据映射到状态对象。如果没有匹配的动作，则返回默认状态(确保发生这种情况)。</p><p id="4f9b" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">注意:如上所述，我们还需要映射index.js中定义的每个状态对象，以便可以通过props查看这些状态。</p><p id="7046" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated"><strong class="jt ir"> home.css </strong></p><p id="49e8" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">不需要任何特别提及，查看具体风格在这里。</p><blockquote class="oq"><p id="8540" class="or os iq bd ot ou pw px py pz qa ko dk translated">大概就是这样…</p></blockquote><p id="f23f" class="pw-post-body-paragraph jq jr iq jt b ju pa jw jx jy pb ka kb kq pc ke kf kr pd ki kj ks pe km kn ko ij bi translated">尝试对home.js进行更改，并立即看到这些更改得到反映。</p><p id="32a6" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated"><em class="js">祝贺您，您现在已经到了不再考虑设置并开始构建应用的阶段。</em></p><blockquote class="jn jo jp"><p id="4a3a" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">而且还在继续…</p></blockquote><p id="f0aa" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">这部分到此为止。这一切看起来很花哨，但仍然有一个陷阱。当你想要一个新的视角，一条新的路线时该怎么做。这很简单，和我一起跳到第3部分，我们将讨论添加视图和简化过程。</p><p id="10fd" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">继续<a class="ae kp" href="https://medium.com/@ankitsharma6466/building-react-app-part-3-component-generation-455e77d7b1c6" rel="noopener">第3部分——组件生成</a></p><div class="lf lg gp gr lh li"><a href="https://medium.com/@ankitsharma6466_4003/building-react-app-part-3-component-generation-455e77d7b1c6" rel="noopener follow" target="_blank"><div class="lj ab fo"><div class="lk ab ll cl cj lm"><h2 class="bd ir gy z fp ln fr fs lo fu fw ip bi translated">构建React应用程序第3部分—组件生成</h2><div class="lp l"><h3 class="bd b gy z fp ln fr fs lo fu fw dk translated">如果你直接在这里登陆，请阅读第一部分和第二部分。</h3></div><div class="lq l"><p class="bd b dl z fp ln fr fs lo fu fw dk translated">medium.com</p></div></div><div class="lr l"><div class="qh l lt lu lv lr lw ld li"/></div></div></a></div></div><div class="ab cl lx ly hu lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ij ik il im in"><p id="8b9f" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">如果你喜欢这个，并且认为我在这里做得很好，那么请不要忘记鼓掌。你的赞赏很有价值，让我有动力。</p><p id="cef5" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">干杯！！</p></div></div>    
</body>
</html>