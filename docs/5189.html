<html>
<head>
<title>Benchmark databases in Docker: MySQL, PostgreSQL, SQL Server</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Docker中的基准数据库:MySQL、PostgreSQL、SQL Server</h1>
<blockquote>原文：<a href="https://itnext.io/benchmark-databases-in-docker-mysql-postgresql-sql-server-7b129368eed7?source=collection_archive---------1-----------------------#2021-01-07">https://itnext.io/benchmark-databases-in-docker-mysql-postgresql-sql-server-7b129368eed7?source=collection_archive---------1-----------------------#2021-01-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="948d" class="pw-subtitle-paragraph jr is it bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">加上MariaDB、Percona和TimescaleDB</h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/5059f4bb1d1711a6c8e8558b62a70fc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pP6kUIT3EC2XYCA9VnaROQ.png"/></div></div></figure><h1 id="b4fa" class="kv kw it bd kx ky kz la lb lc ld le lf ka lg kb lh kd li ke lj kg lk kh ll lm bi translated">为什么要进行数据库基准测试？</h1><p id="0794" class="pw-post-body-paragraph ln lo it lp b lq lr jv ls lt lu jy lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">我是SQL Server的长期用户。但是使用SQL Server不是我的决定。我年轻，不得不听年长的同事。如果他们说，SQL Server是最好的，那么它就是最好的。</p><p id="119f" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">那时我是MySQL的长期用户。但使用MySQL并不是我的决定。我年纪较大，但我的其他同事更有经验。如果他们说，MySQL是最好的，那么它就是最好的。</p><p id="ccb9" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">我从来没有搜索过其他观点，因为那个时候，我正在学习。我怎么能和比我更有经验的同事争论呢？</p><p id="892e" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">然后我找到了MariaDB。后来我找到了珀科纳。我问我更有经验的同事:“嘿，他们是什么？为什么是他们？”。答案几乎总是这样:“MySQL是最好的，我知道MySQL。你想用别的东西吗？要不要砸东西？”</p><p id="bb08" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">当然，我不想打破东西。</p><p id="7ffb" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">但是好奇心是我的第二个名字，所以我决定找出哪个数据库最适合我们的应用程序。我碰到了完美的时间，因为码头工人到达现场，所以看起来，这将很容易开始我的工作。</p><p id="eb78" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">所以，要回答问题"<strong class="lp iu">为什么要做数据库基准测试？</strong>”就是说:“<strong class="lp iu">因为它把你变成了更有经验的同事</strong>”。</p><h1 id="ec8f" class="kv kw it bd kx ky kz la lb lc ld le lf ka lg kb lh kd li ke lj kg lk kh ll lm bi translated">我是如何进行数据库基准测试的？</h1><p id="f9c5" class="pw-post-body-paragraph ln lo it lp b lq lr jv ls lt lu jy lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">对数据库进行基准测试可能是一件棘手的事情。上网随便看看就知道了。有不同的基准，测量不同的东西，有时是参数，它们不会告诉你任何有意义的东西。</p><p id="85a3" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">从我的角度来看，我认为数据库是一个名副其实的东西。一个<strong class="lp iu">基</strong>用于一个<strong class="lp iu">数据</strong>。仅此而已。所以数据库中没有应用程序逻辑。数据库应该保存数据并尽可能快地进行两个主要操作:<strong class="lp iu">读</strong>和<strong class="lp iu">写</strong>。</p><p id="7e4d" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">我认为读不会改变数据库，写会改变数据库。对我来说，删除和更新都是写的子集。</p><p id="4296" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">此外，当我从数据库中读取数据时，我倾向于使我的<code class="fe mp mq mr ms b">selects</code>尽可能简单。我不在连接上使用连接。我喜欢尽可能快地读取多个不同的表，然后在数据库之外处理数据。但是我经常使用<code class="fe mp mq mr ms b">max</code>、<code class="fe mp mq mr ms b">avg</code>、<code class="fe mp mq mr ms b">min</code>和<code class="fe mp mq mr ms b">sum</code>。我大量使用简单的东西，尽量少用复杂的东西。</p><p id="f404" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">从我的角度来看，我理想的数据库应该一直平静地运行，尽可能快地提供读写服务。仅此而已。</p><p id="3338" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated"><strong class="lp iu">当我决定制定基准时，我在寻找三样东西:</strong></p><ol class=""><li id="9b33" class="mt mu it lp b lq mj lt mk lw mv ma mw me mx mi my mz na nb bi translated">哪个数据库的写入速度最快</li><li id="fb6f" class="mt mu it lp b lq nc lt nd lw ne ma nf me ng mi my mz na nb bi translated">哪个数据库的读取速度最快</li><li id="b57d" class="mt mu it lp b lq nc lt nd lw ne ma nf me ng mi my mz na nb bi translated">哪个数据库的内存和CPU使用率最低</li></ol><h1 id="f392" class="kv kw it bd kx ky kz la lb lc ld le lf ka lg kb lh kd li ke lj kg lk kh ll lm bi translated">准备</h1><p id="013a" class="pw-post-body-paragraph ln lo it lp b lq lr jv ls lt lu jy lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">正如我两年前在2019年所做的基准测试(结果切换到PostgreSQL)，现在，也就是2021年，重复一次将是明智的。</p><p id="0497" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">首先，我们需要运行所有数据库，我们希望进行基准测试。我们可以使用本文中的命令(以及更多信息)运行Docker中的所有主要数据库，但是您可以在下面找到所有这些命令。</p><div class="nh ni gp gr nj nk"><a href="https://petrjahoda.medium.com/how-and-why-run-different-databases-in-docker-8b320fea6884" rel="noopener follow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd iu gy z fp np fr fs nq fu fw is bi translated">如何以及为什么在Docker中运行不同的数据库</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">MySQL，MariaDB，PostgreSQL，SQL Server</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">petrjahoda.medium.com</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny kt nk"/></div></div></a></div><p id="dbe9" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">我添加了一些来自所有三大<em class="mo">引擎家族</em>的流行叉子。</p><p id="309a" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated"><strong class="lp iu"> Postgres引擎系列:</strong> PostgreSQL，TimescaleDB</p><p id="721d" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated"><strong class="lp iu"> MySQL引擎家族:</strong> MySQL，MariaDB，Percona</p><p id="4a80" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated"><strong class="lp iu"> SQL Server引擎家族:</strong> SQL Server</p></div><div class="ab cl nz oa hx ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="im in io ip iq"><p id="8754" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">下面是运行我们需要测试的每个数据库的Docker命令。</p><h2 id="adce" class="og kw it bd kx oh oi dn lb oj ok dp lf lw ol om lh ma on oo lj me op oq ll or bi translated">一种数据库系统</h2><pre class="kk kl km kn gt os ms ot ou aw ov bi"><span id="00b3" class="og kw it ms b gy ow ox l oy oz">docker run --name postgres -e POSTGRES_PASSWORD=password -p 5433:5432 -v postgres_data:/var/lib/postgresql/data -d postgres:alpine</span></pre><h2 id="7fc3" class="og kw it bd kx oh oi dn lb oj ok dp lf lw ol om lh ma on oo lj me op oq ll or bi translated">时标b</h2><pre class="kk kl km kn gt os ms ot ou aw ov bi"><span id="c0d5" class="og kw it ms b gy ow ox l oy oz">docker run --name timescale -e POSTGRES_PASSWORD=password -p 5434:5432 -v timescale_data:/var/lib/postgresql/data -d timescale/timescaledb:latest-pg12</span></pre><h2 id="24f2" class="og kw it bd kx oh oi dn lb oj ok dp lf lw ol om lh ma on oo lj me op oq ll or bi translated">关系型数据库</h2><pre class="kk kl km kn gt os ms ot ou aw ov bi"><span id="4191" class="og kw it ms b gy ow ox l oy oz">docker run --name mysql -e MYSQL_ROOT_PASSWORD=password -p 3306:3306 -v mysql_data:/var/lib/mysql -d mysql:latest</span></pre><h2 id="30d3" class="og kw it bd kx oh oi dn lb oj ok dp lf lw ol om lh ma on oo lj me op oq ll or bi translated">MariaDB</h2><pre class="kk kl km kn gt os ms ot ou aw ov bi"><span id="ed97" class="og kw it ms b gy ow ox l oy oz">docker run --name mariadb -e MYSQL_ROOT_PASSWORD=password -p 3307:3306 -v mariadb_data:/var/lib/mysql -d mariadb:latest</span></pre><h2 id="5cb7" class="og kw it bd kx oh oi dn lb oj ok dp lf lw ol om lh ma on oo lj me op oq ll or bi translated">佩尔科纳</h2><pre class="kk kl km kn gt os ms ot ou aw ov bi"><span id="97eb" class="og kw it ms b gy ow ox l oy oz">docker run --name percona -e MYSQL_ROOT_PASSWORD=password -p 3308:3306 -v percona_data:/var/lib/mysql -d percona:ps-8</span></pre><h2 id="33fd" class="og kw it bd kx oh oi dn lb oj ok dp lf lw ol om lh ma on oo lj me op oq ll or bi translated">SQL Server</h2><pre class="kk kl km kn gt os ms ot ou aw ov bi"><span id="0786" class="og kw it ms b gy ow ox l oy oz">docker run --name sqlserver -e 'ACCEPT_EULA=Y' -e 'MSSQL_SA_PASSWORD=passw0rd.' -p 1433:1433 -v sqlserver_data:/var/opt/mssql -d mcr.microsoft.com/mssql/server:2019-latest</span></pre><p id="60d4" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">不幸的是，由于微软针对SQL Server 2019的<a class="ae pa" href="https://go.microsoft.com/fwlink/?LinkId=746388" rel="noopener ugc nofollow" target="_blank"> EULA </a>,不可能展示SQL Server的基准测试，但我可以告诉你，这很遗憾。你必须自己做你的基准。</p><h1 id="dda4" class="kv kw it bd kx ky kz la lb lc ld le lf ka lg kb lh kd li ke lj kg lk kh ll lm bi translated">首次比较</h1><p id="4063" class="pw-post-body-paragraph ln lo it lp b lq lr jv ls lt lu jy lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">现在，您应该已经运行了所有六个数据库。所有六个都处于默认状态。没有微调。</p><p id="bac9" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">我们可以进行第一次比较。我们可以比较数据库映像大小、Docker中的初始内存使用和初始CPU使用。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi pb"><img src="../Images/59706cc4f8c5716b57edfb9d899db5dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eCSqiEQHO_uqZxvF3nMwgg.png"/></div></div><figcaption class="pc pd gj gh gi pe pf bd b be z dk translated">越少越好</figcaption></figure><p id="85bd" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">根据这些结果，看起来PostgreSQL是赢家，而SQL Server是输家。但是我们还没有制定任何读取和/或写入基准。</p></div><div class="ab cl nz oa hx ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="im in io ip iq"><h1 id="b186" class="kv kw it bd kx ky pg la lb lc ph le lf ka pi kb lh kd pj ke lj kg pk kh ll lm bi translated">编写基准</h1><p id="7dc0" class="pw-post-body-paragraph ln lo it lp b lq lr jv ls lt lu jy lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">为了进行编写基准测试，我开发了一个简单的Go程序(本文末尾的github库)。这个程序创建了一个名为<code class="fe mp mq mr ms b">benchmark_data</code>的表，有6列。您需要使用<code class="fe mp mq mr ms b">create database benchmark</code>手动创建数据库<code class="fe mp mq mr ms b">benchmark</code>。</p><p id="be73" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">这个程序将10 000行一行一行地插入到这个表中。没有批量插入，只是简单插入。</p><p id="ccd8" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">基准测试将在Macbook Pro 2019上进行，运行Docker桌面，所有不必要的应用程序都被关闭。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi pl"><img src="../Images/44a72c4ebf09a6f56a7387b96c61a380.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y_Dg-mimqpqctWLIXIma3Q.png"/></div></div></figure><p id="d2e2" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">基准测试的第一部分将测量时间，它将花费这些插入来完成。从我的角度来看，时间相对于某些操作是唯一合理的衡量标准。最后你总是想知道，<strong class="lp iu">花了</strong>多长时间，或者<strong class="lp iu">在规定时间内完成了多少</strong>。</p><p id="0718" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">在这个基准测试中，我连续插入了5批数据，每批10 000行。显然，PostgreSQL是赢家，Percona是输家。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi pm"><img src="../Images/4f7fe23a6cd9880f423dcc40bb4dbfe4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MQlK-iaGvLeu6ZAjMrHAxg.png"/></div></div><figcaption class="pc pd gj gh gi pe pf bd b be z dk translated">越少越好</figcaption></figure><p id="e3e6" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">让我们从总持续时间和平均持续时间两方面进行比较。</p><p id="f9bc" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">在插入的情况下，PostgreSQL的速度大约是Percona的两倍。这里让我印象深刻的是MariaDB和MySQL的区别，因为它们都来自<em class="mo">一个引擎家族</em>。看来MariaDB背后的人施了些魔法。</p><p id="356e" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated"><strong class="lp iu">一个简单的结论:</strong> Postgres引擎家族比MySQL引擎家族快<em class="mo">约</em>倍，除了MariaDB。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi pn"><img src="../Images/2c45aa0dcc0010e0735e381df8e93e99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y0hFgkf5GaaS6Ml8DYzolA.png"/></div></div><figcaption class="pc pd gj gh gi pe pf bd b be z dk translated">越少越好</figcaption></figure></div><div class="ab cl nz oa hx ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="im in io ip iq"><h1 id="2350" class="kv kw it bd kx ky pg la lb lc ph le lf ka pi kb lh kd pj ke lj kg pk kh ll lm bi translated">读取基准</h1><p id="1e5f" class="pw-post-body-paragraph ln lo it lp b lq lr jv ls lt lu jy lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">这个读取基准测试是这样完成的:2 000个循环，每个循环中有两个读取:<code class="fe mp mq mr ms b">data</code>列的<code class="fe mp mq mr ms b">average</code>和<code class="fe mp mq mr ms b">sum</code>。同样，每件事我都做了5次。</p><p id="093b" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">下面是结果。PostgreSQL是赢家，Percona是输家。MariaDB第二差。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi po"><img src="../Images/174edf89025846522b771ee4fc6a9e38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t3MaRq0Wbi7MjnS_PS5RoA.png"/></div></div><figcaption class="pc pd gj gh gi pe pf bd b be z dk translated">越少越好</figcaption></figure><p id="4e44" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">比较总持续时间和平均持续时间，以便有一个更好的画面。Postgres引擎家族的<em class="mo">大约是MySQL引擎家族的</em>两倍。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi pp"><img src="../Images/98a0f1565115c661cf304a44c52a248a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cGtE_Qr7jTDfZiHkW62K7w.png"/></div></div><figcaption class="pc pd gj gh gi pe pf bd b be z dk translated">越少越好</figcaption></figure></div><div class="ab cl nz oa hx ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="im in io ip iq"><h1 id="6d16" class="kv kw it bd kx ky pg la lb lc ph le lf ka pi kb lh kd pj ke lj kg pk kh ll lm bi translated">结论</h1><p id="91d9" class="pw-post-body-paragraph ln lo it lp b lq lr jv ls lt lu jy lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">显然，这里的<strong class="lp iu">赢家是PostgreSQL </strong>。最小的尺寸，最小的CPU和内存使用，最快的写入速度和最快的读取速度。</p><p id="9447" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">第二名由<strong class="lp iu">时标DB </strong>获得。TimescaleDB属于同一发动机系列。感谢来自<a class="ae pa" href="https://www.reddit.com/r/programming/comments/ksbhsm/i_benchmarked_databases_running_in_docker_using_go/" rel="noopener ugc nofollow" target="_blank">这篇reddit帖子</a>的信息，TimescaleDB应该在更大的基于时间序列的数据上表现得更好，这不是该基准的目的。</p><p id="e707" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">第三名是MariaDB，因为它的阅读速度很快。</p><p id="bf59" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">令我惊讶的是，第四个是MySQL，最后一个是T21，珀科纳。</p><p id="94d0" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">关于<strong class="lp iu"> SQL Server </strong>，其结果没有在这里展示(见上面的解释):我不得不说，他们在微软做了一些很好的工作，因为SQL Server会被放在第三位。</p><p id="e411" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">这是我用于基准测试的一个工具的链接。</p><div class="nh ni gp gr nj nk"><a href="https://github.com/petrjahoda/medium_database_benchmark" rel="noopener  ugc nofollow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd iu gy z fp np fr fs nq fu fw is bi translated">petrjahoda/medium _ database _ benchmark</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">通过在GitHub上创建一个帐户，为petrjahoda/medium _ database _ benchmark开发做出贡献。</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">github.com</p></div></div><div class="nt l"><div class="pq l nv nw nx nt ny kt nk"/></div></div></a></div></div><div class="ab cl nz oa hx ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="im in io ip iq"><h1 id="e361" class="kv kw it bd kx ky pg la lb lc ph le lf ka pi kb lh kd pj ke lj kg pk kh ll lm bi translated">2019年和2021年的区别</h1><p id="e65b" class="pw-post-body-paragraph ln lo it lp b lq lr jv ls lt lu jy lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">当我两年前做这些测试时，PostgreSQL是赢家，Percona第二，MariaDB第三，MySQL第四，SQL Server最后。我在2019年测试了他们的最新版本，今天我测试的当然是不同的最新版本。2019年我没有测试TimescaleDB。</p><p id="2405" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">看起来他们在珀科纳做了一些非常糟糕的工作，在码头运行。而且他们还在PostgreSQL做着最好的工作，运行在Docker中。</p><p id="61eb" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">两年前，我们从MySQL转换到PostgreSQL，看起来我们做了正确的事情——对于我们的应用程序来说。</p><p id="4408" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">两年前，我们在考虑(和测试)MariaDB和Percona。明智的决定，我们没有换成珀科纳。</p></div><div class="ab cl nz oa hx ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="im in io ip iq"><h1 id="2c93" class="kv kw it bd kx ky pg la lb lc ph le lf ka pi kb lh kd pj ke lj kg pk kh ll lm bi translated">奖金信息</h1><p id="5220" class="pw-post-body-paragraph ln lo it lp b lq lr jv ls lt lu jy lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">你们中的一些人可能会说，一个人可以微调他/她选择的数据库，使其性能更好。你将是绝对正确的。但是请记住，您可以微调每个数据库。所以，如果你微调MySQL来捕捉PostgreSQL，你肯定也能微调PostgreSQL。</p><p id="7d81" class="pw-post-body-paragraph ln lo it lp b lq mj jv ls lt mk jy lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">说到这个，PostgreSQL有一个非常好的微调数据库的工具。我不知道MySQL家族或SQL Server有任何类似的工具。如果你知道，请在评论中告诉我。</p><div class="nh ni gp gr nj nk"><a href="https://pgtune.leopard.in.ua/#/" rel="noopener  ugc nofollow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd iu gy z fp np fr fs nq fu fw is bi translated">PGTune -根据给定的最高性能计算PostgreSQL的配置…</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">PgTune -根据硬件调整PostgreSQL配置</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">pgtune.leopard.in.ua</p></div></div></div></a></div></div><div class="ab cl nz oa hx ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="im in io ip iq"><h1 id="87f4" class="kv kw it bd kx ky pg la lb lc ph le lf ka pi kb lh kd pj ke lj kg pk kh ll lm bi translated">仅PostgreSQL基准测试</h1><p id="3140" class="pw-post-body-paragraph ln lo it lp b lq lr jv ls lt lu jy lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">在阅读评论时，我做了一个额外的基准测试，这次比较了在Docker中运行PostgreSQL和在所有三个主要系统上本地运行PostgreSQL。在MacOS上，使用不同的PGTune设置。</p><div class="nh ni gp gr nj nk"><a href="https://petrjahoda.medium.com/benchmark-postgresql-docker-versus-native-2dde6b5a8552" rel="noopener follow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd iu gy z fp np fr fs nq fu fw is bi translated">基准PostgreSQL: Docker与native</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">使用所有PGTune设置</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">petrjahoda.medium.com</p></div></div><div class="nt l"><div class="pr l nv nw nx nt ny kt nk"/></div></div></a></div></div></div>    
</body>
</html>