<html>
<head>
<title>How to write less code in React apps 🎯🎯🎯</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在React应用中编写更少的代码🎯🎯🎯</h1>
<blockquote>原文：<a href="https://itnext.io/how-to-write-less-code-in-react-apps-8a79c6e7cb7e?source=collection_archive---------9-----------------------#2018-06-10">https://itnext.io/how-to-write-less-code-in-react-apps-8a79c6e7cb7e?source=collection_archive---------9-----------------------#2018-06-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="393e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你有两个选择:</p><ol class=""><li id="5f04" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk kq kr ks kt bi translated">不要用React写应用😢</li><li id="a376" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">使用下面解释的技术😁</li></ol></div><div class="ab cl kz la hu lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ij ik il im in"><h2 id="a161" class="lg lh iq bd li lj lk dn ll lm ln dp lo jy lp lq lr kc ls lt lu kg lv lw lx ly bi translated"><strong class="ak">言归正传</strong></h2><p id="d13d" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">每个react应用程序都有使用状态控制子组件的组件。这种子组件也称为受控组件。典型的例子是控制模式对话框可见性的布局组件。</p><figure class="me mf mg mh gt mi"><div class="bz fp l di"><div class="mj mk l"/></div></figure><p id="4ef0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在真实的应用程序中，toggle函数的实现是开发人员必须避免的。</p><p id="dd76" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">为什么？</strong>因为模态对话框可能会出现在不止一个地方。这意味着重复的代码。这意味着很难维护和扩展应用程序。</p><p id="1c05" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这篇文章中，我想分享一个我用来使我的组件清晰可维护的功能。</p></div><div class="ab cl kz la hu lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ij ik il im in"><h2 id="c149" class="lg lh iq bd li lj lk dn ll lm ln dp lo jy lp lq lr kc ls lt lu kg lv lw lx ly bi translated">Toggle HOC带来了救援！</h2><p id="7460" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">下面是它的使用方法:</p><p id="94e8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe ml mm mn mo b">withToggle({ showModal: false })(Layout)</code></p><p id="2969" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它消耗道具物体。在内部，将道具复制到内部组件的状态。之后，为内部组件状态中的每个值创建更新函数。在最后一步中，将状态和更新程序传递给BaseComponent。</p><p id="d3d5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Layout.js收到的内容如下:</p><figure class="me mf mg mh gt mi"><div class="bz fp l di"><div class="mj mk l"/></div></figure><p id="91f7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，BaseComponent使用withToggle中的状态更新器来控制modal的可见性。</p><p id="4da9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这种方法的优点是公共逻辑位于一个单独的文件中，并通过导入导出在应用程序间共享。不需要在每个需要模态的组件中实现切换功能。</p><p id="b412" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里是这个特设的源代码。确保你理解其中的逻辑。</p><figure class="me mf mg mh gt mi"><div class="bz fp l di"><div class="mj mk l"/></div></figure><p id="0018" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我在我的应用程序中使用这个HOC，发现它很方便。告诉我你对这种方法的看法。如果你有另一个如何避免重复代码和复制粘贴“技术”的好例子，写在评论区，让我们一起讨论吧！</p><p id="7ff7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">感谢你的阅读，安德鲁·✋</p></div></div>    
</body>
</html>