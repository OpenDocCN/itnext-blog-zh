<html>
<head>
<title>Create an iOS-styled Search Bar in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在SwiftUI中创建一个iOS风格的搜索栏</h1>
<blockquote>原文：<a href="https://itnext.io/create-an-ios-styled-search-bar-in-swiftui-3127b890af56?source=collection_archive---------1-----------------------#2020-07-26">https://itnext.io/create-an-ios-styled-search-bar-in-swiftui-3127b890af56?source=collection_archive---------1-----------------------#2020-07-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/09d4b9aeb15e1c006886bdfa0c8aee80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X6Hy66H5AF_MbBOp7TJIyA.png"/></div></div></figure><div class=""/><p id="883c" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><em class="kz">IOs 15及更高版本上的⚠️，使用</em> <code class="fe la lb lc ld b"><em class="kz">.searchable()</em></code> <em class="kz">。</em></p><p id="7655" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这篇文章中，我将向你展示如何在SwiftUI中创建一个可重用的类似iOS的搜索栏，你可以随心所欲地设计风格。</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="f0b1" class="ll lm je bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">基本结构</h1><p id="49e9" class="pw-post-body-paragraph kb kc je kd b ke mj kg kh ki mk kk kl km ml ko kp kq mm ks kt ku mn kw kx ky im bi translated">为了可重用性，我将搜索栏创建为一个单独的视图，但是你也可以在你的视图中实现它。</p><figure class="mo mp mq mr gt iv"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="9486" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在您有了一个简单的TextField，但是它还没有任何样式。</p><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/2a1c4c83df364058a630f653e0ba10af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*ELFW1ZOULYiUhq8MqUXi4w.png"/></div><figcaption class="mv mw gj gh gi mx my bd b be z dk translated">搜索栏(占位符:“搜索…”文本:$text)</figcaption></figure></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="e6f5" class="ll lm je bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">清除按钮</h1><p id="9873" class="pw-post-body-paragraph kb kc je kd b ke mj kg kh ki mk kk kl km ml ko kp kq mm ks kt ku mn kw kx ky im bi translated">接下来我们将添加一个清除按钮，将<code class="fe la lb lc ld b">text</code>设置回<code class="fe la lb lc ld b">""</code>。</p><figure class="mo mp mq mr gt iv"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="e51f" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当用户开始书写时(<code class="fe la lb lc ld b">text</code>不再为空)，紧挨着文本字段会出现一个带有系统符号的<code class="fe la lb lc ld b">Image</code>。它有一点填充，点击一下它会将<code class="fe la lb lc ld b">self.text</code>设置回<code class="fe la lb lc ld b">""</code>。想用<code class="fe la lb lc ld b">withAnimation {}</code>可以试试，看<code class="fe la lb lc ld b">text</code>在你的视野里有什么效果。</p><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/e380451be040376c18ec6430b319246d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*avnSrctqSmYj781u1hlCqA.png"/></div></figure></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="8e44" class="ll lm je bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">背景</h1><p id="503c" class="pw-post-body-paragraph kb kc je kd b ke mj kg kh ki mk kk kl km ml ko kp kq mm ks kt ku mn kw kx ky im bi translated">现在我们创建背景。将此修改器添加到HStack。</p><figure class="mo mp mq mr gt iv"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="5c65" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您可以根据自己的喜好更改填充、颜色和圆角半径。除了颜色，你还可以根据应用程序的风格使用图像或渐变。</p><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/f3b00100770aa772ce970c568a52c8a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*yTu_CU2OuhDjv9af4lHgEQ.png"/></div></figure><p id="d49c" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">就是这样。它看起来很棒，拥有我们想要的所有功能。</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="4bd1" class="ll lm je bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">额外的</h1><p id="cda9" class="pw-post-body-paragraph kb kc je kd b ke mj kg kh ki mk kk kl km ml ko kp kq mm ks kt ku mn kw kx ky im bi translated">当您将搜索栏添加到工作表中时，在浅色模式下看起来很棒，但在深色模式下，搜索栏背景的颜色与视图背景的颜色相同。</p><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/155deb98370a318058265195c460a8cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*UKGgYsULS4C6YkjJfXaOYg.png"/></div></figure><figure class="mo mp mq mr gt iv"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="3fca" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">将此添加到您的视图，并将<code class="fe la lb lc ld b">.background(Color(.systemGray6))</code>更改为<code class="fe la lb lc ld b">.background(backgroundColor)</code>。现在你可以看到背景。根据你的<code class="fe la lb lc ld b">SearchBar()</code>是什么级别，事后可以换颜色。</p><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/0a96c68b8ad78ff766aedd1d6b0d9a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*BDICprP_AUKrO-vohFSmwg.png"/></div></figure></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="822b" class="ll lm je bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">额外2</h1><p id="2925" class="pw-post-body-paragraph kb kc je kd b ke mj kg kh ki mk kk kl km ml ko kp kq mm ks kt ku mn kw kx ky im bi translated">如果需要，您还可以在文本字段旁边添加一个图标。只需在<code class="fe la lb lc ld b">HStack</code>中的<code class="fe la lb lc ld b">TextField</code>前加一个<code class="fe la lb lc ld b">Image(systemName: "magnifyingglass").foregroundColor(.secondary)</code>。根据您的搜索栏搜索的内容，您还可以将图像更改为更具体的系统图像，以使搜索栏感觉更自然。</p><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mz"><img src="../Images/da743fdd8be2c1cbbf5a4d568689e8ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wp4EgWFaEzpAR86ZkGLKSg.png"/></div></div></figure><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mz"><img src="../Images/53c0a18d66540f8fe1be95c7645a85d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gSxJU12NZzZSyLm32d2wFg.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk translated">图书应用程序的搜索栏示例</figcaption></figure></div></div>    
</body>
</html>