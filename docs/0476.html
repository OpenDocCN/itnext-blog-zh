<html>
<head>
<title>google-maps-react makes adding Google Maps Api to a React app a breeze</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">google-maps-react使得向react应用添加Google Maps Api变得轻而易举</h1>
<blockquote>原文：<a href="https://itnext.io/google-maps-react-makes-adding-google-maps-api-to-a-react-app-a-breeze-effb7b89e54?source=collection_archive---------0-----------------------#2018-03-15">https://itnext.io/google-maps-react-makes-adding-google-maps-api-to-a-react-app-a-breeze-effb7b89e54?source=collection_archive---------0-----------------------#2018-03-15</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><figure class="gm go jt ju jv jw gi gj paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="gi gj js"><img src="../Images/2025fd21b5da05e76425a03e8b3f91b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*W4V8JBdaIh81_lZe."/></div></div><figcaption class="kd ke gk gi gj kf kg bd b be z dk translated">克里斯·劳顿在<a class="ae kh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="3e4a" class="pw-post-body-paragraph ki kj ir kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ik bi translated">包含谷歌地图Api实际上比听起来容易得多。这主要归功于Fullstack React创建的名为<code class="fe jo jp jq jr b"><a class="ae kh" href="https://github.com/fullstackreact/google-maps-react#infowindow--sample-event-handler-functions" rel="noopener ugc nofollow" target="_blank">google-maps-react</a></code>的npm包。我目前正在将谷歌地图整合到我正在创建的网站中。所以，事不宜迟，让我们开始吧。</p><p id="f2d1" class="pw-post-body-paragraph ki kj ir kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ik bi translated">首先做一些快速设置。假设您已经使用<code class="fe jo jp jq jr b">create-react-app</code>创建了您的应用程序。是时候安装<code class="fe jo jp jq jr b">google-maps-react</code>了。我将使用<code class="fe jo jp jq jr b">yarn</code>。在你的终端中运行<code class="fe jo jp jq jr b">yarn add google-maps-react</code>即可。是时候创建我们的组件了。</p><pre class="lg lh li lj gu lk jr ll lm aw ln bi"><span id="02c9" class="lo lp ir jr b gz lq lr l ls lt">import React from 'react';<br/>import { GoogleApiWrapper, InfoWindow, Map, Marker } from 'google-maps-react';</span><span id="6d20" class="lo lp ir jr b gz lu lr l ls lt">import Paper from 'material-ui/Paper';<br/>import Typography from 'material-ui/Typography';<br/>import { typography } from 'material-ui/styles';</span><span id="d066" class="lo lp ir jr b gz lu lr l ls lt">class GoogleMapsContainer extends React.Component {<br/>  constructor(props) {<br/>    super(props);<br/>    this.state = {<br/>      showingInfoWindow: false,<br/>      activeMarker: {},<br/>      selectedPlace: {}<br/>    }<br/>    // binding this to event-handler functions<br/>    this.onMarkerClick = this.onMarkerClick.bind(this);<br/>    this.onMapClick = this.onMapClick.bind(this);<br/>  }</span><span id="4aab" class="lo lp ir jr b gz lu lr l ls lt">  onMarkerClick = (props, marker, e) =&gt; {<br/>    this.setState({<br/>      selectedPlace: props,<br/>      activeMarker: marker,<br/>      showingInfoWindow: true<br/>    });<br/>  }</span><span id="2e15" class="lo lp ir jr b gz lu lr l ls lt">  onMapClick = (props) =&gt; {<br/>    if (this.state.showingInfoWindow) {<br/>      this.setState({<br/>        showingInfoWindow: false,<br/>        activeMarker: null<br/>      });<br/>    }<br/>  }</span><span id="b4c5" class="lo lp ir jr b gz lu lr l ls lt">  render() {<br/>    const style = {<br/>      width: '50vw',<br/>      height: '75vh',<br/>      'marginLeft': 'auto',<br/>      'marginRight': 'auto'<br/>    }</span><span id="7c32" class="lo lp ir jr b gz lu lr l ls lt">    return (<br/>      &lt;Map<br/>        item<br/>        xs = { 12 }<br/>        style = { style }<br/>        google = { this.props.google }<br/>        onClick = { this.onMapClick }<br/>        zoom = { 14 }<br/>        initialCenter = {{ lat: 39.648209, lng: -75.711185 }}<br/>      &gt;<br/>        &lt;Marker<br/>          onClick = { this.onMarkerClick }<br/>          title = { 'Changing Colors Garage' }<br/>          position = {{ lat: 39.648209, lng: -75.711185 }}<br/>          name = { 'Changing Colors Garage' }<br/>        /&gt;<br/>        &lt;InfoWindow<br/>          marker = { this.state.activeMarker }<br/>          visible = { this.state.showingInfoWindow }<br/>        &gt;<br/>          &lt;Paper&gt;<br/>            &lt;Typography<br/>              variant = 'headline'<br/>              component = 'h4'<br/>            &gt;<br/>              Changing Colors Garage<br/>            &lt;/Typography&gt;<br/>            &lt;Typography<br/>              component = 'p'<br/>            &gt;<br/>              98G Albe Dr Newark, DE 19702 &lt;br /&gt;<br/>              302-293-8627<br/>            &lt;/Typography&gt;<br/>          &lt;/Paper&gt;<br/>        &lt;/InfoWindow&gt;<br/>      &lt;/Map&gt;<br/>    );<br/>  }<br/>}</span><span id="66e4" class="lo lp ir jr b gz lu lr l ls lt">export default GoogleApiWrapper({<br/>    api: (process.env.GOOGLE_API_KEY_GOES_HERE)<br/>})(GoogleMapsContainer)</span></pre><p id="bbdd" class="pw-post-body-paragraph ki kj ir kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ik bi translated">所以对于一个简单的谷歌地图Api来说，这就是你所需要的全部代码。如果你没有注意到，我也使用材质UI作为我的CSS框架。我的<code class="fe jo jp jq jr b">GoogleMapsContainer</code>组件包含了全部内容。<code class="fe jo jp jq jr b">Map</code>不言自明，它就是谷歌地图本身。就是你在地图上看到的红色标记。</p><figure class="lg lh li lj gu jw gi gj paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="gi gj lv"><img src="../Images/e0f63e3b3d2c33d5be21eb724c53bac1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RKpCRwFy6hyVCqHcFwbCWQ.png"/></div></div></figure><p id="e885" class="pw-post-body-paragraph ki kj ir kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ik bi translated">side note——我很快设置了css，将地图放在本教程页面的中央。</p><p id="2d05" class="pw-post-body-paragraph ki kj ir kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ik bi translated"><code class="fe jo jp jq jr b">InfoWindow</code>如果点击标记，将显示标记的相关信息。</p><figure class="lg lh li lj gu jw gi gj paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="gi gj lw"><img src="../Images/c305607327d6f83b3645a1a290227cb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H0zBT-Lig-MBcJ9lErsa9g.png"/></div></div></figure><p id="6b00" class="pw-post-body-paragraph ki kj ir kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ik bi translated">现在是点击功能。<code class="fe jo jp jq jr b">onMarkerClick</code>用于显示<code class="fe jo jp jq jr b">InfoWindow</code>，<code class="fe jo jp jq jr b">onMapClicked</code>用于完成后移除<code class="fe jo jp jq jr b">InfoWindow</code>。</p><p id="f7d3" class="pw-post-body-paragraph ki kj ir kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ik bi translated">使用这个软件包，您还可以做更多的事情。但是这是一个简单的用例，可以用来在你的个人网站中开始实现谷歌地图。下次见。</p><div class="lx ly gq gs lz ma"><a href="https://medium.com/@acodercalledcole/membership" rel="noopener follow" target="_blank"><div class="mb ab fp"><div class="mc ab md cl cj me"><h2 class="bd is gz z fq mf fs ft mg fv fx iq bi translated">通过我的推荐链接加入媒体-布雷特科尔</h2><div class="mh l"><h3 class="bd b gz z fq mf fs ft mg fv fx dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="mi l"><p class="bd b dl z fq mf fs ft mg fv fx dk translated">medium.com</p></div></div><div class="mj l"><div class="mk l ml mm mn mj mo kb ma"/></div></div></a></div><figure class="lg lh li lj gu jw"><div class="bz fq l di"><div class="mp mq l"/></div></figure></div></div>    
</body>
</html>