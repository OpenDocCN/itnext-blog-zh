<html>
<head>
<title>Easy way to organize your icons using SVGs in Angular 5</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Angular 5中使用SVG组织图标的简单方法</h1>
<blockquote>原文：<a href="https://itnext.io/easy-way-to-organize-your-icons-using-svgs-in-angular-5-f35333d0b442?source=collection_archive---------0-----------------------#2018-06-05">https://itnext.io/easy-way-to-organize-your-icons-using-svgs-in-angular-5-f35333d0b442?source=collection_archive---------0-----------------------#2018-06-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/d1b276d1f1a7cd46129ef1a2a96e672a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*LfN7PS_OvXUU7Ri9jXctgA.jpeg"/></div></figure><p id="e142" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果你的项目中有太多的图标，想要重用/定制/使用不同颜色或边框的图标，并且不想保存一百万个文件，你可能会有兴趣阅读更多。</p><h2 id="1607" class="ks kt iq bd ku kv kw dn kx ky kz dp la kf lb lc ld kj le lf lg kn lh li lj lk bi translated"><strong class="ak">哑元件</strong></h2><p id="ee5e" class="pw-post-body-paragraph ju jv iq jw b jx ll jz ka kb lm kd ke kf ln kh ki kj lo kl km kn lp kp kq kr ij bi translated">您需要知道的第一件事是，如果您想要样式化一个SVG，您肯定需要使用它的标记，而不是到。svg文件。</p><p id="51db" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这里我们有一个简单SVG的例子:</p><figure class="lq lr ls lt gt jr"><div class="bz fp l di"><div class="lu lv l"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">(主页图标. svg)</figcaption></figure><p id="fe8c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果您想重用这样的SVG，您可以创建一个哑组件，它将是一个占位符，不包含任何特定的内容(图形对象，如路径、圆、多边形)。</p><figure class="lq lr ls lt gt jr"><div class="bz fp l di"><div class="lu lv l"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">(svg.component.html)</figcaption></figure><figure class="lq lr ls lt gt jr"><div class="bz fp l di"><div class="lu lv l"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">(svg .组件. ts)</figcaption></figure><p id="1a88" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">你可以看到我们有<code class="fe ma mb mc md b"><a class="ae me" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/use" rel="noopener ugc nofollow" target="_blank">&lt;use&gt;</a></code>标签，而不是内容。Use标记用于呈现为将来使用而创建的非呈现元素(类似于模板)。这些“模板”有id。所以当任意元素的id等于<code class="fe ma mb mc md b">&lt;use&gt;</code>的href属性时，<code class="fe ma mb mc md b">&lt;use&gt; </code>就被这个元素替换了。</p><p id="59c2" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在我们的例子中,<code class="fe ma mb mc md b">href</code>是动态的，它从父组件传递给<code class="fe ma mb mc md b">svg.component.ts</code>。</p><h2 id="2be1" class="ks kt iq bd ku kv kw dn kx ky kz dp la kf lb lc ld kj le lf lg kn lh li lj lk bi translated"><strong class="ak">定义</strong></h2><p id="e45b" class="pw-post-body-paragraph ju jv iq jw b jx ll jz ka kb lm kd ke kf ln kh ki kj lo kl km kn lp kp kq kr ij bi translated">现在我们有了一个占位符，但是svg的内容在哪里呢？</p><p id="dffc" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">SVG的内容由一些图形对象表示。SVG允许定义图形对象供以后重用。为此，我们将使用<code class="fe ma mb mc md b"><a class="ae me" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/defs" rel="noopener ugc nofollow" target="_blank">&lt;defs&gt;</a></code>标签。<code class="fe ma mb mc md b">&lt;defs&gt;</code>中的每个对象都被包装在<code class="fe ma mb mc md b"><a class="ae me" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/symbol" rel="noopener ugc nofollow" target="_blank">&lt;symbol&gt;</a></code>中，我们可以把它看作一个模板。而最重要的部分就是给每个符号加上<strong class="jw ir"> id </strong>。这个id应该是<strong class="jw ir">唯一的</strong>，它是占位符(<code class="fe ma mb mc md b">svg.component</code>)和定义(<code class="fe ma mb mc md b">svg-definitions.component</code>)之间的连接。标签<code class="fe ma mb mc md b">&lt;defs&gt;</code>中的所有符号被称为<strong class="jw ir"> SVG定义</strong>。让我们看看我们的文件保存定义是什么样子的:</p><figure class="lq lr ls lt gt jr"><div class="bz fp l di"><div class="lu lv l"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">(svg-definitions.component.html)</figcaption></figure><p id="cb42" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">你可能想在不同的页面上使用你的SVG图标，所以你需要确保应用程序中的每个地方都加载了定义<strong class="jw ir">。为此，我们将在主组件中加载<code class="fe ma mb mc md b">svg-definitions.component</code>。</strong></p><p id="9fbc" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">(app.component.html)</p><pre class="lq lr ls lt gt mf md mg mh aw mi bi"><span id="aedd" class="ks kt iq md b gy mj mk l ml mm">&lt;svg-definitions&gt;&lt;/svg-definitions&gt;</span></pre><h2 id="4b66" class="ks kt iq bd ku kv kw dn kx ky kz dp la kf lb lc ld kj le lf lg kn lh li lj lk bi translated"><strong class="ak">用途</strong></h2><p id="3b28" class="pw-post-body-paragraph ju jv iq jw b jx ll jz ka kb lm kd ke kf ln kh ki kj lo kl km kn lp kp kq kr ij bi translated">因此，我们已经加载了所有的定义，并且为SVG占位符创建了一个共享组件。你可能会问自己如何在组件中使用它？这真的很简单。您需要将来自<code class="fe ma mb mc md b">svg-definitions.component</code>的符号id作为输入()名称传递给<code class="fe ma mb mc md b">svg.component</code>，就这样！</p><pre class="lq lr ls lt gt mf md mg mh aw mi bi"><span id="8632" class="ks kt iq md b gy mj mk l ml mm">&lt;svg-icon name=”home”&gt;&lt;/svg-icon&gt;</span></pre><h2 id="2fa9" class="ks kt iq bd ku kv kw dn kx ky kz dp la kf lb lc ld kj le lf lg kn lh li lj lk bi translated"><strong class="ak">预览</strong></h2><p id="1eec" class="pw-post-body-paragraph ju jv iq jw b jx ll jz ka kb lm kd ke kf ln kh ki kj lo kl km kn lp kp kq kr ij bi translated">把你所有的图标放在一个文件里是个不错的方法，对吧？但是当你的项目开始增长时，你需要小心。有时你可以有太多的图标。</p><p id="0cf3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">可能会出现什么<strong class="jw ir">问题</strong>:</p><ul class=""><li id="14ee" class="mn mo iq jw b jx jy kb kc kf mp kj mq kn mr kr ms mt mu mv bi translated">很难将<strong class="jw ir">定位到文件中</strong></li><li id="f99f" class="mn mo iq jw b jx mw kb mx kf my kj mz kn na kr ms mt mu mv bi translated">有可能出现<strong class="jw ir">重复符号</strong></li><li id="99f0" class="mn mo iq jw b jx mw kb mx kf my kj mz kn na kr ms mt mu mv bi translated">可能有两个符号具有相同的名称</li><li id="db75" class="mn mo iq jw b jx mw kb mx kf my kj mz kn na kr ms mt mu mv bi translated">不同名称的<strong class="jw ir"> 1符号可能出现两次</strong></li></ul><p id="9e4b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">为了防止所有这些问题，你可以使用<a class="ae me" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank">节点</a>创建所有图标的<strong class="jw ir">预览。</strong></p><h2 id="86b8" class="ks kt iq bd ku kv kw dn kx ky kz dp la kf lb lc ld kj le lf lg kn lh li lj lk bi translated">1.为SVG添加html</h2><p id="1bbc" class="pw-post-body-paragraph ju jv iq jw b jx ll jz ka kb lm kd ke kf ln kh ki kj lo kl km kn lp kp kq kr ij bi translated">首先，我们将在/svgs文件夹中创建一个新文件<code class="fe ma mb mc md b">svg-converter.js</code>。这个文件将访问<code class="fe ma mb mc md b">svg-definitions.component.html</code>并将<strong class="jw ir">修改html </strong>:</p><ol class=""><li id="d858" class="mn mo iq jw b jx jy kb kc kf mp kj mq kn mr kr nb mt mu mv bi translated">创建svgDefinitions的副本</li><li id="20bf" class="mn mo iq jw b jx mw kb mx kf my kj mz kn na kr nb mt mu mv bi translated">从副本中删除<code class="fe ma mb mc md b">&lt;defs&gt;&lt;/defs&gt;</code></li><li id="dc51" class="mn mo iq jw b jx mw kb mx kf my kj mz kn na kr nb mt mu mv bi translated">用<code class="fe ma mb mc md b">&lt;use&gt;</code>替换<code class="fe ma mb mc md b">&lt;symbol&gt;</code></li><li id="0a34" class="mn mo iq jw b jx mw kb mx kf my kj mz kn na kr nb mt mu mv bi translated">用<code class="fe ma mb mc md b">xlink:href=”#</code>替换<code class="fe ma mb mc md b">id</code></li><li id="d7b3" class="mn mo iq jw b jx mw kb mx kf my kj mz kn na kr nb mt mu mv bi translated">获取数组中的所有符号</li><li id="5a35" class="mn mo iq jw b jx mw kb mx kf my kj mz kn na kr nb mt mu mv bi translated">获取每个符号的名称</li><li id="c052" class="mn mo iq jw b jx mw kb mx kf my kj mz kn na kr nb mt mu mv bi translated">将<code class="fe ma mb mc md b">&lt;svg&gt;&lt;/svg&gt;</code>中的每个符号换行</li><li id="28ec" class="mn mo iq jw b jx mw kb mx kf my kj mz kn na kr nb mt mu mv bi translated">把所有的符号连接起来</li><li id="bd5d" class="mn mo iq jw b jx mw kb mx kf my kj mz kn na kr nb mt mu mv bi translated">将符号附加到定义中</li></ol><figure class="lq lr ls lt gt jr"><div class="bz fp l di"><div class="lu lv l"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">(svg-converter.js)</figcaption></figure><h2 id="88d0" class="ks kt iq bd ku kv kw dn kx ky kz dp la kf lb lc ld kj le lf lg kn lh li lj lk bi translated">2.向预览添加样式</h2><p id="fe46" class="pw-post-body-paragraph ju jv iq jw b jx ll jz ka kb lm kd ke kf ln kh ki kj lo kl km kn lp kp kq kr ij bi translated">您可能想要样式化您的预览，因此您可以创建一个<code class="fe ma mb mc md b">svg-preview.css</code>并从您的svg转换器中的这个文件获取样式。</p><figure class="lq lr ls lt gt jr"><div class="bz fp l di"><div class="lu lv l"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">(svg-converter.js)</figcaption></figure><h2 id="fc97" class="ks kt iq bd ku kv kw dn kx ky kz dp la kf lb lc ld kj le lf lg kn lh li lj lk bi translated">3.构建预览文件</h2><p id="adc1" class="pw-post-body-paragraph ju jv iq jw b jx ll jz ka kb lm kd ke kf ln kh ki kj lo kl km kn lp kp kq kr ij bi translated">接下来的事情是构造预览文件。为了确保同时阅读完html和css文件<strong class="jw ir"/>，可以使用Promise.all。</p><figure class="lq lr ls lt gt jr"><div class="bz fp l di"><div class="lu lv l"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">(svg-converter.js)</figcaption></figure><p id="2e07" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">最后，您需要生成预览文件。为此，请在/svgs文件夹中运行:</p><p id="8a11" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><code class="fe ma mb mc md b">node svg-converter.js</code></p><p id="78a9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">或者向package.json中的脚本添加任务:</p><p id="e56f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><code class="fe ma mb mc md b">svg:preview”: “node \”src/ui-library/svgs/svg-converter.js\”</code></p><p id="4ff7" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">并在您的项目的根目录下运行:<code class="fe ma mb mc md b">npm run svg:preview</code></p><figure class="lq lr ls lt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nd ne di nf bf ng"><div class="gh gi nc"><img src="../Images/0d2f9ede97dd7322f5f29992feba86f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WMKCRTU0FQdKbMOVZ35SIQ.png"/></div></div></figure><p id="11f3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这就是了！预览你所有的图标，这将<strong class="jw ir">节省你这么多时间</strong>。那么你准备好<strong class="jw ir">和复制代码</strong>说再见了吗？</p></div></div>    
</body>
</html>