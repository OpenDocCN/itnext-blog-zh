<html>
<head>
<title>A Gentle Introduction to Functional Programming in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript函数式编程的简明介绍</h1>
<blockquote>原文：<a href="https://itnext.io/a-gentle-introduction-to-functional-programming-in-javascript-21ce4988af73?source=collection_archive---------6-----------------------#2019-12-20">https://itnext.io/a-gentle-introduction-to-functional-programming-in-javascript-21ce4988af73?source=collection_archive---------6-----------------------#2019-12-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/f0c8ab8d6b3c7ac07e001979066f1e7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*In42Bygfqg06ub8x"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">本·怀特在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="8650" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于那些用非函数式语言开始软件之旅的人来说，函数式编程可能具有挑战性。我知道那是我的经历。我学会了用C#编程，虽然你可以用C#做一些功能性的东西，但是大多数入门书籍和教程都没有涉及到以功能性的方式使用这种语言，也没有教你如何用功能性的方式思考。</p><p id="b560" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">JavaScript是一种避开了基于对象和基于函数之间界限的语言，无论以哪种方式使用都非常有效。也可以将这两种方法结合起来使用。既然如此，我们将在本文中使用JavaScript来提供一些函数式编程概念的简单介绍。</p><p id="69dc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我怀疑大多数来自非函数式语言的程序员会和我刚入门时一样纠结于同样的概念。这些是:</p><ol class=""><li id="af9d" class="le lf it ki b kj kk kn ko kr lg kv lh kz li ld lj lk ll lm bi translated">函数是对象，可以像其他对象一样传递。</li><li id="98cc" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">函数可以有自己的属性和方法。他们毕竟只是物品。</li><li id="292f" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">函数可以返回其他函数。</li><li id="a3ee" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">函数可以将函数作为参数。</li></ol><p id="a865" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这绝不是一个确定的列表，但我记得在阅读这些概念时挠头。让我们看看这些。</p><p id="8e91" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第一项和第二项密切相关。在JavaScript中，函数是一级对象，所以它们有自己的属性和方法是有意义的。事实上，JavaScript中的函数自带默认的方法和属性。</p><p id="4a94" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你可能听说过其中的一些:call()、apply()、bind()、toString()。JavaScript中的每个函数都有这些方法。关于附加到每个函数对象的属性和方法的完整列表，<a class="ae kf" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" rel="noopener ugc nofollow" target="_blank">在这里查看MDN文档</a>。</p><p id="f613" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当第一次使用这些方法时，感觉和看起来都有点怪异。让我们看一个代码示例。</p><figure class="ls lt lu lv gt ju"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="b752" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这段代码中，我们在第1–3行创建了一个带有消息属性的简单对象。然后在第5行，我们定义了一个名为printIt()的简单函数。</p><p id="888f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过定义这个函数，我们现在有了一个完整的函数对象。</p><p id="bd6f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，在第9行，我们使用<em class="ly">对象点符号</em>来执行printIt()函数上的call()方法，将myObj作为对象传递给函数上下文。这意味着我们在函数中设置这个指向<em class="ly"> </em>的<em class="ly">。以下是我们在控制台中看到的内容:</em></p><figure class="ls lt lu lv gt ju gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/4078b952577b550b1b13472a054d9f9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:412/format:webp/1*M56Ys52DhMffbe-CtBlixQ.png"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">printIt()的输出</figcaption></figure><p id="bc15" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当然，这不是最实际的例子，但要记住的一点是，JavaScript中的<strong class="ki iu"> <em class="ly">函数是对象，它们有自己的方法和属性</em> </strong>。让这一点深入你的大脑灰质(我知道对我来说是这样)可能很有挑战性，所以<em class="ly">我觉得这一点怎么强调都不为过</em>。</p><p id="8fa1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在让我们继续，看一看以其他函数作为参数的函数和返回函数的函数。做这些事情的函数被称为<a class="ae kf" href="https://en.wikipedia.org/wiki/First-class_function" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu"> <em class="ly">高阶函数</em> </strong> </a>。</p><p id="adf7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们从一个简单的例子开始。</p><figure class="ls lt lu lv gt ju"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="b2fd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这段代码中，我们首先使用类似于<a class="ae kf" href="http://en.wikipedia.org/wiki/Lambda_calculus#Lambda_calculus_and_programming_languages" rel="noopener ugc nofollow" target="_blank"> lambda符号</a>的文本定义了4个函数。以这种方式编写函数并不比更正规的方法优越，但是它确实节省了我们大量的击键次数。<em class="ly">使用这个语法</em>时，花括号和return语句是隐式的。每个函数接受2个参数，并返回简单数学运算的结果。</p><p id="bedb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来，在第6行，我们定义了一个名为execute()的函数，它接受3个参数。两个数字和一个函数。在函数内部，我们利用了在<em class="ly">所有函数对象</em>上可用的toString()方法，并将函数的实际文本写入控制台。然后，我们使用传递的参数执行传递的函数，并将结果写入控制台。结果如下:</p><figure class="ls lt lu lv gt ju gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/afb6eeb549407a95f7285d9d153a155d.png" data-original-src="https://miro.medium.com/v2/resize:fit:534/format:webp/1*VsSZz9n-8-VZqsy-JUZX7A.png"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">我们的execute()方法的输出</figcaption></figure><p id="81f2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">到目前为止，一切顺利。接下来，让我们看看我们如何开始更多的功能性思考。看看这段代码。</p><figure class="ls lt lu lv gt ju"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="987d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">首先，我们定义一组宠物。每个宠物都有一个名字和一个类型属性。然后我们定义printPets()函数。这个函数接受一个数组和一个宠物类型(狗或猫)作为参数。然后我们遍历数组，检查每个对象的type属性，看它是否与传递的petType匹配。如果匹配，我们将宠物的名字打印到控制台。</p><p id="55ab" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这段代码没有错。它按预期运行和工作。第22行对printPets的函数调用将只打印dog类型的宠物。</p><p id="eb1f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们重写这段代码，使它更实用。</p><figure class="ls lt lu lv gt ju"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="bc51" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们从定义同一个数组开始。一切都好。接下来，我们再次使用printPets()函数，只是这次它使用不同的参数。pets数组、过滤器函数和打印机函数。</p><p id="6ac9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第24行和第25行定义了过滤函数。我们再次使用lambda符号，它允许我们创建一个谓词，告诉我们是否有合适的宠物。</p><p id="5abb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这种方法的美妙之处在于，我们可以定义尽可能多的过滤器，并以任何方式过滤数据。我们的演示宠物对象只有两个属性，但是如果你正在处理的对象有10或20个属性呢？想写多少个过滤函数就写多少个，然后只把它们作为参数传递，这很简单。在以前的命令式代码版本中，我们必须进入循环代码并修改它以满足我们的需求。这样更容易，也更优雅。</p><p id="d350" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还将打印代码从循环中取出，放入它自己的函数中。现在我们可以传递一个我们想做什么就做什么的打印函数。写入控制台、日志、弹出警报等。</p><p id="6b48" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过传递一个函数而不是在我们的循环中编写它，可以很容易地修改行为。</p><p id="0b35" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可能还注意到，我们用array.forEach()替换了命令式for循环。向更多功能代码迈进了一步，现在您可以在JavaScript中利用这一点。只要有可能，就开始远离for循环。它会改进你的代码。</p><p id="b76d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你花些时间研究一下代码的功能版本与第一个版本，我想你会发现它更优雅，更具扩展性和可重用性。这些都是我们在软件开发中一直努力追求的好东西。</p><p id="ef93" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">就我们能做的而言，我们只是触及了皮毛。有大量的资源可以帮助你继续你的功能之旅。</p><p id="66d8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里有几个链接</p><p id="ab8c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae kf" href="http://reactivex.io/learnrx/" rel="noopener ugc nofollow" target="_blank">http://reactivex.io/learnrx/</a></p><div class="mb mc gp gr md me"><a rel="noopener  ugc nofollow" target="_blank" href="/what-exactly-is-functional-programming-ea02c86753fd"><div class="mf ab fo"><div class="mg ab mh cl cj mi"><h2 class="bd iu gy z fp mj fr fs mk fu fw is bi translated">到底什么是函数式编程？</h2><div class="ml l"><h3 class="bd b gy z fp mj fr fs mk fu fw dk translated">解密一个看似复杂的概念</h3></div><div class="mm l"><p class="bd b dl z fp mj fr fs mk fu fw dk translated">itnext.io</p></div></div><div class="mn l"><div class="mo l mp mq mr mn ms jz me"/></div></div></a></div><p id="fcd7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢阅读！</p></div></div>    
</body>
</html>