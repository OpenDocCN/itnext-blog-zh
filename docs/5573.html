<html>
<head>
<title>Android CodeView the easiest way to highlight text</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Android CodeView突出显示文本的最简单方法</h1>
<blockquote>原文：<a href="https://itnext.io/android-codeview-the-easiest-way-to-highlight-patterns-53702e0e2164?source=collection_archive---------8-----------------------#2021-04-06">https://itnext.io/android-codeview-the-easiest-way-to-highlight-patterns-53702e0e2164?source=collection_archive---------8-----------------------#2021-04-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/200b219edf01e6a9379556e5ae19eadb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ge8E4AuOPgEVeWTo28FTpw.png"/></div></div></figure><p id="c109" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">嗨，我是Amr Hesham，一名软件工程师，我对Android和编译器开发感兴趣，</p><p id="2bca" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我的第一篇文章中，我写了如何使用CodeView库为编程语言创建一个语法高亮器，它具有许多额外的功能，如自动完成、在运行时更改主题和语法等。</p><p id="0c75" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">第一个想法是在内容共享应用程序中使用它，例如Twitter，您可以突出显示标签、网站URL，也可以突出显示电子邮件，使用CodeView只需3行代码就可以轻松实现这一功能。</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="b2f1" class="lg lh iq lc b gy li lj l lk ll">codeview.addSyntaxPattern(Pattern.<em class="lm">compile</em>("#[a-zA-z0-9]+"), Color.<em class="lm">BLUE</em>);<br/>codeview.addSyntaxPattern(Patterns.<em class="lm">WEB_URL</em>, Color.<em class="lm">BLUE</em>);<br/>codeview.addSyntaxPattern(Patterns.<em class="lm">EMAIL_ADDRESS</em>, Color.<em class="lm">BLUE</em>);</span></pre><p id="ee3d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您还可以为电子邮件提供商添加自动完成功能，如<a class="ae kw" href="http://twitter.com/gmail" rel="noopener ugc nofollow" target="_blank"> @gmail </a>。com或者<a class="ae kw" href="http://twitter.com/yahoo" rel="noopener ugc nofollow" target="_blank">@雅虎</a>。最后的结果会是这样的。</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ln"><img src="../Images/b4ac98c89720fc690b3b108e5da49384.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6B3xRkyeiIeakstTBY9s9Q.png"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk translated">带有标签、电子邮件和网站URL的代码视图示例</figcaption></figure><p id="23fb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">第二个想法是使用带有搜索功能的CodeView来突出显示内容中所有匹配的关键字，您可以轻松地突出显示，而无需在所有内容中的位置进行搜索，并添加一些HTML标签或范围，以便在用户每次搜索时突出显示一个单词，<br/>，这一功能可以使用几种方法轻松完成。</p><p id="2ec7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">首先，您需要为您的搜索关键字创建一个模式，它可以是一个普通的字符串，或者您可以让用户使用regex进行搜索，而不仅仅是字符串。</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="cfb4" class="lg lh iq lc b gy li lj l lk ll">Pattern keywordPattern = Pattern.<em class="lm">compile</em>(keyword);</span></pre><p id="9336" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在科特林将会是:</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="706f" class="lg lh iq lc b gy li lj l lk ll">val keywordPattern : Pattern = Pattern.<em class="lm">compile</em>(keyword)</span></pre><p id="12e5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后，您需要将该模式添加到CodeView，并使用您想要突出显示的颜色。</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="a34e" class="lg lh iq lc b gy li lj l lk ll">codeview.addSyntaxPattern(keywordPattern, Color.<em class="lm">BLUE</em>);</span></pre><p id="19f2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后，您需要告诉CodeView突出显示新的模式。</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="ca3c" class="lg lh iq lc b gy li lj l lk ll">codeview.reHighlightSyntax();</span></pre><p id="37a3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一旦用户改变了搜索关键词，你只需要用新的模式替换旧的，有两种方法可以做到这一点。</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="af58" class="lg lh iq lc b gy li lj l lk ll">codeview.removeSyntaxPattern(keywordPattern);</span></pre><p id="79d5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">或者您可以从CodeView中移除所有模式</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="7361" class="lg lh iq lc b gy li lj l lk ll">codeview.resetSyntaxPatternList();</span></pre><p id="3ac7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后你需要添加新的图案并高亮显示</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="ab99" class="lg lh iq lc b gy li lj l lk ll">codeview.addSyntaxPattern(newkeywordPattern, Color.<em class="lm">BLUE</em>);<br/>codeview.reHighlightSyntax();</span></pre><p id="2559" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">而你做了，最后的结果会是这样的。</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ln"><img src="../Images/22bd8e873005aa6e384f0f5abc8afd10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5KOzLEmczOyKctvcbAkSWA.png"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk translated">新航从不放弃歌词</figcaption></figure><p id="0839" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">请记住，CodeView有许多功能，您可以在许多不同的想法中使用它，我只给你两个例子，但这里有越来越多的<br/>你可以在语言应用程序中使用它，例如英语应用程序，使用错误荧光笔，你可以突出拼写错误的单词，或在自动完成中创建一个带有英语单词的笔记应用程序…等等。</p><p id="7a6a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你所需要的就是发挥你的想象力和创造力，用CodeView创造出伟大的特性。</p><p id="58bc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它非常容易使用，有据可查，在Github上有很多例子你可以从Github链接中知道如何下载和使用:<br/><a class="ae kw" href="https://github.com/amrdeveloper/codeview" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir">https://github.com/amrdeveloper/codeview</strong></a></p><p id="7648" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我希望你会喜欢用CodeView创建你的编辑器😋。</p><p id="4e57" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可以在:<a class="ae kw" href="https://github.com/amrdeveloper" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir">Github</strong></a><a class="ae kw" href="https://www.linkedin.com/in/amrdeveloper/" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir">Linkedin</strong></a><a class="ae kw" href="https://twitter.com/amrdeveloper" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir">Twitter</strong></a>上找到我。</p><p id="93d6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">享受编程😋。</p></div></div>    
</body>
</html>