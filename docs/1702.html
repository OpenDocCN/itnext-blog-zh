<html>
<head>
<title>QuickFix: Vs-code Golang Renaming</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">快速修复:Vs-code Golang重命名</h1>
<blockquote>原文：<a href="https://itnext.io/quickfix-vs-code-golang-renaming-b191350dd02b?source=collection_archive---------2-----------------------#2019-01-07">https://itnext.io/quickfix-vs-code-golang-renaming-b191350dd02b?source=collection_archive---------2-----------------------#2019-01-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/6f1cebb319ebc9a356c8f0542de1a86e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F1dvfGm8Df9OO3n2C1pCLQ.png"/></div></div></figure><p id="f1c5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">vs-code中的Golang重命名不可用，这里有一个修复方法！</p><p id="b702" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">重命名在任何编码语言中都是一个基本工具，而vs-code是一个非常流行的Go IDE，所以令人惊讶的是这个问题从未得到解决。在网上查的时候发现golang的vs-code插件只是运行golang自己的重命名工具。Golang相当快，而且大多数golang工具都构造得当，为什么会这么慢呢？</p><p id="1c74" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">问题是这个工具经常认为它需要在* <strong class="ka ir">整个GOPATH* </strong>中搜索任何可能需要重命名的依赖项<strong class="ka ir">，这绝不是任何按F2键的人所期望的</strong>。搜索git问题，我发现有一个修复，@github.com/parteek已经注释掉了全局搜索代码，但在编译他的gorename时，我仍然遇到了同样的问题，并且没有编译的二进制文件。当我构建它的时候，它不知何故仍然使用golang.org/x/tools/refactor/rename包…</p><p id="0ae2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所以我想让它更简单，我将代码重组到一个包中，并测试它的工作情况。与go 1.11代码的比较表明，“工具/重构/重命名”代码从那以后就没变过。</p><h1 id="57b4" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">安装:</h1><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="8c8b" class="md kx iq lz b gy me mf l mg mh">go install github.com/amitbet/gorename</span></pre><p id="76d0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在您应该在＄GOPATH/bin目录中有了一个新的gorename.exe。</p><p id="9d07" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，在vs-code中重命名只需两秒钟(由于在运行gorename之前进行了代码检查和审查)</p><p id="12d5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">原hack:</strong><a class="ae mi" href="https://github.com/prateek/tools/commit/72b0e988ce6957db328582decda8829154c66545" rel="noopener ugc nofollow" target="_blank">https://github . com/prateek/tools/commit/72 b 0 e 988 ce 6957 db 328582 decda 8829154 c 66545</a></p><h1 id="e431" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">有什么问题吗？</h1><p id="8979" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">如果你仍然得到一个100% CPU的gorename.exe进程，你是从错误的目录中使用它，在任务管理器中检查进程的命令行，或者运行</p><p id="d946" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">窗口:</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="fc8d" class="md kx iq lz b gy me mf l mg mh">where gorename.exe</span></pre><p id="ee39" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">或者在mac上:</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="0718" class="md kx iq lz b gy me mf l mg mh">which gorename.exe</span></pre><p id="f51b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后更改PATH变量，以便调用正确的gorename.exe，或者用＄GOPATH/bin目录中的新变量覆盖另一个变量。</p></div></div>    
</body>
</html>