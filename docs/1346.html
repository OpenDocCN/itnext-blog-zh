<html>
<head>
<title>Push OutSystems to the limit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将系统推到极限</h1>
<blockquote>原文：<a href="https://itnext.io/push-outsystems-to-the-limit-797a0af2033b?source=collection_archive---------3-----------------------#2018-09-19">https://itnext.io/push-outsystems-to-the-limit-797a0af2033b?source=collection_archive---------3-----------------------#2018-09-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="1166" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一个关于<a class="ae kl" href="https://www.outsystems.com/" rel="noopener ugc nofollow" target="_blank">外系统平台</a>中<a class="ae kl" href="https://pusher.com/channels" rel="noopener ugc nofollow" target="_blank">推送通道</a>实现的教程。</p><p id="05e7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你会问为什么？好吧，当你需要<strong class="jp ir">可扩展的应用内通知、聊天、实时图表、地理跟踪</strong>或其他<strong class="jp ir">网络&amp;移动应用中的反应</strong>解决方案时，你需要用消息API扩展<a class="ae kl" href="https://www.outsystems.com/" rel="noopener ugc nofollow" target="_blank">外部系统平台</a>。<a class="ae kl" href="https://pusher.com/" rel="noopener ugc nofollow" target="_blank">Pusher.com</a>是拥有<a class="ae kl" href="https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern" rel="noopener ugc nofollow" target="_blank">发布/订阅消息API </a>的主要公司之一，也被称为<strong class="jp ir">发布/订阅</strong>。</p><p id="7b88" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我假设您已经听说过OutSystems，并且知道如何构建一个应用程序。如果没有，你可以从这里开始阅读<a class="ae kl" href="https://success.outsystems.com/Evaluation/Getting_Started_With_OutSystems" rel="noopener ugc nofollow" target="_blank"/>，<a class="ae kl" href="https://www.outsystems.com/home/downloads" rel="noopener ugc nofollow" target="_blank">下载</a> OutSystems ServiceStudio并跟随<a class="ae kl" href="https://www.outsystems.com/learn/paths/" rel="noopener ugc nofollow" target="_blank">教程</a>。</p><p id="e9a5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当你想用Pusher建立一个集成时，你必须首先考虑架构。我将描述发布/订阅消息API的基本架构。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi km"><img src="../Images/52a45e9ade428fa81ae80ccdc4cdb209.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/0*ij5i4e1LUsmPhth2.gif"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">发布订阅模式(图片来源:<a class="ae kl" href="https://msdn.microsoft.com/en-us/library/ff649664.aspx" rel="noopener ugc nofollow" target="_blank"> MSDN博客</a>)</figcaption></figure><p id="a743" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">发布者</strong>不知道<strong class="jp ir">订阅者</strong>，订阅者也不知道发布者，这意味着他们通过<strong class="jp ir">事件总线</strong>或<strong class="jp ir">消息代理</strong>松散耦合。</p><p id="456e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这在普通英语中是什么意思？这里有一个例子。你(<strong class="jp ir">发布者</strong>)想要邀请人们参加你举办的派对。你没有给所有的朋友打电话，而是创建了一条主题为“Party”的消息。你喜欢派对的朋友(<strong class="jp ir">订阅者</strong>)订阅了所有主题为“派对”的帖子。这样你就可以联系到所有喜欢聚会的朋友，而不用直接联系他们，也不知道他们是谁。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi ky"><img src="../Images/622727711df9758fa615612e03fd651e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/0*q5-8Mc1skJ8SaSz1.jpg"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">派对迷因(图片鸣谢:<a class="ae kl" href="https://blog.yellowoctopus.com.au/party-meme/" rel="noopener ugc nofollow" target="_blank">黄章鱼</a>)</figcaption></figure><p id="e600" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我已经听到你在问“我如何实现你的这个Pusher <a class="ae kl" href="https://www.outsystems.com/forge/component/1493/pusher-websockets/" rel="noopener ugc nofollow" target="_blank">组件</a>”。请继续读下去，因为我将在接下来的章节中一步一步地解释这一点。</p><h1 id="22b6" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">设置发布者(web)</h1><p id="76b2" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">创建一个后台办公室，在那里你可以管理你的流。您需要一个实体来存储您的流(AppId、Channel、Cluster、Event、Key和Secret)。在我的例子中，我还为目前可用的不同集群添加了一个静态实体。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi mc"><img src="../Images/fa2715a3e1f71d7b42be9a90043d9402.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S1IlxNji3wPmfkqicip3Ng.png"/></div></div></figure><p id="4276" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">创建另一个后台页面，您可以在其中向流编写和发送消息。这些消息将被发布到您在流中选择的推送集群，并且消息将被推送至正在收听您的流的订阅者。PusherPublish动作可以在Pusher.com的<a class="ae kl" href="https://www.outsystems.com/forge/component/1493/pusher-com-apis/" rel="noopener ugc nofollow" target="_blank">API</a>组件中找到。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi mh"><img src="../Images/db6cbefd60f0f171e8a364cdb3f65ab6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vP1-JNtddDSuivYjuFfkFg.png"/></div></div></figure><h1 id="1cbc" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">设置订户(web)</h1><p id="46a8" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">创建一个前台办公室，您可以在那里接收/处理收到的消息。您需要从Pusher.com API组件<a class="ae kl" href="https://www.outsystems.com/forge/component/1493/pusher-com-apis/" rel="noopener ugc nofollow" target="_blank">中获取PusherSubscriber webblock依赖项，并选择要在特定页面上监听哪个流。当您需要在所有页面上收听某个频道时，请将该webblock放入在所有页面上使用的其他web block中，如布局、菜单或页脚。</a></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi mi"><img src="../Images/f3fc0390aaab16a5c390f2deab0e0577.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RBKK3yMoBiBQHh2MeNlqyw.png"/></div></div></figure><p id="6f6d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">放置webblock后，您需要创建一个OnNotify操作，在这里您可以定义一收到消息就发生什么。该消息可能只是一个文本，将在聊天窗口中显示为反馈消息或回复。但是当您将消息定义为JSON文件时，它有几个值。你可以做更酷的事情，比如显示实时更新的图表或地理跟踪，每当GPS设备改变位置时，就会发送一条消息，并更新带有实际位置和历史路线的地图。</p><h1 id="714e" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">还有别的吗？</h1><p id="bcf6" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">查看<a class="ae kl" href="https://www.outsystems.com/forge/component/4339/pusher-channels-demo/" rel="noopener ugc nofollow" target="_blank">推杆渠道演示</a>锻造组件，了解如何开始整合您自己的推杆渠道的详细信息。</p><p id="eb62" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于移动设备上推送器的集成，可以使用类似的方法。唯一的区别是你必须使用<a class="ae kl" href="https://www.outsystems.com/forge/component/3972/pusher-com-mobile-apis/" rel="noopener ugc nofollow" target="_blank">Pusher.com移动API</a>Forge组件。有关移动实施的更多详情，请查看<a class="ae kl" href="https://www.outsystems.com/forge/component/4340/pusher-channels-mobile-demo/" rel="noopener ugc nofollow" target="_blank">推送通道移动演示</a>。</p></div></div>    
</body>
</html>