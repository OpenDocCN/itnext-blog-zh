<html>
<head>
<title>Why working with UUIDs instead of IDs is better</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么使用UUIDs比使用id更好</h1>
<blockquote>原文：<a href="https://itnext.io/why-working-with-uuids-instead-of-ids-is-better-b60d22caf601?source=collection_archive---------4-----------------------#2020-03-16">https://itnext.io/why-working-with-uuids-instead-of-ids-is-better-b60d22caf601?source=collection_archive---------4-----------------------#2020-03-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f261" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用UUIDs而不是IDs有很多好处。</h2></div><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi kg"><img src="../Images/58eef86b2ec01d427798f03916a71823.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5POnGGXF9LtFmULZ1OVBVg.png"/></div></div><figcaption class="ks kt gj gh gi ku kv bd b be z dk translated">由<a class="ae kw" href="https://www.blogger.com/profile/04502686129589371941" rel="noopener ugc nofollow" target="_blank">罗南·勒费希特</a></figcaption></figure><p id="4d07" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">最后，我开始使用UUIDs，我将给出三个原因:</p><h2 id="7054" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lg mc md me lk mf mg mh lo mi mj mk ml bi translated">1.当您向客户提供id时，他们可能知道记录的数量。</h2><p id="f007" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">如果你是一家小公司，这可能算不了什么，但是你把这些信息给了你的竞争对手和恶意用户。</p><p id="d4f8" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">例如，如果您创建了一个新用户，服务器将增加数据库中的ID，并给您一个最大的(最新的)ID。所以如果你的用户是1334号。您可以猜测数据库中用户的大小。</p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h2 id="bbe3" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lg mc md me lk mf mg mh lo mi mj mk ml bi translated">2.您可以随机猜测资源的路径。</h2><p id="7d47" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">我假设您有一个<a class="ae kw" href="https://en.wikipedia.org/wiki/Representational_state_transfer" rel="noopener ugc nofollow" target="_blank"> RESTful </a>应用程序。正因为如此，我们(客户)可以很容易地猜出访问某些信息的正确路径。</p><p id="3da0" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">如果我的号码id是1234，我应该可以输入类似<a class="ae kw" href="https://example/com/api/users/1234" rel="noopener ugc nofollow" target="_blank">https://example/com/API/users/1234</a>的内容。</p><p id="f5b9" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">因为是顺序ID，所以我可以猜测以前的标识符应该可以通过在我的ID之前输入一个ID来接收不属于我的用户的信息:<a class="ae kw" href="https://example/com/api/users/1233" rel="noopener ugc nofollow" target="_blank">https://example/com/API/users/1233</a>。</p><p id="c512" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">当然，服务器应该已经实现了一些权限特性，但是这个请求会命中数据库，找到用户(因为这个ID存在)然后限制它。</p><p id="6ce2" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">使用这样的UUID<strong class="kz ir"><em class="my">" 92245 CD 7–8b 41–4ce 7–9 bef-d 135 b 936254 c "</em></strong>，是不可能猜出另一个用户标识符的。而这是一件非常好的事情！</p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h2 id="d9ae" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lg mc md me lk mf mg mh lo mi mj mk ml bi translated">3.您可以通过指定一个UUID(如果该记录尚未保存在您的数据库中)来赋予您的客户端创建记录的能力</h2><p id="0467" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">您可以通过指定一个UUID(如果该记录尚未保存在您的数据库中)来赋予您的客户端创建记录的能力。</p><p id="bd85" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">前端客户端可以用自己的标识符创建新对象，而无需询问后端。这样，前端开发人员就有了更多的自由，不会覆盖API调用。</p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="65a0" class="mz lu iq bd lv na nb nc ly nd ne nf mb jw ng jx me jz nh ka mh kc ni kd mk nj bi translated">相关文章:</h1><div class="nk nl gp gr nm nn"><a rel="noopener  ugc nofollow" target="_blank" href="/using-uuids-to-your-rails-6-application-6438f4eeafdf"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd ir gy z fp ns fr fs nt fu fw ip bi translated">在Rails 6应用程序中使用UUIDs</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">UUIDs结合PostgreSQL和活动记录的威力</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">itnext.io</p></div></div><div class="nw l"><div class="nx l ny nz oa nw ob kq nn"/></div></div></a></div></div></div>    
</body>
</html>