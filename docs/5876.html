<html>
<head>
<title>.NET Development in Docker with Dev Containers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">。使用开发容器在Docker中进行. NET开发</h1>
<blockquote>原文：<a href="https://itnext.io/net-development-in-docker-6509d8a5077b?source=collection_archive---------0-----------------------#2021-06-19">https://itnext.io/net-development-in-docker-6509d8a5077b?source=collection_archive---------0-----------------------#2021-06-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/fee18ed4559ded73616289c0315ad52d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uWYrMawH_6vJ4tS7"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@jjying?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> JJ英</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></figcaption></figure><p id="62d4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">现更新为。NET 6.0！—最终代码</em> <a class="ae kf" href="https://github.com/AndyWatt83/dotnet-docker-dev-env/tree/dotnet6" rel="noopener ugc nofollow" target="_blank"> <em class="le">此处</em> </a> <em class="le">。</em></p><p id="2e94" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我的<a class="ae kf" href="https://medium.com/coinmonks/ethereum-development-in-docker-a6bd11d00ef2" rel="noopener">上一篇</a>中，我用Docker配置了一个以太坊开发的开发环境。这一次，我将为. NET做同样的事情。</p><p id="8783" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在Docker中构建开发环境在技术上已经有一段时间了，但是Visual Studio代码的'<a class="ae kf" href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers" rel="noopener ugc nofollow" target="_blank"> Remote Containers </a>'扩展已经把它带到了下一个层次。现在，工具已经足够成熟，可以在现实项目中使用了。在这篇文章中，我将搭建一个. NET API，并构建一些你在“普通”开发环境中可能会遇到的基本工具，但我将在Docker容器中运行它们！</p><p id="b487" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我们开始之前，让我们先回顾一下这样做的一些原因:</p><ul class=""><li id="9f16" class="lf lg it ki b kj kk kn ko kr lh kv li kz lj ld lk ll lm ln bi translated">所有开发人员环境的一致性，这意味着“它在我的机器上工作正常”的终结。</li><li id="7007" class="lf lg it ki b kj lo kn lp kr lq kv lr kz ls ld lk ll lm ln bi translated">接纳新的开发人员非常容易——他们只需拉出回购，所有的开发依赖都已经存在了。</li><li id="ce42" class="lf lg it ki b kj lo kn lp kr lq kv lr kz ls ld lk ll lm ln bi translated">更新每台开发机器也非常容易。</li><li id="2aa3" class="lf lg it ki b kj lo kn lp kr lq kv lr kz ls ld lk ll lm ln bi translated">在开发机器上构建和运行项目的需求被表达为代码，并随着回购而移动。(扩展“基础设施即代码”的概念，以包括开发环境)</li><li id="8038" class="lf lg it ki b kj lo kn lp kr lq kv lr kz ls ld lk ll lm ln bi translated">您不需要为您正在处理的每个项目的依赖关系“污染”您的机器。</li><li id="c505" class="lf lg it ki b kj lo kn lp kr lq kv lr kz ls ld lk ll lm ln bi translated">这不是强制性的。如果团队中的任何一个开发人员因为某种原因厌恶Docker，他们可以选择退出，不使用Docker功能。</li><li id="529b" class="lf lg it ki b kj lo kn lp kr lq kv lr kz ls ld lk ll lm ln bi translated">您正在工作的环境是为您正在工作的项目量身定制的。</li></ul><h1 id="7867" class="lt lu it bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">先决条件</h1><figure class="ms mt mu mv gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mr"><img src="../Images/9c3154985ccd94f0d8f767daf9cc0ffc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HRCLmW1CYgWtfuqH"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">由<a class="ae kf" href="https://unsplash.com/@kellysikkema?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Kelly Sikkema </a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="7a88" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这有几个先决条件。我假设你对Docker、VSCode和Linux / WSL有很好的理解。无论您使用什么机器，都需要安装:</p><ul class=""><li id="35cf" class="lf lg it ki b kj kk kn ko kr lh kv li kz lj ld lk ll lm ln bi translated">码头工人</li><li id="d21d" class="lf lg it ki b kj lo kn lp kr lq kv lr kz ls ld lk ll lm ln bi translated"><a class="ae kf" href="https://code.visualstudio.com/download" rel="noopener ugc nofollow" target="_blank"> Visual Studio代码</a></li><li id="f994" class="lf lg it ki b kj lo kn lp kr lq kv lr kz ls ld lk ll lm ln bi translated">VSCode的“<a class="ae kf" href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers" rel="noopener ugc nofollow" target="_blank">远程容器</a>扩展名</li><li id="1e33" class="lf lg it ki b kj lo kn lp kr lq kv lr kz ls ld lk ll lm ln bi translated">如果你用的是Windows，<a class="ae kf" href="https://docs.microsoft.com/en-us/windows/wsl/install-win10" rel="noopener ugc nofollow" target="_blank">我推荐WSL </a>，尽管这不是必须的。</li></ul><h1 id="8cf6" class="lt lu it bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">入门指南</h1><figure class="ms mt mu mv gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mw"><img src="../Images/94f69169beca6d7a21510f2e8da96946.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OK2at8srpjszNtJd"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated"><a class="ae kf" href="https://unsplash.com/@bradencollum?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">布拉登·科拉姆</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="0f50" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您将文件托管在Windows文件系统中，并将它们挂载到docker中的一个卷中，<a class="ae kf" href="https://github.com/docker/for-win/issues/6742" rel="noopener ugc nofollow" target="_blank">性能会非常糟糕</a>，因此我建议将文件托管在WSL文件系统中。</p><p id="dfe0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">进入WSL终端，创建一个新文件夹，用<code class="fe mx my mz na b">code .</code>打开VSCode</p><p id="111d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当VSCode打开时，点击F1并搜索<code class="fe mx my mz na b">Add Development Container Configuration Files</code></p><figure class="ms mt mu mv gt ju gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/b5d102624316935ff011633e1b279131.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*UzH505LHsBFmc1SR3xXRrg.png"/></div></figure><p id="ec0d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">选择“显示所有定义”</p><figure class="ms mt mu mv gt ju gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/d6cb58f0aa4bce0ca87b8b166b885958.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*NPpHu2OHLOMaCuXExGnNQA.png"/></div></figure><p id="cf55" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在搜索C#</p><figure class="ms mt mu mv gt ju gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/20b2e2b1cf3809a9834820580a7869c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/1*MkZzwmqfbHYkrTz4mTxbIg.png"/></div></figure><p id="3df9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">选择你的网络核心版本——我将使用6.0</p><figure class="ms mt mu mv gt ju gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/818be6e315fec2626dd6e5baa0abc81a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/1*F43lckKtOkJngg-gt2REog.png"/></div></figure><p id="0897" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">选择您的节点版本—我将使用lts</p><figure class="ms mt mu mv gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nf"><img src="../Images/98aa3c242a853bea8097cc25ab9eaea5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1234/format:webp/1*Jl4G9xwMXYOGS9USAnkq1Q.png"/></div></div></figure><p id="170e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">选择任何所需的附加特征(不需要)-然后单击“确定”</p><figure class="ms mt mu mv gt ju gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/245f9da7a5eb7ec94606fd8e9fd5aec3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/1*TA5ejRn7ezMGgGfLKi1jEw.png"/></div></figure><p id="0d5e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">VSCode将弹出以下内容</p><figure class="ms mt mu mv gt ju gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/023ebfeb0a75558fe282254955662417.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*sNGtA-Xd1wcAyGLZ5s6GjA.png"/></div></figure><p id="8bde" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">单击在容器中重新打开。第一次这样做可能需要一段时间，但以后会快得多。完成后，VSCode的左下角应该看起来像这样:</p><figure class="ms mt mu mv gt ju gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/e3ec26fa1e40d32072bcad8c9b41e731.png" data-original-src="https://miro.medium.com/v2/resize:fit:330/format:webp/1*9TG2W-qTGwa0b6B_TvrtOw.png"/></div></figure><p id="3e29" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这告诉我们，我们现在是在一个容器中运行。到目前为止，一切顺利！</p><p id="9428" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在VSCode中打开终端。您将看到终端运行在容器中，而不是运行在主机上。您可以通过尝试使用您最喜欢的cli工具来证明这一点——它们不会在那里，因为终端运行在一个全新的Docker容器中！很快，我们将添加一些cli工具，但首先我们可以创建一个新的API项目。</p><p id="016c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用终端创建一个新的WebAPI项目，包括:</p><pre class="ms mt mu mv gt nj na nk nl aw nm bi"><span id="d4d3" class="nn lu it na b gy no np l nq nr">dotnet new webapi --name WeatherApi</span></pre><figure class="ms mt mu mv gt ju gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/f277443af31ca7171254ce4772d7c92a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/format:webp/1*8BfP__dxyxxKVeN9Ax4ZQg.png"/></div></figure><p id="1e0b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后将CD放入WeatherApi文件夹，生成https证书，并使用以下命令运行Api:</p><pre class="ms mt mu mv gt nj na nk nl aw nm bi"><span id="4fb2" class="nn lu it na b gy no np l nq nr">cd WeatherApi<br/>dotnet dev-certs https<br/>dotnet run</span></pre><p id="1cd4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在打开浏览器，访问<a class="ae kf" href="http://localhost:5000/swagger/index.html" rel="noopener ugc nofollow" target="_blank">http://localhost:5250/swagger/index . html</a>，你应该会看到默认的天气API。</p><figure class="ms mt mu mv gt ju gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/7e4acb66687ceb29e53ef48ee9384e47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*hii_V14cQ6imAC7RK48JuQ.png"/></div></figure><p id="7545" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么，这很容易！但是，虽然从技术上来说你可以开始输入C#代码，但我真的不认为这是一个开发环境。这仍然只是一个文本编辑器，如果我们想成为高效的开发人员，还有更多的工作要做！</p><h1 id="0870" class="lt lu it bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">CLI工具</h1><figure class="ms mt mu mv gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nu"><img src="../Images/a4629db7543241fbac387cc68b47bb0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-CxK2J3h0qYJ4tzd"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@pankajpatel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">潘卡杰·帕特尔</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="137c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有一些我经常使用的cli工具，我希望在使用容器时可以随时使用。首先，我希望在命令行上使用Vim</p><p id="232d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">查看生成的Docker文件(在<code class="fe mx my mz na b">.devcontainer </code>文件夹中)。有一个注释掉的部分，你可以通过<code class="fe mx my mz na b">apt-get</code>安装任何你喜欢的东西，就像这样:</p><pre class="ms mt mu mv gt nj na nk nl aw nm bi"><span id="7a0f" class="nn lu it na b gy no np l nq nr"># [Optional] Uncomment this section to install additional OS packages.<br/>RUN apt-get update &amp;&amp; export DEBIAN_FRONTEND=noninteractive \<br/>    &amp;&amp; apt-get -y install --no-install-recommends vim</span></pre><p id="d85b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您需要退出并重新进入远程容器环境(按<code class="fe mx my mz na b">F1</code>)才能看到更改。重新打开远程环境后，打开一个终端，并确保Vim可用。任何其他cli工具都可以用同样的方式添加——只需将您想要的任何其他东西添加到行尾。</p><h1 id="a591" class="lt lu it bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">扩展ˌ扩张</h1><figure class="ms mt mu mv gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nv"><img src="../Images/25bd7f32190809b0a6e3d4a85d23dc51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*86YJh1lC_hbav4-T"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@sunday_digital?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Nastuh Abootalebi </a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="24c4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">开箱即用，VSCode并没有带来太多，你需要添加所有的附加功能和扩展。当你在一个容器中打开VSCode时，没有安装扩展，所以我们拥有的是一个“编辑器”，而不是一个“开发环境”。</p><p id="b64c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可以使用VSCode UI或终端以通常的方式安装扩展，但是当容器停止时，它们将不会持久。为了持久化扩展，在<code class="fe mx my mz na b">devcontainer.json</code>文件中配置您想要的扩展。</p><pre class="ms mt mu mv gt nj na nk nl aw nm bi"><span id="4829" class="nn lu it na b gy no np l nq nr">"extensions": [<br/>    "ms-dotnettools.csharp",<br/>    "formulahendry.dotnet-test-explorer",<br/>    "fernandoescolar.vscode-solution-explorer",<br/>    "shardulm94.trailing-spaces",<br/>    "pkief.material-icon-theme",<br/>    "jmrog.vscode-nuget-package-manager",<br/>    "patcx.vscode-nuget-gallery",<br/>    "k--kato.docomment",<br/>    "formulahendry.dotnet",<br/>    "2gua.rainbow-brackets",<br/>    "oderwat.indent-rainbow",<br/>    "donjayamanne.githistory"<br/>],</span></pre><p id="a1f4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以上是我典型的一套做。NET开发，包括一个测试扩展，nuget，icons，几个“生活质量”扩展，最重要的是<a class="ae kf" href="https://marketplace.visualstudio.com/items?itemName=shardulm94.trailing-spaces" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu">尾随空格高亮</strong> </a>。</p><p id="7e02" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您需要退出并重新打开容器环境才能看到更改。当容器停止并重新启动时，您将看到您已经安装的扩展现在可用了！</p><h1 id="d5a7" class="lt lu it bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">构建一个真实的项目</h1><p id="ef42" class="pw-post-body-paragraph kg kh it ki b kj nw kl km kn nx kp kq kr ny kt ku kv nz kx ky kz oa lb lc ld im bi translated">此时，我们已经添加了我们想要的所有cli工具，并配置了我们需要/想要开始开发的所有扩展的vs code——我要说的是，此时我们已经有了一个“开发环境”,而不是一个“编辑器”。</p><p id="1f9d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">作为演示，我将添加一个解决方案文件和一个测试项目，并运行测试，在这一点上，我认为我们可以称之为完成(目前…)。</p><p id="c471" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">添加包含以下内容的解决方案文件</p><p id="b032" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mx my mz na b">dotnet new sln --name WeatherApi</code></p><p id="c838" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">添加引用WetherApi项目</p><pre class="ms mt mu mv gt nj na nk nl aw nm bi"><span id="5f93" class="nn lu it na b gy no np l nq nr">dotnet sln add ./WeatherApi/WeatherApi.csproj</span></pre><p id="3b1f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因为我们已经包含了`<a class="ae kf" href="https://marketplace.visualstudio.com/items?itemName=fernandoescolar.vscode-solution-explorer" rel="noopener ugc nofollow" target="_blank">解决方案资源管理器</a>`扩展，所以您可以使用它来添加测试项目，并以与Visual Studio相同的方式添加引用。但是，如果您喜欢使用cli，可以使用以下命令:</p><pre class="ms mt mu mv gt nj na nk nl aw nm bi"><span id="584d" class="nn lu it na b gy no np l nq nr">dotnet new xunit --name WeatherApi.Tests<br/>dotnet sln add ./WeatherApi.Tests/WeatherApi.Tests.csproj<br/>cd WeatherApi.Tests<br/>dotnet add reference ../WeatherApi/WeatherApi.csproj</span></pre><p id="b2ac" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可以在控制台中键入<code class="fe mx my mz na b">dotnet test</code>并看到输出，但这并不是我们真正想要的。</p><p id="086b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">同样，当添加扩展时，我们已经添加了“<a class="ae kf" href="https://marketplace.visualstudio.com/items?itemName=formulahendry.dotnet-test-explorer" rel="noopener ugc nofollow" target="_blank"> dotnet测试浏览器</a>”，因此我们有了一个测试浏览器UI。单击扩展，然后单击以发现测试:</p><figure class="ms mt mu mv gt ju gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/ada14ccd0e09e342287f7b69caa7d445.png" data-original-src="https://miro.medium.com/v2/resize:fit:1022/format:webp/1*bKx14oI5TUvmbQvpJREgQQ.png"/></div></figure><p id="6149" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后单击运行已经添加的虚拟测试，您应该看到它通过了:</p><figure class="ms mt mu mv gt ju gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/bf77970f406220f1798581d09fb14fb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:240/format:webp/1*QzZbtRwEWQAejdBa4WrXBg.png"/></div></figure><p id="17bd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们现在已经有了一个. NET开发环境，并且成功地运行了测试。任何机器上的任何人(安装了Docker)都可以调用这个repo，打开项目，然后开始工作。不需要设置！</p><h1 id="52ce" class="lt lu it bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">结论</h1><p id="f020" class="pw-post-body-paragraph kg kh it ki b kj nw kl km kn nx kp kq kr ny kt ku kv nz kx ky kz oa lb lc ld im bi translated">我认为这是一个暂停的好地方，尽管显然还有很多可以添加的内容。此时，我们有:</p><ul class=""><li id="e138" class="lf lg it ki b kj kk kn ko kr lh kv li kz lj ld lk ll lm ln bi translated">基于Ubuntu的。NET开发环境。</li><li id="2f2c" class="lf lg it ki b kj lo kn lp kr lq kv lr kz ls ld lk ll lm ln bi translated">定制的命令行工具。</li><li id="920d" class="lf lg it ki b kj lo kn lp kr lq kv lr kz ls ld lk ll lm ln bi translated">定制的Visual Studio代码，专为。网络开发。</li><li id="46fd" class="lf lg it ki b kj lo kn lp kr lq kv lr kz ls ld lk ll lm ln bi translated">一个可以构建的API项目。</li><li id="bdc9" class="lf lg it ki b kj lo kn lp kr lq kv lr kz ls ld lk ll lm ln bi translated">可用于测试API的测试项目。</li></ul><p id="fee0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来的步骤可能是</p><ul class=""><li id="6622" class="lf lg it ki b kj kk kn ko kr lh kv li kz lj ld lk ll lm ln bi translated">让它与SSL一起工作——目前本地证书不被传递到容器中。</li><li id="fc12" class="lf lg it ki b kj lo kn lp kr lq kv lr kz ls ld lk ll lm ln bi translated">添加git凭证——目前我正在主机上与git交互。</li><li id="e7d4" class="lf lg it ki b kj lo kn lp kr lq kv lr kz ls ld lk ll lm ln bi translated">添加一个数据库(在第二个容器中)。</li><li id="efaf" class="lf lg it ki b kj lo kn lp kr lq kv lr kz ls ld lk ll lm ln bi translated">添加对Angular或React等UI框架的支持。</li></ul><p id="ebf2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">请在评论中告诉我你的想法。我很想知道是否有人已经在现实世界的项目中使用它了。我认为这是一项非常强大的技术，随着技术的成熟，我们将会看到越来越多的这种技术！</p><figure class="ms mt mu mv gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi od"><img src="../Images/ded032087e989413003a0c7c0a236556.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NttMFR9SSj24cXea"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@etiennegirardet?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">艾蒂安·吉拉代</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure></div></div>    
</body>
</html>