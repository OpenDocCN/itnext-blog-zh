<html>
<head>
<title>2 Widespread Attacks on Your Containerized Environment and 7 Rules to Prevent it.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">针对您的集装箱化环境的2种广泛攻击和7条预防规则。</h1>
<blockquote>原文：<a href="https://itnext.io/2-widespread-attacks-on-your-containerized-environment-and-7-rules-to-prevent-it-957aa7dfa5e0?source=collection_archive---------1-----------------------#2021-07-05">https://itnext.io/2-widespread-attacks-on-your-containerized-environment-and-7-rules-to-prevent-it-957aa7dfa5e0?source=collection_archive---------1-----------------------#2021-07-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="36f6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何应用通用的安全原则以及选择什么工具来防止对Docker容器和Kubernetes集群的攻击。</h2></div><h2 id="0490" class="ki kj it bd kk kl km dn kn ko kp dp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated"><strong class="ak"> 1。中间人攻击</strong>。</h2><p id="7421" class="pw-post-body-paragraph le lf it lg b lh li ju lj lk ll jx lm kr ln lo lp kv lq lr ls kz lt lu lv lw im bi translated">MITM袭击在库伯内特和多克地区很普遍。这种攻击包括发送数据的组件和接收该数据的组件之间的附加恶意部分。它可以是一个假的容器、服务、中间件，甚至是一个人。例如:</p><ul class=""><li id="cec3" class="lx ly it lg b lh lz lk ma kr mb kv mc kz md lw me mf mg mh bi translated"><a class="ae mi" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=2020-8554" rel="noopener ugc nofollow" target="_blank">CVE-2020–8554</a>—使得攻击者能够通过创建ClisterIPs服务来获得对群集的访问权限的漏洞。</li><li id="3ce6" class="lx ly it lg b lh mj lk mk kr ml kv mm kz mn lw me mf mg mh bi translated"><a class="ae mi" href="https://unit42.paloaltonetworks.com/siloscape/" rel="noopener ugc nofollow" target="_blank">Siloscape</a>—windows容器内的恶意软件。Silocape创建了整个Kubernetes集群的后门，包括敏感数据和CPU、GPU以及资源</li></ul><h2 id="60e7" class="ki kj it bd kk kl km dn kn ko kp dp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated"><strong class="ak"> 2。密码劫持攻击。</strong></h2><p id="d03a" class="pw-post-body-paragraph le lf it lg b lh li ju lj lk ll jx lm kr ln lo lp kv lq lr ls kz lt lu lv lw im bi translated">这种攻击允许攻击者运行恶意代码，以使用PC的CPU、GPU和内存来挖掘加密货币。示例:</p><p id="6484" class="pw-post-body-paragraph le lf it lg b lh lz ju lj lk ma jx lm kr mo lo lp kv mp lr ls kz mq lu lv lw im bi translated"><a class="ae mi" href="https://nvd.nist.gov/vuln/detail/CVE-2018-15664" rel="noopener ugc nofollow" target="_blank">CVE-2018–15664</a>—以root权限访问docker系统。</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi mr"><img src="../Images/270020a9b5a8040c91704fbb6f6d8902.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kNkn1PDt6RJSBzgq5NgNeA.jpeg"/></div></div></figure><h1 id="cb77" class="nd kj it bd kk ne nf ng kn nh ni nj kq jz nk ka ku kc nl kd ky kf nm kg lc nn bi translated">介绍</h1><p id="d726" class="pw-post-body-paragraph le lf it lg b lh li ju lj lk ll jx lm kr ln lo lp kv lq lr ls kz lt lu lv lw im bi translated">容器本身是一个小操作系统，容易受到恶意代码的攻击。在本文中，我们将讨论</p><ul class=""><li id="36fe" class="lx ly it lg b lh lz lk ma kr mb kv mc kz md lw me mf mg mh bi translated">你需要做什么来保护你的应用在容器中。</li><li id="071c" class="lx ly it lg b lh mj lk mk kr ml kv mm kz mn lw me mf mg mh bi translated">安全工具。</li><li id="85ce" class="lx ly it lg b lh mj lk mk kr ml kv mm kz mn lw me mf mg mh bi translated">安全规则、策略。</li><li id="58a9" class="lx ly it lg b lh mj lk mk kr ml kv mm kz mn lw me mf mg mh bi translated">如何应用常见的安全原则来防止攻击。</li></ul><p id="ab5c" class="pw-post-body-paragraph le lf it lg b lh lz ju lj lk ma jx lm kr mo lo lp kv mp lr ls kz mq lu lv lw im bi translated">我考虑将Docker和Kubernetes作为容器引擎和编排领域的两个领导者。</p><h1 id="1331" class="nd kj it bd kk ne nf ng kn nh ni nj kq jz nk ka ku kc nl kd ky kf nm kg lc nn bi translated">保护码头集装箱的原则和规则</h1><h2 id="b92e" class="ki kj it bd kk kl km dn kn ko kp dp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">1.使用最小特权原则。</h2><p id="3739" class="pw-post-body-paragraph le lf it lg b lh li ju lj lk ll jx lm kr ln lo lp kv lq lr ls kz lt lu lv lw im bi translated">这个原则意味着您不应该使用管理员用户来执行容器。您应该创建具有管理员访问权限的用户，并且只能操作这个特定的容器。您也可以让群组在那里添加用户。您可以在<a class="ae mi" href="https://docs.docker.com/engine/security/userns-remap/#about-remapping-and-subordinate-user-and-group-ids" rel="noopener ugc nofollow" target="_blank">“用用户名称空间隔离容器”</a>中了解更多信息。以下是如何创建用户和组<strong class="lg iu">的示例。</strong></p><p id="1749" class="pw-post-body-paragraph le lf it lg b lh lz ju lj lk ma jx lm kr mo lo lp kv mp lr ls kz mq lu lv lw im bi translated">首先，你应该使用官方验证和签名的图像。要查找和检查图像，您可以使用<a class="ae mi" href="https://docs.docker.com/engine/reference/commandline/trust_inspect/" rel="noopener ugc nofollow" target="_blank"> docker trust inspect </a>。</p><p id="6b5b" class="pw-post-body-paragraph le lf it lg b lh lz ju lj lk ma jx lm kr mo lo lp kv mp lr ls kz mq lu lv lw im bi translated">比如<em class="no">docker trust inspect—pretty Google/API gee-mart-server:1 . 3 . 6。</em></p><p id="3177" class="pw-post-body-paragraph le lf it lg b lh lz ju lj lk ma jx lm kr mo lo lp kv mp lr ls kz mq lu lv lw im bi translated">Docker内容信任(DCT)有助于数字签名。</p><p id="e0c2" class="pw-post-body-paragraph le lf it lg b lh lz ju lj lk ma jx lm kr mo lo lp kv mp lr ls kz mq lu lv lw im bi translated">它允许在运行时验证图像和发布者。这个过程基于<a class="ae mi" href="https://docs.docker.com/engine/security/trust/#docker-content-trust-keys" rel="noopener ugc nofollow" target="_blank"> Docker内容信任密钥</a>，它在与DCT的第一次交互过程中生成几个密钥。</p><h2 id="0362" class="ki kj it bd kk kl km dn kn ko kp dp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">2.设置资源限制</h2><p id="95b9" class="pw-post-body-paragraph le lf it lg b lh li ju lj lk ll jx lm kr ln lo lp kv lq lr ls kz lt lu lv lw im bi translated">您应该为您的docker容器设置<a class="ae mi" href="https://docs.docker.com/config/containers/resource_constraints/#memory" rel="noopener ugc nofollow" target="_blank">内存和CPU限制</a>，因为docker有一个容器默认没有这个选项。这个原则是防止DoS攻击的一种方法。例如，您可以设置一个内存限制来防止您的容器消耗所有内存。这同样适用于CPU限制。</p><p id="6922" class="pw-post-body-paragraph le lf it lg b lh lz ju lj lk ma jx lm kr mo lo lp kv mp lr ls kz mq lu lv lw im bi translated">还有一个在Kubernetes级别上设置资源限制的选项。我在Kubernetes安全性一节中讨论了这个主题。</p><h2 id="6a8e" class="ki kj it bd kk kl km dn kn ko kp dp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">3.保护并理解Docker网络。</h2><p id="c5c8" class="pw-post-body-paragraph le lf it lg b lh li ju lj lk ll jx lm kr ln lo lp kv lq lr ls kz lt lu lv lw im bi translated">这个原则对于理解Docker的网络原则至关重要。你应该了解什么是<a class="ae mi" href="https://docs.docker.com/network/" rel="noopener ugc nofollow" target="_blank"> Docker网络驱动</a>，例如:</p><ul class=""><li id="a46d" class="lx ly it lg b lh lz lk ma kr mb kv mc kz md lw me mf mg mh bi translated">桥梁</li><li id="687d" class="lx ly it lg b lh mj lk mk kr ml kv mm kz mn lw me mf mg mh bi translated">宿主</li><li id="adad" class="lx ly it lg b lh mj lk mk kr ml kv mm kz mn lw me mf mg mh bi translated">覆盖物</li></ul><p id="023b" class="pw-post-body-paragraph le lf it lg b lh lz ju lj lk ma jx lm kr mo lo lp kv mp lr ls kz mq lu lv lw im bi translated">默认情况下，一个容器网络堆栈不能访问另一个容器。但是，如果您将桥接或主机配置为接受来自任何其他容器或外部网络的流量，您可能会为攻击创建一个潜在的安全后门。您还可以使用docker守护进程中的set标志<em class="no"> — icc=false </em>来禁用容器间通信。</p><h2 id="0bdf" class="ki kj it bd kk kl km dn kn ko kp dp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">4.添加容器安全监控架构</h2><p id="65c1" class="pw-post-body-paragraph le lf it lg b lh li ju lj lk ll jx lm kr ln lo lp kv lq lr ls kz lt lu lv lw im bi translated">安全监控对于检测恶意代码和对容器的攻击至关重要。</p><p id="4b74" class="pw-post-body-paragraph le lf it lg b lh lz ju lj lk ma jx lm kr mo lo lp kv mp lr ls kz mq lu lv lw im bi translated">使用适当的监控工具，您应该能够检测到问题。</p><p id="792d" class="pw-post-body-paragraph le lf it lg b lh lz ju lj lk ma jx lm kr mo lo lp kv mp lr ls kz mq lu lv lw im bi translated">该工具允许您:</p><ol class=""><li id="a092" class="lx ly it lg b lh lz lk ma kr mb kv mc kz md lw np mf mg mh bi translated">构建实时仪表板。</li><li id="e7b0" class="lx ly it lg b lh mj lk mk kr ml kv mm kz mn lw np mf mg mh bi translated">设置提醒，通过电子邮件、短信，甚至你喜欢的聊天平台向你发送信息。</li></ol><p id="5a61" class="pw-post-body-paragraph le lf it lg b lh lz ju lj lk ma jx lm kr mo lo lp kv mp lr ls kz mq lu lv lw im bi translated">要查找Docker容器中的漏洞，可以使用</p><ul class=""><li id="3631" class="lx ly it lg b lh lz lk ma kr mb kv mc kz md lw me mf mg mh bi translated"><a class="ae mi" href="https://docs.docker.com/engine/scan/#how-to-scan-images" rel="noopener ugc nofollow" target="_blank"> docker扫描命令</a>。</li><li id="48c1" class="lx ly it lg b lh mj lk mk kr ml kv mm kz mn lw me mf mg mh bi translated">CAdvisor ，这也是一个非常强大的工具来监控你的容器。此外，您还可以在Kubernetes集群中运行它。</li></ul><p id="5c72" class="pw-post-body-paragraph le lf it lg b lh lz ju lj lk ma jx lm kr mo lo lp kv mp lr ls kz mq lu lv lw im bi translated">Docker scan或Caadvisor是一个简单的解决方案，仅适用于一个特定的容器。对于更复杂的场景，例如，当您在Kubernetes中运行50多个容器时，您需要复杂的监控工具，例如:</p><ul class=""><li id="a8e3" class="lx ly it lg b lh lz lk ma kr mb kv mc kz md lw me mf mg mh bi translated">普罗米修斯和<a class="ae mi" href="https://grafana.com/" rel="noopener ugc nofollow" target="_blank">格拉夫纳</a>。Prometheus是一个日志记录组件，它从您的容器中“抓取”信息并将其放入数据源。数据源可以是SQL、NoSQL数据存储。此外，普罗米修斯有一个警报管理器组件。它允许用户创建基于规则的警报。Grafana是一个帮助构建复杂UI仪表板的框架。仪表板可以很容易地配置为从Prometheus获取数据。</li><li id="cdf4" class="lx ly it lg b lh mj lk mk kr ml kv mm kz mn lw me mf mg mh bi translated"><a class="ae mi" href="http://datadoghq" rel="noopener ugc nofollow" target="_blank"> Datadog </a>，这是一个全面的一体化监控工具，包含测井组件子系统和侧柜。它还包括一个复杂的交互式UI框架。</li><li id="c78c" class="lx ly it lg b lh mj lk mk kr ml kv mm kz mn lw me mf mg mh bi translated"><a class="ae mi" href="https://docs.microsoft.com/en-us/azure/azure-monitor/containers/containers" rel="noopener ugc nofollow" target="_blank"> Azure日志分析</a>。这是一个复杂的工具，可以监控你的容器，尤其是在Azure容器注册中心，Azure Kubernetes服务。如果你有Azure云服务下的容器解决方案，这是一个方便的选择，因为它支持开箱即用。</li></ul><p id="7bb0" class="pw-post-body-paragraph le lf it lg b lh lz ju lj lk ma jx lm kr mo lo lp kv mp lr ls kz mq lu lv lw im bi translated">我列出了一些非常流行的解决方案。不过市场上还有很多其他值得一提的，像<a class="ae mi" href="https://sysdig.com/partners/docker/" rel="noopener ugc nofollow" target="_blank"> Sysdig </a>、<a class="ae mi" href="https://sematext.com/docker/" rel="noopener ugc nofollow" target="_blank"> Sematext </a>、<a class="ae mi" href="https://hub.docker.com/_/dynatrace" rel="noopener ugc nofollow" target="_blank"> Dynatrace </a>。</p><p id="886d" class="pw-post-body-paragraph le lf it lg b lh lz ju lj lk ma jx lm kr mo lo lp kv mp lr ls kz mq lu lv lw im bi translated">我喜欢用<a class="ae mi" href="https://prometheus.io/" rel="noopener ugc nofollow" target="_blank">普罗米修斯</a> + <a class="ae mi" href="https://github.com/google/cadvisor" rel="noopener ugc nofollow" target="_blank">卡迪瓦尔</a> + <a class="ae mi" href="https://grafana.com/" rel="noopener ugc nofollow" target="_blank">格拉夫纳</a>的组合来“烹饪”。</p><ul class=""><li id="3681" class="lx ly it lg b lh lz lk ma kr mb kv mc kz md lw me mf mg mh bi translated">Prometheus是一个强大的开源选项，用于监控CPU、GPU、内存、图像和其他指标。</li><li id="88f4" class="lx ly it lg b lh mj lk mk kr ml kv mm kz mn lw me mf mg mh bi translated">CAdvisor在检测漏洞方面相当。</li><li id="30f0" class="lx ly it lg b lh mj lk mk kr ml kv mm kz mn lw me mf mg mh bi translated">Grafana擅长构建、配置仪表板和警报，并将所有组件一起导入。</li></ul><p id="7f83" class="pw-post-body-paragraph le lf it lg b lh lz ju lj lk ma jx lm kr mo lo lp kv mp lr ls kz mq lu lv lw im bi translated">此外，我使用的安全工具Kube-bench只涉及漏洞扫描。Kube bench为您的集群安全监控增加了一层。Kubernetes有很多安全工具。</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi nq"><img src="../Images/349c8d26ad5bcf413c45337229843366.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*76zusSAV45VkNVzW"/></div></div></figure><h2 id="1c1b" class="ki kj it bd kk kl km dn kn ko kp dp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">5.避免将敏感数据放在Docker图像中。</h2><p id="baae" class="pw-post-body-paragraph le lf it lg b lh li ju lj lk ll jx lm kr ln lo lp kv lq lr ls kz lt lu lv lw im bi translated">这个原则对于将所有敏感数据移出容器非常重要。您可以使用不同的选项来管理您的机密和其他敏感数据:</p><ul class=""><li id="b8da" class="lx ly it lg b lh lz lk ma kr mb kv mc kz md lw me mf mg mh bi translated"><a class="ae mi" href="https://docs.docker.com/engine/swarm/secrets/" rel="noopener ugc nofollow" target="_blank"> Docker secret </a>允许您在图像之外存储您的秘密。</li><li id="c715" class="lx ly it lg b lh mj lk mk kr ml kv mm kz mn lw me mf mg mh bi translated">如果你在Kubernetes中运行docker容器，你可以使用<a class="ae mi" href="https://kubernetes.io/docs/concepts/configuration/secret/" rel="noopener ugc nofollow" target="_blank">秘密</a>来存储你的密码、证书或任何其他敏感数据</li><li id="8bfd" class="lx ly it lg b lh mj lk mk kr ml kv mm kz mn lw me mf mg mh bi translated">对敏感数据使用特定于云的存储，例如Azure Key Vault或AWS Secret Manager。</li></ul><h2 id="6868" class="ki kj it bd kk kl km dn kn ko kp dp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">6.涉及漏洞扫描工具</h2><p id="e3e5" class="pw-post-body-paragraph le lf it lg b lh li ju lj lk ll jx lm kr ln lo lp kv lq lr ls kz lt lu lv lw im bi translated">漏洞扫描工具是检测可能存在安全漏洞的图像的重要部分。此外，您还可以将适当选择的工具集成到CI/CD流程中。下面我列举了一些扫描工具:</p><ul class=""><li id="d6dc" class="lx ly it lg b lh lz lk ma kr mb kv mc kz md lw me mf mg mh bi translated"><a class="ae mi" href="https://github.com/eliasgranderubio/dagda/" rel="noopener ugc nofollow" target="_blank"> Dagda </a>使用静态分析方法来查找病毒、恶意软件、伪造子映像和特洛伊木马。它基于现有漏洞数据库的红帽安全咨询(RHSA)库。</li><li id="7b8e" class="lx ly it lg b lh mj lk mk kr ml kv mm kz mn lw me mf mg mh bi translated">Trivy 可以高精度地检测Alpine Linux和RHEL/CentOS、Debian、Ubuntu等操作系统的复杂漏洞。它非常强大，开源，而且免费。您可以在独立模式或客户机/服务器模式下运行Trivi。因此，您可以将其添加到您的CI/CD流程中。</li><li id="2112" class="lx ly it lg b lh mj lk mk kr ml kv mm kz mn lw me mf mg mh bi translated"><a class="ae mi" href="https://github.com/quay/clair" rel="noopener ugc nofollow" target="_blank"> Clair </a>用于对您的图像进行静态分析。它支持基于开放容器倡议(OCI)的图像。您可以构建基于Clair API的扫描图像服务。克莱尔使用<a class="ae mi" href="https://cve.mitre.org/" rel="noopener ugc nofollow" target="_blank"> CVE数据库</a>来检测漏洞。</li></ul><p id="cac7" class="pw-post-body-paragraph le lf it lg b lh lz ju lj lk ma jx lm kr mo lo lp kv mp lr ls kz mq lu lv lw im bi translated">您可以在<a class="ae mi" href="https://dzone.com/trendreports/containers-1" rel="noopener ugc nofollow" target="_blank">集装箱招标报告</a>文章中找到更多信息。</p><h2 id="0ef5" class="ki kj it bd kk kl km dn kn ko kp dp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">7.使用安全的Docker注册表</h2><p id="8689" class="pw-post-body-paragraph le lf it lg b lh li ju lj lk ll jx lm kr ln lo lp kv lq lr ls kz lt lu lv lw im bi translated">为了保护您的图像，您可以创建额外的安全层，并使用来自受保护注册表的图像，如:</p><ul class=""><li id="04f0" class="lx ly it lg b lh lz lk ma kr mb kv mc kz md lw me mf mg mh bi translated"><a class="ae mi" href="https://goharbor.io/" rel="noopener ugc nofollow" target="_blank"> Harbor </a>，这是一个集成了漏洞扫描的开源注册表。它基于应用于docker工件的安全策略。</li><li id="4592" class="lx ly it lg b lh mj lk mk kr ml kv mm kz mn lw me mf mg mh bi translated"><a class="ae mi" href="https://quay.io" rel="noopener ugc nofollow" target="_blank"> Quay </a>，扫描你的图片寻找漏洞。这是一个由RedHat支持的图像注册表。Quay还提供了一个独立的图像库，你可以在你的组织内部安装和使用。下面你可以看到它是如何扫描漏洞的。</li></ul><p id="2ba6" class="pw-post-body-paragraph le lf it lg b lh lz ju lj lk ma jx lm kr mo lo lp kv mp lr ls kz mq lu lv lw im bi translated">但是如果你已经在使用Azure Container Registry或者Docker Hub这样的注册中心了呢？你可以在<a class="ae mi" href="https://dzone.com/trendreports/containers-1" rel="noopener ugc nofollow" target="_blank">集装箱趋势报告</a>文章中找到如何做到这一点。</p></div><div class="ab cl nr ns hx nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="im in io ip iq"><h1 id="ae07" class="nd kj it bd kk ne ny ng kn nh nz nj kq jz oa ka ku kc ob kd ky kf oc kg lc nn bi translated">保护Kubernetes</h1><p id="c528" class="pw-post-body-paragraph le lf it lg b lh li ju lj lk ll jx lm kr ln lo lp kv lq lr ls kz lt lu lv lw im bi translated">Kubernetes安全性是一个大而重要的话题。主要的安全规则是:</p><ul class=""><li id="25a9" class="lx ly it lg b lh lz lk ma kr mb kv mc kz md lw me mf mg mh bi translated"><strong class="lg iu">网络和网络政策。</strong>你应该了解kubernetes网络模型的工作原理。它将帮助您在pod之间建立适当的网络通信，并假装创建开放端口或直接访问节点。网络政策可以帮助您组织这种沟通。</li><li id="6048" class="lx ly it lg b lh mj lk mk kr ml kv mm kz mn lw me mf mg mh bi translated"><strong class="lg iu">保护您的pod的进出流量</strong>。在这里，您也可以使用网络策略。您可以使用策略拒绝所有进出流量，然后开始开放。你也可以像使用<a class="ae mi" href="https://istio.io/latest/docs/concepts/what-is-istio/" rel="noopener ugc nofollow" target="_blank"> istio </a>一样使用<strong class="lg iu">服务网格</strong>。它增加了额外的服务层，实现了流量自动化，并有助于监控。然而，您应该小心使用<strong class="lg iu">服务网格</strong>，因为它可能会增加额外的复杂性。</li><li id="c511" class="lx ly it lg b lh mj lk mk kr ml kv mm kz mn lw me mf mg mh bi translated"><strong class="lg iu">传输层安全。如果TLS尚未打开，您应该启用它。TLS应该用于Kubernetes集群服务之间的通信。</strong></li><li id="1639" class="lx ly it lg b lh mj lk mk kr ml kv mm kz mn lw me mf mg mh bi translated"><strong class="lg iu">限制对Kubernetes仪表板的访问。</strong></li><li id="8d02" class="lx ly it lg b lh mj lk mk kr ml kv mm kz mn lw me mf mg mh bi translated">使用<strong class="lg iu"> RBAC </strong>并遵循<strong class="lg iu">最小特权原则</strong>。</li><li id="aef2" class="lx ly it lg b lh mj lk mk kr ml kv mm kz mn lw me mf mg mh bi translated">限制对Kubelet的访问。您应该启用身份验证和授权来使用该工具。只有管理员才能访问Kubelet。</li></ul><p id="0615" class="pw-post-body-paragraph le lf it lg b lh lz ju lj lk ma jx lm kr mo lo lp kv mp lr ls kz mq lu lv lw im bi translated">docker容器一节中提到的安全原则也适用于Kubernetes集群。</p><h2 id="ba58" class="ki kj it bd kk kl km dn kn ko kp dp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">检测Kubernetes的配置和安全问题</h2><p id="594c" class="pw-post-body-paragraph le lf it lg b lh li ju lj lk ll jx lm kr ln lo lp kv lq lr ls kz lt lu lv lw im bi translated">要在kubernetes中查找安全性和错误配置，您可以使用以下工具:</p><ul class=""><li id="622f" class="lx ly it lg b lh lz lk ma kr mb kv mc kz md lw me mf mg mh bi translated"><a class="ae mi" href="https://github.com/aquasecurity/kube-bench" rel="noopener ugc nofollow" target="_blank"> Kube-bench </a>它是该部分中最强大的工具之一。其安全检查基于<a class="ae mi" href="https://www.cisecurity.org/benchmark/kubernetes/" rel="noopener ugc nofollow" target="_blank"> CIS Kubernetes基准</a>。</li><li id="eedd" class="lx ly it lg b lh mj lk mk kr ml kv mm kz mn lw me mf mg mh bi translated"><a class="ae mi" href="https://github.com/Shopify/kubeaudit" rel="noopener ugc nofollow" target="_blank"> Kubeaudit </a></li><li id="b154" class="lx ly it lg b lh mj lk mk kr ml kv mm kz mn lw me mf mg mh bi translated"><a class="ae mi" href="https://kubesec.io/" rel="noopener ugc nofollow" target="_blank"> Kubesect.io </a></li></ul><h1 id="85b9" class="nd kj it bd kk ne nf ng kn nh ni nj kq jz nk ka ku kc nl kd ky kf nm kg lc nn bi translated">结论</h1><p id="a870" class="pw-post-body-paragraph le lf it lg b lh li ju lj lk ll jx lm kr ln lo lp kv lq lr ls kz lt lu lv lw im bi translated">安全主题非常重要且复杂，尤其是在Docker和Kubernetes世界中。本文包含了需要考虑的最重要的建议。你可以在<a class="ae mi" href="https://dzone.com/trendreports/containers-1" rel="noopener ugc nofollow" target="_blank">集装箱趋势报告</a>中找到更多关于集装箱趋势的信息。</p></div></div>    
</body>
</html>