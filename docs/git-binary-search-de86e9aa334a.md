# 吉特二分搜索法

> 原文：<https://itnext.io/git-binary-search-de86e9aa334a?source=collection_archive---------4----------------------->

## 如何发现一个错误的提交？

有时我们会在多次提交后测试代码，然后意识到代码状态有问题。要找到根本原因，需要一次一个提交地回顾 git 历史，并尝试找到导致问题的提交，但这通常并不容易:

*   提交可能没有最好的消息，
*   可能有太多的提交。

这就是为什么 git 附带了一个二分搜索法工具来帮助您找到导致问题的“坏”提交。

![](img/4ee55f13d8a1293a360b076cc31c8714.png)

# 开始搜索

要开始搜索，请在终端中输入以下命令:

```
git bisect start
```

然后你需要声明你当前的代码状态是坏的:

```
git bisect bad
```

然后指出一个好的代码版本:

```
git bisect good v1.2.0
```

此命令中使用的版本可以是任何版本:

*   标签
*   分公司名称
*   提交哈希

在这一步之后，git 转移到代码的新版本(介于好版本和坏版本之间的版本)。您可以查看代码(或者运行测试)并决定这个版本是好是坏。在前一种情况下，您想告诉 git 这是一个好版本:

```
git bisect good
```

如果不是，告诉 git:

```
git bisect bad
```

在将版本标注为好的或坏的之后，二分搜索法转移到另一个版本，以便您可以再次测试。这个过程一直持续到你找到问题的根本原因。

# 最后的话

尽管 git 具有二分搜索法功能，但是如果您应该使用它，这通常意味着编码过程有问题。尝试:

*   为每个拉取请求运行自动化测试
*   编写良好的提交消息
*   每个提交/拉取请求都有小的变化

我每周在 git、GitHub 和 GitLab 上写文章。

*   [订阅](https://medium.com/subscribe/@aerabi)my Medium publishes，以便在新的 Git 周刊发布时获得通知。
*   关注 Twitter 上的[我，获取 git 上的每周文章和每日推文。](https://twitter.com/MohammadAliEN)