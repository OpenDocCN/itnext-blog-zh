<html>
<head>
<title>What is JAMStack and how does it differ from static website generators?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是JAMStack，它与静态网站生成器有什么不同？</h1>
<blockquote>原文：<a href="https://itnext.io/what-is-jamstack-and-how-does-it-differ-from-static-website-generators-73614509c1c2?source=collection_archive---------3-----------------------#2020-08-11">https://itnext.io/what-is-jamstack-and-how-does-it-differ-from-static-website-generators-73614509c1c2?source=collection_archive---------3-----------------------#2020-08-11</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><p id="d4a1" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">JAMStack和static website generators这两个概念作为一种简化网站和web应用程序开发的方式而受到关注，同时也是模糊不清的营销术语。两人都谈到了网站的静态资产，但这到底意味着什么呢？为了帮助解码模糊的营销词汇，让我们检查一下这些技术，看看它们有什么不同，并试图找出是否有什么重要的东西需要学习。</p><figure class="kq kr ks kt gu ku gi gj paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gi gj kp"><img src="../Images/3fd0f458c6b916cee56b1d2c2560625d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IDH3Hsd1B2EW9mqa.jpg"/></div></div></figure><p id="7a8e" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">最初，网站是你用FTP上传到网络服务器的HTML文件(和图片)。就是这样。我的第一个网站，在1994-1995年，就是这样编码的，当然我用的是FTP。一大进步是找到了一个程序员编辑器，它可以处理HTML语法着色，并且可以直接编辑远程目录结构中的文件。这意味着不必使用FTP上传，语法着色使编辑HTML变得更容易。另一个进步是一个叫做<em class="lb">的功能，服务器端包含</em>，允许用户从共享目录中加载侧边栏、页眉或页脚“小部件”作为HTML代码片段。这简化了整个网站的一致外观。然后出现了各种各样的伪所见即所得的HTML编辑器，我们可以直观地编辑网页，而不是在编辑原始HTML时猜测页面的外观。这些编辑器不支持服务器端包含，但Dreamweaver中有一个类似的功能，允许用户共享HTML片段。</p><p id="34ba" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">重点是，用简单的HTML文件构建网站并不是一个新概念。自从网络出现以来，我们就一直在这么做。</p><p id="cb3a" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">JAMStack和静态网站生成器的故事是，静态HTML+CSS+JavaScript比部署动态内容管理系统(CMS)或定制的服务器端应用程序有很大的速度优势。没有复杂的服务器端代码来呈现页面。</p><p id="962b" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">对我来说，这两者都是对复杂的动态CMS的反应，或者部署到云主机的复杂的定制微服务。在学习Drupal 6和Wordpress的复杂性、学习如何定制Blogger模板以及学习Docker和Docker Swarm的这些年里，我对托管一个动态生成页面的复杂内容管理系统的负担感到厌恶。有一段时间，我为不同的网站维护着10个左右的Drupal实例，管理着多个VP，面临着永无止境的更新每个网站的模块的苦差事，并担心如何支付托管费用。</p><p id="957e" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">由于这些经历，我开发了自己的静态网站生成器AkashaCMS。有了它，虚拟主机的费用很少，网站用户的页面加载时间也很短。</p><p id="aaf7" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">JAMStack和static website generator的支持者正在宣扬一个类似的愿景——现代HTML+CSS+JS——静态资产加速——简化部署——消除复杂性——所以让我们从这个问题开始…</p><h1 id="b491" class="lc ld iu bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">什么是JAMStack？</h1><p id="3ea4" class="pw-post-body-paragraph jr js iu jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko in bi translated">JAMStack的概念被定义为"<em class="lb">通过预渲染文件交付快速安全的网站和应用，并直接从CDN提供服务，消除了管理或运行web服务器的需求。</em>“为了说明问题，首字母缩写JAM的意思是:</p><ul class=""><li id="965e" class="mf mg iu jt b ju jv jy jz kc mh kg mi kk mj ko mk ml mm mn bi translated">(<strong class="jt iv">J</strong>JavaScript在web浏览器页面中作为客户端层执行</li><li id="f398" class="mf mg iu jt b ju mo jy mp kc mq kg mr kk ms ko mk ml mm mn bi translated">(<strong class="jt iv"> A </strong>)客户端JavaScript访问托管在服务器上的API来检索数据</li><li id="9ba7" class="mf mg iu jt b ju mo jy mp kc mq kg mr kk ms ko mk ml mm mn bi translated">(<strong class="jt iv"> M </strong>)标记，作为HTML和HTML模板，用于使用JavaScript和检索到的数据动态更新页面</li><li id="70d0" class="mf mg iu jt b ju mo jy mp kc mq kg mr kk ms ko mk ml mm mn bi translated">(<strong class="jt iv"> STACK </strong>)因为，嗯，每个软件产品都被描述成一个栈，对吧？</li></ul><p id="2b64" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">这很简单，静态资产和快速页面加载时间。但是JAMStack定义说“<em class="lb">站点或应用</em>”，并且要求部署到CDN。为什么他们明确地指出那些点？JAMStack和静态网站生成器真的有区别吗？</p><p id="4954" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">在像AkashaCMS这样的系统中，用户编辑Markdown或AsciiDoc文件，然后运行工具将这些文件呈现为HTML+CSS+JS，并使用<em class="lb"> rsync </em>部署到web服务器。这是JAMStack和静态生成的网站模型，将静态HTML+CSS+JS资产上传到一个托管系统。一些观察结果:</p><ul class=""><li id="1ea1" class="mf mg iu jt b ju jv jy jz kc mh kg mi kk mj ko mk ml mm mn bi translated">静态生成的网站不需要后端API或DOM操作，但是如果需要的话，可以包含调用后端API和执行DOM操作的JS</li><li id="b408" class="mf mg iu jt b ju mo jy mp kc mq kg mr kk ms ko mk ml mm mn bi translated">我们可以在静态生成的网站中使用现代的HTML+CSS+JS</li><li id="81d9" class="mf mg iu jt b ju mo jy mp kc mq kg mr kk ms ko mk ml mm mn bi translated">静态生成的网站可以托管在使用Apache或NGINX网络服务器的廉价共享虚拟主机上</li><li id="f935" class="mf mg iu jt b ju mo jy mp kc mq kg mr kk ms ko mk ml mm mn bi translated">这种网站可以托管在CDN上，以帮助向世界各地的读者传送</li><li id="2857" class="mf mg iu jt b ju mo jy mp kc mq kg mr kk ms ko mk ml mm mn bi translated">为什么坚持部署到CDN？</li></ul><p id="ed2e" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">换句话说，JAMStack站点是静态生成的网站的子集，因为JAMStack是具有附加约束的静态生成的网站。在这两种情况下，预先呈现的HTML+CSS+JavaScript都被部署到一个托管位置，该托管位置除了将文件交付给web浏览器之外什么也不做。区别在于对JavaScript、API和DOM操作的依赖。</p><p id="cf16" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">有了这两者，我们就跳过了使用动态执行的服务来动态生成网站(例如Drupal或Wordpress)所带来的复杂性和成本。</p><p id="71f4" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">但是，为什么JAMStack的支持者坚持使用CDN呢？<strong class="jt iv">什么是CDN？</strong>CDN，又称内容交付网络，是一种基于云的服务，用于将资产分发到世界各地的远程服务器。承诺是高性能，部分是自动分发内容到世界各地的CDN终端。</p><h1 id="de2c" class="lc ld iu bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">为什么要坚持CDN？</h1><p id="205f" class="pw-post-body-paragraph jr js iu jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko in bi translated">在JAMStack的文献中,“管理web服务器”的任务被描述为一个巨大的负担。CDN被描述为“无服务器”，这被描述为一个巨大的优势。当然<em class="lb">无服务器</em>是相当愚蠢的，因为CDN是由无数的服务器组成的。这实际上意味着部署代码的人不涉及供应和管理服务器的开销。客户不必配置服务器。我们只需部署我们的代码，无服务器服务会处理剩下的事情。有了CDN，你上传文件，CDN负责服务器和在全世界分发你的HTML+CSS+JS资产。</p><p id="8328" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">CDN的主要优势是，CDN保证在世界任何地方都有类似的性能。使用单一网络服务器的传统主机——我的网站托管在从Dreamhost租赁的共享主机上，其服务器位于南加州——与该服务器的距离会影响访问网站的速度。</p><p id="fe46" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">根据谷歌分析，我的网站(全部托管在简单共享的Apache虚拟主机上)的页面加载速度不到20毫秒。在我看来，20毫秒非常接近于快得惊人的T2 T3。我还没有尝试过在CDN上托管一个网站，也不知道CDN提供内容的速度是否更快。我的网站在乌干达的读者可能会比在加州亨廷顿海滩的读者看到更慢的页面加载时间。在CDN上托管应该可以平衡这两者。</p><p id="51ef" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">此外，CDN提供商真正提供<em class="lb">无限带宽</em>(收费)。传统的共享主机提供商，如Dreamhost，提供无限的带宽，但通常有一个未声明的使用水平，超过这个水平，主机提供商将开始发送电子邮件，要求您的网站转移到其他地方。cdn的性能保证是传统的基于Apache的虚拟主机提供商无法做到的。</p><h1 id="a33b" class="lc ld iu bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">JAMStack是哪里来的？</h1><p id="8e7e" class="pw-post-body-paragraph jr js iu jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko in bi translated">看起来JAMStack来自前端工程师，他们被束缚在编写后端代码的不自然的事情中。管理层可能认为JavaScript就是JavaScript，因此前端工程师应该能够将Node.js服务作为web应用程序的后端。但是，用HTML、CSS和JavaScript创建视觉体验的技能与Docker、Databases和Node.js等后端部署工具的技能非常不同。</p><p id="e9c4" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">前端工程是面向视觉和交互效果的，而后端编码是关于服务器部署、服务扩展等等。前端工程师不愿意进行服务器部署是很正常的。</p><p id="bcab" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">谈论JAMStack的人关注的是部署应用程序的容易程度。像我一样，使用静态网站生成器的人正在寻找一种稍微不同的东西。我们有网站(博客等)部署，看不到动态生成每个页面视图的内容点，并希望降低托管成本。</p><h1 id="c79f" class="lc ld iu bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">避免复杂性可能是最大的收获</h1><figure class="kq kr ks kt gu ku gi gj paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gi gj kp"><img src="../Images/dac62a5804b5d1cc7e0eba4a0c77f3de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*bO4JfXVqrXt8wBON.jpg"/></div></div></figure><p id="94ae" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">这张图片展示了JAMStack和使用静态网站生成器渲染的网站的优势。更简单的系统成本更低，资源影响更小，维护开销更低，速度更快。</p><p id="00b8" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">左边(蓝色箭头和文本)是部署静态资产的模型。正如JAMStack的支持者所坚持的，它们可以部署到CDN，或者部署到简单的Apache或NGINX服务器。在这两种情况下，用户的web浏览器向web服务器发出请求，web服务器只是发回文件，如此而已。</p><p id="dbfc" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">在右边(绿色文本和箭头)，我们有一个部署在云托管基础架构上的复杂系统。像AWS这样的云托管平台有接近无数的功能，让技术专家们有很多兴奋的事情。通过配置和使用云托管平台，驱动所有类型网站的全球规模定制服务是可能的。这是一个引人注目的模式，因为任何人都可以租用服务，只需点击几个按钮，就可以从小规模部署扩展到全球范围的服务。但是请相信我，学习起来很复杂，理解起来很复杂，寻找如何最小化成本很复杂，管理起来也很复杂，等等。</p><h1 id="e467" class="lc ld iu bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">无服务器是消除复杂性的真正方法</h1><p id="c59f" class="pw-post-body-paragraph jr js iu jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko in bi translated">JAMStack的支持者称赞CDN部署，但他们应该称赞的是<em class="lb">无服务器</em>概念。</p><p id="ee32" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">在当今的计算世界中，有许多非常复杂的系统。某些类型的网站需要这种复杂性，因为需要管理大量的服务。</p><p id="6629" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">要构建和维护一个跨多个可用性区域工作、自动处理服务故障、处理自动本地化和国际化等等的系统，需要多个高技能工程师团队。不是每个人都能负担得起聘请如此深厚人才基础的成本。</p><p id="b736" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated"><em class="lb">无服务器</em>方式提供了一条不同的路线。服务提供商雇佣部署基于云的服务所需的工程人才，我们只需租用他们的服务。无论是数据库服务、内容分发服务、云功能服务还是任何其他服务，我们只需使用服务提供商网站来租赁服务。服务提供商的工程团队负责扩展以满足流量、多区域可用性、备份、可靠性等要求。我们的任务很简单——我们用服务访问细节配置应用程序堆栈，然后继续编写应用程序代码。</p><p id="b106" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">非常简单，个人(或小团队)可以:</p><ul class=""><li id="d99d" class="mf mg iu jt b ju jv jy jz kc mh kg mi kk mj ko mk ml mm mn bi translated">使用前端JavaScript创建应用程序</li><li id="4057" class="mf mg iu jt b ju mo jy mp kc mq kg mr kk ms ko mk ml mm mn bi translated">将任何自定义后端服务部署到功能即服务系统</li><li id="921e" class="mf mg iu jt b ju mo jy mp kc mq kg mr kk ms ko mk ml mm mn bi translated">利用数据库即服务</li><li id="9ecb" class="mf mg iu jt b ju mo jy mp kc mq kg mr kk ms ko mk ml mm mn bi translated">利用其他第三方云服务</li></ul><p id="8a6b" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">一切都不复杂，并且能够快速开发/部署网站或web应用程序。所有的复杂性都由无服务器服务提供商来处理。</p><p id="dec8" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">然而，并非所有的无服务器服务都同样简化。AWS Fargate被宣传为AWS ECS或AWS EKS的无服务器版本。ECS是托管Docker容器的AWS云服务，EKS是运行Kubernetes的AWS服务。Fargate是<em class="lb">无服务器的</em>,因为您不提供托管Docker容器所涉及的服务器，这确实稍微简化了托管Docker服务的任务。但是Fargate仍然非常复杂。</p><p id="714a" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">在下一节中，让我们更具体地讨论JAMStack的实现。</p><h1 id="d594" class="lc ld iu bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">这是个不错的理论，但是什么是真正的JAMStack或者静态网站呢？</h1><p id="ba96" class="pw-post-body-paragraph jr js iu jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko in bi translated">所有这些都相当抽象，所以让我们看一些JAMStack的具体例子。</p><p id="e916" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">简而言之，JAMStack是一个包含JavaScript的HTML页面，它在其中对服务进行API调用，使用检索到的数据对HTML进行更改。让我们来看一些例子…</p><h1 id="fbf3" class="lc ld iu bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">静态HTML或JAMStack网站上的评论系统</h1><p id="02e9" class="pw-post-body-paragraph jr js iu jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko in bi translated">这些动态合作医疗有其优势。例如，Wordpress和Drupal都集成了一个本地评论系统，并允许用户注册网站来发表评论。通过网站允许你的读者发表评论，可以建立一个社区。为什么我们要放弃这个和其他的特性呢？</p><p id="360f" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">第一步是使用静态网站生成器呈现网站内容。有许多这样的系统，每个都有不同的行为。在大多数情况下，内容是用Markdown编写的，并通过模板呈现以创建静态HTML站点。</p><p id="7b6f" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">然后，对于需要注释的每个页面，添加一些包含注释UI的JavaScript。JavaScript应该添加到模板中，而不是Markdown内容中，以简化整个网站的评论实现。评论UI将调用后端评论系统，并在网页的给定位置呈现用户界面。例如:</p><p id="7d70" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">这(或多或少)是Disqus提供的JavaScript，一个大规模的评论服务。它处理网站上的评论，并有许多有用的工具来管理垃圾邮件发送者和用户认证。</p><p id="b0d1" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">Disqus UI集成了许多后端服务。例如，用户可以在不离开网页的情况下注册成为Disqus用户，它还可以验证使用第三方服务(如脸书或Twitter)的人。一旦读者通过认证，他们就可以发表评论，评论区会随着其他人发表评论而动态更新。</p><p id="b546" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">当我在Blogger或Drupal博客上安装Disqus时，并没有出现JAMStack的情况。简单地对第三方服务使用JavaScript UI并不能使它成为JAMStack。Drupal博客有其自身的复杂性。让它成为JAMStack的是使用一个静态网站生成器，这样你就可以部署HTML+CSS+JS。</p><p id="3931" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">有很多像Disqus这样的服务提供很多服务。例如，一个天气站点可能会提供一个小部件来显示访问者所在地区的当前天气。以及脸书、Twitter、YouTube和其他网站提供的嵌入式小部件，也是调用API和修改DOM的JavaScript UI的例子。</p><h1 id="1333" class="lc ld iu bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">静态HTML或JAMStack网站中的自定义后端服务</h1><p id="4881" class="pw-post-body-paragraph jr js iu jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko in bi translated">许多网站也有定制服务。毕竟，第三方服务不能满足所有需求。</p><p id="9a20" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">举个例子，我的一个网站是一个合适的静态HTML站点，其中一个部分有一个用老式PHP实现的服务。该服务的最初版本是在1997年用TCL实现的，在21世纪初的某个时候，我将其重写为简单的老式CGI风格的PHP。今天，PHP脚本是由AkashaCMS从模板中呈现的，并使用该网站的HTML+CSS+JS进行部署，但它仍然是老派的PHP。</p><p id="663e" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">因此，该网站不是纯粹的静态HTML，也不是JAMStack网站。JAMStack的支持者认为，这很复杂，应该避免。在这种情况下，PHP实现需要额外的安全措施。</p><p id="d854" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">任何一个给定的站点都可能有无数个定制动态服务的原因。预烘焙的第三方服务并不能满足所有需求。由于JAMStack方法不仅关乎性能，还关乎简单性和安全性，这就引出了一个问题:在JAMStack站点上使用定制动态服务的最简单、最高性能和最安全的方式是什么？</p><p id="9f6b" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">我立即想到了像AWS Lambda这样的功能即服务平台，以及可伸缩性、性能和内置安全性的承诺。</p><p id="182c" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">JAMStack的支持者可能会说实现一个定制的服务:</p><ul class=""><li id="52c5" class="mf mg iu jt b ju jv jy jz kc mh kg mi kk mj ko mk ml mm mn bi translated">提供JSON/REST API的后端</li><li id="eff3" class="mf mg iu jt b ju mo jy mp kc mq kg mr kk ms ko mk ml mm mn bi translated">JavaScript UI在浏览器端为用户界面呈现HTML</li></ul><p id="4124" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">很容易为JavaScript UI生成一个静态包，以便通过CDN进行部署。在</p><p id="4895" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated"><a class="ae mt" href="https://techsparx.com/software-development/vue-js/getting-started/" rel="noopener ugc nofollow" target="_blank">我的另一个网站</a>我写了一个关于用Vue.js做这件事的教程。使用Webpack构建Vue.js应用程序包给出了一个包含静态资产的目录，这些资产可以与静态网站的其余部分一起部署。然后将它包含在HTML中，如下所示:</p><p id="72b9" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">URL处的JS代码(在本例中为<code class="fe mu mv mw mx b">/dist/build.js</code>)必须被编写为以<code class="fe mu mv mw mx b">div#app</code>元素为目标，在这里它将初始化应用程序。</p><h1 id="03c6" class="lc ld iu bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">搜索引擎索引JavaScript用户界面</h1><p id="6452" class="pw-post-body-paragraph jr js iu jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko in bi translated">阻止我在我的网站上这样做的一件事是，它是否会被搜索引擎索引。相应页面的HTML会有JavaScript应用程序，而不是当前显示的信息。搜索引擎将如何索引该服务提供的信息？在很多情况下，像我一样，这些信息是网站的一大价值点，许多访问者都是因为这些信息而被吸引到这个网站的。</p><p id="54bf" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">JAMStack网站上有一个相应的问题。也就是说，<strong class="jt iv">不是</strong> JAMStack网站的因素包括:</p><blockquote class="my mz na"><p id="79ba" class="jr js lb jt b ju jv jw jx jy jz ka kb nb kd ke kf nc kh ki kj nd kl km kn ko in bi translated"><em class="iu">一个单页面应用，在运行时使用同构渲染在服务器上构建视图。</em></p></blockquote><p id="931d" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">我不确定这句话是什么意思，但它显然是指服务器端渲染。这</p><p id="a196" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated"><a class="ae mt" href="https://en.wikipedia.org/wiki/Isomorphic_JavaScript" rel="noopener ugc nofollow" target="_blank">关于同构JavaScript的维基百科页面</a>谈到了服务器端和客户端渲染的混合情况。JAMStack网站可能会说，使用从服务器检索的数据在客户端进行渲染是最好的。</p><p id="749f" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">在维基百科页面上，有一个关于搜索引擎索引有客户端渲染的站点的问题的讨论。更确切地说，由于该页面将同构呈现视为一件好事，因此它给出了以下好处之一:</p><blockquote class="my mz na"><p id="edfd" class="jr js lb jt b ju jv jw jx jy jz ka kb nb kd ke kf nc kh ki kj nd kl km kn ko in bi translated">更可预测的SEO和站点索引:为了索引JavaScript应用程序在客户端呈现的内容，Googlebot必须在完整的浏览器环境中运行这些JavaScript应用程序，并捕获呈现的DOM。这涉及到复杂的浏览器兼容性问题。此外，因为JavaScript应用程序可以发出AJAX请求来进一步渲染，所以Googlebot必须有一个策略来控制应用程序的网络访问。这就是为什么让你的JavaScript应用程序被Googlebot正确索引仍然具有挑战性。</p></blockquote><p id="db9e" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">因此，我有理由担心这是否会影响我的网站在搜索引擎中的可见性。FWIW Vue.js声称可以被搜索引擎索引，所以我可能夸大了这个问题。</p><h1 id="236b" class="lc ld iu bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">作为应用程序的网站</h1><p id="4150" class="pw-post-body-paragraph jr js iu jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko in bi translated">与我通常创建的网站不同，有些人使用网站作为应用程序的位置。一些例子是Slack、Discord、Google Mail、Canva，它们都是具有少量公共内容的网站，并且是您访问应用程序的区域。它的主要目的不是像这样呈现书面内容，而是应用程序。</p><p id="8f4c" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">显然，这样的网站与我刚才描述的非常相似。我们将使用一个静态网站生成器来构建几个普通的网页，以及包含JavaScript用户界面的页面。如前一节所述，我们将为JavaScript UI构建一个代码包，并将其部署到静态网站中。</p><p id="e192" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">对于后端服务，UI可能会使用各种第三方和定制服务。对于自定义服务，我们再次建议您托管在一个无服务器平台上，以保持简单。</p><p id="67d1" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">遵循这些建议将使这个网站成为JAMStack网站。</p><p id="30d7" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">这样的网站可能不希望搜索引擎索引应用程序。搜索引擎会在文字处理应用程序的用户界面中找到任何可索引的东西吗？</p><h1 id="64f0" class="lc ld iu bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">摘要</h1><p id="aa48" class="pw-post-body-paragraph jr js iu jt b ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk me km kn ko in bi translated">我们了解到，JAMStack网站类似于静态HTML网站，但有几个特定的要求。由于目标是简单的系统管理，JAMStack站点最好托管在无服务器平台上。</p><p id="1aac" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">除此之外，JAMStack与一段时间以来我们称之为静态HTML网站的网站没有什么不同。两者都涉及HTML、JavaScript和CSS的静态捆绑，目标是提高速度和用户体验，让人们阅读我们的网站。</p><p id="6a01" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">但是坚持JAMStack站点/应用程序必须在CDN上是有问题的。我完全理解“<em class="lb"> Jamstack项目不依赖服务器端代码</em>的目标，因为这消除了交付高性能的瓶颈。明明JAMStack网站坚持CDN部署，但那是唯一理性的选择吗？</p><p id="b244" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">以我的经验来看，对于我处理的流量水平，Apache在一个简单的共享web托管提供商上就足以提供很好的页面加载时间。JAMStack网站说的一件事是:</p><blockquote class="my mz na"><p id="7d55" class="jr js lb jt b ju jv jw jx jy jz ka kb nb kd ke kf nc kh ki kj nd kl km kn ko in bi translated"><em class="iu">它们的共同点是不依赖于网络服务器。</em></p></blockquote><p id="e98c" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">相反，我们应该依赖无服务器服务，当然，这是建立在服务器上的。<em class="lb">无服务器</em>的意思是<em class="lb">其他人的服务器</em>，这样做的好处是简化了管理体验。这就是JAMStack所说的不依赖于web服务器的意思。</p><p id="d1dd" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">我保证使用Dreamhost我也不会参与服务器管理。我在Dreamhost上的一个简单的共享Apache帐户上有六个静态HTML站点，并且没有参与管理服务器。我简单地使用rsync上传HTML+CSS+JS到服务器，一切都很好。我希望JAMStack网站不要如此坚持反服务器的立场。</p></div><div class="ab cl ne nf hy ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="in io ip iq ir"><p id="5670" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated"><em class="lb">原载于</em><a class="ae mt" href="https://akashacms.com/news/2020/08/jamstack-websites.html" rel="noopener ugc nofollow" target="_blank"><em class="lb">https://akashacms.com</em></a><em class="lb">。</em></p></div></div>    
</body>
</html>