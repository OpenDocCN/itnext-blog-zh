<html>
<head>
<title>Convert Country Name To Flag Emoji in C# &amp; the .NET ecosystem</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">转换国名为国旗表情符号。网络生态系统</h1>
<blockquote>原文：<a href="https://itnext.io/convert-country-name-to-flag-emoji-in-c-the-net-ecosystem-115f714d3ef9?source=collection_archive---------1-----------------------#2022-02-24">https://itnext.io/convert-country-name-to-flag-emoji-in-c-the-net-ecosystem-115f714d3ef9?source=collection_archive---------1-----------------------#2022-02-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="bb74" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">对CSharp控制台使用相同的解决方案。NET Core、Blazor或Xamarin iOS和Android应用程序</h2></div><p id="fc76" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，让我们通过显示国旗表情符号来改善应用程序的用户体验，而不是简单的旧国名或国家代码。在国家图像文件上使用表情符号可以显著提高性能和开发效率。在您的应用程序中实现它非常容易和安全。</p><p id="5e35" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用<code class="fe lb lc ld le b">System.Globalization</code>和<code class="fe lb lc ld le b">System.Linq</code>，下面是一个控制台应用程序的例子:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/839ad7eca549884beb6714f2e9795a9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DVXmmqGgKA-T3uKdoqsErQ.jpeg"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">简单的控制台应用程序，您可以在其中测试此代码。加泰罗尼亚还不是注册国家</figcaption></figure><p id="f726" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在关注一个javascript技巧论坛时，我发现了这个巧妙的技巧。但是在C#/.NET中找不到好的解决方案，但是在我快要放弃的30天后，我找到了一个非常好用的解决方案，觉得值得分享！如果您不想使用静态函数来运行它，您可以简单地调用<code class="fe lb lc ld le b">GetFlag()</code>并将国家名称传入函数:</p><pre class="lg lh li lj gt lw le lx ly aw lz bi"><span id="666c" class="ma mb iq le b gy mc md l me mf">public string GetFlag(string country)<br/>{<br/>  var regions = CultureInfo.GetCultures (CultureTypes. SpecificCultures).Select(x =&gt; new RegionInfo(x.LCID));<br/>  var englishRegion = regions.FirstOrDefault(region =&gt; region.EnglishName.Contains(country));<br/>  if (englishRegion == null) return "🏳";<br/>  var countryAbbrev = englishRegion.TwoLetterISORegionName;<br/>  return IsoCountryCodeToFlagEmoji(countryAbbrev);<br/>}</span><span id="6c3a" class="ma mb iq le b gy mg md l me mf">public string IsoCountryCodeToFlagEmoji(string countryCode) =&gt; string.Concat(countryCode.ToUpper().Select(x =&gt; char.ConvertFromUtf32(x + 0x1F1A5)));</span></pre><p id="f6f1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你已经有了两位数的国家代码，你可以跳过<code class="fe lb lc ld le b">GetFlag()</code>，直接调用<code class="fe lb lc ld le b">IsoCountryCodeToFlagEmoji()</code>函数。</p><p id="36d7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">希望你觉得有用！</p></div><div class="ab cl mh mi hu mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ij ik il im in"><h2 id="8bc8" class="ma mb iq bd mo mp mq dn mr ms mt dp mu ko mv mw mx ks my mz na kw nb nc nd ne bi translated">奖金XAML转换器代码:</h2><p id="5529" class="pw-post-body-paragraph kf kg iq kh b ki nf jr kk kl ng ju kn ko nh kq kr ks ni ku kv kw nj ky kz la ij bi translated">对于任何喜欢转换器的人(如<a class="ae lv" href="https://xamgirl.com/understanding-converters-in-xamarin-forms/" rel="noopener ugc nofollow" target="_blank">Charlin</a>&amp;<a class="ae lv" href="https://www.c-sharpcorner.com/article/xaml-value-converter-with-simple-example/" rel="noopener ugc nofollow" target="_blank">Ammar</a>)，您可以使用这段代码将来自ViewModel属性的国家名称转换成表情符号:</p><pre class="lg lh li lj gt lw le lx ly aw lz bi"><span id="a404" class="ma mb iq le b gy mc md l me mf">public class CountryToFlagConverter : Xamarin.Forms.IValueConverter<br/>{<br/>    public object Convert(object value, Type targetType, object parameter, CultureInfo culture) =&gt; GetFlag((string)value);<br/><br/>    public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture) =&gt; value;<br/><br/>    private string GetFlag(string country)<br/>    {<br/>        var regions = CultureInfo.GetCultures(CultureTypes.SpecificCultures).Select(x =&gt; new RegionInfo(x.LCID));<br/>        var englishRegion = regions.FirstOrDefault(region =&gt; region.EnglishName.Contains(country));<br/>        if (englishRegion == null) return "🏳";<br/>        var countryAbbrev = englishRegion.TwoLetterISORegionName;<br/>        return IsoCountryCodeToFlagEmoji(countryAbbrev);<br/>    }<br/><br/>    private string IsoCountryCodeToFlagEmoji(string countryCode)<br/>        =&gt; string.Concat(countryCode.ToUpper().Select(x =&gt; char.ConvertFromUtf32(x + 0x1F1A5)));<br/>}</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nk"><img src="../Images/0e4c742eef524d48fc9215ca584225a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gBujBEx4MWLi8dfibsQCDQ.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">使用<a class="ae lv" rel="noopener ugc nofollow" target="_blank" href="/generating-beautiful-frames-for-your-ios-android-screenshots-instantly-5175d77a0493">快速通道框架it </a>进行框架</figcaption></figure><p id="a636" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">创建转换器后，您可以<a class="ae lv" href="https://docs.microsoft.com/en-us/xamarin/xamarin-forms/app-fundamentals/data-binding/converters" rel="noopener ugc nofollow" target="_blank">将它的键添加到任何页面的ResourceDictionary </a>中，如下:<br/> <code class="fe lb lc ld le b">&lt;local:CountryToFlagConverter x:Key=”FlagDetermination”/&gt;</code></p><p id="d11d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">以下是你在XAML中使用它的方法:</p><pre class="lg lh li lj gt lw le lx ly aw lz bi"><span id="564b" class="ma mb iq le b gy mc md l me mf">&lt;Label Text="{Binding GroupCountryName}"<br/>       TextColor="#424242"<br/>       HorizontalOptions="Start"<br/>       FontFamily="OpenSansBoldFont"<br/>       FontSize="22" /&gt;<br/>&lt;Label Text="{Binding GroupCountryName ,Converter={StaticResource FlagDetermination}}"<br/>       HorizontalOptions="EndAndExpand"<br/>       FontSize="30" /&gt;</span></pre></div><div class="ab cl mh mi hu mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ij ik il im in"><p id="c94c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有任何问题，请随时在<a class="ae lv" href="http://twitter.com/saamerm" rel="noopener ugc nofollow" target="_blank"> Twitter </a>或<a class="ae lv" href="http://linkedin.com/in/saamer" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>联系我，并查看<a class="ae lv" href="https://thefirstprototype.com/mobile-app-development-windsor-ios-android.html" rel="noopener ugc nofollow" target="_blank">我们的投资组合</a>！此外，试试我们的测试版<a class="ae lv" href="https://testflight.apple.com/join/3ixeJPSz" rel="noopener ugc nofollow" target="_blank"> iOS BeAware聋人应用</a>，或者我们的YouTube视频【Xamarin Native入门！</p></div></div>    
</body>
</html>