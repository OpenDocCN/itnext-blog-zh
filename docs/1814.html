<html>
<head>
<title>Integrate React with Firebase and Deploying with Gitlab + Netlify</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将React与Firebase集成，并使用Gitlab + Netlify进行部署</h1>
<blockquote>原文：<a href="https://itnext.io/integrate-react-with-firebase-and-deploying-with-gitlab-netlify-8b47654c70bb?source=collection_archive---------1-----------------------#2019-02-04">https://itnext.io/integrate-react-with-firebase-and-deploying-with-gitlab-netlify-8b47654c70bb?source=collection_archive---------1-----------------------#2019-02-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="cc01" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">(<a class="ae kl" href="https://medium.com/@edades/integrando-react-con-firebase-y-deployando-con-gitlab-netlify-855241f6b9a" rel="noopener">Revisa este post en Spain ol</a>)</p><p id="1af7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我一直在做一个个人项目，学习和练习一些东西。我将分享一些我在React中开始开发这个项目之前必须做的配置。</p><p id="676d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">1-创建React应用程序<br/> 2-添加Sass和SemanticUI <br/> 3-与Firebase <br/>集成4-使用jest/enzyme <br/>配置单元测试5-将代码上传到Gitlab <br/> 6-使用Netlify部署</p><p id="3316" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可以在这里查看原始存储库(如果您愿意，您也可以投稿):<a class="ae kl" href="https://gitlab.com/edades/treasure" rel="noopener ugc nofollow" target="_blank">https://gitlab.com/edades/treasure</a>和部署的项目URL:<a class="ae kl" href="https://admiring-perlman-f15f11.netlify.com/" rel="noopener ugc nofollow" target="_blank">https://admiring-perlman-f15f11.netlify.com/</a></p></div><div class="ab cl km kn hu ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="ij ik il im in"><h1 id="bbec" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated"><strong class="ak"> 1-创建React应用程序</strong></h1><p id="48b1" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">首先，我们需要创建React应用程序<code class="fe lw lx ly lz b">npx create-react-app treasure</code>(查看完整文档:<a class="ae kl" href="https://github.com/facebook/create-react-app" rel="noopener ugc nofollow" target="_blank">https://github.com/facebook/create-react-app</a>)。然后，转到项目文件夹，在本地环境中运行我们的项目。</p><h1 id="6eb8" class="kt ku iq bd kv kw ma ky kz la mb lc ld le mc lg lh li md lk ll lm me lo lp lq bi translated"><strong class="ak"> 2-添加Sass和SemanticUI </strong></h1><p id="6837" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">默认情况下，我们的应用程序支持css，但我们可以给它额外的权力，并使用Sass。为了管理我们的风格，我们需要安装<code class="fe lw lx ly lz b">npm install node-sass -s</code>-有了它，我们现在就可以在我们的项目中使用Sass。<br/>现在，我们需要从<strong class="jp ir">更改样式文件的名称。css </strong>至<strong class="jp ir">。例如，我们可以用一个通用文件来导入和管理我们所有的样式文件，每个React组件都有Sass。</strong></p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/126677ea1c350b695b6a144a7d384cd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1078/format:webp/1*4tKycS3B8uyvYiQifeKNRA.png"/></div><figcaption class="mn mo gj gh gi mp mq bd b be z dk translated">这是我们路由路径中的index.scss。</figcaption></figure><p id="a0d4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，让我们来看一点语义反应。<br/><a class="ae kl" href="https://github.com/Semantic-Org/Semantic-UI-React" rel="noopener ugc nofollow" target="_blank">https://github.com/Semantic-Org/Semantic-UI-React</a></p><p id="6aa2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe lw lx ly lz b">npm install semantic-ui-react -s</code></p><p id="e510" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">安装了库之后，我们可以很容易地导入和使用任何组件。<br/>这是一个使用加载器组件的示例:</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/5dfa90253b82f1dda92fc000c5397b88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1148/format:webp/1*Cc18YiBvqvVwV9xYHp6oZA.png"/></div></figure><p id="b862" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这里，我创建一个加载组件，我使用SemanticUI的Segment，Dimmer y Loader。此外，我们可以覆盖每个组件的样式，在这种情况下，我向Segment组件添加了一个className属性，为它们提供特定的样式规则。</p><h1 id="4c8e" class="kt ku iq bd kv kw ma ky kz la mb lc ld le mc lg lh li md lk ll lm me lo lp lq bi translated"><strong class="ak"> 3- Firebase集成</strong></h1><p id="ccac" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">在这种情况下我会试着更实际一点:</p><ul class=""><li id="44cd" class="ms mt iq jp b jq jr ju jv jy mu kc mv kg mw kk mx my mz na bi translated">安装火力基地<code class="fe lw lx ly lz b">npm install firebase -s</code></li><li id="8a07" class="ms mt iq jp b jq nb ju nc jy nd kc ne kg nf kk mx my mz na bi translated">(这部分是建议)在src中创建一个文件夹，并将其命名为<strong class="jp ir"> config，</strong>然后，在config中创建一个文件<strong class="jp ir"> firebase.js </strong>，这是我们将要初始化firebase并放置配置密钥的地方。</li></ul><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/36d4df421f2d7a4d1c2b370b3324ed31.png" data-original-src="https://miro.medium.com/v2/resize:fit:288/format:webp/1*2-UNkm9_utXC9oLzrZE-iA.png"/></div></figure><ul class=""><li id="16e9" class="ms mt iq jp b jq jr ju jv jy mu kc mv kg mw kk mx my mz na bi translated">配置文件(config/firebase.js):</li></ul><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ni nj di nk bf nl"><div class="gh gi nh"><img src="../Images/14196ad96ab6e0d02828d88b50e0f268.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t2TqDR8MXXoa0dh3J3nQFw.png"/></div></div></figure><p id="0e5c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里我们有对firebase库的唯一导入调用。<br/>我们得到了一个包含firebase应用程序“秘密”的对象。(为此，我们需要在<a class="ae kl" href="https://firebase.google.com" rel="noopener ugc nofollow" target="_blank">https://firebase.google.com</a>/中创建一个应用程序，它是免费的)</p><p id="fcf2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">用<code class="fe lw lx ly lz b">firebase.initializeApp(config)</code>我们用我们的环境变量初始化应用程序。我们有一个名为。根路径中的env。<br/>这是文件的一个例子。环境:</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/f0198982f5dd81bb68e4b8eb78455be5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1138/format:webp/1*3LTZ5qczgBIDB25Rgz37Gg.png"/></div></figure><p id="0f28" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，我们可以上传我们的代码，而不会在代码中暴露我们的凭证。</p><p id="8cf8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在firebase文件配置的最后，我们可以看到我们正在导出一些函数，以便将它们暴露给项目。在本例中，我们引用了Auth、google login、treasures list和users list。</p><p id="7de5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，要在我们项目的任何地方使用firebase，我们可以这样做:</p><p id="d18d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="nn">从导入{ treasuresRef，authRef }../../config/firebase "；</em></p><p id="308c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从这里开始，我们可以使用firebase的官方文档在我们的组件中创建函数。</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi no"><img src="../Images/957544256834f88d4ee7a26c4a61ae5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*A9s6GJ6JHo6YWyl-pmCRqw.png"/></div><figcaption class="mn mo gj gh gi mp mq bd b be z dk translated">这里我用id获取一个宝藏，用一个新的对象进行设置，之后我调用两个函数。</figcaption></figure><h1 id="14a0" class="kt ku iq bd kv kw ma ky kz la mb lc ld le mc lg lh li md lk ll lm me lo lp lq bi translated"><strong class="ak"> 4-用jest/enzyme配置单元测试</strong></h1><p id="0f5b" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">安装<code class="fe lw lx ly lz b">npm install -s enzyme enzyme-adapter-react-16 react-test-render</code></p><p id="dd0a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在src路径下创建一个文件:<strong class="jp ir"> setupTests.js </strong></p><pre class="mg mh mi mj gt np lz nq nr aw ns bi"><span id="ec75" class="nt ku iq lz b gy nu nv l nw nx">import { configure } from 'enzyme';<br/>import Adapter from 'enzyme-adapter-react-16';</span><span id="cd31" class="nt ku iq lz b gy ny nv l nw nx">configure({ adapter: new Adapter() });</span></pre><p id="09cd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">准备好了。现在，我们可以用酶创建我们的单元测试。<br/>这是加载组件的基本示例。</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/756e664afe0ae2150920adf1e5d87686.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/1*jC3xRTP-_NbEkUV74vflQg.png"/></div></figure><p id="26b8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们可以在终端中检查我们的测试运行<strong class="jp ir"> npm运行测试</strong>。</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/d159bb4f96f1395e195dad194ac073c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:986/format:webp/1*ZjjwxUiECvrf6EyknQy4Mg.png"/></div></figure><p id="a8b5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">此外，我们可以检查我们的测试的细节，并检查我们的覆盖运行:<br/> <code class="fe lw lx ly lz b">npm run test -- --coverage</code></p><p id="512e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">或者也可以修改package.json y run <code class="fe lw lx ly lz b">npm run coverage</code></p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/9b3a06585a5588ff537be9e66a8ce188.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*9ET0PrgmNe-34fheNOS8fQ.png"/></div><figcaption class="mn mo gj gh gi mp mq bd b be z dk translated">acá creamos el脚本“覆盖范围”</figcaption></figure><p id="f2a4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当我们运行coverage命令时，我们会看到类似这样的内容:</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ni nj di nk bf nl"><div class="gh gi oc"><img src="../Images/00fd20de5ea02d699bb672f8688b4ea3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jZw_2viXU0Kag8w8Km8Xyg.png"/></div></div></figure><h1 id="aaea" class="kt ku iq bd kv kw ma ky kz la mb lc ld le mc lg lh li md lk ll lm me lo lp lq bi translated"><strong class="ak"> 5-将我们的项目上传到Gitlab </strong></h1><p id="3c00" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">这是如此之快，我们在Gitlab中创建一个帐户(免费)，然后点击<strong class="jp ir">新项目</strong></p><p id="7b8e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<strong class="jp ir">空白项目</strong>选项卡中，我们可以配置项目的名称和隐私。</p><p id="5204" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这一部分，您的存储库已经准备好了，但是我们需要确保可以使用git从我们的终端上传代码。也许你正在Gitlab上使用一个新账户，你会在网站顶部看到一个橙色的栏，你需要创建你的ssh密钥<a class="ae kl" href="https://gitlab.com/profile/keys" rel="noopener ugc nofollow" target="_blank">https://gitlab.com/profile/keys</a></p><p id="ac76" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">按照这个指令:<a class="ae kl" href="https://gitlab.com/help/ssh/README#generating-a-new-ssh-key-pair" rel="noopener ugc nofollow" target="_blank">https://git lab . com/help/ssh/README # generating-a-new-ssh-key-pair</a>获取一个新的ssh密钥<br/>这基本上是:<br/>ssh-key gen-t ed 25519-C " email @ example . com "<br/>运行这个命令的一些部分(这取决于你的操作系统)</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi od"><img src="../Images/e1d717c535c7eee14c83eed2799e4dfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:954/format:webp/1*Ww79eylv4yt1_2hpsoXr9w.png"/></div></figure><p id="1724" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">回到Gitlab上的shh keys屏幕，粘贴你的剪贴板内容(ssh key从你的终端生成并复制)</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ni nj di nk bf nl"><div class="gh gi oe"><img src="../Images/76e65f9864ea3855571ec097b317ad30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lJbeeA0FBXnjSYzijIJzng.png"/></div></div></figure><p id="b637" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">保存这个！你可以在你的终端上检查这是否正常。</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi of"><img src="../Images/d4ae7f3fe6ad6a9ef3574ef67167de12.png" data-original-src="https://miro.medium.com/v2/resize:fit:376/format:webp/1*WiOqozCvRmklaBpv3ZzHzw.png"/></div></figure><p id="1073" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果一切正常，您将看到一条成功消息。</p><p id="ef99" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我的例子中，我注册了一个google登录名，所以在屏幕上方我看到了另一个橙色的栏，用于更改/创建我的google电子邮件的密码(出于安全原因)。</p><p id="5e35" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，为了将我们的react项目上传到Gitlab资源库，我们需要遵循项目主页中的步骤:(与此类似)</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi og"><img src="../Images/c50b43396845be7043ba58a6ec253993.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/format:webp/1*vzwBGJhhcFQlZDNQqAvT1w.png"/></div></figure><p id="bda9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">之后，你就可以在Gitlab中查看你的项目文件了！:D</p><h1 id="2341" class="kt ku iq bd kv kw ma ky kz la mb lc ld le mc lg lh li md lk ll lm me lo lp lq bi translated"><strong class="ak"> 6-网络部署</strong></h1><p id="b533" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">前往<a class="ae kl" href="https://www.netlify.com/" rel="noopener ugc nofollow" target="_blank">https://www.netlify.com/</a>创建一个免费账户。</p><p id="ad4a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，点击Git 中的<strong class="jp ir">新站点</strong></p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/0a43e045599a954e964f8836e44af211.png" data-original-src="https://miro.medium.com/v2/resize:fit:356/format:webp/1*DT7t9LOPT_CeBd8emqh0Ow.png"/></div></figure><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/90328d3aac8c1b81c8c24e40892cc72b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*pLzI3ULh1Ctj6wrId7-aRQ.png"/></div></figure><p id="2ad0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，在这个屏幕中选择Gitlab。然后Netlify会请求我们允许进入我们的Gitlab库。</p><p id="9608" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我们的例子中，我们需要为部署react应用程序设置以下配置:</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/8f2ee2eebf7deb0642576d71882a9cde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*-rf04ZpCynUSVMPhVwKumw.png"/></div></figure><p id="3646" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">点击部署网站！！</p><p id="f80f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们的应用程序正在部署，之后，我们将在应用程序的仪表板中看到部署过程的状态。</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ni nj di nk bf nl"><div class="gh gi ok"><img src="../Images/8bbe1131eb00ee008b67c0c0a93e9c7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TOMjNjwnXQjWGsbFPHqnMA.png"/></div></div></figure><p id="d277" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">完成后，Netlify为我们的项目提供了一个随机域。</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/6e79df053d19fbd4f7dc54022a93a88f.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*DSr4iaU6oB7ZVIywvsqsNQ.png"/></div></figure><p id="1ad9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有了这个，我们就准备好了！<br/>该项目与Gitlab连接，当我们发出合并请求(或者如果您来自bitbucket，则发出pull请求)并且合并完成时，Netlify会自动部署更改。</p><p id="81cc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，如果您还记得，我们的项目有firebase配置的环境变量。此外，我们的应用程序是一个SPA，因此，我们需要做一些更改:</p><p id="103a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，netlify有一些管理SPA中路由的规则(在我的项目中，我使用react-router)，所以，当我直接访问任何路由时(例如/treasure)，我会看到一个404页面。</p><p id="82ae" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kl" href="https://www.slightedgecoder.com/2018/12/18/page-not-found-on-netlify-with-react-router/" rel="noopener ugc nofollow" target="_blank">https://www . slight dge coder . com/2018/12/18/page-not-found-on-netlify-with-react-router/</a></p><p id="d386" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可以通过在公共文件夹中创建一个名为_redirects的文件来解决这个问题，该文件的内容为:<br/> /* /index.html 200</p><p id="9444" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可以查看这个案例的官方文档:<a class="ae kl" href="https://www.netlify.com/docs/redirects/#history-pushstate-and-single-page-apps" rel="noopener ugc nofollow" target="_blank">https://www . netlify . com/docs/redirects/# history-pushstate-and-single-page-apps</a></p><p id="15a3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后一件事是将环境变量添加到网络配置中:</p><p id="238b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在netlify中，转到设置，然后转到构建/部署部分查找“构建环境变量”。这里只需添加我们在。环境本地文件。</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ni nj di nk bf nl"><div class="gh gi om"><img src="../Images/c115bedae81d6cdc8e072f869fe18110.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kfGp3ltagvLWkSa8peMvEQ.png"/></div></div></figure><p id="9ab4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">保存它，然后在Netlify中重新部署应用程序。<br/>现在检查一下，一切正常！:D</p><p id="1e86" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一篇非常实用的教程和评论，介绍了如何用firebase(还有sass、enzyme)创建React应用程序，如何在gitlab中管理代码，以及如何用Netlify部署应用程序。</p><p id="b775" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在原始存储库中，您可以找到一个使用react-router的简单示例和使用formik的简单表单验证。</p><p id="5f45" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你有任何疑问，就给我写信:)</p></div></div>    
</body>
</html>