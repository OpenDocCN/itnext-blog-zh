<html>
<head>
<title>CKAD Scenarios about Ingress and NetworkPolicy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于入口和网络策略的CKAD方案</h1>
<blockquote>原文：<a href="https://itnext.io/ckad-scenarios-about-ingress-and-networkpolicy-155ce958c9ce?source=collection_archive---------4-----------------------#2022-06-12">https://itnext.io/ckad-scenarios-about-ingress-and-networkpolicy-155ce958c9ce?source=collection_archive---------4-----------------------#2022-06-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="668b" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">关于入口和网络策略的浏览器内CKAD场景</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/cb9152947f846e4fb2e690cfff8b6bea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ul77_ZjVfA0ZBG5vxLiZ8w.png"/></div></div></figure><h1 id="ce33" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">免费CKAD场景？是啊！</h1><p id="c4fb" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">(我们也已经有了<a class="ae mf" href="https://killercoda.com/killer-shell-cka" rel="noopener ugc nofollow" target="_blank"> CKA </a>和<a class="ae mf" href="https://killercoda.com/killer-shell-cks" rel="noopener ugc nofollow" target="_blank"> CKS </a>的)</p><p id="5efc" class="pw-post-body-paragraph lj lk iq ll b lm mg jr lo lp mh ju lr ls mi lu lv lw mj ly lz ma mk mc md me ij bi translated">【killercoda.com/killer-shell-ckad】T5<a class="ae mf" href="https://killercoda.com/killer-shell-ckad" rel="noopener ugc nofollow" target="_blank">T6</a></p><h1 id="0899" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">本周的情景</h1><p id="f3ce" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">本周我们增加了这些场景:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><a href="https://killercoda.com/killer-shell-ckad"><div class="gh gi ml"><img src="../Images/006a97a39816a5bf0f01ba869bac93e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WIT5hbAjXRCxnEu7M9z-rQ.png"/></div></a></figure><h1 id="511b" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">进入</h1><p id="34d0" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated"><a class="ae mf" href="https://killercoda.com/killer-shell-ckad/scenario/ingress-create" rel="noopener ugc nofollow" target="_blank">访问场景</a></p><p id="13ed" class="pw-post-body-paragraph lj lk iq ll b lm mg jr lo lp mh ju lr ls mi lu lv lw mj ly lz ma mk mc md me ij bi translated">Kubernetes Ingress是一个K8s资源，用于管理对集群的外部访问。有各种不同的入口控制器，如Nginx或HAProxy。</p><p id="0f8c" class="pw-post-body-paragraph lj lk iq ll b lm mg jr lo lp mh ju lr ls mi lu lv lw mj ly lz ma mk mc md me ij bi translated">例如，如果我们在集群中安装Nginx入口控制器，然后创建一个新的入口资源(针对Nginx类型)，这些事情将会自动为我们完成:</p><ul class=""><li id="2057" class="mm mn iq ll b lm mg lp mh ls mo lw mp ma mq me mr ms mt mu bi translated">nginx配置将根据我们在入口YAML中所说的内容自动生成</li><li id="9c21" class="mm mn iq ll b lm mv lp mw ls mx lw my ma mz me mr ms mt mu bi translated">可能通过部署创建一个或多个nginx单元(Nginx入口控制器单元)</li><li id="80f2" class="mm mn iq ll b lm mv lp mw ls mx lw my ma mz me mr ms mt mu bi translated">将创建一个指向nginx pods的服务，可能是LoadBalancer类型</li></ul><p id="e5f5" class="pw-post-body-paragraph lj lk iq ll b lm mg jr lo lp mh ju lr ls mi lu lv lw mj ly lz ma mk mc md me ij bi translated">我们也可以在没有任何入口的情况下做上述所有事情。但是你自己写过一次nginx配置吗？没错。使用Ingress只是让事情变得容易多了。</p><p id="b38b" class="pw-post-body-paragraph lj lk iq ll b lm mg jr lo lp mh ju lr ls mi lu lv lw mj ly lz ma mk mc md me ij bi translated">我写了一篇关于Ingress的<a class="ae mf" href="https://wuestkamp.medium.com/kubernetes-ingress-simply-visually-explained-d9cad44e4419?source=friends_link&amp;sk=e8ca596700f5b58c7ab0d85d4dab6386" rel="noopener">详细文章</a>如果你想了解更多。</p><h1 id="8dbe" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">网络策略</h1><p id="7c34" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated"><a class="ae mf" href="https://killercoda.com/killer-shell-ckad/scenario/networkpolicy-namespace-communication" rel="noopener ugc nofollow" target="_blank">访问场景</a></p><p id="ccfd" class="pw-post-body-paragraph lj lk iq ll b lm mg jr lo lp mh ju lr ls mi lu lv lw mj ly lz ma mk mc md me ij bi translated">在K8s中，NetworkPolicies可以看作是集群的防火墙规则。在这里，我们可以说哪些pod被允许与哪些命名空间中的哪些pod进行对话，等等。</p><p id="35ca" class="pw-post-body-paragraph lj lk iq ll b lm mg jr lo lp mh ju lr ls mi lu lv lw mj ly lz ma mk mc md me ij bi translated">通读整个文档是一个很好的主意，因为小的错误配置会导致大的安全问题！</p><p id="c1eb" class="pw-post-body-paragraph lj lk iq ll b lm mg jr lo lp mh ju lr ls mi lu lv lw mj ly lz ma mk mc md me ij bi translated">为了学习，你可以在cilium使用令人惊奇的<a class="ae mf" href="https://editor.cilium.io/" rel="noopener ugc nofollow" target="_blank">网络策略编辑器</a>。</p><p id="1e55" class="pw-post-body-paragraph lj lk iq ll b lm mg jr lo lp mh ju lr ls mi lu lv lw mj ly lz ma mk mc md me ij bi translated">同样需要注意的是，网络策略只有在集群内部使用的CNI(如Weave或Calico)支持时才有效。如果你使用一个不支持它的CNI，在创建NPs的过程中不会显示错误，他们只是不会做任何事情。在CKAD考试中，你可以确定CNI是支持它的。</p><h1 id="3c6e" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">下一步是什么？</h1><p id="b12a" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">我们计划每周创建新的CKAD挑战，并在此发布。接下来你想看什么主题？请在评论中告诉我们！</p><h1 id="0884" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">保持最新和通知！</h1><p id="b586" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated"><a class="ae mf" href="https://twitter.com/killercoda" rel="noopener ugc nofollow" target="_blank">推特</a></p><p id="6452" class="pw-post-body-paragraph lj lk iq ll b lm mg jr lo lp mh ju lr ls mi lu lv lw mj ly lz ma mk mc md me ij bi translated"><a class="ae mf" href="https://www.linkedin.com/company/killercoda" rel="noopener ugc nofollow" target="_blank">领英</a></p><h1 id="757f" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">结束了</h1><p id="854e" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">【killercoda.com】|<a class="ae mf" href="https://killer.sh/" rel="noopener ugc nofollow" target="_blank">killer . sh</a></p></div></div>    
</body>
</html>