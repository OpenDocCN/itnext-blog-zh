<html>
<head>
<title>Getting started with Azure DevOps Services</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Azure DevOps服务入门</h1>
<blockquote>原文：<a href="https://itnext.io/a-night-with-azure-devops-services-11861e147962?source=collection_archive---------4-----------------------#2019-01-16">https://itnext.io/a-night-with-azure-devops-services-11861e147962?source=collection_archive---------4-----------------------#2019-01-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/6a2742391e8b729890ca4a63932db8d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*kPTsaC5Y7uXPLHv8K9XX_A.png"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">Azure DevOps</figcaption></figure><p id="4113" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这个故事将展示通过使用最佳实践将API部署到云中的简单性，例如使用ARM (Azure资源管理器)将<strong class="ka ir"> <em class="kw">基础设施作为代码</em> </strong>，<strong class="ka ir"> <em class="kw">监控</em> </strong>(使用App Insights)等。我们正在经历整个构建和发布生命周期。</p><h1 id="885a" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">什么是Azure DevOps服务？</h1><p id="74c4" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">Azure DevOps Services(以前的VSTS)是Azure提供的一套内置服务，它们是:</p><ul class=""><li id="be58" class="ma mb iq ka b kb kc kf kg kj mc kn md kr me kv mf mg mh mi bi translated">Azure Pipelines :在几分钟内用任何语言部署任何东西。</li><li id="a300" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><strong class="ka ir"> Azure Repos </strong>:私有仓库。</li><li id="8e1c" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><strong class="ka ir"> Azure工件</strong>:Azure中的一个存储库，用于上传我们的工件。</li><li id="29dc" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">Azure Boards :它提供了类似看板/Scrum的敏捷计划板。</li><li id="fd8f" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><strong class="ka ir"> Azure测试计划</strong>:手动&amp;用于测试的探索性工具。</li></ul><p id="5900" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">本教程将重点关注自动化，因此将部署Azure管道。</p><p id="1696" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你有一个API，你想现在就在Azure中快速部署它吗？</p><p id="0978" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当然，Azure Pipelines提供了内置特性，允许工程师:</p><ul class=""><li id="395f" class="ma mb iq ka b kb kc kf kg kj mc kn md kr me kv mf mg mh mi bi translated">从代码库中取出代码</li><li id="aecd" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">通过资源组中的ARM调配所需的基础架构</li><li id="4c57" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">具有构建/发布任务的预构建管道已准备就绪</li><li id="05f6" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">通过应用洞察增加监控</li></ul><p id="f413" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您是高级用户吗？您想打造自己的渠道吗？</p><p id="d48f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">自己动手制作。</p><h1 id="8db9" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">天蓝色管道</h1><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/f7e36229630dd4744b1fd87d2acb3f8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:280/0*-zDMfcIrFZ0bTTK_"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">来自<a class="ae mt" href="https://github.com" rel="noopener ugc nofollow" target="_blank"> Github </a>的Azure管道</figcaption></figure><p id="9fbb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Azure Pipelines允许在任何地方部署应用服务、Kubernetes、无服务器功能以及任何其他云提供商，如GCP或AWS。</p><p id="8d69" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">生命周期从构建阶段开始。在执行期间，代码通常会经历:</p><ul class=""><li id="bc0f" class="ma mb iq ka b kb kc kf kg kj mc kn md kr me kv mf mg mh mi bi translated"><strong class="ka ir">建造</strong></li><li id="fb3b" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><strong class="ka ir">运行测试</strong></li><li id="e1f6" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><strong class="ka ir">上传测试结果</strong></li><li id="0103" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><strong class="ka ir">发布已建构件</strong></li></ul><p id="bbe6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一旦构建完成，我们需要部署一些东西，一个工具。Azure Pipelines提供了发布工具，当一个新的工件发布时，这个工具就会被触发。释放工具甚至可以通过使用钩子从Jenkins或任何其他工具触发。</p><p id="4621" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">发布阶段通常会经历:</p><ul class=""><li id="825d" class="ma mb iq ka b kb kc kf kg kj mc kn md kr me kv mf mg mh mi bi translated"><strong class="ka ir">检查代码</strong></li><li id="baec" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><strong class="ka ir">通过ARM部署基础设施</strong></li><li id="5b68" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><strong class="ka ir">下载神器</strong></li><li id="8002" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><strong class="ka ir">展开</strong></li></ul><h1 id="96d1" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">先决条件</h1><ul class=""><li id="da8f" class="ma mb iq ka b kb lv kf lw kj mu kn mv kr mw kv mf mg mh mi bi translated">Azure现收现付帐户已启用</li><li id="4c45" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">包含预期要部署的代码的存储库</li><li id="cc66" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">向代码中添加单元测试(可选)</li><li id="1b42" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">如果您希望提供额外的基础结构，请添加自定义资源组项目(可选)</li></ul><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi mx"><img src="../Images/8b262524646b5737d33a344b80e2ee8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jv2XXhtstWabaCcFIe17CQ.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">现收现付套餐</figcaption></figure><h1 id="5bf5" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">动手实验</h1><p id="b175" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">让我们创建一个Azure DevOps项目。去现场搜索找到<strong class="ka ir"> <em class="kw"> DevOps项目</em> </strong>项目:</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi nc"><img src="../Images/c6ea7982c429b8ffbedd91d9a2d215ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZKAjveN6eLSd7oNq4Rr4Lw.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">DevOps项目</figcaption></figure><p id="3240" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">点击创建<strong class="ka ir"> <em class="kw"> DevOps项目&gt;。</em>网</strong></p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi nd"><img src="../Images/171a912f948495b74b6c5fce20336f2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7kdVeaRoxDfxglmuD4hciw.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">DevOps项目步骤1</figcaption></figure><p id="2418" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">选择<strong class="ka ir">T5】ASP.NET内核T7】因为我创建的应用程序正在运行<strong class="ka ir">ASP.NET内核</strong>:</strong></p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi ne"><img src="../Images/84a12a123cd8299f6ced6535be262aaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_E1cyoo0ARvqz2-wfQsqjg.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">DevOps项目第2步</figcaption></figure><p id="9bbc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们选择部署基础设施。它可以是:</p><ul class=""><li id="674b" class="ma mb iq ka b kb kc kf kg kj mc kn md kr me kv mf mg mh mi bi translated">适用于集装箱化应用的Kubernetes</li><li id="c0d6" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">服务结构群集，将其作为微软容器的技术进行部署</li><li id="b4dd" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><strong class="ka ir"> <em class="kw"> Windows Web App(我们的场景)</em> </strong></li><li id="4951" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">Linux Web App(这是2018年新增的)</li><li id="0943" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">用于容器的Web应用程序(docker图片，这是2018年新增的)</li><li id="9f5b" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">虚拟机</li></ul><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi nf"><img src="../Images/853f28685df0e082997d4cffd8944da9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*An82tHCNJC5PJ78Gt8238g.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">DevOps项目步骤3</figcaption></figure><p id="4a65" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们将项目创建到现有的<strong class="ka ir"> <em class="kw">组织</em> </strong>中。如果没有<strong class="ka ir"> <em class="kw"> Azure DevOps组织</em> </strong>创建，那就去创建一个新的。</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi ng"><img src="../Images/eed569190d540fea5d2e7885479f98fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t2dKbyoPYTQ8n1qu25gnJQ.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">DevOps项目步骤4</figcaption></figure><p id="7459" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们单击<strong class="ka ir"> <em class="kw">完成</em> </strong>开始配置过程。</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi ca"><img src="../Images/de91d66fc8bc693b67e786ea83b82f86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TYyMlOvVtk4R_oM4AvYlFg.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">DevOps项目正在进行</figcaption></figure><p id="a7d6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">几分钟后，我们会发现两个不同的资源组。</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi nh"><img src="../Images/ea01147df737ed1beb71acccb1593f87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j6svBAhEFBurqmEteh-6Bw.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">DevOps项目产出</figcaption></figure><p id="69ec" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们进入<strong class="ka ir"><em class="kw">VstsRG-hmarcelodelnegro-d4ee</em></strong><em class="kw"/>，在这里我可以找到我的<strong class="ka ir"> <em class="kw">项目URL </em> </strong></p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi ni"><img src="../Images/c2c7e2e330c72848856ab29536b01ff9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w_meD4FIXKJl8BHr4AnRCQ.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">DevOps项目组织产出</figcaption></figure><p id="7eb4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所以让我们打开我的<strong class="ka ir"> <em class="kw"> DevOps项目。</em> </strong>我们会发现CI/CD管道已经在运行，从您的存储库中提供Azure中所需的基础设施。在顶部菜单上，我们可以找到:</p><ul class=""><li id="5cfc" class="ma mb iq ka b kb kc kf kg kj mc kn md kr me kv mf mg mh mi bi translated"><strong class="ka ir">项目主页</strong>:打开VSTS项目仪表盘页面。</li><li id="6426" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><strong class="ka ir">仓库</strong> : Git/TFVSTS仓库。</li><li id="0ea2" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><strong class="ka ir">构建管道</strong>:从Azure管道构建工具。</li><li id="cf2c" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><strong class="ka ir">释放管线</strong>:从天蓝色管线中释放工具。</li><li id="d99c" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><strong class="ka ir">敏捷积压</strong> : Azure积压工具。</li></ul><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi nj"><img src="../Images/db4ffea23c3c626a8ef3e9fa4e402427.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iRAl204vQFSQeavD6bedmQ.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">配置前的Azure管道</figcaption></figure><p id="68f3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下面我们可以看到来自Azure pipelines的构建/发布工具正在工作:</p><p id="b68e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> <em class="kw">先造</em> </strong></p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi nk"><img src="../Images/2f1782ab2d459184b847b55e58fe4ef6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w_vZzjO3u1kclJeGnrUuCQ.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">首次构建执行</figcaption></figure><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi nl"><img src="../Images/e8e968e69a690c789bb641300dbbc21f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4fRcAzpmyHlwXpDkJWZ3vQ.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">首次构建执行结果</figcaption></figure><p id="332d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> <em class="kw">先发布</em> </strong></p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi nm"><img src="../Images/d974447f27bb825d86605c940f63b720.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B2Kvf3IOsyjuzOAhIe_A_w.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">首次发布执行</figcaption></figure><p id="f1b7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">几分钟后，我们将发现Azure资源组中提供的所有内容:</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi nn"><img src="../Images/54cc0cab0a7d3c46d24886457d02b3fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Li8w6AbQ-NnvPnthYO0Uw.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">配置过程后的Azure管道</figcaption></figure><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi no"><img src="../Images/c18ced50bdf46347c01b16a951bebaa4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Nw9AGVVDrPrRvZ_PLEdKEA.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">资源组输出基础设施</figcaption></figure><h1 id="fe4c" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">构建/发布任务</h1><p id="e244" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">那么，Azure是如何提供和部署我的服务和基础设施的呢？Azure DevOps将创建一组内置的智能步骤。</p><h2 id="5282" class="np ky iq bd kz nq nr dn ld ns nt dp lh kj nu nv ll kn nw nx lp kr ny nz lt oa bi translated">基础设施作为代码</h2><p id="7c57" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">Azure提供了自己的供应工具，名为ARM (Azure Resource Manager ),这是一组Azure理解的JSON文件。默认情况下，Azure DevOps执行基本配置，但我们可以添加我们的自定义ARM模板，以便通过代码构建所需的基础架构。</p><p id="a24f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">画廊:<a class="ae mt" href="https://azure.microsoft.com/en-us/resources/templates/" rel="noopener ugc nofollow" target="_blank">https://azure.microsoft.com/en-us/resources/templates/</a></p><p id="dae6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果图库中的内容不符合我们的需求，我们可以自己编写代码。我强烈建议使用Visual Studio来实现这一点，因为它已经为此提供了智能感知。</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi ob"><img src="../Images/272b66f9014b40a111d98907c68de90b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wNXqzeEAmhE5wFSt.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">Visual Studio ARM模板工具</figcaption></figure><p id="5ba2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">关于ARM的学习资源:我强烈推荐来自詹姆斯·班南<a class="ae mt" href="https://www.pluralsight.com/courses/microsoft-azure-resource-manager-mastering" rel="noopener ugc nofollow" target="_blank">的Pluralsight的ARM入门课程</a></p><h2 id="4e24" class="np ky iq bd kz nq nr dn ld ns nt dp lh kj nu nv ll kn nw nx lp kr ny nz lt oa bi translated"><strong class="ak">建造任务</strong></h2><p id="a5e5" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">Azure pipelines将创建一个具有通用生命周期的构建序列。如果需要的话，我们可以按预期进行编辑。我们可以找到以下步骤:</p><ul class=""><li id="cd81" class="ma mb iq ka b kb kc kf kg kj mc kn md kr me kv mf mg mh mi bi translated"><strong class="ka ir">恢复:</strong>恢复依赖包。</li><li id="b4a7" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><strong class="ka ir">构建:</strong>构建程序集。</li><li id="0c1e" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><strong class="ka ir">测试:</strong>运行单元测试，并将结果上传到VSTS。</li><li id="d833" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><strong class="ka ir">发布:</strong>如果测试运行成功，它将发布应用程序输出。</li><li id="8081" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><strong class="ka ir">发布功能测试:</strong>发布功能测试，如果它们存在的话。</li><li id="78e1" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><strong class="ka ir">复制ARM模板:</strong>移动我们的ARM JSON文件，以便在发布阶段提供基础设施。</li><li id="1897" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><strong class="ka ir">发布工件:</strong>发布发布阶段所需的工件。</li></ul><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi oc"><img src="../Images/e987110ac651498cccf50f05a66b8d0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BpnYxioE-TLGTFH8s-gI5Q.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">自动构建任务</figcaption></figure><h2 id="7f76" class="np ky iq bd kz nq nr dn ld ns nt dp lh kj nu nv ll kn nw nx lp kr ny nz lt oa bi translated"><strong class="ak">发布任务</strong></h2><p id="caa2" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">作为Azure pipelines的Build，它将添加一个预定义任务的发布序列，可以根据需要进行定制，甚至可以添加更多的环境和工作流。</p><ul class=""><li id="a03d" class="ma mb iq ka b kb kc kf kg kj mc kn md kr me kv mf mg mh mi bi translated"><strong class="ka ir"> Azure部署:</strong>运行ARM模板以提供所需的基础设施。</li><li id="1587" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><strong class="ka ir">部署Azure App服务:</strong>将工件部署到Web应用中。</li><li id="a40a" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><strong class="ka ir"> Visual Studio测试平台安装程序:</strong>安装测试运行程序进行功能测试。</li><li id="ea4c" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">测试装配:运行测试。</li></ul><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi od"><img src="../Images/da39b531b99251d6e771d37bab4c9675.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S0vu9roRZL5-VbieHscZTg.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">自动发布任务</figcaption></figure><h1 id="27f2" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">最终结果</h1><p id="c996" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">在以上五分钟的过程之后，我们将有一个完整的devops生命周期在Azure中运行。我们可以看看下面的图片，我们会发现已经做了大量的工作:</p><p id="475e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> CI/CD管道</strong>:我们可以看到一个从主分支部署的存储库，一个成功的构建和到开发环境的发布成功了。</p><p id="9688" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> Azure resources </strong>:我们将从Release-2中找到应用程序URL和提供的基础设施。</p><p id="dcde" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">仓库</strong>:部署的代码仓库。</p><p id="fad8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">应用洞察</strong>:我们已部署应用的监控工具。</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi ni"><img src="../Images/014e5f7a57ee0c73af4938a507ef2b8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4RLg2Gdxroi2zNBFxjQe7Q.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">决赛成绩</figcaption></figure><p id="3a8a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们浏览一下:</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi oe"><img src="../Images/b1a0721444041d8fc67062ddf0d98905.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U2m5eFk36mqnQOpm_UaCAA.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">部署的应用程序结果</figcaption></figure><p id="3fe4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">显然，这条管道可以完全定制来做不同的事情，所以我们有无限的权力去做我们想做的事情。</p><figure class="mp mq mr ms gt jr"><div class="bz fp l di"><div class="of og l"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">最终结果视频</figcaption></figure><p id="c8bb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这很容易，快速和无头。如果你喜欢，请为我的故事鼓掌。</p></div></div>    
</body>
</html>