<html>
<head>
<title>Embedding static files in Go binaries</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Go二进制文件中嵌入静态文件</h1>
<blockquote>原文：<a href="https://itnext.io/embedding-static-files-in-go-binaries-5f1a28d4a75c?source=collection_archive---------1-----------------------#2022-01-19">https://itnext.io/embedding-static-files-in-go-binaries-5f1a28d4a75c?source=collection_archive---------1-----------------------#2022-01-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="94d9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Golang embed指令</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/31869cce64ebbf9ca94cb7fff5c2d5fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rhLTLxrpsBWKVnxTHr4X7Q.jpeg"/></div></div></figure><p id="6f19" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在1.16版本中发布的<strong class="kw iu"> embed </strong> <em class="lq"> </em>包给了我们一个新的指令来帮助在Go程序中嵌入文件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lr ls l"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">转到嵌入示例1</figcaption></figure><p id="0e3c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在上面的例子中，我们使用了指令<em class="lq">//go:embed from</em><strong class="kw iu">embed</strong>package，后跟我们想要嵌入的文件名。</p><p id="105c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在下一行，我们创建了一个新的变量，文件的内容将放在这个变量中。该变量可以是<strong class="kw iu">字符串</strong>、<strong class="kw iu">[]字节、</strong>或<strong class="kw iu"> FS </strong>(文件系统)类型。</p><p id="ae39" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你想不出这个指令的用法，让我们假设你正在使用Go Fiber实现一个网站。</p><p id="44c8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你所有的视图都在一个名为<em class="lq">视图</em>的文件夹中。</p><p id="9956" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果没有<strong class="kw iu"> embed </strong>包，为了让我们的网站100%工作，我们需要在每台服务器上保持二进制和视图文件夹的更新。这可能需要大量的工作！！！</p><p id="6cd2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">但是，如果我们使用<strong class="kw iu"> embed </strong>包，我们需要做的就是更新二进制文件来保持我们的网站100%工作。</p><p id="c11b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">看看这个例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lr ls l"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">转到嵌入示例2</figcaption></figure><p id="2025" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当然，我们需要衡量这个指令的用途。使用for everything会导致一个非常非常大的二进制文件，这可能是一个比上传一个包含HTML模板的文件夹更大的问题。</p></div></div>    
</body>
</html>