<html>
<head>
<title>How to use NFC Tags: Detect, Read and Write NFCs with Android Studio</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用NFC标签:用Android Studio检测、读取和写入NFC</h1>
<blockquote>原文：<a href="https://itnext.io/how-to-use-nfc-tags-with-android-studio-detect-read-and-write-nfcs-42f1d60b033?source=collection_archive---------1-----------------------#2020-12-11">https://itnext.io/how-to-use-nfc-tags-with-android-studio-detect-read-and-write-nfcs-42f1d60b033?source=collection_archive---------1-----------------------#2020-12-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="052e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用这个简单的指南和入门代码启动你的NFC项目。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4fe9808e9184debef136cc618078e43d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l0EBFYNCeM8b5v6QxMvNgw.jpeg"/></div></div></figure><h1 id="f6a1" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">介绍</h1><p id="da30" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">近场通信(NFC)并不是新技术。随着Covid 19事件的发生，非接触式NFC的使用量激增，这可以从Google Pay和Apple Pay等移动支付的新趋势中看出。这与其众所周知的兄弟二维码相似。</p><p id="c41b" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">它走过了漫长的道路。1997年首次用于孩之宝星球大战玩具，这是一项高度可及的技术，目前存在于约73%的智能手机中，是一个尚未开发的创新来源。</p><p id="9bf9" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">类似于我之前关于为树莓派安装TF lite的文章，寻找有用的NFC材料是一件苦差事。这旨在为NFC的一般使用案例提供快速而清晰的指南。</p><p id="a898" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu">我的Github上的完整代码:</strong> <a class="ae mn" href="https://github.com/Cawinchan/nfc_starter_code" rel="noopener ugc nofollow" target="_blank"> <strong class="lo iu">首发代码</strong> </a></p><h1 id="cd22" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">先决条件</h1><ul class=""><li id="e79d" class="mo mp it lo b lp lq ls lt lv mq lz mr md ms mh mt mu mv mw bi translated">Android Studio —安装指南<a class="ae mn" href="https://developer.android.com/training/basics/firstapp/creating-project" rel="noopener ugc nofollow" target="_blank">此处</a>。</li><li id="910b" class="mo mp it lo b lp mx ls my lv mz lz na md nb mh mt mu mv mw bi translated">一部有NFC功能的安卓手机(<a class="ae mn" href="https://beebom.com/how-check-nfc-support-android-smartphone/#:~:text=Checking%20NFC%20Support%20Natively&amp;text=Go%20to%20Settings.,does%20not%20have%20NFC%20capabilities." rel="noopener ugc nofollow" target="_blank">如何检查我有没有NFC？</a>)</li><li id="7efc" class="mo mp it lo b lp mx ls my lv mz lz na md nb mh mt mu mv mw bi translated">NFC设备(注:我用的是NFC卡)</li></ul><h1 id="c1b5" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">NFC检测</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/d06ecf17695ec82b541b5b42cf36595f.png" data-original-src="https://miro.medium.com/v2/resize:fit:818/format:webp/1*nbDO5PlagKv--pOltjP-vg.png"/></div></figure><p id="bfef" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">我们先来检测一下NFC设备信息:<br/> 1。NFC id <br/> 2。NFC技术<br/> 3。NFC类型(Mifare Classic/ultra light)<br/><strong class="lo iu">注意:</strong>我们将在本指南中使用Mifare Ultralight C。</p><p id="52a2" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu">第0步:AndroidManifest.xml，允许我们应用的NFC权限</strong></p><pre class="kj kk kl km gt nd ne nf ng aw nh bi"><span id="38fd" class="ni kv it ne b gy nj nk l nl nm">&lt;uses-permission android:name="android.permission.NFC" /&gt;<br/>&lt;uses-feature android:name="android.hardware.nfc" android:required="true" /&gt;</span></pre><p id="62ee" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu">步骤1: onCreate，初始化NFC适配器并定义待定意向</strong></p><pre class="kj kk kl km gt nd ne nf ng aw nh bi"><span id="1f68" class="ni kv it ne b gy nj nk l nl nm">public class MainActivity extends AppCompatActivity {</span><span id="d9e9" class="ni kv it ne b gy nn nk l nl nm">    //Intialize attributes <br/>    NfcAdapter nfcAdapter;<br/>    PendingIntent pendingIntent;</span><span id="990e" class="ni kv it ne b gy nn nk l nl nm">    final static String <em class="no">TAG </em>= "nfc_test";</span><span id="b2d9" class="ni kv it ne b gy nn nk l nl nm">    @Override<br/>    protected void onCreate(Bundle savedInstanceState) {<br/>        super.onCreate(savedInstanceState);<br/>        setContentView(R.layout.<em class="no">activity_main</em>);</span><span id="d689" class="ni kv it ne b gy nn nk l nl nm">    //Initialise NfcAdapter<br/>    nfcAdapter = NfcAdapter.getDefaultAdapter(this);</span><span id="356a" class="ni kv it ne b gy nn nk l nl nm">    //If no NfcAdapter, display that the device has no NFC <br/>    if (nfcAdapter == null){<br/>       Toast.makeText(this,"NO NFC Capabilities",<br/>                      Toast.LENGTH_SHORT).show();<br/>       finish();<br/>    }</span><span id="9dea" class="ni kv it ne b gy nn nk l nl nm">    //Create a PendingIntent object so the Android system can <br/>    //populate it with the details of the tag when it is scanned.</span><span id="e1b3" class="ni kv it ne b gy nn nk l nl nm">    //PendingIntent.getActivity(Context,requestcode(identifier for <br/>    //                           intent),intent,int) <br/>      pendingIntent = PendingIntent.getActivity(this,0,new Intent(this,this.getClass()).addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP),0);<br/>}<br/>}</span></pre><p id="f49d" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu">步骤2: onResume()，启用前台调度监听NFC意图(等待NFC卡被点击)</strong></p><p id="ca13" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><code class="fe np nq nr ne b">enableForegroundDispatch</code>允许您的当前(前台)活动拦截我们的NFC意图，并要求优先于该应用程序和其他应用程序 s 内的所有其他活动<strong class="lo iu"> <em class="no">。</em></strong></p><pre class="kj kk kl km gt nd ne nf ng aw nh bi"><span id="d73d" class="ni kv it ne b gy nj nk l nl nm">@Override<br/>protected void onResume() {<br/>    super.onResume();<br/>    assert nfcAdapter != null;<br/>  //nfcAdapter.enableForegroundDispatch(context,pendingIntent,<br/>  //                                    intentFilterArray,<br/>  //                                    techListsArray)<br/>  nfcAdapter.enableForegroundDispatch(this,pendingIntent,null,null);<br/>}</span></pre><p id="ac2d" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu">第三步:onPause()，禁用前台调度(停止监听NFC标签)</strong></p><pre class="kj kk kl km gt nd ne nf ng aw nh bi"><span id="ba9e" class="ni kv it ne b gy nj nk l nl nm">protected void onPause() {<br/>    super.onPause();<br/>    //Onpause stop listening<br/>    if (nfcAdapter != null) {<br/>        nfcAdapter.disableForegroundDispatch(this);<br/>    }<br/>}</span></pre><p id="dbe1" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu">步骤4: onNewIntent()，处理我们的新NFC意图(检测到卡)</strong></p><p id="78d6" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">在获得意图之后，您必须解析意图来检测card:这里是外部助手函数的代码。</p><p id="c147" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">这些是我们的NFC意图过滤器<br/> <code class="fe np nq nr ne b">nfcAdapter.ACTION_TAG_DISCOVERED</code> —发现的NFC标签。<br/> <code class="fe np nq nr ne b">nfcAdapter.ACTION_TECH_DISCOVERED</code> —发现NFC标签，并针对标签上的特定技术注册活动。<br/> <code class="fe np nq nr ne b">nfcAdapter.ACTION_NDEF_DISCOVERED</code> —发现NFC标签，发现NDEF有效载荷。</p><p id="6bc4" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">如果没有应用程序可以处理<code class="fe np nq nr ne b">TECH_DISCOVERED</code>和<code class="fe np nq nr ne b">NDEF_DISCOVERED</code>，那么<code class="fe np nq nr ne b">TAG_DISCOVERED</code>就是一个后备。对于<code class="fe np nq nr ne b">TECH_DISCOVERED</code>来说也是如此，它是<code class="fe np nq nr ne b">NDEF_DISCOVERED</code>的后备。</p><p id="6256" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">对于我们的例子，我们不需要任何滤波器，因此我们将使用<code class="fe np nq nr ne b">TAG_DISCOVERED</code>和<code class="fe np nq nr ne b">TECH_DISCOVERED</code>进行NFC的全局检测。</p><pre class="kj kk kl km gt nd ne nf ng aw nh bi"><span id="95a3" class="ni kv it ne b gy nj nk l nl nm">@Override<br/>protected void onNewIntent(Intent intent) {<br/>    super.onNewIntent(intent);<br/>    setIntent(intent);<br/>    resolveIntent(intent);<br/>}<br/><br/>private void resolveIntent(Intent intent) {<br/>    String action = intent.getAction();<br/>    if (NfcAdapter.<em class="no">ACTION_TAG_DISCOVERED</em>.equals(action)<br/>            || NfcAdapter.<em class="no">ACTION_TECH_DISCOVERED</em>.equals(action)<br/>            || NfcAdapter.<em class="no">ACTION_NDEF_DISCOVERED</em>.equals(action)) {<br/>            Tag tag = (Tag) intent.getParcelableExtra(NfcAdapter.<em class="no">EXTRA_TAG</em>);<br/>            assert tag != null;<br/>            byte[] payload = detectTagData(tag).getBytes();<br/>        }<br/>}</span></pre><p id="5553" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu">步骤5:辅助函数，用于检测和解析我们的NFC标签数据</strong></p><pre class="kj kk kl km gt nd ne nf ng aw nh bi"><span id="fac9" class="ni kv it ne b gy nj nk l nl nm">private String detectTagData(Tag tag) {<br/>    StringBuilder sb = new StringBuilder();<br/>    byte[] id = tag.getId();<br/>    sb.append("ID (hex): ").append(toHex(id)).append('\n');<br/>    sb.append("ID (reversed hex): ").append(toReversedHex(id)).append('\n');<br/>    sb.append("ID (dec): ").append(toDec(id)).append('\n');<br/>    sb.append("ID (reversed dec): ").append(toReversedDec(id)).append('\n');<br/><br/>    String prefix = "android.nfc.tech.";<br/>    sb.append("Technologies: ");<br/>    for (String tech : tag.getTechList()) {<br/>        sb.append(tech.substring(prefix.length()));<br/>        sb.append(", ");<br/>    }<br/><br/>    sb.delete(sb.length() - 2, sb.length());<br/><br/>    for (String tech : tag.getTechList()) {<br/>        if (tech.equals(MifareClassic.class.getName())) {<br/>            sb.append('\n');<br/>            String type = "Unknown";<br/><br/>            try {<br/>                MifareClassic mifareTag = MifareClassic.<em class="no">get</em>(tag);<br/><br/>                switch (mifareTag.getType()) {<br/>                    case MifareClassic.<em class="no">TYPE_CLASSIC</em>:<br/>                        type = "Classic";<br/>                        break;<br/>                    case MifareClassic.<em class="no">TYPE_PLUS</em>:<br/>                        type = "Plus";<br/>                        break;<br/>                    case MifareClassic.<em class="no">TYPE_PRO</em>:<br/>                        type = "Pro";<br/>                        break;<br/>                }<br/>                sb.append("Mifare Classic type: ");<br/>                sb.append(type);<br/>                sb.append('\n');<br/><br/>                sb.append("Mifare size: ");<br/>                sb.append(mifareTag.getSize() + " bytes");<br/>                sb.append('\n');<br/><br/>                sb.append("Mifare sectors: ");<br/>                sb.append(mifareTag.getSectorCount());<br/>                sb.append('\n');<br/><br/>                sb.append("Mifare blocks: ");<br/>                sb.append(mifareTag.getBlockCount());<br/>            } catch (Exception e) {<br/>                sb.append("Mifare classic error: " + e.getMessage());<br/>            }<br/>        }<br/><br/>        if (tech.equals(MifareUltralight.class.getName())) {<br/>            sb.append('\n');<br/>            MifareUltralight mifareUlTag = MifareUltralight.<em class="no">get</em>(tag);<br/>            String type = "Unknown";<br/>            switch (mifareUlTag.getType()) {<br/>                case MifareUltralight.<em class="no">TYPE_ULTRALIGHT</em>:<br/>                    type = "Ultralight";<br/>                    break;<br/>                case MifareUltralight.<em class="no">TYPE_ULTRALIGHT_C</em>:<br/>                    type = "Ultralight C";<br/>                    break;<br/>            }<br/>            sb.append("Mifare Ultralight type: ");<br/>            sb.append(type);<br/>        }<br/>    }<br/>    Log.<em class="no">v</em>("test",sb.toString());<br/>    return sb.toString();<br/>}<br/>private String toHex(byte[] bytes) {<br/>    StringBuilder sb = new StringBuilder();<br/>    for (int i = bytes.length - 1; i &gt;= 0; --i) {<br/>        int b = bytes[i] &amp; 0xff;<br/>        if (b &lt; 0x10)<br/>            sb.append('0');<br/>        sb.append(Integer.<em class="no">toHexString</em>(b));<br/>        if (i &gt; 0) {<br/>            sb.append(" ");<br/>        }<br/>    }<br/>     return sb.toString();<br/>}<br/><br/>private String toReversedHex(byte[] bytes) {<br/>    StringBuilder sb = new StringBuilder();<br/>    for (int i = 0; i &lt; bytes.length; ++i) {<br/>        if (i &gt; 0) {<br/>            sb.append(" ");<br/>        }<br/>        int b = bytes[i] &amp; 0xff;<br/>        if (b &lt; 0x10)<br/>            sb.append('0');<br/>        sb.append(Integer.<em class="no">toHexString</em>(b));<br/>    }<br/>    return sb.toString();<br/>}<br/><br/>private long toDec(byte[] bytes) {<br/>    long result = 0;<br/>    long factor = 1;<br/>    for (int i = 0; i &lt; bytes.length; ++i) {<br/>        long value = bytes[i] &amp; 0xffl;<br/>        result += value * factor;<br/>        factor *= 256l;<br/>    }<br/>    return result;<br/>}<br/><br/>private long toReversedDec(byte[] bytes) {<br/>    long result = 0;<br/>    long factor = 1;<br/>    for (int i = bytes.length - 1; i &gt;= 0; --i) {<br/>        long value = bytes[i] &amp; 0xffl;<br/>        result += value * factor;<br/>        factor *= 256l;<br/>    }<br/>    return result;<br/>}</span></pre><p id="ec7d" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu">第六步:编译并运行app →进入Logcat/Run </strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/fbcf6e0313b8cb0ab293be1337f12679.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EhSv5nNkJ3KpfbbM6lObhQ.png"/></div></div></figure><h1 id="4388" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">NFC读写</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/a80fb3f18a0bb6dacd16589a4addc7af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ah2hoD7MHw3qOygmT_4qaw.png"/></div></div></figure><p id="0582" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">来自我们的Mifare Ultralight C NFC标签规格:<a class="ae mn" href="https://www.nxp.com/docs/en/data-sheet/MF0ICU2.pdf" rel="noopener ugc nofollow" target="_blank">https://www.nxp.com/docs/en/data-sheet/MF0ICU2.pdf</a></p><p id="5bd4" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">我们只能使用第4页的<strong class="lo iu">到第39页的</strong>地址。每页4字节，因此，我们最多有140字节的存储页。</p><p id="79b0" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">由于UTF-8中的每个字符串字母占用大约1个字节，假设没有使用任何用户内存页面，我们最多只能处理140个单词。在我的例子中，我们的卡只有137字节。一些人已经尝试用gzip压缩这些数据。</p><p id="8a8d" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">每个<code class="fe np nq nr ne b">readPages</code> <strong class="lo iu">读取4页</strong> (16个字符/16个字节)。要阅读第4-12页，我们必须阅读第(4)页[第4-7页]和第(8)页[第8-11页]和第(12)页[第12-15页]。然后，我们必须从字符串中删除额外的3页(12个字符/12个字节)。</p><p id="1954" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">每个<code class="fe np nq nr ne b">writePage</code> <strong class="lo iu">写1页</strong> (4个<strong class="lo iu"> </strong>字符/4个字节)。</p><pre class="kj kk kl km gt nd ne nf ng aw nh bi"><span id="bbb5" class="ni kv it ne b gy nj nk l nl nm">public void writeTag(MifareUltralight mifareUlTag) {<br/>    try {<br/>        mifareUlTag.connect();<br/>mifareUlTag.writePage(4, "get ".getBytes(Charset.<em class="no">forName</em>("US-ASCII")));<br/>mifareUlTag.writePage(5, "fast".getBytes(Charset.<em class="no">forName</em>("US-ASCII")));<br/>mifareUlTag.writePage(6, " NFC".getBytes(Charset.<em class="no">forName</em>("US-ASCII")));<br/>mifareUlTag.writePage(7, " now".getBytes(Charset.<em class="no">forName</em>("US-ASCII")));<br/>    } catch (IOException e) {<br/>        Log.<em class="no">e</em>(<em class="no">TAG</em>, "IOException while writing MifareUltralight...", e);<br/>    } finally {<br/>        try {<br/>            mifareUlTag.close();<br/>        } catch (IOException e) {<br/>            Log.<em class="no">e</em>(<em class="no">TAG</em>, "IOException while closing MifareUltralight...", e);<br/>        }<br/>    }<br/>}<br/>public String readTag(MifareUltralight mifareUlTag) {<br/>    try {<br/>        mifareUlTag.connect();<br/>        byte[] payload = mifareUlTag.readPages(4);<br/>        return new String(payload, Charset.<em class="no">forName</em>("US-ASCII"));<br/>    } catch (IOException e) {<br/>        Log.<em class="no">e</em>(<em class="no">TAG</em>, "IOException while reading MifareUltralight message...", e);<br/>    } finally {<br/>        if (mifareUlTag != null) {<br/>            try {<br/>                mifareUlTag.close();<br/>            }<br/>            catch (IOException e) {<br/>                Log.<em class="no">e</em>(<em class="no">TAG</em>, "Error closing tag...", e);<br/>            }<br/>        }<br/>    }<br/>    return null;<br/>}</span></pre><p id="6cef" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">接下来，只需更改我们之前的detectTagData(Tag标签)。</p><pre class="kj kk kl km gt nd ne nf ng aw nh bi"><span id="82fb" class="ni kv it ne b gy nj nk l nl nm">private String detectTagData(Tag tag) {<br/>    StringBuilder sb = new StringBuilder();<br/>    byte[] id = tag.getId();<br/>    sb.append("NFC ID (dec): ").append(toDec(id)).append('\n');<br/>    for (String tech : tag.getTechList()) {<br/>        if (tech.equals(MifareUltralight.class.getName())) {<br/>            MifareUltralight mifareUlTag = MifareUltralight.<em class="no">get</em>(tag);<br/>                readTag(mifareUlTag);<br/>                writeTag(mifareUlTag);<br/>            }<br/>        }<br/>    }<br/>    Log.<em class="no">v</em>("test",sb.toString());<br/>    return sb.toString();<br/>}</span></pre><p id="a8ad" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">了解更多关于读写的信息:<a class="ae mn" href="https://developer.android.com/guide/topics/connectivity/nfc/advanced-nfc#read-write" rel="noopener ugc nofollow" target="_blank">https://developer . Android . com/guide/topics/connectivity/NFC/advanced-NFC #读写</a></p><h1 id="13bb" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated"><strong class="ak">全球NFC使用情况</strong></h1><p id="ddd4" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">如果您希望能够在后台或应用程序外部读写您的NFC，只需在您的AndroidManifest.xml中添加这个意图过滤器。</p><p id="b725" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">全球使用的想法是让NFC出现在手机的任何地方。</p><pre class="kj kk kl km gt nd ne nf ng aw nh bi"><span id="9b60" class="ni kv it ne b gy nj nk l nl nm">&lt;intent-filter&gt;<br/>    &lt;action android:name="android.nfc.action.TAG_DISCOVERED" /&gt;<br/>    &lt;action android:name="android.nfc.action.TECH_DISCOVERED" /&gt;<br/>    &lt;category android:name="android.intent.category.DEFAULT" /&gt;<br/>&lt;/intent-filter&gt;</span></pre><p id="10a2" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu">我的Github上的完整代码:</strong> <a class="ae mn" href="https://github.com/Cawinchan/nfc_starter_code" rel="noopener ugc nofollow" target="_blank"> <strong class="lo iu">首发代码</strong> </a></p><p id="6214" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">支持我的工作，看看吧！</p><div class="nu nv gp gr nw nx"><a href="https://cawin-chan.medium.com/membership" rel="noopener follow" target="_blank"><div class="ny ab fo"><div class="nz ab oa cl cj ob"><h2 class="bd iu gy z fp oc fr fs od fu fw is bi translated">通过我的推荐链接加入媒体-陈嘉文</h2><div class="oe l"><h3 class="bd b gy z fp oc fr fs od fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="of l"><p class="bd b dl z fp oc fr fs od fu fw dk translated">cawin-chan.medium.com</p></div></div><div class="og l"><div class="oh l oi oj ok og ol ks nx"/></div></div></a></div><h1 id="274f" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated"><strong class="ak">参考文献:</strong></h1><ul class=""><li id="d44f" class="mo mp it lo b lp lq ls lt lv mq lz mr md ms mh mt mu mv mw bi translated"><a class="ae mn" href="https://developer.android.com/guide/topics/connectivity/nfc/nfc#tag-dispatch" rel="noopener ugc nofollow" target="_blank"> Android开发人员指南— NFC基础知识</a></li><li id="21e0" class="mo mp it lo b lp mx ls my lv mz lz na md nb mh mt mu mv mw bi translated"><a class="ae mn" href="https://www.dummies.com/consumer-electronics/nfc-data-exchange-format-ndef/" rel="noopener ugc nofollow" target="_blank">NFC数据交换格式(NDEF) </a></li><li id="86e9" class="mo mp it lo b lp mx ls my lv mz lz na md nb mh mt mu mv mw bi translated"><a class="ae mn" href="https://www.youtube.com/watch?v=TPR2FnrJHz4" rel="noopener ugc nofollow" target="_blank">YouTube——为Android创建一个NFC阅读器应用程序</a></li><li id="da16" class="mo mp it lo b lp mx ls my lv mz lz na md nb mh mt mu mv mw bi translated"><a class="ae mn" href="https://www.youtube.com/c/NFCTutorials/videos" rel="noopener ugc nofollow" target="_blank"> YouTube — NFC教程</a></li><li id="746c" class="mo mp it lo b lp mx ls my lv mz lz na md nb mh mt mu mv mw bi translated"><a class="ae mn" href="https://github.com/nadam/nfc-reader" rel="noopener ugc nofollow" target="_blank">GitHub——适用于Android的简单NFC阅读器</a></li><li id="dc50" class="mo mp it lo b lp mx ls my lv mz lz na md nb mh mt mu mv mw bi translated"><a class="ae mn" href="https://stackoverflow.com/questions/12313596/how-to-read-nfc-tag/28565383#28565383" rel="noopener ugc nofollow" target="_blank"> Stackoverflow —检测NFC </a></li></ul><p id="45d3" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">特别鸣谢<a class="ae mn" href="https://unsplash.com/@mbaumi" rel="noopener ugc nofollow" target="_blank">米卡·鲍梅斯特</a>在<a class="ae mn" href="https://unsplash.com/s/photos/nfc?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的图像！</p></div></div>    
</body>
</html>