<html>
<head>
<title>AngularJS Localization or Multilingual or Whatever</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AngularJS本地化或多语言或其他</h1>
<blockquote>原文：<a href="https://itnext.io/angularjs-localization-or-multilingual-or-whatever-53b88585cc48?source=collection_archive---------3-----------------------#2018-08-09">https://itnext.io/angularjs-localization-or-multilingual-or-whatever-53b88585cc48?source=collection_archive---------3-----------------------#2018-08-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/75c18e54ed7e8eb2a313a28a3f008a9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/1*_rXHfW7-7SLJ2mARczFWzg.gif"/></div></figure><p id="67e0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我生活在一个(至少)有两种官方语言的国家。你知道这意味着什么——我们必须支持多语言网站或应用程序。</p><p id="a6fd" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在这篇文章中，我将向您展示如何在AngularJS 1.x应用程序中配置多语言支持。我们将利用<a class="ae ks" href="https://github.com/angular-translate/angular-translate" rel="noopener ugc nofollow" target="_blank">角度转换</a>包来完成转换任务。</p><p id="6ccd" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在开始这个项目之前，你可以在<a class="ae ks" href="https://next.plnkr.co/plunk/EXvRjdObOkcZmnhT" rel="noopener ugc nofollow" target="_blank">广场</a>看一下最终产品。</p><div class="kt ku gp gr kv kw"><a href="https://next.plnkr.co/plunk/EXvRjdObOkcZmnhT" rel="noopener  ugc nofollow" target="_blank"><div class="kx ab fo"><div class="ky ab kz cl cj la"><h2 class="bd ir gy z fp lb fr fs lc fu fw ip bi translated">AngularJS —翻译</h2><div class="ld l"><h3 class="bd b gy z fp lb fr fs lc fu fw dk translated">多语言支持角度</h3></div><div class="le l"><p class="bd b dl z fp lb fr fs lc fu fw dk translated">next.plnkr.co</p></div></div></div></a></div><p id="dcab" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">启动AngularJS项目</strong></p><p id="8eb4" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">启动AngularJS 1.x项目超级容易。你所需要做的就是把AngularJS脚本放在html文件的头部。</p><pre class="lf lg lh li gt lj lk ll lm aw ln bi"><span id="e97a" class="lo lp iq lk b gy lq lr l ls lt">// index.html</span><span id="3659" class="lo lp iq lk b gy lu lr l ls lt">&lt;html <strong class="lk ir">ng-app="myApp"</strong>&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="utf-8"&gt;<br/>    &lt;title&gt;AngularJS Translation&lt;/title&gt;<br/> <br/>    <strong class="lk ir">&lt;script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.2/angular.min.js"&gt;&lt;/script&gt;</strong><br/>    &lt;script src="<strong class="lk ir">app.js</strong>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/> <br/>  &lt;body <strong class="lk ir">ng-controller="Ctrl"</strong>&gt;<br/>    &lt;h1&gt;AngularJS Translation&lt;/h1&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="b945" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">并添加您的app.js内容</p><pre class="lf lg lh li gt lj lk ll lm aw ln bi"><span id="eec2" class="lo lp iq lk b gy lq lr l ls lt">var app = angular.module('myApp', []);</span><span id="7604" class="lo lp iq lk b gy lu lr l ls lt">app.controller('Ctrl', function ($scope, $rootScope) {<br/><br/>});</span></pre><p id="6381" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这就是启动AngularJS项目所需的全部内容</p><p id="7982" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">添加角度平移包</strong></p><p id="9ff2" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">虽然，您只需要一个angular-translate包来处理翻译，但我想添加另一个包来支持从JSON文件中获取内容，而不是将所有内容都放在app.js中。</p><pre class="lf lg lh li gt lj lk ll lm aw ln bi"><span id="09f4" class="lo lp iq lk b gy lq lr l ls lt">// index.html</span><span id="0a6d" class="lo lp iq lk b gy lu lr l ls lt">&lt;head&gt;<br/>    &lt;meta charset="utf-8"&gt;<br/>    &lt;title&gt;AngularJS Translation&lt;/title&gt;<br/> <br/>    &lt;script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.2/angular.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="//cdnjs.cloudflare.com/ajax/libs/angular-translate/2.18.1/<strong class="lk ir">angular-translate.min.js</strong>"&gt;&lt;/script&gt;<br/>    &lt;script src="//cdnjs.cloudflare.com/ajax/libs/angular-translate/2.18.1/angular-translate-loader-static-files/<strong class="lk ir">angular-translate-loader-static-files.min.js</strong>"&gt;&lt;/script&gt;<br/>    &lt;script src="app.js"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;</span></pre><p id="3012" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">然后添加您的翻译文件。您的内容将从这些JSON文件中获取，而不是直接放到您的模板中。</p><pre class="lf lg lh li gt lj lk ll lm aw ln bi"><span id="9470" class="lo lp iq lk b gy lq lr l ls lt"><strong class="lk ir">// locales/local-en.json</strong></span><span id="f12d" class="lo lp iq lk b gy lu lr l ls lt">{<br/>    "TITLE": "Hello",<br/>    "FOO": "This is a paragraph.",<br/>    "BUTTON_LANG": "tiếng việt"<br/>}</span><span id="3026" class="lo lp iq lk b gy lu lr l ls lt"><strong class="lk ir">// locales/local-vn.json</strong></span><span id="98a7" class="lo lp iq lk b gy lu lr l ls lt">{<br/>    "TITLE": "Xin chào",<br/>    "FOO": "Đây là một đoạn văn.",<br/>    "BUTTON_LANG": "english"<br/>}</span></pre><p id="d597" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">配置您的app.js。我们使用<strong class="jw ir"> useStaticFilesLoaders </strong>来加载locales文件夹中的所有json文件。</p><pre class="lf lg lh li gt lj lk ll lm aw ln bi"><span id="bd77" class="lo lp iq lk b gy lq lr l ls lt">app.config(function (<strong class="lk ir">$translateProvider</strong>) {<br/>    <strong class="lk ir">$translateProvider</strong><br/>    .useStaticFilesLoader({<br/>        prefix: '/locales/locale-',<br/>        suffix: '.json'<br/>    }) <br/>    // remove the warning from console log by putting the <a class="ae ks" href="https://angular-translate.github.io/docs/#/guide/19_security" rel="noopener ugc nofollow" target="_blank">sanitize strategy</a><br/>    .useSanitizeValueStrategy('sanitizeParameters')    <br/>    .preferredLanguage('en');<br/>});</span></pre><p id="c616" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">把所有东西放在一起</strong></p><p id="d484" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在，我们将添加一个切换语言按钮，将内容从英语改为越南语，反之亦然。</p><p id="430b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们将创建一个名为<strong class="jw ir"> lang </strong>的变量来控制我们正在使用的当前语言。通过这样做，您可以使用lang来控制您的CSS。例如:<strong class="jw ir"><em class="lv">p:lang(en){ color:red；} </em> </strong></p><pre class="lf lg lh li gt lj lk ll lm aw ln bi"><span id="9a8a" class="lo lp iq lk b gy lq lr l ls lt">// index.html </span><span id="2fcb" class="lo lp iq lk b gy lu lr l ls lt">&lt;html <strong class="lk ir">lang="{{ lang }}"</strong> ng-app="myApp"&gt;</span><span id="d288" class="lo lp iq lk b gy lu lr l ls lt">....</span><span id="599d" class="lo lp iq lk b gy lu lr l ls lt">&lt;body ng-controller="Ctrl"&gt;<br/>    &lt;h1&gt;AngularJS Translation&lt;/h1&gt;<br/>      <br/>    &lt;div&gt;<br/>      &lt;button <strong class="lk ir">ng-show="lang === 'vn'"</strong> ng-click="<strong class="lk ir">changeLanguage('en')</strong>"&gt;{{'BUTTON_LANG' | translate | uppercase}}&lt;/button&gt;<br/>      &lt;button <strong class="lk ir">ng-show="lang === 'en'"</strong> <strong class="lk ir">ng-click="changeLanguage('vn')</strong>"&gt;{{'BUTTON_LANG' | translate | uppercase}}&lt;/button&gt;<br/>    &lt;/div&gt;<br/>    <br/>    &lt;h2&gt;{{ 'TITLE' | translate}}&lt;/h2&gt;          <br/>    &lt;p&gt;{{'FOO' | translate}}&lt;/p&gt;<br/>&lt;/body&gt;</span></pre><p id="ed70" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在side app.js中，控制器中定义了<strong class="jw ir"> changeLanguage </strong>函数。当用户点击按钮时，它会切换到另一种语言的内容。</p><pre class="lf lg lh li gt lj lk ll lm aw ln bi"><span id="1c69" class="lo lp iq lk b gy lq lr l ls lt">// app.js</span><span id="5313" class="lo lp iq lk b gy lu lr l ls lt">app.run(['$rootScope', function($rootScope) {<br/>    $rootScope.<strong class="lk ir">lang</strong> = 'en';<br/>}])</span><span id="751d" class="lo lp iq lk b gy lu lr l ls lt">app.controller('Ctrl', function ($scope, $rootScope, <strong class="lk ir">$translate</strong>) {<br/>    $scope.changeLanguage = function (key) {<br/>        $rootScope.lang = key;<br/>        <strong class="lk ir">$translate.use(key);</strong><br/>    };<br/>});</span></pre><p id="9aeb" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">从现在起，你有一个最小的工作多语言项目，你可以扩展到任何想要的。</p><p id="84b1" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">希望这有所帮助:)</p></div></div>    
</body>
</html>