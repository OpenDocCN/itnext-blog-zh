<html>
<head>
<title>Create your first web scraper with ScrapingBee API and Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用ScrapingBee API和Python创建您的第一个web scraper</h1>
<blockquote>原文：<a href="https://itnext.io/create-your-first-web-scraper-with-scrapingbee-api-and-python-addf0dc5df58?source=collection_archive---------3-----------------------#2020-04-04">https://itnext.io/create-your-first-web-scraper-with-scrapingbee-api-and-python-addf0dc5df58?source=collection_archive---------3-----------------------#2020-04-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="023b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这篇文章中，我将讨论另一个基于云的抓取工具，它可以解决你在抓取网站时经常遇到的问题。这个平台是由一个基于云的抓取工具<a class="ae kl" href="https://www.scrapingbee.com?fpr=adnan-35" rel="noopener ugc nofollow" target="_blank"> ScrapingBee </a>推出的。</p><h1 id="7935" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">什么是废品</h1><p id="2e02" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">如果你访问他们的<a class="ae kl" href="https://www.scrapingbee.com?fpr=adnan-35" rel="noopener ugc nofollow" target="_blank">网站</a>，你会发现如下内容:</p><blockquote class="lp lq lr"><p id="6922" class="jn jo ls jp b jq jr js jt ju jv jw jx lt jz ka kb lu kd ke kf lv kh ki kj kk ij bi translated"><strong class="jp ir"> ScrapingBee API处理无头浏览器，替你轮换代理。</strong></p></blockquote><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi lw"><img src="../Images/cf220b120b6b5436255bc6e731cd2983.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*puVXgypdw5hI9QAj.png"/></div></div></figure><p id="6fc5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">正如它所暗示的，它为您提供了所有的东西来处理您在编写抓取器时经常遇到的问题，尤其是代理和无头抓取的可用性。没有为Selenium安装web驱动程序，耶！</p><h1 id="40c1" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">发展</h1><p id="92be" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">ScrapingBee基于REST API，因此可以在任何编程语言中使用。因为这篇文章与Python有关，所以我将主要关注使用这个工具的<code class="fe mi mj mk ml b">requests</code>库。</p><p id="0e49" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦你注册并得到他们的确认，他们会给你一个API密匙，你可以在仪表盘上看到。他们提供了1000个免费的API调用，足以测试他们的平台。此外，他们提供不同的计划，从初学者到企业，你可以在这里查看<a class="ae kl" href="https://www.scrapingbee.com/#pricing" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="6fb5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们试一个简单的例子。</p><p id="885e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">执行这段代码时，您将看到如下输出:</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mm"><img src="../Images/0b322455ca7f7c19ee2ffeee55713d6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Fa6v4iuhq-sRtx-u.png"/></div></div></figure><p id="99bf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你注意到了吗，每次它都返回一个新的IP地址，很酷吧？</p><p id="501c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您也可以在需要的地方传递您自己的自定义头。如果我将<code class="fe mi mj mk ml b">URL_TO_SCRAPE</code>改为<code class="fe mi mj mk ml b">https://httpbin.org/headers</code>，它将转储默认的标题。</p><p id="1d52" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以我把<em class="ls"> httpbin </em>的URL改成了显示标题。首先，我将参数<code class="fe mi mj mk ml b">forward_headers</code>设置为<code class="fe mi mj mk ml b">True</code>，然后覆盖现有的标题，在本例中，参数<code class="fe mi mj mk ml b">User-Agent</code>为<code class="fe mi mj mk ml b">Scn-User-Agent</code>。根据文档，您必须将<code class="fe mi mj mk ml b">Scn-</code>设置为前缀，以覆盖现有的前缀或添加您自己的前缀。在我们的例子中，我添加了一个新的头作为<code class="fe mi mj mk ml b">Scn-X-MyOwn-Header</code>。当我运行它时，它会显示以下内容:</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mn"><img src="../Images/93d853482c0e7f3f3475ad08cd0d4fdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*fvP8AHGVor8xRVSD.png"/></div></div></figure><p id="f007" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">很酷，不是吗？</p><h1 id="dfa3" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">创建OLX刮刀</h1><p id="85ca" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">就像之前的<a class="ae kl" href="http://blog.adnansiddiqi.me/tag/scraping/" rel="noopener ugc nofollow" target="_blank">刮相关帖子</a>一样，我将再次选择OLX来发表这篇帖子。我将首先迭代列表，然后将刮个别项目。下面是完整的代码。</p><p id="7cf9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我使用<code class="fe mi mj mk ml b">Beautifulsoup</code>来解析HTML。我在这里只提取了价格，因为目的是讲述API本身，而不是<em class="ls"> Beautifulsoup </em>。如果你是scraping和Python的新手，你应该在这里看到我的帖子<a class="ae kl" href="http://blog.adnansiddiqi.me/write-your-first-web-scraper-in-python-with-beautifulsoup/" rel="noopener ugc nofollow" target="_blank">。<br/>这里我介绍了另一个参数，<code class="fe mi mj mk ml b">country_code</code>，我在美国用过。这个参数确保只使用来自美国的代理，而不是任何随机的国家。无论如何，当我刮OLX的<em class="ls">药片部分</em>时，它打印如下:</a></p><h1 id="e5a8" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">结论</h1><p id="8f72" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">在这篇文章中，您了解了如何使用ScrarpingBee API进行抓取。无论你用这个API做什么，你也可以用其他方法来做；这个API为您提供了一切，特别是通过Javascript呈现页面，您需要无头浏览器，有时在远程机器上设置无头抓取会变得很麻烦。ScrarpingBee API正在处理这个问题，并对个人和企业收取象征性的费用。我工作的公司每月花费100美元用于代理IP。</p><p id="c24c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">哦，如果你用我的推荐链接在这里注册<a class="ae kl" href="https://www.scrapingbee.com?fpr=adnan-35" rel="noopener ugc nofollow" target="_blank">或者输入促销代码<strong class="jp ir"> ADNAN </strong>，你将获得<strong class="jp ir"> 10%的折扣</strong>。如果你没有得到折扣，那么就在我的网站上通过电子邮件让我知道，我一定会帮助你。</a></p><p id="41ed" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在接下来的几天里，我会写更多关于ScrarpingBee API的文章，讨论更多的特性。</p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><p id="1a3a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="ls">原载于2020年4月4日</em><a class="ae kl" href="http://blog.adnansiddiqi.me/create-your-first-web-scraper-with-scrapingbee-api-and-python/?utm_source=r_python_scrapingbee&amp;utm_medium=reddit&amp;utm_campaign=c_r_python_scrapingbee" rel="noopener ugc nofollow" target="_blank"><em class="ls">http://blog . adnansiddiqi . me</em></a><em class="ls">。</em></p></div></div>    
</body>
</html>