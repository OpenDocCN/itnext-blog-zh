<html>
<head>
<title>Challenges of adopting service mesh in enterprise organizations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">企业组织采用服务网格面临的挑战</h1>
<blockquote>原文：<a href="https://itnext.io/recently-i-wrote-a-piece-for-dzone-and-their-migrating-to-microservices-report-on-the-challenges-d2165d8b9168?source=collection_archive---------1-----------------------#2019-10-22">https://itnext.io/recently-i-wrote-a-piece-for-dzone-and-their-migrating-to-microservices-report-on-the-challenges-d2165d8b9168?source=collection_archive---------1-----------------------#2019-10-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="c4de" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最近我为DZone和他们的迁移到微服务报告写了一篇关于在企业组织中采用服务网格的挑战的文章。在那篇文章中，我们首先要解决的问题之一是“您是否应该走上采用服务网格的道路”,我是这么说的:</p><blockquote class="km kn ko"><p id="603a" class="jn jo kp jp b jq jr js jt ju jv jw jx kq jz ka kb kr kd ke kf ks kh ki kj kk ij bi translated">以一个“不”的回答开始。如果您刚刚开始使用微服务和少量服务，请确保首先准备好基础部分。微服务及其相关基础设施是一种优化，使您能够更快地对应用程序进行更改。在没有服务网格的情况下，您可以朝着更快的方向大步前进。您甚至可能想要一个没有所有复杂性的服务网格带来的一些好处。看看Gloo之类的东西，它是一个基于Envoy代理的API网关。</p></blockquote><p id="9350" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我认为目前这是一个非常重要的考虑，原因有二:</p><ol class=""><li id="69bd" class="kt ku iq jp b jq jr ju jv jy kv kc kw kg kx kk ky kz la lb bi translated">通常，服务网格实现还没有准备好投入生产</li><li id="1784" class="kt ku iq jp b jq lc ju ld jy le kc lf kg lg kk ky kz la lb bi translated">全身心投入服务网络的复杂性仍然很高</li></ol><p id="ff8e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这并不意味着有团队在成功地使用服务网格，或者你应该远离它。我确实认为，当你准备好了和你的情况可以从中受益的时候，你应该建立最终在<em class="kp">引入网状网络的能力。例如，在报告中，我列出了您<em class="kp">可能想要使用</em>服务网格的原因:</em></p><ul class=""><li id="65d5" class="kt ku iq jp b jq jr ju jv jy kv kc kw kg kx kk lh kz la lb bi translated">跨多个集群大规模部署微服务</li><li id="d9c9" class="kt ku iq jp b jq lc ju ld jy le kc lf kg lg kk lh kz la lb bi translated">容器/k8和虚拟机的混合部署</li><li id="3819" class="kt ku iq jp b jq lc ju ld jy le kc lf kg lg kk lh kz la lb bi translated">用于构建服务的语言的异构部署</li><li id="3797" class="kt ku iq jp b jq lc ju ld jy le kc lf kg lg kk lh kz la lb bi translated">网络可观测性的不完整和不一致的观点</li></ul><p id="5ab6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">即使这样，你也会面临这些挑战:</p><ul class=""><li id="c015" class="kt ku iq jp b jq jr ju jv jy kv kc kw kg kx kk lh kz la lb bi translated">选哪个？</li><li id="164d" class="kt ku iq jp b jq lc ju ld jy le kc lf kg lg kk lh kz la lb bi translated">谁来支持它？</li><li id="dd8b" class="kt ku iq jp b jq lc ju ld jy le kc lf kg lg kk lh kz la lb bi translated">单个集群中的多租户问题</li><li id="4cae" class="kt ku iq jp b jq lc ju ld jy le kc lf kg lg kk lh kz la lb bi translated">没有管理多个集群的好方法</li><li id="d2e7" class="kt ku iq jp b jq lc ju ld jy le kc lf kg lg kk lh kz la lb bi translated">适合现有服务(边车生命周期、比赛条件等)</li><li id="9156" class="kt ku iq jp b jq lc ju ld jy le kc lf kg lg kk lh kz la lb bi translated">开发人员和运营人员之间的界限是什么</li><li id="711f" class="kt ku iq jp b jq lc ju ld jy le kc lf kg lg kk lh kz la lb bi translated">非集装箱环境/混合环境</li><li id="9dd9" class="kt ku iq jp b jq lc ju ld jy le kc lf kg lg kk lh kz la lb bi translated">集权与分权</li></ul><p id="5ac4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在过去两年多的时间里，我一直在帮助人们解决这些难题(顺便说一句，如果你想聊天/需要这些方面的帮助，请联系<a class="ae kl" href="http://twitter.com/christianposta?lang=en" rel="noopener ugc nofollow" target="_blank"> @christianposta </a>),但我在我们的客户/用户中一直观察到的一件事，以及一段时间以来一直建议的一件事是，你采用服务网格应该总是从采用某种隔离级别的数据平面技术(即，单独)开始，以了解它是如何工作的</p><p id="89b1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如，在我最近的一次演讲中，我说从Envoy开始(Envoy是许多服务网格实现的底层数据平面技术)。这是幻灯片:</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi li"><img src="../Images/229865efe8cff99a0eeb3b3d74a8af0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_Q8HRg5hvuuTktgJ.png"/></div></div></figure><p id="f048" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从架构的角度来看，可能是这样的:</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi li"><img src="../Images/54272ab51cf31fbca6c68f0903de1861.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*n7uryzpftCSo7HkU.png"/></div></div></figure><p id="3ab4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当然，如果你打算使用Envoy，我<a class="ae kl" href="https://medium.com/solo-io/getting-started-with-a-service-mesh-starts-with-a-gateway-96384deedca2" rel="noopener">推荐从Gloo </a>开始，它基本上是一个<a class="ae kl" href="https://gloo.solo.io/" rel="noopener ugc nofollow" target="_blank">企业级Envoy发行版，带有edge和API网关</a>功能，可以很好地嵌入到服务网格中。一旦您有了合适的位置，并对它感到满意，那么您就准备增加使用，甚至可能通过代理的分层引入一些隔离:</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi lu"><img src="../Images/f13476018781eccd94710e8fbc53b00e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*93-urZTZd2fN3HX1.png"/></div></div></figure><p id="ac35" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下一个连续的方法是将网关下推到您的应用程序架构中。我们看到我们的用户也采用了每个应用程序边界一个网关的方法，这开始给人一种“网状的感觉”，但对应用程序有一些结构(例如，遵循<a class="ae kl" href="https://medium.com/solo-io/api-gateways-are-going-through-an-identity-crisis-d1d833a313d7" rel="noopener"> API网关模式</a>)。我开始称之为“路点”架构。就像飞行员使用航路点来指导他们的飞行计划一样，这些网关为您的架构增加了结构，同时解决了安全性和API解耦等南北交通问题，同时为成功采用服务网格奠定了基础。</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi lv"><img src="../Images/74e36f991989edcd15685f5f2b9435c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*izfX7ZTaVdIMRL3H.png"/></div></div></figure><p id="b2c0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，您可以开始在独立于边界的应用程序中引入服务网格代理，以解决服务网格最适合的棘手的服务到服务通信挑战:</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi lw"><img src="../Images/c38c33706d2627246cd52d80ee7563e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*rMAmdtFe5b9zeYfE.png"/></div></div></figure><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi lx"><img src="../Images/c1032122c982cca39fc0ff1e89bacc5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3TUTYoH4-G0ycPPS.png"/></div></div></figure><p id="ba91" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里重要的部分是网关仍然服务于一个非常有用的目的！它们向您的架构添加结构和路径点，同时在需要的地方从其余服务中分离和隐藏某些实现细节。在许多方面，这遵循了DDD有界上下文模型，网关提供了“反腐败”层。否则，如果您只是将所有服务视为对等，您将开始稳步向死亡之星前进:</p><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi ly"><img src="../Images/dc7052a38cec25ea77712d84fc734e37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2EpVOnAdv_hAKM50.png"/></div></div></figure><p id="9f96" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">希望这有助于通过从小处着手，在有意义的地方缓慢扩展，为服务网格的成功奠定基础，并在您能够消费并从中获得价值时，将网格的全部力量带到您的应用程序中。否则，您可能会一下子引入太多的复杂性，这将超出您对应用程序和基础架构进行现代化改造的意图。如果您有任何其他想法或评论，请联系(<a class="ae kl" href="http://twitter.com/christianposta?lang=en" rel="noopener ugc nofollow" target="_blank"> @christianposta </a>)！</p></div></div>    
</body>
</html>