<html>
<head>
<title>Deploy Vue App to AWS S3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将Vue应用程序部署到AWS S3</h1>
<blockquote>原文：<a href="https://itnext.io/deploy-vue-app-to-aws-s3-1256ce03a7a2?source=collection_archive---------0-----------------------#2017-11-19">https://itnext.io/deploy-vue-app-to-aws-s3-1256ce03a7a2?source=collection_archive---------0-----------------------#2017-11-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div class="gh gi io"><img src="../Images/2d62a30f442761ec8fa451d5f5bc38b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*s5uWSQKz573fXRc-H8Z-eg.png"/></div></figure><figure class="iw ix iy iz gt is gh gi paragraph-image"><div class="gh gi iv"><img src="../Images/c94431d6b27e0cbf5391d07388cbe3c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*wqYF-8Dmh7LhtLkKfERc3Q.png"/></div></figure><div class=""/><p id="fa6f" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">不久前，我们开始着手一个新的前端项目，是的，我们决定用<a class="ae kx" href="https://vuejs.org/" rel="noopener ugc nofollow" target="_blank"><strong class="kb jd"><em class="ky">Vue</em></strong></a>来构建它。起初，我们想像酷孩子一样使用React，但现在是React-Gate的余波时间，所以我们胆怯了，决定尝试一下T21、Vue和T24。</p><p id="5423" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">这篇文章不是关于<strong class="kb jd"> <em class="ky"> Vue </em> </strong>有多酷，而是关于如何将一个静态网站构建与<strong class="kb jd"><em class="ky">Vue</em></strong><em class="ky"/>部署到一个AWS S3桶中。如果您使用<a class="ae kx" href="https://github.com/vuejs/vue-cli" rel="noopener ugc nofollow" target="_blank"><em class="ky">Vue-CLI</em></a><em class="ky"/>来搭建基于<strong class="kb jd"> <em class="ky"> Vue </em> </strong>的应用程序，您可能会看到通过运行<code class="fe kz la lb lc b">npm run build</code>来构建静态web应用程序的选项。</p><p id="82dd" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">如果你照原样使用它，你将不得不把<code class="fe kz la lb lc b">dist</code>文件夹的内容同步到S3桶。这可能是达到预期结果的最简单的方法，但是我建议您启用压缩，并使用压缩版本部署到您的S3存储桶。</p><p id="612b" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">为此，您必须:</p><ul class=""><li id="c530" class="ld le jc kb b kc kd kg kh kk lf ko lg ks lh kw li lj lk ll bi translated">安装<em class="ky">压缩包插件</em>——<code class="fe kz la lb lc b">npm install --save-dev compression-webpack-plugin</code></li><li id="175d" class="ld le jc kb b kc lm kg ln kk lo ko lp ks lq kw li lj lk ll bi translated">启用<code class="fe kz la lb lc b">&lt;you-app&gt;/config/index.js</code> — <code class="fe kz la lb lc b">productionGzip: true</code>内的压缩选项</li></ul><p id="8ff0" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">现在你可以走了！如果您再次运行<code class="fe kz la lb lc b">npm run build</code>，您将<code class="fe kz la lb lc b">gzip</code>编辑文件版本以及您之前看到的所有文件。让我们看看你需要哪些:</p><ul class=""><li id="165b" class="ld le jc kb b kc kd kg kh kk lf ko lg ks lh kw li lj lk ll bi translated">css文件夹&gt;<code class="fe kz la lb lc b">app.&lt;hash&gt;.css.gz</code></li><li id="1c4c" class="ld le jc kb b kc lm kg ln kk lo ko lp ks lq kw li lj lk ll bi translated">js文件夹&gt;<code class="fe kz la lb lc b">app.&lt;hash&gt;.js.gz</code>，<code class="fe kz la lb lc b">vendor.&lt;hash&gt;.js.gz</code>，<code class="fe kz la lb lc b">manifest.&lt;hash&gt;.js</code></li></ul><p id="d707" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">加上你在应用中使用的所有其他文件夹和文件😀</p><p id="5b69" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">你现在唯一要做的就是把<strong class="kb jd"> <em class="ky">需要的</em> </strong>文件复制到你的S3桶，启用<strong class="kb jd"> <em class="ky">静态网站托管</em> </strong>并通知你的S3桶你使用压缩文件为你的app服务。</p><p id="48a0" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">这可以通过改变压缩文件的元数据来实现——下面是一个<strong class="kb jd"> <em class="ky">的例子。css </em> </strong>文件。我想你可以猜到你必须如何改变一个<strong class="kb jd">T5的元数据。js  </strong>文件。</p><figure class="iw ix iy iz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi lr"><img src="../Images/84cbb768350c0f04c5508af09eddabe0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zjsMFdWRxnou6lw-p23Kkg.png"/></div></div></figure><p id="7a7e" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">为了不手动处理所有的复制，我们将一个简单的<strong class="kb jd"> <em class="ky"> bash </em> </strong>脚本放在一起，该脚本利用了<a class="ae kx" href="https://aws.amazon.com/cli" rel="noopener ugc nofollow" target="_blank"><strong class="kb jd"><em class="ky">AWS-CLI</em></strong></a></p><figure class="iw ix iy iz gt is"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="b232" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">你肯定可以让这个脚本变得更好，创建一个<strong class="kb jd"> <em class="ky">随时可以托管静态网站的S3桶</em> </strong>，我们可能会这么做，但不是现在。</p><p id="6ad2" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">是的，如果你是第一次使用<strong class="kb jd"> <em class="ky"> SPA </em> </strong> s和<strong class="kb jd"> <em class="ky"> Vue </em> </strong>和<strong class="kb jd"><em class="ky">【S3】</em></strong>别忘了将入口文件作为<strong class="kb jd"> <em class="ky">索引</em> </strong>和<strong class="kb jd"> <em class="ky">错误文件</em> </strong>如下:</p><figure class="iw ix iy iz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi ly"><img src="../Images/3363ef98197514ca6fd0a85f8d9ed7c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N0k7TLTmaTbnhdeyXWthHQ.png"/></div></div><figcaption class="lz ma gj gh gi mb mc bd b be z dk translated">我的超赞vue应用</figcaption></figure><p id="ebae" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">如果你们对更多关于<strong class="kb jd"> <em class="ky"> Vue </em> </strong>或<strong class="kb jd"> <em class="ky"> AWS </em> </strong>相关主题的文章感兴趣，请告诉我，我会努力就这两个主题写更多的文章。</p><figure class="iw ix iy iz gt is"><div class="bz fp l di"><div class="md lx l"/></div></figure></div></div>    
</body>
</html>