<html>
<head>
<title>An overview of React State Management Techniques in 2021 ⚜️🌐</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">2021 ⚜️反应状态管理技术综述🌐</h1>
<blockquote>原文：<a href="https://itnext.io/an-overview-of-react-state-management-techniques-in-2021-%EF%B8%8F-1590242b1cbc?source=collection_archive---------0-----------------------#2021-06-07">https://itnext.io/an-overview-of-react-state-management-techniques-in-2021-%EF%B8%8F-1590242b1cbc?source=collection_archive---------0-----------------------#2021-06-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/5b24fcdd31217028f4ddf65387510e41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XXaDiA1rWp6bhJcwyea3Zw.png"/></div></div></figure><p id="496e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当您有机会构建大型前端时，就需要在您的应用程序中存储全局状态。这可能是为了存储有关登录用户的数据，维护用户界面特定部分的元数据或来自服务的数据。随之而来的问题是，你如何实现这一点？</p><p id="5c05" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这篇文章旨在只涵盖其中的三个，<a class="ae kw" href="https://www.apollographql.com/docs/react/local-state/local-state-management/" rel="noopener ugc nofollow" target="_blank">阿波罗的本地缓存</a>，<a class="ae kw" href="https://recoiljs.org/" rel="noopener ugc nofollow" target="_blank">反冲</a>和<a class="ae kw" href="https://redux.js.org/" rel="noopener ugc nofollow" target="_blank"> Redux </a>。我将以下面的方式介绍这三个工具:概述、代码遍历、思考。</p><p id="640d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果我在React中构建一个大的前端Web应用程序，每个人都会得到一个评级来衡量我是否会将它添加到我的前端堆栈中。</p><p id="4ac1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所有这些实验都是从<a class="ae kw" href="https://github.com/AmoDinho/react-bleeding-edge-kit" rel="noopener ugc nofollow" target="_blank"> React Bleeding Edge kit </a>生成的，这是一个包含电池的工具包，带有<a class="ae kw" href="https://www.apollographql.com/docs/react/" rel="noopener ugc nofollow" target="_blank"> Apollo Client </a>、<a class="ae kw" href="https://tailwindcss.com/" rel="noopener ugc nofollow" target="_blank"> TailwindCSS </a>和<a class="ae kw" href="https://reach.tech/router" rel="noopener ugc nofollow" target="_blank"> Reach Router </a>置于<a class="ae kw" href="https://github.com/facebookincubator/create-react-app" rel="noopener ugc nofollow" target="_blank"> Create React App (CRA) </a>之上，用于精英级别的生产力。</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><h1 id="d71c" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><strong class="ak">阿波罗本地缓存</strong></h1><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mc"><img src="../Images/d7d4251c812419727983bf3a35ced389.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J2yW5y8NNWrMsMhJhaQ4yQ.png"/></div></div></figure><p id="ca3c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://github.com/Fullstack-Serverless-GraphQL/lunar-tour-react" rel="noopener ugc nofollow" target="_blank">链接到回购</a> || <a class="ae kw" href="http://lunar-tour-react.netlify.app/" rel="noopener ugc nofollow" target="_blank">链接到演示</a></p><p id="3459" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">概述</strong>📡</p><p id="bb54" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您在React或<a class="ae kw" href="http://Vue Apolloapollo.vuejs.org" rel="noopener ugc nofollow" target="_blank"> Vue </a>中使用Apollo客户端，您可以使用它的本地缓存进行状态管理。好处是您可以使用GraphQL来查询和改变您的数据。在下面的演练中，我使用了Apollo 2，它要求使用本地解析器，但是，请记住它们已被否决。</p><p id="7f18" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可能想知道为什么这个小丑般的作者要带你经历一些将被否决的东西？🤡简而言之，我不喜欢阿波罗的国家管理理论，但更多的是我对后来的🥲.的偏见然而，一定要看看阿波罗3号的最新实现，你也可以在上面观看劳拉·比阿特丽斯的演讲🍦。</p><p id="f82e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">代码演练</strong> 🖥️</p><p id="9200" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">要在React应用程序中设置Apollo的缓存，在<code class="fe mh mi mj mk b">index.js</code>文件中，您首先要做的就是初始化您想要记录的状态:</p><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="fb12" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">全局状态通过使用<code class="fe mh mi mj mk b">cache.writeData</code>函数存储在应用程序的缓存中。添加<code class="fe mh mi mj mk b">__typename</code>字段是绝对必要的，以便Apollo知道您将查询和变更对象的哪一部分。如果我需要在额外的状态对象上存储更多的数据，我将需要创建它们并为每个字段指定那个<code class="fe mh mi mj mk b">__typename</code>字段，这已经是一个很大的缺点。</p><p id="5071" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">接下来，我必须创建一个本地解析器文件，其变化如下:</p><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="667b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我正在读取表单数据最新版本的缓存。如果<code class="fe mh mi mj mk b">queryResult</code>不是未定义的，我可以通过从变异中读取参数并将其写入缓存来创建一个新的<code class="fe mh mi mj mk b">formData</code>对象。</p><p id="f93b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了从缓存中读取数据，我们首先需要编写一个查询:</p><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="9089" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这个模式文档基本上是在客户端的<code class="fe mh mi mj mk b">formData</code>对象中查询<code class="fe mh mi mj mk b">email,customer and date</code>。您将需要在整个应用程序的其他组件中再次使用这一点。</p><p id="bd6d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">接下来，我们需要创建一个突变来更新<code class="fe mh mi mj mk b">formData</code>:</p><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="dc28" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这接受一个<code class="fe mh mi mj mk b">email,date and CustomerInput</code>。让我们来看看它的实际应用，我们有一个表单，允许用户添加一组客户作为对象:</p><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="d8a6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">该组件允许我们将多个客户添加到一个数组中，为了将数据存储到本地状态，我们首先运行查询来获取<code class="fe mh mi mj mk b">customers,email and date</code>，同时运行变异来更新将在旅行中出现的客户。这样，当我们把用户带到下一个组件时，我们就有了商店的最新版本。</p><p id="0174" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">想法</strong>🤔</p><p id="1bad" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">除了本地解析器之外，整个设置是不可预测的，当您可能最终在本地状态中存储一个超过15个字段的对象时，添加GraphQL的模式验证不会产生很好的效果。Apollo 3旨在解决这一问题，然而实现似乎并不直接，如果你有一个大的应用程序，你需要将你的状态管理逻辑保存在不同的文件中，以便它是模块化的。所以作为一个GraphQL的粉丝，我很伤心的说我看不到使用它的价值。</p><blockquote class="mn mo mp"><p id="dea8" class="jy jz mq ka b kb kc kd ke kf kg kh ki mr kk kl km ms ko kp kq mt ks kt ku kv ij bi translated"><strong class="ka ir">评分:</strong> ⭐</p></blockquote></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><h1 id="18b8" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><strong class="ak">反冲</strong></h1><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mu"><img src="../Images/394a720798fa2340e4aac8f00cf9819e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*07NvRWWMCIp-ianmevKS0Q.png"/></div></div></figure><p id="4576" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://github.com/AmoDinho/recoil-state-management-demo" rel="noopener ugc nofollow" target="_blank">链接至回购</a> || <a class="ae kw" href="https://recoil-state-man-demo.netlify.app/" rel="noopener ugc nofollow" target="_blank">链接至演示</a></p><p id="f0a7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">概述</strong>📡</p><p id="532f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">大约在2020年中期发布，目标是缓解一些与使用React内置状态管理工具相关的问题(至少在我看来是这样，🦧).</p><p id="dc5a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它的核心概念是围绕形成状态片段的原子和允许你改变状态的选择器。选择器利用了对象中的嵌套函数，这使得您能够使用钩子将状态读入组件，以及改变状态。它的目的是使状态管理过程简单，不像样板文件。</p><p id="ee06" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">代码演练</strong> 🖥️</p><p id="b1d6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这个演示非常具有<a class="ae kw" href="https://www.formula1.com/" rel="noopener ugc nofollow" target="_blank">一级方程式(F1) </a>主题。我甚至为我们使用了公共的F1 API来检查一些异步调用。我有一个名为<code class="fe mh mi mj mk b">atoms.js</code>的文件，其中包含了我试图跟踪的所有状态:</p><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="852a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你需要初始化状态的方式是非常简单的，以对象的形式，关键是要注意，因为这是你如何在你的应用程序的不同部分引用这个状态。还有一个默认键，用于通过指定其类型(对象、字符串、数组等)来添加默认状态。在我的例子中，我跟踪的<code class="fe mh mi mj mk b">driverState</code>是一个数组，<code class="fe mh mi mj mk b">circuitState</code>也是一个电路数组，还有一个对象中的<code class="fe mh mi mj mk b">singleDriverState</code>来存储关于一个驱动程序的所有信息。</p><p id="d2ea" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我觉得在从州政府那里阅读的时候，在<code class="fe mh mi mj mk b">index</code>页面上显示所有的车手是一个快速的胜利:</p><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="c1a4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用<code class="fe mh mi mj mk b">useRecoilValue()</code>钩子，你可以通过将状态作为参数传递给钩子来轻松地引用你已经初始化为原子的状态，就像我用<code class="fe mh mi mj mk b">driverState</code>所做的那样。</p><p id="9a0d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">接下来，我们有一个异步的例子，这是许多应用程序的常见需求。想象一下，你想获得一个用户当月的银行交易，并允许应用程序的不同部分访问它。您可以像这样在您的选择器中使用<code class="fe mh mi mj mk b">selectorFamily()</code> util:</p><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="8b3e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我的例子中，我想获得关于一个司机的信息，但要做到这一点，我需要他们的名字。属性让这个选择器意识到我们正在处理的是<code class="fe mh mi mj mk b">driver</code>原子。而<code class="fe mh mi mj mk b">get()</code>键允许我们实际调用一个异步函数来获取驱动程序的细节。<code class="fe mh mi mj mk b">set</code>键是一个现在允许我们将关于驱动程序的数据存储到<code class="fe mh mi mj mk b">driver</code>原子中的函数。</p><p id="189f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">想法</strong>🤔</p><p id="41c1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">总的来说，后座力很好，很灵活。当然，这是一个现代的React库，它是基于钩子的，有一个很好的干净的API和文档，使得实现起来非常简单。它不能得到5的唯一原因是因为我不得不过度加热我的大脑来彻底仔细地考虑选择器。🎭</p><blockquote class="mn mo mp"><p id="608c" class="jy jz mq ka b kb kc kd ke kf kg kh ki mr kk kl km ms ko kp kq mt ks kt ku kv ij bi translated"><strong class="ka ir">评分</strong> : ⭐⭐⭐⭐</p></blockquote></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><h1 id="4632" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><strong class="ak"> Redux </strong></h1><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/55bad9e353716a0149d267bcdf421ce7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/format:webp/1*nlWbo_rZ9b47C_SRhO4uYg.png"/></div></figure><p id="487e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://github.com/AmoDinho/redux-toolkit-state-management-demo" rel="noopener ugc nofollow" target="_blank">链接到回购</a> || <a class="ae kw" href="https://redux-toolkit-state-management-demo.netlify.app/" rel="noopener ugc nofollow" target="_blank">链接到演示</a></p><p id="be8b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">概述</strong></p><p id="9b40" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最后但同样重要的是，我们有react社区的宠儿，<a class="ae kw" href="https://redux.js.org/" rel="noopener ugc nofollow" target="_blank"> Redux </a>！最初是为了防止钻柱问题。Redux基于一种流动模式工作，通过这种模式，您可以设置一个初始状态，该状态与一组帮助应用程序减少其状态的操作相关联。有不同的方法来编写Redux应用程序，可以是<em class="mq">样板文件</em>，幸运的是，在掌握了如何以模块方式使用Redux文件和函数后，我发现了<a class="ae kw" href="https://redux-toolkit.js.org/" rel="noopener ugc nofollow" target="_blank"> Redux工具包</a>。</p><p id="b2e4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">代码演练</strong></p><p id="f016" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我通常这样构建我的Redux应用程序:</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/48158529bf13a5cde1a3d2d2f63bea8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*zcIU9AUMlnDyV3A0P-Qgqw.png"/></div></figure><p id="6353" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">相当臃肿，在看到任何结果之前，您需要在几个文件中进行更改。这是适得其反，也是不必要的<a class="ae kw" href="https://www.gamebyte.com/wp-content/uploads/2021/01/cyberpunk-apology-meme.jpg" rel="noopener ugc nofollow" target="_blank">脑舞</a>。</p><p id="4a26" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">幸运的是，有一个叫做Redux Toolkit的东西，它采用了与反冲相同的架构原则。您只需要制作一个切片，它可以被称为状态的一部分。在本例中，我制作了一个布局切片，以便能够更改每条路线的页眉:</p><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="0bc4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mh mi mj mk b">layout</code>是我用来跟踪<code class="fe mh mi mj mk b">pageHeader</code>字符串的州名。它被赋予一个缺省值<strong class="ka ir">页面。 </strong>我有一个名为<code class="fe mh mi mj mk b">setPageHeader</code>的reducer来设置<code class="fe mh mi mj mk b">pageHeader</code>的值，刚才详细介绍了如何将reducer导出到它们的文件中。</p><p id="cfbc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在是减压器！在一份名为<code class="fe mh mi mj mk b">layoutReducer</code>的文件中:</p><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="b28a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我简单地导出了一个名为<code class="fe mh mi mj mk b">setNewTitle</code>的函数，该函数在全局状态下将<code class="fe mh mi mj mk b">payload</code>赋回给<code class="fe mh mi mj mk b">pageHeader</code>。</p><p id="0e55" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们现在可以用一个<code class="fe mh mi mj mk b">useSelector</code>钩子来使用全局<code class="fe mh mi mj mk b">App</code>组件中的状态:</p><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="df1c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">改变<code class="fe mh mi mj mk b">pageHeader</code>标题的一种方法是使用<code class="fe mh mi mj mk b">useEffect</code>钩子:</p><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="aeca" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">通过使用<code class="fe mh mi mj mk b">useDispatch</code>钩子，我们能够使用我们在<code class="fe mh mi mj mk b">dispatch</code>函数中导出的<code class="fe mh mi mj mk b">setPageHeader</code>动作。这比创建<code class="fe mh mi mj mk b">mapDispatchToProps</code>和<code class="fe mh mi mj mk b">mapStateToProps</code>函数要简洁得多。</p><p id="c75a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">同样，我在状态中初始化了一个<code class="fe mh mi mj mk b">mountains</code>数组，并能够通过应用程序中的一个表单像这样调度它们:</p><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="7703" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">减速器看起来像这样:</p><figure class="md me mf mg gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="eb08" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">想法</strong>🤔</p><p id="564e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">与我在知道Redux Toolkit之前编写Redux的方式相比，这是非常棒和干净的。随着应用程序的增长，它可以很容易地被很好地抽象出来。</p><blockquote class="mn mo mp"><p id="e246" class="jy jz mq ka b kb kc kd ke kf kg kh ki mr kk kl km ms ko kp kq mt ks kt ku kv ij bi translated"><strong class="ka ir">评分:</strong> ⭐⭐⭐⭐</p></blockquote><p id="2a36" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">总的来说，我非常喜欢知道如何正确地设计前端，因为如果状态管理设置得不好，这可能会很痛苦。反冲和Redux工具包将肯定使人们能够确保状态管理层是清晰和模块化的。</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="6a65" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">概括一下，这里有各种回购的链接🔌：</p><p id="a7b8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">阿波罗</strong></p><p id="6e31" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://github.com/Fullstack-Serverless-GraphQL/lunar-tour-react" rel="noopener ugc nofollow" target="_blank">链接到回购</a> || <a class="ae kw" href="https://lunar-tour-react.netlify.app/" rel="noopener ugc nofollow" target="_blank">链接到演示</a></p><p id="299b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">反冲</strong></p><p id="dcee" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://github.com/AmoDinho/recoil-state-management-demo" rel="noopener ugc nofollow" target="_blank">链接到回购</a> || <a class="ae kw" href="https://recoil-state-man-demo.netlify.app/" rel="noopener ugc nofollow" target="_blank">链接到演示</a></p><p id="cddc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> Redux </strong></p><p id="13ce" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">RTK : <a class="ae kw" href="https://github.com/AmoDinho/redux-toolkit-state-management-demo" rel="noopener ugc nofollow" target="_blank">链接到回购</a> || <a class="ae kw" href="https://redux-toolkit-state-management-demo.netlify.app/" rel="noopener ugc nofollow" target="_blank">链接到演示</a></p><p id="324a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">简单重复:<a class="ae kw" href="https://github.com/AmoDinho/redux-state-management-demo" rel="noopener ugc nofollow" target="_blank">链接到回购</a></p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="6a56" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">演职员表</strong> 🦠</p><p id="6f12" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://github.com/apollographql/ac3-state-management-examples" rel="noopener ugc nofollow" target="_blank">阿波罗的国家管理范例</a></p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="f244" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="mq">感谢</em> <a class="ae kw" href="https://za.linkedin.com/in/benjanecke" rel="noopener ugc nofollow" target="_blank"> <em class="mq">本</em> </a> <em class="mq">阅读此稿。</em> 🧙‍♂️</p></div></div>    
</body>
</html>