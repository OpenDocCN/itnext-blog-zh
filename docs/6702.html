<html>
<head>
<title>First Steps with Upstash for Kafka</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">卡夫卡的第一步</h1>
<blockquote>原文：<a href="https://itnext.io/first-steps-with-upstash-for-kafka-6d4d023da590?source=collection_archive---------3-----------------------#2022-02-02">https://itnext.io/first-steps-with-upstash-for-kafka-6d4d023da590?source=collection_archive---------3-----------------------#2022-02-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3338" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">探索真正的无服务器事件基础设施</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/44f9879654c54d119fa57385054dd79b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4HwAlmy0auDSRBVJ"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">伯纳德·赫曼特在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="1f4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不可否认，新的苹果M1 macbook棒极了。我不认为自己是粉丝，但这些机器太棒了。让我重复一遍:太棒了。这些处理器在许多方面都非常出色。</p><p id="0a64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然，“但是”来了。并非一切都处于我可以从英特尔无缝转移到ARM的状态。</p><p id="850a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为一个Docker的重度用户，我不得不吸取教训，现在需要考虑在我的本地Docker实例上运行Kafka。</p><p id="14a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用手臂支撑在宇宙中搜索卡夫卡Docker图像让我两手空空。</p><p id="6c18" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">嗯，只要看看Github上的那些问题，你就明白我在说什么了。</p><ul class=""><li id="296a" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><a class="ae ky" href="https://github.com/confluentinc/common-docker/issues/117#issuecomment-948226917" rel="noopener ugc nofollow" target="_blank"> ARM64支持吗？</a></li><li id="9d07" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://github.com/bitnami/charts/issues/7305#issue-978245415" rel="noopener ugc nofollow" target="_blank">Bitnami容器映像支持ARM64架构</a></li></ul><p id="29f3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">也许在这篇文章发表的时候会有支持。无论如何，我现在已经停止寻找。如果有更新，请在评论中告诉我。高度赞赏！</p><p id="6be9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">是时候寻找其他解决方案了。</p><p id="09ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我从未真正尝试过基于云的Kafka解决方案，总是使用本地或内部解决方案，这与我正在处理的项目的性质有关。只是有几次我进入了“真正的”云。</p><p id="e246" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我不喜欢大多数云提供商，因为我必须预先购买一定的配额。然后，当这个项目完成时，所有辛苦赚来的钱就放在那里，过一段时间就会被遗忘。</p><p id="1167" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">嗯，我的解决方案是<a class="ae ky" href="https://upstash.com/?utm_source=tobias1" rel="noopener ugc nofollow" target="_blank">抢在</a>前面。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h2 id="cc3c" class="mq mr it bd ms mt mu dn mv mw mx dp my li mz na nb lm nc nd ne lq nf ng nh ni bi translated">使用Upstash的三个原因</h2><p id="90f8" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">我需要一个按需付费的解决方案，而不必摆弄硬件、虚拟机或docker容器之类的东西。</p><p id="184e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第二，不用的时候不应该花什么钱。是的，它应该能够将其缩放到0，0表示根本不需要支付任何费用。</p><p id="2a97" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第三，在不引起太多流量的情况下尝试一段时间不应该花费任何东西。非常适合任何兼职和教育项目。当然，当项目成长为一个有利可图的业务时，解决方案必须随之成长，比如提供专业支持、针对您需求的成本模型等等。</p><p id="5023" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">解决方案是<a class="ae ky" href="https://upstash.com/?utm_source=tobias1" rel="noopener ugc nofollow" target="_blank">超越</a>，为Kafka和Redis提供真正的无服务器服务。</p><p id="4cdd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">检查他们的文件"<a class="ae ky" href="https://blog.upstash.com/aws-msk-confluent-serverless" rel="noopener ugc nofollow" target="_blank"> AWS MSK和汇合。它们真的是无服务器的吗？</a>“深入比较不同的云提供商及其产品，并比较它们的成本。</p><p id="1952" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">查看<a class="ae ky" href="https://upstash.com/#section-pricing?utm_source=tobias1" rel="noopener ugc nofollow" target="_blank">计划和定价</a>，了解如何通过使用不同的成本和使用模式启动和发展您的业务。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h2 id="8afc" class="mq mr it bd ms mt mu dn mv mw mx dp my li mz na nb lm nc nd ne lq nf ng nh ni bi translated">创建集群和主题</h2><p id="f4b8" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">在<a class="ae ky" href="https://upstash.com/?utm_source=tobias1" rel="noopener ugc nofollow" target="_blank"> Upstash </a>上创建一个不需要你透露任何信用卡数据的账户后，进入Kafka部分，点击“创建集群”。</p><p id="f1da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输入集群的名称，并选择区域，以及它是单区域集群还是多区域集群。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl no"><img src="../Images/1c79c18a45063c0e217fc8d3e7975010.png" data-original-src="https://miro.medium.com/v2/format:webp/1*HdxhRNQXFff9K6xvjKbeYw.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">创建集群</figcaption></figure><p id="46cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建集群之后，我们需要创建第一个主题。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl no"><img src="../Images/8eea5c57efd45d4242ad0ec41801e05b.png" data-original-src="https://miro.medium.com/v2/format:webp/1*lUr8j8ySaFzMsuWwEDnDtg.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">创造一个topic.png</figcaption></figure><p id="b909" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不要担心选择什么选项。使用默认设置，并在以后进行相应的更改。</p><p id="f023" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完成后，我们都设置好了，如果可以使用或群集，就可以进行第一次测试。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl no"><img src="../Images/054f7c2513af92939c0d40f6e4563107.png" data-original-src="https://miro.medium.com/v2/format:webp/1*GRfZStDpdEdHci14yWlwyw.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">overview.png集群</figcaption></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h2 id="733c" class="mq mr it bd ms mt mu dn mv mw mx dp my li mz na nb lm nc nd ne lq nf ng nh ni bi translated">测试集群</h2><p id="2e3c" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">足够幸运的是，来自<a class="ae ky" href="https://upstash.com/?utm_source=tobias1" rel="noopener ugc nofollow" target="_blank"> Upstash </a>的家伙会给你提供预先制作好的例子，你只需要复制粘贴就可以了。</p><p id="7a6d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将为您动态创建<code class="fe np nq nr ns b">bootstrap.servers</code>和<code class="fe np nq nr ns b">sasl.jass.config</code>的值。不要复制下面的内容，因为这个确切的配置属于我为本教程创建的集群，并且在我完成后已经被删除了。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl no"><img src="../Images/410dfe8bba3d821008f72842d867497f.png" data-original-src="https://miro.medium.com/v2/format:webp/1*3omy4ZppKEJildF5kdxVzw.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">连接</figcaption></figure><p id="6f86" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您不需要为快速“冒烟测试”编写任何代码。只需使用他们的REST-API，例如使用<code class="fe np nq nr ns b">curl</code>或Postman。</p><p id="0378" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">再次感谢<a class="ae ky" href="https://upstash.com/?utm_source=tobias1" rel="noopener ugc nofollow" target="_blank"> Upstash </a>团队，已经提供了用于生成和消费示例消息的完整的<code class="fe np nq nr ns b">curl</code>命令。只需复制并粘贴到您的终端。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl no"><img src="../Images/c4888846547631aa35982e89bf6a6c2a.png" data-original-src="https://miro.medium.com/v2/format:webp/1*FHpiuVFQkgVQNcpB2tJ6xQ.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">卷曲</figcaption></figure><p id="04a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，让我们试一试:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl no"><img src="../Images/2fb072026fc95de630e1590b97d1ca9e.png" data-original-src="https://miro.medium.com/v2/format:webp/1*wuRz9aG72Noj0hp_qShzHA.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">末端的</figcaption></figure><p id="0663" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在左边，我发布了生产者的命令，在右边发布了消费者的命令。如你所见，我已经向我的<code class="fe np nq nr ns b">tutorial-topic</code>发布了一个事件，实际上这不是我的第一条消息，而是偏移量为18的消息。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h2 id="88cd" class="mq mr it bd ms mt mu dn mv mw mx dp my li mz na nb lm nc nd ne lq nf ng nh ni bi translated">结论</h2><p id="b5a3" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">我使用真正的无服务器Kafka基础设施的小“旅行”是成功的。</p><p id="a9d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我所有的要求都得到了满足，实现它们并没有让我付出任何代价。</p><p id="898e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，前往<a class="ae ky" href="https://upstash.com/?utm_source=tobias1" rel="noopener ugc nofollow" target="_blank"> Upstash </a>，创建你的账户和你的第一个集群，开始你的项目，并将其发展成为一项业务。</p><p id="584a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我会在未来尝试更多的服务，并让你们保持更新。</p><p id="45f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读！</p><ul class=""><li id="4e13" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">如果你喜欢这个，请<a class="ae ky" href="https://twissmueller.medium.com/" rel="noopener">在媒体</a>上跟随我</li><li id="c910" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://www.buymeacoffee.com/twissmueller" rel="noopener ugc nofollow" target="_blank">给我买杯咖啡</a>让我继续前进</li><li id="2eeb" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">通过<a class="ae ky" href="https://twissmueller.medium.com/membership" rel="noopener">在这里注册</a>来支持我和其他媒体作者</li></ul><p id="0050" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这篇文章包含附属链接，由<a class="ae ky" href="https://upstash.com/?utm_source=tobias1" rel="noopener ugc nofollow" target="_blank"> Upstash </a>赞助。</p><div class="nt nu gp gr nv nw"><a href="https://twissmueller.medium.com/membership" rel="noopener follow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd iu gy z fp ob fr fs oc fu fw is bi translated">通过我的推荐链接加入媒体</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">twissmueller.medium.com</p></div></div><div class="of l"><div class="og l oh oi oj of ok ks nw"/></div></div></a></div></div></div>    
</body>
</html>