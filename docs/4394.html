<html>
<head>
<title>Very simple Game Engine with Flutter Animations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">非常简单的游戏引擎，带有颤动动画</h1>
<blockquote>原文：<a href="https://itnext.io/very-simple-game-engine-with-flutter-animations-6da4f633b501?source=collection_archive---------9-----------------------#2020-06-21">https://itnext.io/very-simple-game-engine-with-flutter-animations-6da4f633b501?source=collection_archive---------9-----------------------#2020-06-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><h1 id="0e7c" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">TL；速度三角形定位法(dead reckoning)</h1><p id="3a26" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">颤动动画用于以一次性的方式执行漂亮的视觉效果。但是我们可以使用<strong class="kn ir"><em class="lj">addStatusListener</em></strong>方法<strong class="kn ir"> <em class="lj"> : </em> </strong>将它们重新加工成循环转换</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div class="gh gi lk"><img src="../Images/d8225d07b83f29b1c558ff0e49270b4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1350/format:webp/1*iaNlEsRNAck9PpjzTnixew.png"/></div></figure><p id="dc48" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">此外，为“游戏计数器”的每个第二步切换开始和结束动画状态:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/b8344cd4fea2b1e90efa62f3bdb02350.png" data-original-src="https://miro.medium.com/v2/resize:fit:1092/format:webp/1*UaLpGnUuLINp4o7688mmGA.png"/></div></figure><p id="14a8" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">使用这种技术的示例游戏如下所示:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/60c059e21a9f2de23af003f3287ea761.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/1*tQMxBdzJeqQ7jebmVGaeYA.gif"/></div></figure><h1 id="7d35" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">怎么玩呢</h1><p id="8cf4" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">该项目由<a class="ae lz" href="https://widgetbay.flutlab.io/widget/flutter-space-quiz" rel="noopener ugc nofollow" target="_blank"> FlutLab/WidgetBay </a>主持。您可以通过单击“预览项目”立即运行它:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi ma"><img src="../Images/86aa0736b4a18bbf463d96b476a221fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zaCZZIEi4Lg0UaJKNhgbuQ.png"/></div></div></figure><p id="ff4d" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">它将显示任务失败的游戏场景。这是一个编码游戏！</p><p id="8eeb" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">点击“Fork to FlutLab”(你应该是在那里注册的，是免费的)。您将在FlutLab IDE中打开Flutter项目。点击“热预览”:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/6748305cbceee7255328a647c66990f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:236/format:webp/1*I9aylHJ9QwYrapYOY2x-rQ.png"/></div></figure><p id="7e7a" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">…观察失败的任务:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mg"><img src="../Images/475e364382bdc388ec6cb28b5088222c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zUrpFo1i8PZq8sGGSBkz7Q.png"/></div></div></figure><p id="de5d" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">或者，您可以下载项目并在您最喜欢的桌面IDE中播放:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/2de0ababd936f2c699e453f6f5a5b34d.png" data-original-src="https://miro.medium.com/v2/resize:fit:432/format:webp/1*gJ-TUKkV-AbaQiHdKvn_VQ.png"/></div></figure><p id="0b30" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">现在，您应该查看代码，并尝试将“颤振飞船”的轨迹固定在绿色矩形区域。</p><p id="77d5" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">提示:调查名为<strong class="kn ir"> <em class="lj">命令</em> </strong>的顶级集合。它包含类似于<a class="ae lz" href="https://en.wikipedia.org/wiki/Logo_(programming_language)" rel="noopener ugc nofollow" target="_blank">徽标-海龟游戏</a>的移动命令:</p><ul class=""><li id="35b0" class="mi mj iq kn b ko ls ks lt kw mk la ml le mm li mn mo mp mq bi translated">f(向前)</li><li id="9193" class="mi mj iq kn b ko mr ks ms kw mt la mu le mv li mn mo mp mq bi translated">b(向后)</li><li id="6f39" class="mi mj iq kn b ko mr ks ms kw mt la mu le mv li mn mo mp mq bi translated">左(左)</li><li id="7df9" class="mi mj iq kn b ko mr ks ms kw mt la mu le mv li mn mo mp mq bi translated">右(右)</li><li id="1457" class="mi mj iq kn b ko mr ks ms kw mt la mu le mv li mn mo mp mq bi translated">停止</li></ul><p id="e8f5" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">正确修复后，您应该会看到一个“赢家屏幕”:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/c706716e30c3206e12d32b4798d3d00c.png" data-original-src="https://miro.medium.com/v2/resize:fit:716/format:webp/1*R-o_HfgPLcPuYEkLezHK6A.png"/></div></figure><h1 id="47be" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">它是如何工作的</h1><p id="a935" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">上面提到的动画用【游戏循环】注入到<strong class="kn ir"> <em class="lj"> AnimatedLogo </em> </strong>类中:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mx"><img src="../Images/2a84dc4d754a5da264e17d75044973c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P4KLaHYdKbOSq7Znn_cDSA.png"/></div></div></figure><p id="539b" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated"><strong class="kn ir"> <em class="lj"> AnimatedLogo </em> </strong>包含程序中唯一的UI小部件:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi my"><img src="../Images/3f40bfa69db5c323be560a3044ada3d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X88JYwUTwFrOSXs6x7q7-A.png"/></div></div></figure><p id="30a0" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">所有奇迹发生的地方。动作由<strong class="kn ir"><em class="lj">fractional translation</em></strong>小工具的<strong class="kn ir"> <em class="lj"> translation </em> </strong>参数操作。飞船不透明度动画由<strong class="kn ir"><em class="lj"/></strong>小工具的<strong class="kn ir"> <em class="lj">不透明度</em> </strong>参数管理。</p><p id="79f0" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">动画对象提供了微小的进化变化，如在频繁的定时器点击之间移动1-2个像素。这允许所有变换的平滑模式。基数的变化，如每一个新的<strong class="kn ir"> <em class="lj">计数</em> </strong>增量上的<strong class="kn ir"> <em class="lj">补间&lt;偏移&gt; </em> </strong>的变化都在这个函数内计算:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mz"><img src="../Images/546db6b1994cf2045ad07be5405e9eb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jJdBIXMvyV-xftNMUByU-w.png"/></div></div></figure><p id="975f" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">其中<strong class="kn ir"> <em class="lj"> delta </em> </strong>是在每个<strong class="kn ir"> <em class="lj">计数</em> </strong>增量上设置为1的标志，并且在下一个动画<strong class="kn ir"> <em class="lj">补间</em> </strong>准备好之后立即下降到0。</p><p id="eff3" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">另外，请参见<strong class="kn ir"> <em class="lj">中负责游戏生命周期的几个函数:碰撞、胜利或失败。</em></strong></p><h1 id="dc8c" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">结论。</h1><p id="6ad4" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">这里有一个非常快速的演示，介绍了如何使用Flutter动画来创建简单的游戏。在这个例子中，我们只有一个<strong class="kn ir"> <em class="lj">精灵</em> </strong>。您可以使用<strong class="kn ir"> <em class="lj"> Stack </em> </strong>小部件轻松扩展项目以添加更多精灵。</p><p id="eb1a" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">如果你有兴趣深入了解颤动动画，请阅读<a class="ae lz" href="https://medium.com/flutter-community/flutter-animation-has-never-been-easier-part-1-e378e82b2508" rel="noopener">这篇</a>漂亮的帖子。</p></div></div>    
</body>
</html>