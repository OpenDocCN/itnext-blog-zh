<html>
<head>
<title>Set Up Development Environment For Swoft Framework</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为Swoft框架设置开发环境</h1>
<blockquote>原文：<a href="https://itnext.io/php-microservice-framework-swoft-development-environment-for-swoft-d989da580c6c?source=collection_archive---------5-----------------------#2019-12-20">https://itnext.io/php-microservice-framework-swoft-development-environment-for-swoft-d989da580c6c?source=collection_archive---------5-----------------------#2019-12-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/53dff9c78f5c202931505f8bf059e8f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Uvrfdv-qpJ1iTRROa8hEAg.jpeg"/></div></div></figure><h1 id="9b2e" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">介绍</h1><h1 id="acfc" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">什么是Swoft？</h1><p id="c2b0" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">Swoft是一个PHP高性能微服务协程框架。已经出版多年，已经成为php的不二之选。它可以像Go一样，内置协同web服务器和通用协同客户端，驻留在内存中，独立于传统的PHP-FPM。还有类似的Go语言操作，类似于Spring Cloud框架的灵活注解。</p><p id="a080" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">Swoft通过三年的积累和方向探索，将Swoft打造成PHP界的春天云，是PHP高性能框架和微服务管理的不二之选。</p><h1 id="e51d" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">关于教程</h1><p id="c419" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">我通过学习swoft来写文章，它可以帮助人们轻松地学习Swoft。</p><p id="5b82" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">今天我们将学习如何设置swoft开发环境并成功运行官方示例。促进我们快速体验和理解Swoft。</p><h2 id="170b" class="ma jz iq bd ka mb mc dn ke md me dp ki lh mf mg km ll mh mi kq lp mj mk ku ml bi translated">开源代码库</h2><p id="0db6" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">如果你有一些问题，你可以通过github提交问题。</p><p id="b047" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated"><a class="ae lz" href="https://github.com/swoft-cloud/swoft" rel="noopener ugc nofollow" target="_blank">微软云/微软</a></p><h2 id="5d9a" class="ma jz iq bd ka mb mc dn ke md me dp ki lh mf mg km ll mh mi kq lp mj mk ku ml bi translated">讨论</h2><p id="6081" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">你可以在这里讨论问题。</p><p id="de78" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated"><a class="ae lz" href="https://gitter.im/swoft-cloud/community" rel="noopener ugc nofollow" target="_blank">讨论社区</a></p><h1 id="8179" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">辅导的</h1><h1 id="574c" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">要求</h1><ul class=""><li id="17fd" class="mm mn iq ky b kz la ld le lh mo ll mp lp mq lt mr ms mt mu bi translated">Centos7+</li><li id="e30e" class="mm mn iq ky b kz mv ld mw lh mx ll my lp mz lt mr ms mt mu bi translated">PHP编写器</li><li id="af72" class="mm mn iq ky b kz mv ld mw lh mx ll my lp mz lt mr ms mt mu bi translated">码头工程</li><li id="ea4b" class="mm mn iq ky b kz mv ld mw lh mx ll my lp mz lt mr ms mt mu bi translated">docker-撰写</li></ul><h1 id="9534" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">安装要求</h1><blockquote class="na nb nc"><p id="6640" class="kw kx nd ky b kz lu lb lc ld lv lf lg ne lw lj lk nf lx ln lo ng ly lr ls lt ij bi translated">如果您已经安装了docker，您可以跳过步骤1和2</p></blockquote><h2 id="646c" class="ma jz iq bd ka mb mc dn ke md me dp ki lh mf mg km ll mh mi kq lp mj mk ku ml bi translated">1.centos码头</h2><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="dc7b" class="ma jz iq nm b gy nq nr l ns nt">udo yum install -y yum-utils \device-mapper-persistent-data \lvm2<br/>sudo yum-config-manager \--add-repo \https://mirrors.ustc.edu.cn/docker-ce/linux/centos/docker-ce.repo<br/>sudo yum makecache fast<br/>sudo yum install docker-ce<br/>sudo systemctl enable docker<br/>sudo systemctl start docker<br/>sudo usermod -aG docker $USER<br/>newgrp - docker<br/>sudo systemctl restart docker</span></pre><h2 id="1273" class="ma jz iq bd ka mb mc dn ke md me dp ki lh mf mg km ll mh mi kq lp mj mk ku ml bi translated">2.docker-撰写</h2><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="23a8" class="ma jz iq nm b gy nq nr l ns nt">su root<br/>curl -L <a class="ae lz" href="https://get.daocloud.io/docker/compose/releases/download/1.22.0/docker-compose-`uname" rel="noopener ugc nofollow" target="_blank">https://get.daocloud.io/docker/compose/releases/download/1.22.0/docker-compose-`uname</a> -s`-`uname -m` &gt; /usr/local/bin/docker-compose<br/>chmod +x /usr/local/bin/docker-compose</span></pre><h2 id="24d4" class="ma jz iq bd ka mb mc dn ke md me dp ki lh mf mg km ll mh mi kq lp mj mk ku ml bi translated">3.服务器端编程语言（Professional Hypertext Preprocessor的缩写）</h2><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="f5cd" class="ma jz iq nm b gy nq nr l ns nt">su root<br/>rpm -Uvh <a class="ae lz" href="https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm" rel="noopener ugc nofollow" target="_blank">https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm</a><br/>rpm -Uvh <a class="ae lz" href="https://mirror.webtatic.com/yum/el7/webtatic-release.rpm" rel="noopener ugc nofollow" target="_blank">https://mirror.webtatic.com/yum/el7/webtatic-release.rpm</a><br/>yum -y install php71w-fpm</span></pre><h2 id="7d87" class="ma jz iq bd ka mb mc dn ke md me dp ki lh mf mg km ll mh mi kq lp mj mk ku ml bi translated">4.设计者</h2><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="2ef5" class="ma jz iq nm b gy nq nr l ns nt">su root<br/>curl -sS <a class="ae lz" href="https://getcomposer.org/installer" rel="noopener ugc nofollow" target="_blank">https://getcomposer.org/installer</a> | php<br/>mv composer.phar /usr/local/bin/composer</span></pre><h1 id="abc4" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">安装Swoft</h1><p id="721c" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">现在，我们使用composer来快速创建新项目</p><p id="ce89" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">创建项目:</p><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="05c4" class="ma jz iq nm b gy nq nr l ns nt">composer create-project swoft/swoft Swoft</span></pre><p id="2431" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">成功安装后，您可以看到以下目录结构:</p><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="b4d7" class="ma jz iq nm b gy nq nr l ns nt">├── app/    ----- root directory<br/>│   ├── Annotation/        ----- annotation<br/>│   ├── Aspect/            ----- aop<br/>│   ├── Common/            ----- common util<br/>│   ├── Console/           ----- command<br/>│   ├── Exception/         ----- exception<br/>│   │   └── Handler/           ----- exception handler<br/>│   ├── Http/              ----- HTTP Demo<br/>│   │   ├── Controller/<br/>│   │   └── Middleware/<br/>│   ├── Helper/            ----- helper<br/>│   ├── Listener/          ----- listener<br/>│   ├── Model/             <br/>│   │   ├── Dao/<br/>│   │   ├── Data/<br/>│   │   ├── Logic/<br/>│   │   └── Entity/<br/>│   ├── Rpc/               ----- RPC Demo<br/>│   │   └── Service/<br/>│   │   └── Middleware/<br/>│   ├── WebSocket/         ----- WebSocket Demo<br/>│   │   ├── Chat/<br/>│   │   ├── Middleware/<br/>│   │   └── ChatModule.php<br/>│   ├── Tcp/               ----- TCP Demo<br/>│   │   └── Controller/        <br/>│   ├── Application.php    ----- Application<br/>│   ├── AutoLoader.php     ----- Autoloader<br/>│   └── bean.php<br/>├── bin/<br/>│   ├── bootstrap.php<br/>│   └── swoft              ----- entry file<br/>├── config/                ----- config directory<br/>│   ├── base.php               <br/>│   └── db.php                <br/>├── public/                ----- public directory<br/>├── resource/              ----- resource directory<br/>│   ├── language/              <br/>│   └── view/                 <br/>├── runtime/               ----- runtime directory<br/>├── test/                  ----- unit directory<br/>│   └── bootstrap.php<br/>├── composer.json<br/>├── phar.build.inc<br/>├── phpunit.xml.dist<br/>├── .env                    ----- env config<br/>├── docker-compose.yml  <br/>└── phpunit.xml.dist</span></pre><h1 id="9fbc" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">启动Swoft</h1><p id="e2ab" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">更新docker-compose.yaml:</p><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="7f2f" class="ma jz iq nm b gy nq nr l ns nt">version: "3"<br/>services:<br/>  redis:<br/>    image: redis:alpine<br/>    container_name: redis<br/>    ports:<br/>     - 6379:6379<br/>    volumes:<br/>     - redisdb:/data<br/>     - /usr/share/zoneinfo/Asia/Shanghai:/etc/localtime<br/>  swoft:<br/>    image: swoft/swoft<br/>#    for local develop<br/>#    command: php -S 127.0.0.1:13300<br/>    container_name: swoft-test<br/>    environment:<br/>      - APP_ENV=dev<br/>      - TIMEZONE=Asia/Shanghai<br/>    ports:<br/>      - "18306:18306"<br/>      - "18307:18307"<br/>      - "18308:18308"<br/>    volumes:<br/>      - ./:/var/www/swoft<br/>  mysql:<br/>    image: mysql<br/>    container_name: mysql-srv<br/>    environment:<br/>      - MYSQL_ROOT_PASSWORD=123456<br/>    ports:<br/>      - "3306:3306"<br/>    volumes:<br/>    - mysqldb:/var/lib/mysql<br/>volumes:<br/>  redisdb:<br/>  mysqldb:</span></pre><p id="fa7d" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">通过Docker撰写启动swoft:</p><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="493d" class="ma jz iq nm b gy nq nr l ns nt">docker-compose up -d</span></pre><p id="13b2" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">你点击<a class="ae lz" href="http://127.0.0.1:18306/" rel="noopener ugc nofollow" target="_blank"> http://127.0.0.1:18306 </a>，会看到如下页面。</p><figure class="nh ni nj nk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nu"><img src="../Images/db99832071e95dd489a124bb9c23d044.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3fLWZNI-sIEslR9oBIUBBg.jpeg"/></div></div></figure><h2 id="b5d7" class="ma jz iq bd ka mb mc dn ke md me dp ki lh mf mg km ll mh mi kq lp mj mk ku ml bi translated">开源代码库</h2><p id="27ab" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">如果你有一些问题，你可以通过github提交问题。</p><p id="34d7" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated"><a class="ae lz" href="https://github.com/swoft-cloud/swoft" rel="noopener ugc nofollow" target="_blank">微软云/微软</a></p><h2 id="2be5" class="ma jz iq bd ka mb mc dn ke md me dp ki lh mf mg km ll mh mi kq lp mj mk ku ml bi translated">讨论</h2><p id="cadd" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">你可以在这里讨论问题。</p><p id="f856" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated"><a class="ae lz" href="https://gitter.im/swoft-cloud/community" rel="noopener ugc nofollow" target="_blank">讨论社区</a></p></div></div>    
</body>
</html>