<html>
<head>
<title>Optimizing AWS RDS Cost</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">优化AWS RDS成本</h1>
<blockquote>原文：<a href="https://itnext.io/optimizing-aws-rds-cost-209f3572818?source=collection_archive---------2-----------------------#2022-08-09">https://itnext.io/optimizing-aws-rds-cost-209f3572818?source=collection_archive---------2-----------------------#2022-08-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="515d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我们与许多在<a class="ae kl" href="https://topcloudops.com" rel="noopener ugc nofollow" target="_blank">topcloudops.com</a>使用AWS的客户合作的过程中，我们意识到任何AWS客户成本中最重要的一部分总是RDS。在许多情况下，RDS的成本几乎占总成本的50%。</p><p id="dfd4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这就是为什么我们必须优化这项服务，以降低我们云的总体成本。</p><p id="09cf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在topcloudops.com T2，我们总是会问以下问题:</p><h2 id="2cc4" class="km kn iq bd ko kp kq dn kr ks kt dp ku jy kv kw kx kc ky kz la kg lb lc ld le bi translated">1.我们在为我们不需要的资源付费吗？</h2><p id="ce1f" class="pw-post-body-paragraph jn jo iq jp b jq lf js jt ju lg jw jx jy lh ka kb kc li ke kf kg lj ki kj kk ij bi translated">我们希望使用Cloudwatch或<a class="ae kl" href="https://www.virtana.com/create-account-optimize/" rel="noopener ugc nofollow" target="_blank"> CloudWisdom </a>等工具发现的第一件事是:</p><p id="6910" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">我们是否有未使用的实例:</strong> <br/>很多时候，我们在客户的账户上发现资源已被调配，但它们并未被使用，例如，测试数据库或开发POC。在这种情况下，这是一个容易的胜利。我们只需进行备份并移除未使用的资源。</p><p id="912d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">我们正在使用大小合适的实例:</strong> <br/>选择合适的实例是了解您的CPU、内存和IOPS使用情况的游戏。这就是CloudWatch便于理解实例如何被使用，以及我们可以在哪里找到未使用的资源的地方。如果我们可以更改为更小的实例，那么每次降级时我们都可以节省高达50%的成本。</p><p id="19b3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">我们是否使用了正确的存储:<br/> </strong>在这里，一切都是为了调整您需要的IOPs。如果调配太多IOPs，存储成本可能会飙升。最好的方法是使用历史指标来了解数据库的使用情况。您还必须了解IOPs级别的瓶颈在哪里，并适当地调整实例的大小。</p><p id="6f45" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">我们是否使用了过多的存储:<br/> </strong>有时我们会发现实例配置了过多的存储，我们需要考虑到我们需要为每1gb的存储付费。因此，最好的办法是打开RDS上的autoscaling选项，这样每当我们用完可用空间时，RDS就会逐渐增加存储，而不会分配太多空间。</p><p id="0d10" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">实例是否需要持续运行:</strong> <br/>有时候我们发现数据库只需要在营业时间或者一天中的某些时段使用。对于这些情况，我们建议客户在不使用数据库时将其关闭，因为RDS是按小时付费的。如果我们每月只让实例工作160小时，而不是720小时，我们可以节省高达80%的成本。</p><p id="fdaa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">我们真的需要在RDS上运行我们的实例吗:</strong> <br/> RDS附带了一大堆我们需要付费购买的功能，也许在我们的用例中我们并不真的需要它们。我们总是可以选择在EC2实例上运行数据库。这可以节省大约50%的成本。</p><h2 id="838f" class="km kn iq bd ko kp kq dn kr ks kt dp ku jy kv kw kx kc ky kz la kg lb lc ld le bi translated">2.我们选择了正确的定价模式吗？</h2><p id="340d" class="pw-post-body-paragraph jn jo iq jp b jq lf js jt ju lg jw jx jy lh ka kb kc li ke kf kg lj ki kj kk ij bi translated"><strong class="jp ir">按需与保留:</strong> <br/>在AWS领域，按需实例通常是更昂贵的选择，如果不是始终如此的话。因此，如果我们知道我们将在一段时间内使用数据库，最好的办法就是使用保留实例。关于预订实例需要知道的一件事是，如果你预先付款，你可以得到进一步的折扣。真正有所不同的是从按需到预约。<br/>让您了解可能的节约</p><p id="008d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">预留1年(无预付款)= ====&gt; ~ <strong class="jp ir"> 40%折扣</strong></p><p id="8aa2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">预留1年期(预付)= ====&gt; ~ <strong class="jp ir"> 46%的折扣(差别不大)</strong></p><p id="afb0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">预留3年(前期)= ====&gt; ~64 <strong class="jp ir"> %折扣</strong></p><p id="d6cc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">我们在哪个区域运行我们的实例:<br/> </strong>选择正确的区域会有很大的不同。例如，如果我们选择美国东部(俄亥俄州)，我们将支付0.29美元每小时的费用，但如果我们在南美洲(圣保罗)运行，我们将支付0.6美元每小时，这是两倍。</p><p id="6609" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">选择正确的地区可以为你节省10%到50%的费用。</p><p id="bd8f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我希望这有所帮助，</p><p id="d25d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Guillermo Quiros，<br/> AWS认证解决方案架构师</p></div></div>    
</body>
</html>