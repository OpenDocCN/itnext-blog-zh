# 吸取的教训:Netflix 迁移到 Amazon 云服务(AWS)

> 原文：<https://itnext.io/lessons-learned-netflix-migratie-naar-amazon-cloud-services-aws-a8b342fb3840?source=collection_archive---------0----------------------->

![](img/fa3a30ebbdfe82c835308c1239735d76.png)

## 原因是什么

2008 年，Netflix 因数据中心出现故障而连续三天无法将 DVD 发送给订阅者。此事件已导致 Netflix 转换为云，不再依赖单点故障。

作为云提供商，Netflix 选择了 Amazon web services(AWS)作为主要的可扩展性原因。从 2008 年的 900 万增长到 2016 年 1 月的 7500 万。

自数据中心到 100%云环境的旅程已持续了 7 年多。所有的应用程式都已迁移，目前正在关闭最新的资料中心。对于这种规模的迁移，我们所掌握的知识很少。本文简要介绍了可为将来的云迁移提供宝贵参考的“经验教训”。

## 我们的出发点

除了可扩展性和连续性之外，Netflix 还具备以下转变为 Amazon cloud 的前提条件:

*   来应对进一步的全球化。随着美国以外地区的服务扩展，连接的国家增加到 130 个。
*   它可以通过大量订阅来满足不断增长的数据存储需求。
*   为其复杂的大数据分析提供一个高效的平台。这些分析使用 Netflix 创建新的电视节目和个性化的观看建议。

## 吸取教训

在 Netflix 迁移过程中，虽然没有多少错误值得学习，但可以得出特别有价值的结论。以下是主要结论:

1.  **成本节约作为捕捉** 可以得出的第一个结论是成本节约并不是首要目标。Netflix 指出，由于提高了灵活性和可扩展性，运营成本大幅降低。当 Netflix 还在自己的数据中心运营时，为了跟上订阅的增长，它需要在硬件方面进行持续的投资，同时在公共云的增长和缩减方面进行更多的投资。对基础设施的持续投资现在全靠亚马逊了。
2.  **变更管理手段** 可以得出的第二个结论是，可能有自己的管理手段(称为控制手段)。使用公共云会增加对供应商的依赖。像变更管理这样的专属程序不再完全掌握在自己手中。为了减少这种依赖性，Netflix(与亚马逊隔绝)开发了自己的工具。此称为 [Netflix Simian Army](http://techblog.netflix.com/2011/07/netflix-simian-army.html) 是一组程序，可执行压力测试(混乱之猴)和威胁识别(安全之猴)。这样一来，Netflix 就能保留这个地区，并能自行控制其服务品质。
3.  **可用性** 迁移的第三个结论是云服务对可用性影响很大。确保 99.999%的可用性已经很难从自己的数据中心实现，更不用说通过云应用程序实现了。Netflix 为其流媒体服务提供了四个九分之一的可用性，在过去，这三个或两个九分之二是云应用程序的标准。为确保这种高可用性，基础架构分布在不同的 AWS 区域。这样可以很好地隔离问题，而且所有区域同时发生故障的可能性很小。
4.  **应用体系结构重组** 第四个结论是，良好的云迁移部分需要应用国家的重新工程。并非选择迁移所有应用程序 1:1，而是评估当前的应用程序，并根据需要将体系结构更改为云原生应用程序。只有这样，应用程序才能充分利用可扩展性和高可用性优势。
5.  **IT 组织的变革** 最后一个重要结论是，向公共云服务扩展的转变对 it 组织自身造成了深远的影响。Netflix 在薪水方面是最好的雇主。但是，很少有公司能够利用自己的资源和专业人员进行如此大规模的迁移。这通常需要外部知识。因此，在租出外部差异之前，先浏览完整的选取路径非常重要。随着云的过渡，Netflix 中的一些传统 IT 功能(如系统管理员、DBA、存储工程师、网络管理员和更改管理器)也消失了。新的云环境仅由开发人员“管理”，以完成他们自己的应用程序。

最终的结论是，向(公共)云的过渡将彻底改变 IT 的正常运营。但是，对于 Netflix 迁移来说，最终的结果是一个更高可用性的可扩展服务。

如欲了解更多信息，请参阅下面的链接:

*   Netflix.com: [完成 Netflix 云迁移](https://media.netflix.com/en/company-blog/completing-the-netflix-cloud-migration)
*   TechRepublic: [5 从 Netflix Cloud journey 中吸取的经验教训](http://www.techrepublic.com/article/5-lessons-it-learned-from-the-netflix-cloud-journey/)
*   数据中心知识: [Netflix 外壳下的所有权数据中心结构的最终位](http://www.datacenterknowledge.com/archives/2016/02/11/netflix-shuts-down-final-bits-of-own-data-center-infrastructure/)