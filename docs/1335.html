<html>
<head>
<title>It Doesn’t Have to be Perfect</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">不一定要完美</h1>
<blockquote>原文：<a href="https://itnext.io/it-doesnt-have-to-be-perfect-25071b56959b?source=collection_archive---------0-----------------------#2018-09-15">https://itnext.io/it-doesnt-have-to-be-perfect-25071b56959b?source=collection_archive---------0-----------------------#2018-09-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/a296f38ea0c81c9fd61ab769e5ccad37.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*YS1Dqekq-kEB4POj0JdGCA.jpeg"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">感受遗留代码在你体内流动…</figcaption></figure><p id="e4d5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">遗留代码。这是“其他开发者”留下的东西。你知道那些家伙。他们不专业。他们很懒。他们不知道如何写好代码。或者，如果我们大方一点，我们可以说他们时间紧迫。他们必须尽快将产品推向市场，所以他们走捷径。</p><p id="9348" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">术语“遗留代码”鼓励这种观点。这部法典是一份遗产。这是我们继承的东西。这是我们的责任，但不是我们的错。这个范例给了我们一盏灯，让我们可以谴责——也给了我们一个重写的理由！！</p><p id="67fb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但是遗留代码不仅仅是我们从其他开发者那里继承的东西。这也是我们自己背负的代码。我数不清有多少次回头看自己写的代码，心想:“我到底在想什么？”(通常后跟对所述代码的重构)。</p><p id="0ecd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">老实说，这是遗留代码更准确的定义:</p><blockquote class="kw"><p id="552d" class="kx ky iq bd kz la lb lc ld le lf kv dk translated">遗留代码是我们现在没有写的任何东西。</p></blockquote><h1 id="6554" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">尊重</h1><p id="de36" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated">你讨厌的遗留代码正在支付你的薪水。那些一起黑它的愚蠢的开发者做了足够好的工作，你得到了一个酷的办公室，一个新的Mac Powerbook，和免费的俱乐部伙伴。他们懒吗？他们不专业还是没有你资深？也许吧。也许不是。但是，他们应该得到一点尊重。</p><p id="4fe9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我很少遇到不关心自己代码的工程师。在被证明有罪之前，假设每个人都在努力做好工作。假设每个人都尽了最大努力。</p><p id="54b0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这并不意味着我们不能对遗留代码感到沮丧。这并不意味着我们不能说我们比我们之前的开发者知道的更多。但是，对我们继承的代码库、开发它的程序员以及它试图解决的问题保持尊重的态度，可以改变我们与代码以及创建它的组织的关系。而且，如果遗留代码是由你工作的团队中的开发人员编写的，对他们感同身受，而不是蔑视，将会在帮助该团队扭转局面和创建一个由尴尬的开发人员组成的害怕的团队之间产生差异，这些开发人员试图向你隐藏他们的错误。</p><h1 id="8295" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr mj lt lu lv mk lx ly lz ml mb mc md bi translated">听听遗留代码</h1><blockquote class="mm mn mo"><p id="1556" class="jy jz mp ka b kb kc kd ke kf kg kh ki mq kk kl km mr ko kp kq ms ks kt ku kv ij bi translated">团队生产模拟他们组织结构的软件系统——康威定律的解释</p></blockquote><p id="0a7d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们鄙视并抛弃遗留代码，这是在冒险。不关注它，我们就没有机会从中学习。当我们陷入“正确”的做事方式时，很容易忘记:</p><ul class=""><li id="4bbe" class="mt mu iq ka b kb kc kf kg kj mv kn mw kr mx kv my mz na nb bi translated">我们代码的质量是我们组织的一个症状。不仅仅是开发商。</li><li id="9cb1" class="mt mu iq ka b kb nc kf nd kj ne kn nf kr ng kv my mz na nb bi translated">“正确”通常是风格或偏好的问题，与代码是否好无关。</li><li id="619e" class="mt mu iq ka b kb nc kf nd kj ne kn nf kr ng kv my mz na nb bi translated">我们总是在学习和进化，我们的队友也是如此。这就是为什么我们一个月前写的代码在我们看来常常很恐怖。</li><li id="368a" class="mt mu iq ka b kb nc kf nd kj ne kn nf kr ng kv my mz na nb bi translated">代码之所以是这样，是因为人们试图解决一个特定的问题。了解这个问题——可能不是技术性的——可以提供重要的见解。</li><li id="3dd4" class="mt mu iq ka b kb nc kf nd kj ne kn nf kr ng kv my mz na nb bi translated">我们的产品一直在变化。</li><li id="d298" class="mt mu iq ka b kb nc kf nd kj ne kn nf kr ng kv my mz na nb bi translated">遗留代码是不可避免的，因为…(参见下面的项目符号)</li><li id="cc78" class="mt mu iq ka b kb nc kf nd kj ne kn nf kr ng kv my mz na nb bi translated">最终，所有代码都是遗留代码。</li></ul><h1 id="f2b6" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr mj lt lu lv mk lx ly lz ml mb mc md bi translated">什么是好的代码？</h1><blockquote class="mm mn mo"><p id="b057" class="jy jz mp ka b kb kc kd ke kf kg kh ki mq kk kl km mr ko kp kq ms ks kt ku kv ij bi translated">从长远来看，每一个节目都变成了洛可可——然后是碎石——艾伦·珀利斯</p></blockquote><p id="4cd2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">就像我上面说的，我相信几乎每个工程师都想做好工作。他们希望遵循“最佳实践”,写出好的代码。在没有错误、经过彻底测试、易于部署到产品中并得到同行尊重的完美代码库的故事的推动下，我们希望构建一个乌托邦。不管怎样，“乌托邦”的字面意思是“无处可去”。</p><p id="6f57" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">随着时间的推移，软件系统会崩溃。这有很多很多原因。它们很有趣，理解它们很重要。但是，更重要的是接受不完美和衰落的必然性。</p><p id="8b3d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为什么这很有帮助？它让我们专注于重要的事情。这些几乎总是与软件无关。</p><p id="6e39" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们大多数人都为组织编写软件:公司、中小型企业、政府、非营利组织等等。我们的软件应该解决问题。如果我们的软件解决了它应该解决的问题，它就是好软件。</p><blockquote class="kw"><p id="82c3" class="kx ky iq bd kz la lb lc ld le lf kv dk translated">如果我们的软件解决了它应该解决的问题，它就是好软件。</p></blockquote><p id="da53" class="pw-post-body-paragraph jy jz iq ka b kb nh kd ke kf ni kh ki kj nj kl km kn nk kp kq kr nl kt ku kv ij bi translated">或者，我应该说<em class="mp">足够好</em>？完全公平地说，这是一个不充分的定义——但它不是为了完美而设计的。它试图表明一个观点:</p><ul class=""><li id="1072" class="mt mu iq ka b kb kc kf kg kj mv kn mw kr mx kv my mz na nb bi translated">不一定要完美。它永远不会完美。最重要的是管用。</li><li id="9f0c" class="mt mu iq ka b kb nc kf nd kj ne kn nf kr ng kv my mz na nb bi translated">它必须是可维护的，并且能够发展。它不一定要完全易于维护。</li><li id="8e5b" class="mt mu iq ka b kb nc kf nd kj ne kn nf kr ng kv my mz na nb bi translated">它不必总是遵循“最佳”实践——无论如何，这些实践会随着时间的推移而改变，并且在以后很容易被作为“遗留代码”清除(有人是CORBA吗？)</li><li id="6bd8" class="mt mu iq ka b kb nc kf nd kj ne kn nf kr ng kv my mz na nb bi translated">它不必使用最新或最酷的技术。</li></ul><h1 id="4793" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr mj lt lu lv mk lx ly lz ml mb mc md bi translated">诚实的力量</h1><p id="8e2f" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated">有些代码基础是我们讨厌的，有些实际上是行不通的。然而，如果你的软件正在运行，并且拥有活跃的用户群，那么你的软件很有可能<em class="mp">好到足以</em>进行重构。如果软件无法运行，你的业务将明显受损。</p><ul class=""><li id="d7d0" class="mt mu iq ka b kb kc kf kg kj mv kn mw kr mx kv my mz na nb bi translated">你会失去顾客。</li><li id="a7b1" class="mt mu iq ka b kb nc kf nd kj ne kn nf kr ng kv my mz na nb bi translated">你会落后于竞争对手。</li><li id="1a1c" class="mt mu iq ka b kb nc kf nd kj ne kn nf kr ng kv my mz na nb bi translated">添加新功能几乎是不可能的——要么是因为你不知道代码是如何工作的，要么是接触任何东西都可能导致整个体系崩溃。</li><li id="3555" class="mt mu iq ka b kb nc kf nd kj ne kn nf kr ng kv my mz na nb bi translated">Bug报告每天都会出现，bug会持续几个月没有解决，修复一个bug会导致两三个新的bug产生。</li></ul><p id="4a5b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我遇到过这样的系统。它们具有泰坦尼克号后冰山的所有特征:很明显它们正在下沉。此外，还有令人沮丧的系统。在他们身上工作很痛苦。代码是丑陋的，不清楚的，没有很好的文档记录。这是我们需要小心的地方。</p><p id="2a23" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当我们不得不忍受这样的代码:</p><ul class=""><li id="8f02" class="mt mu iq ka b kb kc kf kg kj mv kn mw kr mx kv my mz na nb bi translated">很难改变</li><li id="cf28" class="mt mu iq ka b kb nc kf nd kj ne kn nf kr ng kv my mz na nb bi translated">有问题</li><li id="b409" class="mt mu iq ka b kb nc kf nd kj ne kn nf kr ng kv my mz na nb bi translated">比我们希望的要慢</li><li id="e910" class="mt mu iq ka b kb nc kf nd kj ne kn nf kr ng kv my mz na nb bi translated">等等。</li></ul><p id="19dc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从头开始重写整件事是很诱人的。如果没有别的，在你做决定之前暂停一下，至少花点时间真正审视一下你正在做的事情的范围。</p><h1 id="a207" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr mj lt lu lv mk lx ly lz ml mb mc md bi translated">接受的力量</h1><blockquote class="mm mn mo"><p id="52ce" class="jy jz mp ka b kb kc kd ke kf kg kh ki mq kk kl km mr ko kp kq ms ks kt ku kv ij bi translated">直到我接受了我自己，我才可以自由地改变自己——卡尔·罗杰斯</p></blockquote><p id="a74f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">重要的是，<em class="mp">这不是对懒惰的召唤</em>。人们常说好的开发人员是懒惰的开发人员。我明白你的意思，但我认为这不是真的。优秀的开发人员非常关心他们的代码。他们是彻底的，有思想的。他们努力工作。</p><p id="5a92" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="mp">这也不是对平庸的召唤</em>。相反，这是对现实的呼唤。系统很复杂。它们天生“凌乱”。编码员的大部分工作类似于放牧猫。它试图推理多个移动部件和随时间变化的信息之间的复杂关系。它是关于在一个复杂的人类系统中工作——一个有着历史、未来、利益冲突和根深蒂固的做事方式的系统。</p><p id="d99c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这一切都意味着我们的工作很困难。因为系统是复杂的，所以总是很难。犯错总是很容易的。总有新的东西要学。由于我们职业的短暂性，通常会有多种方法分散在代码库中——其中许多是我们不喜欢的。会有比我们级别高的人写的代码我们不懂，也会有低年级的人写的代码犯了可预见的错误。在一个充斥着糟糕文档的行业中——当它存在的时候——会有一些重要的决策被神秘的代码行记录下来。</p><p id="3964" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">而不是把“婴儿和洗澡水一起倒掉”，在这个过程中失去很多。而不是对我们必须处理的垃圾代码感到愤怒和沮丧。而不是重现我们发誓要摧毁的庞然大物。我们可以接受我们的应用程序永远不会完美。我们可以接受我们现在不得不忍受的不完美。我们可以花时间从我们生活的遗留代码中学习。</p><p id="f6fa" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">接受和耐心是反应式思维的解毒剂。它们帮助我们创造清晰思考所需的空间。当我们有了这些，我们就可以更明智地着手开发一个我们引以为豪的代码库。</p><h1 id="946e" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr mj lt lu lv mk lx ly lz ml mb mc md bi translated">摘要</h1><ul class=""><li id="fedf" class="mt mu iq ka b kb me kf mf kj nm kn nn kr no kv my mz na nb bi translated">先学习。如果你对当前的代码感到沮丧，不要急于重写。代码可能很复杂。可能会很慢。可能很难维持或发展。但是，这可能有很好的理由。学习它们。</li><li id="5167" class="mt mu iq ka b kb nc kf nd kj ne kn nf kr ng kv my mz na nb bi translated">重构重写。重构比重写便宜得多。如果你有工作软件，风险也会小很多。您可以进行更小的更改，影响更小，并且如果新的更好的代码出现问题，您可以更容易地进行调整。</li><li id="dbd1" class="mt mu iq ka b kb nc kf nd kj ne kn nf kr ng kv my mz na nb bi translated">学会坦然面对不完美。这有助于你避免做出被动的决定，从长远来看，这可能会付出很大的代价。</li></ul></div></div>    
</body>
</html>