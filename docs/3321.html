<html>
<head>
<title>Introducing the Serverless GraphQL NodeJS Starter 🤩👷🏾‍♂️</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">无服务器GraphQL NodeJS Starter简介🤩👷🏾‍♂️</h1>
<blockquote>原文：<a href="https://itnext.io/introducing-the-serverless-graphql-nodejs-starter-%EF%B8%8F-c9de0ab285ae?source=collection_archive---------5-----------------------#2019-11-21">https://itnext.io/introducing-the-serverless-graphql-nodejs-starter-%EF%B8%8F-c9de0ab285ae?source=collection_archive---------5-----------------------#2019-11-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/5981f5976a39e25b24130d821f3c8432.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1W2Lhqmu1KLA81Kb_FdPlg.png"/></div></div></figure><p id="21d9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我发现自己在年中过于频繁地手工编写无服务器的GraphQL APIs。所以我从制作了<a class="ae kw" href="https://serverless-stack.com/" rel="noopener ugc nofollow" target="_blank">无服务器堆栈教程</a>的可爱的人们那里拿到了<a class="ae kw" href="https://github.com/AnomalyInnovations/serverless-nodejs-starter" rel="noopener ugc nofollow" target="_blank">无服务器NodeJS初学者工具包</a>，并对其进行了修改以支持<a class="ae kw" href="https://graphql.org/learn/queries/" rel="noopener ugc nofollow" target="_blank"> GraphQL查询和变异</a>。因此推出了<a class="ae kw" href="https://github.com/pimp-my-book/serverless-graphql-nodejs-starter" rel="noopener ugc nofollow" target="_blank">无服务器GraphQL入门套件</a>！</p><p id="b489" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">该套件专门针对<a class="ae kw" href="https://aws.amazon.com/lambda/" rel="noopener ugc nofollow" target="_blank"> AWS Lambda </a>和<a class="ae kw" href="https://www.apollographql.com/docs/apollo-server/" rel="noopener ugc nofollow" target="_blank"> Apollo服务器</a>。然而，我很确定你可以用<a class="ae kw" href="https://cloud.google.com/" rel="noopener ugc nofollow" target="_blank"> GCP </a>和<a class="ae kw" href="https://azure.microsoft.com/en-us/" rel="noopener ugc nofollow" target="_blank"> Azure </a>来配置它，因为Apollo确实有它们的实现。一旦安装好，你就可以部署这个功能，通过链接其他资源来扩展它，比如<a class="ae kw" href="https://aws.amazon.com/dynamodb/" rel="noopener ugc nofollow" target="_blank"> DynamoDB </a>表、<a class="ae kw" href="https://aws.amazon.com/s3/" rel="noopener ugc nofollow" target="_blank"> S3桶</a>等等。</p><p id="5cc0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你想采用微服务的方法，你需要尝试阿波罗联盟T21，并做好动手的准备。此外，如果您正在寻求使用<a class="ae kw" href="https://www.apollographql.com/docs/apollo-server/data/subscriptions/" rel="noopener ugc nofollow" target="_blank">订阅</a>进行实时用例，我会推荐使用<a class="ae kw" href="https://aws.amazon.com/appsync/" rel="noopener ugc nofollow" target="_blank"> AWS AppSync </a>，这是一个无服务器的GraphQL管理的后端。然后你只需要在你的前端配置你的客户端来接受<a class="ae kw" href="https://medium.com/open-graphql/apollo-multiple-clients-with-react-b34b571210a5" rel="noopener">多个API端点</a>，那么Bob就是你的叔叔。</p><h2 id="a0d5" class="kx ky iq bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated">集成不同类型的数据库怎么样？🤔</h2><p id="026a" class="pw-post-body-paragraph jy jz iq ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">这里有一个关于DynamoDB 的<a class="ae kw" href="https://github.com/pimp-my-book/pmb-plus-backend-poc" rel="noopener ugc nofollow" target="_blank">例子，如果你想使用</a><a class="ae kw" href="https://aws.amazon.com/rds/aurora/?nc2=h_ql_prod_db_aa" rel="noopener ugc nofollow" target="_blank">极光</a>，那么你可以看看这个来自<a class="ae kw" href="https://serverless.com/" rel="noopener ugc nofollow" target="_blank">无服务器</a>的Gareth的<a class="ae kw" href="https://serverless.com/blog/graphql-api-mysql-postgres-aurora/" rel="noopener ugc nofollow" target="_blank">精彩帖子</a>。如果你担心冷启动，因为你的lambda在VPC(虚拟私有云)中，你不应该太担心。在我目前从事的一个项目中，我发现查询和突变的加载时间大约为3-6秒。</p><p id="ad30" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我的建议是在本地开发中使用常规的RDS MySQL/ PostgreSQL实例，然后在开发和生产阶段为MySQL/ PostgreSQL构建两个无服务器的Aurora集群。这是因为Lambda需要与Aurora在同一个VPC中，并且当在本地工作时，如果您试图访问您的无服务器Aurora集群，您会得到可怕的“<strong class="ka ir"> <em class="lv">意外令牌S in JSON in position 0</em></strong>”错误消息。除非有人有可行的替代方案，请分享🙃。</p><p id="f6f4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">此外，我无法使用<a class="ae kw" href="http://knexjs.org/" rel="noopener ugc nofollow" target="_blank"> Knex </a>和<a class="ae kw" href="https://sequelize.org/" rel="noopener ugc nofollow" target="_blank"> Sequelize </a>作为ORM让lambda工作。一旦我选定了无服务器的MySQL模块，我就万事大吉了。我得到了太多的内部服务器错误，并乐于妥协编写原始SQL来启动和运行项目。</p><p id="0d18" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你是无服务器或GraphQL的新手，在<a class="ae kw" href="https://pimpmybook.co.za/" rel="noopener ugc nofollow" target="_blank">皮条客我的书</a>我们创建了一个资源来提高工程师的技能，以跟上这些令人敬畏的技术，称为<a class="ae kw" href="https://github.com/pimp-my-book/CodeJavaScript" rel="noopener ugc nofollow" target="_blank"> #CodeJavascript </a>。</p><figure class="lw lx ly lz gt jr"><div class="bz fp l di"><div class="ma mb l"/></div><figcaption class="mc md gj gh gi me mf bd b be z dk translated">不维护任何生产REST APIs的感觉。</figcaption></figure><blockquote class="mg mh mi"><p id="98d8" class="jy jz lv ka b kb kc kd ke kf kg kh ki mj kk kl km mk ko kp kq ml ks kt ku kv ij bi translated">画出所有的东西！！！🎉🌟🎈</p></blockquote></div></div>    
</body>
</html>