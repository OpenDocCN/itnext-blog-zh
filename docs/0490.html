<html>
<head>
<title>Programming tips #2: 6 tips to make your code clean and elegant again</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">编程技巧#2:让你的代码变得干净优雅的6个技巧</h1>
<blockquote>原文：<a href="https://itnext.io/programming-tips-2-6-tips-to-make-your-code-clean-and-elegant-again-c6c47458724a?source=collection_archive---------2-----------------------#2018-03-18">https://itnext.io/programming-tips-2-6-tips-to-make-your-code-clean-and-elegant-again-c6c47458724a?source=collection_archive---------2-----------------------#2018-03-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="5417" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当我在写这个系列的第一篇文章时，我已经想到了其他的技巧，并告诉自己“你可以提供更多，但是一篇文章是不够的”。</p><blockquote class="kl"><p id="37e2" class="km kn iq bd ko kp kq kr ks kt ku kk dk translated">我们在这里</p></blockquote><p id="3443" class="pw-post-body-paragraph jn jo iq jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ij bi translated">你可以随意看看我的上一篇文章:<a class="ae la" rel="noopener ugc nofollow" target="_blank" href="/programming-tips-1-6-tips-i-wish-i-knew-earlier-when-i-started-to-code-504052dd88cf">编程技巧#1 : 6我希望在我开始编码的时候早点知道</a></p><p id="c14f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">像往常一样，这些建议来自经验和书籍阅读。这并不意味着它是世界上最好的，但它能教会你一些你不知道的很酷的东西。</p><p id="c6e9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所有引入的示例都将使用Javascript编码(除了一个)，以保持语法的简洁和易于理解，同时能够在浏览器的控制台中运行所有内容。</p><blockquote class="lb lc ld"><p id="f5b1" class="jn jo le jp b jq jr js jt ju jv jw jx lf jz ka kb lg kd ke kf lh kh ki kj kk ij bi translated"><strong class="jp ir">旁注:</strong>这一次，比起功能，我们更关注可读性。干净优雅就好。</p></blockquote></div><div class="ab cl li lj hu lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ij ik il im in"><h1 id="0867" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">1.提前返回报表</h1><p id="ba40" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">一个常见的不良编码习惯是用条件语句包围大代码块，有时重复返回语句。</p><p id="4f0e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">早期返回语句</strong>的目标是尽可能快地从一个函数调用或一个简单的块中返回，将棘手的处理工作放在较低的部分，并尽可能避免条件语句。</p><p id="563f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以下是您应该避免的情况:</p><figure class="ms mt mu mv gt mw"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="0c91" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">可读性如何？它起作用了，但是它很丑，不是吗？</strong></p><p id="c5a7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可以这样清洁它:</p><figure class="ms mt mu mv gt mw"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="964b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">等待..发生了什么事？只是去掉了嵌套的条件语句和返回语句。此外，我们可以很容易地区分两部分:</p><ul class=""><li id="30f1" class="mz na iq jp b jq jr ju jv jy nb kc nc kg nd kk ne nf ng nh bi translated">输入验证部分，在顶部上方。</li><li id="10b5" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk ne nf ng nh bi translated">加工部分，在下底部。</li></ul><p id="d2ce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我应该提到我们还跳过了4个花括号吗？(可能会更糟)。</p><p id="6261" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我相信你的代码要复杂得多，所以只要<strong class="jp ir">记住那些小技巧:</strong></p><ul class=""><li id="ada2" class="mz na iq jp b jq jr ju jv jy nb kc nc kg nd kk ne nf ng nh bi translated"><strong class="jp ir">尽量把你的输入验证部分放在函数的上半部分，</strong>这样你就不用在调试的时候向下滚动或者修改代码行了。</li><li id="19b6" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk ne nf ng nh bi translated">尝试重构你的代码，理解哪一个条件依赖于哪一个条件，哪一个条件仅仅是独立于其他条件。是这样吗？把它移到顶部。</li><li id="7088" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk ne nf ng nh bi translated"><strong class="jp ir">早期返回语句的要点是避免使用大的if-else块来处理错误和执行实际的算法。你的代码越干净，就越容易调试和维护。</strong></li></ul><p id="e897" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个很简单，让我们继续。</p></div><div class="ab cl li lj hu lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ij ik il im in"><h1 id="ce35" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">2.链式函数调用</h1><p id="4c6a" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">我同意，所有人都喜欢俏皮话。这次忘了它，试着把注意力集中在你同事的眼睛流血的程度上。</p><p id="0c96" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">这个技巧在函数式编程和设计模式构建器中都是有用的。</strong></p><p id="e7ea" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">只需将一行代码转换成每行的函数调用。</p><p id="b058" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以下是您应该避免的情况:</p><figure class="ms mt mu mv gt mw"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="f2ab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">根本不可读。</strong>请不要什么都用一句话。这很诱人，也很令人满足，但请努力吧。</p><p id="c96f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，更性感的版本。继续凝视这杰出的杰作。</p><figure class="ms mt mu mv gt mw"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="3d42" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这要愉快得多。为了清楚起见，我添加了一些注释，但这只是这种编码实践允许您做的一个例子。</p><p id="f8ec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">考虑一下每行使用一个函数调用的几个优点:</p><ul class=""><li id="d14f" class="mz na iq jp b jq jr ju jv jy nb kc nc kg nd kk ne nf ng nh bi translated"><strong class="jp ir">高可读性</strong></li><li id="332b" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk ne nf ng nh bi translated">如示例所示，<strong class="jp ir">您可以注释每一行，使您的代码更容易理解</strong></li><li id="e4b3" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk ne nf ng nh bi translated">你可以在头脑中记录下你的每一步，而不是费力地去读你的长篇大论。</li></ul><p id="3c2d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了确保您理解了，这里有一个来自Android开发人员的使用Builder模式的非常常见的例子。希望你会喜欢这个。</p><figure class="ms mt mu mv gt mw"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="66c9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">易于阅读和使用，更重要的是？</p></div><div class="ab cl li lj hu lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ij ik il im in"><h1 id="ee71" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">3.条件语句的多态性</h1><p id="47f6" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">毫无疑问，最常见的编码任务之一是检查对象属性，并根据该属性执行代码块。</p><p id="9da3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当处理不同对象的集合时，这种用例会变得非常痛苦。</p><p id="5972" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里有一个例子:</p><figure class="ms mt mu mv gt mw"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="254f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">条件语句，条件语句无处不在。当你继承的遗产数量增加时，这个清单会变得更长，更难阅读。</strong></p><p id="2440" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们看看如何通过重构和使用多态性来避免它。</p><figure class="ms mt mu mv gt mw"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="326f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">很优雅，不是吗？(浅见)</p><p id="5b94" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">目标是:</p><ul class=""><li id="f68e" class="mz na iq jp b jq jr ju jv jy nb kc nc kg nd kk ne nf ng nh bi translated"><strong class="jp ir">减少实例类型检查，就像你可以在Java中用</strong> <code class="fe nn no np nq b">instance of</code> <strong class="jp ir">找到的那样，这是一个需要避免的巨大陷阱。</strong>在这个例子中，我们用属性<code class="fe nn no np nq b">category</code>模拟了类型检查。</li><li id="6811" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk ne nf ng nh bi translated"><strong class="jp ir">将算法部分委托给类/子类的实例，</strong>以便调试和定位错误变得更快。</li><li id="bba8" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk ne nf ng nh bi translated">由于继承允许覆盖函数定义，<strong class="jp ir">你的代码也将更加模块化。</strong></li></ul><p id="26ce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这篇技巧要求你了解面向对象编程的基础，没那么难。</p></div><div class="ab cl li lj hu lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ij ik il im in"><h1 id="b7f8" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">4.命名事物</h1><p id="6543" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">这是一句非常著名的名言:</p><blockquote class="lb lc ld"><p id="3984" class="jn jo le jp b jq jr js jt ju jv jw jx lf jz ka kb lg kd ke kf lh kh ki kj kk ij bi translated"><em class="iq">计算机科学只有两个硬东西:缓存失效和事物命名</em>。菲尔·卡尔顿</p></blockquote><p id="fac5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">事实上，这是真的，但至少对于第二部分来说是多余的。</p><p id="cf41" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">根据你实际使用的方式，你给一个变量重新命名了多少次？</p><blockquote class="kl"><p id="e768" class="km kn iq bd ko kp kq kr ks kt ku kk dk translated">查找-替换诞生了</p></blockquote><p id="479f" class="pw-post-body-paragraph jn jo iq jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ij bi translated">以下是我想分享的一系列建议:</p><ul class=""><li id="21c1" class="mz na iq jp b jq jr ju jv jy nb kc nc kg nd kk ne nf ng nh bi translated"><strong class="jp ir">不要多此一举。</strong>(又名干，不重复)(其实不关心这个情况)</li></ul><p id="0e4c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">示例</strong></p><p id="172d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">多余的，要避免</p><figure class="ms mt mu mv gt mw"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="c3e6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">说真的，我们写了多少次<code class="fe nn no np nq b">article(s)</code>？</p><p id="5764" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，试试这个更干净的</p><figure class="ms mt mu mv gt mw"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="fd4e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">重点是，<strong class="jp ir">你已经从</strong> <code class="fe nn no np nq b">ArticlesDatabase</code> <strong class="jp ir">知道你在处理文章。因此，为什么你每次都重复这个词？有道理，对吧？</strong></p><blockquote class="lb lc ld"><p id="310b" class="jn jo le jp b jq jr js jt ju jv jw jx lf jz ka kb lg kd ke kf lh kh ki kj kk ij bi translated"><strong class="jp ir">旁注:</strong> <code class="fe nn no np nq b">getAll()</code>本可以只换成<code class="fe nn no np nq b">all()</code>，它更短，仍然可读。</p></blockquote></div><div class="ab cl li lj hu lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ij ik il im in"><ul class=""><li id="cc4b" class="mz na iq jp b jq jr ju jv jy nb kc nc kg nd kk ne nf ng nh bi translated"><strong class="jp ir">区分私人成员和其他变量</strong></li></ul><p id="7b96" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有两种众所周知的方法来实现这一点:</p><ul class=""><li id="ec5d" class="mz na iq jp b jq jr ju jv jy nb kc nc kg nd kk ne nf ng nh bi translated">在私有成员前添加关键字<code class="fe nn no np nq b">this</code>。</li><li id="8d5c" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk ne nf ng nh bi translated">在私有成员前面加上字母<code class="fe nn no np nq b">m</code>或<code class="fe nn no np nq b">m_</code>，这是<code class="fe nn no np nq b">member_</code>的简写。</li></ul><p id="f05b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个技巧非常有用，因为它允许您在代码中导航，同时知道哪个变量是临时使用的，哪个变量属于当前实例(又名<code class="fe nn no np nq b">this</code>)。</p><p id="190f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我个人建议遵循第二种模式，因为它只需要你用Java/C++写1或2个字符，而不是整个<code class="fe nn no np nq b">this.</code>或<code class="fe nn no np nq b">this-&gt;</code>。</p><blockquote class="lb lc ld"><p id="56ec" class="jn jo le jp b jq jr js jt ju jv jw jx lf jz ka kb lg kd ke kf lh kh ki kj kk ij bi translated">我认为这个不需要任何代码。嘿，它只是变量名称前的两个字符。</p></blockquote></div><div class="ab cl li lj hu lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ij ik il im in"><ul class=""><li id="1331" class="mz na iq jp b jq jr ju jv jy nb kc nc kg nd kk ne nf ng nh bi translated">使用让你感觉舒服的名字</li></ul><p id="dd84" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我解释一下。</p><p id="d845" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我相信你可以在项目中找到的最常见的类之一叫做 <code class="fe nn no np nq b">Utils</code>。这个类在同一时间什么都不做，什么都做。这里有一些时钟的东西，那里有一些数学，哦，等等，我忘了十六进制和RGB格式的颜色的语法糖。</p><blockquote class="lb lc ld"><p id="53f8" class="jn jo le jp b jq jr js jt ju jv jw jx lf jz ka kb lg kd ke kf lh kh ki kj kk ij bi translated"><strong class="jp ir">边注:</strong>有时候这个类会随着函数数量的增加而拆分成几个类。</p><p id="1041" class="jn jo le jp b jq jr js jt ju jv jw jx lf jz ka kb lg kd ke kf lh kh ki kj kk ij bi translated"><strong class="jp ir">重要提示:</strong>这个类通常被实现为<strong class="jp ir"> Singleton </strong>以使它可以在任何地方使用而没有任何开销。</p></blockquote><p id="6b2b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">没关系，为每个函数创建类是不值得的，而且<code class="fe nn no np nq b">utils</code>听起来很棒，而且是根据具体情况定制的。</p><blockquote class="kl"><p id="bee3" class="km kn iq bd ko kp kq kr ks kt ku kk dk translated"><strong class="ak">重点来了。</strong></p></blockquote><p id="b544" class="pw-post-body-paragraph jn jo iq jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ij bi translated">如果这个类在你编码的时候既有用又方便，为什么不把它叫做 <code class="fe nn no np nq b">Sugar</code> <strong class="jp ir">？甚至是</strong> <code class="fe nn no np nq b">Honey</code>？</p><p id="16fc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">实际上，它有时会让你发笑，你的代码会更有趣。你的读者将不再疑惑“啊，一遍又一遍，这个该死的类，所有的东西都在里面”。</p><p id="ffc4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">就我个人而言，我总是这样重新命名这个类，感觉很好，很干净。</p><blockquote class="lb lc ld"><p id="3ab4" class="jn jo le jp b jq jr js jt ju jv jw jx lf jz ka kb lg kd ke kf lh kh ki kj kk ij bi translated">我应该提到它也将避免与已经定义了一个<code class="fe nn no np nq b">Utils</code>类的语言和库的名称冲突吗？</p></blockquote></div><div class="ab cl li lj hu lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ij ik il im in"><p id="4043" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">最后，不要在命名事物上遮遮掩掩。努力向前，让它发挥作用，最终你会有足够的空闲时间来完成这项任务。</strong></p><blockquote class="lb lc ld"><p id="2f46" class="jn jo le jp b jq jr js jt ju jv jw jx lf jz ka kb lg kd ke kf lh kh ki kj kk ij bi translated">查找-替换是你的朋友</p></blockquote></div><div class="ab cl li lj hu lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ij ik il im in"><h1 id="7c00" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">5.使用命名回调而不是匿名回调</h1><p id="e4c0" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">这是关于Javascript开发人员的总体情况，但也适用于其他语言，如Java、Ruby、Kotlin等。</p><p id="a551" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">优势</strong></p><p id="23ba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于文字和匿名函数上的命名事物也是如此:</p><ul class=""><li id="1a35" class="mz na iq jp b jq jr ju jv jy nb kc nc kg nd kk ne nf ng nh bi translated"><strong class="jp ir">你知道你的回访是为了什么。</strong></li><li id="485f" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk ne nf ng nh bi translated">您的回调可以在任何地方重用。</li><li id="22c3" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk ne nf ng nh bi translated"><strong class="jp ir">命名回调函数的改变会改变调用它的所有函数的行为，</strong>而不是手工复制粘贴你的匿名回调代码，希望你什么都没忘记。</li></ul><blockquote class="lb lc ld"><p id="f834" class="jn jo le jp b jq jr js jt ju jv jw jx lf jz ka kb lg kd ke kf lh kh ki kj kk ij bi translated"><strong class="jp ir">须知:</strong>一个好的编码实践在于尽可能地减少嵌套回调函数的数量。如果你使用过AJAX，你就会明白我的意思。</p></blockquote><p id="766a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">事实上，一个很好的经验法则是这样的(依我拙见) :</p><p id="cd3d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">如果你要不止一次地使用一个字面函数或匿名函数，命名它并使它可重用。</strong></p><p id="59b5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它会让你的代码更有意义，并且它会让你免去疑惑<strong class="jp ir"/>“WTF，为什么我要把0.376传递给这个函数？这是要做什么？”</p></div><div class="ab cl li lj hu lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ij ik il im in"><h1 id="b52d" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">6.使用数据库时使用请求持有人</h1><p id="ae16" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">这个是我喜欢的一个编码练习。我不确定你会在网上找到它，或者它在任何方面都是好的。然而，我真的相信这是一个好主意，至少可以分享和讨论(请随时发短信告诉我你的想法)。</p><p id="59b1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">一个例子胜过千言万语。</strong></p><blockquote class="lb lc ld"><p id="a01e" class="jn jo le jp b jq jr js jt ju jv jw jx lf jz ka kb lg kd ke kf lh kh ki kj kk ij bi translated">这次在PHP中，Javascript根本不是为数据库操作而设计的，你不应该对此感到惊讶。</p></blockquote><h2 id="81db" class="nr lq iq bd lr ns nt dn lv nu nv dp lz jy nw nx md kc ny nz mh kg oa ob ml oc bi translated">例子</h2><p id="9c00" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">古老的好方法</p><figure class="ms mt mu mv gt mw"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="9440" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">假设这些调用是在项目中不同文件的不同位置进行的。</strong>有了所有的依赖项、外键等等，<strong class="jp ir">你浪费了很多时间</strong>想知道“我把这个SQL请求放在哪里了？”。</p><p id="9e8e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当客户在交付3个月后要求更改时，回到这个问题，仍然想知道“嗯，这个包含嵌套的GROUP BY和WHERE子句的13行查询是什么？”。</p><p id="6fc9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这就是我对这个周期性任务的解决方案</p><figure class="ms mt mu mv gt mw"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="b4ae" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">再次强调，这是关于命名事物和有效地组织代码。</p><p id="8b0d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">优点</strong></p><ul class=""><li id="b25a" class="mz na iq jp b jq jr ju jv jy nb kc nc kg nd kk ne nf ng nh bi translated">所有的请求都在一个地方，并且有一个名字，可以帮助你理解每个请求的意图。评论也有帮助。</li><li id="1ff6" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk ne nf ng nh bi translated">使用一个<strong class="jp ir">单例</strong>或者仅仅是一个保存<strong class="jp ir">常量</strong>的类很容易集成到你代码的任何地方。</li><li id="1f6d" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk ne nf ng nh bi translated"><strong class="jp ir">请求可以重用。</strong></li><li id="e1e7" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk ne nf ng nh bi translated"><strong class="jp ir">如果你想让它更有条理，你可以把一个</strong> <code class="fe nn no np nq b">RequestHolder</code> <strong class="jp ir">拆分成一个</strong> <code class="fe nn no np nq b">UserRequestHolder</code> <strong class="jp ir">和其他请求持有者。</strong>一边走一边感受。</li></ul></div><div class="ab cl li lj hu lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ij ik il im in"><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="oe of di og bf oh"><div class="gh gi od"><img src="../Images/193d481d4df16a7a372a559f56109fcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*njTBGJpuOIqvCpom."/></div></div><figcaption class="ok ol gj gh gi om on bd b be z dk translated">下午茶时间|照片由<a class="ae la" href="https://unsplash.com/@morgansessions?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">摩根塞申斯</a>在<a class="ae la" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="2352" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，我想分享一些关于写代码的个人想法:</p><ul class=""><li id="7e20" class="mz na iq jp b jq jr ju jv jy nb kc nc kg nd kk ne nf ng nh bi translated">几乎总有更好的方法来解决你的问题。</li><li id="4687" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk ne nf ng nh bi translated">为非常基本的任务(比如加法)编写企业就绪代码是没有意义的。</li><li id="51b7" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk ne nf ng nh bi translated">关于这个话题有无价的资源，你可以通过搜索:<code class="fe nn no np nq b">&lt;language&gt; good coding practices</code>或者<code class="fe nn no np nq b">&lt;language&gt; style guide</code>找到。例如，AirBnb 制作了这样的风格指南:<a class="ae la" href="https://github.com/airbnb/javascript" rel="noopener ugc nofollow" target="_blank">https://github.com/airbnb/javascript</a></li><li id="7b1b" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk ne nf ng nh bi translated">每种编码实践都可能有优点和缺点，就像所有事情一样。并不总是有一种简洁明了的方式来编写所谓优雅的代码。</li><li id="fb0a" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk ne nf ng nh bi translated">一段代码在一种语言中可能很美，在另一种语言中可能很丑。卢布主义者知道这一点。</li></ul><p id="bcb6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你喜欢写漂亮的杰作，你应该试试Ruby。它的创建者声称这是一种程序员应该喜欢用它来写代码的语言。</p><blockquote class="kl"><p id="cec3" class="km kn iq bd ko kp kq kr ks kt ku kk dk translated">产生有意义的代码。</p></blockquote></div><div class="ab cl li lj hu lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ij ik il im in"><h1 id="94f7" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">作者说明</h1><p id="f741" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">这些建议可能看起来很酷也很有用，你应该在努力和价值之间找到平衡。如果你认为使用这些技巧毫无意义，那就跳过它。目标是提高您的编码满意度，增强您的编码风格，毫不费力地达到相同的结果。</p><p id="b7bb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我认为这篇文章与过度工程没多大关系，但你还是应该停止这种邪恶的做法。</p><p id="e600" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">几乎所有东西都可以被高度过度工程化<em class="le">(一个简单加法函数的10行注释</em>)。</p><p id="4c70" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">把这些小贴士当作一个好的提示包，放在你的编码包里。</p></div><div class="ab cl li lj hu lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ij ik il im in"><h1 id="69f2" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">感谢阅读</h1><p id="3291" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">我希望你喜欢这篇文章。</p><p id="839a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">不要犹豫，看看我最近写的一篇:<a class="ae la" rel="noopener ugc nofollow" target="_blank" href="/programming-tips-1-6-tips-i-wish-i-knew-earlier-when-i-started-to-code-504052dd88cf">编程技巧#1 : 6我希望在我开始编码的时候早点知道</a></p><p id="67ed" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请随时联系我，☕️</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="oe of di og bf oh"><div class="gh gi oo"><img src="../Images/dfa719dc90f6808c9bbcea7245e16f28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oVXzguRS-0kVfNYq."/></div></div><figcaption class="ok ol gj gh gi om on bd b be z dk translated"><a class="ae la" href="https://unsplash.com/@takeshi2?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">吴怡</a>在<a class="ae la" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的《白色马克杯里的卡布奇诺，白色泡沫艺术在木桌上》</figcaption></figure></div></div>    
</body>
</html>