<html>
<head>
<title>Beginning State, Inherited Widgets</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">开始状态，继承的小部件</h1>
<blockquote>原文：<a href="https://itnext.io/beginning-state-inherited-widgets-d4dab36211e6?source=collection_archive---------3-----------------------#2021-07-22">https://itnext.io/beginning-state-inherited-widgets-d4dab36211e6?source=collection_archive---------3-----------------------#2021-07-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/a33427d6ac701272fcaee34c35077d7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mqu8qG_Zy3gUreHRLO0_zA.jpeg"/></div></div></figure><p id="4de5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">超过一半的Flutter状态管理解决方案是基于继承的小部件的。让我展示继承的小部件状态管理解决方案的基础。</p><h1 id="5191" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated"><strong class="ak">背景</strong></h1><p id="655d" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated"><strong class="kd iu">问题是，你对旋舞没有那样新的了解。背景来自于Flutter团队从州内和架构开始的工作，以及他们随后发展到州内和架构的工作。因此，我正在构建我的状态和架构示例来阐明这种背景。作为一名前android原生java和原生kotlin开发人员，我知道我必须向您展示这一背景。</strong></p><p id="2133" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我用不同的方式展示事物。ddi flutter repo中完善的东西有一个完整的样板库，包括测试、应用程序异常捕获、日志记录、完整的基本开发操作以获得代码质量反馈，以及flutter平台小部件插件的基本应用，实现完整的跨平台Flutter应用程序的方法。回购位于:</p><p id="bf2f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae mc" href="https://github.com/fredgrott/ddi_flutter" rel="noopener ugc nofollow" target="_blank">https://github.com/fredgrott/ddi_flutter</a></p><p id="f288" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果你按照我给你展示的全部内容去做，你将会掌握颤振和飞镖。而且，混合在其中的是一种先进的方法，以先进的跨平台方式来做Flutter UIs。</p><p id="c6a3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这个例子在</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="49df" class="mm la it mi b gy mn mo l mp mq"><strong class="mi iu">arc=&gt;state=&gt;small-app</strong></span></pre><p id="09df" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">子文件夹。</p><h1 id="87a2" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated"><strong class="ak">启动用例</strong></h1><p id="1b0f" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated"><strong class="kd iu">我将通过重复使用基本的颤振计数器应用程序来展示这一点。用例，域实体，是这个接口:</strong></p><figure class="md me mf mg gt ju"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="6c3f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">您可以使用Mixin或抽象类，因为这两个构造在Dart和Flutter中都是接口。此外，我们利用这一点来确保在大型Flutter应用程序项目中，应用程序团队和测试团队在理解应用程序的行为时保持一致。</strong></p><p id="11fe" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这些接口通过确保测试团队在他们的模拟中对应用组件的行为实现相同的属性和方法来做到这一点，以便他们测试应用的实际行为。</p><p id="27be" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在我们有了实体的用例，我们可以实现模型了。</p><h1 id="a053" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated"><strong class="ak">型号</strong></h1><p id="7c72" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated"><strong class="kd iu">计数器型号为:</strong></p><figure class="md me mf mg gt ju"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="ee89" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">我在这方面的创新是使用我的单例记录器来记录计数器模型的变化。当然，我们可以通过使用OOP命令模式来进一步形式化，然后将日志记录作为命令流过应用程序的一部分来实现。</strong></p><p id="55cb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">所有小部件依赖注入方案都使用provider这个词。提供商只是意味着我们提供的视图模型将被注入到应用程序屏幕的窗口小部件树中。现在让我向您展示柜台提供商。</p><h1 id="8c89" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated"><strong class="ak">柜台提供商</strong></h1><p id="d166" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">这是一个基本计数器提供程序:</p><figure class="md me mf mg gt ju"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="e24d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我扩展了继承的小部件，然后必须覆盖updateShouldNotify来设置它返回旧的小部件。现在，这是一个简单的小部件DI，没有提供商的花哨东西。这意味着它不会被复制到应用程序的所有屏幕上，就像我们对提供商所做的那样。</p><p id="98a9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在，让我向你展示它是如何被注射的。</p><h1 id="2191" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated"><strong class="ak">注射它</strong></h1><p id="362e" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated"><strong class="kd iu">我是这样注射的:</strong></p><figure class="md me mf mg gt ju"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="b8e7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这就是它如何被插入myapp的。现在让我在主页上展示一下我们是如何抓取的。</p><h1 id="d642" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated"><strong class="ak">我的主页</strong></h1><p id="7005" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">这是我的主页状态:</p><figure class="md me mf mg gt ju"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="e933" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">基本上，这只是建立对提供者的引用，然后在正确的位置调用myCounter increment方法。注意到处添加的小部件键。这将在测试方面派上用场。</strong></p><h1 id="360a" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated"><strong class="ak">测试</strong></h1><p id="8071" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated"><strong class="kd iu">下面是我如何使用mocktail来模拟测试计数器:</strong></p><figure class="md me mf mg gt ju"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="816c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">我们从未测试过具体的实现！您通过mock获取用户案例的接口，然后实现属性和方法来匹配模型行为。然后，您存根模拟并验证交互，然后验证视图模型与UI和应用程序用户的交互。</strong></p><p id="9494" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">测试样板是标准的小部件测试设置，包括goldens以及使用mocktail而不是mockito，因为与mock tail相比，使用具有空安全性的mockito是一种痛苦。</p><h1 id="6461" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated"><strong class="ak">结论</strong></h1><p id="1f73" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">这是使用继承的小部件将视图模型依赖注入小部件的基础。</p><h1 id="57bc" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated"><strong class="ak">关于我，弗雷德·格罗特</strong></h1><p id="6c58" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">我是一个改过自新的Android、Java、Kotlin和前端开发人员。我是一个改过自新的多动症患者，编码和设计牛仔。</p><p id="06bd" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我贡献的Flutter插件有:</p><p id="df34" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">颤振平台部件</p><p id="1e7c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae mc" href="https://pub.dev/packages/flutter_platform_widgets" rel="noopener ugc nofollow" target="_blank">https://pub.dev/packages/flutter_platform_widgets</a></p><p id="daf9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">捕手</p><p id="b6d3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae mc" href="https://pub.dev/packages/catcher" rel="noopener ugc nofollow" target="_blank">https://pub.dev/packages/catcher</a></p><p id="2ef4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">一些有用的指南是:</p><p id="b322" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">选择颤振状态管理解决方案<a class="ae mc" href="https://medium.com/p/choosing-a-flutter-state-management-solution-cccf1b2acf10" rel="noopener">https://medium . com/p/choosing-A-Flutter-State-Management-Solution-cccf 1 B2 AC F10</a></p><p id="a02e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我如何学会信任我的多动症</p><p id="04cb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae mc" href="https://medium.com/p/how-i-learned-to-trust-my-adhd-dbf4f80518cc" rel="noopener">https://medium . com/p/how-I-learn-to-trust-my-ADHD-DBF 4f 80518 cc</a></p><p id="3874" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">颤振完美设置</p><p id="c18f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae mc" href="https://medium.com/codex/flutter-perfect-setup-c5462b412f78" rel="noopener">https://medium.com/codex/flutter-perfect-setup-c5462b412f78</a></p><p id="e041" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">颤振专家IDE设置</p><p id="0bdf" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae mc" href="https://medium.com/geekculture/flutter-expert-ide-set-up-25791ce690c" rel="noopener">https://medium . com/geek culture/flutter-expert-ide-set-up-25791 ce 690 c</a></p><p id="2815" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">全局Dart文件是反模式</p><p id="3231" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae mc" href="https://medium.com/p/globals-dart-file-is-an-antipattern-92975320e30c" rel="noopener">https://medium . com/p/globals-dart-file-is-an-anti pattern-92975320 e30c</a></p><p id="b488" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在Flutter中的函数式编程，用沙箱保护你的函数</p><p id="6cd0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae mc" href="https://medium.com/p/functional-programming-in-flutter-sandbox-your-functions-ee679d3db7d5" rel="noopener">https://medium . com/p/functional-programming-in-flutter-sandbox-your-functions-ee 679d 3 db 7d 5</a></p><p id="dc35" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">颤振应用的专家捕捉器设置</p><p id="0a37" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae mc" href="https://medium.com/p/expert-catcher-setup-for-flutter-apps-a9ee3a6a9e08" rel="noopener">https://medium . com/p/expert-catcher-setup-for-flutter-apps-a9ee 3a 6a 9 e 08</a></p><p id="99b0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我是在大学期间开始写Flutter Dev系列丛书的疯子。不仅如此，我还通过中等文章写作有机地创建了我的Flutter开发者书籍章节。</p><p id="4d3a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">更正式的“即将出版”代码位于:</p><p id="a019" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae mc" href="https://github.com/fredgrott/ddi_flutter" rel="noopener ugc nofollow" target="_blank">https://github.com/fredgrott/ddi_flutter</a></p><p id="706e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我的写作方法有些不同。一起掌握旋舞和飞镖的唯一方法就是做不舒服的工作。也就是说，每周我都要掌握新的日常事物，拓展我的思维模式工具集。</p><p id="165b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">了解状态管理意味着我必须用完全裸的基准来构建状态管理演示，然后用所有样板文件来构建它们，包括Flutter平台小部件和完整测试。</p><p id="63c7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">对于UI本身，这意味着为顶级应用程序中的col屏幕布局案例建立一个完整的UI解决方案目录。这意味着为模型工具生成图形化的分层屏幕。</p><p id="9b6c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在CS-wise级别上，这意味着成为reactive方面的专家，包括高级库。这与状态管理相互交叉，因为特定的反应方法在语句管理中起作用。</p><p id="29fe" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果你和我一起建造我所说的东西，在建造完所有这些东西之后，你将会是一个颤振专家。</p></div></div>    
</body>
</html>