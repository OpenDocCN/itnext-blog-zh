<html>
<head>
<title>Flutter + Localisation + Google Sheets API + Python =&gt; Internalisation paradise</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Flutter +本地化+ Google Sheets API + Python = &gt;内部化天堂</h1>
<blockquote>原文：<a href="https://itnext.io/flutter-localisation-google-sheets-api-python-internalisation-paradise-8439cab57866?source=collection_archive---------2-----------------------#2020-02-14">https://itnext.io/flutter-localisation-google-sheets-api-python-internalisation-paradise-8439cab57866?source=collection_archive---------2-----------------------#2020-02-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/cf76af322105d44dd151a511f86422dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*srG_CnBMrBxuR-GfR4H3dQ.png"/></div></div></figure><h2 id="b2f9" class="jy jz iq bd ka kb kc dn kd ke kf dp kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">介绍</h2><p id="0fe6" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">正如你所知道的，本地市场的本地化应用程序提供了非常好的用户体验。我们需要记住的是，当脸书将他们的应用程序本地化到其他市场时，他们的吸引力就已经达到了顶点。</p><p id="62c5" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">目前，我正在启动另一家创业公司。这次我不是一个人。我与我才华横溢的联合创始人并肩工作，由于我们的产品面向许多不同的市场，我们需要一种方法在应用程序中实现本地化。</p><p id="6f3c" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">我们是一家初创公司，成本对我们来说非常重要。我决定更深入地挖掘——我如何能想出一些简单的本地化方法和简单的可伸缩性。最重要的是，简单的协作，任何人都可以在任何时候查看和更新语言。</p><p id="4438" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">当前的方法允许我们非常容易地更新/添加/删除翻译。这种方法非常有效，因为我们坚持了几个星期，我们对此非常满意。</p><figure class="lu lv lw lx gt jr"><div class="bz fp l di"><div class="ly lz l"/></div></figure><h2 id="4154" class="jy jz iq bd ka kb kc dn kd ke kf dp kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">TLDR；最终结果</h2><p id="023d" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">所有你需要做的是运行脚本和语言自动本地化，并在你的Flutter文件夹中替换。</p><p id="47ae" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated"><strong class="kw ir">谷歌工作表</strong></p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ma"><img src="../Images/c0ebb8840914fc3ed011c435d1d96381.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hfO2d9GhRTaMcMA7PnCQ2g.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">Google Sheets中的翻译</figcaption></figure><p id="a3ad" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated"><strong class="kw ir">运行脚本</strong></p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mf"><img src="../Images/7db1cf77e8f0279b9d23c8781162ad9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FGQD2udlw4wWq9Oe7adQIg.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">语言生成</figcaption></figure><p id="0b69" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated"><strong class="kw ir">输出文件自动覆盖颤振文件夹。</strong></p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mg"><img src="../Images/55388adec01952a4eb63e8a352c87153.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2Cv5sh9cnD7l4vcNIwRLzw.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">Flutter中自动生成的文件</figcaption></figure><p id="4201" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated"><strong class="kw ir">手机演示</strong></p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/9fa7c0b10fb097a5d3c68357cfaeb137.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*gZGcLHO7ufG1-mH8TEyHOw.gif"/></div></figure><h2 id="99af" class="jy jz iq bd ka kb kc dn kd ke kf dp kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">回购</h2><p id="1e55" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">flutter—<a class="ae mi" href="https://bitbucket.org/deimantasa/tutorial-translations-mobile/src" rel="noopener ugc nofollow" target="_blank">https://bit bucket . org/deimantasa/tutorial-translations-mobile/src</a></p><p id="dab1" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">翻译脚本—<a class="ae mi" href="https://bitbucket.org/deimantasa/tutorial-translations-api/src" rel="noopener ugc nofollow" target="_blank">https://bit bucket . org/deimantasa/tutorial-translations-API/src</a></p><figure class="lu lv lw lx gt jr"><div class="bz fp l di"><div class="mj lz l"/></div></figure></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="c59a" class="mr jz iq bd ka ms mt mu kd mv mw mx kg my mz na kk nb nc nd ko ne nf ng ks nh bi translated">摆动</h1><p id="e9f5" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">对于本地化，我使用的是<a class="ae mi" href="https://pub.dev/packages/easy_localization" rel="noopener ugc nofollow" target="_blank"> easy_localization </a>(目前是2.1.0+2)。</p><h2 id="64b1" class="jy jz iq bd ka kb kc dn kd ke kf dp kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">项目结构</h2><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/cb3f21dd19e2c9b103cf862bbf0ee8f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1352/format:webp/1*wrfk0Imbsu1TXG5eDSsjZw.png"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">项目结构</figcaption></figure><p id="d1f5" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">我们的结构非常简单。<strong class="kw ir"> main.dart </strong> main我们的启动文件，该文件将执行并打开<strong class="kw ir"> home_page.dart </strong>。你必须添加新的目录<strong class="kw ir">资产/语言</strong>并放入你喜欢的语言。这条路非常重要。</p><p id="ecd0" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">为了让Flutter访问它的文件，在<strong class="kw ir"> pubspec.yaml </strong>中，你需要添加这个文件。</p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nj"><img src="../Images/0bc0e0922a8da998c5a966a8674906d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JjRXJBDLby_0HtRa0jqsXg.png"/></div></div></figure><p id="12ee" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">你所做的就是告诉Flutter可以从这个特定的路径访问文件。</p><h2 id="6b1c" class="jy jz iq bd ka kb kc dn kd ke kf dp kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">本土化</h2><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nk"><img src="../Images/ef9bfcd700ab9c1a35cd256f9dbd6d21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ac9U8fNzxYZiO78ybeCTxg.png"/></div></div></figure><p id="f316" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">首先，我们需要用<strong class="kw ir"> EasyLocalization </strong>包装<strong class="kw ir"> MyApp </strong>(第17行)。它带有几个我们需要提供的参数。这是一个支持语言的列表(第11行)和一个路径，在那里我们保存我们的语言资产(第16行)。<strong class="kw ir">路径</strong>应该和我们之前在<strong class="kw ir"> pubspec.yaml </strong>中提供的一样。</p><p id="5410" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">再往前走，我们遇到MaterialApp(第31行)。我们必须提供<strong class="kw ir"> localizationDelegates </strong>(第33行)<strong class="kw ir"> supportedLocales </strong>(第38行)<strong class="kw ir"> </strong>和<strong class="kw ir"> locale </strong>(第39行)。做完所有这些后，我们准备好了！算是吧。</p><figure class="lu lv lw lx gt jr"><div class="bz fp l di"><div class="nl lz l"/></div></figure><p id="b76c" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated"><strong class="kw ir">语言助手</strong></p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nm"><img src="../Images/5b3522f86699846470de6cd989088f99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L0i89Jv5Pte9LJNQXCRdng.png"/></div></div></figure><p id="f292" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">正如你在main.dart文件中注意到的，我有一些对<strong class="kw ir"> LanguageHelper </strong>的引用。这里我只保留了各种帮助器方法和支持的语言。我喜欢把东西保持整洁，放在一个地方。</p><figure class="lu lv lw lx gt jr"><div class="bz fp l di"><div class="ly lz l"/></div></figure><p id="4455" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated"><strong class="kw ir">首页</strong></p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nn"><img src="../Images/08b77bac04c6523333ff080e07dd170d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zGsrl300oDErafYCFOrnHQ.png"/></div></div></figure><p id="9727" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">带有文本和按钮的非常简单的页面。这里您会注意到，在<strong class="kw ir">文本</strong>小部件中，我使用了来自我的JSON的<strong class="kw ir">键-值</strong>对，它调用了<strong class="kw ir"> tr() </strong>方法。这就是奇迹发生的地方。根据所选择的语言环境，将读取适当的语言文件(json ),然后从key(<strong class="kw ir">home page . appbartitle</strong>)中获取指定的字符串。</p><p id="4ec5" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">为了选择语言，我们只显示对话框。</p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi no"><img src="../Images/9d3aa9289b57867ca7b45e8c84860608.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4fvzT1GahSCzOGOobn-jDg.png"/></div></div></figure><p id="778b" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">要更改语言，我们只需为EasyLocalizations提供程序(<strong class="kw ir">easy localization . of(context))分配新的语言环境。locale = newLocale</strong> ) <strong class="kw ir"> </strong>。然后，来自<strong class="kw ir"> EasyLocalization </strong>的整个提供者树被触发并重建，给我们的新文本带来变化。非常简单的概念。</p><figure class="lu lv lw lx gt jr"><div class="bz fp l di"><div class="np lz l"/></div></figure><h1 id="90f0" class="mr jz iq bd ka ms nq mu kd mv nr mx kg my ns na kk nb nt nd ko ne nu ng ks nh bi translated"><strong class="ak">脚本</strong></h1><p id="1a1e" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">现在有趣的部分——我们的python自动化脚本。一旦你打开<strong class="kw ir"> generate_translations </strong>文件，你将需要改变几个变量。</p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nv"><img src="../Images/2489501dc5252efd72fa7da3732c69c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r_jZvUFMCDrA1T0ULDTsHw.png"/></div></div></figure><ol class=""><li id="7823" class="nw nx iq kw b kx lp lb lq kh ny kl nz kp oa lo ob oc od oe bi translated">Flutter项目路径— path，你的语言文件(jsons)本地存储在哪里；</li><li id="18b7" class="nw nx iq kw b kx of lb og kh oh kl oi kp oj lo ob oc od oe bi translated">Credentials json文件路径—本地路径，credentials.json所在的位置(这不需要更改，因为它位于同一个文件夹中)；</li><li id="48d3" class="nw nx iq kw b kx of lb og kh oh kl oi kp oj lo ob oc od oe bi translated">翻译工作表名称—您将使用的google工作表的名称。</li></ol><p id="6258" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">我不会深入脚本本身，我希望它足够自我解释。</p><p id="a949" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">关键功能是用提供的语言生成json文件。</p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ok"><img src="../Images/4668e1e5eee40d1697e8009ead4fcb3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ox1CocQ0-xAKc_m3SHKlwQ.png"/></div></div></figure><p id="f26e" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">我们基于列(在Google Sheets中)<strong class="kw ir">页</strong>、<strong class="kw ir">键</strong>和<strong class="kw ir">提供的语言</strong>生成语言json文件。我将在下一节对此进行更多的讨论。</p><h1 id="fbe1" class="mr jz iq bd ka ms nq mu kd mv nr mx kg my ns na kk nb nt nd ko ne nu ng ks nh bi translated"><strong class="ak">获取谷歌凭证</strong></h1><p id="d9ea" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">为了填充credentials.json，我们需要执行几个步骤，包括:</p><ol class=""><li id="2a2b" class="nw nx iq kw b kx lp lb lq kh ny kl nz kp oa lo ob oc od oe bi translated">在谷歌云中创建项目；</li><li id="9126" class="nw nx iq kw b kx of lb og kh oh kl oi kp oj lo ob oc od oe bi translated">启用Google Sheets和Google Drive APIs</li><li id="9c42" class="nw nx iq kw b kx of lb og kh oh kl oi kp oj lo ob oc od oe bi translated">在Google Sheets凭证中创建服务帐户。</li></ol><p id="fd2d" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">首先我们去<a class="ae mi" href="https://console.cloud.google.com/" rel="noopener ugc nofollow" target="_blank">https://console.cloud.google.com/</a>，点击<strong class="kw ir">新项目</strong>。</p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ol"><img src="../Images/b7c8ea12817cd9294d66dd2b21b01596.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zixKBvwx-AKv1ndTbhyaGg.png"/></div></div></figure><p id="5808" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">然后输入项目名称，点击<strong class="kw ir">创建</strong>。</p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi om"><img src="../Images/3dac03a15c9c98631bbe6157b944a21f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j_AqVHkUc87El1x5o8sNCw.png"/></div></div></figure><p id="46c7" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">一旦我们创建了我们的项目，在我们的仪表板中，我们导航到我们的API部分并点击<strong class="kw ir">转到API概述</strong>。</p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi on"><img src="../Images/b561fa7f04419d4708f5ca992abb112f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B-jJZvHhp7oCAj86d6LHYQ.png"/></div></div></figure><p id="335c" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">一旦到了那里，我们需要启用驱动和工作表API。让我们点击<strong class="kw ir">启用API和服务</strong></p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oo"><img src="../Images/ba853fd6e5a0c48cd31c969da2850964.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_py4VF4AD734yyJOoQ586g.png"/></div></div></figure><p id="45d3" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">在这里，我们搜索工作表和驱动API并启用它们</p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi op"><img src="../Images/8289322b468b238999bb938b6cc8b921.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q4qmRNJWC_XTvz80BLtdjQ.png"/></div></div></figure><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oq"><img src="../Images/90a3a4e70c0d36df4c3ff8cf3a58c648.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Clvm5QDv0NYJeXu99Q8SZQ.png"/></div></div></figure><p id="5d34" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">一旦启用了表和驱动器API，我们就导航到表API凭证部分。</p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi or"><img src="../Images/401da5ccc622e549c25132d8db30957a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tytj9MfHQvXgBvSnDuU5DQ.png"/></div></div></figure><p id="8db6" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">我们需要创建新的服务帐户。</p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi os"><img src="../Images/41a7800f2c8460e099749fe94df7a4aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1rOFDdZsPzvpI6s9o45uQQ.png"/></div></div></figure><p id="99d0" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">输入姓名后，继续并创建服务帐户。</p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ot"><img src="../Images/6eee6fc421f41c7bdd29e51e122c53a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HCbw7NhVoL27U8yOGwKfug.png"/></div></div></figure><p id="18d0" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">创建完成后，单击它，用您的凭证创建新的JSON文件。</p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/139d12096c3b79162b9b78e0d177dd75.png" data-original-src="https://miro.medium.com/v2/resize:fit:588/format:webp/1*GHHmT3ePat-qeiS8gazYgQ.png"/></div></figure><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ov"><img src="../Images/ed9bf1a5c30f392fcb53b9a19fb46400.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wjl7N_obF9lvZRu-ZTrEIA.png"/></div></div></figure><p id="72b4" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">创建后，你会收到json文件。将其内容粘贴到python根目录下的<strong class="kw ir"> credentials.json </strong>文件中。</p><p id="6fa5" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">就这样，现在我们有了服务客户。</p><figure class="lu lv lw lx gt jr"><div class="bz fp l di"><div class="ow lz l"/></div></figure><h1 id="ce03" class="mr jz iq bd ka ms nq mu kd mv nr mx kg my ns na kk nb nt nd ko ne nu ng ks nh bi translated">谷歌工作表</h1><p id="edb6" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">最后一步是创建谷歌表。只需转到<a class="ae mi" href="http://sheets.google.com/" rel="noopener ugc nofollow" target="_blank">http://sheets.google.com/</a>并创建一个工作表。它的名称非常重要，因为它必须在<strong class="kw ir">TRANSLATIONS _ SHEET _ NAME</strong>变量中被引用。<br/>板材结构如下:</p><p id="ce27" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">页面，按键，<your languages=""/></p><p id="4e4c" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">正如您从脚本中注意到的，这些字符串区分大小写。最终版本:</p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ox"><img src="../Images/e077539fdb7a39f6e89e7bea2c003a88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C6QIO2QxAdu2TiK7YK6eUw.png"/></div></div></figure><p id="d8f2" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">现在，您可以邀请服务帐户用户。点击<strong class="kw ir">分享</strong></p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oy"><img src="../Images/bfce678e51cb3a80d93826add8334033.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gGI7NB3i33egXM6_trsewg.png"/></div></div></figure><p id="d9ac" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">用<strong class="kw ir"> client_email </strong>键粘贴你从下载的凭证中找到的地址。</p><p id="1583" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">之后，你的服务帐户将能够访问谷歌表。</p><p id="813a" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">我们结束了。</p><h1 id="8d86" class="mr jz iq bd ka ms nq mu kd mv nr mx kg my ns na kk nb nt nd ko ne nu ng ks nh bi translated">运行脚本</h1><p id="cecd" class="pw-post-body-paragraph ku kv iq kw b kx ky kz la lb lc ld le kh lf lg lh kl li lj lk kp ll lm ln lo ij bi translated">现在剩下的就是运行脚本了。只需转到python目录的根目录并编写<strong class="kw ir">python 3 generate _ translations . py</strong>几秒钟后脚本就会完成，你会看到生成了哪些语言。</p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><p id="7da8" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">仅此而已。您拥有完全可伸缩的自动化脚本。<br/>可以进行以下改进:</p><ol class=""><li id="b8ea" class="nw nx iq kw b kx lp lb lq kh ny kl nz kp oa lo ob oc od oe bi translated">在云中作为服务制作的脚本；</li><li id="5204" class="nw nx iq kw b kx of lb og kh oh kl oi kp oj lo ob oc od oe bi translated">生成语言json文件后，会自动上传到一些云存储中；</li><li id="597f" class="nw nx iq kw b kx of lb og kh oh kl oi kp oj lo ob oc od oe bi translated">一旦建立在Flutter之上，它就会触发语言服务。如果有一些更新，语言服务会生成新的语言，它们会在Flutter中自动下载和替换。</li></ol><p id="f4cc" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">那将是完全自动化。但是，就目前而言，我对目前的方法很满意。也许一旦我有更多的时间，我会继续进一步完善剧本。</p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><p id="d963" class="pw-post-body-paragraph ku kv iq kw b kx lp kz la lb lq ld le kh lr lg lh kl ls lj lk kp lt lm ln lo ij bi translated">希望你能从这篇文章中学到一些新的东西，它能帮助和激励你做一些很酷的东西！有一个光明的一周！</p><figure class="lu lv lw lx gt jr"><div class="bz fp l di"><div class="mj lz l"/></div></figure></div></div>    
</body>
</html>