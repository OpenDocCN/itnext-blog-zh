<html>
<head>
<title>Automated UI Testing with Selenium and JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Selenium和JavaScript进行自动化UI测试</h1>
<blockquote>原文：<a href="https://itnext.io/automated-ui-testing-with-selenium-and-javascript-90bbe7ca13a3?source=collection_archive---------0-----------------------#2018-10-16">https://itnext.io/automated-ui-testing-with-selenium-and-javascript-90bbe7ca13a3?source=collection_archive---------0-----------------------#2018-10-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/e29ff17d68fb9cab870a659a3ad0076b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*6VHB226WKDCPzeZcfl6UAg.jpeg"/></div></figure><p id="a6b0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">并不是所有的事情都可以用自动化来完成，但是如果你能自动化那些重复无聊的任务或者测试，那就太好了。</p><p id="e37e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><a class="ae ks" href="https://www.seleniumhq.org/" rel="noopener ugc nofollow" target="_blank"> Selenium </a>非常棒，它可以与许多不同的语言集成，今天我将向您展示如何用JavaScript实现它。这是一个正在进行的项目，我计划在未来更新更多的例子或测试用例，所以请随时提出问题，并在项目上创建票证。</p><div class="kt ku gp gr kv kw"><a href="https://github.com/dalenguyen/selenium-javascript" rel="noopener  ugc nofollow" target="_blank"><div class="kx ab fo"><div class="ky ab kz cl cj la"><h2 class="bd ir gy z fp lb fr fs lc fu fw ip bi translated">dalenguyen/selenium-javascript</h2><div class="ld l"><h3 class="bd b gy z fp lb fr fs lc fu fw dk translated">用Selenium和JavaScript进行自动化UI测试</h3></div><div class="le l"><p class="bd b dl z fp lb fr fs lc fu fw dk translated">github.com</p></div></div><div class="lf l"><div class="lg l lh li lj lf lk js kw"/></div></div></a></div><ol class=""><li id="fc8e" class="ll lm iq jw b jx jy kb kc kf ln kj lo kn lp kr lq lr ls lt bi translated"><strong class="jw ir">安装</strong></li></ol><p id="9fd0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">你需要在你的机器上安装<a class="ae ks" href="https://yarnpkg.com/en/" rel="noopener ugc nofollow" target="_blank">纱线</a>或<a class="ae ks" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank">节点</a>。在这个项目中，我将使用Yarn来安装软件包和运行脚本。</p><p id="4f81" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">首先，我们需要开始一个项目</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="6ea0" class="md me iq lz b gy mf mg l mh mi">yarn init <br/>OR<br/>npm init</span></pre><p id="6730" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">然后安装依赖项</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="945b" class="md me iq lz b gy mf mg l mh mi">yarn add chromedriver selenium-webdriver</span><span id="c7ef" class="md me iq lz b gy mj mg l mh mi">yarn add mocha -D</span></pre><p id="ad37" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">2.<strong class="jw ir">入门</strong></p><p id="a4dd" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在那之后，我们可以开始编写我们的测试用例</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="84f5" class="md me iq lz b gy mf mg l mh mi">// test.js</span><span id="4383" class="md me iq lz b gy mj mg l mh mi">// Import requirement packages<br/>require('chromedriver');<br/>const assert = require('assert');<br/>const {Builder, Key, By, until} = require('selenium-webdriver');</span><span id="cbf3" class="md me iq lz b gy mj mg l mh mi">describe('Checkout Google.com', function () {<br/>    let driver;</span><span id="8c82" class="md me iq lz b gy mj mg l mh mi">    before(async function() {<br/>        driver = await new Builder().forBrowser('chrome').build();<br/>    });</span><span id="0bbe" class="md me iq lz b gy mj mg l mh mi">    // Next, we will write steps for our test. <br/>    // For the element ID, you can find it by open the browser inspect feature.</span><span id="3e15" class="md me iq lz b gy mj mg l mh mi">    it('Search on Google', async function() {<br/>        // Load the page<br/>        await driver.get('<a class="ae ks" href="https://google.com'" rel="noopener ugc nofollow" target="_blank">https://google.com'</a>);<br/>        // Find the search box by id<br/>        await driver.findElement(By.id('lst-ib')).click();<br/>        // Enter keywords and click enter<br/>        await driver.findElement(By.id('lst-ib')).sendKeys('dalenguyen', Key.RETURN);<br/>        // Wait for the results box by id<br/>        await driver.wait(until.elementLocated(By.id('rcnt')), 10000);</span><span id="1724" class="md me iq lz b gy mj mg l mh mi">        // We will get the title value and test it<br/>        let title = await driver.getTitle();<br/>        assert.equal(title, 'dalenguyen - Google Search');<br/>    });</span><span id="3f6a" class="md me iq lz b gy mj mg l mh mi">    // close the browser after running tests<br/>    after(() =&gt; driver &amp;&amp; driver.quit());<br/>})</span></pre><p id="bbdc" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">3.<strong class="jw ir">运行测试用例</strong></p><p id="8d62" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">向package.json添加脚本是一个很好的做法。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="0a80" class="md me iq lz b gy mf mg l mh mi">// package.json<br/>"scripts": {<br/>   "test": "mocha --recursive --timeout 10000 test.js"<br/>},</span></pre><p id="78b6" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">每当您想要运行测试时，只需使用以下命令:</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="f6f5" class="md me iq lz b gy mf mg l mh mi">yarn run test</span></pre><p id="84e0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">以下结果表明测试已成功完成。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="d4de" class="md me iq lz b gy mf mg l mh mi">dnguyen$ yarn run test<br/>yarn run v1.9.4<br/>$ mocha --recursive --timeout 10000 test.js</span><span id="eddd" class="md me iq lz b gy mj mg l mh mi">Checkout Google.com<br/>    ✓ Search on Google (2058ms)</span><span id="8c4c" class="md me iq lz b gy mj mg l mh mi">1 passing (3s)</span><span id="9391" class="md me iq lz b gy mj mg l mh mi">✨  Done in 3.79s.</span></pre><p id="4df1" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">希望这有所帮助。请随意提问并<a class="ae ks" href="https://github.com/dalenguyen/selenium-javascript/issues/new" rel="noopener ugc nofollow" target="_blank">创建一张票</a>来改进这个项目；)</p><p id="2546" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><a class="ae ks" href="https://twitter.com/dale_nguyen" rel="noopener ugc nofollow" target="_blank"> <strong class="jw ir">在Twitter上关注我</strong> </a>了解Angular、JavaScript &amp; WebDevelopment的最新内容👐</p></div></div>    
</body>
</html>