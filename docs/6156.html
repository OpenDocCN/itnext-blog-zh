<html>
<head>
<title>Build a scalable front-end with Rush monorepo and React — Part 5</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Rush monorepo和React构建可扩展的前端—第5部分</h1>
<blockquote>原文：<a href="https://itnext.io/build-a-scalable-front-end-with-rush-monorepo-and-react-part-5-355f5391fd27?source=collection_archive---------5-----------------------#2021-09-03">https://itnext.io/build-a-scalable-front-end-with-rush-monorepo-and-react-part-5-355f5391fd27?source=collection_archive---------5-----------------------#2021-09-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><h1 id="575c" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">虚拟代码</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/0e387eadb701386e442e5c6b185e8c2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*NOvt6xqlqb4bydPc.jpg"/></div></div></figure></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="4980" class="pw-post-body-paragraph le lf iq lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">这是博客系列“用Rush monorepo和React构建可伸缩前端”的第5部分</p><ul class=""><li id="c2f5" class="mc md iq lg b lh li ll lm lp me lt mf lx mg mb mh mi mj mk bi translated"><a class="ae ml" href="https://medium.com/@alexandrubereghici/build-a-scalable-front-end-with-rush-monorepo-and-react-part-1-dd50ae38ad3e" rel="noopener">第1部分</a> : Monorepo设置，导入保留git历史的项目，<br/>添加更漂亮的</li><li id="3db7" class="mc md iq lg b lh mm ll mn lp mo lt mp lx mq mb mh mi mj mk bi translated">第2部分:用Webpack和react-scripts创建构建工具包</li><li id="75ea" class="mc md iq lg b lh mm ll mn lp mo lt mp lx mq mb mh mi mj mk bi translated"><a class="ae ml" href="https://medium.com/@alexandrubereghici/build-a-scalable-front-end-with-rush-monorepo-and-react-part-3-b90430f15af7" rel="noopener">第3部分</a>:添加共享ESLint配置，并与lint-staged一起使用</li><li id="a8be" class="mc md iq lg b lh mm ll mn lp mo lt mp lx mq mb mh mi mj mk bi translated"><a class="ae ml" href="https://medium.com/@alexandrubereghici/build-a-scalable-front-end-with-rush-monorepo-and-react-part-4-d0939bfb8b8a" rel="noopener">第4部分</a>:用Github动作和Netlify设置部署工作流。</li><li id="e0cb" class="mc md iq lg b lh mm ll mn lp mo lt mp lx mq mb mh mi mj mk bi translated"><a class="ae ml" href="https://medium.com/@alexandrubereghici/build-a-scalable-front-end-with-rush-monorepo-and-react-part-5-355f5391fd27" rel="noopener">第5部分</a>:增加VSCode配置，获得更好的开发体验。</li></ul></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><h2 id="5382" class="mr jo iq bd jp ms mt dn jt mu mv dp jx lp mw mx kb lt my mz kf lx na nb kj nc bi translated">TL；速度三角形定位法(dead reckoning)</h2><p id="1d1a" class="pw-post-body-paragraph le lf iq lg b lh nd lj lk ll ne ln lo lp nf lr ls lt ng lv lw lx nh lz ma mb ij bi translated">如果你有兴趣只是看看代码，你可以在这里找到它:<a class="ae ml" href="https://github.com/abereghici/rush-monorepo-boilerplate" rel="noopener ugc nofollow" target="_blank">https://github.com/abereghici/rush-monorepo-boilerplate</a></p><p id="bbe2" class="pw-post-body-paragraph le lf iq lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">如果你想看看Rush在一个真实的大型项目中的应用，你可以看看Bentley Systems开发的开源项目<a class="ae ml" href="https://github.com/imodeljs/imodeljs" rel="noopener ugc nofollow" target="_blank"> ITwin.js </a>。</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="0028" class="pw-post-body-paragraph le lf iq lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">在之前的帖子中，我们添加了<code class="fe ni nj nk nl b">prettier</code>和<code class="fe ni nj nk nl b">eslint</code>来格式化我们的代码，并在我们的项目中强制执行一致的代码风格。我们可以通过自动格式化粘贴的代码来节省时间，或者在编写代码时修复<code class="fe ni nj nk nl b">lint</code>错误，而无需运行lint命令来查看所有错误。</p><p id="871c" class="pw-post-body-paragraph le lf iq lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">VSCode提供了两种不同类型的设置:</p><ul class=""><li id="da3d" class="mc md iq lg b lh li ll lm lp me lt mf lx mg mb mh mi mj mk bi translated">用户设置—应用于所有VSCode实例</li><li id="610f" class="mc md iq lg b lh mm ll mn lp mo lt mp lx mq mb mh mi mj mk bi translated">工作空间设置—仅适用于当前项目。</li></ul><p id="7374" class="pw-post-body-paragraph le lf iq lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">我们将使用工作区设置和一些扩展来改善我们在VSCode中的开发体验。</p><h2 id="f240" class="mr jo iq bd jp ms mt dn jt mu mv dp jx lp mw mx kb lt my mz kf lx na nb kj nc bi translated">安装扩展</h2><p id="205d" class="pw-post-body-paragraph le lf iq lg b lh nd lj lk ll ne ln lo lp nf lr ls lt ng lv lw lx nh lz ma mb ij bi translated">让我们为VSCode添加更漂亮的格式化程序。启动VS代码快速打开(Ctrl+P)，粘贴下面的命令，按回车键。</p><pre class="km kn ko kp gt nm nl nn no aw np bi"><span id="7c26" class="mr jo iq nl b gy nq nr l ns nt">ext install esbenp.prettier-vscode</span></pre><p id="c0ec" class="pw-post-body-paragraph le lf iq lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">或者你可以开<a class="ae ml" href="https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode" rel="noopener ugc nofollow" target="_blank">https://marketplace.visualstudio.com/items?itemName = es benp . beauty-vs code</a>并手动安装。</p><p id="9106" class="pw-post-body-paragraph le lf iq lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">同样，让我们安装VSCode ESLint扩展:</p><pre class="km kn ko kp gt nm nl nn no aw np bi"><span id="1b61" class="mr jo iq nl b gy nq nr l ns nt">ext install dbaeumer.vscode-eslint</span></pre><p id="f7f9" class="pw-post-body-paragraph le lf iq lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">或者从https://marketplace.visualstudio.com/items?手动安装itemName = dbaeumer . vs code-eslint</p><h2 id="5467" class="mr jo iq bd jp ms mt dn jt mu mv dp jx lp mw mx kb lt my mz kf lx na nb kj nc bi translated">添加设置</h2><p id="ea62" class="pw-post-body-paragraph le lf iq lg b lh nd lj lk ll ne ln lo lp nf lr ls lt ng lv lw lx nh lz ma mb ij bi translated">在monorepo的根目录下创建一个新文件<code class="fe ni nj nk nl b">.vscode/settings.json</code>，并添加以下设置:</p><pre class="km kn ko kp gt nm nl nn no aw np bi"><span id="f5c1" class="mr jo iq nl b gy nq nr l ns nt">{<br/>  "editor.defaultFormatter": "esbenp.prettier-vscode",<br/>  "editor.tabSize": 2,<br/>  "editor.insertSpaces": true,<br/>  "editor.formatOnSave": true,<br/>  "search.exclude": {<br/>    "**/node_modules": true,<br/>    "**/.nyc_output": true,<br/>    "**/.rush": true<br/>  },<br/>  "files.exclude": {<br/>    "**/.nyc_output": true,<br/>    "**/.rush": true,<br/>    "**/*.build.log": true,<br/>    "**/*.build.error.log": true,<br/>    "**/generated-docs": true,<br/>    "**/package-deps.json": true,<br/>    "**/test-apps/**/build": true<br/>  },<br/>  "files.trimTrailingWhitespace": true,<br/>  "eslint.validate": [<br/>    "javascript",<br/>    "javascriptreact",<br/>    "typescript",<br/>    "typescriptreact"<br/>  ],<br/><br/>  "eslint.workingDirectories": [<br/>    {<br/>      "mode": "auto"<br/>    }<br/>  ],<br/>  "eslint.nodePath": "common/temp/node_modules",<br/>  "eslint.trace.server": "verbose",<br/>  "eslint.options": {<br/>    "resolvePluginsRelativeTo": "node_modules/@monorepo/eslint-config"<br/>  },<br/>  "eslint.format.enable": true,<br/>  "eslint.lintTask.enable": true,<br/>  "editor.codeActionsOnSave": {<br/>    "editor.action.fixAll": true,<br/>    "source.fixAll.eslint": true<br/>  }<br/>}</span></pre><p id="7ad6" class="pw-post-body-paragraph le lf iq lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">在这些环境中，我们:</p><ul class=""><li id="347f" class="mc md iq lg b lh li ll lm lp me lt mf lx mg mb mh mi mj mk bi translated">将漂亮器设置为默认格式器</li><li id="c826" class="mc md iq lg b lh mm ll mn lp mo lt mp lx mq mb mh mi mj mk bi translated">从搜索中排除一些不相关的文件夹，如<code class="fe ni nj nk nl b">node_modules</code>和<code class="fe ni nj nk nl b">.nyc_output</code></li><li id="2121" class="mc md iq lg b lh mm ll mn lp mo lt mp lx mq mb mh mi mj mk bi translated">从VSCode文件资源管理器中排除无关文件</li><li id="9445" class="mc md iq lg b lh mm ll mn lp mo lt mp lx mq mb mh mi mj mk bi translated">为ESLint提供一个<code class="fe ni nj nk nl b">nodePath</code>。我们没有直接使用<code class="fe ni nj nk nl b">eslint</code>(我们使用的是来自<code class="fe ni nj nk nl b">react-scripts</code>的<code class="fe ni nj nk nl b">lint</code>脚本)，所以我们在帮助扩展寻找<code class="fe ni nj nk nl b">eslint</code>二进制文件。</li><li id="fd51" class="mc md iq lg b lh mm ll mn lp mo lt mp lx mq mb mh mi mj mk bi translated">提供<code class="fe ni nj nk nl b">eslint</code>插件的路径。我们正在帮助ESLint extension为每个项目挑选正确的规则。</li></ul><p id="18f5" class="pw-post-body-paragraph le lf iq lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">我希望这些设置对你有用。</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="245f" class="pw-post-body-paragraph le lf iq lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated"><em class="nu">原发布于</em><a class="ae ml" href="https://bereghici.dev/blog/build-a-scalable-front-end-with-rush-monorepo-and-react--vscode" rel="noopener ugc nofollow" target="_blank"><em class="nu">https://bereghici . dev</em></a><em class="nu">。</em></p></div></div>    
</body>
</html>