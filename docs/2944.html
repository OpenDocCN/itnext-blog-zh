<html>
<head>
<title>Optimize your JavaScript app by using service workers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用服务人员优化您的JavaScript应用程序</h1>
<blockquote>原文：<a href="https://itnext.io/optimize-your-javascript-app-by-using-service-workers-3e2ba71b90d6?source=collection_archive---------8-----------------------#2019-09-03">https://itnext.io/optimize-your-javascript-app-by-using-service-workers-3e2ba71b90d6?source=collection_archive---------8-----------------------#2019-09-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/0d09894078dc268b8656ce71f8b145bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JwJUzDI5NKUIKIbAvZmKDQ.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">用于演示软件工作的漂亮图像。</figcaption></figure><p id="38f7" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们不时会听到一些关于优化的事情。我们可以做不同种类的优化来使我们的应用程序更快更有效。为了节省时间或记忆。这篇文章将介绍其中的一种方法——为T2的员工提供服务。</p><h1 id="8d39" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">TL；速度三角形定位法(dead reckoning)</h1><p id="0918" class="pw-post-body-paragraph kc kd iq ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">本教程解释了什么是<em class="la">服务人员</em>以及如何使用它。在JavaScript中。最后有一个代码示例。如果你想跳过阅读，这里的<a class="ae me" href="https://github.com/mihailgaberov/learn-service-workers" rel="noopener ugc nofollow" target="_blank">是Git回购，</a><a class="ae me" href="https://compassionate-brahmagupta-71d9b4.netlify.com/" rel="noopener ugc nofollow" target="_blank">这里的</a>你可以看到一个现场演示。</p><h1 id="e7d7" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">该理论</h1><p id="3740" class="pw-post-body-paragraph kc kd iq ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">让我们先看看这是什么工作👀我们能用它做什么服务呢🤓。</p><p id="c93f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><em class="la">服务人员</em>是一个<a class="ae me" href="https://developers.google.com/web/fundamentals/primers/service-workers/" rel="noopener ugc nofollow" target="_blank">简单脚本</a>。JavaScript代码，你的浏览器在后台运行，独立于网页。对于不需要网页或用户交互的功能，使用服务人员非常方便。最常见的用途之一是拦截和处理网络请求。其中包括管理响应缓存。下面是如何在应用程序运行中包含服务人员的简单示例。</p><p id="5386" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">通常，在你的应用程序的入口点，你把这个:</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="6862" class="mo lc iq mk b gy mp mq l mr ms">if ('serviceWorker' in navigator) {<br/>  window.addEventListener('load', function() {<br/>    navigator.serviceWorker.register('/service-worker.js');<br/>  });<br/>}</span></pre><p id="046e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这种使用服务人员的方式比基本的有一点点改进。这将直接调用<em class="la"> if语句中的<em class="la">寄存器</em>()方法。</em>在本例中，我们使用窗口加载事件在页面加载完成后注册服务人员。这样做之后，您需要在<em class="la"> service-worker.js </em>文件中添加您的服务工作者代码。在这一点上，你可能想看看我的服务人员档案。</p><p id="9232" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在所有主流浏览器都支持服务人员，你可以马上开始使用他们。</p><h1 id="ddaf" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">这个例子</h1><p id="bf80" class="pw-post-body-paragraph kc kd iq ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">理论已经足够了，让我们构建一个真正的示例应用程序，它将利用服务人员功能。</p><p id="95c1" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">假设我们正在构建一个需要加载大量数据的应用程序。例如，它可以是一个漂亮的、大的全屏图像，我们将在首页显示。或者它可能是一个大的视频剪辑，我们必须等待加载。这是一个让服务人员大放异彩的理想用例。让我们看看怎么做。👀</p><p id="41f2" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在我们的具体案例中，我们将使用时钟时间来展示使用服务人员的好处。我的意思是，我们将建立一个简单的应用程序，显示时间。它将有一个漂亮的大按钮，用于获取漂亮的大图像。它将为用户提供选择<strong class="ke ir">使用或不使用</strong>服务人员的选项。</p><p id="e8ad" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">下面是它的截图。</p></div><div class="ab cl mt mu hu mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="ij ik il im in"><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi na"><img src="../Images/417e3ee185ac162080990707fa048c79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2K-IvfpcK017rGsX1Hsm8w.png"/></div></div></figure><p id="4e9d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这个应用程序演示的是，当获取图像时(通过点击按钮，哇！)使用活动的服务人员—我们不会遇到被阻止的UI(用户界面，即字段、按钮、🐛).如果您选择不使用服务工作者，您将获得一个冻结的用户界面一段时间。当工作完成并且主线程释放自己时，它将解冻UI。</p><p id="3b60" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果你不想自己克隆和运行代码，直接跳到<a class="ae me" href="https://compassionate-brahmagupta-71d9b4.netlify.com/" rel="noopener ugc nofollow" target="_blank">现场演示</a>。</p><h1 id="ce19" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="8539" class="pw-post-body-paragraph kc kd iq ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">服务人员的演示向我们展示了使用他们的好处。尤其是当您试图构建响应迅速且健壮的JavaScript应用程序时。没有用户希望在一段未知的时间内停留在一个冻结的页面上，因为没有开发人员希望他的应用程序的用户出现这种情况。记住上面所说的，服务人员现在是必须的。我们不应该忽视他们。</p><p id="1c12" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">🔥感谢阅读！🔥</p></div></div>    
</body>
</html>