<html>
<head>
<title>I’m making an offline first WordPress PWA, part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我正在制作一个离线的第一个WordPress PWA，第二部分</h1>
<blockquote>原文：<a href="https://itnext.io/im-making-an-offline-first-wordpress-pwa-part-2-b313659bfc9c?source=collection_archive---------3-----------------------#2018-07-25">https://itnext.io/im-making-an-offline-first-wordpress-pwa-part-2-b313659bfc9c?source=collection_archive---------3-----------------------#2018-07-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="dbd4" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Manifest.json</h2></div><p id="9f80" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本系列的第一部分，我使用了Laravel Valet让HTTPS使用本地域名。使用SSL/TLS是渐进式网络应用(PWA)的需求之一。)</p><p id="ba80" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">除此之外，这是我目前为止使用的一个正规的WordPress博客吗？灯塔报告对此有如下说法:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lc"><img src="../Images/03afd129944777b64b760dfa0d50e880.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JmgrM8pWLpgAY_O1rhGbaQ.png"/></div></div></figure><p id="3c73" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我把博客称为PWA之前，必须解决五个问题。其中三个是容易实现的目标，用<code class="fe lo lp lq lr b">manifest.json</code>文件就能轻松解决:</p><ul class=""><li id="5c75" class="ls lt iq kh b ki kj kl km ko lu ks lv kw lw la lx ly lz ma bi translated">不会提示用户安装Web应用程序</li><li id="289b" class="ls lt iq kh b ki mb kl mc ko md ks me kw mf la lx ly lz ma bi translated">没有为自定义闪屏配置</li><li id="86c7" class="ls lt iq kh b ki mb kl mc ko md ks me kw mf la lx ly lz ma bi translated">地址栏与品牌颜色不匹配</li></ul><h1 id="a2d6" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">生成manifest.json文件</h1><p id="9299" class="pw-post-body-paragraph kf kg iq kh b ki my jr kk kl mz ju kn ko na kq kr ks nb ku kv kw nc ky kz la ij bi translated">Google有一个非常清晰和好的文档<a class="ae lb" href="https://developers.google.com/web/fundamentals/web-app-manifest/" rel="noopener ugc nofollow" target="_blank">来描述一个<code class="fe lo lp lq lr b">manifest.json</code>文件应该是什么样子以及它应该包含什么。但是既然有这么多在线工具可以为你生成一个，为什么不使用其中一个呢？</a></p><p id="5e74" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我使用这个网站是因为它可以让你上传一个图标，然后为你生成一堆不同大小的版本。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi nd"><img src="../Images/7ff20992ccd83410c9212f3ae325efc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IabRtt8ncdmU_7PoxKpXmw.png"/></div></div></figure><p id="0d83" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">生成的JSON文件如下所示:</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="6b76" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个文件和包含所有图标的文件夹放在项目的根目录下。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi ng"><img src="../Images/acb20832083476e61cc2f1b608d25466.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H71VBqm8Iojrr8uFht91VQ.png"/></div></div></figure><p id="a1dd" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下一步是在链接到<code class="fe lo lp lq lr b">manifest.json</code>文件的<code class="fe lo lp lq lr b">&lt;head&gt;</code>中添加一个<code class="fe lo lp lq lr b">&lt;link&gt;</code>标签。</p><pre class="ld le lf lg gt nh lr ni nj aw nk bi"><span id="3065" class="nl mh iq lr b gy nm nn l no np">&lt;link rel="manifest" href="/manifest.json"&gt;</span></pre><p id="a5ea" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">浏览器也必须被告知网站的“主题颜色”。这是通过一个<code class="fe lo lp lq lr b">&lt;meta&gt;</code>标签完成的:</p><pre class="ld le lf lg gt nh lr ni nj aw nk bi"><span id="2ef0" class="nl mh iq lr b gy nm nn l no np">&lt;meta name="theme-color" content="#de751f"&gt;</span></pre><p id="826c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这些相当简单的动作给了我们下面的灯塔报告:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi nq"><img src="../Images/86ec1171ec364e97ab83a44e47427d31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XP0djrStJxtm3g4LRA8Qpg.png"/></div></div></figure><p id="4512" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">两个问题已经修复，但我认为<code class="fe lo lp lq lr b">manifest.json</code>文件将解决的一个问题仍然存在:</p><ul class=""><li id="ddaf" class="ls lt iq kh b ki kj kl km ko lu ks lv kw lw la lx ly lz ma bi translated">不会提示用户安装Web应用程序</li></ul><p id="e46a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是如果你仔细看看问题的描述，它实际上说需要一名服务人员。</p><blockquote class="nr ns nt"><p id="16d9" class="kf kg nu kh b ki kj jr kk kl km ju kn nv kp kq kr nw kt ku kv nx kx ky kz la ij bi translated">失败:站点没有注册服务人员。服务工作程序未成功提供清单的start_url。</p></blockquote><p id="4c28" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但这是我将在下一部分解决的问题！</p></div><div class="ab cl ny nz hu oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="ij ik il im in"><p id="2dbc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">以前的零件:</p><ul class=""><li id="2396" class="ls lt iq kh b ki kj kl km ko lu ks lv kw lw la lx ly lz ma bi translated"><a class="ae lb" href="https://medium.com/@stefanledin/im-making-an-offline-first-wordpress-pwa-part-1-6ae90ea672a4" rel="noopener">第一部分:HTTPS </a></li></ul></div></div>    
</body>
</html>