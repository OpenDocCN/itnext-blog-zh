<html>
<head>
<title>It’s a Trap! Avoid Focusing on Vanity Metrics in Software Testing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">这是个陷阱！避免在软件测试中关注虚荣心</h1>
<blockquote>原文：<a href="https://itnext.io/its-a-trap-avoid-focusing-on-vanity-metrics-in-software-testing-7a627c7848?source=collection_archive---------2-----------------------#2021-04-24">https://itnext.io/its-a-trap-avoid-focusing-on-vanity-metrics-in-software-testing-7a627c7848?source=collection_archive---------2-----------------------#2021-04-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="ff93" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">几年前，一位新的项目经理加入了我所在的团队，并向我介绍了“虚荣指标”这个术语。当时，我们兴奋地看着我们新应用的下载量，她直言不讳地说这没关系，真正重要的是转化和留住用户。</p><p id="8811" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">显然，如果没有这些初始下载，你就无法获得转化率和留存率，在app store上短暂地排名第一当然有所帮助，但它确实让我更加意识到一些数字实际上是“虚荣”的，无助于你的团队实现可交付质量的目标。客户不在乎你在过去的一个小时里下载了多少。客户关心它是否如他们所愿。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/946c845c096073151fbb230b22b42186.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cD0JhxPvjtJ2zT_bd7A2eQ.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">虚荣心指标——并不总是质量的真实反映</figcaption></figure><p id="3a74" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">作为一名质量工程师/测试主管/质量保证主管或其他我们现在称呼自己的人(虚名？)，时间和经验也向我展示了测试/质量中的许多指标，当归结到它时，纯粹(或几乎纯粹)是为了虚荣。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><p id="1563" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">测试覆盖率</strong></p><p id="0aa9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在你最新的软件项目中，无论是单元测试、集成还是自动化UI测试，你测量过测试覆盖率吗？不要误解我，覆盖率好，写测试有用。然而，坦白地说，争取一个经理向我声称的80%的行业标准，而另一个经理想要100%的一切，并不是那么“有用”。您可以拥有100%的覆盖率，但仍然找不到bug。以这个代码示例为例:</p><pre class="km kn ko kp gt li lj lk ll aw lm bi"><span id="7532" class="ln lo iq lj b gy lp lq l lr ls">double divide (double a, double b)<br/>{<br/>    return a / b;<br/>}</span></pre><p id="fc2e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们可以编写一个100%覆盖这一点的单元测试。但这并不意味着它没有bug。如果我们不测试边缘情况，比如b为0.0的情况，很明显它可能不会被捕获。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><p id="6033" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">bug总数</strong></p><p id="524d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">臭虫的理想数量是多少？零！但是如果你从事过任何软件项目，你(希望)会意识到这几乎是不可能的。考虑时间、成本和质量的质量三角形。选两个。如果你想要高质量，零bug是真正的高质量，这要么要花很长时间，要么要花很多钱。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/242563c555e9c18e407bb00cfeef9972.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3VZNIOlGTEQxU_4Pbq3CjQ.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">你能发现这个漏洞吗？</figcaption></figure><p id="13fe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这并不意味着它不是一个领先指标。如果发现的错误数量随着时间的推移而增加，尤其是那些严重程度较高的错误，那么有必要调查它们是否是在一个可能需要进一步关注的特别复杂的模块中发现的。或者如果影响到特别有价值的客户，就需要考虑。类似地，如果bug的成本风险很高(想想起搏器或除颤器)。但在某些时候，你需要赚钱，销售软件。而且里面还会有bug。避免更多错误的唯一方法是不要发布更多的软件，这不是一个解决方案。</p><p id="17f9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">另一个风险是行为的改变。我曾经在一家公司工作过，那里的项目经理告诉我们在发布之前停止开发bug，这样就不会再延迟了。然后，他因按时发布而受到祝贺，而工程团队因发现了由此产生的错误而受到严厉批评…</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><p id="c349" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">测试总数</strong></p><p id="899c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我曾在一家公司工作过，那里有一个由20名人工测试人员组成的团队，每个版本执行4000个测试用例。这是在一个媒体机顶盒上，测试时间并不短。快速释放是不可能的。</p><p id="da5c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">“解决方案”是雇佣一个测试自动化工程师团队，来实现自动化。</p><p id="e434" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">坏处呢？坦白地说，这些测试中的大部分都毫无用处。许多测试嵌套在其他测试中，或者不可思议地不太可能失败。与对关键功能进行一系列冒烟测试相比，投入的精力无疑是对时间的滥用，因为一旦出现问题，设备可以通过网络进行更新。此外，有15-20种不同的盒子，但除了屏幕分辨率和启动顺序，没有在所有设备上运行所有测试的大案例。在这里,<a class="ae lt" href="https://en.wikipedia.org/wiki/Pareto_principle" rel="noopener ugc nofollow" target="_blank">帕累托法则</a>总是需要考虑的。</p><p id="f95b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">按照这些思路，假设您有100或1000个测试。如果它们不是正确的测试——测试关键部分或最可能损坏的部分，它们远不如测试关键功能的5-10次冒烟测试有用。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><p id="22b1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">考试通过率</strong></p><p id="240b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">像测试总数一样，测试通过率——虽然是一个指标，当然也是一个关注趋势的有用指南，但不应该用来说“我们没有错误，因为我们的测试100%通过”。虽然测试通过率突然下降到70%应该会令人惊讶并引起关注，但是不测试关键内容的100%通过率的测试还是没有发挥应有的作用。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><p id="a4e5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">静态分析指标</strong></p><pre class="km kn ko kp gt li lj lk ll aw lm bi"><span id="bb0c" class="ln lo iq lj b gy lp lq l lr ls">- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - <br/>Your code has been rated at 10.00/10 (previous run: 10.00/10, +0.00)</span></pre><p id="13db" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">静态分析工具很棒。他们自动发现问题，他们可以帮助代码风格的一致性，在一家公司，我们系统地修复了C代码库中的16，000个警告，我们发现了许多被遗漏的关键错误。</p><p id="26fe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然而，当pylint给你的代码打10/10分时，那种温暖、快乐的感觉呢？这很好，但是同样，正确编写的、符合编码标准的代码并不意味着代码在做正确的事情。这是我们工具箱中的另一个工具，但不应该用来传达“质量”,即在产品中传递正确的行为。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><p id="d95c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Eric Reis认为“企业家应该投入精力收集的唯一指标是那些有助于他们做出决策的指标”。虚荣心指标看起来不错，但它们有助于推动你的业务向前发展吗？取而代之，寻找可操作的度量——那些指示您应该将测试的重点放在哪里，您可以向产品添加价值和质量的度量。</p><p id="4260" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">测试中可行指标的例子</strong></p><p id="2a2b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最近更改的代码——如果这个版本中的所有更改都在模块x中，那么测试自2015年以来未被触及且没有相互依赖关系的模块y可能没有什么好处。也许将您的测试或新的质量计划定位于模块x。</p><p id="7734" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">客户问题——如果90%的问题都是功能Y导致的，请关注功能Y。找出问题所在和共性，并尝试分解最大的问题以及可能导致这些问题的原因。通过减少这些问题来加速优质产品的运输将减少客户投诉，并提高客户满意度。客户的快乐就是质量！</p><p id="779b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">记住——如果你能衡量它，你就能管理/改进它！采取这些可行的衡量标准，现在就开始努力，在下一次提交后的深夜，当你看到完美的林挺分数时，花一点时间，微笑，并意识到虽然这并不重要，但看到好消息仍然很好。</p></div></div>    
</body>
</html>