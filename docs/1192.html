<html>
<head>
<title>Building Consistency with CSS Custom Properties &amp; JSON</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用CSS自定义属性&amp; JSON建立一致性</h1>
<blockquote>原文：<a href="https://itnext.io/building-consistency-with-css-custom-properties-json-157578d633d3?source=collection_archive---------3-----------------------#2018-08-08">https://itnext.io/building-consistency-with-css-custom-properties-json-157578d633d3?source=collection_archive---------3-----------------------#2018-08-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="c854" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为任何网站或应用程序创建CSS框架时，一致性是关键。无论多大或多小，使用一致的颜色、边距和悬停处理都很重要，这里仅举几例。旧闻了吧？</p><p id="c63b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当在单个网站或应用上工作时，一致性可能是一件相当容易管理的事情。但是随着公司的成长会发生什么呢？网络的存在和团队也随之成长。现在，我们必须管理公共网站、各种内部网网站和产品之间的一致性。随着越来越多的开发人员在各自的web资产上工作，这可能是一个挑战。随着团队的成长，不一致性也会增加。</p><p id="9760" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们如何解决这个问题？CSS自定义属性来拯救！但是等等，CSS自定义属性是基于每个网站设置的。</p><p id="ace4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">JSON来救援了！使用JSON，我们可以建立一个包含所有公司网站使用的主属性的存储库。这个存储库可以包含任何最终将成为CSS自定义属性的内容。</p><p id="d1b2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有多种方法可以将JSON数据转换成可用的CSS自定义属性。我成功使用的一个方法是使用<a class="ae kl" href="https://github.com/postcss/postcss" rel="noopener ugc nofollow" target="_blank"> PostCSS </a>和<a class="ae kl" href="https://github.com/m18ru/postcss-import-json" rel="noopener ugc nofollow" target="_blank"> PostCSS-Import-JSON </a>插件。该插件导入JSON文件并将数据转换成CSS自定义属性。</p><p id="a3f6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们看一个基本的用例例子。首先，我们需要将<a class="ae kl" href="https://github.com/postcss/postcss" rel="noopener ugc nofollow" target="_blank"> PostCSS </a>和插件添加到您的项目中。有关如何添加<a class="ae kl" href="https://github.com/postcss/postcss" rel="noopener ugc nofollow" target="_blank"> PostCSS </a>的更多信息，请查看他们的<a class="ae kl" href="https://github.com/postcss/postcss#usage" rel="noopener ugc nofollow" target="_blank">设置指南</a>。</p><p id="08b0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦安装了<a class="ae kl" href="https://github.com/postcss/postcss" rel="noopener ugc nofollow" target="_blank"> PostCSS </a>，就可以安装<a class="ae kl" href="https://github.com/m18ru/postcss-import-json" rel="noopener ugc nofollow" target="_blank"> PostCSS-Import-JSON </a>插件了。说明可以在<a class="ae kl" href="https://github.com/m18ru/postcss-import-json" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="4159" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<a class="ae kl" href="https://github.com/postcss/postcss" rel="noopener ugc nofollow" target="_blank"> PostCSS </a>和插件设置好之后，是时候设置我们的构建任务来处理JSON文件的导入了。我在下面的例子中使用了Gulp:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/d61005f1ebe0015a3f6e46f138668081.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x0Y8B60QBB88a5F2e-EN7g.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">吞咽任务构建CSS文件(也包括重命名和browsersync任务)。</figcaption></figure><p id="ed95" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，让我们使用一个非常基本的例子，只是建立一个颜色的JSON文件。您的JSON文件可能如下所示:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/778b2e1af172676d8df2245bb2d258c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Orz0tuyBJouyPKB8RWQfkg.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">包含颜色的JSON数据文件</figcaption></figure><p id="bde7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们的JSON文件包含了我们的配色方案，我们可以使用以下方法将这些颜色导入到我们的PostCSS文件中:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/151a6ab15bbe6e403ce41b096b258460.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8-JFavUf-Ln9zVS3u4yTrA.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">PostCSS中的JSON导入</figcaption></figure><p id="4d0f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在构建过程中，导入插件将JSON数据转换成CSS自定义属性。JSON文件可以导入到根目录或任何其他元素中。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/5a82f7beab1805afbc7ecd8d2cea9658.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-MiJvBLZMhICu8BA8w24Rg.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">CSS输出— CSS自定义属性</figcaption></figure><p id="ca3c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们有了一组源自主JSON控制文件的CSS自定义属性。如果更新了JSON文件的颜色，那么在重新构建网站样式时，这些颜色也会改变。即使在这个简单的例子中，我们也可以看到这是如何帮助推动一致性的。</p><p id="d84f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">想象一下，公共网站、内部网和产品都使用相同的基本JSON文件来控制定制属性。这些属性应该是一致的。命名约定可以保持一致，团队中的开发人员可以更快地加入进来。</p><p id="7269" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有关CSS自定义属性的更多信息，请查看这篇<a class="ae kl" href="https://www.smashingmagazine.com/2017/04/start-using-css-custom-properties/" rel="noopener ugc nofollow" target="_blank"> Smashing Magazine帖子</a>。</p></div></div>    
</body>
</html>