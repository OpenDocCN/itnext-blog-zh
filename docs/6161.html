<html>
<head>
<title>Best practices for developing on Kubernetes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Kubernetes上开发的最佳实践</h1>
<blockquote>原文：<a href="https://itnext.io/best-practices-for-developing-on-kubernetes-8fbdbba12538?source=collection_archive---------3-----------------------#2021-09-05">https://itnext.io/best-practices-for-developing-on-kubernetes-8fbdbba12538?source=collection_archive---------3-----------------------#2021-09-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/b4f75fa2598d2b71018b43c262d6681e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_GZO1oEtSkFY405QQK02VA.jpeg"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">马文·迈耶在<a class="ae jd" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><div class=""/><div class=""><h2 id="f7dd" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">如何在摩擦较少的Kubernetes上开发</h2></div><h2 id="a0bc" class="kv kw jg bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">介绍</h2><p id="62cd" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">在<a class="ae jd" rel="noopener ugc nofollow" target="_blank" href="/how-to-be-a-devops-maestro-containers-orchestration-guide-b2cf884eaed1?source=your_stories_page-------------------------------------">的上一篇博客</a>中，我们探讨了容器编排意味着什么，以及我们如何利用云原生模式和工具来改善我们的日常运营活动。</p><p id="b9c3" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">今天我们将“向左转”，看看如何让开发人员从一开始就开发云原生软件。</p><p id="1f69" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">我们将研究开发，以及构建和发布软件，看起来像是在一个云原生世界中，容器编排是成功的关键。</p><p id="38b4" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">读完这篇博客后，你将学会如何使用云原生工具和模式来减少在Kubernetes上开发软件的摩擦。</p><p id="0182" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">容器化工作负载管理的扩展定义:</p><blockquote class="mp"><p id="1ff9" class="mq mr jg bd ms mt mu mv mw mx my mj dk translated"><em class="mz">容器化工作负载管理是在容器映像和容器的整个生命周期中自动执行常见任务的过程。它包括软件开发、构建&amp;航运自动化以及运营、安全和合规。</em></p></blockquote><p id="908f" class="pw-post-body-paragraph lr ls jg lt b lu na kh lw lx nb kk lz le nc mb mc li nd me mf lm ne mh mi mj ij bi translated">今天我们将重点关注<strong class="lt jh"/><strong class="lt jh">开发</strong>方面。</p><figure class="ng nh ni nj gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nf"><img src="../Images/5a2ea0394a6043e09dd57ccee03eadb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RdHii115N6aRQnixT5w6Lw.png"/></div></div></figure><h2 id="2402" class="kv kw jg bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">云原生开发</h2><p id="52a7" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">开发Kubernetes意味着开发云原生应用程序。</p><p id="b5d4" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated"><a class="ae jd" href="https://www.cncf.io" rel="noopener ugc nofollow" target="_blank"> CNCF </a> <em class="nk">定义云原生为(强调我):</em></p><blockquote class="nl nm nn"><p id="84cc" class="lr ls nk lt b lu mk kh lw lx ml kk lz no mm mb mc np mn me mf nq mo mh mi mj ij bi translated"><em class="jg">云原生技术使组织能够在现代动态环境中构建和运行</em><strong class="lt jh"><em class="jg"/></strong><em class="jg"/><strong class="lt jh">公共、私有和混合云</strong> <em class="jg">。</em> <strong class="lt jh">容器、服务网格、微服务、不可变基础设施</strong> <em class="jg">和</em> <strong class="lt jh">声明式API</strong><em class="jg">就是这种方法的例子。</em></p><p id="69bb" class="lr ls nk lt b lu mk kh lw lx ml kk lz no mm mb mc np mn me mf nq mo mh mi mj ij bi translated"><em class="jg">这些技术使得</em> <strong class="lt jh">松散耦合的系统</strong> <em class="jg">具有</em> <strong class="lt jh">弹性、可管理、可观察</strong> <em class="jg">。结合</em> <strong class="lt jh">健壮的自动化</strong> <em class="jg">，他们允许工程师</em> <strong class="lt jh">频繁地</strong> <em class="jg">和可预见地以最少的辛劳做出高影响力的变更。</em></p></blockquote><p id="a54f" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated"><em class="nk">来源:</em><a class="ae jd" href="https://github.com/cncf/foundation/blob/master/charter.md" rel="noopener ugc nofollow" target="_blank"><em class="nk">【https://github.com/cncf/foundation/blob/master/charter.md】</em></a></p><p id="758c" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">正如您所想象的，上述需求极大地复杂化了开发过程。</p><h2 id="5a2f" class="kv kw jg bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">好了，我有了这个网络应用程序…</h2><p id="bdd4" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">Kubernetes之前的软件开发没那么复杂。假设你有一个网络应用程序，可能是一个花哨的<a class="ae jd" href="https://svelte.dev/" rel="noopener ugc nofollow" target="_blank">苗条的</a>应用程序，或者是一个老式的<a class="ae jd" href="https://angular.io/guide/router-tutorial" rel="noopener ugc nofollow" target="_blank">棱角分明的</a>甚至是老式的普通的<a class="ae jd" href="https://www.javatpoint.com/what-is-vanilla-javascript" rel="noopener ugc nofollow" target="_blank">普通的JavaScript </a>。</p><p id="b9ce" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">从一个简单的角度来看，你会着手你的开发业务，写一些HTML，一些CSS和JavaScript，看看它在浏览器中是什么样子的，希望使用Jasmine/Karma/量角器/Cypress等进行一些测试。也许你在做PWA，也许只是服务器渲染的blazor，谁知道呢。最终，你的SPA应用程序得到了极大的改善，并与webpack打包在一起，通过CDN提供服务，每个人都很开心！</p><p id="63ee" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">直到有一天…你的经理宣布从这一天起每个人都必须“做”Kubernetes！显然，正如我在上一篇博客中所写的，运营有巨大的好处，但你在低声诅咒，因为这意味着要处理一件(或多件)事情。</p><p id="2d0b" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">你在本地安装Kubernetes。也许是docker桌面的一部分，也许是minukube或者Kind。开发过程大概是这样的:</p><figure class="ng nh ni nj gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nr"><img src="../Images/3a1a32aa61241d42346bff918e584a77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rX5Plw2ouXjdTxB9jMiNiw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">来源:作者</figcaption></figure><h2 id="6abd" class="kv kw jg bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">以同样的价格获得更多</h2><p id="bd0c" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">Kubernetes为房屋的运营方面带来了非常明显的好处，但这并不意味着开发商应该置身事外！有很多工具，甚至普通的Kubernetes也提供了一些值得考虑的好处。</p><p id="f7f3" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">作为一名web开发人员，你需要考虑你的应用程序的使用模式。客户如何利用每个页面，使用模式是什么等。可以通过Prometheus 或Jaeger<a class="ae jd" href="https://codeblog.dotsandbrackets.com/scraping-application-metrics-prometheus/" rel="noopener ugc nofollow" target="_blank">从你的web应用程序中抓取指标和追踪信息。它的意思是你不用担心它！</a></p><p id="3110" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">通常情况下，您需要考虑证书、传输中的数据加密等。嗯，这里Kubernetes(更具体地说是服务网格)也能有所帮助！</p><h2 id="c1e9" class="kv kw jg bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">没有免费的午餐…或者有吗？</h2><p id="375b" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">到目前为止，我们的Kubernetes体验还不错，我们在常规开发工作流程的基础上获得了一些额外的好处。正如他们所说，没有免费的午餐！我们仍然要继续我们的业务，开发、测试和发布我们的软件。让我们改进这个过程，转向远程开发。</p><figure class="ng nh ni nj gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ns"><img src="../Images/d512541c1edec3f2eae2db4b7dff37d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JkdW4BK7pKUf4McmdYVSHA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">来源:作者</figcaption></figure><p id="3656" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">远程开发意味着我们不必安装Kubernetes，我们的源代码会自动与pod中运行的远程容器同步。这里有一些工具值得一试。</p><div class="ip iq gp gr ir nt"><a href="https://okteto.com/" rel="noopener  ugc nofollow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd jh gy z fp ny fr fs nz fu fw jf bi translated">okteto——Kubernetes开发平台</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">Okteto负责更新您的应用程序，以便在您编码时提供持续的反馈。Okteto与您自己的……</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">okteto.com</p></div></div><div class="oc l"><div class="od l oe of og oc oh ix nt"/></div></div></a></div><div class="ip iq gp gr ir nt"><a href="https://skaffold.dev/" rel="noopener  ugc nofollow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd jh gy z fp ny fr fs nz fu fw jf bi translated">斯卡福德</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">很快。可重复。简单。当地Kubernetes开发。斯卡福德处理建造、推进和…</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">斯卡福德开发公司</p></div></div><div class="oc l"><div class="oi l oe of og oc oh ix nt"/></div></div></a></div><div class="ip iq gp gr ir nt"><a href="https://tilt.dev/" rel="noopener  ugc nofollow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd jh gy z fp ny fr fs nz fu fw jf bi translated">倾斜</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">您的服务器在本地运行吗？在库伯内特斯？两者都有？Tilt为您提供智能重建和无处不在的实时更新，因此…</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">倾斜.开发</p></div></div><div class="oc l"><div class="oj l oe of og oc oh ix nt"/></div></div></a></div><div class="ip iq gp gr ir nt"><a href="https://devspace.sh/" rel="noopener  ugc nofollow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd jh gy z fp ny fr fs nz fu fw jf bi translated">DevSpace——Kubernetes最快的开发工具(开源)</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">DevSpace是一个非常轻量级的客户端专用CLI工具，它使用您当前的kube-context，就像kubectl或helm…</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">devspace.sh</p></div></div><div class="oc l"><div class="ok l oe of og oc oh ix nt"/></div></div></a></div><div class="ip iq gp gr ir nt"><a href="https://www.telepresence.io/" rel="noopener  ugc nofollow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd jh gy z fp ny fr fs nz fu fw jf bi translated">远程呈现</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">Kubernetes和OpenShift微服务Telepresence 2.4.0的快速本地开发现已推出阅读新闻稿…</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">www.telepresence.io</p></div></div><div class="oc l"><div class="ol l oe of og oc oh ix nt"/></div></div></a></div><p id="6b17" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">每种工具都有自己的优点和缺点，但在大多数情况下，它们都以类似的方式工作。</p><h2 id="c07f" class="kv kw jg bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">让我们摆脱本地IDE</h2><p id="a971" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">除了IDE之外，我们几乎已经将整个开发过程都转移到了集群中。如果您不能或不想在本地运行IDE，也可以在集群中运行它，并通过浏览器连接到它。这一领域有一些产品，而且增长很快。</p><div class="ip iq gp gr ir nt"><a href="https://www.gitpod.io/" rel="noopener  ugc nofollow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd jh gy z fp ny fr fs nz fu fw jf bi translated">Gitpod -随时准备编码</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">我们发明了预构建，因此应用程序代码、配置和基础架构都可以存储为机器可执行文件…</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">www.gitpod.io</p></div></div><div class="oc l"><div class="om l oe of og oc oh ix nt"/></div></div></a></div><p id="c4ba" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated"><a class="ae jd" href="https://github.com/features/codespaces" rel="noopener ugc nofollow" target="_blank">https://github.com/features/codespaces</a></p><div class="ip iq gp gr ir nt"><a href="https://stackblitz.com/" rel="noopener  ugc nofollow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd jh gy z fp ny fr fs nz fu fw jf bi translated">web应用程序的在线代码编辑器。由Visual Studio代码提供支持。-斯塔克布里兹</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">编辑描述</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">stackblitz.com</p></div></div><div class="oc l"><div class="on l oe of og oc oh ix nt"/></div></div></a></div><p id="e7f9" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">远程ide不是必须的。只要开发环境是容器化的，就有充分的理由继续使用本地ide。</p><h2 id="bb42" class="kv kw jg bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">关键要点</h2><p id="5500" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">“左移”运动是授权开发者完全拥有他们开发的软件的每一个方面。这是一个完全符合DevOps理念的伟大目标，但也给开发者带来了很多额外的负担。</p><p id="54db" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">在本文中，我展示了如何使用云原生工具和模式来减少Kubernetes上开发工作流中的摩擦。要使体验无缝，还有很多工作要做，但是利用现在可用的东西肯定会改进Kubernetes上的日常开发任务。</p></div></div>    
</body>
</html>