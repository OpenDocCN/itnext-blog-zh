<html>
<head>
<title>Configure Prettier and ESLint with Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Angular配置更漂亮的ESLint</h1>
<blockquote>原文：<a href="https://itnext.io/configure-prettier-and-eslint-with-angular-e7b4ce979cd8?source=collection_archive---------0-----------------------#2022-02-19">https://itnext.io/configure-prettier-and-eslint-with-angular-e7b4ce979cd8?source=collection_archive---------0-----------------------#2022-02-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/29b134980132cbdf58c628443477147c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7BfX6lge2HMbCdOdcLPt-Q.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">用Angular配置更漂亮的ESLint</figcaption></figure><p id="aa79" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">每个人都想以快速无bug的方式编写代码，大多数时候都不考虑它的风格。这就是为什么在这篇文章中，我将讨论如何在一个<a class="ae la" href="https://angular.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ke ir"/></a><strong class="ke ir"/>项目中配置<a class="ae la" href="https://eslint.org/" rel="noopener ugc nofollow" target="_blank"><strong class="ke ir"/></a><strong class="ke ir"/>和<a class="ae la" href="https://prettier.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ke ir">更漂亮的</strong> </a> <strong class="ke ir"> </strong>。</p><h2 id="8680" class="lb lc iq bd ld le lf dn lg lh li dp lj kn lk ll lm kr ln lo lp kv lq lr ls lt bi translated">ESLint有什么帮助？</h2><p id="a685" class="pw-post-body-paragraph kc kd iq ke b kf lu kh ki kj lv kl km kn lw kp kq kr lx kt ku kv ly kx ky kz ij bi translated">通过静态分析我们的代码，ESLint可以发现问题，并为我们提供修复建议。它可以做得更好，它可以自动修复我们的代码(谁不想这样呢？).</p><h2 id="4e7c" class="lb lc iq bd ld le lf dn lg lh li dp lj kn lk ll lm kr ln lo lp kv lq lr ls lt bi translated">安装和配置ESLint</h2><p id="8337" class="pw-post-body-paragraph kc kd iq ke b kf lu kh ki kj lv kl km kn lw kp kq kr lx kt ku kv ly kx ky kz ij bi translated">在这一节中，我将解释如何在Angular项目中安装ESLint，并配置它以更好地符合Angular风格指南和社区标准。</p><p id="6661" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">使用以下命令打开终端并安装ESLint schematics:</p><pre class="lz ma mb mc gt md me mf bn mg mh bi"><span id="5751" class="mi lc iq me b be mj mk l ml mm">ng add @angular-eslint/schematics</span></pre><p id="53fc" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">就这样。感谢<a class="ae la" href="https://github.com/angular-eslint/angular-eslint" rel="noopener ugc nofollow" target="_blank"> Angular-ESLint </a>团队提供的`<strong class="ke ir"> <em class="mn"> ng add </em> </strong>`命令，现在我们已经安装并配置了ESLint。</p><p id="d9c4" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">错误示例以及ESLint如何帮助修复错误:</p><figure class="lz ma mb mc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mo"><img src="../Images/74201464876a0932d31ce7d88e2f8d6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H0DYJGhyvHpocr6drFdiOA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">关于角度输入绑定别名的ESLint错误</figcaption></figure><figure class="lz ma mb mc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mp"><img src="../Images/7ba75ce772e947d2a7339a61e22cd1ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QbujmlOoOY8V5uCg4L2ApQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">角度输入混叠的ESLint快速修复</figcaption></figure><p id="7fa0" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们也可以在终端中运行这个命令:</p><pre class="lz ma mb mc gt md me mf bn mg mh bi"><span id="8f6a" class="mi lc iq me b be mj mk l ml mm">ng lint --fix</span></pre><p id="f3c7" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">修复项目中所有可修复的bug。</p></div><div class="ab cl mq mr hu ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ij ik il im in"><h2 id="1e65" class="lb lc iq bd ld le lf dn lg lh li dp lj kn lk ll lm kr ln lo lp kv lq lr ls lt bi translated">安装和配置更漂亮</h2><p id="1ac0" class="pw-post-body-paragraph kc kd iq ke b kf lu kh ki kj lv kl km kn lw kp kq kr lx kt ku kv ly kx ky kz ij bi translated">即使我们让ESLint监视我们的代码是否有bug，我们也需要一个工具来更好地设计和格式化它。这就是漂亮发挥作用的地方。</p><p id="b289" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">Prettier是一个自以为是的代码格式化程序，它可以在我们每次保存代码时帮助我们以一种标准化的方式美化代码。</p><p id="eaf5" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">打开终端并键入:</p><pre class="lz ma mb mc gt md me mf bn mg mh bi"><span id="439e" class="mi lc iq me b be mj mk l ml mm">npm install prettier --save-dev</span></pre><p id="8b55" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">或者如果你用的是纱线:</p><pre class="lz ma mb mc gt md me mf bn mg mh bi"><span id="0ee3" class="mi lc iq me b be mj mk l ml mm">yarn add prettier -D</span></pre><p id="b009" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">然后我们需要添加<strong class="ke ir"> .prettierrc.json </strong>和<strong class="ke ir"> </strong> <a class="ae la" href="https://prettier.io/docs/en/ignore.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ke ir">。忽略我们根项目目录中的</strong> </a>文件。</p><p id="85ed" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">内部<strong class="ke ir">。忽略</strong>最好添加我们在<strong class="ke ir">中拥有的任何东西。gitignore </strong>文件。</p><p id="0a95" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">然后我们可以在项目中运行这个命令来格式化它。</p><pre class="lz ma mb mc gt md me mf bn mg mh bi"><span id="22bd" class="mi lc iq me b be mj mk l ml mm">npx prettier --write .</span></pre><p id="a96c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在<strong class="ke ir"> .prettierrc.json </strong>中，我们可以通过覆盖它们来改变默认设置。</p><p id="fa39" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我大多数时候使用的设置是这样的:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="mx my l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">我用的更漂亮的配置。</figcaption></figure><p id="6818" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">就这样更漂亮。但是我们还没有结束。</p><blockquote class="mz na nb"><p id="3c55" class="kc kd mn ke b kf kg kh ki kj kk kl km nc ko kp kq nd ks kt ku ne kw kx ky kz ij bi translated">有时候，ESLint和T2对代码格式和风格有不同的看法。这就是为什么我们需要调整这一部分。<a class="ae la" href="https://prettier.io/docs/en/integrating-with-linters.html" rel="noopener ugc nofollow" target="_blank">更多信息请点击这里。</a></p></blockquote></div><div class="ab cl mq mr hu ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ij ik il im in"><p id="1f68" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">配置更漂亮的作为ESLint插件使用</strong></p><p id="5f55" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">为了让ESLint和pretty更好地合作，我们需要让pretty作为ESLint插件运行。这样，我们只需调用<strong class="ke ir"> ng lint — fix </strong>，ESLint将修复bug并格式化代码。</p><p id="d2e9" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">打开终端并键入:</p><pre class="lz ma mb mc gt md me mf bn mg mh bi"><span id="7867" class="mi lc iq me b be mj mk l ml mm">npm install prettier-eslint eslint-config-prettier eslint-plugin-prettier --save-dev</span></pre><p id="d9e3" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">或者</p><pre class="lz ma mb mc gt md me mf bn mg mh bi"><span id="42a3" class="mi lc iq me b be mj mk l ml mm">yarn add prettier-eslint eslint-config-prettier eslint-plugin-prettier -D</span></pre><p id="9aa9" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在我们需要编辑<strong class="ke ir"> .eslintrc.json </strong>文件来包含更漂亮的插件。</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="mx my l"/></div></figure></div><div class="ab cl mq mr hu ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ij ik il im in"><p id="eb20" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> VSCode和web storm shortcuts</strong></p><p id="c00c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">就这样。我们已经完成了配置部分。</p><p id="a121" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在我们编辑一个文件后，我们想格式化它，然后保存。这就是我们现在要为<a class="ae la" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> VS代码</a>和<a class="ae la" href="https://www.jetbrains.com/webstorm/" rel="noopener ugc nofollow" target="_blank"> Webstorm </a>配置的。</p><p id="5ba3" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> <em class="mn">首先确定你已经安装了</em></strong><a class="ae la" href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint" rel="noopener ugc nofollow" target="_blank"><strong class="ke ir"><em class="mn">ESLint</em></strong></a><strong class="ke ir"><em class="mn">和</em></strong><a class="ae la" href="https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode" rel="noopener ugc nofollow" target="_blank"><strong class="ke ir"><em class="mn"/></strong></a><strong class="ke ir"><em class="mn">插件。WebStorm对两者都有现成支持。</em>T41】</strong></p><p id="ef26" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">对于VS代码，我们需要将这一行添加到<strong class="ke ir"> settings.json </strong>:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="303d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">对于Webstorm: <br/>我们需要检查:<strong class="ke ir">在保存设置页面的操作上运行eslint-fix</strong>:</p><figure class="lz ma mb mc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nf"><img src="../Images/6d8695d3d5de66cd38f1ab21c1ec84d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*BCFHt--cNWDd2LxG.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">保存时修复文件</figcaption></figure><blockquote class="mz na nb"><p id="9ef9" class="kc kd mn ke b kf kg kh ki kj kk kl km nc ko kp kq nd ks kt ku ne kw kx ky kz ij bi translated">在这里你可以找到总结出来的步骤:<a class="ae la" href="https://gist.github.com/eneajaho/17bbcf71c44eabf56d404b028572b97b" rel="noopener ugc nofollow" target="_blank">Angular ESLint&amp;beauty Configuration</a></p></blockquote></div><div class="ab cl mq mr hu ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ij ik il im in"><h2 id="314c" class="lb lc iq bd ld le lf dn lg lh li dp lj kn lk ll lm kr ln lo lp kv lq lr ls lt bi translated">如何自动化所有这些配置？</h2><p id="2563" class="pw-post-body-paragraph kc kd iq ke b kf lu kh ki kj lv kl km kn lw kp kq kr lx kt ku kv ly kx ky kz ij bi translated">正如您所看到的，有许多您应该安装和配置的包。我可以自信地告诉你，有一种方法可以自动管理所有这些。<strong class="ke ir"/><a class="ae la" href="https://nx.dev" rel="noopener ugc nofollow" target="_blank"><strong class="ke ir">NX</strong></a><strong class="ke ir">就是答案。</strong></p><h2 id="8efb" class="lb lc iq bd ld le lf dn lg lh li dp lj kn lk ll lm kr ln lo lp kv lq lr ls lt bi translated">NX是什么？</h2><p id="b871" class="pw-post-body-paragraph kc kd iq ke b kf lu kh ki kj lv kl km kn lw kp kq kr lx kt ku kv ly kx ky kz ij bi translated">NX是下一代<strong class="ke ir">构建系统</strong>，具有<strong class="ke ir">一流的monorepo支持</strong>和强大的集成。</p><p id="ec08" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果我们<em class="mn">将我们的Angular应用程序迁移到Nx monorepo </em>(有一个简单的<a class="ae la" href="https://nx.dev/migration/migration-angular" rel="noopener ugc nofollow" target="_blank">迁移路径</a>)我们可以免费获得所有这些配置。</p><p id="f87e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">但NX的特别之处在于一些疯狂的功能，如<strong class="ke ir">计算缓存</strong>、<strong class="ke ir">智能重建</strong>、<strong class="ke ir">分布式任务执行</strong>、<strong class="ke ir">远程构建缓存</strong>、<strong class="ke ir">强大的代码生成器</strong>、<strong class="ke ir">编辑器插件</strong>等。</p></div><div class="ab cl mq mr hu ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ij ik il im in"><p id="b949" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> <em class="mn">原来如此。感谢您的阅读！下一次再见。</em>T19】</strong></p></div></div>    
</body>
</html>