<html>
<head>
<title>Flutter Background Coolness</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">颤动背景凉爽</h1>
<blockquote>原文：<a href="https://itnext.io/flutter-background-coolness-5bfbc6e6ebda?source=collection_archive---------3-----------------------#2021-04-15">https://itnext.io/flutter-background-coolness-5bfbc6e6ebda?source=collection_archive---------3-----------------------#2021-04-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/a43470c4e944f1e6fa4dfb6de1da6a15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7OpeyXFY7Qv7jEQzyuf52g.png"/></div></div></figure><p id="9fd8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">想要为你的应用程序用户提供酷炫的背景图像和身临其境的用户界面吗？让我来告诉你如何得到那个很酷的用户界面。</p><h1 id="f4fb" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated"><strong class="ak">背景</strong></h1><p id="1349" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">Flutter是一个用户界面工具包，碰巧可以在目标平台上工作，取决于平台，就像一个应用程序播放器，它作为自己的应用程序运行。这意味着有时我们不得不做些修改，让它符合我们在所有平台上想要的审美。</p><p id="b2ae" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在android的情况下，所有的android本地应用程序在顶层绘制它们的视图活动，而系统UI组件在该层之下绘制。这很好，直到谷歌推出全屏应用程序，然后不得不考虑新的全屏和可折叠形式的底部导航条系统用户界面。</p><p id="1e27" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">但是，你猜怎么着？每个人都在stack-overflow上发帖，了解如何破解错误。是时候向您展示如何使用一些信息来创造一些美丽的东西了。</p><h1 id="6aea" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">安卓黑客</h1><p id="d9f5" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">因为这不是我们将遇到的唯一的android黑客；让我给你一些阅读android hacks的有用提示。Android原生SDK指定了两个SDK，最小值和最大值。这意味着，当您看到IDE提示说某个方法调用是针对特定API级别时，您应该使用Google和stack-overflow来查找另一个depreciated方法调用，因为您仍然需要对其他API级别进行depreciated方法调用。事实上，这是所有其他关于如何首先解决这个问题的堆栈溢出答案中的一个错误。</p><p id="fb3c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在，让我先给你看看原生黑客。</p><p id="924a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在MainActivity.kt:</p><figure class="mc md me mf gt ju"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="1356" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">第一个if-block设置android原生窗口管理器，根据flutter引擎的设置来绘制系统UI的系统背景，并确保底部的系统UI栏是透明的。</p><p id="1915" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">第二个if块为底层系统UI透明性设置新的方法调用，并为设备API级别30及更高级别的边缘到边缘设备设置系统UI边缘窗口。</p><p id="d192" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在我们只剩下颤动代码来使它工作。</p><h1 id="9b7f" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">颤动的钩侧</h1><p id="db96" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">我们使用两个组件:SystemChromeStyle API调用和materialApp Scaffold方法调用。SystemChromeStyle调用包括:</p><pre class="mc md me mf gt mi mj mk ml aw mm bi"><span id="1a6e" class="mn la it mj b gy mo mp l mq mr">AnnotatedRegion&lt;SystemUiOverlayStyle&gt;(</span><span id="61f1" class="mn la it mj b gy ms mp l mq mr">value: SystemUiOverlayStyle.dark.copyWith(</span><span id="2c50" class="mn la it mj b gy ms mp l mq mr">statusBarColor: Colors.transparent,</span><span id="f4db" class="mn la it mj b gy ms mp l mq mr">systemNavigationBarColor: Colors.transparent,</span><span id="5ef2" class="mn la it mj b gy ms mp l mq mr">systemNavigationBarDividerColor: Colors.transparent,</span><span id="2730" class="mn la it mj b gy ms mp l mq mr">),</span><span id="ea4f" class="mn la it mj b gy ms mp l mq mr">child:  ,)</span></pre><p id="9edf" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">儿童旁边的最后一个空白是应用程序第一个屏幕的其余部分。</p><p id="4fe2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">它将系统用户界面设置为透明背景。结合我们的Android Kotlin的变化，将系统界面背景设置为透明。然后我们有materialApp scaffold调用来重置偏移，因为android Flutter engine应用程序绘制在顶部，而底部的system-UI-bar在底部，我们调整Flutter应用程序的偏移，以便system-UI绘制得像在顶部一样，尽管它不是:</p><figure class="mc md me mf gt ju"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="c564" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">它在android 27、28、29和30级API设备上产生了很好的效果:</p><figure class="mc md me mf gt ju gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/c3e50e7c7d8b1572d27a6c7aeadef18a.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*qzYlJlPzzTom0TJdI2KyHA.png"/></div></figure><h1 id="6846" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">项目源</h1><p id="e957" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">注意，项目源代码使用了我参与开发的Flutter-PlatForm-Widgets插件和RiverPod状态管理系统。我将在接下来的几篇文章中讨论这两个问题。项目回购是:</p><p id="ef8c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae mu" href="https://github.com/fredgrott/base_river" rel="noopener ugc nofollow" target="_blank">https://github.com/fredgrott/base_river</a></p><p id="82d0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">此外，请注意，我确实更改了谷歌的默认反演示应用程序UI，以使用像FAB这样的跨平台，而不是material-app。</p><h1 id="49ea" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">结论</h1><p id="9b85" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">这是一个必须解决的用户界面问题，以获得一个美观的令人敬畏的颤振应用程序。在我研究如何解决其他UI设计问题并撰写相关文章的时候，状态被调整了。</p><h1 id="374d" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated"><strong class="ak">资源</strong></h1><p id="5010" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">https://github.com/fredgrott/base_river<a class="ae mu" href="https://github.com/fredgrott/base_river" rel="noopener ugc nofollow" target="_blank">GitHub</a>的Base River repo</p><p id="f670" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在GitHub<a class="ae mu" href="https://github.com/fredgrott/flutterdeepdive" rel="noopener ugc nofollow" target="_blank">https://github.com/fredgrott/flutterdeepdive</a>进行深度回购</p><p id="e8ab" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">一般颤振和飞镖资源；</p><p id="4dab" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">扑社区资源<a class="ae mu" href="https://flutter.dev/community" rel="noopener ugc nofollow" target="_blank">https://flutter.dev/community</a></p><p id="8f9b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">颤振SDK<a class="ae mu" href="https://flutter.dev/docs/get-started/instal" rel="noopener ugc nofollow" target="_blank">https://flutter.dev/docs/get-started/instal</a></p><p id="ed9b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Android Studio IDE<a class="ae mu" href="https://developer.android.com/studio" rel="noopener ugc nofollow" target="_blank">https://developer.android.com/studio</a></p><p id="4b27" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">虚拟系统代码<a class="ae mu" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank">https://code.visualstudio.com/</a></p><p id="4e67" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">颤振文件<a class="ae mu" href="https://flutter.dev/docs" rel="noopener ugc nofollow" target="_blank">https://flutter.dev/docs</a></p><p id="88cf" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">dart Docs<a class="ae mu" href="https://dart.dev/guides" rel="noopener ugc nofollow" target="_blank">https://dart.dev/guides</a></p><p id="75c0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">谷歌Firebase移动测试实验室<a class="ae mu" href="https://firebase.google.com/docs/test-lab" rel="noopener ugc nofollow" target="_blank">https://firebase.google.com/docs/test-lab</a></p><h1 id="d556" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated"><strong class="ak">商标公告</strong></h1><p id="6972" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">Google LLC拥有以下商标:飞镖，颤振，机器人，机器人，诺托。苹果公司拥有iOS、MacOSX、Swift和Objective-C的商标。苹果公司拥有SF Pro、Sf Compact、SF mono和New York字体的商标。JetBeans Inc .拥有JetBeans、IntelliJ和Kotlin的商标。甲骨文公司拥有Java商标。微软公司拥有微软视窗操作系统和Powershell的商标。Gradle是Gradle Inc .的商标。Git项目拥有Git的商标。Linux基金会拥有Linux的商标。智能手机OEM自有商标到其手机产品名称。尽我所能，我遵守上述商标的品牌和使用指南。</p><h1 id="80e4" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated"><strong class="ak">关于弗雷德·格罗特</strong></h1><p id="001d" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">我是一个疯狂的SOB，作为一名前android移动开发者，我开始写关于flutter移动应用程序开发、设计和生活的文章(见<a class="ae mu" href="https://fredgrott.medium.com/eff-covid-and-the-gop-e912db0548b8" rel="noopener"> Eff新冠肺炎和共和党</a>)。我会达到关键的每月100万观众大关吗？坐下来看。在<a class="ae mu" href="https://www.xing.com/profile/Fred_Grott/cv" rel="noopener ugc nofollow" target="_blank">邢</a>、<a class="ae mu" href="https://www.linkedin.com/in/fredgrottstartupfluttermobileappdesigner/" rel="noopener ugc nofollow" target="_blank"> LinkedIN </a>、<a class="ae mu" href="https://keybase.io/fredgrott" rel="noopener ugc nofollow" target="_blank"> Keybase </a>、<a class="ae mu" href="https://twitter.com/fredgrott" rel="noopener ugc nofollow" target="_blank"> Twitter </a>等社交平台上找我。</p></div></div>    
</body>
</html>