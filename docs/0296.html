<html>
<head>
<title>How to manage Webpack configurations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何管理Webpack配置</h1>
<blockquote>原文：<a href="https://itnext.io/how-to-manage-webpack-configurations-3cf595d58383?source=collection_archive---------2-----------------------#2018-02-11">https://itnext.io/how-to-manage-webpack-configurations-3cf595d58383?source=collection_archive---------2-----------------------#2018-02-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/78e39883de38d5b2a61e7cef68e98e89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Zjx9xTFKu6yYorwN.jpeg"/></div></div></figure><p id="e251" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">配置Webpack非常容易，但是如果有许多环境和需求，它可能会变得更加困难。最近我在不同的项目中加入了Webpack，我想和你分享一个简单的配置方法。我确信有许多不同的方式来配置Webpack，也许更好，但我只打算比较其中的两种:</p><ul class=""><li id="4355" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated">一个文件来统治他们所有人</li><li id="6f57" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">扩展配置</li></ul><p id="f6d4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae lk" href="https://www.linkedin.com/cws/share?url=https%3A%2F%2Fitnext.io%2Fhow-to-manage-webpack-configurations-3cf595d58383" rel="noopener ugc nofollow" target="_blank"> <em class="ll">点击这里在LinkedIn </em>上分享这篇文章</a></p><h1 id="f2b3" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">一个文件来统治他们所有人</h1><p id="7159" class="pw-post-body-paragraph jy jz iq ka b kb mk kd ke kf ml kh ki kj mm kl km kn mn kp kq kr mo kt ku kv ij bi translated">当您开始配置Webpack时，您将会这样做。<strong class="ka ir">一个配置文件统治一切</strong>。这包括只有一个名为<em class="ll"> webpack.config.js </em>的文件，所有内容都写在那里。</p><p id="4bde" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">大概是这样的:</p><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="d9cf" class="my ln iq mu b gy mz na l nb nc">// Example file: webpack.config.js<br/>const path = require(“path”);<br/><br/>module.exports = process.env.production ?<br/>  getProdConfig() :<br/>  getDevConfig();<br/><br/>/**<br/> * Creates webpack configuration for production.<br/> */<br/>function getProdConfig() {<br/>  return {<br/>    entry: './foo.js',<br/>    // Add your prod config here: Minify, remove logs, etc.<br/>    output: {<br/>      path: path.resolve(__dirname, 'dist'),<br/>      filename: 'foo.bundle.js'<br/>    }<br/>  };<br/>}<br/><br/>/**<br/> * Creates webpack configuration for development.<br/> */<br/>function getDevConfig() {<br/>  return {<br/>    entry: './foo.js',<br/>    // Add your dev config here (devserver, sourcemaps, etc.)<br/>    output: {<br/>      path: path.resolve(__dirname, 'dist'),<br/>      filename: 'foo.bundle.js'<br/>    }<br/>  };<br/>}</span></pre><p id="cb29" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这对于小项目很有用，但是你的文件会变得越来越大，有一天你会发现这个结构不清晰也不可维护。在这一天到来之前，我建议你把你的配置分成不同的文件，就像我下面解释的那样。</p><h1 id="8ab2" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">扩展配置文件</h1><p id="1cb6" class="pw-post-body-paragraph jy jz iq ka b kb mk kd ke kf ml kh ki kj mm kl km kn mn kp kq kr mo kt ku kv ij bi translated">这种结构非常简单且适应性强。<strong class="ka ir">从一个名为<em class="ll"> webpack.base.config.js </em>的文件开始，然后根据需要扩展它。</strong></p><p id="6a36" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里有一个基本配置的示例:</p><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="0077" class="my ln iq mu b gy mz na l nb nc">const path = require(‘path’)<br/><br/>// This is the base configuration used on every environment<br/>// It contains general information like entry point, output,<br/>// common transformations, etc.<br/>module.exports = {<br/>  entry: './foo.js',<br/>  output: {<br/>    path: path.resolve(__dirname, 'dist'),<br/>    filename: 'foo.bundle.js'<br/>  }<br/>}</span></pre><p id="42d5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们假设你需要建立一个生产版本(缩小，没有源地图，没有开发服务器等。).没问题。有一个名为<a class="ae lk" href="https://www.npmjs.com/package/webpack-merge" rel="noopener ugc nofollow" target="_blank"> webpack-merge </a>的包可以简化这种情况。这是怎么回事？很简单，只需创建另一个名为<em class="ll"> webpack.prod.config.js的文件，然后</em>使用webpack-merge扩展您的基本配置，并覆盖您想要的任何内容。让我们看一个例子:</p><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="7f28" class="my ln iq mu b gy mz na l nb nc">const merge = require(“webpack-merge”);<br/>const baseWebpackCfg = require(“./webpack.base.config”);<br/><br/>// We are using webpack-merge to extend the base configuration<br/>// with specific information needed to build a version for<br/>// production. We will add here minification, log removal, etc.<br/>module.exports = merge(baseWebpackCfg, {<br/>  plugins: [<br/>    new MinifyPlugin()<br/>  ]<br/>})</span></pre><p id="f5c3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">只有一点:配置插件时要小心，因为它的属性不会被合并，而是被覆盖。</p><p id="334e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">webpack-merge允许不同的选项来合并您的配置文件。我用了最简单的一个，但看看它的网站，找到更多的选项来满足你的需求。</p><h1 id="a14a" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">结论</h1><p id="c8b1" class="pw-post-body-paragraph jy jz iq ka b kb mk kd ke kf ml kh ki kj mm kl km kn mn kp kq kr mo kt ku kv ij bi translated">使用<a class="ae lk" href="https://www.npmjs.com/package/webpack-merge" rel="noopener ugc nofollow" target="_blank"> webpack-merge </a>将会使你的webpack配置文件有条理、可读和可维护，但是如果你的项目刚刚开始，只使用一个文件，并在将来根据你的需要修改它。</p><h1 id="eaec" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">信用</h1><ul class=""><li id="735e" class="kw kx iq ka b kb mk kf ml kj nd kn ne kr nf kv lb lc ld le bi translated">Iker Urteaga 在<a class="ae lk" href="https://unsplash.com/search/photos/lego?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的特写照片</li></ul></div></div>    
</body>
</html>