<html>
<head>
<title>Full-Text Search in Flutter with Algolia, Firestore, Cloud Functions and Optimization.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Flutter中使用Algolia、Firestore、云函数和优化进行全文搜索。</h1>
<blockquote>原文：<a href="https://itnext.io/full-text-search-in-flutter-with-algolia-firestore-cloud-functions-with-optimization-54004d727ad1?source=collection_archive---------1-----------------------#2019-12-19">https://itnext.io/full-text-search-in-flutter-with-algolia-firestore-cloud-functions-with-optimization-54004d727ad1?source=collection_archive---------1-----------------------#2019-12-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/10d080b263e115be82d84a49f86c8d31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lDzRHfF4RLM8txX6mlnCmA.png"/></div></div></figure><figure class="jy jz ka kb gt jr"><div class="bz fp l di"><div class="kc kd l"/></div></figure><p id="1f98" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">许多移动应用程序都需要搜索功能。如果你用like Firebase服务做数据库和后台，你可以用查询操作搜索任何文档。在这种情况下，您可以为每个集合和每个不同的查询编写许多代码。而且您会因为切换单词相似性而进行过多的查询操作或读取集合中的所有文档。</p><p id="b08a" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">Firebase在其文档中推荐Algolia进行全文搜索。</p><p id="32aa" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">我会告诉你如何在颤振，而不是专业，快速，并尽可能清楚地告诉你。我也给你一些优化技巧。</p><p id="fd5f" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">我不会重复“如何在Flutter中读写Firestore？”“我如何设置云功能？”等。因为有许多指导性文件。</p><p id="6bec" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">1) <strong class="kg ir">你需要一个algolia账户。https://www.algolia.com/</strong>T2</p><p id="f65b" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">2 ) <strong class="kg ir">在Algolia仪表盘中创建Algolia指数</strong>。在这个例子中，我创建了一个<strong class="kg ir">“users”</strong>索引。</p><figure class="jy jz ka kb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ld"><img src="../Images/2ac627bd653d6c7dbfa852fb679793a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-Ax_xKGVAMIdMq-zzbvjBw.png"/></div></div></figure><p id="6b00" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">3) <strong class="kg ir">通过触发功能从Firestore向Algolia </strong>发送数据。</p><figure class="jy jz ka kb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi le"><img src="../Images/322dfe81f6be315bc6c3d063c33082aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MhUqJCQZvqGrMFhTWHDC1w.png"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">你的钥匙</figcaption></figure><p id="e98b" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">3.1) <strong class="kg ir"> Algolia储物类型</strong></p><p id="7b2e" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">Algolia搜索所有字段。例如，你不希望"电子邮件"被包括在结果中，你可以在记录操作时删除。如果您想输入相关单词并影响结果，您可以将它们记录在数组中。</p><p id="c4cf" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">{ <br/>《阿凡达》:<a class="ae lc" href="https://firebasestorage.googleapis.com/v0/b/invocation-infinty.appspot.com/o/userProfile%2FoHDHV92vXRght1Y4QrwXpzryECQ2%2Fprofile.jpg?alt=media&amp;token=1b89f4a8-43e0-454f-8132-50b5c426acad" rel="noopener ugc nofollow" target="_blank"> https:// </a> ……”、<br/> "userCountry": "TR "、<br/>" user mail ":"<a class="ae lc" href="mailto:mehmedyaz@gmail.com" rel="noopener ugc nofollow" target="_blank">mehmedyaz@gmail.com</a>"、<br/> "userName": "sarubatusavci "、<br/> "relevantWords": ["mehmet "、"…"]、<br/>" objectID ":" ohd HV 92 vxrght 1y 4 qrwxpzryecq 2 "<br/>}</p><p id="8bf0" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir"> objectID是重要且必要的</strong></p><p id="0b9c" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir"> 3.2)初始化index.js中的常量</strong></p><pre class="jy jz ka kb gt lj lk ll lm aw ln bi"><span id="b528" class="lo lp iq lk b gy lq lr l ls lt">const ALGOLIA_ID = "SF...."; //ApplicationID<br/>const ALGOLIA_ADMIN_KEY = "4e8ba...."; //Admin API Key<br/>const ALGOLIA_USER_INDEX = 'users'; //Your index name<br/>const algoliaClient = algoliasearch(ALGOLIA_ID, ALGOLIA_ADMIN_KEY);</span></pre><p id="6723" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir"> 3.3)触发函数和初始化algolia客户端。</strong></p><pre class="jy jz ka kb gt lj lk ll lm aw ln bi"><span id="261c" class="lo lp iq lk b gy lq lr l ls lt"><strong class="lk ir"><em class="lu">exports</em></strong>.setAlogliaApp = functions.firestore<br/>    .document("users/{userID}")<br/>    .onWrite((change, context) =&gt; {<br/>        //init algolia client<br/>        const index = algoliaClient.initIndex(ALGOLIA_USER_INDEX);<br/>        .....<br/>        .....<br/>        return null;<br/>    });</span></pre><p id="2a22" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">我的函数触发了“users/{userID}”文档中的所有更改。我需要在阿尔戈利亚只有“用户名”和“头像”领域的存储记录。</p><p id="adbf" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">所以我的功能必须被触发；</p><p id="fdd5" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir"> 3.3.1)“用户帐户创建时”</strong></p><pre class="jy jz ka kb gt lj lk ll lm aw ln bi"><span id="e10c" class="lo lp iq lk b gy lq lr l ls lt">if (!change.before.exists &amp;&amp; change.after.exists) {<br/>            const user = change.after.data();<br/>            user.objectID = change.after.id;<br/>            index.saveObject(user);<br/>        }</span></pre><p id="fcef" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir"> 3.3.2)“用户名或头像更改时”</strong></p><pre class="jy jz ka kb gt lj lk ll lm aw ln bi"><span id="039d" class="lo lp iq lk b gy lq lr l ls lt">else if (change.before.exists &amp;&amp; change.after.exists) {<br/>            if (<br/>                //ConditionBlockStart<br/>                (change.before.data().userName !== change.after.data().userName)<br/>                ||<br/>                (change.before.data().avatar !== change.after.data().avatar)<br/>                //ConditionBlockEnd<br/>            ) {<br/>                const user = change.after.data();<br/>                user.objectID = change.after.id;<br/>                //update - create record operation are same.<br/>                index.saveObject(user);<br/>            }</span></pre><p id="d38b" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir"> 3.3.3)“当用户帐户被删除时”</strong></p><pre class="jy jz ka kb gt lj lk ll lm aw ln bi"><span id="fddc" class="lo lp iq lk b gy lq lr l ls lt">else if (change.before.exists &amp;&amp; !change.after.exists) {<br/>            index.deleteObject(change.before.id);<br/>        }</span></pre><p id="dc04" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir">现在记录操作成功了！</strong></p><figure class="jy jz ka kb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lv"><img src="../Images/9dcaaadb921db1afd93e101d67cec0d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7N2Dvgg3vJ2n4bTtqY9wAQ.png"/></div></div></figure><p id="1fad" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir"> 4)在颤振中执行搜索</strong></p><p id="8773" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir"> 4.1)依赖关系</strong></p><pre class="jy jz ka kb gt lj lk ll lm aw ln bi"><span id="f1aa" class="lo lp iq lk b gy lq lr l ls lt">//add dependencies in pubspec.yaml</span><span id="cb87" class="lo lp iq lk b gy lw lr l ls lt">dependencies:<br/>  flutter:<br/>    sdk: flutter<br/>  algolia: ^0.1.7</span></pre><p id="0694" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir"> 4.2)初始化</strong></p><pre class="jy jz ka kb gt lj lk ll lm aw ln bi"><span id="fb15" class="lo lp iq lk b gy lq lr l ls lt">class AlgoliaApplication{<br/>  static final Algolia <em class="lu">algolia </em>= Algolia.init(<br/>    applicationId: 'SF.....', //ApplicationID<br/>    apiKey: 'e5....', //search-only api key in flutter code<br/>  );<br/>}</span></pre><p id="989d" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir"> 4)搜索操作和类型</strong></p><pre class="jy jz ka kb gt lj lk ll lm aw ln bi"><span id="a65f" class="lo lp iq lk b gy lq lr l ls lt">final Algolia _algolia = AlgoliaApplication.<em class="lu">algolia</em>;</span><span id="a8b4" class="lo lp iq lk b gy lw lr l ls lt">AlgoliaQuery query = _algolia.instance.index("users").search(input);</span><span id="54dc" class="lo lp iq lk b gy lw lr l ls lt">AlgoliaQuerySnapshot querySnap = await query.getObjects();</span><span id="3f1a" class="lo lp iq lk b gy lw lr l ls lt">List&lt;AlgoliaObjectSnapshot&gt; results = querySnap.hints;</span><span id="8565" class="lo lp iq lk b gy lw lr l ls lt">AlgoliaObjectSnapshot object = results.first; //example first</span><span id="7af2" class="lo lp iq lk b gy lw lr l ls lt">String objectID = object.objectID;</span><span id="28e2" class="lo lp iq lk b gy lw lr l ls lt">Map&lt;String, dynamic&gt; objectData = object.data;</span><span id="0e1f" class="lo lp iq lk b gy lw lr l ls lt">String userName = objectData["userName"];<br/>int someInt = objectData["someNumber"];</span></pre><p id="1e59" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">你可以在任何地方输入并放置一个搜索按钮，当用户按下按钮时，你可以开始搜索操作并在未来的Builder和ListView或GridView或SliverList等中显示你的搜索。</p><p id="15f3" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">但是:如果你想在没有搜索按钮的情况下开始操作(比如我的视频)，你可以启动operation TextField &gt; onChange(val)函数。</p><p id="ff5a" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">！！在这种情况下，操作次数会增加。因为每个字母有一个操作。所以会产生不必要的成本。</p><figure class="jy jz ka kb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lx"><img src="../Images/72b30b356f70d0314da8066833d145ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yZtQoLrQBD2s_yDZzdhpOg.png"/></div></div></figure><p id="e32f" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir"> 5)求解(优化):</strong></p><p id="fc7a" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">您需要有关“用户写更多”或“用户写并等待结果”的状态信息</p><p id="4548" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">我的图表:</p><figure class="jy jz ka kb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ly"><img src="../Images/ec8f93d13e47eb13630bb76817b3e3f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OwNvHHhfYdqtYHpY4zScxQ.png"/></div></div></figure><p id="1cd2" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir"> 5.1)创建搜索页面</strong></p><pre class="jy jz ka kb gt lj lk ll lm aw ln bi"><span id="eba8" class="lo lp iq lk b gy lq lr l ls lt">import 'dart:async';<br/>import 'package:algolia/algolia.dart';<br/><br/>class SearchPage extends StatefulWidget {</span><span id="389b" class="lo lp iq lk b gy lw lr l ls lt">  const SearchPage({Key key, this.analytics, this.user}) : super(key: key);<br/>  @override<br/>  _SearchPageState createState() =&gt; _SearchPageState();<br/>}<br/><br/>class _SearchPageState extends State&lt;SearchPage&gt; {<br/>  final GlobalKey&lt;ScaffoldState&gt; _searchPageState = GlobalKey&lt;ScaffoldState&gt;();<br/>  <br/>  <br/>  final Algolia _algol = AlgoliaApplication.<em class="lu">algolia</em>;<br/>  String _searchTerm;<br/>  bool _isSearch;</span><span id="7a6b" class="lo lp iq lk b gy lw lr l ls lt">  Future&lt;List&lt;AlgoliaObjectSnapshot&gt;&gt; _futureResults;<br/>  List&lt;AlgoliaObjectSnapshot&gt; _results = List&lt;AlgoliaObjectSnapshot();<br/><br/>  @override<br/>  void initState() {<br/>    _isSearch = false;<br/>    super.initState();<br/>  }<br/><br/>  @override<br/>  void dispose() {<br/>    super.dispose();<br/>  }<br/><br/>  <br/>  @override<br/>  Widget build(BuildContext context) {<br/>    return .... ;<br/>  }<br/>}</span></pre><p id="18b3" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir"> 5.2)搜索操作</strong></p><pre class="jy jz ka kb gt lj lk ll lm aw ln bi"><span id="33dc" class="lo lp iq lk b gy lq lr l ls lt">Future&lt;List&lt;AlgoliaObjectSnapshot&gt;&gt; _operation(String input) async {<br/>  List&lt;AlgoliaObjectSnapshot&gt; results = new List&lt;AlgoliaObjectSnapshot&gt;();<br/>  AlgoliaQuery query = _algol.instance.index("users").search(input);<br/>  AlgoliaQuerySnapshot snap = await query.getObjects();<br/>  results = snap.hits;<br/>  return results;<br/>}</span></pre><p id="8662" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir"> 5.3)带定时器的搜索操作功能，</strong></p><pre class="jy jz ka kb gt lj lk ll lm aw ln bi"><span id="fd0e" class="lo lp iq lk b gy lq lr l ls lt">_searchResultOperation(String input) {<br/>  if (input.length &gt; 0) {<br/>    Duration duration = Duration(milliseconds: 500);<br/>    Timer(duration, () {<br/>      if (input == _searchTerm) {<br/>        // input hasn't changed in the last 500 milliseconds..<br/>        // you can start search</span><span id="23aa" class="lo lp iq lk b gy lw lr l ls lt">        print('Now !!! search term : ' + _searchTerm);<br/>        if (_isSearch) {<br/>          Future&lt;List&lt;AlgoliaObjectSnapshot&gt;&gt; searchRes =<br/>              _operation(_searchTerm); //SEARCH OPERATION<br/>          setState(() {<br/>            _futureResults = searchRes;<br/>          });<br/>          _setResult(_futureResults);<br/>        }<br/>      } else {<br/>        //wait.. Because user still writing..</span><span id="f7e6" class="lo lp iq lk b gy lw lr l ls lt">        print('Not Now');<br/>      }<br/>    });<br/>  }<br/>}</span></pre><figure class="jy jz ka kb gt jr gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/ed819f15a068191fd6fc72d6c3179573.png" data-original-src="https://miro.medium.com/v2/resize:fit:974/format:webp/1*XqLxfYaBAmtkDjVrmcpyxQ.png"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">我们没有为“买买提”和“买买提”进行操作</figcaption></figure><p id="6c6b" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir"> 5.4)未来服务员</strong></p><p id="5885" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">也可以在“_searchResultOperation”中设置结果。</p><pre class="jy jz ka kb gt lj lk ll lm aw ln bi"><span id="1766" class="lo lp iq lk b gy lq lr l ls lt">_setResult(Future&lt;List&lt;AlgoliaObjectSnapshot&gt;&gt; objects) async {<br/>  List&lt;AlgoliaObjectSnapshot&gt; snapshot = await objects;<br/>  setState(() {<br/>    _results = snapshot;<br/>  });<br/>}</span></pre><p id="a6aa" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir"> 5.5)搜索词输入</strong></p><pre class="jy jz ka kb gt lj lk ll lm aw ln bi"><span id="1661" class="lo lp iq lk b gy lq lr l ls lt">Color secondary = Theme.<em class="lu">of</em>(context).primaryColorDark;</span><span id="6286" class="lo lp iq lk b gy lw lr l ls lt">return Scaffold(<br/>      key: _searchPageState,<br/>      backgroundColor: primary,<br/>      appBar: AppBar(<br/>        automaticallyImplyLeading: false,<br/>        title: TextField(<br/>          decoration: InputDecoration(<br/>              border: InputBorder.<em class="lu">none</em>,<br/>              hintText: "Search...",<br/>              hintStyle: TextStyle(color: secondary.withAlpha(50))),<br/>          onChanged: (val) {<br/>            setState(() {<br/>              if (val.length &gt; 2) {<br/>                _isSearch = true;<br/>                _searchTerm = val;<br/>                _searchResultOperation(val);<br/>              } else {<br/>                _isSearch = false;<br/>              }<br/>            });<br/>          },<br/>        ),<br/>      ),</span><span id="adc9" class="lo lp iq lk b gy lw lr l ls lt">      .<br/>      .</span><span id="da00" class="lo lp iq lk b gy lw lr l ls lt">      floatingActionButton: FloatingActionButton(<br/>        onPressed: () {<br/>          Navigator.<em class="lu">pop</em>(context);<br/>        },<br/>        child: Icon(Icons.<em class="lu">arrow_back</em>),<br/>      ),<br/>    );</span></pre><p id="5c35" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir"> 5.6)显示结果</strong></p><pre class="jy jz ka kb gt lj lk ll lm aw ln bi"><span id="051a" class="lo lp iq lk b gy lq lr l ls lt">@override<br/>Widget build(BuildContext context) {<br/>  Color secondary = Theme.<em class="lu">of</em>(context).primaryColorDark;<br/>  return Scaffold(<br/>    key: _searchPageState,<br/>    backgroundColor: primary,<br/>    appBar: AppBar(...),<br/>    body: SafeArea(<br/>      child: _isSearch &amp;&amp; _results.length &gt; 0<br/>          ? ListView.builder(<br/>              itemCount: _results.length,<br/>              itemBuilder: (context, i) {<br/>                return ListTile(<br/>                  onTap: () {<br/>                    onTapAction(_results[i].objectID);<br/>                  },<br/>                  title: Text(<br/>                    _results[i].data['userName'],<br/>                    style: TextStyle(color: secondary),<br/>                  ),<br/>                  leading: CircleAvatar(<br/>                    backgroundImage: _results[i].data['avatar'] == null<br/>                        ? AssetImage("assets/default_profile.jpg")<br/>                        : NetworkImage(_results[i].data['avatar']),<br/>                  ),<br/>                );<br/>              })<br/>          : Center(<br/>              child: Text(<br/>                "Please enter terms for searh users...",<br/>                style: TextStyle(color: secondary),<br/>              ),<br/>            ),<br/>    ),<br/>    floatingActionButton: FloatingActionButton(<br/>      onPressed: () {<br/>        Navigator.<em class="lu">pop</em>(context);<br/>      },<br/>      child: Icon(Icons.<em class="lu">arrow_back</em>),<br/>    ),<br/>  );<br/>}</span></pre><p id="874f" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated"><strong class="kg ir">关闭</strong></p><p id="4ddc" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">我是一名新开发人员(6个月)，英语水平较低。</p><p id="a0b4" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">因此，我很抱歉由于错误。</p><p id="acd4" class="pw-post-body-paragraph ke kf iq kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ij bi translated">好好工作！</p></div></div>    
</body>
</html>