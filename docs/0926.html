<html>
<head>
<title>Vue page wrapper components</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vue页面包装组件</h1>
<blockquote>原文：<a href="https://itnext.io/vue-page-wrapper-components-8707522c6b3e?source=collection_archive---------5-----------------------#2018-06-19">https://itnext.io/vue-page-wrapper-components-8707522c6b3e?source=collection_archive---------5-----------------------#2018-06-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/24994747190bfa5ab7282d92569fa480.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RupsGBEjysLXQJAl8-bLZQ.png"/></div></div></figure><div class=""/><p id="7d6d" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这个问题我以前也遇到过，并不时困扰着我:如何正确配置当前的页面标题，使其以动态方式出现。</p><p id="f899" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">有许多架构决策支持这种用例，我将在本帖中详细介绍它们:</p><ol class=""><li id="d2e2" class="kw kx jb ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated">路由元属性</li><li id="605d" class="kw kx jb ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">vuex动作+状态</li><li id="a6ea" class="kw kx jb ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">包装组件</li></ol></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><h1 id="9c8c" class="lr ls jb bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">路由元属性</h1><p id="77aa" class="pw-post-body-paragraph jy jz jb ka b kb mp kd ke kf mq kh ki kj mr kl km kn ms kp kq kr mt kt ku kv ij bi translated">定义路线时，您可以添加稍后可在组件上访问的属性。</p><pre class="mu mv mw mx gt my mz na nb aw nc bi"><span id="d836" class="nd ls jb mz b gy ne nf l ng nh">const routes = {<br/>  path: '/home',<br/>  meta: {<br/>    title: 'Home page'<br/>  }<br/>}]</span></pre><p id="aeca" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在您的页面组件上:</p><pre class="mu mv mw mx gt my mz na nb aw nc bi"><span id="8103" class="nd ls jb mz b gy ne nf l ng nh">HomePage.vue</span><span id="b7ed" class="nd ls jb mz b gy ni nf l ng nh">&lt;template&gt;<br/>  &lt;div class="container"&gt;<br/>   &lt;p class="title"&gt;{{$route.meta.title}}&lt;/p&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span></pre><p id="e22e" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这种方法的问题是你必须事先知道标题，并且不允许真正动态的标题改变。假设您有一个用户详细信息页面。您应该能够在页面标题中显示这样的内容:“编辑用户X”，这是用静态元方式无法做到的。</p></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><h1 id="8f0d" class="lr ls jb bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">Vuex动作+状态</h1><p id="11c6" class="pw-post-body-paragraph jy jz jb ka b kb mp kd ke kf mq kh ki kj mr kl km kn ms kp kq kr mt kt ku kv ij bi translated">通过这种选择，组件负责更改商店上的当前标题。这可以在创建/安装时或在某种逻辑之后完成。</p><pre class="mu mv mw mx gt my mz na nb aw nc bi"><span id="ae48" class="nd ls jb mz b gy ne nf l ng nh">HomePage.vue</span><span id="3430" class="nd ls jb mz b gy ni nf l ng nh">export default {<br/>   created () {<br/>     this.$store.dispatch('setTitle', 'A beautiful title')<br/>   }<br/>}</span></pre><p id="f74d" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这工作得很好，除了现在每个页面组件都必须绑定到商店，并且“记住”在所有情况下设置页面标题。你甚至必须将你的ui模块的一部分专门用于标题、一个动作、一个突变和一个getter。太多样板文件。</p></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><h1 id="49a4" class="lr ls jb bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">包装组件</h1><p id="a871" class="pw-post-body-paragraph jy jz jb ka b kb mp kd ke kf mq kh ki kj mr kl km kn ms kp kq kr mt kt ku kv ij bi translated">这是我个人最喜欢的解决方案。您有一个将在每个页面上使用的包装组件，它接收标题作为道具。</p><pre class="mu mv mw mx gt my mz na nb aw nc bi"><span id="fb43" class="nd ls jb mz b gy ne nf l ng nh">&lt;page-content :title="reactiveTitle"&gt;<br/>... the actual page content<br/>&lt;/page-content&gt;</span></pre><p id="8fbf" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">页面内容组件将包装并添加标题(您也可以添加其他命名的槽来增强功能):</p><pre class="mu mv mw mx gt my mz na nb aw nc bi"><span id="8e13" class="nd ls jb mz b gy ne nf l ng nh">PageContent.vue</span><span id="ad0f" class="nd ls jb mz b gy ni nf l ng nh">&lt;template&gt; <br/>  &lt;h3 class="title"&gt; {{title}} &lt;/h3&gt; <br/>  &lt;slot&gt;&lt;/slot&gt;<br/>&lt;/template&gt;</span><span id="b1f3" class="nd ls jb mz b gy ni nf l ng nh">&lt;script&gt;<br/>  export default {<br/>    props: {<br/>      title: String<br/>    }<br/>  }<br/>&lt;/script&gt;</span></pre><p id="ea77" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">主槽将被替换为页面内容，并确保随着应用程序的增长，您不会重复在多个页面上设置页面标题。</p></div></div>    
</body>
</html>