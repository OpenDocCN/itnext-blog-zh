<html>
<head>
<title>Basic Authentication using auth.nuxt.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用auth.nuxt.js的基本身份验证</h1>
<blockquote>原文：<a href="https://itnext.io/basic-authentication-using-auth-nuxt-js-e140859ab4c3?source=collection_archive---------0-----------------------#2018-05-09">https://itnext.io/basic-authentication-using-auth-nuxt-js-e140859ab4c3?source=collection_archive---------0-----------------------#2018-05-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/ced64f40b355375ac3668d49b9bb92f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yFoiGYKkJAzD7CewduwUVw.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae kc" href="https://cdn.scotch.io/38945/g8Bvdn8RQDxUZ2YTTZwC_Build%20a%20Server-Side%20Rendered%20Vue%20App%20with%20Nuxt.js.png.jpg" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><h1 id="7764" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">介绍</h1><p id="f66e" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">最近，我知道了一种使用nuxt js提供的“auth-module”通过认证的简单方法。你可以在https://auth.nuxtjs.org<a class="ae kc" href="https://auth.nuxtjs.org" rel="noopener ugc nofollow" target="_blank">的</a>看看这个模块。他们提供了一些例子，但这是我如何实现。</p><p id="c67e" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">要开始，您必须安装几个模块，包括vue-cli模块。</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="2b01" class="mn ke iq mj b gy mo mp l mq mr">npm install -g vue-cli</span></pre><p id="d70d" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">安装vue-cli后，您可以从nuxtjs提供的样板代码开始。只需输入下面的命令，并改变项目的名称。</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="a765" class="mn ke iq mj b gy mo mp l mq mr">vue init nuxt-community/starter-template &lt;project-name&gt;</span></pre><p id="10ad" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">CD放入项目目录，然后进行npm安装或yarn安装。要开始这个项目，你可以做一个npm运行开发。所有可以使用的命令在package.json文件中的“scripts”下有明确的说明</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="d1e9" class="mn ke iq mj b gy mo mp l mq mr">{<br/> "scripts": {<br/>     "dev": "nuxt",<br/>     "build": "nuxt build",<br/>     "start": "nuxt start",<br/>     "generate": "nuxt generate",<br/>     "lint": "eslint --ext .js,.vue --ignore-path .gitignore .",<br/>     "precommit": "npm run lint"<br/>  }<br/>}</span></pre><p id="ea13" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">现在我们的基础项目设置已经完成。</p><h2 id="461e" class="mn ke iq bd kf ms mt dn kj mu mv dp kn lm mw mx kr lq my mz kv lu na nb kz nc bi translated">auth.nuxtjs入门</h2><p id="59f6" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">要开始，您需要安装以下软件包。</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="d14e" class="mn ke iq mj b gy mo mp l mq mr">npm install --save <a class="ae kc" href="http://twitter.com/nuxtjs/auth" rel="noopener ugc nofollow" target="_blank">@nuxtjs/auth</a> <a class="ae kc" href="http://twitter.com/nuxtjs/axios" rel="noopener ugc nofollow" target="_blank">@nuxtjs/axios</a> <a class="ae kc" href="http://twitter.com/nuxtjs/toast" rel="noopener ugc nofollow" target="_blank">@nuxtjs/toast</a> bootstrap-vue</span></pre><p id="e086" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">我为这个教程选择了<a class="ae kc" href="https://bootstrap-vue.js.org" rel="noopener ugc nofollow" target="_blank"> boostrap-vue </a>()。如果你需要，你可以使用<a class="ae kc" href="https://vuetifyjs.com/en/" rel="noopener ugc nofollow" target="_blank"> vuetify </a>或者任何其他的UI框架。记得用基于<a class="ae kc" href="http://twitter.com/nuxtjs" rel="noopener ugc nofollow" target="_blank"> @nuxtjs </a>版本的axios。</p><p id="4845" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">好的。现在我们必须配置每个包来使用nuxt js。所以我们从auth开始吧。转到项目根目录下的nuxt.config.js。</p><ol class=""><li id="9efd" class="nd ne iq ld b le lz li ma lm nf lq ng lu nh ly ni nj nk nl bi translated">添加相关模块</li></ol><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="d0ec" class="mn ke iq mj b gy mo mp l mq mr">modules: [<br/>    '<a class="ae kc" href="http://twitter.com/nuxtjs/axios" rel="noopener ugc nofollow" target="_blank">@nuxtjs/axios</a>',<br/>    '<a class="ae kc" href="http://twitter.com/nuxtjs/auth" rel="noopener ugc nofollow" target="_blank">@nuxtjs/auth</a>',<br/>    '<a class="ae kc" href="http://twitter.com/nuxtjs/toast" rel="noopener ugc nofollow" target="_blank">@nuxtjs/toast</a>',<br/>    'bootstrap-vue/nuxt'<br/>],</span></pre><p id="88c8" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">2.添加toast消息配置</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="40c1" class="mn ke iq mj b gy mo mp l mq mr">toast: {<br/>    position: 'top-right',<br/>    duration: 2000<br/>  }</span></pre><p id="2a80" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">3.添加axios baseURL。这将是您的API基本url</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="9b83" class="mn ke iq mj b gy mo mp l mq mr">axios: {<br/> baseURL: ‘<a class="ae kc" href="http://192.168.8.141:5000/api/v1'" rel="noopener ugc nofollow" target="_blank">http://192.168.8.141:5000/api/v1'</a><br/> },</span></pre><p id="18bd" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">4.让我们开始装货吧</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="7e4d" class="mn ke iq mj b gy mo mp l mq mr">loading: {<br/>    name: 'chasing-dots',<br/>    color: '#ff5638',<br/>    background: 'white',<br/>    height: '4px'<br/> },</span></pre><p id="0922" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">5.最后，添加最重要的授权模块配置</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="8745" class="mn ke iq mj b gy mo mp l mq mr">auth: {<br/>    strategies: {<br/>      local: {<br/>        endpoints: {<br/>          login: {url: '/user/login', method: 'post', propertyName:    'token' },<br/>          logout: false,<br/>          user: {url: '/user/user', method: 'get', propertyName: 'data'},<br/>        },<br/>        tokenRequired: true,<br/>        tokenType: 'Bearer'<br/>      },<br/>      facebook: {<br/>        client_id: 'your facebook app id',<br/>        userinfo_endpoint: '<a class="ae kc" href="https://graph.facebook.com/v2.12/me?fields=about,name,picture{url},email'" rel="noopener ugc nofollow" target="_blank">https://graph.facebook.com/v2.12/me?fields=about,name,picture{url},email'</a>,<br/>        scope: ['public_profile', 'email']<br/>      },<br/>      google: {<br/>        client_id: 'your gcloud oauth app client id'<br/>      },<br/>    },<br/>    redirect: {<br/>      login: '/?login=1',<br/>      logout: '/',<br/>      user: '/profile',<br/>      callback:'/'<br/>    }</span></pre><p id="8744" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">好了，我们来一个一个的过一遍上面的配置。[ local，facebook，google，twitter，github oAuth ]是auth.nuxtjs模块中包含的身份验证策略。除此之外，您还可以向配置中添加自定义策略。请参考<a class="ae kc" href="http://auth.nuxtjs.org" rel="noopener ugc nofollow" target="_blank"> <em class="nm"> auth.nuxtjs </em> </a>配置。</p><p id="1071" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">如果你看一下<em class="nm">本地策略，</em>有一个字段叫做<strong class="ld ir">端点</strong>。<strong class="ld ir">登录</strong>端点指的是您的API的认证路由。<strong class="ld ir">方法</strong>参数是一个POST，<strong class="ld ir">属性名</strong>表示访问令牌出现在响应中的位置。作为参考，这是在auth.nuxtjs模块中设置<strong class="ld ir"> propertyName </strong>的方式。</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="3fbf" class="mn ke iq mj b gy mo mp l mq mr">// Taken from the nuxt-auth</span><span id="2db6" class="mn ke iq mj b gy nn mp l mq mr">return this.ctx.app.$axios<br/>      .request(_endpoint)<br/>      .then(response =&gt; {<br/>        if (_endpoint.propertyName) {<br/>          return getProp(response.data, _endpoint.propertyName)<br/>        } else {<br/>          return response.data<br/>        }<br/>      })</span></pre><p id="8ecf" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">我遇到了一个问题。auth token是作为一个头参数出现的，我想不出解决这个问题的方法。所以我改了API。如果你找到了解决这个问题的方法，请在评论中提及。</p><p id="bdb5" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">然后，您可以使用<strong class="ld ir"> logout </strong>字段来定义API的注销url。因为REST是无状态的，所以我们不需要它。<strong class="ld ir">用户</strong>参数帮助检索登录时的用户信息。您还可以定义<strong class="ld ir">令牌类型</strong>“载体”，然后它将被添加到auth令牌的前面。</p><p id="6242" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">然后我们来过一遍<strong class="ld ir"> facebook </strong> auth策略。这里你只需要定义<strong class="ld ir">范围</strong>、<strong class="ld ir"> clientId </strong>和<strong class="ld ir"> loginurl </strong>。我用过facebook API版，但它很快就会被弃用。谷歌、推特和github也是如此。</p><p id="103a" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">然后你必须指定<em class="nm">重定向</em>URL。因此，在那里，您可以指定注销页面url、用户资料url和将在社交登录中使用的回拨url。因此，如果你有自己的授权流，回调url将帮助你用API生成的令牌交换社交登录令牌。Nuxt可以使用下面的代码监听url参数。</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="d917" class="mn ke iq mj b gy mo mp l mq mr">watch: {<br/>    $route() {<br/>      //do something with the url params set<br/>    }<br/>  },</span></pre><p id="1af0" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">最后，我将在github中包含soucecode，这样您就可以看到我对url参数做了什么。哦！还有最后一件事，别忘了在<strong class="ld ir"><em class="nm">/store</em></strong>director下创建index.js文件来激活Vuex商店。</p><h1 id="c4b5" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">示例用户界面</h1><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi no"><img src="../Images/f0aa03af13742df808f93f894bd51e25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q21hkOZvX4OyghPPtMLItA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">我们在做什么</figcaption></figure><p id="4249" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">让我们构建一个示例ui来测试配置。删除内页<em class="nm"> index.vue </em>中的所有默认代码，现在你的<em class="nm"> index.vue </em>应该是这样的。</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="968d" class="mn ke iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;section class="container"&gt;<br/>    &lt;div&gt;&lt;/div&gt;<br/>  &lt;/section&gt;<br/>&lt;/template&gt;</span></pre><p id="afb0" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">然后让我们创建一个<strong class="ld ir">漂亮的</strong> <strong class="ld ir"> <em class="nm">窗体</em> </strong>。只需<em class="nm">复制并粘贴</em>下面给出的代码。</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="5e2a" class="mn ke iq mj b gy mo mp l mq mr">&lt;template&gt;<br/> &lt;section class="container"&gt;<br/>     &lt;div&gt;<br/>       &lt;b-form&gt;<br/>         &lt;b-form-group  description="Let us know your Email." label="Enter your Email" label-for="username"&gt;<br/>           &lt;b-form-input id="username" v-model="email" type="email" required&gt;&lt;/b-form-input&gt;<br/>         &lt;/b-form-group&gt;<br/>         &lt;b-form-group  description="Let us know your Password." label="Enter your Password" label-for="pw"&gt;<br/>           &lt;b-form-input id="pw" v-model="password" type="password"&gt; &lt;/b-form-input&gt;<br/>         &lt;/b-form-group&gt;<br/>         &lt;b-button-group size="sm"&gt;<br/>             &lt;b-button <a class="ae kc" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="facebook" variant="outline-success"&gt;Facebook&lt;/b-button&gt;<br/>             &lt;b-button <a class="ae kc" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="login" variant="outline-success"&gt;Login&lt;/b-button&gt;<br/>             &lt;b-button <a class="ae kc" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="google" variant="outline-success"&gt;Google&lt;/b-button&gt;<br/>             &lt;b-button <a class="ae kc" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="logout" variant="outline-success"&gt;Logout&lt;/b-button&gt;<br/>             &lt;b-button <a class="ae kc" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="check" variant="outline-success"&gt;Check&lt;/b-button&gt;<br/>             &lt;b-button to="/callback" variant="outline-success"&gt;Callback&lt;/b-button&gt;<br/>           &lt;/b-button-group&gt;<br/>       &lt;/b-form&gt;<br/>     &lt;/div&gt;<br/>    &lt;/section&gt;<br/>&lt;/template&gt;</span><span id="1ea4" class="mn ke iq mj b gy nn mp l mq mr">&lt;script&gt;</span><span id="7c1d" class="mn ke iq mj b gy nn mp l mq mr">export default {<br/> data() {<br/>     return {<br/>       email:'',<br/>       password:''<br/>     }<br/>   },<br/>  mounted() {},<br/>  watch: {},<br/>  components: {},<br/>  methods: {<br/>   google(){},<br/>   facebook(){},<br/>   login(){},<br/>   logout(){},<br/>   check(){},<br/>  } <br/>}</span><span id="a601" class="mn ke iq mj b gy nn mp l mq mr">&lt;/script&gt;</span><span id="32a6" class="mn ke iq mj b gy nn mp l mq mr">&lt;style&gt;</span><span id="d70f" class="mn ke iq mj b gy nn mp l mq mr">.container {<br/>   min-height: 100vh;<br/>   display: flex;<br/>   justify-content: center;<br/>   align-items: center;<br/>   text-align: center;<br/> }</span><span id="b26c" class="mn ke iq mj b gy nn mp l mq mr">&lt;/style&gt;</span></pre><p id="1b97" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">下面给出了方法定义</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="dc8d" class="mn ke iq mj b gy mo mp l mq mr">google()- Google Login<br/>facebook()- Facebook Login<br/>login()- Local Authentication<br/>logout() — Logout function<br/>check() — Check whether the user is logged in or now. Check the console for the output</span></pre><p id="7e4c" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">注意，我已经使用bootstrap-vue构建了表单。现在我们到了最后一步。让我们创建登录所需的方法。</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="68b8" class="mn ke iq mj b gy mo mp l mq mr">async google(){<br/>      await this.$auth.loginWith('google').catch(e =&gt; {<br/>        this.$toast.show('Error', {icon: "fingerprint"});<br/>      })<br/>    },<br/>    async facebook(){<br/>       await this.$auth.loginWith('facebook').catch(e =&gt; {<br/>        this.$toast.show('Error', {icon: "fingerprint"});<br/>      })</span><span id="d4be" class="mn ke iq mj b gy nn mp l mq mr">},<br/>    async login() {<br/>      try {<br/>        this.$toast.show('Logging in...', {icon: "fingerprint"});<br/>        await this.$auth.loginWith('local', {<br/>          data: {<br/>            "email": this.email,<br/>            "password": this.password<br/>          }<br/>        }).catch(e =&gt; {<br/>          this.$toast.error('Failed Logging In', {icon: "error_outline"});<br/>        });</span><span id="5dfb" class="mn ke iq mj b gy nn mp l mq mr">if (this.$auth.loggedIn) {<br/>          this.$toast.success('Successfully Logged In', {icon: "done"});<br/>        }<br/>      } catch (e) {        <br/>          this.$toast.error('Username or Password wrong', {icon: "error"});<br/>      }<br/>    },<br/>    check(){<br/>      console.log(this.$auth.loggedIn)<br/>    },<br/>    logout() {<br/>      this.$toast.show('Logging out...', {icon: "fingerprint"});<br/>      this.$auth.logout()<br/>    },</span></pre><p id="a676" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">我曾使用谷歌材料图标作为吐司图标。您只需将材料图标cdn放在标题字段的<strong class="ld ir">链接</strong>下。现在我们差不多完成了。要检查您是否已登录，请使用控制台。检查<strong class="ld ir">cookie</strong>、<strong class="ld ir">本地存储</strong>。设置所有这些事情都是由nuxt-auth模块本身自动完成的。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi np"><img src="../Images/c7f4719cddfaf4671503cd166eadcddd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XNuUixzpsPMoOMlWi94Gyw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">使用Gmail登录后的Vuex商店</figcaption></figure><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nq"><img src="../Images/c6f531ab5a76806ceceb2ffb819f99e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LIrzLMCgqWWGy99bOp0veg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">饼干</figcaption></figure><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi no"><img src="../Images/0390b5740ed5cb2901ffb2dc8f2fb11f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bt1eolR_mEYF6SFyZH88bQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">使用Gmail登录后的本地存储</figcaption></figure><p id="3665" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">在页面内创建一个名为<strong class="ld ir"> callback.vue </strong>的页面，并添加以下代码。</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="0a53" class="mn ke iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;h1&gt;You are Secure&lt;/h1&gt;<br/>    &lt;b-button to="/" variant="success"&gt;Callback&lt;/b-button&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;</span><span id="2de6" class="mn ke iq mj b gy nn mp l mq mr">export default {<br/>    middleware: ['auth']<br/>  }</span><span id="124e" class="mn ke iq mj b gy nn mp l mq mr">&lt;/script&gt;</span><span id="5a17" class="mn ke iq mj b gy nn mp l mq mr">&lt;style scoped&gt;</span><span id="cee7" class="mn ke iq mj b gy nn mp l mq mr">&lt;/style&gt;</span></pre><p id="6b5c" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">请注意，我添加了一个名为['auth']的新中间件。Nuxt-auth模块会自动为你创建一个中间件，这样你就不用自己写中间件在重定向到页面之前检查你是否通过了身份验证。本教程到此结束。当我有时间的时候，我会做更多的nuxt教程。保持联系，❤。特别感谢<a class="nr ns ep" href="https://medium.com/u/e226e30be934?source=post_page-----e140859ab4c3--------------------------------" rel="noopener" target="_blank"> Rooshan Akthar </a>向我介绍auth.nuxt.js</p></div></div>    
</body>
</html>