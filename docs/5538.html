<html>
<head>
<title>Integrate Medium Blog Feed in Flutter App — MVC Architecture</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Flutter应用程序中集成媒体博客提要— MVC架构</h1>
<blockquote>原文：<a href="https://itnext.io/integrate-medium-blog-feed-in-flutter-app-mvc-architecture-3e0b3c90bfa3?source=collection_archive---------2-----------------------#2021-03-27">https://itnext.io/integrate-medium-blog-feed-in-flutter-app-mvc-architecture-3e0b3c90bfa3?source=collection_archive---------2-----------------------#2021-03-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="b5ab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我一直在寻找将我的媒体博客整合到我的<a class="ae kl" href="http://m-hamzashakeel.github.io/" rel="noopener ugc nofollow" target="_blank">作品集</a>中的资源。但遗憾的是，<a class="ae kl" href="https://github.com/Medium/medium-api-docs" rel="noopener ugc nofollow" target="_blank"> Medium官方API Doc</a>没有GET文章或博客方法(如果有人发现请通知我)。</p><p id="8ab6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">无论如何，我发现了这种使用<a class="ae kl" href="https://rss2json.com/docs" rel="noopener ugc nofollow" target="_blank"> RSS2Json </a>的新方法，并生成了获取您的<strong class="jp ir">媒体博客提要的端点。</strong></p><blockquote class="km kn ko"><p id="7615" class="jn jo kp jp b jq jr js jt ju jv jw jx kq jz ka kb kr kd ke kf ks kh ki kj kk ij bi translated">注意:它的中型博客源，意味着当你点击你的<a class="ae kl" href="https://mhamzadev.medium.com/" rel="noopener">个人资料</a>时显示的所有博客都可以被获取。</p></blockquote><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi kt"><img src="../Images/de41e7d4594b433564f8da54d2c92d13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MzOdZqRWSrqDdQG1eUwZ1Q.png"/></div></div></figure><h1 id="9d87" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">MVC结构</h1><p id="f054" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">让我总结一下我们将要做的事情，因为我们也在使用MVC架构。</p><ol class=""><li id="a8a1" class="mi mj iq jp b jq jr ju jv jy mk kc ml kg mm kk mn mo mp mq bi translated">创建博客的<strong class="jp ir">模型</strong>类</li><li id="dd38" class="mi mj iq jp b jq mr ju ms jy mt kc mu kg mv kk mn mo mp mq bi translated">创建一个<strong class="jp ir">控制器</strong>类的博客</li><li id="85a2" class="mi mj iq jp b jq mr ju ms jy mt kc mu kg mv kk mn mo mp mq bi translated">创建一个<strong class="jp ir">视图</strong>类来显示medium feed博客</li></ol><p id="253d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，项目结构应该是这样的:</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/c2e6f6590ed13dbb42f517989a5f8648.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*WhVfd2rs2hIpEvEs2W_u5g.png"/></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">项目结构</figcaption></figure><h1 id="9c0e" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">需要插件</h1><p id="6697" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">我们将需要以下插件:</p><ol class=""><li id="e84e" class="mi mj iq jp b jq jr ju jv jy mk kc ml kg mm kk mn mo mp mq bi translated"><a class="ae kl" href="https://pub.dev/packages/http" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">https</strong></a><strong class="jp ir">:</strong>用于利用API/端点</li><li id="0488" class="mi mj iq jp b jq mr ju ms jy mt kc mu kg mv kk mn mo mp mq bi translated"><a class="ae kl" href="https://pub.dev/packages/flutter_html" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">flutter _ html</strong></a><strong class="jp ir">:</strong>用于渲染我们将从API响应中得到的<em class="kp"> html </em>。</li><li id="03af" class="mi mj iq jp b jq mr ju ms jy mt kc mu kg mv kk mn mo mp mq bi translated"><a class="ae kl" href="https://pub.dev/packages/url_launcher" rel="noopener ugc nofollow" target="_blank"/></li></ol><h2 id="4a31" class="nb lg iq bd lh nc nd dn ll ne nf dp lp jy ng nh lt kc ni nj lx kg nk nl mb nm bi translated">让我们开始吧…！</h2><p id="b55a" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">RSS2Json端点:<code class="fe nn no np nq b">https://api.rss2json.com/v1/api.json?rss_url=https://medium.com/feed/@<strong class="jp ir">username</strong></code></p><p id="1a7d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">将“username”替换为您的中间用户名，例如在我的例子中为@mhamzadev</p><p id="5b77" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">回应会是这样的😃</p><pre class="ku kv kw kx gt nr nq ns nt aw nu bi"><span id="04d5" class="nb lg iq nq b gy nv nw l nx ny">{<br/> "status": "ok",<br/> "feed": {<br/>          "url": "https://medium.com/@<strong class="nq ir">username",<br/>          "</strong>title": "Stories by &lt;Your Name&gt; on Medium",<br/>          "link": "https://medium.com/@<strong class="nq ir">username</strong>?source=rss-198a--2",<br/>          "author": ""<br/><strong class="nq ir">          "</strong>description": "Stories by &lt;Your Name&gt; on Medium",<br/>          "image": "&lt;profile URL to medium profile&gt;"<br/>  },</span><span id="0cee" class="nb lg iq nq b gy nz nw l nx ny"><strong class="nq ir"><em class="kp">These are your Blogs on the Medium Feed</em></strong><br/> "items": [<br/>        {<br/>            "title": DevFolio-Portfolio using Flutter 2.0",<br/>            "pubDate": "2021-03-23 15:38:24",<br/>            "link": "<strong class="nq ir"><em class="kp">&lt;URL link to blog on MEDIUM&gt;</em></strong>",<br/>            "guid": "https://medium.com/p/86ae3e6cce4f",<br/>            "author": "Muhammad Hamza",<br/>            "thumbnail": "<strong class="nq ir"><em class="kp">&lt;URL for your Blog Header Image&gt;</em></strong>",<br/>            "description": "<strong class="nq ir"><em class="kp">Actual Description of Blog on Medium</em></strong>",<br/>            "content": "<strong class="nq ir"><em class="kp">Full Blog Content (HTML)</em></strong>",<br/>            "enclosure": {},<br/>            "categories": [<br/>                 "web-development",<br/>                 "flutter",<br/>                 "portfolio",<br/>                 "dart",<br/>                 "flutter-app-development"<br/>             ]<br/>         },<br/>         {<br/>             Next Blog Object....<br/>         }.....<br/>    ]<br/>}</span></pre><h1 id="01d7" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">模型类</h1><p id="8377" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">我们这里，我们需要的<strong class="jp ir">物品</strong>实际上基本上就是<code class="fe nn no np nq b"><strong class="jp ir">list</strong></code>的<code class="fe nn no np nq b"><strong class="jp ir">Map&lt;String, dynamic&gt;</strong></code>的<strong class="jp ir">的</strong>明白了吗？？！！</p><p id="4578" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，我们将有两个基本的模型类。</p><ol class=""><li id="c004" class="mi mj iq jp b jq jr ju jv jy mk kc ml kg mm kk mn mo mp mq bi translated"><strong class="jp ir">博客列表:</strong>从<strong class="jp ir">“项目”</strong>中获取所有博客</li></ol><figure class="ku kv kw kx gt ky"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="1341" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2.<strong class="jp ir">博客:</strong>单个博客的模型类</p><figure class="ku kv kw kx gt ky"><div class="bz fp l di"><div class="oa ob l"/></div></figure><h1 id="1886" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">控制器类别</h1><p id="16d9" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">它只是一个类，我们在其中调用端点，就这样:)</p><figure class="ku kv kw kx gt ky"><div class="bz fp l di"><div class="oa ob l"/></div></figure><h1 id="7892" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">查看类别</h1><p id="9bd7" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">这里我们将用户<code class="fe nn no np nq b"><strong class="jp ir">FutureBuilder()</strong></code> <strong class="jp ir"> </strong>将我们的<code class="fe nn no np nq b"><strong class="jp ir">getAllBlogs()</strong></code> <strong class="jp ir"> </strong>方法作为<code class="fe nn no np nq b">Future</code>传递，并返回我们的<code class="fe nn no np nq b"><strong class="jp ir">BlogCard()</strong></code> <strong class="jp ir"> </strong>，这基本上是一个<a class="ae kl" href="https://gist.github.com/m-hamzashakeel/95113debfc5595107cff42529f05018c" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">自定义小部件。</strong> </a></p><figure class="ku kv kw kx gt ky"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="0fb8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这之后，我们的输出将是这样的:)</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/573a18994ba785ac1cf535416a1db185.png" data-original-src="https://miro.medium.com/v2/resize:fit:530/format:webp/1*krSFB08HJAAPjqglDx1-xg.png"/></div></figure><h1 id="7d74" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">博客详细信息</h1><p id="c498" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">现在是时候在我们的应用程序中显示我们的博客内容了。但是等等..！！😟API响应中的内容是一个我们需要渲染的<strong class="jp ir"> HTML </strong>，否则屏幕上会出现<strong class="jp ir"> &lt; p &gt;和&lt; img &gt; </strong>等元素。</p><p id="f4c9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你猜对了！我们将使用我们的包<code class="fe nn no np nq b"><strong class="jp ir">flutter_html</strong></code></p><figure class="ku kv kw kx gt ky"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="edd9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以现在…？？神奇！！</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/121f031abb7add26bf1bda6e68e1039a.png" data-original-src="https://miro.medium.com/v2/resize:fit:530/format:webp/1*kZmrhxuM0jz5zy8cUv_bgw.png"/></div></figure><p id="081d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi od translated"><span class="l oe of og bm oh oi oj ok ol di"> W </span> uhuu！🥳:我们已经将我们的中型博客完全整合到我们的应用程序中。但是如果我们的用户想要查看更多的博客呢？现在我们可以有一个按钮，简单地引导用户到我们的媒体配置文件。为此，我的朋友，我们将用户<code class="fe nn no np nq b"><strong class="jp ir">url_launcher</strong></code> <strong class="jp ir"> </strong>包。</p><p id="c210" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以，我要做的是，我将在我们的博客底部添加一个按钮“阅读更多”,并传递我的中型用户配置文件URL作为参数，即<code class="fe nn no np nq b">https://mhamzadev/medium.com</code></p><figure class="ku kv kw kx gt ky"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="64f2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，我们的最终产品对用户界面做了很小的改动！！！🌟</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div class="gh gi om"><img src="../Images/db079f896d7d3532732fc0c9f659bf64.png" data-original-src="https://miro.medium.com/v2/resize:fit:480/1*gHYxfxU4FDp_9PgAwPnVbg.gif"/></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">最终应用</figcaption></figure><blockquote class="km kn ko"><p id="08b8" class="jn jo kp jp b jq jr js jt ju jv jw jx kq jz ka kb kr kd ke kf ks kh ki kj kk ij bi translated">确保在你的androidmenifest.xml文件中添加<strong class="jp ir">互联网权限，否则它在发布模式下无法工作</strong></p></blockquote><p id="cca7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，继续将你的中型博客内容嵌入到你的Flutter应用程序中，从现在起，有了Flutter 2.0，你也可以拥有Web应用程序了。这里有一个<a class="ae kl" href="http://m-hamzashakeel.github.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">的例子</strong> </a> <strong class="jp ir"> :) </strong>这个app的代码也可以在<a class="ae kl" href="https://github.com/m-hamzashakeel/Medium-Blog-Feed-Flutter-App" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> GitHub </strong> </a>随意使用！</p><h2 id="037f" class="nb lg iq bd lh nc nd dn ll ne nf dp lp jy ng nh lt kc ni nj lx kg nk nl mb nm bi translated">最后！！！😄</h2><pre class="ku kv kw kx gt nr nq ns nt aw nu bi"><span id="8427" class="nb lg iq nq b gy nv nw l nx ny">bool <strong class="nq ir">helped</strong> = true;<br/>if (helped){ <br/>    <strong class="nq ir">claps(50)👏<br/>  </strong>} else {<br/>    let me know how to improve :)<br/>}</span></pre><h1 id="fb99" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">谢谢大家和# happyFluttering💙</h1></div></div>    
</body>
</html>