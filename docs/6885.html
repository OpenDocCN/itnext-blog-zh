<html>
<head>
<title>Flutter new app setup with Flavors in one go</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一气呵成的全新应用程序设置</h1>
<blockquote>原文：<a href="https://itnext.io/flutter-new-app-setup-with-flavors-in-one-go-331471b127e3?source=collection_archive---------0-----------------------#2022-04-03">https://itnext.io/flutter-new-app-setup-with-flavors-in-one-go-331471b127e3?source=collection_archive---------0-----------------------#2022-04-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/2caa991159b1292bfd8f0636f784ef23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9gyu7wd1pCi0x2PZQpp1zA.png"/></div></div></figure><p id="2640" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如何创建一个新的跨平台项目并把它做好？我们将经历几个简单的步骤，创建一个具有特定flutter版本、开发和生产风格、不同图标和横幅的新应用程序。然后，我们将首先将两者连接到firebase进行应用程序分发，推送通知，动态链接，稍后可能会登录。</p><h1 id="3866" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">设置基本项目</h1><p id="2ea1" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">创建一个新的项目，选择应用程序，添加应用程序名称(如果你只使用flutter，在文件夹中创建一个文件，打开和关闭vs代码，它会在打开时生成一个新的应用程序)</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lz"><img src="../Images/fd299229140426523e8c3fcb18c57b22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*qNrYKaYwrrZZ_iPtVT4qzw.gif"/></div></div><figcaption class="me mf gj gh gi mg mh bd b be z dk translated">在VS代码中创建新的颤振项目</figcaption></figure><p id="644e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在我们只有一个flutter版本，随着时间的推移，我们会有更多的版本，所以我们将使用flutter版本管理器为这个应用程序设置特定的flutter版本。FVM是我们的朋友。</p><p id="83fb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这个例子中，我们将使用Flutter 2.10.3。完成此设置后，可能需要一段时间。fvm文件夹出现，可能需要事件重新打开编辑器。</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><p id="2379" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在是初始提交的好时机，因为我们已经指定了新的应用程序和版本，所以请转到目录根文件夹，如果您在空存储库中，请键入“仅使用此快速分支”。</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><p id="f1ee" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">打开MR并合并到master/main(如果默认情况下有一些自述文件，可能会有冲突)，然后切换回master进行后续步骤。</p><h1 id="7a7b" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">创建标识符</h1><p id="442e" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">我们需要为我们的应用程序创建标识符，这意味着iOS的捆绑包/应用程序id和证书以及android的签名密钥:</p><h2 id="3c85" class="ml kx iq bd ky mm mn dn lc mo mp dp lg kj mq mr lk kn ms mt lo kr mu mv ls mw bi translated">机器人</h2><p id="a0e5" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">首先，使用更新的命令创建android密钥文件，如下所示</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mx"><img src="../Images/fd0908a57dc88217f9b009d31e896012.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8nGl6GfUWzWbv5UEjx8JYA.png"/></div></div><figcaption class="me mf gj gh gi mg mh bd b be z dk translated">流动</figcaption></figure><p id="c05f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">好了，当我们有了一个密钥，我们检查我们可以获得SHA，我们需要添加访问android应用程序内部flutter到这个密钥</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><p id="5244" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在android文件夹中创建key.properties文件，该文件应该包含有关您的密钥、别名和密码的信息</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><p id="c37f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">此外，android要访问android/app/build.gradle中的文件，我们需要添加这个文件&amp;添加新的签名配置类型版本</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><h2 id="0a02" class="ml kx iq bd ky mm mn dn lc mo mp dp lg kj mq mr lk kn ms mt lo kr mu mv ls mw bi translated">ios</h2><p id="d5be" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">如果您当前的机器上没有证书，您需要在您的苹果开发者帐户的<a class="ae mi" href="https://developer.apple.com/account/resources/certificates/list" rel="noopener ugc nofollow" target="_blank">证书、标识符&amp;配置文件</a>中为苹果开发者创建证书</p><p id="96a1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">之后，您需要在<a class="ae mi" href="https://developer.apple.com/account/resources/identifiers/list" rel="noopener ugc nofollow" target="_blank">标识符</a>部分创建您的应用程序，如com.example.app标识符</p><p id="1c81" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用Xcode打开flutter应用程序中的ios文件夹，添加上一步中创建的捆绑包标识符，并检查Xcode中的登录和功能部分是否为您提供了自动管理签名，如果您在帐户中添加了apple developer帐户。</p><p id="4b38" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在你应该有一个最简单的android和iOS的应用程序设置，可能在app/build.gradle中更新Xcode build和compileSdkVersion的最小iOS目标，在根android文件夹build.gradle文件中更新kotlin版本。</p><blockquote class="my mz na"><p id="6d67" class="jy jz nb ka b kb kc kd ke kf kg kh ki nc kk kl km nd ko kp kq ne ks kt ku kv ij bi translated">[fvm flutter run]将会给你关于以上所有东西的信息，以及在建造模拟器时需要的升级</p></blockquote><h1 id="a799" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">设置口味</h1><p id="5d61" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">我们现在有一个功能演示应用程序，可以在ios和android上签名和构建/发布。我们现在将添加一些味道，以便更容易管理开发和生产版本，首先我们需要创建额外的标识符</p><h2 id="f2d4" class="ml kx iq bd ky mm mn dn lc mo mp dp lg kj mq mr lk kn ms mt lo kr mu mv ls mw bi translated">机器人编队</h2><p id="af63" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">在android/app/build.gradle中首次设置生产/通用应用id</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><p id="d22b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后在同一个文件中为不同的风格添加特定的前缀或后缀</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><p id="887b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这将处理我们的应用程序标识符，现在我们仍然需要更新每个版本的名称，在Android/app/src/main/Android manifest . XML中添加app_name</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><p id="ec65" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后创建开发环境字符串:</p><p id="6d55" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">路径:Android/app/src/dev/RES/values/strings . XML</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><p id="ced6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">和生产环境字符串:</p><p id="15c9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">路径:Android/app/src/prod/RES/values/strings . XML</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><blockquote class="my mz na"><p id="f561" class="jy jz nb ka b kb kc kd ke kf kg kh ki nc kk kl km nd ko kp kq ne ks kt ku kv ij bi translated">你现在可以测试Android版本，应用程序应该有不同的名称和标识符</p></blockquote><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><h2 id="b27b" class="ml kx iq bd ky mm mn dn lc mo mp dp lg kj mq mr lk kn ms mt lo kr mu mv ls mw bi translated">iOS形成</h2><p id="99e8" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">要再次在iOS中设置口味，我们需要切换到Xcode来管理方案。</p><p id="3dbd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在Xcode-&gt; Product-&gt; Scheme-&gt; New Scheme中打开flutter ios文件夹，目标保持Runner，添加两个方案dev和prod。</p><p id="95fc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">之后，转到项目，运行并复制开发方案的调试/发布/概要文件配置。您可以将默认值重命名为prod。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nf"><img src="../Images/ad6556f92fddf1a6019936652441941e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8NfRCWdX_KVnUReO"/></div></div></figure><p id="1acf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">确保schemes现在指向正确的配置(只需右键单击scheme并编辑)</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nf"><img src="../Images/bbd499dd395fa5e1398edbcae7c13733.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YD_xZnfinYuFs8BE"/></div></div></figure><p id="81d8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">更新每种口味的捆绑包id:</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/df9553a74be02dfe0fa45d1a6f6f279b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wMRMrMYaz0qquvHIB0l-nQ.png"/></div></div></figure><p id="e36d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">并添加新的用户定义的设置APP_DISPLAY_NAME和update name per flavor。还要在InfoPlist中为包显示名称添加此变量。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nh"><img src="../Images/bdb3636ca9cd62fbd44bc24532c513a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ubHLH3M6zJU2UgP9wa-PXA.png"/></div></div></figure><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ni"><img src="../Images/c850b2e8e1592b252d7bdaa2f37b080b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bcJvBx99RT9DzQcavMRZGQ.png"/></div></div></figure><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nf"><img src="../Images/8b68af81abed47b71b93718b4250e814.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JttwG1y4_XdFXx_n"/></div></div></figure><blockquote class="my mz na"><p id="3733" class="jy jz nb ka b kb kc kd ke kf kg kh ki nc kk kl km nd ko kp kq ne ks kt ku kv ij bi translated">您可以在ios模拟器上运行再次测试</p></blockquote><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><h2 id="852f" class="ml kx iq bd ky mm mn dn lc mo mp dp lg kj mq mr lk kn ms mt lo kr mu mv ls mw bi translated">不同的图标</h2><p id="cf4e" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">有趣的是，创建两个图标，其中一个带有一些开发人员注册，以便于识别，并安装<a class="ae mi" href="https://pub.dev/packages/flutter_launcher_icons" rel="noopener ugc nofollow" target="_blank"> flutter启动器图标</a>包。</p><p id="38ff" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我在项目根目录中创建了flutter _ launcher _ icons-dev . YAML和prod版本flutter _ launcher _ icons-prod . YAML。文件中唯一的区别是映像名称上的dev/prod后缀。</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><figure class="ma mb mc md gt jr gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/00c7066875bf7912a7812afedbc9e1ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1088/0*sewSqaJx7YqV7xiE"/></div></figure><p id="438e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">运行下一个命令，在你的android上运行构建应该相应地更新你的图标。我们需要为ios做这个手册。</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nk"><img src="../Images/3ae1c1c503eed9cd8e6a295ce8b0a654.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OnfGTPsJkJoceXpftNDkow.png"/></div></div></figure><p id="8c30" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">好了，现在我们有了不同的名称、id和图标，是时候在应用程序中添加风格横幅和环境了，然后是不同的firebase设置。</p><h1 id="844c" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">设置风味横幅和环境</h1><p id="6d6f" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">在lib文件夹中添加flavor_config.dart</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><p id="2dab" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在同一文件夹中添加flavor_banner.dart</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><p id="12c6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在同一文件夹中创建main_dev.dart和main_prod.dart</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><p id="4cb3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">将main.dart重命名为main_common.dart，并将其中的main函数重命名为mainCommon()</p><ul class=""><li id="31bd" class="nl nm iq ka b kb kc kf kg kj nn kn no kr np kv nq nr ns nt bi translated">安装颤振信息增强包</li><li id="12dd" class="nl nm iq ka b kb nu kf nv kj nw kn nx kr ny kv nq nr ns nt bi translated">fvm flutter pub添加包_信息_加</li></ul><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><p id="6e25" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">通过终端运行风味</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><h1 id="af77" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">设置风味火源</h1><ol class=""><li id="dde6" class="nl nm iq ka b kb lu kf lv kj nz kn oa kr ob kv oc nr ns nt bi translated">为flutter安装firebase_core插件</li><li id="2a8a" class="nl nm iq ka b kb nu kf nv kj nw kn nx kr ny kv oc nr ns nt bi translated">基于文档在firebase控制台上创建2个应用程序，所以开发MYAPP和MYAPP，记住你已经安装了firebase核心包，所以你不必像文档中所说的那样单独添加它作为iOS的SDK<a class="ae mi" href="https://firebase.google.com/docs/flutter/setup" rel="noopener ugc nofollow" target="_blank">https://firebase.google.com/docs/flutter/setup</a></li><li id="ffc0" class="nl nm iq ka b kb nu kf nv kj nw kn nx kr ny kv oc nr ns nt bi translated">每个应用都有自己的安卓和iOS版本</li><li id="7e68" class="nl nm iq ka b kb nu kf nv kj nw kn nx kr ny kv oc nr ns nt bi translated">对于iOS，下载GoogleServices-Info.plist，将其存储在这个结构中，然后将配置文件拖放到Xcode中</li></ol><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi od"><img src="../Images/43dd5dae645e739c3e3c7c7de17567c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IzTOV9cxKQjJTW-f"/></div></div></figure><p id="5901" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您的Xcode设置应该如下所示:</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/2ddd07d95b5d7d6896f907f9656852b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/0*Nib78_1ft6wHjEzf"/></div></figure><p id="32fd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在AppDelegate中注册Firebase是您唯一需要做的事情:</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><p id="de47" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后我们需要添加一个脚本，它将在构建时复制正确的firebase文件，为此我感谢这个<a class="ae mi" href="https://gist.github.com/animeshjain/b7f754adee0a0a5ff1c41d698e6c6fb5#file-firebase-sh" rel="noopener ugc nofollow" target="_blank">脚本</a>，我将把它粘贴在下面</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi of"><img src="../Images/bd53caf43c43c436c03767ba746b1360.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*3MIIAhZR5xrvdoBqBptBGQ.gif"/></div></div></figure><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><p id="72c4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所以只需在构建阶段添加一个新的运行脚本，就在链接二进制文件的下面..有了上面的脚本。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nf"><img src="../Images/1445cda2951c8498474a5077614987bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JmnfFKewz-47AkBG"/></div></div></figure><p id="edfd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于Android，只需在firebase上创建新的应用程序，即可获得SHA</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><p id="a296" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你需要做的其他事情就是文档中提供的这两个步骤，然后把dev GoogleServices.json放到android的dev src文件夹中，把prod放到prod中</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi og"><img src="../Images/cebfe139f3910caf705d9fb6721d1157.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2du46JDdvMAUr6kn"/></div></div></figure><blockquote class="my mz na"><p id="e479" class="jy jz nb ka b kb kc kd ke kf kg kh ki nc kk kl km nd ko kp kq ne ks kt ku kv ij bi translated">Android/app/src/dev/Google-services . JSON</p><p id="5385" class="jy jz nb ka b kb kc kd ke kf kg kh ki nc kk kl km nd ko kp kq ne ks kt ku kv ij bi translated">Android/app/src/prod/谷歌服务. json</p></blockquote><h1 id="fd44" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">VS代码设置</h1><p id="8f91" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">英寸vscode文件夹添加launch.json以便更容易地使用:</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><p id="f59d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">手动运行风味</p><blockquote class="my mz na"><p id="02ef" class="jy jz nb ka b kb kc kd ke kf kg kh ki nc kk kl km nd ko kp kq ne ks kt ku kv ij bi translated">要运行开发环境调试:</p></blockquote><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><p id="7281" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以添加Firebase analytics，以便检查与Firebase的连接</p><blockquote class="my mz na"><p id="b1d1" class="jy jz nb ka b kb kc kd ke kf kg kh ki nc kk kl km nd ko kp kq ne ks kt ku kv ij bi translated">fvm flutter pub添加firebase_analytics</p></blockquote><p id="5900" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">此外，不要忘记在安装分析软件之前清理iOS上的所有东西，因为它会更新所有的pod包</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure><h1 id="93bd" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">笔记</h1><p id="12e2" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">随着时间的推移和新软件包的安装，你可能需要更新build.gradle中的依赖项..只需阅读错误和更新版本。勇敢地:)</p><p id="e9ae" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">就是这样，<a class="ae mi" href="https://blog.devgenius.io/flutter-fastlane-deployment-to-the-firebase-app-distribution-easy-way-d5ca2fbdcdf9" rel="noopener ugc nofollow" target="_blank">下一篇文章将讲述如何使用浪子的这种设置进行firebase应用程序分发</a>和部署到商店。当我写这篇文章的时候已经很晚了，所以对于任何奇怪/错误的东西，请提前原谅我。如需任何更新、评论，请点击此处或<a class="ae mi" href="https://www.linkedin.com/in/vedran-balagovi%C4%87-814968159/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>。</p><p id="7f30" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我也会尽快把整个骨架放到公共github回购上。我已经以这种方式开始了预设置应用程序的工作，所以你可以在这里查看:<a class="ae mi" href="https://github.com/vbalagovic/flutter-presetup" rel="noopener ugc nofollow" target="_blank">https://github.com/vbalagovic/flutter-presetup</a></p></div></div>    
</body>
</html>