<html>
<head>
<title>Android Custom Notification in 6 Mins</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Android自定义通知在6分钟内完成</h1>
<blockquote>原文：<a href="https://itnext.io/android-custom-notification-in-6-mins-c2e7e2ddadab?source=collection_archive---------0-----------------------#2020-04-03">https://itnext.io/android-custom-notification-in-6-mins-c2e7e2ddadab?source=collection_archive---------0-----------------------#2020-04-03</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><figure class="gm go js jt ju jv gi gj paragraph-image"><div class="gi gj jr"><img src="../Images/5468ce0078824e09939aaa3a7592cb3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*Wb0pUoAkjTURNkVYapTDXQ.png"/></div><figcaption class="jy jz gk gi gj ka kb bd b be z dk translated">自定义通知示例</figcaption></figure><p id="b9a3" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi la translated">通知是向用户显示信息的著名工具。Android为开发者提供了几种更好的UI/UX通知风格。例如，<code class="fe lj lk ll lm b"><a class="ae ln" rel="noopener ugc nofollow" target="_blank" href="/android-notification-bigtextstyle-bd35f7530eae">BigTextStyle</a></code>用于显示多行的长文本，<code class="fe lj lk ll lm b">MessagingStyle</code>用于显示对话中的多条消息，<code class="fe lj lk ll lm b"><a class="ae ln" rel="noopener ugc nofollow" target="_blank" href="/android-notification-bigpicturestyle-1f293e6cabaf">BigPictureStyle</a></code>用于显示大图像等。</p><p id="927f" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">然而，在不同的通知风格中发现了某些限制。可以定制一个吗？是啊！Android提供两种类型的定制。一个是在默认内容区域嵌入自定义视图，另一个是完全自定义的视图。</p><p id="de63" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">在本文中，我将一步一步地介绍编码部分，讨论其局限性并与您分享技巧。开始吧！</p></div><div class="ab cl lo lp hy lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="in io ip iq ir"><h1 id="9b7a" class="lv lw iu bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms bi translated">可定制视图</h1><p id="ab03" class="pw-post-body-paragraph kc kd iu ke b kf mt kh ki kj mu kl km kn mv kp kq kr mw kt ku kv mx kx ky kz in bi translated">一个通知总共有3种状态。它们是<strong class="ke iv">平视</strong>、<strong class="ke iv">折叠</strong>和<strong class="ke iv">展开</strong>状态。以下是插图动画:</p><figure class="mz na nb nc gu jv gi gj paragraph-image"><div class="gi gj my"><img src="../Images/2a5b6283337750b114c74bd718035cb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*UydZMTQzfv4ml9FYukeHbg.gif"/></div><figcaption class="jy jz gk gi gj ka kb bd b be z dk translated">抬头通知</figcaption></figure><figure class="mz na nb nc gu jv gi gj paragraph-image"><div class="gi gj my"><img src="../Images/67151b8aad01a8f7a1656d484c53f7cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*JLHomUgFKZN5YCL9vqJBEg.gif"/></div><figcaption class="jy jz gk gi gj ka kb bd b be z dk translated">折叠和展开的通知</figcaption></figure></div><div class="ab cl lo lp hy lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="in io ip iq ir"><h1 id="3ea8" class="lv lw iu bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms bi translated">编码部分</h1><figure class="mz na nb nc gu jv"><div class="bz fq l di"><div class="nd ne l"/></div></figure><p id="66a0" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">在通知中定制视图不同于从布局资源中膨胀一个<code class="fe lj lk ll lm b">View</code>。<code class="fe lj lk ll lm b">Notification Builder</code>只接受通过<code class="fe lj lk ll lm b">RemoteViews</code>设置视图。</p><p id="b0b7" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated"><code class="fe lj lk ll lm b">RemoteViews</code>是可以在另一个流程中显示的视图层次结构。Android基于进程间通信(IPC)，每个应用程序都有自己的进程。因此，在实例化一个<code class="fe lj lk ll lm b">RemoteViews</code>时，不需要我们app的<code class="fe lj lk ll lm b">context</code>。<code class="fe lj lk ll lm b">RemoteViews</code>仅在我们的应用程序中定义，但在通知抽屉中被系统进程夸大。</p><h2 id="1560" class="nf lw iu bd lx ng nh dn mb ni nj dp mf kn nk nl mj kr nm nn mn kv no np mr nq bi translated">步骤1:定义6个布局集</h2><figure class="mz na nb nc gu jv"><div class="bz fq l di"><div class="nd ne l"/></div></figure><p id="dcd9" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">如前所述，共有3种通知状态，包括抬头、折叠和展开状态。而且app可以可选支持人像和风景。因此，必须声明6个布局文件。</p><p id="4c5a" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated"><code class="fe lj lk ll lm b">RemoteView</code>仅支持有限的<code class="fe lj lk ll lm b">View</code>和<code class="fe lj lk ll lm b">ViewGroup</code>。通知中不能放大任何自定义小部件。这将在下一次会议上详细讨论。</p><h2 id="fcc3" class="nf lw iu bd lx ng nh dn mb ni nj dp mf kn nk nl mj kr nm nn mn kv no np mr nq bi translated">步骤2:声明远程视图</h2><figure class="mz na nb nc gu jv"><div class="bz fq l di"><div class="nd ne l"/></div></figure><p id="bb6b" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">要构建一个<code class="fe lj lk ll lm b">RemoteViews</code>，包名和布局文件id都是必需的。这允许系统正确地指向正确应用包中的正确文件。</p><h2 id="d218" class="nf lw iu bd lx ng nh dn mb ni nj dp mf kn nk nl mj kr nm nn mn kv no np mr nq bi translated">步骤3:将自定义<code class="fe lj lk ll lm b">RemoteViews</code>设置为通知生成器</h2><figure class="mz na nb nc gu jv"><div class="bz fq l di"><div class="nd ne l"/></div></figure><p id="07ac" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">这一步很简单，只是要求通知生成器使用自定义的<code class="fe lj lk ll lm b">RemoteView</code>而不是默认的。</p><h2 id="5601" class="nf lw iu bd lx ng nh dn mb ni nj dp mf kn nk nl mj kr nm nn mn kv no np mr nq bi translated">步骤4(可选):设置通知生成器样式</h2><figure class="mz na nb nc gu jv"><div class="bz fq l di"><div class="nd ne l"/></div></figure><p id="6b28" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">通过将<code class="fe lj lk ll lm b">NotificationCompat.Builder</code>的样式设置为<code class="fe lj lk ll lm b">DecoratedCustomViewStyle()</code>，所有的自定义<code class="fe lj lk ll lm b">RemoteViews</code>都被包装到原来放置<code class="fe lj lk ll lm b">contentTitle</code>和<code class="fe lj lk ll lm b">contentText</code>的<code class="fe lj lk ll lm b">ViewGroup</code>中。见下图:</p><figure class="mz na nb nc gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="ns nt di nu bf nv"><div class="gi gj nr"><img src="../Images/5bf0f522e9f5a5a7260cfb3f87d8dd70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8R6dCPIBqdQaxclQAkCebA.png"/></div></div><figcaption class="jy jz gk gi gj ka kb bd b be z dk translated">平视通知(左:未设置样式；右:<code class="fe lj lk ll lm b">DecoratedCustomViewStyle is set)</code></figcaption></figure><figure class="mz na nb nc gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="ns nt di nu bf nv"><div class="gi gj nw"><img src="../Images/5ca15e534749bf5316fee0fc40194f01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M-S4qEEX_cxmOJ9RDjU-Vg.png"/></div></div><figcaption class="jy jz gk gi gj ka kb bd b be z dk translated">折叠通知(左:未设置样式；右:<code class="fe lj lk ll lm b">DecoratedCustomViewStyle is set)</code></figcaption></figure><figure class="mz na nb nc gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="ns nt di nu bf nv"><div class="gi gj nx"><img src="../Images/648ad3287807dfbcbf8119e6dbd39546.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0NQ6uz8crE0wp8ahiG2cMw.png"/></div></div><figcaption class="jy jz gk gi gj ka kb bd b be z dk translated">扩展通知(左:未设置样式；右:<code class="fe lj lk ll lm b">DecoratedCustomViewStyle is set)</code></figcaption></figure><p id="4faa" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated"><strong class="ke iv">优势</strong></p><p id="5753" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">显示所有默认小工具，包括小图标、应用名称、时间、箭头<code class="fe lj lk ll lm b">ImageButton</code>和动作按钮列表等。可以减少在定制<code class="fe lj lk ll lm b">RemoteViews</code>上嵌入这些小部件的工作量。</p><p id="fad0" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated"><strong class="ke iv">缺点</strong></p><p id="d0b2" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">折叠和展开通知的高度分别限制为64dp和256dp。因此，我们需要注意文本或小部件是否过大，是否被Android操作系统裁剪。</p><figure class="mz na nb nc gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="ns nt di nu bf nv"><div class="gi gj ny"><img src="../Images/e08c04bd564a0692009f6b6eef2edc4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TeIUC6PrDbsRHH2viB1yBA.png"/></div></div><figcaption class="jy jz gk gi gj ka kb bd b be z dk translated">展开和折叠通知的高度限制。引自<a class="ae ln" href="https://developer.android.com/training/notify-user/custom-notification" rel="noopener ugc nofollow" target="_blank">官方文档网站</a>。</figcaption></figure></div><div class="ab cl lo lp hy lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="in io ip iq ir"><h1 id="3a98" class="lv lw iu bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms bi translated">支持的小部件</h1><figure class="mz na nb nc gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="ns nt di nu bf nv"><div class="gi gj nz"><img src="../Images/b0af899f1b391e0aa4c4456ec4b57ab6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9oH8uCOXw81CYkPk1BuQMA.png"/></div></div><figcaption class="jy jz gk gi gj ka kb bd b be z dk translated"><code class="fe lj lk ll lm b">RemoteViews used in </code>通知中支持的小部件</figcaption></figure><p id="d758" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated"><code class="fe lj lk ll lm b">RemoteViews</code>不支持安卓系统的所有widgets。支持常见的<code class="fe lj lk ll lm b">ViewGroup</code>，包括<code class="fe lj lk ll lm b">LinearLayout</code>、<code class="fe lj lk ll lm b">RelativeLayout</code>、<code class="fe lj lk ll lm b">FrameLayout</code>等。仅限于以下<code class="fe lj lk ll lm b">View</code>:</p><ol class=""><li id="38b7" class="oa ob iu ke b kf kg kj kk kn oc kr od kv oe kz of og oh oi bi translated"><a class="ae ln" href="https://developer.android.com/reference/android/widget/TextView" rel="noopener ugc nofollow" target="_blank">文本视图</a></li><li id="603b" class="oa ob iu ke b kf oj kj ok kn ol kr om kv on kz of og oh oi bi translated"><a class="ae ln" href="https://developer.android.com/reference/android/widget/AnalogClock" rel="noopener ugc nofollow" target="_blank"> AnalogClock </a>(该类在API级别23中已被否决)</li><li id="7139" class="oa ob iu ke b kf oj kj ok kn ol kr om kv on kz of og oh oi bi translated"><a class="ae ln" href="https://developer.android.com/reference/android/widget/TextClock" rel="noopener ugc nofollow" target="_blank">文本时钟</a></li><li id="39fc" class="oa ob iu ke b kf oj kj ok kn ol kr om kv on kz of og oh oi bi translated"><a class="ae ln" href="https://developer.android.com/reference/android/widget/Button" rel="noopener ugc nofollow" target="_blank">按钮</a></li><li id="db4f" class="oa ob iu ke b kf oj kj ok kn ol kr om kv on kz of og oh oi bi translated"><a class="ae ln" href="https://developer.android.com/reference/android/widget/ImageButton" rel="noopener ugc nofollow" target="_blank"> ImageButton </a></li><li id="7527" class="oa ob iu ke b kf oj kj ok kn ol kr om kv on kz of og oh oi bi translated"><a class="ae ln" href="https://developer.android.com/reference/android/widget/ImageView" rel="noopener ugc nofollow" target="_blank"> ImageView </a></li><li id="5dcd" class="oa ob iu ke b kf oj kj ok kn ol kr om kv on kz of og oh oi bi translated"><a class="ae ln" href="https://developer.android.com/reference/android/widget/Chronometer" rel="noopener ugc nofollow" target="_blank">天文钟</a></li><li id="95b3" class="oa ob iu ke b kf oj kj ok kn ol kr om kv on kz of og oh oi bi translated"><a class="ae ln" href="https://developer.android.com/reference/android/widget/ProgressBar" rel="noopener ugc nofollow" target="_blank">进度条</a></li></ol><blockquote class="oo op oq"><p id="c4f3" class="kc kd or ke b kf kg kh ki kj kk kl km os ko kp kq ot ks kt ku ou kw kx ky kz in bi translated">请记住，不支持这些类的后代。例如，<code class="fe lj lk ll lm b">MaterialButton</code>不被支持，尽管它是<code class="fe lj lk ll lm b">Button</code>的子类。当使用无效的小部件时，抛出<code class="fe lj lk ll lm b">ActionException</code>。</p><p id="af9a" class="kc kd or ke b kf kg kh ki kj kk kl km os ko kp kq ot ks kt ku ou kw kx ky kz in bi translated">参考:<a class="ae ln" href="https://developer.android.com/reference/android/widget/RemoteViews" rel="noopener ugc nofollow" target="_blank"> RemoteViews官方文档</a></p></blockquote><p id="24c8" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">要动态地改变小部件的属性，并不像我们使用<code class="fe lj lk ll lm b">findViewById</code>那样简单，因为<code class="fe lj lk ll lm b">RemoteViews</code>限制开发者直接访问小部件。它提供了几个有限的API来定制小部件，参见下面的代码示例:</p><figure class="mz na nb nc gu jv"><div class="bz fq l di"><div class="nd ne l"/></div></figure><p id="8298" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">以<code class="fe lj lk ll lm b">Button</code>为例，<code class="fe lj lk ll lm b">RemoteViews</code>只提供设置a <code class="fe lj lk ll lm b">Button</code>的<code class="fe lj lk ll lm b">onClick</code>动作的API。换句话说，<strong class="ke iv">不可能</strong>设置其他动作，如<code class="fe lj lk ll lm b">onLongClick</code>、<code class="fe lj lk ll lm b">onDrag</code>和<code class="fe lj lk ll lm b">onHover</code>监听器！在实现设计者的想法之前，我们必须理解不同部件的局限性😉。</p></div><div class="ab cl lo lp hy lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="in io ip iq ir"><h1 id="92fc" class="lv lw iu bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms bi translated">式样</h1><figure class="mz na nb nc gu jv"><div class="bz fq l di"><div class="nd ne l"/></div></figure><p id="b560" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">不同的设备制造商可以定制通知行的默认背景颜色。如果没有设置自定义<code class="fe lj lk ll lm b">RemoteViews</code>的背景颜色，文本和背景可能有相似的颜色，即白底白字。</p><p id="cdd3" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">为了保证良好的UI / UX，建议使用Android系统风格来装饰通知中显示的所有<code class="fe lj lk ll lm b">TextView</code>。以下是建议的风格:</p><ol class=""><li id="9959" class="oa ob iu ke b kf kg kj kk kn oc kr od kv oe kz of og oh oi bi translated">文本外观。材料.通知—用于内容文本</li><li id="ba45" class="oa ob iu ke b kf oj kj ok kn ol kr om kv on kz of og oh oi bi translated">文本外观。材料.通知.标题-标题</li><li id="d9f0" class="oa ob iu ke b kf oj kj ok kn ol kr om kv on kz of og oh oi bi translated">文本外观。材料.通知.强调</li><li id="e5a5" class="oa ob iu ke b kf oj kj ok kn ol kr om kv on kz of og oh oi bi translated">文本外观。材料.通知.信息</li><li id="1ab3" class="oa ob iu ke b kf oj kj ok kn ol kr om kv on kz of og oh oi bi translated">文本外观。材料.通知.行2</li><li id="d8ee" class="oa ob iu ke b kf oj kj ok kn ol kr om kv on kz of og oh oi bi translated">文本外观。材料.通知.时间</li></ol></div><div class="ab cl lo lp hy lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="in io ip iq ir"><h1 id="e817" class="lv lw iu bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms bi translated">想了解更多关于Android通知的信息:</h1><h2 id="ab2e" class="nf lw iu bd lx ng nh dn mb ni nj dp mf kn nk nl mj kr nm nn mn kv no np mr nq bi translated">1.BigTextSytle通知</h2><div class="ov ow gq gs ox oy"><a rel="noopener  ugc nofollow" target="_blank" href="/android-notification-bigtextstyle-bd35f7530eae"><div class="oz ab fp"><div class="pa ab pb cl cj pc"><h2 class="bd iv gz z fq pd fs ft pe fv fx it bi translated">Android通知BigTextStyle尽可能深</h2><div class="pf l"><h3 class="bd b gz z fq pd fs ft pe fv fx dk translated">通知是普通app常见的。当内容太长时，总是使用BigTextStyle。让我们看看技巧和…</h3></div><div class="pg l"><p class="bd b dl z fq pd fs ft pe fv fx dk translated">itnext.io</p></div></div><div class="ph l"><div class="pi l pj pk pl ph pm jw oy"/></div></div></a></div><h2 id="d09e" class="nf lw iu bd lx ng nh dn mb ni nj dp mf kn nk nl mj kr nm nn mn kv no np mr nq bi translated">2.BigPictureStyleNotification</h2><div class="ov ow gq gs ox oy"><a rel="noopener  ugc nofollow" target="_blank" href="/android-notification-bigpicturestyle-1f293e6cabaf"><div class="oz ab fp"><div class="pa ab pb cl cj pc"><h2 class="bd iv gz z fq pd fs ft pe fv fx it bi translated">Android通知BigPictureStyle尽可能深</h2><div class="pf l"><h3 class="bd b gz z fq pd fs ft pe fv fx dk translated">当您希望在通知行显示图像时，可以使用BigPictureStyle通知。这里有一些提示和…</h3></div><div class="pg l"><p class="bd b dl z fq pd fs ft pe fv fx dk translated">itnext.io</p></div></div><div class="ph l"><div class="pn l pj pk pl ph pm jw oy"/></div></div></a></div><h2 id="5387" class="nf lw iu bd lx ng nh dn mb ni nj dp mf kn nk nl mj kr nm nn mn kv no np mr nq bi translated">3.InboxStyleNotification</h2><div class="ov ow gq gs ox oy"><a rel="noopener  ugc nofollow" target="_blank" href="/android-inboxstyle-notification-as-deep-as-possible-4d74c0c725f1"><div class="oz ab fp"><div class="pa ab pb cl cj pc"><h2 class="bd iv gz z fq pd fs ft pe fv fx it bi translated">尽可能深入的Android收件箱通知</h2><div class="pf l"><h3 class="bd b gz z fq pd fs ft pe fv fx dk translated">InboxStyle通知用于显示收到的电子邮件的片段。我发现一个文档问题。让我们看一看…</h3></div><div class="pg l"><p class="bd b dl z fq pd fs ft pe fv fx dk translated">itnext.io</p></div></div><div class="ph l"><div class="po l pj pk pl ph pm jw oy"/></div></div></a></div><h2 id="51f8" class="nf lw iu bd lx ng nh dn mb ni nj dp mf kn nk nl mj kr nm nn mn kv no np mr nq bi translated">4.Android通知样式</h2><div class="ov ow gq gs ox oy"><a rel="noopener  ugc nofollow" target="_blank" href="/android-notification-styling-cc6b0bb86021"><div class="oz ab fp"><div class="pa ab pb cl cj pc"><h2 class="bd iv gz z fq pd fs ft pe fv fx it bi translated">Android通知样式</h2><div class="pf l"><h3 class="bd b gz z fq pd fs ft pe fv fx dk translated">通知是通知用户新信息的常用工具。你有没有想过设计它的内容…</h3></div><div class="pg l"><p class="bd b dl z fq pd fs ft pe fv fx dk translated">itnext.io</p></div></div><div class="ph l"><div class="pp l pj pk pl ph pm jw oy"/></div></div></a></div></div><div class="ab cl lo lp hy lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="in io ip iq ir"><h1 id="6832" class="lv lw iu bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms bi translated">摘要</h1><ol class=""><li id="a4e5" class="oa ob iu ke b kf mt kj mu kn pq kr pr kv ps kz of og oh oi bi translated">在<strong class="ke iv">纵向</strong>和<strong class="ke iv">横向</strong>模式下，通知的所有三种状态，包括平视、折叠和展开状态，都应得到正确处理，以确保良好的UI/UX。</li><li id="50c8" class="oa ob iu ke b kf oj kj ok kn ol kr om kv on kz of og oh oi bi translated"><code class="fe lj lk ll lm b">RemoteViews</code>是可以在另一个进程中显示的视图层次。它包含Android操作系统的应用包名称和布局资源id，以便从正确的资源中膨胀正确的<code class="fe lj lk ll lm b">View</code>。</li><li id="fdac" class="oa ob iu ke b kf oj kj ok kn ol kr om kv on kz of og oh oi bi translated"><code class="fe lj lk ll lm b">RemoteViews</code>仅限于<code class="fe lj lk ll lm b">View</code>和<code class="fe lj lk ll lm b">ViewGroup</code>的某些列表。允许的<code class="fe lj lk ll lm b">View</code>的所有子类都<strong class="ke iv">不</strong>支持！</li><li id="e2d0" class="oa ob iu ke b kf oj kj ok kn ol kr om kv on kz of og oh oi bi translated">在<code class="fe lj lk ll lm b">RemoteViews</code>中设置属性为<code class="fe lj lk ll lm b">View</code>的API是有限的。在答应设计师和客户之前，最好先搜索一下。</li><li id="2a69" class="oa ob iu ke b kf oj kj ok kn ol kr om kv on kz of og oh oi bi translated">通过将<code class="fe lj lk ll lm b">Notification Builder</code>的样式设置为<code class="fe lj lk ll lm b">DecoratedCustomViewStyle</code>，自定义的<code class="fe lj lk ll lm b">RemoteViews</code>被原本用于内容区域的<code class="fe lj lk ll lm b">ViewGroup</code>充气包装。</li><li id="59bf" class="oa ob iu ke b kf oj kj ok kn ol kr om kv on kz of og oh oi bi translated">为了提供更好的UI/UX，如果没有设置通知背景颜色，应该使用Android默认的通知文本样式。</li></ol></div><div class="ab cl lo lp hy lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="in io ip iq ir"><h1 id="22e1" class="lv lw iu bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms bi translated">参考</h1><h2 id="7ac8" class="nf lw iu bd lx ng nh dn mb ni nj dp mf kn nk nl mj kr nm nn mn kv no np mr nq bi translated"><strong class="ak"> 1。安卓通知一体机</strong></h2><div class="ov ow gq gs ox oy"><a rel="noopener  ugc nofollow" target="_blank" href="/android-notification-all-in-one-8df3e1218e0e"><div class="oz ab fp"><div class="pa ab pb cl cj pc"><h2 class="bd iv gz z fq pd fs ft pe fv fx it bi translated">安卓通知一体机</h2><div class="pf l"><h3 class="bd b gz z fq pd fs ft pe fv fx dk translated">在21世纪，通知已经成为每个人日常生活的一部分。作为一个Android开发者，最好多了解一些…</h3></div><div class="pg l"><p class="bd b dl z fq pd fs ft pe fv fx dk translated">itnext.io</p></div></div><div class="ph l"><div class="pt l pj pk pl ph pm jw oy"/></div></div></a></div><h2 id="b0d6" class="nf lw iu bd lx ng nh dn mb ni nj dp mf kn nk nl mj kr nm nn mn kv no np mr nq bi translated"><strong class="ak"> 2。Android官方文档</strong></h2><div class="ov ow gq gs ox oy"><a href="https://developer.android.com/training/notify-user/custom-notification" rel="noopener  ugc nofollow" target="_blank"><div class="oz ab fp"><div class="pa ab pb cl cj pc"><h2 class="bd iv gz z fq pd fs ft pe fv fx it bi translated">创建自定义通知布局| Android开发者</h2><div class="pf l"><h3 class="bd b gz z fq pd fs ft pe fv fx dk translated">为了确保您的通知在不同版本的Android上看起来最好，您应该始终使用标准的…</h3></div><div class="pg l"><p class="bd b dl z fq pd fs ft pe fv fx dk translated">developer.android.com</p></div></div><div class="ph l"><div class="pu l pj pk pl ph pm jw oy"/></div></div></a></div><h2 id="23e0" class="nf lw iu bd lx ng nh dn mb ni nj dp mf kn nk nl mj kr nm nn mn kv no np mr nq bi translated">3.RemoteViews官方文档</h2><div class="ov ow gq gs ox oy"><a href="https://developer.android.com/reference/android/widget/RemoteViews#RemoteViews%28java.lang.String,%20int%29" rel="noopener  ugc nofollow" target="_blank"><div class="oz ab fp"><div class="pa ab pb cl cj pc"><h2 class="bd iv gz z fq pd fs ft pe fv fx it bi translated">RemoteViews | Android开发者</h2><div class="pf l"><h3 class="bd b gz z fq pd fs ft pe fv fx dk translated">AccessibilityServiceMagnificationController . OnMagnificationChangedListener</h3></div><div class="pg l"><p class="bd b dl z fq pd fs ft pe fv fx dk translated">developer.android.com</p></div></div><div class="ph l"><div class="pv l pj pk pl ph pm jw oy"/></div></div></a></div></div><div class="ab cl lo lp hy lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="in io ip iq ir"><p id="a564" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">欢迎您通过<a class="ae ln" href="https://twitter.com/myrick_chow" rel="noopener ugc nofollow" target="_blank">Twitter @ my rik _ chow</a>关注我，了解更多信息和文章。感谢您阅读这篇文章。祝您愉快！😄</p></div></div>    
</body>
</html>