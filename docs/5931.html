<html>
<head>
<title>TDD in Flutter Part 1: Introduction to Test Driven Development</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">颤振中的TDD第1部分:试验驱动开发简介</h1>
<blockquote>原文：<a href="https://itnext.io/tdd-in-flutter-part-1-introduction-to-test-driven-development-c130b9e82f36?source=collection_archive---------1-----------------------#2021-07-04">https://itnext.io/tdd-in-flutter-part-1-introduction-to-test-driven-development-c130b9e82f36?source=collection_archive---------1-----------------------#2021-07-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="c863" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这个系列中，我将解释如何将测试驱动开发(简称TDD)的原则应用到一个Flutter(或Dart)项目中。</p><p id="bf50" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第一部分将致力于TDD的基础知识，并试图理解何时使用它。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/8d86239268090316ddb2997da442d57f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cnOxe4bps8i07G-atX2c0w.jpeg"/></div></div></figure><h1 id="cded" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">什么是TDD？</h1><p id="0d44" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">你知道他们说什么，一张图片胜过千言万语，所以这里是测试驱动开发周期的一个代表:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/b8743f8ea5ec56c10d428662098603a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:978/format:webp/1*KP_vX21WC5lig_PnHYomSw.png"/></div></figure><p id="829b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但具体是什么意思呢？如果我们在开始编写任何东西之前考虑一个新创建的项目，你应该能够编写一个失败的测试，然后编写通过测试所需的代码，然后如果需要，你可以重构代码，通过编写另一个测试再次重复这个循环。</p><p id="1704" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当然，测试应用程序中的所有东西并不总是相关的，尤其是在用Flutter开发的时候，你很少需要测试你的整个UI并确保你的每个AppBar都正确显示。但是，如果您的应用程序正在使用来自外部服务的数据，那么对一些API调用进行单元测试，或者如果您的应用程序非常依赖数据库，那么进行与数据库相关的测试，这可能会很有意思。最终，TDD将极大地提高代码的稳定性和质量，尤其是如果你维护或贡献一些开源代码的话。通过这样做，你将完成两件事:</p><ol class=""><li id="727d" class="mb mc iq jp b jq jr ju jv jy md kc me kg mf kk mg mh mi mj bi translated">你将会避免你的代码或者别人写的代码中的回归。如果您决定对代码进行一些重构，添加一个行为，或者对您所依赖的一些服务进行更改，您将能够立即看到项目的哪个部分不能像以前一样工作。</li><li id="ead3" class="mb mc iq jp b jq mk ju ml jy mm kc mn kg mo kk mg mh mi mj bi translated">你的代码将更容易遵守<a class="ae mp" href="https://en.wikipedia.org/wiki/SOLID" rel="noopener ugc nofollow" target="_blank">固体架构</a>中描述的<strong class="jp ir">接口分离原则</strong>和<strong class="jp ir">依赖倒置原则</strong>。因为要使你的代码可测试，你需要分离你的接口和代码的抽象部分。(感谢“鲍勃叔叔”)</li></ol><h1 id="86af" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">你将在Flutter中看到的第一个测试</h1><p id="2e45" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">您可能已经知道了，但是当您创建一个新的Flutter项目时，您的项目的<code class="fe mq mr ms mt b">test/</code>文件夹中会为基本计数器应用程序生成一个测试文件。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="7252" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">代码本身足够清楚，基本上它将模拟你的小部件渲染和动作，它的目的是模拟一些用户输入，它将期望包含一些特定的文本小部件。</p><p id="4b02" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这被称为小部件测试，目标是验证小部件是否具有预期的行为。虽然测试你的UI也很重要，但这并不总是最容易编写的测试。在以后的文章中，我们将看到如何通过使用小部件快照与<a class="ae mp" href="https://pub.dev/packages/golden_toolkit" rel="noopener ugc nofollow" target="_blank"> golden_toolkit </a>包进行比较来测试您的UI。</p><p id="98bf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在Flutter中，你会发现三类自动化测试:</p><ol class=""><li id="89dd" class="mb mc iq jp b jq jr ju jv jy md kc me kg mf kk mg mh mi mj bi translated"><strong class="jp ir">单元测试</strong>:测试单个函数、方法或类。</li><li id="6ac3" class="mb mc iq jp b jq mk ju ml jy mm kc mn kg mo kk mg mh mi mj bi translated"><strong class="jp ir">小部件测试</strong>:测试单个小部件。</li><li id="0d74" class="mb mc iq jp b jq mk ju ml jy mm kc mn kg mo kk mg mh mi mj bi translated"><strong class="jp ir">集成测试</strong>:测试一个完整的app或app的大部分。</li></ol><p id="d29b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在你可能想尝试一下单元测试，在我看来，它们可能是最容易开始编写的。如果您不知道从哪里开始，不要担心，我们将在本系列的第二部分看到如何编写单元测试。</p><p id="6fd1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你等不及下一篇文章，你已经可以从官方的颤振文档中查看<a class="ae mp" href="https://flutter.dev/docs/cookbook/testing/unit/introduction" rel="noopener ugc nofollow" target="_blank">单元测试介绍</a>。</p><h1 id="dc9c" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">结论</h1><p id="f370" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">感谢你阅读这篇文章，我尽量保持简单的解释。在下一部分中，我将解释如何编写单元测试，虽然我还没有一个完整的路线图，但我计划在将来解释如何模拟依赖关系，并通过快照比较来测试小部件。如果你想在下一个版本中看到一些特定的主题，你可以留下评论。</p><p id="a584" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当然，如果你喜欢这篇文章，想表达你对这个系列的支持，你可以鼓掌(最多10次)和/或发表评论。另外，如果你对下一部分感兴趣，请不要犹豫，跟着我，我们会通知你的。</p></div></div>    
</body>
</html>