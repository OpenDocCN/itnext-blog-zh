<html>
<head>
<title>Write Your First Desktop Todo App with Electron and Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用电子和角度写你的第一个桌面待办事项应用</h1>
<blockquote>原文：<a href="https://itnext.io/write-your-first-desktop-todo-app-with-electron-and-angular-d799c9920a85?source=collection_archive---------3-----------------------#2019-02-28">https://itnext.io/write-your-first-desktop-todo-app-with-electron-and-angular-d799c9920a85?source=collection_archive---------3-----------------------#2019-02-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/2661c2acd19e10d55cc4c26910355a50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*w3SGNp95btCITDiqOGSr9Q.gif"/></div></div></figure><p id="ff53" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我想你听说过阿特伍德定律。</p><blockquote class="kw kx ky"><p id="a717" class="jy jz kz ka b kb kc kd ke kf kg kh ki la kk kl km lb ko kp kq lc ks kt ku kv ij bi translated"><em class="iq">“凡是</em><em class="iq">能用JavaScript写的，</em><em class="iq">最终都会用JavaScript写。”<br/> —杰夫·阿特伍德，作家，企业家，StackOverflow的联合创始人</em></p></blockquote><p id="7a53" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可以用JavaScript(<a class="ae ld" href="https://ionicframework.com/" rel="noopener ugc nofollow" target="_blank">Ionic Framework</a>)编写混合或原生移动应用，现在你甚至可以用JavaScript ( <a class="ae ld" href="https://electronjs.org/" rel="noopener ugc nofollow" target="_blank"> Electron </a>)创建桌面应用(Windows、Mac、Linux)。</p><p id="b83e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">基本上我的脑子都被JavaScript的能力炸了。我会让它沉淀一会儿。</p><p id="c31e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你想检查代码和试用应用程序，你可以直接跳到我的<a class="ae ld" href="https://github.com/dalenguyen/todo-app-electron-angular" rel="noopener ugc nofollow" target="_blank"> github库</a>。</p><div class="le lf gp gr lg lh"><a href="https://github.com/dalenguyen/todo-app-electron-angular" rel="noopener  ugc nofollow" target="_blank"><div class="li ab fo"><div class="lj ab lk cl cj ll"><h2 class="bd ir gy z fp lm fr fs ln fu fw ip bi translated">dalen guyen/todo-app-电子-角度</h2><div class="lo l"><h3 class="bd b gy z fp lm fr fs ln fu fw dk translated">一个简单的Todo应用程序的Windows，Mac和Linux是通过电子4和角7创建的…</h3></div><div class="lp l"><p class="bd b dl z fp lm fr fs ln fu fw dk translated">github.com</p></div></div><div class="lq l"><div class="lr l ls lt lu lq lv jw lh"/></div></div></a></div><p id="54d2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，我将向你展示我如何用Electron 4和Angular 7创建一个简单的待办事项应用程序。</p><p id="90b4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">特点:</p><ul class=""><li id="67e9" class="lw lx iq ka b kb kc kf kg kj ly kn lz kr ma kv mb mc md me bi translated">创建新任务</li><li id="1302" class="lw lx iq ka b kb mf kf mg kj mh kn mi kr mj kv mb mc md me bi translated">拖放任务</li><li id="c741" class="lw lx iq ka b kb mf kf mg kj mh kn mi kr mj kv mb mc md me bi translated">删除已完成的任务</li><li id="2fb7" class="lw lx iq ka b kb mf kf mg kj mh kn mi kr mj kv mb mc md me bi translated">应用有角度的材料进行造型</li></ul><ol class=""><li id="363c" class="lw lx iq ka b kb kc kf kg kj ly kn lz kr ma kv mk mc md me bi translated"><strong class="ka ir">从样板文件开始</strong> : <a class="ae ld" href="https://github.com/maximegris/angular-electron" rel="noopener ugc nofollow" target="_blank">角电子</a></li></ol><p id="7f05" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你不想使用Angular，你可以从<a class="ae ld" href="https://electronforge.io/templates" rel="noopener ugc nofollow" target="_blank">electronic Forge</a>查看其他模板，如React、Vue、Vanilla…</p><p id="d1f2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">克隆样板文件后，您需要安装软件包。</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="d4e1" class="mu mv iq mq b gy mw mx l my mz">npm install</span></pre><p id="bd8d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">之后，对于拖放和样式功能，我们还需要安装一些额外的包。</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="677b" class="mu mv iq mq b gy mw mx l my mz">npm i -D @angular/cdk @angular/material @angular/animations hammerjs</span></pre><p id="9749" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后将必要的模块导入<strong class="ka ir"> app.module.ts </strong></p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="f635" class="mu mv iq mq b gy mw mx l my mz">// app.module.ts</span><span id="8079" class="mu mv iq mq b gy na mx l my mz">import { BrowserAnimationsModule } from '<a class="ae ld" href="http://twitter.com/angular/platform-browser" rel="noopener ugc nofollow" target="_blank">@angular/platform-browser</a>/animations';<br/>import { DragDropModule } from '<a class="ae ld" href="http://twitter.com/angular/cdk" rel="noopener ugc nofollow" target="_blank">@angular/cdk</a>/drag-drop';</span><span id="ef4a" class="mu mv iq mq b gy na mx l my mz">import {MatGridListModule} from '<a class="ae ld" href="http://twitter.com/angular/material" rel="noopener ugc nofollow" target="_blank">@angular/material</a>/grid-list';<br/>import {MatInputModule} from '<a class="ae ld" href="http://twitter.com/angular/material" rel="noopener ugc nofollow" target="_blank">@angular/material</a>/input';<br/>import {MatIconModule} from '<a class="ae ld" href="http://twitter.com/angular/material" rel="noopener ugc nofollow" target="_blank">@angular/material</a>/icon';<br/>import {MatListModule} from '<a class="ae ld" href="http://twitter.com/angular/material" rel="noopener ugc nofollow" target="_blank">@angular/material</a>/list';</span><span id="dc07" class="mu mv iq mq b gy na mx l my mz">...</span><span id="46df" class="mu mv iq mq b gy na mx l my mz"><a class="ae ld" href="http://twitter.com/NgModule" rel="noopener ugc nofollow" target="_blank">@NgModule</a>({<br/>  ...<br/>  imports: [    <br/>    BrowserAnimationsModule,<br/>    MatGridListModule,<br/>    MatInputModule,<br/>    MatIconModule,<br/>    MatListModule,<br/>    DragDropModule<br/>    ...<br/>  ],<br/>})</span></pre><p id="51aa" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以在style.scss中包含一个预构建的主题</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="5859" class="mu mv iq mq b gy mw mx l my mz">// style.scss</span><span id="750c" class="mu mv iq mq b gy na mx l my mz">// Angular Material<br/>@import "~@angular/material/prebuilt-themes/indigo-pink.css";</span></pre><p id="bd6f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">有些组件在HammerJS上回复为手势，我们就放在<strong class="ka ir"> src/main.ts </strong>上</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="9219" class="mu mv iq mq b gy mw mx l my mz">// src/main.ts</span><span id="46ca" class="mu mv iq mq b gy na mx l my mz">import 'hammerjs';</span></pre><p id="1062" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们还需要添加材料图标到<strong class="ka ir">index.html</strong></p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="c490" class="mu mv iq mq b gy mw mx l my mz">// index.html</span><span id="7ecb" class="mu mv iq mq b gy na mx l my mz">&lt;link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"&gt;</span></pre><p id="bc59" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">2.<strong class="ka ir">创建待办事宜组件</strong></p><p id="2109" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以从样板文件中删除或重命名主构件。</p><figure class="ml mm mn mo gt jr gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/d0f0cde4ac9d226c52b2f878c9856eb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:710/format:webp/1*S5V694UMp64HnhfDUEIu5A.png"/></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk translated"><em class="ng">待办事项组件</em></figcaption></figure><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="f4ad" class="mu mv iq mq b gy mw mx l my mz">// todo.component.ts</span><span id="39e9" class="mu mv iq mq b gy na mx l my mz">import { Component, OnInit } from '<a class="ae ld" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>';</span><span id="877b" class="mu mv iq mq b gy na mx l my mz">import {<br/>  CdkDragDrop,<br/>  moveItemInArray,<br/>  transferArrayItem<br/>} from '<a class="ae ld" href="http://twitter.com/angular/cdk" rel="noopener ugc nofollow" target="_blank">@angular/cdk</a>/drag-drop';</span><span id="764f" class="mu mv iq mq b gy na mx l my mz">export interface Todo {<br/>  title: string;<br/>  date: string;<br/>}</span><span id="71b7" class="mu mv iq mq b gy na mx l my mz"><a class="ae ld" href="http://twitter.com/Component" rel="noopener ugc nofollow" target="_blank">@Component</a>({<br/>  selector: 'app-todo',<br/>  templateUrl: './todo.component.html',<br/>  styleUrls: ['./todo.component.scss']<br/>})</span><span id="4173" class="mu mv iq mq b gy na mx l my mz">export class TodoComponent implements OnInit {<br/>  value = '';</span><span id="f0f8" class="mu mv iq mq b gy na mx l my mz">public todo: Todo[] = [<br/>    { title: 'Wake up', date: new Date().toString() },<br/>    { title: 'Shopping', date: new Date().toString() },<br/>  ];</span><span id="49d6" class="mu mv iq mq b gy na mx l my mz">public done: Todo[] = [<br/>    { title: 'Write a blog', date: new Date().toString() },<br/>    { title: 'Study Electron', date: new Date().toString() }<br/>  ];</span><span id="1a84" class="mu mv iq mq b gy na mx l my mz">arr = [];</span><span id="651f" class="mu mv iq mq b gy na mx l my mz">constructor() {}</span><span id="8557" class="mu mv iq mq b gy na mx l my mz">ngOnInit() {}</span><span id="caa0" class="mu mv iq mq b gy na mx l my mz">onSubmit() {<br/>    this.todo.push({ title: this.value, date: new Date().toString() });<br/>    this.value = '';<br/>  }</span><span id="3dbf" class="mu mv iq mq b gy na mx l my mz">clearInput(event: MouseEvent) {<br/>    if ((&lt;HTMLElement&gt;event.target).nodeName === 'MAT-ICON') {<br/>      this.value = '';<br/>    }<br/>  }</span><span id="322e" class="mu mv iq mq b gy na mx l my mz">deleteTask(index: number) {<br/>    this.done.splice(index, 1);<br/>  }</span><span id="8b4a" class="mu mv iq mq b gy na mx l my mz">onAreaListControlChanged(index: number) {<br/>    setTimeout(() =&gt; {<br/>      const task = this.todo.splice(index, 1);<br/>      this.done.unshift(task[0]);<br/>    }, 1000);<br/>  }</span><span id="e518" class="mu mv iq mq b gy na mx l my mz">drop(event: CdkDragDrop&lt;string[]&gt;, type: string) {<br/>    if (event.previousContainer !== event.container) {<br/>      transferArrayItem(event.previousContainer.data, event.container.data,<br/>        event.previousIndex, event.currentIndex);<br/>    } else {<br/>      if (type === 'todo') {<br/>        moveItemInArray(this.todo, event.previousIndex, event.currentIndex)<br/>      } else {<br/>        moveItemInArray(this.done, event.previousIndex, event.currentIndex);<br/>      }<br/>    }<br/>  }<br/>}</span></pre><p id="1963" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于Html模板</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="72c1" class="mu mv iq mq b gy mw mx l my mz">// todo.component.html</span><span id="9c6b" class="mu mv iq mq b gy na mx l my mz">&lt;div class="container"&gt;<br/>    &lt;h1&gt;Todo List!&lt;/h1&gt;<br/>    &lt;form class="example-form"&gt;<br/>        &lt;mat-form-field class="example-form-field"&gt;<br/>            &lt;input matInput type="text" placeholder="Add new task"              <br/>              [(ngModel)]="value" <br/>              [ngModelOptions]="{standalone: true}" <br/>              (keyup.enter)="onSubmit()"&gt;<br/>            &lt;button mat-button *ngIf="value" matSuffix mat-icon-button aria-label="Clear" (click)="clearInput($event)"&gt;<br/>              &lt;mat-icon&gt;close&lt;/mat-icon&gt;<br/>            &lt;/button&gt;<br/>        &lt;/mat-form-field&gt;     <br/>    &lt;/form&gt;</span><span id="c564" class="mu mv iq mq b gy na mx l my mz">    &lt;p *ngIf="todo.length &lt; 1"&gt;You're rock! There are no more tasks.&lt;/p&gt;<br/>    &lt;div class="list"&gt;<br/>        &lt;h3 *ngIf="todo.length &gt; 0"&gt;Ongoing List&lt;/h3&gt;<br/>        &lt;mat-selection-list cdkDropList <br/>          [cdkDropListData]="todo" <br/>          [cdkDropListConnectedTo]="secondList" <br/>          #firstList="cdkDropList"<br/>          (cdkDropListDropped)="drop($event, 'todo')"&gt;<br/>            &lt;mat-list-option *ngFor="let task of todo; let i = index" cdkDrag (click)="onAreaListControlChanged(i)"&gt;<br/>              {{ task.title }}<br/>              &lt;mat-divider&gt;&lt;/mat-divider&gt;<br/>            &lt;/mat-list-option&gt;<br/>        &lt;/mat-selection-list&gt;<br/>        &lt;h3 *ngIf="done.length &gt; 0"&gt;Done&lt;/h3&gt;<br/>        &lt;mat-list cdkDropList <br/>          [cdkDropListData]="done" <br/>          [cdkDropListConnectedTo]="firstList" <br/>          #secondList="cdkDropList"<br/>          (cdkDropListDropped)="drop($event, 'done')"&gt;<br/>            &lt;mat-list-item role="listitem" *ngFor="let task of done; let i = index" cdkDrag&gt;<br/>              &lt;mat-icon matListIcon (click)="deleteTask(i)"&gt;delete_forever&lt;/mat-icon&gt;<br/>              &lt;s style="color: grey;"&gt;{{ task.title }}&lt;/s&gt;              <br/>              &lt;mat-divider&gt;&lt;/mat-divider&gt;<br/>            &lt;/mat-list-item&gt;<br/>        &lt;/mat-list&gt;   <br/>    &lt;/div&gt;  <br/>&lt;/div&gt;</span></pre><p id="6966" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">给模板添加一些样式</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="4fce" class="mu mv iq mq b gy mw mx l my mz">// todo.component.scss</span><span id="f4b3" class="mu mv iq mq b gy na mx l my mz">.container{<br/>  margin: 0 20px;  <br/>}</span><span id="6901" class="mu mv iq mq b gy na mx l my mz">.example-form-field {<br/>  width: 100%;<br/>  button {<br/>    border: none;<br/>  }<br/>}</span></pre><p id="d979" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">编辑路由模块</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="e07c" class="mu mv iq mq b gy mw mx l my mz">// app-routing.module.ts</span><span id="6910" class="mu mv iq mq b gy na mx l my mz">import { TodoComponent } from './components/todo/todo.component';<br/>import { NgModule } from '<a class="ae ld" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>';<br/>import { Routes, RouterModule } from '<a class="ae ld" href="http://twitter.com/angular/router" rel="noopener ugc nofollow" target="_blank">@angular/router</a>';</span><span id="4933" class="mu mv iq mq b gy na mx l my mz">const routes: Routes = [<br/>    {<br/>        path: '',<br/>        component: TodoComponent<br/>    }<br/>];</span><span id="4810" class="mu mv iq mq b gy na mx l my mz"><a class="ae ld" href="http://twitter.com/NgModule" rel="noopener ugc nofollow" target="_blank">@NgModule</a>({<br/>    imports: [RouterModule.forRoot(routes, {useHash: true})],<br/>    exports: [RouterModule]<br/>})<br/>export class AppRoutingModule { }</span></pre><p id="1bd7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后将TodoComponent添加到<strong class="ka ir"> app.module.ts </strong></p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="d412" class="mu mv iq mq b gy mw mx l my mz">// app.module.ts</span><span id="58b7" class="mu mv iq mq b gy na mx l my mz">import { TodoComponent } from './components/todo/todo.component';</span><span id="4114" class="mu mv iq mq b gy na mx l my mz"><a class="ae ld" href="http://twitter.com/NgModule" rel="noopener ugc nofollow" target="_blank">@NgModule</a>({<br/>  declarations: [<br/>    AppComponent,<br/>    <strong class="mq ir">TodoComponent</strong>,<br/>    WebviewDirective<br/>  ]<br/>  ...<br/>})</span></pre><p id="95cb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">准备好todo组件后，您可以运行以下命令来测试应用程序:</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="4f56" class="mu mv iq mq b gy mw mx l my mz">npm start</span></pre><p id="6882" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我将打开一个带检查的新窗口，因此您可以工作并修改您的应用程序。对于生产，您可以通过以下命令构建跨平台桌面应用:</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="f10a" class="mu mv iq mq b gy mw mx l my mz">npm run electron:linux <br/>npm run electron:windows<br/>npm run electron:mac</span></pre><p id="31f5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从现在开始，你可以开始玩这个简单的应用程序。如果你愿意，你可以在本地或者通过云(Firebase…)保存数据。</p><p id="2052" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这只是一个简单的桌面应用程序项目，仅用于展示电子的能力。如果你想改善它，请随意制造问题或公关。</p></div></div>    
</body>
</html>