<html>
<head>
<title>Your API Key: Keep It Like A Secret</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">您的API密钥:像保密一样保密</h1>
<blockquote>原文：<a href="https://itnext.io/your-api-key-keep-it-like-a-secret-d41e6971d172?source=collection_archive---------2-----------------------#2020-04-11">https://itnext.io/your-api-key-keep-it-like-a-secret-d41e6971d172?source=collection_archive---------2-----------------------#2020-04-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="bc95" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当在来自前端的请求中使用API密钥时，使用一个简单的代理服务器来保证它们的安全。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/9421d08ede1c4087cdc63f7ceab8582b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hpxg0nwZRETl3co8BeaJ6Q.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">白松鼠。卡罗莱纳松鼠。版权所有诺拉布朗。</figcaption></figure><p id="a370" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">根据互联网的说法，你不应该将你的私有API密钥存储在前端代码中。当您这样做时，您可能会以三种方式暴露它们:</p><ul class=""><li id="6051" class="lb lc iq jp b jq jr ju jv jy ld kc le kg lf kk lg lh li lj bi translated">在代码中——任何一个浏览你网站源代码的人都可能会发现它们。</li><li id="e7c8" class="lb lc iq jp b jq lk ju ll jy lm kc ln kg lo kk lg lh li lj bi translated">在您的请求中——有人可以在开发工具的“网络”标签中看到它与您的API请求一起被传递。</li><li id="246e" class="lb lc iq jp b jq lk ju ll jy lm kc ln kg lo kk lg lh li lj bi translated">在Github上——如果你的代码在公共存储库中，很容易扫描到API密钥。</li></ul><h1 id="c2e3" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">为什么要保密？</h1><p id="5732" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">如果你的API密匙是公开的、免费的、无配额的、只读的API，那么你的API密匙是否是秘密的就没那么重要了。如果有人能拿到自己的钥匙，他们为什么要偷你的呢？如果他们做了又怎么样？</p><p id="57cd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">而且，许多服务允许您将呼叫限制到特定的域，或者对允许的请求数量设置上限。这有助于减少有人偷你钥匙的影响。</p><p id="6743" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然而，在其他情况下，您可能需要一种更好的方法来保护您的API密钥。例如，我在一个Airtable数据库中保存时间跟踪和发票数据。我写了一个Vue应用程序来创建和记录发票。因为API键允许读写轻度敏感的数据，所以我不希望它只是挂在我的前端Javascript中。</p><p id="680d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">那么我们能做些什么呢？创建代理服务器！</p><h1 id="e386" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">WTF是代理服务器？</h1><p id="6fcf" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">是的——这也是我的第一个想法。想象一个代理服务器，就像X档案里的深喉角色。当莫特需要一些黑暗政府的信息时，他会和深喉说话。如果一切按计划进行，深喉与他的秘密来源对话，得到信息，然后传给莫特。穆德从不直接与这些隐藏的人物对话；都是通过他的<em class="ms">代理</em>深喉完成的。</p><p id="6f9b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">感谢<a class="ae mt" href="https://github.com/MauricioRobayo/api-key-proxy-server" rel="noopener ugc nofollow" target="_blank">毛里西奥·罗瓦约</a>的这个项目(我肯定还有其他项目)，在Heroku上建立你自己的代理服务器并不太难。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mu"><img src="../Images/20b458848b162f6dca906e132c7816f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zQpkpt9VAo2vPx14QaterQ.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">代理服务器作为来自前端Javascript的API请求的中间人</figcaption></figure><h1 id="b6e3" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">WTF是Heroku？</h1><p id="795e" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">好问题。Heroku是一个“平台即服务”。它允许任何人(甚至是对PaaS这种烦人的缩写过敏的人)通过最少的设置和配置来部署应用程序。它位于亚马逊网络服务之上。</p><h1 id="51ae" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">该过程</h1><p id="30eb" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">这篇文章很大程度上基于<a class="ae mt" href="https://blog.mauriciorobayo.com/how-to-hide-your-front-end-api-keys-ck6jqvll900y3dfs11u3x96tn" rel="noopener ugc nofollow" target="_blank">这个指南</a>，为我们这些更倾向于前端的人提供了额外的细节。该方法的概要是:</p><ol class=""><li id="3f5d" class="lb lc iq jp b jq jr ju jv jy ld kc le kg lf kk mv lh li lj bi translated">注册一个免费的Heroku帐户。</li><li id="9030" class="lb lc iq jp b jq lk ju ll jy lm kc ln kg lo kk mv lh li lj bi translated">在本地设置Heroku命令行界面(CLI)用于开发。</li><li id="32a5" class="lb lc iq jp b jq lk ju ll jy lm kc ln kg lo kk mv lh li lj bi translated">创建您自己的代理服务器副本。</li><li id="2842" class="lb lc iq jp b jq lk ju ll jy lm kc ln kg lo kk mv lh li lj bi translated">用您特定的API服务来配置它。</li><li id="ad0c" class="lb lc iq jp b jq lk ju ll jy lm kc ln kg lo kk mv lh li lj bi translated">推给赫罗库。</li><li id="b6d0" class="lb lc iq jp b jq lk ju ll jy lm kc ln kg lo kk mv lh li lj bi translated">将您的API密钥添加为Heroku“配置变量”。</li><li id="d052" class="lb lc iq jp b jq lk ju ll jy lm kc ln kg lo kk mv lh li lj bi translated">测试一下。</li></ol><p id="58a3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们为上述步骤添加一些细节。</p><h2 id="8b8d" class="mw lq iq bd lr mx my dn lv mz na dp lz jy nb nc md kc nd ne mh kg nf ng ml nh bi translated">报名参加Heroku。</h2><p id="7fcc" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">可以<a class="ae mt" href="https://signup.heroku.com/" rel="noopener ugc nofollow" target="_blank">注册一个免费账号</a>，非常适合尝试。<a class="ae mt" href="https://www.heroku.com/dynos" rel="noopener ugc nofollow" target="_blank">在免费账户</a>中，你的Heroku应用程序会在30分钟不活动后“休眠”，因此你对它的第一次请求会比平时多花一点时间。</p><h2 id="1b70" class="mw lq iq bd lr mx my dn lv mz na dp lz jy nb nc md kc nd ne mh kg nf ng ml nh bi translated">安装Heroku CLI</h2><p id="9f3b" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">要安装Heroku CLI，请遵循Heroku 上优秀的<a class="ae mt" href="https://devcenter.heroku.com/articles/getting-started-with-nodejs#set-up" rel="noopener ugc nofollow" target="_blank">node . js入门指南中的步骤。按照您的操作系统的说明进行操作。</a></p><h2 id="52ca" class="mw lq iq bd lr mx my dn lv mz na dp lz jy nb nc md kc nd ne mh kg nf ng ml nh bi translated">创建代理服务器应用程序</h2><p id="735d" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">我们将克隆<a class="ae mt" href="https://github.com/MauricioRobayo/api-key-proxy-server" rel="noopener ugc nofollow" target="_blank"> API密钥代理服务器报告</a>，而不是继续使用Heroku的“入门”应用程序。打开一个终端，进入你想保存项目文件的任何地方。运行以下命令来克隆存储库:</p><pre class="km kn ko kp gt nm nl nn no aw np bi"><span id="b611" class="mw lq iq nl b gy nq nr l ns nt">git clone <a class="ae mt" href="https://github.com/MauricioRobayo/api-key-proxy-heroku.git" rel="noopener ugc nofollow" target="_blank">https://github.com/MauricioRobayo/api-key-proxy-heroku.git</a></span></pre><p id="2250" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后<code class="fe ni nj nk nl b">cd</code>进入新目录:</p><pre class="km kn ko kp gt nm nl nn no aw np bi"><span id="5ee8" class="mw lq iq nl b gy nq nr l ns nt">cd api-key-proxy-heroku</span></pre><p id="5c2c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">并运行Heroku提供的<code class="fe ni nj nk nl b">create</code>命令:</p><pre class="km kn ko kp gt nm nl nn no aw np bi"><span id="901e" class="mw lq iq nl b gy nq nr l ns nt">heroku create your-app-name</span></pre><p id="23f4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你在没有提供name参数的情况下运行<code class="fe ni nj nk nl b">heroku create</code>，Heroku会给你的应用分配一个随机的、有点诗意的名字，比如“evening-rain-34589”，这可能会让你在Heroku账户中很难区分不同的应用。<code class="fe ni nj nk nl b">create</code>命令“准备Heroku接收你的源代码”。来自指南:</p><blockquote class="nu nv nw"><p id="6a44" class="jn jo ms jp b jq jr js jt ju jv jw jx nx jz ka kb ny kd ke kf nz kh ki kj kk ij bi translated">当您创建一个应用程序时，还会创建一个git remote(名为<code class="fe ni nj nk nl b">heroku</code>)并与您的本地git存储库相关联。</p></blockquote><h2 id="efad" class="mw lq iq bd lr mx my dn lv mz na dp lz jy nb nc md kc nd ne mh kg nf ng ml nh bi translated">配置代理服务器</h2><p id="5837" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">大多数配置发生在名副其实的<code class="fe ni nj nk nl b">config.js</code>文件中。这个文件的核心是一个代理数组，您将在其中设置您的最终用户应用程序将使用的每个服务。以下是Airtable的设置示例:</p><pre class="km kn ko kp gt nm nl nn no aw np bi"><span id="495c" class="mw lq iq nl b gy nq nr l ns nt">module.exports = {<br/>  proxies: [<br/>    {<br/>      route: '/airtable',<br/>      allowedMethods: ['GET'],<br/>      allowedDomains: ['<a class="ae mt" href="http://localhost:8080'" rel="noopener ugc nofollow" target="_blank">http://localhost:8080'</a>, '<a class="ae mt" href="https://www.norabrowndesign.com'" rel="noopener ugc nofollow" target="_blank">https://www.norabrowndesign.com'</a>],<br/>      target: '<a class="ae mt" href="https://api.airtable.com/v0/appm4dAJr6GpPWKt0/Sightings'" rel="noopener ugc nofollow" target="_blank">https://api.airtable.com/v0/baseid/Table'</a>,<br/>      headers: {<br/>        Authorization: `Bearer ${process.env.VUE_APP_AIRTABLE_API_KEY}`,<br/>      },<br/>    },<br/>    ...<br/>  ]<br/>}</span></pre><p id="1848" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以上意思是:</p><ol class=""><li id="8c61" class="lb lc iq jp b jq jr ju jv jy ld kc le kg lf kk mv lh li lj bi translated">当您想要向Airtable发出API请求时，您将改为向端点“/airtable”处的代理应用程序发出请求。</li><li id="a182" class="lb lc iq jp b jq lk ju ll jy lm kc ln kg lo kk mv lh li lj bi translated">代理应用程序将只接受<code class="fe ni nj nk nl b">GET</code>请求。</li><li id="8726" class="lb lc iq jp b jq lk ju ll jy lm kc ln kg lo kk mv lh li lj bi translated">它将只接受来自本地开发服务器的请求，或者在本例中，来自我的网站的请求。</li><li id="bf7e" class="lb lc iq jp b jq lk ju ll jy lm kc ln kg lo kk mv lh li lj bi translated">它将向<code class="fe ni nj nk nl b">target</code>(实际的API端点)'https://api.airtable.com/v0/baseid/Table'发出请求。</li><li id="2949" class="lb lc iq jp b jq lk ju ll jy lm kc ln kg lo kk mv lh li lj bi translated">根据Airtable的要求，对Airtable的请求将包括带有API键的<code class="fe ni nj nk nl b">Authorization</code>头。</li></ol><p id="d188" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">除了这五个参数之外，您还可以在请求中包含<code class="fe ni nj nk nl b">auth</code>和<code class="fe ni nj nk nl b">queryparams</code>参数。注意，虽然您可以在这里包含静态查询参数，但是您随请求发送给代理<em class="ms">的任何查询参数都将</em>传递给<code class="fe ni nj nk nl b">target</code>。</p><h2 id="f522" class="mw lq iq bd lr mx my dn lv mz na dp lz jy nb nc md kc nd ne mh kg nf ng ml nh bi translated">把你的改变推给Heroku</h2><p id="3d21" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">一旦您在<code class="fe ni nj nk nl b">config.js</code>中设置了代理，您就可以将更改推送到Heroku。首先，用一条消息添加并提交文件:</p><pre class="km kn ko kp gt nm nl nn no aw np bi"><span id="1f78" class="mw lq iq nl b gy nq nr l ns nt">git commit -am "Add Airtable proxy setup"</span></pre><p id="58f5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后推送到Heroku上的远程repo:</p><pre class="km kn ko kp gt nm nl nn no aw np bi"><span id="0ea8" class="mw lq iq nl b gy nq nr l ns nt">git push heroku master</span></pre><p id="6dd0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Heroku自动<a class="ae mt" href="https://devcenter.heroku.com/articles/git#deploying-code" rel="noopener ugc nofollow" target="_blank">构建和部署你的应用</a>当你把改变推送到主分支，就像我们在这里做的。</p><h2 id="ea13" class="mw lq iq bd lr mx my dn lv mz na dp lz jy nb nc md kc nd ne mh kg nf ng ml nh bi translated">将API键作为环境变量添加</h2><p id="9998" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">现在，您的代理服务器需要知道您的API密钥，这样它就可以使用它们来发出授权请求。再看一下与Airtable请求一起发送的头:</p><pre class="km kn ko kp gt nm nl nn no aw np bi"><span id="0eae" class="mw lq iq nl b gy nq nr l ns nt">Authorization: `Bearer ${process.env.VUE_APP_AIRTABLE_API_KEY}`,</span></pre><p id="6b4f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">那个<code class="fe ni nj nk nl b">VUE_APP_AIRTABLE_API_KEY</code>就是我们要储存在Heroku的东西。</p><p id="0c4c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从你的Heroku仪表板，点击你刚刚创建的项目，然后设置。在配置变量部分，单击显示配置变量。在这里，您可以使用您在<code class="fe ni nj nk nl b">config.js</code>代理列表中给定的常量名称添加任何API键。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi oa"><img src="../Images/c4f42167403b4905fbb94d0d8f7bae1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gH2IFY9dCKdDoNehFrnelw.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">Heroku配置变量是Heroku应用程序的环境变量</figcaption></figure><h2 id="78e1" class="mw lq iq bd lr mx my dn lv mz na dp lz jy nb nc md kc nd ne mh kg nf ng ml nh bi translated">测试您的新代理服务器</h2><p id="4ecc" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">现在您已经准备好测试您的设置了。你可以用<a class="ae mt" href="https://www.postman.com/" rel="noopener ugc nofollow" target="_blank"> Postman </a>或者任何一点Javascript来调用API。由于我正在构建一个极其乏味的东西来显示我记录的鸟类观察，我将制作一个非常小的Vue应用程序。出于演示的目的，我把它放在Codepen上:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="c7b1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">失败！事实上，这一开始并不奏效。API请求返回了404。为什么？因为Codepen不在允许的域中！要解决这个问题，我们可以添加它:</p><pre class="km kn ko kp gt nm nl nn no aw np bi"><span id="0d16" class="mw lq iq nl b gy nq nr l ns nt">allowedDomains: [<br/>  '<a class="ae mt" href="http://localhost:8080'" rel="noopener ugc nofollow" target="_blank">http://localhost:8080'</a>,<br/>  '<a class="ae mt" href="https://www.norabrowndesign.com'" rel="noopener ugc nofollow" target="_blank">https://www.norabrowndesign.com'</a>,<br/>  '<a class="ae mt" href="https://cdpn.io'" rel="noopener ugc nofollow" target="_blank">https://cdpn.io'</a><br/>],</span></pre><p id="a4dd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后提交并部署您的更改:</p><pre class="km kn ko kp gt nm nl nn no aw np bi"><span id="7649" class="mw lq iq nl b gy nq nr l ns nt">git commit -am "Add Airtable proxy setup"<br/>git push heroku master</span></pre><p id="df9e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">而且很管用！显示一个birds列表，在Network选项卡中，您可以看到这个调用是使用<code class="fe ni nj nk nl b">maxRecords</code>参数对代理服务器进行的:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi od"><img src="../Images/2ff39b4392c7e69a2d555df7556fd5a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j4cFZhU5-oiRUI40ltjePw.png"/></div></div></figure><p id="7f2a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">实际上，返回了12条记录。</p><h1 id="a750" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">额外内容:在本地测试您的代理</h1><p id="ec9d" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">API密钥代理服务器的另一个好处是您可以轻松地在本地测试它。为此，创建一个名为<code class="fe ni nj nk nl b">.env</code>的新文件，并添加API键:</p><pre class="km kn ko kp gt nm nl nn no aw np bi"><span id="90c2" class="mw lq iq nl b gy nq nr l ns nt">VUE_APP_AIRTABLE_API_KEY=&lt;your api key here&gt;</span></pre><p id="1f90" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">“但是等等！”你会说…“这不正是我们想要避免的吗！?"算是吧。但是如果你打开<code class="fe ni nj nk nl b">.gitignore</code>文件，你会注意到<code class="fe ni nj nk nl b">.env</code>文件被列出，所以这个文件永远不会出现在repo中，只会存在于本地用于测试目的。</p><p id="95eb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">添加API密钥后，启动服务器:</p><pre class="km kn ko kp gt nm nl nn no aw np bi"><span id="b47c" class="mw lq iq nl b gy nq nr l ns nt">npm run start:dev</span></pre><p id="3612" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你现在调整你的应用程序代码(或邮递员设置)来调用你的<em class="ms">本地</em>代理服务器，它应该运行在‘http://localhost:5000’:</p><pre class="km kn ko kp gt nm nl nn no aw np bi"><span id="0dd8" class="mw lq iq nl b gy nq nr l ns nt">axios.get('<a class="ae mt" href="http://localhost:5000/airtable',{" rel="noopener ugc nofollow" target="_blank">http://localhost:5000/airtable', {</a><br/>  params: {<br/>    maxRecords: 12,<br/>  }<br/>}).then((response) =&gt; { /* yada yada */ })</span></pre><p id="0eda" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您应该看到对本地代理服务器的成功API调用:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi oe"><img src="../Images/fefdfe1c863e1099f99f0d7f6ad7cd24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4EFUg8-TrHmpLLLnkCawYQ.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">本地测试您的代理服务器</figcaption></figure><h1 id="f5c8" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">结论</h1><p id="92c0" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">我希望这有所帮助，特别是对于前端开发人员，他们正在用第三方API构建很多很酷的东西，但是对于让API键在他们的代码中浮动感到一丝不快。</p><p id="51a9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请在下面留下想法和问题！</p></div></div>    
</body>
</html>