<html>
<head>
<title>A Comprehensive Guide to Docker Certified Associate</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Docker认证助理综合指南</h1>
<blockquote>原文：<a href="https://itnext.io/a-comprehensive-guide-to-docker-certified-associate-exam-d7f25b6374ca?source=collection_archive---------1-----------------------#2020-12-28">https://itnext.io/a-comprehensive-guide-to-docker-certified-associate-exam-d7f25b6374ca?source=collection_archive---------1-----------------------#2020-12-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/e68dd8500d76d11220d9d722173bf764.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DmUf9smSja1BOTHOTtIFew.jpeg"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">码头注册助理(DCA)</figcaption></figure><div class=""/><div class=""><h2 id="1e6e" class="pw-subtitle-paragraph kc je jf bd b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt dk translated">DCA (Docker认证助理)考试备考笔记。</h2></div><h1 id="f94c" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">介绍</h1><p id="88b1" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">这篇文章和附带的<a class="ae mi" href="https://github.com/Piotr1215/dca-prep-kit" rel="noopener ugc nofollow" target="_blank"> Github Repo </a>是我对Docker认证助理的学习方式，做笔记，同时回馈伟大的开源社区。自己尝试一下，只要几个降价文件，你就会有一本有用的学习和参考手册。</p><p id="dfe2" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">下面的部分包含我的笔记和图表，以及docker命令和提示和技巧。从定义上来说，这是一本自以为是的学习材料，但是我希望你在学习和通过Docker Certified Associate考试的过程中会发现它很有用。</p><p id="53d2" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">如果你发现了错误，请在评论中告诉我，如果你想为回购做出贡献，请随时提交PR。</p><p id="49e7" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">每个部分对应考试题目。在Docker、Docker Swarm和Kubernetes中，图表(组件、顺序、小地图)有助于可视化和更好地理解架构概念。所有的图表都可以在附带的库的<a class="ae mi" href="https://github.com/Piotr1215/dca-prep-kit/blob/master/diagrams" rel="noopener ugc nofollow" target="_blank">图表</a>文件夹中找到。</p><blockquote class="ms mt mu"><p id="7c2a" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated">本博客的网页版可以在<a class="ae mi" href="https://dcaguide.net." rel="noopener ugc nofollow" target="_blank"><em class="jf">https://dcaguide.net下找到。</em> </a> <em class="jf">请尝试使用网页版，直接从我的储存库中的markdown文件生成，随着时间的推移会比本博客更新。它还具有搜索功能，可以更容易地找到和过滤信息。</em></p><p id="a1bb" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">如果你是Docker新手，请查看我关于</em> <a class="ae mi" href="https://medium.com/faun/a-gentle-introduction-to-docker-and-containers-2e67b1832918" rel="noopener"> <em class="jf"> Docker基础知识</em> </a>的帖子</p></blockquote><h1 id="325c" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">证书</h1><ul class=""><li id="5748" class="mz na jf lo b lp lq ls lt lv nb lz nc md nd mh ne nf ng nh bi translated">有关认证和考试<a class="ae mi" href="https://training.mirantis.com/dca-certification-exam/" rel="noopener ugc nofollow" target="_blank">的更多详情，请访问米兰蒂斯网站</a>。</li><li id="f2ba" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated"><a class="ae mi" href="https://techcrunch.com/2019/11/13/mirantis-acquires-docker-enterprise/?guccounter=1&amp;guce_referrer=aHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS8&amp;guce_referrer_sig=AQAAAChqDhj765aUpAQfg-rkCWE0kB-4eAJn0VdTGsf35u6hGrL6scvqoLar-_xYPJazylmp15VqXquNq69HWpYx3cepSnXSSUTirYLSMJEbPuBhQOfS4blsGLwsULwWzxK8iaH3zb2KplXRwnpdfMu9iz5Azc2czZr9T5bFwq0AIeN3" rel="noopener ugc nofollow" target="_blank">米兰蒂斯于2019年11月收购Docker Enterprise</a></li></ul><h1 id="8b5c" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">考试</h1><blockquote class="ms mt mu"><p id="0114" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated">与CKA或CKAD不同，该考试没有免费重考，随后的每一次重考都必须单独付费，所以请务必做好准备。请记住，您可以随时重新安排考试。 </p><p id="3fbf" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated">考试相当具有挑战性。问题非常详细，通常围绕特定主题的模糊细节。我的考试有很多关于PVs、PVC、存储类以及DTR和UCP的详细配置的问题。请记住，您的考试可能会有所不同，因为问题经常会发生变化。</p><p id="7fdb" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">本指南基于官方</em> <a class="ae mi" href="https://docker.cdn.prismic.io/docker/4a619747-6889-48cd-8420-60f24a6a13ac_DCA_study+Guide_v1.3.pdf" rel="noopener ugc nofollow" target="_blank"> <em class="jf"> Docker学习指南</em> </a> <em class="jf"> v 1.3，2020年5月</em></p></blockquote><h1 id="bbe6" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">考试主题</h1><ol class=""><li id="36a2" class="mz na jf lo b lp lq ls lt lv nb lz nc md nd mh nn nf ng nh bi translated">编排— 25%</li><li id="0169" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh nn nf ng nh bi translated">映像创建、管理和注册— 20%</li><li id="5e12" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh nn nf ng nh bi translated">安装和配置— 15%</li><li id="9ab0" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh nn nf ng nh bi translated">网络— 15%</li><li id="c66b" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh nn nf ng nh bi translated">安全性— 15%</li><li id="d2f0" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh nn nf ng nh bi translated">存储和容量— 10%</li></ol><h1 id="5af9" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">考试信息</h1><ul class=""><li id="e36a" class="mz na jf lo b lp lq ls lt lv nb lz nc md nd mh ne nf ng nh bi translated">考试可以远程进行</li><li id="cde9" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated">90分钟回答55个问题</li><li id="7b49" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated">所有问题都是选择题</li><li id="2e9d" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated">第十三题是<em class="mv">普通</em>选择题</li><li id="f328" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated">52个问题是<em class="mv">离散选项多项选择(DOMC) </em>其中选项是随机出现的，一次一个。对于每一个出现的选项，考生选择是或否来表示选项是否正确。</li></ul><h1 id="72a1" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">学习计划</h1><p id="b062" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">没有适当的计划，学习可能会很困难，这里有5个简单的步骤，让你的学习体验最优化和高效。</p><h1 id="966b" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">1.找到好的培训材料</h1><p id="0a77" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">作为主要的在线培训学习资源，我使用了Kodekloud的<a class="ae mi" href="https://kodekloud.com/p/docker-certified-associate-exam-course" rel="noopener ugc nofollow" target="_blank"> Docker认证助理考试课程</a>。</p><p id="96c1" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">总的来说，作为一个主要的学习资源，我怎么推荐都不为过<strong class="lo jg"> Nigel Poulton的“DOCKER DEEP DIVE”</strong>。你可以在亚马逊上以不到10欧元的价格买到这本书的kindle版本。</p><p id="f1fe" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">你可以查看奈杰尔的个人主页了解更多信息。</p><p id="6023" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">我已经通过了，并在博客上写了关于<a class="ae mi" href="https://medium.com/faun/preparation-and-resources-for-cka-exam-ca868fc678c9" rel="noopener"> CKA </a>和<a class="ae mi" href="https://piotrzan.medium.com/preparation-and-resources-for-ckad-exam-ea1b2e8888e3" rel="noopener"> CKAD </a>的内容，它们与Kubernetes的编排部分和容器基础有很大的重叠。</p><p id="4706" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">哥文达·菲希特纳有一个很棒的报告，里面有按学习主题组织的docker文档的链接。可以在这里找到回购:<a class="ae mi" href="https://github.com/DevOps-Academy-Org/dca-prep-guide" rel="noopener ugc nofollow" target="_blank">devo PS-Academy的DCA备考指南</a>。</p><h1 id="86ec" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">2.浏览模拟问题和考试</h1><p id="68b4" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">既然考试是以题型的形式，那就要尽可能的多锻炼，多去思考题和模拟考试。我之前提到的Kodekloud课程内置了很多问题，但也有免费的模拟考试和问题。我觉得medium的一个非常好:<a class="ae mi" href="https://medium.com/bb-tutorials-and-thoughts/250-practice-questions-for-the-dca-exam-84f3b9e8f5ce" rel="noopener">Medium blog——DCA考试的250道练习题</a>。</p><h1 id="0049" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">3.与码头工人一起练习</h1><p id="7607" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">在这次考试中，实践练习不像CKA和CKAD那样重要，但我仍然发现在理论课之后进行实践复习是有价值的。</p><p id="806d" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">那里有一项免费服务，你可以启动几个虚拟机(其中一些已经预装了docker swarm ),无需在你的机器上安装任何东西就可以运行！</p><p id="6ef4" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated"><a class="ae mi" href="https://labs.play-with-docker.com/" rel="noopener ugc nofollow" target="_blank">互动在线docker环境点播:docker </a></p><p id="9549" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">还有一个类似的使用Kubernetes进行锻炼的服务，对于Kubernetes编排部分非常有用。</p><p id="0f52" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated"><a class="ae mi" href="https://labs.play-with-k8s.com/" rel="noopener ugc nofollow" target="_blank">交互式在线码头环境点播:kubernetes </a></p><blockquote class="ms mt mu"><p id="65f8" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">只是一个小提示，一旦你引导了Kubernetes，你就可以在docker镜像 <em class="jf">中使用我的</em> <a class="ae mi" rel="noopener ugc nofollow" target="_blank" href="/portable-kubernetes-management-with-kubectl-in-docker-cb861a2c3c02">便携kubectl，用诊断工具和别名运行kubectl。</a></em></p></blockquote><p id="190d" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">以下是运行容器的简单步骤:</p><pre class="no np nq nr gt ns mr nt nu aw nv bi"><span id="5e1d" class="nw kv jf mr b gy nx ny l nz oa"># Run container on same network as host<br/>docker run -d --network=host --name=kubectl-host --rm -it piotrzan/kubectl-comp:zsh</span><span id="f85e" class="nw kv jf mr b gy ob ny l nz oa"># Copy over Kubernetes config file<br/>kubectl config view --raw &gt; config<br/>docker cp ./config kubectl-host:./root/.kube</span><span id="6aff" class="nw kv jf mr b gy ob ny l nz oa"># Attach shell to running container<br/>docker attach kubectl-host</span></pre><h1 id="3074" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">4.熟悉Docker/Mirantis文档</h1><p id="1120" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">有很多很棒的学习资源库，考试主题直接链接到Docker/Mirantis文档。一个好的也是最新的是<a class="ae mi" href="https://github.com/Evalle/DCA" rel="noopener ugc nofollow" target="_blank"> Evalle/DCA </a>。</p><p id="2795" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">这样的资源对于以后的学习和参考来说是很好的捷径，但是我喜欢把我所有的链接都放在书签栏里。</p><p id="c743" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">如果你想有相同的书签，请使用我下面的要点，保存为html文件，并导入到您的浏览器。书签排列在与考试主题相对应的子文件夹中:</p><figure class="no np nq nr gt is"><div class="bz fp l di"><div class="oc od l"/></div></figure><h1 id="d354" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">5.记笔记</h1><p id="477f" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">做笔记很容易，做好笔记有点难。为了充分利用学习笔记，我遵循以下5个步骤:</p><h2 id="c7f5" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">一级</h2><p id="ced3" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">笔记类型:普通笔记</p><p id="60ae" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">如何:通常是复制粘贴或直接链接</p><p id="3cfd" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">何时使用:用于不太重要/容易记住的主题</p><h2 id="4709" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">第二级</h2><p id="8279" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">注释类型:带格式突出显示</p><p id="59eb" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">如何:使用突出显示或其他格式技巧</p><p id="5c62" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">何时使用:用于大量材料的主题，以突出重要部分</p><h2 id="46cb" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">第三级</h2><p id="80e1" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">笔记类型:视觉表现</p><p id="11dd" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">如何:创建主题的图表、思维导图和其他可视化表示</p><p id="1413" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">何时使用:用于复杂的主题，通常是架构和高层设计</p><h2 id="e453" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">四级</h2><p id="19a4" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">注释类型:带有摘要的可视化表示</p><p id="8244" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">如何:用你自己的话创建图表、思维导图和主题的其他可视化表示</p><p id="a81d" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">何时使用:用于需要深入理解的复杂主题</p><h2 id="b5e5" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">第5级</h2><p id="1cb2" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">笔记类型:为教学而设计</p><p id="4188" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">如何:使用以上所有的技巧，但总是问自己一个问题，我怎样才能以最好的方式把这个话题教给任何人？通常你会创建博客、YouTube视频或直接参与社区活动</p><p id="3e0f" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">何时使用:用于非常复杂的主题或你希望成为专家的主题。到目前为止，以一种旨在教别人的方式做笔记和内容是最好的学习方式</p></div><div class="ab cl op oq hu or" role="separator"><span class="os bw bk ot ou ov"/><span class="os bw bk ot ou ov"/><span class="os bw bk ot ou"/></div><div class="ij ik il im in"><h1 id="86bd" class="ku kv jf bd kw kx ow kz la lb ox ld le kl oy km lg ko oz kp li kr pa ks lk ll bi translated">基本概念</h1><p id="d11a" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">现在所有的工具都准备好了，学习计划也准备好了，是时候学习Docker、Kubernetes、Swarm等等背后的架构概念了。</p><h1 id="629b" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">Docker CLI语法</h1><p id="0261" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">Docker CLI具有以下语法:</p><p id="d2f3" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">语法:<code class="fe mo mp mq mr b">docker &lt;docker-object&gt; &lt;sub-command&gt; &lt;-options&gt; &lt;arguments/commands&gt;</code></p><p id="da2e" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">示例:<code class="fe mo mp mq mr b">docker container run -it ubuntu</code></p><h1 id="e362" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">Docker组件</h1><figure class="no np nq nr gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pb"><img src="../Images/759698c5596d7ab5efcd43c8e2ecca94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D89Ah62a8f5nr9bVv0i7iA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">来源:<a class="ae mi" href="https://docs.docker.com/get-started/overview/#docker-architecture" rel="noopener ugc nofollow" target="_blank">https://docs . docker . com/get-started/overview/# docker-architecture</a></figcaption></figure><p id="7d63" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated"><em class="mv">其他来源</em>:</p><ul class=""><li id="fca3" class="mz na jf lo b lp mj ls mk lv pc lz pd md pe mh ne nf ng nh bi translated"><a class="ae mi" href="https://docs.docker.com/engine/reference/commandline/dockerd/" rel="noopener ugc nofollow" target="_blank">docker</a></li><li id="82d0" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated"><a class="ae mi" href="https://containerd.io/" rel="noopener ugc nofollow" target="_blank">集装箱</a></li><li id="cc68" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated"><a class="ae mi" href="https://github.com/opencontainers/runc" rel="noopener ugc nofollow" target="_blank"> runc </a></li><li id="e755" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated"><a class="ae mi" href="http://jancorg.github.io/blog/2015/01/03/libcontainer-overview/" rel="noopener ugc nofollow" target="_blank"> libcontainer </a></li><li id="cf96" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated"><a class="ae mi" href="https://medium.com/faun/docker-containerd-standalone-runtimes-heres-what-you-should-know-b834ef155426" rel="noopener">集装箱垫片</a></li></ul><h1 id="afa7" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">容器层</h1><p id="8079" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">默认情况下，所有docker图像层都是不可变的(只读)。当使用<code class="fe mo mp mq mr b">docker run</code>命令创建容器时，会创建一个额外的可变(读写)层。这一层只在容器生命周期内存在，一旦容器退出就会被删除。当修改正在运行的容器中的任何文件时，docker会创建文件的副本，并在保存更改之前将其移动到容器层(写入时复制)。作为图像一部分的原始文件永远不会改变。</p><h1 id="90cd" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">从CLI访问远程Docker主机</h1><p id="25b9" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">在您想要访问docker主机的机器表单上，设置变量:</p><pre class="no np nq nr gt ns mr nt nu aw nv bi"><span id="146e" class="nw kv jf mr b gy nx ny l nz oa">export DOCKER_HOST="tcp://&lt;docker-host-ip&gt;:2375"</span></pre><blockquote class="ms mt mu"><p id="6d5c" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf"> Docker默认端口:</em></p></blockquote><ul class=""><li id="7e76" class="mz na jf lo b lp mj ls mk lv pc lz pd md pe mh ne nf ng nh bi translated">2375 —未加密的流量</li><li id="736b" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated">2376 —加密流量。</li></ul><p id="68b3" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">重要提示:此设置仅用于测试/游戏目的。它将使docker主机在网络上可用，默认情况下没有认证。</p><h1 id="373b" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">以非超级用户身份使用docker CLI</h1><ol class=""><li id="e496" class="mz na jf lo b lp lq ls lt lv nb lz nc md nd mh nn nf ng nh bi translated">创建码头工人组:<code class="fe mo mp mq mr b">sudo groupadd docker</code></li><li id="fc9f" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh nn nf ng nh bi translated">创建一个您想使用docker的非根用户:<code class="fe mo mp mq mr b">sudo useradd -G docker &lt;user-name&gt;</code></li><li id="4a91" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh nn nf ng nh bi translated">更改此用户主要组:<code class="fe mo mp mq mr b">sudo usermod -aG docker &lt;non-root user&gt;</code></li><li id="d1cd" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh nn nf ng nh bi translated">使用docker用户注销和登录。</li><li id="5a31" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh nn nf ng nh bi translated">可选—重新启动docker服务:<code class="fe mo mp mq mr b">sudo systemctl restart docker</code></li></ol><h1 id="01bb" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">编排25%</h1><h1 id="5213" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">编排区域</h1><figure class="no np nq nr gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pf"><img src="../Images/c45ba8e22f81cb832ffb4f8eef3f69c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5bDlRs8shGlXIFCDzvzN1w.png"/></div></div></figure><p id="2580" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">市场上有一些解决方案可以帮助容器和节点编排。目前最广泛采用的是Kubernetes，其次是Docker Swarm。在考试中，两者都会有问题。</p><p id="2859" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">我已经详细介绍了我的CKA和CKAD认证的学习路径。因此，如果你想了解更多，请查看我的<a class="ae mi" href="https://piotrzan.medium.com/" rel="noopener">中型简介</a>。</p><h1 id="03e3" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">库伯内特建筑</h1><figure class="no np nq nr gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pg"><img src="../Images/44c093e9b6f1afcc737b7ecf6be2cd74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dCg8vWCd85Bf3FmaY-V5jg.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated"><em class="ph">来源</em>:<a class="ae mi" href="https://kubernetes.io/docs/concepts/overview/components/" rel="noopener ugc nofollow" target="_blank">https://kubernetes.io/docs/concepts/overview/components/</a>。</figcaption></figure><h1 id="1027" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">Docker群体系结构</h1><figure class="no np nq nr gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pi"><img src="../Images/3ea3a834c5e9c0efd2499910af8068e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FhLjzsKnz7lokKvEGc0Rcw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">来源:<a class="ae mi" href="https://docs.docker.com/engine/swarm/images/service-lifecycle.png" rel="noopener ugc nofollow" target="_blank">https://docs . docker . com/engine/swarm/images/service-life cycle . png</a>。</figcaption></figure><h2 id="c65b" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated"><a class="ae mi" href="http://localhost:3000/#/?id=what-is-docker-stack" rel="noopener ugc nofollow" target="_blank">什么是docker栈</a></h2><p id="1fcc" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">Docker stack与docker compose非常相似，主要区别在于docker composer定义容器，而docker stack定义服务。Swarm还提供了直接使用堆栈的命令。</p><p id="8b01" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">有用的堆栈命令:</p><ul class=""><li id="ebc4" class="mz na jf lo b lp mj ls mk lv pc lz pd md pe mh ne nf ng nh bi translated"><code class="fe mo mp mq mr b">docker stack deploy -c &lt;compose file&gt;</code> -部署新堆栈或更新</li><li id="6683" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated"><code class="fe mo mp mq mr b">docker stack services</code> -列出堆栈中的服务</li><li id="c2e3" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated"><code class="fe mo mp mq mr b">docker stack ps</code> -列出堆栈中的任务</li><li id="b234" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated"><code class="fe mo mp mq mr b">docker stack rm</code> -移除堆叠</li><li id="c772" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated"><code class="fe mo mp mq mr b">docker stack ls</code> -列表堆栈</li></ul><p id="4614" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">docker stack ls和docker stack ps的区别</p><ul class=""><li id="64ec" class="mz na jf lo b lp mj ls mk lv pc lz pd md pe mh ne nf ng nh bi translated"><code class="fe mo mp mq mr b">docker stack ls</code> -列出所有堆栈</li><li id="0271" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated"><code class="fe mo mp mq mr b">docker stack services</code> -列出堆栈创建的服务</li><li id="377d" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated"><code class="fe mo mp mq mr b">docker stack ps &lt;stack-name&gt;</code> -列出堆栈中运行的所有服务</li></ul><h2 id="dadb" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated"><a class="ae mi" href="http://localhost:3000/#/?id=docker-swarm-networks" rel="noopener ugc nofollow" target="_blank">码头工人群体网络</a></h2><ul class=""><li id="9dcf" class="mz na jf lo b lp lq ls lt lv nb lz nc md nd mh ne nf ng nh bi translated"><strong class="lo jg">覆盖网络</strong>:管理参与群的Docker守护进程之间的通信。您也可以将服务附加到一个或多个现有的覆盖网络，以实现服务对服务的通信。</li><li id="919b" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated"><strong class="lo jg">入口网络</strong>:是一种特殊的覆盖网络，有助于服务节点之间的负载平衡。当任何群节点在公布的端口上收到请求时，它会将该请求传递给一个名为IPVS的模块。IPVS跟踪参与该服务的所有IP地址，选择其中一个，并通过入口网络将请求路由到它。</li><li id="1a7e" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated"><strong class="lo jg"> docker_gwbridge </strong>:是一个桥接网络，将覆盖网络(包括入口网络)连接到单个docker守护进程的物理网络。</li></ul><h1 id="bec2" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">Raft共识和法定人数</h1><p id="b0b0" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">实现<a class="ae mi" href="http://thesecretlivesofdata.com/raft/" rel="noopener ugc nofollow" target="_blank"> Raft一致性算法</a>确保分布式系统中的所有管理器节点存储相同的一致状态。</p><h2 id="fbcf" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">法定人数</h2><p id="55b3" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">要计算达到<em class="mv">法定人数</em>(或简单多数)所需的最小主节点数，请使用N = N+1/2，并将结果四舍五入为整数。</p><p id="ff46" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">因此有5个主节点，法定人数是3。</p><h2 id="9bc5" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">容错</h2><p id="fea3" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">知道了主节点的数量，我们就可以预测容错性，容错性是一个描述在集群进入不一致状态之前有多少主节点可以失败的数字。</p><p id="c04d" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">使用N = N-1/2计算集群的<em class="mv">容错度</em></p><p id="da2b" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">例如，有7个主节点，我们的定额是7+1/2 = 4，容错能力是7–1/2 = 3</p><h1 id="2e79" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">映像创建、管理和注册20%</h1><h1 id="692c" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">创建docker图像</h1><p id="8345" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">Docker映像是一个不可变的蓝图，基于它创建容器。</p><h1 id="46af" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">CMD和ENTRYPOINT之间的区别</h1><p id="1ccc" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated"><code class="fe mo mp mq mr b">Dockerfile</code>的<em class="mv"> CMD </em>和<em class="mv"> ENTRYPOINT </em>部分用于指示码头工人一旦集装箱启动后该做什么。</p><p id="5869" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">煤矿管理局</p><p id="0db7" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">本节定义了一旦容器启动，将执行什么命令。例如:</p><ul class=""><li id="fce3" class="mz na jf lo b lp mj ls mk lv pc lz pd md pe mh ne nf ng nh bi translated">在一个<code class="fe mo mp mq mr b">Dockerfile</code>构建httpd服务器中定义<code class="fe mo mp mq mr b">CMD ["httpd"]</code>将基于所使用的映像启动httpd Apache服务器</li><li id="d7ef" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated">使用命令覆盖<code class="fe mo mp mq mr b">docker run httpd printenv</code>运行httpd图像将使用<code class="fe mo mp mq mr b">printenv</code>命令覆盖默认的<code class="fe mo mp mq mr b">CMD</code>，该命令将环境变量输出到终端</li><li id="df3c" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated">命令可以指定为常规命令:<code class="fe mo mp mq mr b">CMD httpd</code>或json数组语法中的json数组<code class="fe mo mp mq mr b">CMD ["sleep", "5"] (</code>。数组的第一个元素是命令本身，所有后续元素都是参数/选项)</li></ul><p id="d1a2" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">入口点</p><p id="62d8" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">这个部分定义了一旦容器启动将执行什么命令，默认情况下不能覆盖(需要使用<code class="fe mo mp mq mr b">--entrypoint</code>标志来强制覆盖)。通过docker run传递的所有参数将被附加到<code class="fe mo mp mq mr b">ENTRYPOINT</code>中定义的命令</p><ul class=""><li id="2a7c" class="mz na jf lo b lp mj ls mk lv pc lz pd md pe mh ne nf ng nh bi translated"><code class="fe mo mp mq mr b">CMD</code>和<code class="fe mo mp mq mr b">ENTRYPOINT</code>配合得很好，其中<code class="fe mo mp mq mr b">ENTRYPOINT</code>定义了一旦容器启动就要执行的“固定”命令，而<code class="fe mo mp mq mr b">CMD</code>提供了默认但可重写的参数来以不同的方式运行容器。(需要在json数组格式中指定<code class="fe mo mp mq mr b">CMD</code>和<code class="fe mo mp mq mr b">ENTRYPOINT</code>以使覆盖生效)</li></ul><h1 id="e772" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">如何控制容器的资源利用</h1><h2 id="9539" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">中央处理器</h2><p id="7137" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">每个容器的默认CPU份额是1024</p><p id="6d17" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">选项1:如果主机有多个CPU，可以为每个容器分配一个特定的CPU。</p><p id="6955" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">选项2:如果主机有多个CPU，可以限制容器可以使用多少CPU。</p><p id="8454" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">值得注意的是，容器编排器(如Kubernetes)提供了声明性方法来限制每个运行时单元的资源使用(在Kubernetes的情况下是pod)。</p><h2 id="09bf" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">记忆</h2><p id="48a0" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">选项1:运行带有<code class="fe mo mp mq mr b">--memory=limit</code>标志的容器来限制内存的使用。如果一个容器试图消耗比它的限制更多的内存，系统将杀死它，并以内存不足异常(OOM)退出进程。默认情况下，容器将被允许消耗与内存限制相同的交换空间，实际上是内存限制的两倍。当然前提是交换空间在主机上没有被禁用。</p><h1 id="9843" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">端口映射</h1><blockquote class="ms mt mu"><p id="f57b" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">提示:在生产中运行容器时，最好使用带有静态端口的“-p”选项。</em></p></blockquote><h1 id="1f9d" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">如何复制文件</h1><p id="d077" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">复制文件非常容易，cp命令后的第一个参数是源，第二个是目的地。</p><ol class=""><li id="ac4f" class="mz na jf lo b lp mj ls mk lv pc lz pd md pe mh nn nf ng nh bi translated">将文件从主机复制到continuer: <code class="fe mo mp mq mr b">docker container cp /tmp/file.txt container_name:/tmp/file.txt</code></li><li id="17fb" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh nn nf ng nh bi translated">从容器tp主机复制文件:<code class="fe mo mp mq mr b">docker container cp container_name:/tmp/file.txt /tmp/file.txt</code></li></ol><h1 id="d458" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">检查日志以排除docker服务的故障</h1><ul class=""><li id="e95a" class="mz na jf lo b lp lq ls lt lv nb lz nc md nd mh ne nf ng nh bi translated">检查系统日志:<code class="fe mo mp mq mr b">journalctl -u docker.service</code></li><li id="879b" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated">检查主机上的可用空间:<code class="fe mo mp mq mr b">df -h</code>，使用<code class="fe mo mp mq mr b">docker container prune</code>或<code class="fe mo mp mq mr b">docker image prune</code>清除过时的容器/图像</li></ul><h1 id="a3b2" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">图像是从哪里提取的？</h1><p id="2bf4" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">默认情况下，docker会从已配置的图像库(默认情况下是Docker Hub)中提取图像，但是也可以指定<code class="fe mo mp mq mr b">build</code>指令，而不是带有<code class="fe mo mp mq mr b">Dockerfile</code>路径的<code class="fe mo mp mq mr b">image</code></p><h1 id="cf71" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">安装和配置15%</h1><h1 id="9180" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">MKE建筑</h1><figure class="no np nq nr gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pj"><img src="../Images/0870af07df6e4e8d926917c5aa03e2ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mXSYKmFHn6xJ1aVS5TbMZQ.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">来源:<a class="ae mi" href="https://docs.mirantis.com/docker-enterprise/v3.0/dockeree-products/mke/mke-architecture.html" rel="noopener ugc nofollow" target="_blank">https://docs . mirantis . com/docker-enterprise/v 3.0/dockeree-products/mke/mke-architecture . html</a></figcaption></figure><p id="96b8" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">请注意，在Docker被Mirantis收购后，会有一些命名和产品变更，因此以下内容适用:</p><ul class=""><li id="d277" class="mz na jf lo b lp mj ls mk lv pc lz pd md pe mh ne nf ng nh bi translated">Docker Trusted Registry (DRT) <strong class="lo jg">现为</strong> Mirantis Secure Registry (MSR)</li><li id="3d0c" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated">通用控制平面<strong class="lo jg">现在是</strong>米兰蒂斯·库伯内特发动机(MKE)</li><li id="6e32" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated">Docker企业版(DEE) <strong class="lo jg">现在是</strong> Mirantis容器运行时(MCR)</li></ul><h2 id="528b" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">UCP/MKE备份</h2><p id="fafd" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">使用<strong class="lo jg"> docker/ucp </strong>容器对UCP/MKE进行备份</p><h2 id="fcf4" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">DTR/MSR备份</h2><p id="4781" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">要执行MSR节点的备份，请运行<strong class="lo jg"> mirantis/dtr </strong> backup命令</p><h2 id="de04" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">Docker群集备份(简化版)</h2><p id="7469" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">要使用任何管理器备份群集，请遵循以下步骤。</p><ol class=""><li id="d0ed" class="mz na jf lo b lp mj ls mk lv pc lz pd md pe mh nn nf ng nh bi translated">如果群组启用了自动锁定，您需要解锁密钥来从备份中恢复群组。</li><li id="ce1f" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh nn nf ng nh bi translated">在备份数据之前停止管理器上的Docker，以便在备份过程中不会更改任何数据。<strong class="lo jg">确保维持群体经理的法定人数</strong></li><li id="c8c3" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh nn nf ng nh bi translated">备份整个/var/lib/docker/swarm目录。</li><li id="4264" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh nn nf ng nh bi translated">重新启动管理器。</li></ol><p id="3607" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated"><em class="mv">来源</em>:<a class="ae mi" href="https://docs.docker.com/engine/swarm/admin_guide/#back-up-the-swarm" rel="noopener ugc nofollow" target="_blank">https://docs . docker . com/engine/swarm/admin _ guide/# back-up-the-swarm</a></p><h2 id="46cc" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">Kubernetes配置地图</h2><p id="c2d2" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">为了在pod中配置<strong class="lo jg"> configMapKeyRef </strong>以使用配置映射中定义的环境变量，使用容器路径子集<strong class="lo jg">spec . containers . env . value from</strong></p><h1 id="e1be" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">更改docker守护程序主机配置</h1><p id="d61a" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">配置文件位于<code class="fe mo mp mq mr b">/etc/docker/daemon.json</code>，默认为<code class="fe mo mp mq mr b">json</code>格式。默认情况下，该文件不存在。</p><h1 id="10e7" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">登录docker</h1><p id="22d2" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">docker的默认日志驱动器是json-file。要将日志记录驱动程序更改为例如splunk，请更新deamon.json，如下所示:</p><p id="bcca" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated"><code class="fe mo mp mq mr b">echo ‘{“log-driver”: “splunk”}’ &gt; /etc/docker/daemon.json</code></p><h1 id="1d43" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">网络15%</h1><h2 id="e149" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">Docker核心网络</h2><figure class="no np nq nr gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pk"><img src="../Images/8585372f2cb985a1072d7706ab5d4c9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vdb956VxsiGh4WXJibrbwg.png"/></div></div></figure><h2 id="fe80" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">Kubernetes网络政策</h2><figure class="no np nq nr gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pl"><img src="../Images/5eb19503fa3d824dc36e8ab5849392ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZRDJcp8TCJsmacgeCd237g.png"/></div></div></figure><h2 id="9c35" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">Kubernetes服务资源</h2><p id="aaeb" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">Kubernetes使用服务来实现pod和其他资源以及外部端点之间的通信。服务可以声明3种类型的端口:</p><ul class=""><li id="b9af" class="mz na jf lo b lp mj ls mk lv pc lz pd md pe mh ne nf ng nh bi translated"><strong class="lo jg">端口</strong> —在集群中的指定端口上公开Kubernetes服务。群集中的其他pod可以在指定的端口上与此服务器通信。</li><li id="a24e" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated"><strong class="lo jg">目标端口</strong> —是服务将向其发送请求的端口，您的pod将监听该端口。容器中的应用程序也需要监听这个端口。</li><li id="1212" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated"><strong class="lo jg">节点端口</strong> —通过目标节点IP地址和节点端口向集群外部公开服务。如果未指定端口字段，则NodePort是默认设置。</li></ul><blockquote class="ms mt mu"><p id="7520" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated">默认情况下，Kubernetes中的节点端口范围是<strong class="lo jg">30000–32767</strong></p></blockquote><h2 id="9bee" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">Docker端口映射</h2><figure class="no np nq nr gt is gh gi paragraph-image"><div class="gh gi pm"><img src="../Images/538ba6d0f00910c7e20acbdbad81b181.png" data-original-src="https://miro.medium.com/v2/resize:fit:730/format:webp/1*79AepS-ERclrD8Kbc7FysA.png"/></div></figure><h2 id="b3fa" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">Docker网络</h2><figure class="no np nq nr gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pn"><img src="../Images/b149e7cdeee9d7362483b5a90757a66e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xBuGP-9-lbkOq70byA5f_Q.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated"><em class="ph">重要:容器只能在用户定义的桥/主机网络上通信</em></figcaption></figure><h1 id="f16a" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">Docker守护程序停止行为</h1><p id="0845" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">默认情况下，一旦docker守护进程停止或崩溃，所有容器也将停止。</p><p id="92ac" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">要更改此行为，请在<code class="fe mo mp mq mr b">/etc/docker/deamon.json</code>配置文件中设置<code class="fe mo mp mq mr b">"live-restore: true"</code>。</p><h1 id="8537" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">安全性15%</h1><h2 id="0614" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">安全层</h2><figure class="no np nq nr gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi po"><img src="../Images/e8e50a9cde5a8e56ae1bb972a79b4518.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w7BQhclt1UL4eblEQqKtug.png"/></div></div></figure><h2 id="8f98" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">MKE的出入控制</h2><figure class="no np nq nr gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pp"><img src="../Images/b600cef8489fa4dd56a6eedc04100b88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rK7LS4_u7_s19cBvtB3WhQ.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated"><em class="ph">来源:</em><a class="ae mi" href="http://docs.docker.oeynet.com/datacenter/ucp/2.2/guides/access-control/" rel="noopener ugc nofollow" target="_blank">http://docs . docker . oeynet . com/data center/UCP/2.2/guides/access-control/</a></figcaption></figure><p id="fe19" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">授权实际上是访问控制列表(ACL ),当组织在一起时，它为整个组织提供全面的访问策略。，授权定义了哪些用户可以以什么方式访问什么资源。一个授权由一个主题、一个角色和一个资源集组成。</p><p id="04a4" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">为了控制用户访问，集群资源被分组到Docker Swarm集合或Kubernetes名称空间中。集合和命名空间一起被命名为资源集。</p><h1 id="638e" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">存储和容量10%</h1><h1 id="d807" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">所有的东西都存放在哪里</h1><p id="77bd" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">安装完成后，docker会在<code class="fe mo mp mq mr b">/var/lib/docker/</code>下创建一个文件夹，所有的容器、映像、卷和配置都存储在这里。</p><p id="39f7" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">Kubernetes和Docker Swarm将集群状态和相关信息存储在<a class="ae mi" href="https://etcd.io/" rel="noopener ugc nofollow" target="_blank"> etcd </a>中。默认情况下，etcd在端口<code class="fe mo mp mq mr b">2380</code>上监听客户端连接。</p><h2 id="88af" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">在k8s中为应用程序配置存储类</h2><p id="4f3f" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">步骤:</p><ol class=""><li id="adfd" class="mz na jf lo b lp mj ls mk lv pc lz pd md pe mh nn nf ng nh bi translated">使用置备程序创建存储类</li><li id="4c2e" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh nn nf ng nh bi translated">使用存储类创建PVC</li><li id="c95b" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh nn nf ng nh bi translated">使用pod定义文件中volumes部分的PVC</li></ol><h1 id="ebf1" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">装入卷语法</h1><p id="8a78" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">常见存储驱动因素列表:</p><ul class=""><li id="93b0" class="mz na jf lo b lp mj ls mk lv pc lz pd md pe mh ne nf ng nh bi translated">AUFS — Ubuntu默认</li><li id="7a3c" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated">ZFS</li><li id="91dc" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated">BTRFS</li><li id="9f1a" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated">设备映射器</li><li id="cf7d" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated">覆盖物</li><li id="6d39" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated">重叠2</li></ul><h2 id="93f9" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">卷安装</h2><p id="198c" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">模板旧语法:<code class="fe mo mp mq mr b">docker run -v volume_name:&lt;path to store in container&gt; container_name</code></p><p id="5262" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">模板新语法:<code class="fe mo mp mq mr b">docker run --mount source=volume_name,target=&lt;path to store in container&gt; container_name</code></p><p id="d8b7" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">旧语法示例:<code class="fe mo mp mq mr b">docker run -v data_vol:/var/lib/nginx_data nginx</code></p><h2 id="732a" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">绑定安装</h2><p id="37a0" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">模板旧语法:<code class="fe mo mp mq mr b">docker run -v &lt;full path to folder in docker host&gt;:&lt;full path to folder in container&gt; container_name</code></p><p id="194d" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">模板新语法:<code class="fe mo mp mq mr b">docker run --mount type=bind,source=&lt;full path to folder in docker host&gt;,target=&lt;path to store in container&gt; container_name</code></p><p id="e7c3" class="pw-post-body-paragraph lm ln jf lo b lp mj kg lr ls mk kj lu lv ml lx ly lz mm mb mc md mn mf mg mh ij bi translated">旧语法示例:<code class="fe mo mp mq mr b">docker run -v /data/nginx_data:/var/lib/nginx_data nginx</code></p><h1 id="b4b1" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">有用的命令</h1><p id="91e0" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">本节描述了有用的docker CLI命令，格式如下:</p><blockquote class="ms mt mu"><p id="b380" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">命令:— docker命令语法</em></p><p id="3297" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">什么时候有用:—应该使用命令的常见情况</em></p><p id="dc34" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">结果:—预期行为或</em>是什么</p></blockquote><h2 id="2cc5" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">检查码头状态</h2><blockquote class="ms mt mu"><p id="1b1d" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">命令:</em>T0】</p><p id="1927" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">什么时候有用:快速查看有多少容器在运行，主机操作系统的状态如何</em></p><p id="7a7d" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">结果:关于docker主机环境和容器的信息</em></p></blockquote><h2 id="07aa" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">移除所有未使用的docker工件</h2><blockquote class="ms mt mu"><p id="4fb6" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">命令:</em> <code class="fe mo mp mq mr b"><em class="jf">docker system prune --all</em></code></p><p id="3f15" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">命令变异:</em>T2】</p><p id="7514" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">什么时候有用:在学习或实验docker的时候，清除不用的工件而不重置整个环境是很有用的。带有</em> <code class="fe mo mp mq mr b"><em class="jf">--volumes</em></code> <em class="jf">标志的命令变体也将删除卷。</em></p><p id="f174" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">结果:以下内容将被删除:</em></p></blockquote><ul class=""><li id="da77" class="mz na jf lo b lp mj ls mk lv pc lz pd md pe mh ne nf ng nh bi translated">所有停止的集装箱</li><li id="3460" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated">至少一个容器未使用的所有网络</li><li id="e6b8" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated">至少没有一个容器与之关联的所有图像</li><li id="c19a" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated">所有生成缓存</li><li id="45b1" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh ne nf ng nh bi translated">卷(如果使用了<code class="fe mo mp mq mr b">--volumes</code>标志)</li></ul><h2 id="e5f7" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">停止所有运行的容器</h2><blockquote class="ms mt mu"><p id="789b" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">命令:</em>T5】</p><p id="9c25" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">什么时候有用:立刻快速停止所有正在运行的容器。</em></p><p id="f37b" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">结果:所有容器停止。</em></p></blockquote><h2 id="c5fb" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">设置容器主机名</h2><blockquote class="ms mt mu"><p id="6b05" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">命令:</em>T6】</p><p id="cb21" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">什么时候有用:默认主机名是容器id，设置可识别的主机名有助于日志记录等。</em></p><p id="8eea" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">结果:容器主机名被设置为自定义主机名。</em></p></blockquote><h2 id="a029" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">退出时自动移除容器</h2><blockquote class="ms mt mu"><p id="4933" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">命令:</em>T7】</p><p id="fc6f" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">什么时候有用:运行一个容器，一旦停止就自动移除。这在运行CI/CD容器时非常有用。</em></p><p id="feb2" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">结果:容器启动并在停止后移除。</em></p></blockquote><h2 id="2ed1" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">为运行容器的用户添加或删除功能</h2><blockquote class="ms mt mu"><p id="b09e" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">命令:</em> <code class="fe mo mp mq mr b"><em class="jf">docker run --cap-add/--cap-drop KILL nginx</em></code> <em class="jf">或</em> <code class="fe mo mp mq mr b"><em class="jf">docker run --privileged nginx</em></code></p><p id="fc19" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">何时有用:这个命令在提升或降低运行容器的用户的权限时很有用。默认情况下，容器以有限的root权限运行。第二个命令以完全用户权限运行容器。</em></p><p id="e0b7" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">结果:容器以预期的权限运行。</em></p></blockquote><h2 id="6b3f" class="nw kv jf bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated">使用—过滤标志过滤结果</h2><blockquote class="ms mt mu"><p id="5a0d" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">命令:</em> <code class="fe mo mp mq mr b"><em class="jf">docker search --filter=stars=3 --no-trunc busybox</em></code></p><p id="876c" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">什么时候有用:几乎每个docker命令的结果都可以用</em> <code class="fe mo mp mq mr b"><em class="jf">--filter key=value</em></code> <em class="jf">标志过滤。参考docker文档，查看给定命令支持哪些过滤器选项。</em></p><p id="517d" class="lm ln mv lo b lp mj kg lr ls mk kj lu mw ml lx ly mx mm mb mc my mn mf mg mh ij bi translated"><em class="jf">结果:根据过滤标志过滤的命令输出。</em></p></blockquote><h1 id="6d9d" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">链接和资源</h1><ol class=""><li id="1899" class="mz na jf lo b lp lq ls lt lv nb lz nc md nd mh nn nf ng nh bi translated"><a class="ae mi" href="https://docker.cdn.prismic.io/docker/4a619747-6889-48cd-8420-60f24a6a13ac_DCA_study+Guide_v1.3.pdf" rel="noopener ugc nofollow" target="_blank"> Docker认证助理学习指南</a></li><li id="eafe" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh nn nf ng nh bi translated"><a class="ae mi" href="https://github.com/DevOps-Academy-Org/dca-prep-guide" rel="noopener ugc nofollow" target="_blank">devo PS-Academy的DCA备考指南</a></li><li id="33b7" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh nn nf ng nh bi translated"><a class="ae mi" href="https://labs.play-with-docker.com/" rel="noopener ugc nofollow" target="_blank">交互式在线码头环境点播</a></li><li id="cf44" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh nn nf ng nh bi translated"><a class="ae mi" href="https://labs.play-with-k8s.com/" rel="noopener ugc nofollow" target="_blank">交互式在线kubernetes环境点播</a></li><li id="f32a" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh nn nf ng nh bi translated"><a class="ae mi" href="https://medium.com/bb-tutorials-and-thoughts/250-practice-questions-for-the-dca-exam-84f3b9e8f5ce" rel="noopener">中型博客DCA考试的250道练习题</a></li><li id="767d" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh nn nf ng nh bi translated"><a class="ae mi" href="https://kubernetes.io/" rel="noopener ugc nofollow" target="_blank"> Kubernetes官方文档</a></li><li id="6a63" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh nn nf ng nh bi translated"><a class="ae mi" href="https://docs.docker.com/" rel="noopener ugc nofollow" target="_blank"> Docker文档</a></li><li id="9f6f" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh nn nf ng nh bi translated"><a class="ae mi" href="https://docs.mirantis.com/welcome/" rel="noopener ugc nofollow" target="_blank">米兰蒂斯文件</a></li><li id="87e7" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh nn nf ng nh bi translated"><a class="ae mi" href="https://plantuml.com/" rel="noopener ugc nofollow" target="_blank">作为代码的PlantUML图</a></li><li id="9880" class="mz na jf lo b lp ni ls nj lv nk lz nl md nm mh nn nf ng nh bi translated"><a class="ae mi" href="https://www.bmc.com/blogs/kubernetes-port-targetport-nodeport/" rel="noopener ugc nofollow" target="_blank"> K8s服务解释</a></li></ol><h1 id="bf91" class="ku kv jf bd kw kx ky kz la lb lc ld le kl lf km lg ko lh kp li kr lj ks lk ll bi translated">摘要</h1><p id="8385" class="pw-post-body-paragraph lm ln jf lo b lp lq kg lr ls lt kj lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">开放学习是与开源社区互动的最有益的体验和方式之一，请亲自尝试。我希望这篇文章对你有用，并祝你在获得Docker Certified Associate认证时好运:)</p></div></div>    
</body>
</html>