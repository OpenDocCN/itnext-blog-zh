<html>
<head>
<title>Git Merge Tools</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Git合并工具</h1>
<blockquote>原文：<a href="https://itnext.io/git-merge-tools-be2efd7ec9db?source=collection_archive---------1-----------------------#2022-08-03">https://itnext.io/git-merge-tools-be2efd7ec9db?source=collection_archive---------1-----------------------#2022-08-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0e9b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何使用Git解决冲突？</h2></div><p id="3d1f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">很多时候，一行被两方不同地更改，其中一个版本被合并。另一方应该获得更改并解决冲突。你通常如何解决冲突？</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/940af987c03afca98cbcdd0b3fa78a9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_f2Vdff8V0ENprlWnAzd_w.png"/></div></div></figure><h1 id="4163" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">冲突</h1><p id="c0d5" class="pw-post-body-paragraph ki kj it kk b kl mi ju kn ko mj jx kq kr mk kt ku kv ml kx ky kz mm lb lc ld im bi translated">那么，冲突是什么样的呢？让我们来看一个例子:</p><pre class="lf lg lh li gt mn mo mp mq aw mr bi"><span id="aed9" class="ms lr it mo b gy mt mu l mv mw">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD<br/>name: 'auto-assign'<br/>on:<br/>  pull_request:<br/>    types: [opened, ready_for_review]<br/><br/>jobs:<br/>  assign-author:<br/>    runs-on: ubuntu-latest<br/>    steps:<br/>      - uses: kentaro-m/auto-assign-action@v1.2.1<br/>        with:<br/>          configuration-path: '.github/auto-assign.yml'<br/>=======<br/><em class="mx"># Nothing is here yet<br/></em>&gt;&gt;&gt;&gt;&gt;&gt;&gt; Conflicting commit</span></pre><p id="2581" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以，这是一个双方编辑过的文件。其中一个创建了一些配置并将它们合并到主分支中。对方只是添加了一行注释“这里还没有任何东西”，并提交了它，将“冲突提交”设置为提交消息。然后她把树枝重新放在师父身上，于是就发生了冲突。</p><p id="9a50" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">简而言之，这部分代码显示了文件的两个版本。那么，现在，如何解决呢？</p><h1 id="9efa" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">编辑文本</h1><p id="0a07" class="pw-post-body-paragraph ki kj it kk b kl mi ju kn ko mj jx kq kr mk kt ku kv ml kx ky kz mm lb lc ld im bi translated">人们可以简单地使用任何文本编辑器来删除以下三行:</p><pre class="lf lg lh li gt mn mo mp mq aw mr bi"><span id="24b5" class="ms lr it mo b gy mt mu l mv mw">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD<br/>=======<em class="mx"><br/></em>&gt;&gt;&gt;&gt;&gt;&gt;&gt; Conflicting commit</span></pre><p id="6899" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以及两个版本之间的折衷。然后保存文件并使用git暂存它:</p><pre class="lf lg lh li gt mn mo mp mq aw mr bi"><span id="2560" class="ms lr it mo b gy mt mu l mv mw">git add auto-assign.yml</span></pre><p id="e553" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用这种方法，可能会弄乱文件，留下前面提到的一些行。此外，有太多冲突的文件通常是不可读的，也很难处理。</p><h1 id="8da3" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">使用Git Mergetool</h1><p id="6e1d" class="pw-post-body-paragraph ki kj it kk b kl mi ju kn ko mj jx kq kr mk kt ku kv ml kx ky kz mm lb lc ld im bi translated">继续在命令行中输入以下命令:</p><pre class="lf lg lh li gt mn mo mp mq aw mr bi"><span id="1159" class="ms lr it mo b gy mt mu l mv mw">git mergetool</span></pre><p id="7e9d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果是第一次，git可能会显示如下消息:</p><pre class="lf lg lh li gt mn mo mp mq aw mr bi"><span id="c204" class="ms lr it mo b gy mt mu l mv mw">This message is displayed because 'merge.tool' is not configured. <br/>See 'git mergetool --tool-help' or 'git help config' for more details. <br/>'git mergetool' will now attempt to use one of the following tools: <br/>meld opendiff kdiff3 tkdiff xxdiff tortoisemerge gvimdiff diffuse diffmerge ecmerge p4merge araxis bc codecompare smerge emerge vimdiff <br/>Merging: <br/>.github/workflows/auto-assign.yml <br/> <br/>Normal merge conflict for '.github/workflows/auto-assign.yml': <br/>  {local}: created file <br/>  {remote}: created file <br/>Hit return to start merge resolution tool (bc):</span></pre><p id="066f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它显示了一些可用的合并工具:</p><ul class=""><li id="be2a" class="my mz it kk b kl km ko kp kr na kv nb kz nc ld nd ne nf ng bi translated">合并</li><li id="ee49" class="my mz it kk b kl nh ko ni kr nj kv nk kz nl ld nd ne nf ng bi translated">opendiff</li><li id="e207" class="my mz it kk b kl nh ko ni kr nj kv nk kz nl ld nd ne nf ng bi translated">kdiff3</li><li id="3390" class="my mz it kk b kl nh ko ni kr nj kv nk kz nl ld nd ne nf ng bi translated">tkdiff</li><li id="7a50" class="my mz it kk b kl nh ko ni kr nj kv nk kz nl ld nd ne nf ng bi translated">xxdiff</li><li id="32db" class="my mz it kk b kl nh ko ni kr nj kv nk kz nl ld nd ne nf ng bi translated">浮现</li><li id="a435" class="my mz it kk b kl nh ko ni kr nj kv nk kz nl ld nd ne nf ng bi translated">等等。</li></ul><p id="62ca" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以及冲突:本地和远程版本都创建了相同的文件<code class="fe nm nn no mo b">auto-assign.yml</code>。它还要求您选择一种解决工具。您可以进入其中一个工具，或者退出(例如在Linux上使用Ctrl+C ),并从头开始传递该工具:</p><pre class="lf lg lh li gt mn mo mp mq aw mr bi"><span id="3e03" class="ms lr it mo b gy mt mu l mv mw">git mergetool --tool=vimdiff3</span></pre><p id="cb1c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要查看计算机上可用的合并工具，请运行以下命令:</p><pre class="lf lg lh li gt mn mo mp mq aw mr bi"><span id="36d4" class="ms lr it mo b gy mt mu l mv mw">git mergetool --tool-help</span></pre><p id="a196" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我的机器显示以下工具:</p><pre class="lf lg lh li gt mn mo mp mq aw mr bi"><span id="2277" class="ms lr it mo b gy mt mu l mv mw">'git mergetool --tool=&lt;tool&gt;' may be set to one of the following: <br/>                araxis <br/>                emerge <br/>                vimdiff <br/>                vimdiff2 <br/>                vimdiff3 <br/> <br/>The following tools are valid, but not currently available: <br/>                bc <br/>                bc3 <br/>                codecompare <br/>                deltawalker <br/>                diffmerge <br/>                diffuse <br/>                ecmerge <br/>                examdiff <br/>                guiffy <br/>                gvimdiff <br/>                gvimdiff2 <br/>                gvimdiff3 <br/>                kdiff3 <br/>                meld <br/>                opendiff <br/>                p4merge <br/>                smerge <br/>                tkdiff <br/>                tortoisemerge <br/>                winmerge <br/>                xxdiff <br/> <br/>Some of the tools listed above only work in a windowed <br/>environment. If run in a terminal-only session, they will fail.</span></pre><p id="26f0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一些工具打开图形工具，例如<code class="fe nm nn no mo b">emerge</code>打开Emacs编辑器。有些工具是终端专用的，例如<code class="fe nm nn no mo b">vimdiff</code>，它会在你的终端上打开一个Vim编辑器。</p><p id="8a14" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们将对git的CLI可用的不同合并工具做一个全面的介绍。</p><h1 id="f1ed" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">使用IDE或编辑器</h1><p id="9a0f" class="pw-post-body-paragraph ki kj it kk b kl mi ju kn ko mj jx kq kr mk kt ku kv ml kx ky kz mm lb lc ld im bi translated">一些图形编辑器和大多数ide都带有git合并工具。例如:</p><ul class=""><li id="31d7" class="my mz it kk b kl km ko kp kr na kv nb kz nc ld nd ne nf ng bi translated">JetBrains IDEs，例如IntelliJ、WebStorm、PyCharm等。</li><li id="f89b" class="my mz it kk b kl nh ko ni kr nj kv nk kz nl ld nd ne nf ng bi translated">黯然失色</li><li id="7545" class="my mz it kk b kl nh ko ni kr nj kv nk kz nl ld nd ne nf ng bi translated">虚拟代码</li></ul><h1 id="a106" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">遗言</h1><p id="1f3e" class="pw-post-body-paragraph ki kj it kk b kl mi ju kn ko mj jx kq kr mk kt ku kv ml kx ky kz mm lb lc ld im bi translated">你通常如何解决合并冲突？你通常使用哪些合并工具？</p><p id="32c5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我每周在git、GitHub和GitLab上写文章。</p><ul class=""><li id="16e7" class="my mz it kk b kl km ko kp kr na kv nb kz nc ld nd ne nf ng bi translated"><a class="ae np" href="https://medium.com/subscribe/@aerabi" rel="noopener">订阅</a>my Medium publishes，以便在新一期Git周刊出版时获得通知。</li><li id="f929" class="my mz it kk b kl nh ko ni kr nj kv nk kz nl ld nd ne nf ng bi translated">在Twitter上关注<a class="ae np" href="https://twitter.com/MohammadAliEN" rel="noopener ugc nofollow" target="_blank">我</a>获取git上的每周文章和每日推文。</li></ul></div></div>    
</body>
</html>