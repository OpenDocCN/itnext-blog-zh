<html>
<head>
<title>Setting app theme dynamically using CSS vars in Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Angular中的CSS变量动态设置应用程序主题</h1>
<blockquote>原文：<a href="https://itnext.io/css-vars-in-use-while-dynamically-setting-app-theme-angular-485ff17570f8?source=collection_archive---------1-----------------------#2018-10-27">https://itnext.io/css-vars-in-use-while-dynamically-setting-app-theme-angular-485ff17570f8?source=collection_archive---------1-----------------------#2018-10-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><ul class=""><li id="83c5" class="jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke bi translated">声明:css变量很棒，但我在这篇文章中使用它们的方式不是最好的“角度方式”，因为我使用elementRef.nativeElement而不是rendere2，目前(2019年2月)似乎是<strong class="jp ir">渲染器</strong>。setStyle()不支持css变量..</li></ul><pre class="kf kg kh ki gt kj kk kl km aw kn bi"><span id="596a" class="ko kp iq kk b gy kq kr l ks kt"><strong class="kk ir">this</strong>.<strong class="kk ir">renderer</strong>.setStyle(<strong class="kk ir">this</strong>.<strong class="kk ir">elementRef</strong>.<strong class="kk ir">nativeElement</strong>, key, theme[key]);</span></pre><p id="120f" class="pw-post-body-paragraph ku kv iq jp b jq jr kw kx js jt ky kz ju la lb lc jw ld le lf jy lg lh li ka ij bi">**/</p><p id="59c8" class="pw-post-body-paragraph ku kv iq jp b jq jr kw kx js jt ky kz ju la lb lc jw ld le lf jy lg lh li ka ij bi translated">最近，我开始在我的小项目(一个类似firebase + firestore上的可拖动任务板的“trello”)上使用css自定义属性(css变量)。</p><p id="1602" class="pw-post-body-paragraph ku kv iq jp b jq jr kw kx js jt ky kz ju la lb lc jw ld le lf jy lg lh li ka ij bi translated">真的是又好看又轻松！我实现了一个应用程序“主题化”功能，只需点击一个切换按钮，就可以动态地为应用程序提供不同的外观和感觉(目前只有2个主题可用，硬编码——接下来是让用户可以选择设置任何他想要的颜色！使用变量的力量！).</p><p id="ae03" class="pw-post-body-paragraph ku kv iq jp b jq jr kw kx js jt ky kz ju la lb lc jw ld le lf jy lg lh li ka ij bi translated">CSS变量/自定义属性包括:</p><blockquote class="lk ll lm"><p id="bdeb" class="ku kv ln jp b jq jr kw kx js jt ky kz lo la lb lc lp ld le lf lq lg lh li ka ij bi translated">以<code class="fe lr ls lt kk b">--</code>为前缀的属性名，如<code class="fe lr ls lt kk b">--example-name</code>，代表<em class="iq">自定义属性</em>，其中包含一个值，该值可以在使用<code class="fe lr ls lt kk b"><a class="ae lj" href="https://developer.mozilla.org/en-US/docs/Web/CSS/var" rel="noopener ugc nofollow" target="_blank">var()</a></code>函数的其他声明中使用</p></blockquote><p id="ca81" class="pw-post-body-paragraph ku kv iq jp b jq jr kw kx js jt ky kz ju la lb lc jw ld le lf jy lg lh li ka ij bi translated">示例:</p><pre class="kf kg kh ki gt kj kk kl km aw kn bi"><span id="792b" class="ko kp iq kk b gy kq kr l ks kt">Declare: </span><span id="1f83" class="ko kp iq kk b gy lu kr l ks kt">:root {<br/>  --first-color: #488cff;<br/>  --second-color: #ffff8c;<br/>}</span><span id="d707" class="ko kp iq kk b gy lu kr l ks kt">Use:</span><span id="e5e1" class="ko kp iq kk b gy lu kr l ks kt">.some-class {<br/>  background-color: var(--first-color);<br/>  color: var(--second-color);<br/>}</span></pre><p id="e31f" class="pw-post-body-paragraph ku kv iq jp b jq jr kw kx js jt ky kz ju la lb lc jw ld le lf jy lg lh li ka ij bi translated">角度单位:</p><p id="6f40" class="pw-post-body-paragraph ku kv iq jp b jq jr kw kx js jt ky kz ju la lb lc jw ld le lf jy lg lh li ka ij bi translated">我做了一个<a class="ae lj" href="https://stackblitz.com/edit/angular-css-vars-for-theme" rel="noopener ugc nofollow" target="_blank"> stackblitz repo </a>展示了如何在Angular:</p><figure class="kf kg kh ki gt lv"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="4079" class="pw-post-body-paragraph ku kv iq jp b jq jr kw kx js jt ky kz ju la lb lc jw ld le lf jy lg lh li ka ij bi translated">我创建了一个主题模块，它导出了appTheme指令(这里有点夸张)，appTheme用于动态地更改应用程序主题，只要它通知这样做(添加一个主题反应服务)。</p><p id="94fa" class="pw-post-body-paragraph ku kv iq jp b jq jr kw kx js jt ky kz ju la lb lc jw ld le lf jy lg lh li ka ij bi translated">单击“更改主题”链接将通知指令它应该更改活动主题。</p><p id="be71" class="pw-post-body-paragraph ku kv iq jp b jq jr kw kx js jt ky kz ju la lb lc jw ld le lf jy lg lh li ka ij bi translated">主题更新是通过为自定义css属性(也称为css变量)设置一个新值来完成的</p><figure class="kf kg kh ki gt lv"><div class="bz fp l di"><div class="ly lx l"/></div></figure><figure class="kf kg kh ki gt lv"><div class="bz fp l di"><div class="ly lx l"/></div></figure><p id="c468" class="pw-post-body-paragraph ku kv iq jp b jq jr kw kx js jt ky kz ju la lb lc jw ld le lf jy lg lh li ka ij bi translated">仅此而已:elem nt . style . set property('—background '，' Alice blue ')；</p></div></div>    
</body>
</html>