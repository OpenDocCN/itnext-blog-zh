<html>
<head>
<title>Creating React App from scratch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从头开始创建React应用程序</h1>
<blockquote>原文：<a href="https://itnext.io/creating-react-app-from-scratch-f99c255f958e?source=collection_archive---------4-----------------------#2018-02-06">https://itnext.io/creating-react-app-from-scratch-f99c255f958e?source=collection_archive---------4-----------------------#2018-02-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><blockquote class="jn jo jp"><p id="e31e" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated"><a class="ae kp" href="https://www.linkedin.com/cws/share?url=https%3A%2F%2Fitnext.io%2Fcreating-react-app-from-scratch-f99c255f958e" rel="noopener ugc nofollow" target="_blank">点击这里在LinkedIn上分享这篇文章</a></p></blockquote><p id="31c0" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated"><strong class="jt ir">在我们开始这个项目之前，我假设你对ff没有多少背景知识:</strong></p><ul class=""><li id="33ac" class="kt ku iq jt b ju jv jy jz kq kv kr kw ks kx ko ky kz la lb bi translated"><strong class="jt ir"> NodeJS </strong></li><li id="9947" class="kt ku iq jt b ju lc jy ld kq le kr lf ks lg ko ky kz la lb bi translated"><strong class="jt ir">NPM/纱</strong></li><li id="5d4e" class="kt ku iq jt b ju lc jy ld kq le kr lf ks lg ko ky kz la lb bi translated"><strong class="jt ir"> Javascript </strong></li><li id="cea7" class="kt ku iq jt b ju lc jy ld kq le kr lf ks lg ko ky kz la lb bi translated"><strong class="jt ir">反应</strong></li><li id="5b09" class="kt ku iq jt b ju lc jy ld kq le kr lf ks lg ko ky kz la lb bi translated"><strong class="jt ir"> HTML </strong></li></ul><p id="f1a8" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated"><strong class="jt ir">*注意:确保你的机器上安装了NodeJS和NPM/Yarn。</strong></p><div class="lh li gp gr lj lk"><a href="http://nodesource.com/blog/installing-node-js-tutorial-using-nvm-on-mac-os-x-and-ubuntu/" rel="noopener  ugc nofollow" target="_blank"><div class="ll ab fo"><div class="lm ab ln cl cj lo"><h2 class="bd ir gy z fp lp fr fs lq fu fw ip bi translated">安装Node.js教程:使用nvm</h2><div class="lr l"><h3 class="bd b gy z fp lp fr fs lq fu fw dk translated">与任何编程语言、平台或工具一样，使用它的第一步是安装它。他们中的许多人…</h3></div><div class="ls l"><p class="bd b dl z fp lp fr fs lq fu fw dk translated">nodesource.co</p></div></div><div class="lt l"><div class="lu l lv lw lx lt ly lz lk"/></div></div></a></div><p id="b68c" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated"><strong class="jt ir">设置:</strong></p><ol class=""><li id="18e3" class="kt ku iq jt b ju jv jy jz kq kv kr kw ks kx ko ma kz la lb bi translated"><strong class="jt ir">创建项目目录:</strong></li></ol><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="d6dc" class="mk ml iq mg b gy mm mn l mo mp">mkdir projectName &amp;&amp; cd projectName</span></pre><p id="021b" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated"><strong class="jt ir"> 2。转到项目目录，然后添加README.md和git。</strong></p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="5761" class="mk ml iq mg b gy mm mn l mo mp">$ touch README.md</span><span id="0583" class="mk ml iq mg b gy mq mn l mo mp">$ touch .gitignore<br/>$ git init<br/>$ git add .<br/>$ git commit -m "initial commit"</span></pre><p id="2423" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated"><strong class="jt ir"> 3。现在我们将通过运行:</strong>向我们的项目添加一个空的package.json</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="3daa" class="mk ml iq mg b gy mm mn l mo mp">npm init -y</span></pre><p id="1169" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">package.json的示例内容:</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="6dc8" class="mk ml iq mg b gy mm mn l mo mp">{<br/>  "name": "projectName-web",<br/>  "version": "1.0.0",<br/>  "description": "",<br/>  "main": "index.js",<br/>  "scripts": {<br/>    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1"<br/>  },<br/>  "keywords": [],<br/>  "author": "",<br/>  "license": "ISC"<br/>}</span></pre><p id="f30c" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">既然我们能够将package.json添加到我们的项目中，我们现在可以使用其他javascript库了。</p><p id="80b1" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated"><strong class="jt ir"> <em class="js">安装ff: babel-core，babel-preset-env，babel-preset-react。</em> </strong></p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="8f23" class="mk ml iq mg b gy mm mn l mo mp">$ yarn add babel-core babel-preset-env babel-preset-react --dev</span></pre><p id="1763" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated"><strong class="jt ir">什么是巴别塔</strong>？</p><p id="3856" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">Babel是一个JavaScript transpiler，它将edge JavaScript转换成普通的旧版本ES5 JavaScript，可以在任何浏览器上运行(甚至是旧版本)。它提供了用新的ES6规范添加到JavaScript中的所有语法糖，包括类、粗箭头和多行字符串。</p><p id="b6e0" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">babel-core —包含节点API和require hook。</p><p id="b931" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">preset-preset-env —“浏览器的自动修复程序”。它将所有内容从当前规范转换成指定环境可读的格式。这意味着它尽可能少地编译，从而产生更有效的输出。例如，当所有主流浏览器都支持箭头函数时，它们就不需要再被编译了。</p><p id="52ef" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">babel-preset-react——babel理解react ts的插件集合。</p><p id="a887" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">创建一个<strong class="jt ir">。babelrc </strong>向项目投放ff:</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="989b" class="mk ml iq mg b gy mm mn l mo mp">{<br/>  "presets": [<br/>    [ "env", { "modules": false }],<br/>    "react"<br/>  ]<br/>}</span></pre><p id="931f" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">现在我们要添加webpack和babel-loader。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="4778" class="mk ml iq mg b gy mm mn l mo mp">$ yarn add webpack webpack-dev-server babel-loader</span></pre><p id="6111" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated"><strong class="jt ir">什么是webpack？</strong></p><p id="bbff" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">Webpack将所有的JavaScript打包成一个文件。这包括您编写的每个JavaScript文件以及您的npm包。</p><p id="e193" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated"><strong class="jt ir">为什么捆绑？</strong></p><p id="c9fb" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">单人房。js文件更容易部署，下载速度通常比多个小文件快。</p><p id="857e" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">当我们工作时，Webpack将与Babel一起将您的代码从ES6/ES7转换到ES5。网络包也可以缩小你的。用于生产的js文件</p><p id="474b" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">babel-loader——babel的webpack插件。告诉webpack在捆绑之前使用babel。</p><p id="baf3" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">webpack-dev-server——一个小Node.js Express服务器，它使用webpack-dev-middleware来服务web pack包。</p><p id="d7d6" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">Webpack配置部件:</p><p id="885a" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated"><strong class="jt ir">入口</strong> —这是您的应用程序的入口点和起点。</p><p id="0ffd" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated"><strong class="jt ir">输出</strong> —这是您所有javascript文件的捆绑文件。</p><p id="3cef" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated"><strong class="jt ir"> devServer </strong> —您的webpack-dev-server的配置</p><p id="02fc" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated"><strong class="jt ir">模块</strong>——在将每个文件组合成包之前，您可以在其中放置如何处理每个文件的规则。</p><p id="d304" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated"><strong class="jt ir">resolve</strong>—web pack应该在哪里查找由import或require()语句引用的文件。这使得您可以在代码中导入npm包。</p><p id="a235" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">创建一个文件并将其命名为<strong class="jt ir"> webpack.config.js </strong></p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="8774" class="mk ml iq mg b gy mm mn l mo mp">const path = require('path')</span><span id="4533" class="mk ml iq mg b gy mq mn l mo mp">const webpack = require('webpack')<br/><br/>module.exports = {<br/>  entry: [ './src/index.js' ],<br/>  output: {<br/>    path: path.join(__dirname, 'public'),<br/>    publicPath: '/',<br/>    filename: 'index.bundle.js'<br/>  },</span><span id="adfc" class="mk ml iq mg b gy mq mn l mo mp">devServer: {<br/>    contentBase: './public',<br/>    historyApiFallback: true,<br/>    hot: true<br/>  },<br/>  module: {    <br/>      rules: [<br/>      {<br/>        test: /\.js$/,<br/>        exclude: /node_modules/,<br/>        use: [<br/>          'babel-loader'<br/>        ]<br/>      }<br/>    ]<br/>  },<br/>  resolve: {<br/>    modules: [<br/>      path.join(__dirname, 'node_modules')<br/>    ]<br/>  },</span><span id="2d45" class="mk ml iq mg b gy mq mn l mo mp">plugins: [<br/>new webpack.HotModuleReplacementPlugin()</span><span id="291e" class="mk ml iq mg b gy mq mn l mo mp">]<br/>}</span></pre><p id="2b0c" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">在<strong class="jt ir">公共</strong>文件夹下制作一个<strong class="jt ir">index.html</strong>，然后把这个:</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="c4f9" class="mk ml iq mg b gy mm mn l mo mp">&lt;html&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="root"&gt;&lt;/div&gt;<br/>    &lt;script src="/index.bundle.js" &gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="2a4a" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">然后在<strong class="jt ir"> src </strong>文件夹下做一个<strong class="jt ir"> index.js </strong>文件:</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="b388" class="mk ml iq mg b gy mm mn l mo mp">console.log('Initial Index file!');</span></pre><p id="4217" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">将<strong class="jt ir"> public/bundle.js </strong>添加到你的<strong class="jt ir"> <em class="js">中。git ignore</em>T25】</strong></p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="7e4e" class="mk ml iq mg b gy mm mn l mo mp">$ echo "public/index.bundle.js" &gt;&gt; .gitignore</span></pre><p id="add5" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">为了运行我们的项目，我们需要更新我们的<strong class="jt ir"> package.json. </strong></p><p id="cd65" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">在脚本对象下添加以下内容。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="7042" class="mk ml iq mg b gy mm mn l mo mp">"start": "webpack-dev-server --open"</span></pre><p id="e112" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">您的文件结构必须如下所示:</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="f74a" class="mk ml iq mg b gy mm mn l mo mp">- node_modules</span><span id="f1bf" class="mk ml iq mg b gy mq mn l mo mp">- public</span><span id="b42a" class="mk ml iq mg b gy mq mn l mo mp">- index.html</span><span id="d3b6" class="mk ml iq mg b gy mq mn l mo mp">- src<br/>  - index.js</span><span id="7743" class="mk ml iq mg b gy mq mn l mo mp">- .babelrc</span><span id="251b" class="mk ml iq mg b gy mq mn l mo mp">- .gitignore</span><span id="1b61" class="mk ml iq mg b gy mq mn l mo mp">- package.json</span><span id="7ece" class="mk ml iq mg b gy mq mn l mo mp">- README.md</span><span id="ce2e" class="mk ml iq mg b gy mq mn l mo mp">- webpack-config.js</span></pre><p id="7a3e" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">现在，您可以使用添加到您的<strong class="jt ir"> package.json. </strong>中的脚本来运行我们的项目</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="2a54" class="mk ml iq mg b gy mm mn l mo mp">yarn start</span></pre><p id="69a9" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">当浏览器打开时，你会看到一个空白页，但当你去控制台时，你会看到我们的日志。之后，提交它。</p><p id="06d7" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated">现在我们能够运行我们的项目了，我们将添加react并更改我们的<strong class="jt ir"> index.js </strong></p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="ed46" class="mk ml iq mg b gy mm mn l mo mp">yarn add react react-dom</span></pre><p id="42e8" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated"><strong class="jt ir"> index.js </strong>必须包含</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="8b33" class="mk ml iq mg b gy mm mn l mo mp">'use strict'<br/><br/>import React from 'react'<br/>import { render } from 'react-dom'<br/><br/>render(<br/>  &lt;div&gt;<br/>    Initial Index Page2<br/>  &lt;/div&gt;,<br/>  document.getElementById('root')<br/>)</span></pre><p id="44f9" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kq kd ke kf kr kh ki kj ks kl km kn ko ij bi translated"><em class="js">未完待续……</em></p></div></div>    
</body>
</html>