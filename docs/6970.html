<html>
<head>
<title>Webassembly: Running Go code in the browser.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Webassembly:在浏览器中运行Go代码。</h1>
<blockquote>原文：<a href="https://itnext.io/webassembly-running-go-code-in-the-browser-916d87456e5f?source=collection_archive---------1-----------------------#2022-04-29">https://itnext.io/webassembly-running-go-code-in-the-browser-916d87456e5f?source=collection_archive---------1-----------------------#2022-04-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="85ce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Webassembly (WASM)是目前最具颠覆性的技术之一。WASM使我们能够在浏览器中运行用自己的浏览器不支持的编程语言编写的程序。我们可以做到这一点，因为一些编程语言可以编译成WASM和WASM是所有浏览器支持的。</p><blockquote class="kl km kn"><p id="edda" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated">例如，我们可以编写Rust或Go代码，并像处理Javascript一样执行它。</p></blockquote><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi ks"><img src="../Images/b17c26666703fc65f70b8f040fe464df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*zgmF61ZC8PPkqXgn.png"/></div></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">图片来源<a class="ae li" href="https://tecnologiandroid.com/que-es-webassembly-wasm/" rel="noopener ugc nofollow" target="_blank">https://tecnologiandroid.com/que-es-webassembly-wasm/</a></figcaption></figure><p id="53d5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">WASM最常见的用途是:</p><ul class=""><li id="07d1" class="lj lk iq jp b jq jr ju jv jy ll kc lm kg ln kk lo lp lq lr bi translated">图像优化压缩。</li><li id="f46a" class="lj lk iq jp b jq ls ju lt jy lu kc lv kg lw kk lo lp lq lr bi translated">收获过去编写的旧代码，并将其带入现代网络世界。</li><li id="66fe" class="lj lk iq jp b jq ls ju lt jy lu kc lv kg lw kk lo lp lq lr bi translated">加密。</li><li id="2ff3" class="lj lk iq jp b jq ls ju lt jy lu kc lv kg lw kk lo lp lq lr bi translated">游戏开发。</li></ul></div><div class="ab cl lx ly hu lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ij ik il im in"><h1 id="a528" class="me mf iq bd mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb bi translated">WASM vs Javascript</h1><h2 id="311d" class="nc mf iq bd mg nd ne dn mk nf ng dp mo jy nh ni ms kc nj nk mw kg nl nm na nn bi translated">表演</h2><p id="d7fb" class="pw-post-body-paragraph jn jo iq jp b jq no js jt ju np jw jx jy nq ka kb kc nr ke kf kg ns ki kj kk ij bi translated">与Javascript (JS)的主要区别在于<strong class="jp ir"> JS是一种动态语言</strong>。这意味着在浏览器上执行一段JS的过程如下所示:</p><ol class=""><li id="a44a" class="lj lk iq jp b jq jr ju jv jy ll kc lm kg ln kk nt lp lq lr bi translated">浏览器从服务器下载JS</li><li id="19db" class="lj lk iq jp b jq ls ju lt jy lu kc lv kg lw kk nt lp lq lr bi translated">它开始解析所有的JS</li><li id="9ca5" class="lj lk iq jp b jq ls ju lt jy lu kc lv kg lw kk nt lp lq lr bi translated">它将下载的JS代码转换成抽象的语法树。</li><li id="d0d7" class="lj lk iq jp b jq ls ju lt jy lu kc lv kg lw kk nt lp lq lr bi translated">它会编译成字节码。</li></ol><p id="15a7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">另一方面，<strong class="jp ir"> WASM是一种静态语言</strong>，执行的代码已经预先编译好了，所以我们只需要把WASM拉下来</p><h2 id="d52a" class="nc mf iq bd mg nd ne dn mk nf ng dp mo jy nh ni ms kc nj nk mw kg nl nm na nn bi translated">互用性</h2><p id="f952" class="pw-post-body-paragraph jn jo iq jp b jq no js jt ju np jw jx jy nq ka kb kc nr ke kf kg ns ki kj kk ij bi translated">WAS的使用变得非常具有互操作性。我们可以用JS和WAS编写代码，然后我们可以在用不同语言编写的代码段之间进行调用。</p><blockquote class="kl km kn"><p id="ee4f" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated">WAS代码可以调用JS函数，反之亦然，JS代码可以调用WAS函数。</p></blockquote></div><div class="ab cl lx ly hu lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ij ik il im in"><h1 id="d699" class="me mf iq bd mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb bi translated">做中学</h1><p id="35fd" class="pw-post-body-paragraph jn jo iq jp b jq no js jt ju np jw jx jy nq ka kb kc nr ke kf kg ns ki kj kk ij bi translated">在本教程中，我们将学习编译Go代码到WASM，并在浏览器中执行它。</p><p id="436e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将学习实现一个JSON美化器在线服务。该服务将在Go中实现，并将在浏览器中执行。(听起来很棒吧？)</p><p id="3cd2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">试图从头开始实现整个问题可能很难做到。因此，在得出最终解决方案之前，我们将一步一步地研究不同的示例。</p><h1 id="0d3d" class="me mf iq bd mg mh nu mj mk ml nv mn mo mp nw mr ms mt nx mv mw mx ny mz na nb bi translated">先决条件</h1><ul class=""><li id="879d" class="lj lk iq jp b jq no ju np jy nz kc oa kg ob kk lo lp lq lr bi translated">让我们克隆代码</li></ul><pre class="kt ku kv kw gt oc od oe of aw og bi"><span id="7a6f" class="nc mf iq od b gy oh oi l oj ok">&gt; git clone <a class="ae li" href="mailto:git@github.com" rel="noopener ugc nofollow" target="_blank">git@github.com</a>:ivancorrales/wasm-tutorial-go.git<br/>&gt; cd wasm-tutorial-go</span></pre><p id="7270" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你需要在电脑上安装的唯一软件是Docker，如果你的系统中没有Go编译器，不要担心，我们会利用Docker。</p><h2 id="7b6f" class="nc mf iq bd mg nd ne dn mk nf ng dp mo jy nh ni ms kc nj nk mw kg nl nm na nn bi translated">代码</h2><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi ol"><img src="../Images/fd9ce067c78d803eb11dd3280312c5ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SdH6-HgyZJubufS9CO4pGQ.png"/></div></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">本教程的代码组织</figcaption></figure><p id="c34f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">本教程由7个步骤组成。这就是为什么你会在库的根目录(<code class="fe om on oo od b">sample[N].html</code>，N=1…7)和<code class="fe om on oo od b">wasm.</code>下的7个子文件夹中找到7个HTML文件的原因。<code class="fe om on oo od b">wasm</code>下的文件夹包含将被编译到WASM的Go代码。</p><p id="4335" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在存储库的根目录下，您会发现一个<code class="fe om on oo od b">styles.css</code>(不同示例中使用的通用CSS样式)、<code class="fe om on oo od b">load_wasm.js</code>(该文件用于导入编译成<code class="fe om on oo od b">wasm</code>格式的文件)和<code class="fe om on oo od b">main.go</code>，后者是一个用于提供静态内容(HTML页面)的程序。</p><p id="0828" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将使用存储库根目录下的<code class="fe om on oo od b">multistage</code>docker文件来构建和运行示例。虽然我们不会解释这个Docker是如何工作的，但是如果你有任何问题或者建议，请随时联系我。</p><h2 id="9a6e" class="nc mf iq bd mg nd ne dn mk nf ng dp mo jy nh ni ms kc nj nk mw kg nl nm na nn bi translated">步骤0 —启动服务器</h2><p id="057e" class="pw-post-body-paragraph jn jo iq jp b jq no js jt ju np jw jx jy nq ka kb kc nr ke kf kg ns ki kj kk ij bi translated">执行以下命令来创建docker映像并使其运行。这将在端口3000上启动一个静态服务器。如果该端口繁忙，您只需在<code class="fe om on oo od b">Makefile</code>中更新映射的端口</p><pre class="kt ku kv kw gt oc od oe of aw og bi"><span id="3308" class="nc mf iq od b gy oh oi l oj ok">&gt; make build<br/>&gt; make run</span></pre><h2 id="61fd" class="nc mf iq bd mg nd ne dn mk nf ng dp mo jy nh ni ms kc nj nk mw kg nl nm na nn bi translated">步骤1 —向输出控制台发送消息</h2><p id="2c62" class="pw-post-body-paragraph jn jo iq jp b jq no js jt ju np jw jx jy nq ka kb kc nr ke kf kg ns ki kj kk ij bi translated">这是最基本的场景。我们将在Go中编写一条消息，该消息将被发送到浏览器中的输出控制台。</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="op oq l"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated"><a class="ae li" href="https://github.com/ivancorrales/wasm-tutorial-go/blob/main/wasm/sample1/main.go" rel="noopener ugc nofollow" target="_blank">https://github . com/ivancorrales/wasm-tutorial-go/blob/main/wasm/sample 1/main . go</a></figcaption></figure><p id="abf8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这段代码被<a class="ae li" href="https://github.com/ivancorrales/wasm-tutorial-go/blob/main/Dockerfile#L5" rel="noopener ugc nofollow" target="_blank">编译</a>成一个WASM文件，并从<a class="ae li" href="https://github.com/ivancorrales/wasm-tutorial-go/blob/main/sample1.html#L11-L18" rel="noopener ugc nofollow" target="_blank"> HTML页面</a>加载，如下所示。我们导入WASM文件的方式对所有样本都是完全一样的。</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="65fc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">访问网址<a class="ae li" href="http://127.0.0.1:3000/sample1.html" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 1:3000/sample 1 . html</a>查看样品1</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi or"><img src="../Images/d7aaa7ef6eb867bd4de77c7874f2ac7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tdw72B5OXNmYGarUy_rm-g.png"/></div></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">Webassembly教程-示例1</figcaption></figure><p id="4152" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果我们在浏览器中打开开发工具，我们将看到main.go文件中打印的消息“你好，我的朋友”。</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi os"><img src="../Images/e60463f497b358959b46dd5317c96632.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/1*0COxU_yfNPRsNU_8YhTIWw.png"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">Webassembly教程-示例1，开发工具</figcaption></figure><h2 id="9293" class="nc mf iq bd mg nd ne dn mk nf ng dp mo jy nh ni ms kc nj nk mw kg nl nm na nn bi translated">步骤2—修改HTML</h2><p id="bd05" class="pw-post-body-paragraph jn jo iq jp b jq no js jt ju np jw jx jy nq ka kb kc nr ke kf kg ns ki kj kk ij bi translated">在这一步，我们将学习从Go修改页面的内容。我们要做的是向页面动态添加文本。</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="op oq l"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated"><a class="ae li" href="https://github.com/ivancorrales/wasm-tutorial-go/blob/main/sample2.html" rel="noopener ugc nofollow" target="_blank">https://github . com/ivancorrales/wasm-tutorial-go/blob/main/sample 2 . html</a></figcaption></figure><p id="e5cb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本例中，我们有一个空的H2元素，其内容将由Go代码填充。</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="op oq l"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated"><a class="ae li" href="https://github.com/ivancorrales/wasm-tutorial-go/blob/main/wasm/sample2/main.go" rel="noopener ugc nofollow" target="_blank">https://github . com/ivancorrales/wasm-tutorial-go/blob/main/wasm/sample 2/main . go</a></figcaption></figure><p id="74c3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">访问网址<a class="ae li" href="http://127.0.0.1:3000/sample2.html" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 1:3000/sample 2 . html</a>查看样品2</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi ot"><img src="../Images/24f962d99ffcc76c8d6d704888d831eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JOr5u_ZMYopRTxPTzsz3-Q.png"/></div></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">Webassembly教程-示例2</figcaption></figure><h2 id="e0ce" class="nc mf iq bd mg nd ne dn mk nf ng dp mo jy nh ni ms kc nj nk mw kg nl nm na nn bi translated">步骤3—追加HTML元素</h2><p id="d769" class="pw-post-body-paragraph jn jo iq jp b jq no js jt ju np jw jx jy nq ka kb kc nr ke kf kg ns ki kj kk ij bi translated">在上一步中，我们学习了修改HTML元素的值。在这一课中，我们将学习创建一个新元素。</p><p id="8d9b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将从Go代码创建元素，而不是填充元素H”的值。</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="op oq l"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated"><a class="ae li" href="https://github.com/ivancorrales/wasm-tutorial-go/blob/main/sample3.html" rel="noopener ugc nofollow" target="_blank">https://github . com/ivancorrales/wasm-tutorial-go/blob/main/sample 3 . html</a></figcaption></figure><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="op oq l"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated"><a class="ae li" href="https://github.com/ivancorrales/wasm-tutorial-go/blob/main/wasm/sample3/main.go" rel="noopener ugc nofollow" target="_blank">https://github . com/ivancorrales/wasm-tutorial-go/blob/main/wasm/sample 3/main . go</a></figcaption></figure><p id="4a34" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">访问网址<a class="ae li" href="http://127.0.0.1:3000/sample3.html" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 1:3000/sample 3 . html</a>查看样品3</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi ou"><img src="../Images/3b4c9c9f00ff660a0f13088180c9f085.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*exPmxJOFykxTFY8oRmvcJA.png"/></div></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">Webassembly教程-示例3</figcaption></figure><h2 id="b01a" class="nc mf iq bd mg nd ne dn mk nf ng dp mo jy nh ni ms kc nj nk mw kg nl nm na nn bi translated">步骤4—修改HTML元素的类</h2><p id="8095" class="pw-post-body-paragraph jn jo iq jp b jq no js jt ju np jw jx jy nq ka kb kc nr ke kf kg ns ki kj kk ij bi translated">我们将学习改变一个HTML元素的类。我们在HTML元素中删除和添加新的类。此步骤将每2秒钟更新一次H3元素的类别。</p><p id="c7d6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将用id <code class="fe om on oo od b">simpleText</code>替换元素的类</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="op oq l"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated"><a class="ae li" href="https://github.com/ivancorrales/wasm-tutorial-go/blob/main/sample4.html" rel="noopener ugc nofollow" target="_blank">https://github . com/ivancorrales/wasm-tutorial-go/blob/main/sample 4 . html</a></figcaption></figure><p id="c224" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">H2的等级将每2秒钟从<code class="fe om on oo od b">.green</code>变为<code class="fe om on oo od b">.pink</code>，反之亦然。</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="op oq l"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated"><a class="ae li" href="https://github.com/ivancorrales/wasm-tutorial-go/blob/main/wasm/sample2/main.go" rel="noopener ugc nofollow" target="_blank">https://github . com/ivancorrales/wasm-tutorial-go/blob/main/wasm/sample 4/main . go</a></figcaption></figure><p id="a486" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">访问网址<a class="ae li" href="http://127.0.0.1:3000/sample4.html" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 1:3000/sample 4 . html</a>查看样品4</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/07091b6a7f9f22a14342a3ae26c71434.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*q-MPkHFkhoYinjTsJuB8cA.gif"/></div></figure><h2 id="08c1" class="nc mf iq bd mg nd ne dn mk nf ng dp mo jy nh ni ms kc nj nk mw kg nl nm na nn bi translated">步骤5—修改HTML元素的属性</h2><p id="09a5" class="pw-post-body-paragraph jn jo iq jp b jq no js jt ju np jw jx jy nq ka kb kc nr ke kf kg ns ki kj kk ij bi translated">这一步可能看起来与前一步相似，但它们彼此完全不同。在这一步中将与HTML元素的属性进行交互。具体来说，我们将修改H2的<code class="fe om on oo od b">style</code>属性。我们将把<code class="fe om on oo od b">display</code>值从<code class="fe om on oo od b">block</code>更新到<code class="fe om on oo od b">none</code>，反之亦然。这将使文本，在H2元素，闪烁。</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="op oq l"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated"><a class="ae li" href="https://github.com/ivancorrales/wasm-tutorial-go/blob/main/sample5.html" rel="noopener ugc nofollow" target="_blank">https://github . com/ivancorrales/wasm-tutorial-go/blob/main/sample 5 . html</a></figcaption></figure><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="op oq l"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated"><a class="ae li" href="https://github.com/ivancorrales/wasm-tutorial-go/blob/main/wasm/sample5/main.go" rel="noopener ugc nofollow" target="_blank">https://github . com/ivancorrales/wasm-tutorial-go/blob/main/wasm/sample 5/main . go</a></figcaption></figure><p id="30c7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">访问网址<a class="ae li" href="http://127.0.0.1:3000/sample5.html" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 1:3000/sample 5 . html</a>查看样品5</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/32d4a7896fcfae7ba9fbe846b239c8f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*km9nB5K6xjJ_0emZ_Om7YQ.gif"/></div></figure><h2 id="e8cb" class="nc mf iq bd mg nd ne dn mk nf ng dp mo jy nh ni ms kc nj nk mw kg nl nm na nn bi translated">步骤6-从Go读取HTML内容</h2><p id="47ed" class="pw-post-body-paragraph jn jo iq jp b jq no js jt ju np jw jx jy nq ka kb kc nr ke kf kg ns ki kj kk ij bi translated">我们将学习阅读H2元素的文本内容，然后我们将文本转换为大写，最后我们将在页面中显示转换后的文本。</p><p id="eafe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">id为<code class="fe om on oo od b">description</code>的HTML元素中的文本将以大写形式显示在id为<code class="fe om on oo od b">descriptionUppercase.</code>的元素中</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="op oq l"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated"><a class="ae li" href="https://github.com/ivancorrales/wasm-tutorial-go/blob/main/sample6.html" rel="noopener ugc nofollow" target="_blank">https://github . com/ivancorrales/wasm-tutorial-go/blob/main/sample 6 . html</a></figcaption></figure><p id="9ee2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">正如你在下面看到的，围棋中的代码并不是火箭科学</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="op oq l"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated"><a class="ae li" href="https://github.com/ivancorrales/wasm-tutorial-go/blob/main/wasm/sample6/main.go" rel="noopener ugc nofollow" target="_blank">https://github . com/ivancorrales/wasm-tutorial-go/blob/main/wasm/sample 6/main . go</a></figcaption></figure><p id="24ca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">访问网址<a class="ae li" href="http://127.0.0.1:3000/sample6.html" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 1:3000/sample 6 . html</a>查看样品6</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi ow"><img src="../Images/718d9c8e324f70c8f94dcc42bf642a37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YS7ybPir4rrxuto8QlFTrA.png"/></div></div></figure><h2 id="de00" class="nc mf iq bd mg nd ne dn mk nf ng dp mo jy nh ni ms kc nj nk mw kg nl nm na nn bi translated">第7步—最后一步</h2><p id="ada9" class="pw-post-body-paragraph jn jo iq jp b jq no js jt ju np jw jx jy nq ka kb kc nr ke kf kg ns ki kj kk ij bi translated">我们已经掌握了所有必要的知识，可以在Go中编写我们自己的JSON Beautifier在线服务，并让它在浏览器中运行。</p><p id="3060" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们的页面将包含两个textarea字段，一个包含输入文本，另一个将以漂亮的模式显示文本。我们将使用HTML事件<code class="fe om on oo od b">onblur</code>和<code class="fe om on oo od b">onfocus</code>将一些样式应用到输入文本区域。</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="op oq l"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated"><a class="ae li" href="https://github.com/ivancorrales/wasm-tutorial-go/blob/main/sample7.html" rel="noopener ugc nofollow" target="_blank">https://github . com/ivancorrales/wasm-tutorial-go/blob/main/sample 7 . html</a></figcaption></figure><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="op oq l"/></div></figure><ul class=""><li id="4cc2" class="lj lk iq jp b jq jr ju jv jy ll kc lm kg ln kk lo lp lq lr bi translated">第11行:这是从Go开始打开一个<code class="fe om on oo od b">alert</code>的方法。</li><li id="8fee" class="lj lk iq jp b jq ls ju lt jy lu kc lv kg lw kk lo lp lq lr bi translated">第45行:我们将在浏览器的开发工具中显示错误。</li><li id="831a" class="lj lk iq jp b jq ls ju lt jy lu kc lv kg lw kk lo lp lq lr bi translated">第57–58行:函数<code class="fe om on oo od b">Set</code>中的第一个值是name，用于注册我们的全局函数。</li></ul><p id="98fe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">访问网址<a class="ae li" href="http://127.0.0.1:3000/sample7.html" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 1:3000/sample 7 . html</a>来玩我们的JSON Beautifier在线服务。</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/e24179e4214798621637ca3c800e065e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*F5CsbHn9zPQmKH2ktLYnkQ.gif"/></div></figure><blockquote class="ox"><p id="0f1a" class="oy oz iq bd pa pb pc pd pe pf pg kk dk translated">我希望你和我写这篇教程时一样喜欢它！</p></blockquote></div></div>    
</body>
</html>