<html>
<head>
<title>How to use Golang generics with structs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在结构中使用Golang泛型</h1>
<blockquote>原文：<a href="https://itnext.io/how-to-use-golang-generics-with-structs-8cabc9353d75?source=collection_archive---------0-----------------------#2022-04-08">https://itnext.io/how-to-use-golang-generics-with-structs-8cabc9353d75?source=collection_archive---------0-----------------------#2022-04-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c886" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解如何创建泛型结构来充分利用此功能</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5cdac895bc67c5d0d390487f9a524405.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CJ-Wx5mXF_fo3p1yKh_5bg.png"/></div></div></figure><p id="24f4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">从Go 1.18开始，我们终于有了泛型的力量。本周，当我浏览Golang源代码时，我发现了一个如何使用泛型创建结构的例子。</p><p id="0e9e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在这篇文章中，我将向你展示如何做到这一点。</p><p id="e966" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在我们开始之前，让我们假设我们正在用下面列出的两个结构实现一个博客系统。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="1e8d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了提高性能，我们将实现一个缓存系统，保证没有人能够直接在缓存中修改任何数据。</p><p id="69ae" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">记住这些规范，让我们创建一个名为cache的新包。</p><p id="c6ac" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这个包需要一个私有结构来保存我们想要缓存的所有数据。但是，在我们创建这个结构之前，让我们为可缓存的类型创建一个接口。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="f9f4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">很好！现在我们可以创建自己的私有和泛型结构来保存数据。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="1485" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了操作数据，我们要实现两个方法，Set和Get。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="195a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，让我们添加一个通用函数来创建并返回一个指向新缓存的指针。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="1e00" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">不错！！！</p><p id="2ba8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">要使用我们的包，我们需要做的就是为我们想要缓存的类型创建一个新的缓存，并使用如下示例所示的结构的方法。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="37bd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">请在评论中留下你的问题，我会尽快回答。</p><p id="9362" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">感谢您的阅读！</p></div></div>    
</body>
</html>