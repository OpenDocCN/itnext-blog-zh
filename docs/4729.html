<html>
<head>
<title>Firebase Authentication — Facebook iOS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Firebase身份验证—脸书iOS</h1>
<blockquote>原文：<a href="https://itnext.io/firebase-authentication-facebook-i-93aaf489839d?source=collection_archive---------5-----------------------#2020-09-02">https://itnext.io/firebase-authentication-facebook-i-93aaf489839d?source=collection_archive---------5-----------------------#2020-09-02</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><figure class="gm go js jt ju jv gi gj paragraph-image"><div class="gi gj jr"><img src="../Images/8b4118e704b3885be629d566850dd922.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JkpOi__HT9ZcDmtH"/></div></figure><p id="7b31" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi kw translated">irebase认证是一个在Firebase项目中管理用户身份的工具。它提供了很多认证方法，包括<a class="ae lf" href="https://medium.com/firebase-developers/ios-firebase-authentication-sdk-email-and-password-login-6a3bb27e0536" rel="noopener">电子邮件/密码</a>、<a class="ae lf" rel="noopener ugc nofollow" target="_blank" href="/firebase-phone-auth-in-ios-3ae060d80ecc?source=your_stories_page---------------------------">电话号码</a>和脸书等。脸书登录是现代应用程序中非常常见的选项。App通过实现脸书登录功能可以受益匪浅。</p><figure class="lh li lj lk gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gi gj lg"><img src="../Images/66d492a294cd97035e5acf6ace986087.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*virhywbiFvAIUY2S.png"/></div></div></figure><p id="6769" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">开发者必须首先创建<a class="ae lf" href="https://firebase.google.com/" rel="noopener ugc nofollow" target="_blank"> Firebase </a>和<a class="ae lf" href="https://developers.facebook.com/" rel="noopener ugc nofollow" target="_blank">脸书</a>项目，以完成认证过程。实现整个功能的步骤只有9个步骤。开始吧！</p></div><div class="ab cl lp lq hy lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="in io ip iq ir"><h1 id="86e7" class="lw lx iu bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">程序</h1><h2 id="3f90" class="mu lx iu bd ly mv mw dn mc mx my dp mg kj mz na mk kn nb nc mo kr nd ne ms nf bi translated">1.项目初始化</h2><p id="56ee" class="pw-post-body-paragraph jy jz iu ka b kb ng kd ke kf nh kh ki kj ni kl km kn nj kp kq kr nk kt ku kv in bi translated">在<a class="ae lf" href="https://firebase.google.com/" rel="noopener ugc nofollow" target="_blank"> Firebase控制台</a>创建一个Firebase项目，在<a class="ae lf" href="https://developers.facebook.com/" rel="noopener ugc nofollow" target="_blank">脸书开发者控制台</a>创建一个脸书项目。</p><h2 id="1a36" class="mu lx iu bd ly mv mw dn mc mx my dp mg kj mz na mk kn nb nc mo kr nd ne ms nf bi translated">2.启用脸书登录方法</h2><figure class="lh li lj lk gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gi gj nl"><img src="../Images/dfbf4f27803208618ef398eaa9185b8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0HcolUwnhWmMfE4CWnJvVQ.png"/></div></div></figure><p id="529d" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">导航到“身份验证”会话的“登录方法”选项卡，并启用脸书登录方法。</p><figure class="lh li lj lk gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gi gj nm"><img src="../Images/36a27c10748fd9656e85137096254447.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LL-PeJlI-Z04Fi8TRzTyog.png"/></div></div></figure><p id="f806" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">在脸书开发者控制台可以找到<strong class="ka iv">应用ID </strong>:</p><h2 id="d0cc" class="mu lx iu bd ly mv mw dn mc mx my dp mg kj mz na mk kn nb nc mo kr nd ne ms nf bi translated">3.复制OAuth重定向URI到脸书项目设置</h2><figure class="lh li lj lk gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gi gj nn"><img src="../Images/e4359bfa01e250bca4fd49845cd64156.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x_ROGSK8cITweJUsevjksg.png"/></div></div></figure><h2 id="ddff" class="mu lx iu bd ly mv mw dn mc mx my dp mg kj mz na mk kn nb nc mo kr nd ne ms nf bi translated">4.Firebase项目设置</h2><p id="3401" class="pw-post-body-paragraph jy jz iu ka b kb ng kd ke kf nh kh ki kj ni kl km kn nj kp kq kr nk kt ku kv in bi translated">使用<code class="fe no np nq nr b">GoogleService-Info.plist</code>将您的iOS应用程序链接到Firebase项目，T0是在您的应用程序注册过程中生成的文件，包含重要信息，如<code class="fe no np nq nr b">PROJECT_ID</code>、<code class="fe no np nq nr b">BUNDLE_ID</code>和<code class="fe no np nq nr b">API_KEY</code>。</p><figure class="lh li lj lk gu jv gi gj paragraph-image"><div class="gi gj ns"><img src="../Images/eae334bc8f4fc2e1d45e40d68941bcda.png" data-original-src="https://miro.medium.com/v2/resize:fit:446/format:webp/0*NwepI3kEOR7E4poO.png"/></div><figcaption class="nt nu gk gi gj nv nw bd b be z dk translated">必须将GoogleService-Info.plist添加到您的目标中</figcaption></figure><h2 id="9749" class="mu lx iu bd ly mv mw dn mc mx my dp mg kj mz na mk kn nb nc mo kr nd ne ms nf bi translated">5.添加Firebase身份验证依赖项</h2><p id="6b89" class="pw-post-body-paragraph jy jz iu ka b kb ng kd ke kf nh kh ki kj ni kl km kn nj kp kq kr nk kt ku kv in bi translated">Firebase身份验证SDK可以由CocoaPods添加。将<code class="fe no np nq nr b">pod 'Firebase/Auth'</code>包含在<code class="fe no np nq nr b">Podfile</code>中，之后运行<code class="fe no np nq nr b">pod install</code>。</p><figure class="lh li lj lk gu jv"><div class="bz fq l di"><div class="nx ny l"/></div></figure><h2 id="d9b4" class="mu lx iu bd ly mv mw dn mc mx my dp mg kj mz na mk kn nb nc mo kr nd ne ms nf bi translated">6.初始化Firebase SDK</h2><p id="cdd7" class="pw-post-body-paragraph jy jz iu ka b kb ng kd ke kf nh kh ki kj ni kl km kn nj kp kq kr nk kt ku kv in bi translated">在应用程序开始时，在<code class="fe no np nq nr b">AppDelegate.swift</code>文件中初始化Firebase配置，见第8行。</p><figure class="lh li lj lk gu jv"><div class="bz fq l di"><div class="nx ny l"/></div></figure><h2 id="3ff9" class="mu lx iu bd ly mv mw dn mc mx my dp mg kj mz na mk kn nb nc mo kr nd ne ms nf bi translated">7.实现脸书登录SDK</h2><figure class="lh li lj lk gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gi gj lg"><img src="../Images/66d492a294cd97035e5acf6ace986087.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*virhywbiFvAIUY2S.png"/></div></div></figure><div class="nz oa gq gs ob oc"><a rel="noopener  ugc nofollow" target="_blank" href="/swift-facebook-ios-login-sdk-dada412d8341"><div class="od ab fp"><div class="oe ab of cl cj og"><h2 class="bd iv gz z fq oh fs ft oi fv fx it bi translated">Swift —脸书iOS登录SDK</h2><div class="oj l"><h3 class="bd b gz z fq oh fs ft oi fv fx dk translated">脸书SDK允许用户登录并授予应用程序权限，以便从脸书检索个人信息…</h3></div><div class="ok l"><p class="bd b dl z fq oh fs ft oi fv fx dk translated">itnext.io</p></div></div><div class="ol l"><div class="om l on oo op ol oq jw oc"/></div></div></a></div><p id="9bbf" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">脸书为用户提供了一个易于使用的登录SDK来登录并授予应用程序检索他/她的个人信息的权限。SDK默认登录按钮或自定义按钮都可以用来触发登录功能。默认登录按钮更容易实现。</p><figure class="lh li lj lk gu jv"><div class="bz fq l di"><div class="nx ny l"/></div></figure><p id="e679" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">确保<code class="fe no np nq nr b">LoginButtonDelegate</code>的<code class="fe no np nq nr b">loginButton(_: didCompleteWith: error:)</code>被正确实现，以便成功的登录回调可以被捕获，Firebase认证过程(下一步)可以被连续调用。</p><h2 id="1db0" class="mu lx iu bd ly mv mw dn mc mx my dp mg kj mz na mk kn nb nc mo kr nd ne ms nf bi translated">8.使用脸书访问令牌登录Firebase</h2><figure class="lh li lj lk gu jv"><div class="bz fq l di"><div class="nx ny l"/></div></figure><p id="d2f2" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">通过脸书SDK成功登录后，生成一个<code class="fe no np nq nr b">AccessToken</code>。<code class="fe no np nq nr b">tokenString</code>属性可以用来识别用户。Firebase Auth SDK将使用它在Firebase数据库中创建一个用户。</p><h2 id="525b" class="mu lx iu bd ly mv mw dn mc mx my dp mg kj mz na mk kn nb nc mo kr nd ne ms nf bi translated">9.验证是否创建了Firebase用户</h2><figure class="lh li lj lk gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gi gj or"><img src="../Images/24163a3d2d54ce39138d4c9561726a9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ERJeSuYH2eBTwH2ZTN6BrA.png"/></div></div></figure><p id="2f6c" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">在所有过程之后，新的用户数据应该显示在“身份验证”会话的“用户”选项卡上。</p><figure class="lh li lj lk gu jv gi gj paragraph-image"><div class="gi gj jr"><img src="../Images/5a4cd3b23941e5bf2adb3769750a48aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZGR0uCBOFrvZ6KVapr3tUA.png"/></div></figure></div><div class="ab cl lp lq hy lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="in io ip iq ir"><h1 id="123b" class="lw lx iu bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">摘要</h1><ol class=""><li id="f4cc" class="os ot iu ka b kb ng kf nh kj ou kn ov kr ow kv ox oy oz pa bi translated">Firebase提供了脸书身份验证选项，可以使用脸书访问令牌创建用户帐户。</li><li id="ff53" class="os ot iu ka b kb pb kf pc kj pd kn pe kr pf kv ox oy oz pa bi translated">开发人员必须首先在开发人员控制台上创建Firebase和脸书项目。必须在Firebase控制台上启用脸书登录选项。</li><li id="074d" class="os ot iu ka b kb pb kf pc kj pd kn pe kr pf kv ox oy oz pa bi translated">开发人员必须首先实现脸书登录SDK，并在<code class="fe no np nq nr b">LoginButtonDelegate</code>中捕获登录成功回调。</li></ol></div><div class="ab cl lp lq hy lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="in io ip iq ir"><h1 id="f202" class="lw lx iu bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">你可能会喜欢</h1><div class="nz oa gq gs ob oc"><a rel="noopener  ugc nofollow" target="_blank" href="/swift-facebook-ios-login-sdk-dada412d8341"><div class="od ab fp"><div class="oe ab of cl cj og"><h2 class="bd iv gz z fq oh fs ft oi fv fx it bi translated">Swift —脸书iOS登录SDK</h2><div class="oj l"><h3 class="bd b gz z fq oh fs ft oi fv fx dk translated">脸书SDK允许用户登录并授予应用程序权限，以便从脸书检索个人信息…</h3></div><div class="ok l"><p class="bd b dl z fq oh fs ft oi fv fx dk translated">itnext.io</p></div></div><div class="ol l"><div class="om l on oo op ol oq jw oc"/></div></div></a></div><div class="nz oa gq gs ob oc"><a rel="noopener  ugc nofollow" target="_blank" href="/ios-swift-facebook-sharing-e473e6b2fc48"><div class="od ab fp"><div class="oe ab of cl cj og"><h2 class="bd iv gz z fq oh fs ft oi fv fx it bi translated">iOS Swift脸书共享</h2><div class="oj l"><h3 class="bd b gz z fq oh fs ft oi fv fx dk translated">如今，通过脸书分享是如此普遍。脸书为开发者提供了一个共享SDK来实现共享到…</h3></div><div class="ok l"><p class="bd b dl z fq oh fs ft oi fv fx dk translated">itnext.io</p></div></div><div class="ol l"><div class="pg l on oo op ol oq jw oc"/></div></div></a></div></div><div class="ab cl lp lq hy lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="in io ip iq ir"><h1 id="80a0" class="lw lx iu bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">参考</h1><h2 id="4ea7" class="mu lx iu bd ly mv mw dn mc mx my dp mg kj mz na mk kn nb nc mo kr nd ne ms nf bi translated">1.Firebase脸书登录官方文档</h2><div class="nz oa gq gs ob oc"><a href="https://firebase.google.com/docs/auth/ios/facebook-login" rel="noopener  ugc nofollow" target="_blank"><div class="od ab fp"><div class="oe ab of cl cj og"><h2 class="bd iv gz z fq oh fs ft oi fv fx it bi translated">在iOS | Firebase上使用脸书登录进行身份验证</h2><div class="oj l"><h3 class="bd b gz z fq oh fs ft oi fv fx dk translated">您可以让您的用户使用他们的脸书帐户通过Firebase进行身份验证，方法是将脸书登录集成到您的…</h3></div><div class="ok l"><p class="bd b dl z fq oh fs ft oi fv fx dk translated">firebase.google.com</p></div></div><div class="ol l"><div class="ph l on oo op ol oq jw oc"/></div></div></a></div><h2 id="5d85" class="mu lx iu bd ly mv mw dn mc mx my dp mg kj mz na mk kn nb nc mo kr nd ne ms nf bi translated">2.脸书登录官方文档</h2><div class="nz oa gq gs ob oc"><a href="https://developers.facebook.com/docs/facebook-login/ios" rel="noopener  ugc nofollow" target="_blank"><div class="od ab fp"><div class="oe ab of cl cj og"><h2 class="bd iv gz z fq oh fs ft oi fv fx it bi translated">iOS -脸书登录-文档-开发人员的脸书</h2><div class="oj l"><h3 class="bd b gz z fq oh fs ft oi fv fx dk translated">当人们使用脸书登录到你的应用时，他们可以向你的应用授予权限，以便你可以检索信息或…</h3></div><div class="ok l"><p class="bd b dl z fq oh fs ft oi fv fx dk translated">developers.facebook.com</p></div></div><div class="ol l"><div class="pi l on oo op ol oq jw oc"/></div></div></a></div></div><div class="ab cl lp lq hy lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="in io ip iq ir"><figure class="lh li lj lk gu jv gi gj paragraph-image"><div class="gi gj pj"><img src="../Images/a48092e245dced3f27a3a3e5ebfe4a6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/0*h86soD-kNUwjXIfC.png"/></div></figure><p id="fdbb" class="pw-post-body-paragraph jy jz iu ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv in bi translated">欢迎您通过<a class="ae lf" href="https://twitter.com/myrick_chow" rel="noopener ugc nofollow" target="_blank">Twitter @ my rik _ chow</a>关注我，了解更多信息和文章。感谢您阅读这篇文章。祝您愉快！😄</p></div></div>    
</body>
</html>