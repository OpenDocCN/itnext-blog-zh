<html>
<head>
<title>Chrome Extension Development with Nx Workspace &amp; Angular v13 — Part 4</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Nx Workspace和Angular v13开发Chrome扩展—第4部分</h1>
<blockquote>原文：<a href="https://itnext.io/chrome-extension-development-with-nx-workspace-angular-v13-part-4-948fcc51e0f8?source=collection_archive---------3-----------------------#2021-12-07">https://itnext.io/chrome-extension-development-with-nx-workspace-angular-v13-part-4-948fcc51e0f8?source=collection_archive---------3-----------------------#2021-12-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/b24417ca6d6608f5f6a3682f4379deee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PMzoZwbaE54iYTRdSR3MsA.png"/></div></div></figure><p id="89fa" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我试图为个人使用创建一个简单的Chrome扩展。然后指出这可以使用HTML、CSS &amp; JavaScript来完成。</p><p id="52fa" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae kz" rel="noopener ugc nofollow" target="_blank" href="/chrome-extension-development-with-nx-workspace-angular-v13-48cf3d2c2a41"> <strong class="kd iu">第1部分:入门</strong> </a> <strong class="kd iu"> <br/> </strong> <a class="ae kz" href="https://medium.com/@dalenguyen/chrome-extension-development-with-nx-workspace-angular-v13-f9163e545c8f" rel="noopener"> <strong class="kd iu">第2部分:更改背景颜色</strong></a><strong class="kd iu"><br/></strong><a class="ae kz" href="https://medium.com/@dalenguyen/chrome-extension-development-with-nx-workspace-angular-v13-part-3-f824c0baf75f" rel="noopener"><strong class="kd iu">第3部分:添加上下文菜单</strong></a><strong class="kd iu"><br/></strong><a class="ae kz" href="https://medium.com/@dalenguyen/chrome-extension-development-with-nx-workspace-angular-v13-part-4-948fcc51e0f8" rel="noopener"><strong class="kd iu">第4部分:发送HTTP请求</strong></a><br/><a class="ae kz" href="https://dalenguyen.medium.com/chrome-extension-development-with-nx-workspace-angular-v13-part-5-7245829ea87c" rel="noopener"><strong class="kd iu">第5部分:添加内容脚本</strong> </a></p><p id="36c7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae kz" href="https://github.com/dalenguyen/dalenguyen.github.io/tree/dev/apps/ext-utils" rel="noopener ugc nofollow" target="_blank"> Github示例</a></p><p id="95d0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在本文中，我将向您展示如何从chrome扩展发送HTTP请求。具体来说，每次打开扩展弹出窗口，都会显示来自<a class="ae kz" href="https://alexwohlbruck.github.io/cat-facts/docs/endpoints/facts.html" rel="noopener ugc nofollow" target="_blank">每日猫事实</a>的随机猫事实。</p><figure class="lb lc ld le gt ju gh gi paragraph-image"><div class="gh gi la"><img src="../Images/d93a8f6e69a16df2609e3f6dbfe9931c.png" data-original-src="https://miro.medium.com/v2/resize:fit:552/format:webp/1*PNsTKHrhlbGbFk59Lxq3dA.png"/></div></figure><p id="9a42" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">说实话，过程和正常的角度应用没什么区别。</p><p id="4533" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">第一步:将HttpClientModule导入app.module.ts </strong></p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="b5d1" class="lk ll it lg b gy lm ln l lo lp"><strong class="lg iu">import { HttpClientModule } from '@angular/common/http'</strong></span><span id="2b93" class="lk ll it lg b gy lq ln l lo lp"><a class="ae kz" href="http://twitter.com/NgModule" rel="noopener ugc nofollow" target="_blank">@NgModule</a>({<br/>  declarations: [AppComponent],<br/>  imports: [BrowserModule, <strong class="lg iu">HttpClientModule</strong>,...],<br/>  providers: [],<br/>  bootstrap: [AppComponent],<br/>})<br/>export class AppModule {}</span></pre><p id="bb1b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">步骤2:从组件</strong>发送HTTP请求</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="28dd" class="lk ll it lg b gy lm ln l lo lp">import { HttpClient } from '<a class="ae kz" href="http://twitter.com/angular/common" rel="noopener ugc nofollow" target="_blank">@angular/common</a>/http'<br/>import { Component } from '<a class="ae kz" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>'<br/>import { Observable } from 'rxjs'</span><span id="4172" class="lk ll it lg b gy lq ln l lo lp">// create interface for Cat Fact in order to use it in the template<br/>interface CatFact {<br/>  status: { verified: null; sentCount: number }<br/>  _id: string<br/>  type: 'cat'<br/>  deleted: false<br/>  user: string<br/>  text: string<br/>  createdAt: string<br/>  updatedAt: string<br/>  __v: number<br/>}</span><span id="7757" class="lk ll it lg b gy lq ln l lo lp">...<br/>export class AppComponent {</span><span id="9d73" class="lk ll it lg b gy lq ln l lo lp">  // get a random fact as Observable<br/>  // not a best pratice to put the request here FYI</span><span id="9afd" class="lk ll it lg b gy lq ln l lo lp">  randomFact$ = this.http.get('<a class="ae kz" href="https://cat-fact.herokuapp.com/facts/random'" rel="noopener ugc nofollow" target="_blank">https://cat-fact.herokuapp.com/facts/random'</a>) as Observable&lt;CatFact&gt;</span><span id="7510" class="lk ll it lg b gy lq ln l lo lp">  constructor(private http: HttpClient) {}</span><span id="17b1" class="lk ll it lg b gy lq ln l lo lp">  ...<br/>}</span></pre><p id="0841" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">第三步:在模板中显示随机猫事实</strong></p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="3b75" class="lk ll it lg b gy lm ln l lo lp">// app.component.html</span><span id="5f9c" class="lk ll it lg b gy lq ln l lo lp">// use async pipe, so the template will handle the subscribe &amp; unsubsribe process<br/>&lt;em&gt;{{ (randomFact$ | async)?.text }}&lt;/em&gt;</span></pre><p id="2214" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这就是开发chrome扩展时发送HTTP请求所需的一切。</p><p id="8dc3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> <em class="lr">注意</em> </strong> <em class="lr">:如果你遇到CORS问题，很可能是服务器问题——而不是客户端问题。</em></p><p id="7f54" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae kz" href="https://twitter.com/dale_nguyen" rel="noopener ugc nofollow" target="_blank"> <strong class="kd iu">在Twitter上关注我</strong> </a>了解Angular、JavaScript &amp; WebDevelopment的最新内容👐</p></div></div>    
</body>
</html>