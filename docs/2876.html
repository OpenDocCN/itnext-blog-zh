<html>
<head>
<title>Blazor Authentication: Hide a Nav Menu Item</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Blazor认证:隐藏导航菜单项</h1>
<blockquote>原文：<a href="https://itnext.io/blazor-authentication-hide-a-nav-menu-item-1deba40685b9?source=collection_archive---------8-----------------------#2019-08-19">https://itnext.io/blazor-authentication-hide-a-nav-menu-item-1deba40685b9?source=collection_archive---------8-----------------------#2019-08-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="0afb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在上周的文章<a class="ae kl" href="https://elanderson.net/2019/08/asp-net-core-server-side-blazor-with-authentication/" rel="noopener ugc nofollow" target="_blank">服务器端Blazor with Authentication </a>中，我们介绍了如何创建一个带身份验证的服务器端Blazor应用程序，然后使用属性禁止用户在未登录的情况下查看获取数据页面。</p><p id="5ff2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">虽然authorize属性不允许用户查看页面的内容，但它仍然允许用户访问他们无权访问的页面的nav菜单项。这将是一个快速的帖子，展示如何使用AuthorizedView组件来隐藏用户应该登录才能看到的任何内容(或处于特定角色)。</p><h2 id="78a3" class="km kn iq bd ko kp kq dn kr ks kt dp ku jy kv kw kx kc ky kz la kg lb lc ld le bi translated">隐藏导航菜单项</h2><p id="31dd" class="pw-post-body-paragraph jn jo iq jp b jq lf js jt ju lg jw jx jy lh ka kb kc li ke kf kg lj ki kj kk ij bi translated">在<strong class="jp ir"> Pages/Shared </strong>目录中打开<strong class="jp ir"> NavMenu.razor </strong>文件，它是定义导航菜单的文件。下面的代码是呈现Fetch data菜单项的代码，如果用户没有登录，这是我们想要隐藏的部分。</p><pre class="lk ll lm ln gt lo lp lq lr aw ls bi"><span id="f4a0" class="km kn iq lp b gy lt lu l lv lw">&lt;li class="nav-item px-3"&gt;<br/>    &lt;NavLink class="nav-link" href="fetchdata"&gt;<br/>        &lt;span class="oi oi-list-rich" aria-hidden="true"&gt;&lt;/span&gt; Fetch data<br/>    &lt;/NavLink&gt;<br/>&lt;/li&gt;</span></pre><p id="afc6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了隐藏菜单项，我们将列表项包装在<strong class="jp ir"> AuthorizeView </strong>组件中。</p><pre class="lk ll lm ln gt lo lp lq lr aw ls bi"><span id="85b5" class="km kn iq lp b gy lt lu l lv lw">&lt;AuthorizeView&gt;<br/>    &lt;li class="nav-item px-3"&gt;<br/>        &lt;NavLink class="nav-link" href="fetchdata"&gt;<br/>            &lt;span class="oi oi-list-rich" aria-hidden="true"&gt;&lt;/span&gt; Fetch data<br/>        &lt;/NavLink&gt;<br/>    &lt;/li&gt;<br/>&lt;/AuthorizeView&gt;</span></pre><p id="e288" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请注意，您仍然应该在需要授权的页面上使用Authorize属性，而不是依赖于隐藏的菜单项来阻止用户找到页面。</p><h2 id="f386" class="km kn iq bd ko kp kq dn kr ks kt dp ku jy kv kw kx kc ky kz la kg lb lc ld le bi translated">包扎</h2><p id="bf6c" class="pw-post-body-paragraph jn jo iq jp b jq lf js jt ju lg jw jx jy lh ka kb kc li ke kf kg lj ki kj kk ij bi translated">虽然Authorize属性仍然非常有用，但我确信AuthorizeView将在Blazor应用程序中得到大量使用。AuthrozieView的优点是不局限于页面组件。</p><p id="a256" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">另外，请注意AuthorizeView也支持角色和策略。确保并查看官方<a class="ae kl" href="https://docs.microsoft.com/en-us/aspnet/core/security/blazor/?view=aspnetcore-3.0&amp;tabs=visual-studio#authorizeview-component" rel="noopener ugc nofollow" target="_blank">授权查看组件文档</a>以了解更多详情。如果感兴趣，组件的<a class="ae kl" href="https://github.com/aspnet/AspNetCore/blob/master/src/Components/Components/src/Auth/AuthorizeView.cs" rel="noopener ugc nofollow" target="_blank">代码在GitHub </a>上。</p></div><div class="ab cl lx ly hu lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ij ik il im in"><p id="3b2d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="me">最初发表于</em> <a class="ae kl" href="https://elanderson.net/2019/08/blazor-authentication-hide-a-nav-menu-item/" rel="noopener ugc nofollow" target="_blank"> <em class="me">埃里克·安德森</em> </a> <em class="me">。</em></p></div></div>    
</body>
</html>