<html>
<head>
<title>Kubernetes did not “kill” Docker!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Kubernetes没有“杀死”Docker！</h1>
<blockquote>原文：<a href="https://itnext.io/kubernetes-did-not-kill-docker-6a76bcc03fc0?source=collection_archive---------2-----------------------#2020-12-08">https://itnext.io/kubernetes-did-not-kill-docker-6a76bcc03fc0?source=collection_archive---------2-----------------------#2020-12-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f522a69ce25a1f3ea36f4e1003219e1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_CJSfzU6mEN9IsTp5NRFng.png"/></div></div></figure><p id="3fce" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最近，关于Kubernetes从其平台上避开Docker的最后一步，互联网上出现了广泛的恐慌。</p><p id="6a8f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">像“码头工人的末日”、“Kubernetes杀了码头工人”和无数点击诱饵这样的闪亮标题散布在讨论这个问题的整个网络上。</p><p id="1d95" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">事实是，这些说法没有那么戏剧化，当然也不准确。</p><p id="9135" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这篇短文中，我将省去不必要的最高级和过多的数据，简单地向您解释Docker和Kubernetes在不久的将来会发生什么。</p><p id="f37a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">剧透——没那么多；)</p><h1 id="4d0e" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">码头工人的定义</h1><blockquote class="lu lv lw"><p id="7430" class="jy jz lx ka b kb kc kd ke kf kg kh ki ly kk kl km lz ko kp kq ma ks kt ku kv ij bi translated">Docker是一组“平台即服务”产品，使用操作系统级虚拟化来交付软件包中的软件，称为containers-Wikipedia</p></blockquote><p id="23e5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我最喜欢用一句话向我的客户和学生解释Docker的方式:<br/>“总的来说，Docker是一个非常舒适的容器包装工具。”</p><h1 id="c479" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">Kubernetes和Docker有什么问题？</h1><p id="7dee" class="pw-post-body-paragraph jy jz iq ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated">关于这个话题的大部分困惑源于缺乏对Docker产品功能的理解。</p><p id="4bb3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">总的来说，Docker产品有三个主要功能:</p><blockquote class="lu lv lw"><p id="a8aa" class="jy jz lx ka b kb kc kd ke kf kg kh ki ly kk kl km lz ko kp kq ma ks kt ku kv ij bi translated">-图像的开发环境</p><p id="35d3" class="jy jz lx ka b kb kc kd ke kf kg kh ki ly kk kl km lz ko kp kq ma ks kt ku kv ij bi translated">-集装箱的UX管理界面</p><p id="ac70" class="jy jz lx ka b kb kc kd ke kf kg kh ki ly kk kl km lz ko kp kq ma ks kt ku kv ij bi translated">-容器的运行时环境</p></blockquote><p id="f759" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Kubernetes本质上是一个容器编排器，也就是说它的工作或名称主要是以冗余和高效的方式运行容器，因此Kubernetes在一天结束时对Docker的所有“需求”只是他的“运行时环境”功能。</p><p id="255a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，其他功能加重了Kubernetes生态系统的负担，降低了其性能。<br/>此外，Docker的运行时环境与Kubernetes中负责运行名为<a class="ae mg" href="https://kubernetes.io/blog/2016/12/container-runtime-interface-cri-in-kubernetes/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> CRI </strong> </a>的容器的组件不兼容。<br/>因此，一个名为<a class="ae mg" href="https://kubernetes.io/blog/2020/12/02/dockershim-faq/" rel="noopener ugc nofollow" target="_blank"> Dockershim </a>的特殊接口抽象层被引入，并导致了一些问题，如:<br/>兼容性问题、开发开销和低劣的性能。</p><p id="b169" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，Kubernetes团队做出了一个公正但艰难的决定，从1.22版本开始，从较新版本的Kubernetes中删除Dockershim</p><h1 id="863f" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">对最终用户的影响</h1><p id="6389" class="pw-post-body-paragraph jy jz iq ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated">对最终用户的影响几乎不存在，因为由Docker构建的图像仍然可以像由Kaniko、IMG和Buildah等其他工具构建的图像一样正常工作。</p><h1 id="946d" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">对云托管服务的影响</h1><p id="3ef7" class="pw-post-body-paragraph jy jz iq ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated">对托管的Kubernetes服务的影响很小，很容易升级节点，使其能够在不同的运行时环境中工作。<br/>目前，大多数提供商正致力于为旧集群提供舒适的过渡。</p><blockquote class="lu lv lw"><p id="9ba1" class="jy jz lx ka b kb kc kd ke kf kg kh ki ly kk kl km lz ko kp kq ma ks kt ku kv ij bi translated">比如<br/>在谷歌这个功能已经内置了<br/><a class="ae mg" href="https://cloud.google.com/kubernetes-engine/docs/concepts/using-containerd." rel="noopener ugc nofollow" target="_blank">https://cloud . Google . com/kubernetes-engine/docs/concepts/using-containerd。</a></p><p id="aa6f" class="jy jz lx ka b kb kc kd ke kf kg kh ki ly kk kl km lz ko kp kq ma ks kt ku kv ij bi translated">在AKS中，“Containerd”已经自动安装。</p></blockquote><h1 id="06f6" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">对本地集群的影响</h1><p id="b4f6" class="pw-post-body-paragraph jy jz iq ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated">Kubernetes On-prem的影响更大，因为您需要将所有集群服务器的运行时环境替换为新的容器运行时<strong class="ka ir"> CRI </strong>批准的组件，如:</p><blockquote class="lu lv lw"><p id="4da7" class="jy jz lx ka b kb kc kd ke kf kg kh ki ly kk kl km lz ko kp kq ma ks kt ku kv ij bi translated">-包含</p><p id="0bc3" class="jy jz lx ka b kb kc kd ke kf kg kh ki ly kk kl km lz ko kp kq ma ks kt ku kv ij bi translated">- CRI-O</p></blockquote><p id="059b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这一转换过程确实会比托管服务花费更多的时间(取决于您的集群的大小和复杂性),但也不会更复杂。</p><h1 id="49a3" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">结论</h1><p id="105b" class="pw-post-body-paragraph jy jz iq ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated">你没有什么可担心的！</p><ol class=""><li id="827b" class="mh mi iq ka b kb kc kf kg kj mj kn mk kr ml kv mm mn mo mp bi translated">您可以继续使用Docker作为您的主要图像构建工具。</li></ol><p id="8802" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">2.在Kubernetes版本弃用Docker容器引擎之前，您还有一年多的时间，因此您有足够的时间来准备这一微小的变化。<br/> <br/> 3。最终，这是Kubernetes生态系统中的一个小变化，将带来更高的性能并防止未来的故障。</p><p id="a4ee" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">别担心，一切都很好:)</p><p id="2c96" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">希望对你有帮助，</p><p id="6769" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">或者妈妈</p><p id="1571" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae mg" href="http://www.linkedin.com/in/ormaman" rel="noopener ugc nofollow" target="_blank">www.linkedin.com/in/ormaman</a>Orm@sela.co.il<br/></p></div></div>    
</body>
</html>