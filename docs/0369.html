<html>
<head>
<title>Integrating Firebase with a Stencil Built PWA</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将Firebase与模板构建的PWA集成在一起</h1>
<blockquote>原文：<a href="https://itnext.io/integrating-firebase-with-a-stencil-built-pwa-865d7800b5e6?source=collection_archive---------4-----------------------#2018-02-27">https://itnext.io/integrating-firebase-with-a-stencil-built-pwa-865d7800b5e6?source=collection_archive---------4-----------------------#2018-02-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="68b1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kl" href="https://www.linkedin.com/cws/share?url=https%3A%2F%2Fitnext.io%2Fintegrating-firebase-with-a-stencil-built-pwa-865d7800b5e6" rel="noopener ugc nofollow" target="_blank"> <em class="km">点击这里在LinkedIn </em>上分享这篇文章</a></p><p id="ce76" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一些应用程序仅依靠本地数据来提供出色的用户体验。我个人不知道那些是什么app，但我确定它们是存在的。但一个常见的经验是，当你构建一个移动应用程序时，你会遇到一个需要开始将后端集成到该应用程序中的点。您可以构建自己的后端，但这可能需要大量的时间和经验，而您可能没有。取而代之的是firebase，一个完全构建的后端即服务，它使得将后端集成到你的应用程序中变得相对容易。</p><h1 id="a2bd" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">Firebase实时数据库</h1><blockquote class="ll lm ln"><p id="ac44" class="jn jo km jp b jq jr js jt ju jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj kk ij bi translated"><em class="iq">Firebase实时数据库是一个云托管的NoSQL数据库，可以让你在用户之间实时存储和同步数据。—火基</em></p></blockquote><p id="65e8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Firebase的实时数据库非常强大，消除了为应用程序构建RESTFull后端的整个过程。所以让我们开始将它添加到我们的应用程序中。</p><p id="1e38" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">配置Firebase </strong></p><p id="a325" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，你需要注册并启动一个firebase项目。一旦你注册了firebase，进入你的仪表板，然后“添加一个项目”</p><p id="267a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi">‍</p><figure class="ls lt lu lv gt lw gh gi paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="gh gi lr"><img src="../Images/e2baff5101b85be9867406c143f24c61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*QpS6bj-IVl-Qh4Sr.png"/></div></div></figure><p id="1188" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">向您的Firebase帐户添加一个项目</p><p id="23de" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在此之后，应该有一个简单的访问按钮，上面写着“将Firebase添加到您的Web应用程序中”。单击该按钮，您应该会看到如下所示的一些配置详细信息。</p><figure class="ls lt lu lv gt lw"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="f7ac" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这种配置很重要，但这也是我们的配置过程不同于标准web应用程序配置的地方。</p><p id="aed1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi">‍</p><h1 id="89b8" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">用Firebase配置PWA</h1><p id="617e" class="pw-post-body-paragraph jn jo iq jp b jq mf js jt ju mg jw jx jy mh ka kb kc mi ke kf kg mj ki kj kk ij bi translated">我们不是按照web应用程序文档来设置firebase，而是按照类似的过程来设置node.js，因为它们使用模块导入和npm模块。</p><p id="cb46" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，在web应用程序的父目录中，使用以下命令安装firebase</p><pre class="ls lt lu lv gt mk ml mm mn aw mo bi"><span id="ec70" class="mp ko iq ml b gy mq mr l ms mt">npm install --save firebase</span></pre><p id="cf97" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，在模板项目的入口点文件中(对我来说，入口点是ionic-pwa-toolkit项目中的my-app.tsx)，我们将导入firebase并创建一个配置文件来存储我们的配置。</p><figure class="ls lt lu lv gt lw"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="66cc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">**重要说明，使用新的TypeScript 2.7导入语句导入firebase。我花了一段时间才明白。</p><pre class="ls lt lu lv gt mk ml mm mn aw mo bi"><span id="14f6" class="mp ko iq ml b gy mq mr l ms mt"><strong class="ml ir">import firebase from ‘firebase’</strong></span></pre><p id="7406" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">而不是</p><pre class="ls lt lu lv gt mk ml mm mn aw mo bi"><span id="451b" class="mp ko iq ml b gy mq mr l ms mt"><strong class="ml ir">import * as firebase from ‘firebase’</strong></span></pre><p id="96f7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，您可以在这段代码中看到，我正在从一个名为config.js的文件中导入我的配置。我们这样做是因为通常来说，将您的配置分离出来是一种很好的做法，这样我们就可以从源代码控制中删除我们的配置细节，这样我们就可以使我们的应用程序开源。</p><p id="2f5f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为此，在项目的“helpers”文件夹中，创建一个名为config.ts的文件，并添加以下代码(以及firebase配置细节)。</p><figure class="ls lt lu lv gt lw"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="65fc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们应该已经配置好了开始使用firebase的一切！</p><h1 id="e47e" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">实时数据库</h1><p id="bf64" class="pw-post-body-paragraph jn jo iq jp b jq mf js jt ju mg jw jx jy mh ka kb kc mi ke kf kg mj ki kj kk ij bi translated">现在一切都配置好了，让我们添加一些真正的示例代码。我一直在开发一个样例应用程序，它有一个工作板，人们可以在那里为他们喜欢的工作投票，它反映了reddit / hacker news上的投票过程。我们将以此为例来展示我们能做些什么。</p><figure class="ls lt lu lv gt lw gh gi paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="gh gi mu"><img src="../Images/e9a32a806af1a3bc8b8ca76266b2d114.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pZc9zdZBmr_b4ikS.png"/></div></div></figure><p id="7965" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">工作清单示例</strong></p><p id="154b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在不要讨厌我的设计，因为我从来没有真正学会如何画东西。在我们的工作列表应用程序中，有一个我们想要实现的投票系统，当其他人对工作进行投票时，我们想要监听并更新我们对每个工作列表的“分数”。为此，我们将在模板组件的componentDidLoad生命周期事件期间附加firebase侦听器。</p><figure class="ls lt lu lv gt lw"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="039f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该代码侦听作业上的firebase事件，并对特定项目的投票数进行统计。</p><h1 id="cadb" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">使用PWA的更多Firebase</h1><p id="deb1" class="pw-post-body-paragraph jn jo iq jp b jq mf js jt ju mg jw jx jy mh ka kb kc mi ke kf kg mj ki kj kk ij bi translated">Firebase是一个非常强大的工具，可以添加到你的模板项目中，我知道我对我的实现非常满意。</p><p id="c191" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你想了解更多关于利用firebase的其他特性，或者想更深入地了解如何在你的下一个PWA中实现firebase，一定要查看我的课程“开始一个项目”。在这两个PWA课程中，我们将讨论如何在您的web应用程序中实现firebase。</p></div><div class="ab cl mv mw hu mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="ij ik il im in"><p id="64fe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="km">最初发表于</em><a class="ae kl" href="https://www.pwatoday.com/post/integrating-firebase-with-a-stencil-built-pwa" rel="noopener ugc nofollow" target="_blank">T5【www.pwatoday.com】</a><em class="km">。</em></p></div></div>    
</body>
</html>