<html>
<head>
<title>Angular 10 Material Date Picker with Calendar and Date Range</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带日历和日期范围的角度10材料日期选择器</h1>
<blockquote>原文：<a href="https://itnext.io/angular-10-material-date-picker-with-calendar-and-date-range-dd251ede9a14?source=collection_archive---------3-----------------------#2020-08-13">https://itnext.io/angular-10-material-date-picker-with-calendar-and-date-range-dd251ede9a14?source=collection_archive---------3-----------------------#2020-08-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/6f26b86ab3e57b3028b28d465868368d.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/0*75PpLfTuLqUsVSTU.png"/></div></figure><p id="2730" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">Angular 10最近已经发布，并像任何新的主要版本一样引入了一些新功能。新功能之一是将<strong class="jw ir">日期范围</strong>功能添加到Angular Material的日期选择器组件中。</p><p id="28ff" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在整个教程中，我们将学习如何使用<code class="fe ks kt ku kv b">mat-datepicker</code>指令创建一个基本的材料日期选择器，然后如何使用Angular 10材料中新的<code class="fe ks kt ku kv b">mat-date-range-picker</code>指令创建一个具有日期范围的选择器。</p><p id="1a9c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们还将学习如何使用过滤函数<br/>和<code class="fe ks kt ku kv b">&lt;input&gt;</code>、<code class="fe ks kt ku kv b">&lt;mat-datepicker-toggle&gt;</code>和<code class="fe ks kt ku kv b">&lt;mat-datepicker&gt;</code>元素上可用的<code class="fe ks kt ku kv b">disabled</code>属性来禁用特定日期，从而使用<code class="fe ks kt ku kv b">input</code>字段的<code class="fe ks kt ku kv b">matDatepickerFilter</code>属性来禁用元素。</p><p id="9284" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们将了解可以从<code class="fe ks kt ku kv b">input</code>字段触发的材料日期选择器事件，即<code class="fe ks kt ku kv b">dateInput</code>和<code class="fe ks kt ku kv b">dateChange</code>事件，然后了解如何使用<code class="fe ks kt ku kv b">input</code>字段的<code class="fe ks kt ku kv b">min</code>和<code class="fe ks kt ku kv b">max</code>属性来设置Angular 10应用程序用户可以选择的日期范围。</p><p id="c89e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">最后，我们将学习如何使用<code class="fe ks kt ku kv b">&lt;mat-datepicker&gt;</code>指令的<code class="fe ks kt ku kv b">startView</code>属性更改日历开始视图，该属性可用于显示一个<em class="kw">月</em>、<em class="kw">年</em>或<em class="kw">多年</em>供用户选择，以及如何使用<code class="fe ks kt ku kv b">startAt</code>属性设置<code class="fe ks kt ku kv b">&lt;mat-datepicker&gt;</code>的开始日期。</p><p id="aca2" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">作为先决条件，您需要安装Angular 10 CLI，并使用以下命令生成新的Angular 10项目:</p><pre class="kx ky kz la gt lb kv lc ld aw le bi"><span id="834c" class="lf lg iq kv b gy lh li l lj lk">$ ng new AngularMaterialDateRangePicker #? Would you like to add Angular routing? No<br/>#? Which stylesheet format would you like to use? CSS</span></pre><p id="9a54" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">系统会提示您选择路径和样式表格式，您认为合适就回答它们，因为这不会影响已测试的特性。</p><p id="d4eb" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">接下来，您需要在项目中设置角度材质。这可以通过以下命令轻松完成:</p><pre class="kx ky kz la gt lb kv lc ld aw le bi"><span id="6ef3" class="lf lg iq kv b gy lh li l lj lk">$ ng add @angular/material</span></pre><p id="678a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">接下来，您需要从列表中为项目选择一个材质主题:</p><pre class="kx ky kz la gt lb kv lc ld aw le bi"><span id="a331" class="lf lg iq kv b gy lh li l lj lk">? Choose a prebuilt theme name, or "custom" for a custom theme: (Use arrow keys)<br/>&gt; Indigo/Pink [ Preview: <a class="ae ll" href="https://material.angular.io?theme=indigo-pink" rel="noopener ugc nofollow" target="_blank">https://material.angular.io?theme=indigo-pink</a> ]<br/> Deep Purple/Amber [ Preview: <a class="ae ll" href="https://material.angular.io?theme=deeppurple-amber" rel="noopener ugc nofollow" target="_blank">https://material.angular.io?theme=deeppurple-amber</a> ]<br/> Pink/Blue Grey [ Preview: <a class="ae ll" href="https://material.angular.io?theme=pink-bluegrey" rel="noopener ugc nofollow" target="_blank">https://material.angular.io?theme=pink-bluegrey</a> ]<br/> Purple/Green [ Preview: <a class="ae ll" href="https://material.angular.io?theme=purple-green" rel="noopener ugc nofollow" target="_blank">https://material.angular.io?theme=purple-green</a> ]<br/> Custom</span></pre><p id="ed9d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">接下来，对材料排版样式说“是”或“否”:</p><pre class="kx ky kz la gt lb kv lc ld aw le bi"><span id="f9b6" class="lf lg iq kv b gy lh li l lj lk">? Set up global Angular Material typography styles? No</span></pre><p id="ca20" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">接下来，您需要选择启用浏览器动画支持:</p><pre class="kx ky kz la gt lb kv lc ld aw le bi"><span id="1e87" class="lf lg iq kv b gy lh li l lj lk">? Set up browser animations for Angular Material? Yes</span></pre><p id="4873" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">就是这样，我们为Angular 10项目增加了物质支持。</p><p id="87a1" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在这一步，您可以使用以下命令在web浏览器中运行Angular 10应用程序:</p><pre class="kx ky kz la gt lb kv lc ld aw le bi"><span id="bdf3" class="lf lg iq kv b gy lh li l lj lk">$ ng serve --open</span></pre><p id="85c6" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在，您已经准备好使用材料日期选取器的日期范围功能。</p><p id="e0e4" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在Angular 10项目中使用Material UI组件之前，需要在应用程序的模块中导入所需组件的模块。</p><p id="7a80" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">角度材料日期选择器可与组件模板中的<code class="fe ks kt ku kv b">mat-datepicker</code>或<code class="fe ks kt ku kv b">mat-date-range-picker</code>指令一起使用。为了使用物料日期选择器，我们首先需要导入<code class="fe ks kt ku kv b">MatDatePicker</code>模块。</p><p id="4145" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">接下来，您需要在您的主模块中导入<code class="fe ks kt ku kv b">MatDatepickerModule</code>、<code class="fe ks kt ku kv b">MatNativeDateModule</code>和<code class="fe ks kt ku kv b">MatInputModule</code>。打开<code class="fe ks kt ku kv b">src/app/app.module.ts</code>文件，更新如下:</p><pre class="kx ky kz la gt lb kv lc ld aw le bi"><span id="9a07" class="lf lg iq kv b gy lh li l lj lk">//src/ap/app.module.ts<br/>import { BrowserModule } from '@angular/platform-browser';<br/>import { NgModule } from '@angular/core';<br/><br/>import { AppRoutingModule } from './app-routing.module';<br/>import { AppComponent } from './app.component';<br/><br/>import { BrowserAnimationsModule } from '@angular/platform-browser/animations';<br/><br/>import { <br/>  MatDatepickerModule,<br/>  MatNativeDateModule,<br/>  MatInputModule<br/>} from '@angular/material';<br/><br/>@NgModule({<br/>  declarations: [<br/>    AppComponent<br/>  ],<br/>  imports: [<br/>    BrowserModule,<br/>    AppRoutingModule,<br/>    BrowserAnimationsModule,<br/><br/>    MatNativeDateModule,<br/>    MatInputModule,<br/>    MatDatepickerModule<br/>  ],<br/>  providers: [],<br/>  bootstrap: [AppComponent]<br/>})<br/>export class AppModule { }</span></pre><p id="96b3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们从实现一个简单的基本日期选择器开始。打开<code class="fe ks kt ku kv b">src/app/app.component.html</code>文件并添加以下标记:</p><p id="c03b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如您所见，材料日期选择器是使用一个<code class="fe ks kt ku kv b">input</code>字段和一个日历弹出菜单实现的。我们使用<code class="fe ks kt ku kv b">input</code>元素上的<code class="fe ks kt ku kv b">matDatepicker</code>属性，通过模板引用变量(<code class="fe ks kt ku kv b">#picker</code>)将其连接到<code class="fe ks kt ku kv b">mat-datepicker</code>指令。</p><p id="a2ae" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">您也可以使用<code class="fe ks kt ku kv b">startAt</code>属性设置<code class="fe ks kt ku kv b">&lt;mat-datepicker&gt;</code>的开始日期，如下所示:</p><p id="30bd" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">确保在组件中定义了一个<code class="fe ks kt ku kv b">startDate</code>变量，如下所示:</p><pre class="kx ky kz la gt lb kv lc ld aw le bi"><span id="b719" class="lf lg iq kv b gy lh li l lj lk">startDate = new Date(1990, 0, 1);</span></pre><p id="8f25" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">您也可以使用<code class="fe ks kt ku kv b">&lt;mat-datepicker&gt;</code>的<code class="fe ks kt ku kv b">startView</code>属性更改日历开始视图，该属性可用于显示<em class="kw">月</em>、<em class="kw">年或多年供选择，默认为</em>月:</p><pre class="kx ky kz la gt lb kv lc ld aw le bi"><span id="e2b4" class="lf lg iq kv b gy lh li l lj lk">startView="year";<br/>startView="multi-year";</span></pre><p id="f1be" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">您可以使用<code class="fe ks kt ku kv b">input</code>字段的<code class="fe ks kt ku kv b">min</code>和<code class="fe ks kt ku kv b">max</code>属性设置可选择的日期范围，如下所示:</p><p id="6433" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><code class="fe ks kt ku kv b">minDate</code>和<code class="fe ks kt ku kv b">maxDate</code>变量需要在相关组件的类中用期望的日期值定义:</p><pre class="kx ky kz la gt lb kv lc ld aw le bi"><span id="a5ba" class="lf lg iq kv b gy lh li l lj lk">minDate = new Date(1989, 2, 1);<br/>maxDate = new Date(1999, 3, 3);</span></pre><p id="76c8" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">物料日期选择器提供了两个可以从<code class="fe ks kt ku kv b">input</code>字段触发的事件，分别是<code class="fe ks kt ku kv b">(dateInput)</code>和<code class="fe ks kt ku kv b">(dateChange)</code>:</p><ul class=""><li id="171e" class="lm ln iq jw b jx jy kb kc kf lo kj lp kn lq kr lr ls lt lu bi translated">当通过在输入字段中键入日期或从日历中选择一个日期来更改值时，触发<code class="fe ks kt ku kv b">dateInput</code></li><li id="d1f2" class="lm ln iq jw b jx lv kb lw kf lx kj ly kn lz kr lr ls lt lu bi translated"><code class="fe ks kt ku kv b">dateChange</code>在用户更改输入字段中的值或日历中的日期被更改后模糊触发。</li></ul><p id="8e82" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这是一个例子:</p><p id="c37a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">您需要在相应组件的类中定义<code class="fe ks kt ku kv b">inputEvent</code>和<code class="fe ks kt ku kv b">changeEvent</code>方法，如下所示:</p><pre class="kx ky kz la gt lb kv lc ld aw le bi"><span id="dd6e" class="lf lg iq kv b gy lh li l lj lk">inputEvent(event){<br/> console.log(event.value);<br/>}<br/>changeEvent(event){<br/> console.log(event.value);<br/>}</span></pre><p id="8f2c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">您可以使用<code class="fe ks kt ku kv b">input</code>字段的<code class="fe ks kt ku kv b">matDatepickerFilter</code>属性来禁用特定的日期，使用过滤函数在日历弹出窗口中为日期返回true或false。如果该函数对某个日期返回false，则该函数将被禁用，用户不能选择该函数:</p><p id="ac7e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">您需要在相应组件的类中定义过滤函数。例如:</p><pre class="kx ky kz la gt lb kv lc ld aw le bi"><span id="9b3d" class="lf lg iq kv b gy lh li l lj lk">fn = (aDate: Date): boolean =&gt; {<br/> const date = aDate.getDate(); <br/> // Odd dates are disabled.<br/> return date % 2 == 1;<br/> }</span></pre><p id="beb2" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">您可以使用<code class="fe ks kt ku kv b">&lt;input&gt;</code>、<code class="fe ks kt ku kv b">&lt;mat-datepicker-toggle&gt;</code>和<code class="fe ks kt ku kv b">&lt;mat-datepicker&gt;</code>元素上可用的<code class="fe ks kt ku kv b">disabled</code>属性来禁用元素并使其为只读:</p><p id="fa53" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在让我们看看如何将日期选择器组件与范围特性结合使用。首先，运行以下命令生成一个新的角度分量:</p><pre class="kx ky kz la gt lb kv lc ld aw le bi"><span id="fb05" class="lf lg iq kv b gy lh li l lj lk">$ ng g c date-range-picker-example</span></pre><p id="5f1e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">接下来，打开<code class="fe ks kt ku kv b">src/app/date-range-picker-example/date-range-picker-example.html</code>文件，并按如下方式更新它:</p><p id="d58e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">接下来，打开<code class="fe ks kt ku kv b">src/app/app.component.html</code>文件并包含组件，如下所示:</p><p id="c74e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在本教程中，我们已经了解了如何使用Angular 10中新的日期范围特性中的材质日期选择器。</p><p id="9e88" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们已经看到了如何使用<code class="fe ks kt ku kv b">mat-datepicker</code>指令创建一个基本的材料日期选择器，然后如何使用Angular 10材料中新的<code class="fe ks kt ku kv b">mat-date-range-picker</code>指令创建一个带有日期范围的选择器。</p><p id="7285" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们学习了如何使用过滤函数<br/>和<code class="fe ks kt ku kv b">&lt;input&gt;</code>、<code class="fe ks kt ku kv b">&lt;mat-datepicker-toggle&gt;</code>和<code class="fe ks kt ku kv b">&lt;mat-datepicker&gt;</code>元素上可用的<code class="fe ks kt ku kv b">disabled</code>属性，使用<code class="fe ks kt ku kv b">input</code>字段的<code class="fe ks kt ku kv b">matDatepickerFilter</code>属性来禁用特定日期，以使元素被禁用并且是只读的。</p><p id="b82f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们了解了可以从<code class="fe ks kt ku kv b">input</code>字段触发的材料日期选择器事件，即<code class="fe ks kt ku kv b">(dateInput)</code>和<code class="fe ks kt ku kv b">(dateChange)</code>，以及如何使用<code class="fe ks kt ku kv b">input</code>字段的<code class="fe ks kt ku kv b">min</code>和<code class="fe ks kt ku kv b">max</code>属性来设置Angular 10应用程序用户可以选择的日期范围。</p><p id="6828" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">最后，我们还学习了如何使用&lt; mat-datepicker &gt;的<code class="fe ks kt ku kv b">startView</code>属性更改日历开始视图，该属性可用于显示月份、年份或多年供选择，以及如何使用<strong class="jw ir"> startAt </strong>属性在<code class="fe ks kt ku kv b">&lt;mat-datepicker&gt;</code>设置开始日期。</p><p id="5568" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这篇文章最初发表在<a class="ae ll" href="https://www.techiediaries.com/angular-10-material-date-picker-calendar-range/" rel="noopener ugc nofollow" target="_blank">科技杂志</a>。</p></div></div>    
</body>
</html>