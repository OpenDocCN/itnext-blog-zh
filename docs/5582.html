<html>
<head>
<title>What’s new in MicroK8s v1.21?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">MicroK8s v1.21有什么新功能？</h1>
<blockquote>原文：<a href="https://itnext.io/whats-new-in-microk8s-v1-21-5b84c27d85db?source=collection_archive---------0-----------------------#2021-04-09">https://itnext.io/whats-new-in-microk8s-v1-21-5b84c27d85db?source=collection_archive---------0-----------------------#2021-04-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="5975" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Kubernetes <em class="kl"> v1.21 </em>出来了！这个版本中有很多增强功能，但是这个帖子不是关于新的Kubernetes goodies！如果您对那些前往K8s <a class="ae km" href="https://www.kubernetes.dev/resources/release/" rel="noopener ugc nofollow" target="_blank">发布页面</a>和/或试驾<em class="kl"> v1.21 </em>感兴趣，请:</p><pre class="kn ko kp kq gt kr ks kt ku aw kv bi"><span id="bf62" class="kw kx iq ks b gy ky kz l la lb">sudo snap install microk8s --classic --channel=1.21/stable</span></pre><p id="1c95" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这篇文章是关于进入<a class="ae km" href="https://microk8s.io/" rel="noopener ugc nofollow" target="_blank"> MicroK8s </a>的额外工作，面向工作站、edge和CI/CD工作流的轻量级Kubernetes发行版。</p><figure class="kn ko kp kq gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi lc"><img src="../Images/62df319bfed612f8a93c240934fd8581.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DPP37Alz815qUfw6QicZCQ.png"/></div></div></figure><h2 id="a670" class="kw kx iq bd lk ll lm dn ln lo lp dp lq jy lr ls lt kc lu lv lw kg lx ly lz ma bi translated">那么…自从上一个版本发布以来，我们都做了些什么？</h2><ul class=""><li id="da01" class="mb mc iq jp b jq md ju me jy mf kc mg kg mh kk mi mj mk ml bi translated">在<em class="kl"> v1.21 </em>中，我们有一个关于多节点集群存储的更好的故事。我们引入了一个新的插件来部署<a class="ae km" href="https://openebs.io/" rel="noopener ugc nofollow" target="_blank"> OpenEBS </a>。试一试，<code class="fe mm mn mo ks b">microk8s enable openebs</code>。<a class="ae km" href="https://microk8s.io/docs/addon-openebs" rel="noopener ugc nofollow" target="_blank"> OpenEBS </a>使用iscsi设备，跨节点复制数据块。这有效地为多节点集群提供了可靠的存储解决方案。如果你对OpenEBS不感兴趣，你会很高兴地发现我们增强了与CSI插件的兼容性。很多CSI插件都假设kubelet把文件放在<code class="fe mm mn mo ks b">/var/lib/kubelet</code>下。对于路径为<code class="fe mm mn mo ks b">/var/snap/microk8s/common/var/lib/kubelet</code>的MicroK8s来说，情况并非如此。不幸的是，大多数CSI掌舵图不允许你设置库伯莱路径。因此，在snap install中，MicroK8s会将<code class="fe mm mn mo ks b">/var/lib/kubelet</code>链接到MicroK8s kubelet位置，假设您的系统中没有其他K8s发行版。</li><li id="359e" class="mb mc iq jp b jq mp ju mq jy mr kc ms kg mt kk mi mj mk ml bi translated">大量的工作已经进入了数据存储库。Mathieu，新的dqlite维护者解决了内存泄漏和数据一致性问题，并且正在进行更多的改进！对这个项目的未来感到兴奋。</li><li id="4850" class="mb mc iq jp b jq mp ju mq jy mr kc ms kg mt kk mi mj mk ml bi translated"><code class="fe mm mn mo ks b">microk8s enable gpu</code>插件现在将使用新的英伟达GPU运营商。这提高了该插件的稳定性和兼容性，因为包括nVidia驱动程序在内的所有软件依赖现在都由运营商负责。这种方法目前可能有些粗糙，所以请确保您检查了<a class="ae km" href="https://docs.nvidia.com/datacenter/cloud-native/gpu-operator/release-notes.html#operator-known-limitations" rel="noopener ugc nofollow" target="_blank">已知问题</a>。这是应该走的路！</li><li id="e974" class="mb mc iq jp b jq mp ju mq jy mr kc ms kg mt kk mi mj mk ml bi translated"><a class="ae km" href="https://www.openfaas.com/" rel="noopener ugc nofollow" target="_blank"> OpenFaaS </a>是一个新的附加组件，<code class="fe mm mn mo ks b">microk8s enable openfaas</code>。现在，您可以用一个命令安装流行的无服务器框架。</li><li id="4db7" class="mb mc iq jp b jq mp ju mq jy mr kc ms kg mt kk mi mj mk ml bi translated"><code class="fe mm mn mo ks b">microk8s join</code>现在验证它联系的节点的证书。形成簇<a class="ae km" href="https://microk8s.io/docs/clustering" rel="noopener ugc nofollow" target="_blank">是一个两步过程</a>。您在集群中的一个节点上调用<code class="fe mm mn mo ks b">microk8s add-node</code>,这会打印出您需要在加入节点上使用的连接字符串。连接字符串现在包括集群中节点的SSL证书的指纹。</li><li id="f711" class="mb mc iq jp b jq mp ju mq jy mr kc ms kg mt kk mi mj mk ml bi translated">许多插件得到了更新，看看<a class="ae km" href="https://discuss.kubernetes.io/t/microk8s-v1-21-released/15476" rel="noopener ugc nofollow" target="_blank">发布公告</a>的完整列表和版本。非常感谢社区成员，特别是<a class="ae km" href="https://github.com/balchua" rel="noopener ugc nofollow" target="_blank"> @balchua </a>帮助保持MicroK8s的最新状态。</li><li id="7f96" class="mb mc iq jp b jq mp ju mq jy mr kc ms kg mt kk mi mj mk ml bi translated">其他你可能永远不会注意到的更新包括containerd升级到v1.4.4和core升级到core18。通过将所有Kubernetes服务作为go例程而不是systemd服务运行，MicroK8s的内存占用减少了。</li></ul><p id="78ac" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在你知道是什么让我们忙碌，希望你能理解Kubernetes发行版带来了什么。</p><h2 id="ac95" class="kw kx iq bd lk ll lm dn ln lo lp dp lq jy lr ls lt kc lu lv lw kg lx ly lz ma bi translated">总结</h2><p id="d3b6" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mu ka kb kc mv ke kf kg mw ki kj kk ij bi translated">这个版本有很大的潜力。它集合了许多有用的生态系统组件，您需要掌握这些组件才能精通Kubernetes。希望你喜欢使用它！</p><p id="2504" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">非常感谢<a class="ae km" href="https://github.com/balchua" rel="noopener ugc nofollow" target="_blank"> @balchua </a>和其他社区成员让这次发布成为可能。谢谢，<a class="ae km" href="https://github.com/tbertenshaw" rel="noopener ugc nofollow" target="_blank"> @tbertenshaw </a>，<a class="ae km" href="https://github.com/angelnu" rel="noopener ugc nofollow" target="_blank"> @angelnu </a>，<a class="ae km" href="https://github.com/petermetz" rel="noopener ugc nofollow" target="_blank"> @petermetz </a>，<a class="ae km" href="https://github.com/lazyoldbear" rel="noopener ugc nofollow" target="_blank"> @lazyoldbear </a>，<a class="ae km" href="https://github.com/luciimon" rel="noopener ugc nofollow" target="_blank">@ luci mon</a>，<a class="ae km" href="https://github.com/galgalesh" rel="noopener ugc nofollow" target="_blank">@ galgalgalesh</a>，<a class="ae km" href="https://github.com/barosl" rel="noopener ugc nofollow" target="_blank"> @barosl </a>。</p><p id="444c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">期待您的反馈。查看我们的<a class="ae km" href="https://github.com/ubuntu/microk8s" rel="noopener ugc nofollow" target="_blank">回购</a>，并在#microk8s频道的<a class="ae km" href="http://slack.kubernetes.io/" rel="noopener ugc nofollow" target="_blank"> Kubernetes Slack </a>给我们留言！</p><p id="fbbf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">干杯！</p><h1 id="715a" class="mx kx iq bd lk my mz na ln nb nc nd lq ne nf ng lt nh ni nj lw nk nl nm lz nn bi translated">链接</h1><div class="no np gp gr nq nr"><a href="https://www.kubernetes.dev/resources/release/" rel="noopener  ugc nofollow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd ir gy z fp nw fr fs nx fu fw ip bi translated">Kubernetes 1.21版本信息</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">关于当前发布周期的信息，包括重要日期、发布团队联系信息、跟踪…</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">www.kubernetes.dev</p></div></div></div></a></div><div class="no np gp gr nq nr"><a href="https://microk8s.io/" rel="noopener  ugc nofollow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd ir gy z fp nw fr fs nx fu fw ip bi translated">MicroK8s -面向开发人员、edge和物联网的零运营Kubernetes | MicroK8s</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">面向开发人员、云、集群、工作站、边缘和物联网的低运营成本、最小生产量Kubernetes。为…选择平台</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">microk8s.io</p></div></div><div class="oa l"><div class="ob l oc od oe oa of li nr"/></div></div></a></div><div class="no np gp gr nq nr"><a href="https://openebs.io/" rel="noopener  ugc nofollow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd ir gy z fp nw fr fs nx fu fw ip bi translated">OpenEBS - Kubernetes存储简化版。</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">OpenEBS构建在Kubernetes之上，使有状态应用程序能够轻松访问动态本地PV或复制PV。由…</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">openebs.io</p></div></div><div class="oa l"><div class="og l oc od oe oa of li nr"/></div></div></a></div><div class="no np gp gr nq nr"><a href="https://microk8s.io/docs/addon-openebs" rel="noopener  ugc nofollow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd ir gy z fp nw fr fs nx fu fw ip bi translated">micro k8s-Addon:open EBS | micro k8s</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">首页:来自MicroK8s的https://openebs.io/版本:1.21+支持的arch: amd64 OpenEBS，是部署最广泛的…</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">microk8s.io</p></div></div></div></a></div><div class="no np gp gr nq nr"><a href="https://dqlite.io/" rel="noopener  ugc nofollow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd ir gy z fp nw fr fs nx fu fw ip bi translated">Dqlite -高可用性SQLite | Dqlite</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">Dqlite是一个快速、嵌入式、持久的SQL数据库，具有Raft共识，非常适合容错物联网和边缘…</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">dqlite.io</p></div></div></div></a></div><div class="no np gp gr nq nr"><a href="https://docs.nvidia.com/datacenter/cloud-native/gpu-operator/release-notes.html#operator-known-limitations" rel="noopener  ugc nofollow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd ir gy z fp nw fr fs nx fu fw ip bi translated">发行说明- NVIDIA云原生技术文档</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">修正了NVIDIA Container Toolkit 1.4.5与containerd和空containerd配置一起使用时的问题…</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">docs.nvidia.com</p></div></div></div></a></div></div></div>    
</body>
</html>