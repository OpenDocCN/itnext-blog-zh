<html>
<head>
<title>How my Raspberry Pi listens to the stars</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我的树莓皮是如何听星星的</h1>
<blockquote>原文：<a href="https://itnext.io/how-my-raspberry-pi-listens-to-the-stars-538aa5f77e87?source=collection_archive---------7-----------------------#2019-03-17">https://itnext.io/how-my-raspberry-pi-listens-to-the-stars-538aa5f77e87?source=collection_archive---------7-----------------------#2019-03-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/8ea2f21b0a50f601fdd3f4cbf0644b2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cnqL4VSvjmd0xPUWHr22_A.jpeg"/></div></div></figure><blockquote class="jy jz ka"><p id="3143" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">TL；DR:我分享你如何将多余的计算资源——比如树莓派——借给全球科学界；利用这个机会一路涉猎。</p></blockquote><h1 id="3bf3" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">单板计算机</h1><p id="d766" class="pw-post-body-paragraph kb kc iq ke b kf ly kh ki kj lz kl km ma mb kp kq mc md kt ku me mf kx ky kz ij bi translated">单板计算机(<strong class="ke ir"> SBC </strong>)如<a class="ae mg" href="https://www.raspberrypi.org/" rel="noopener ugc nofollow" target="_blank">树莓派</a>在过去的10年里变得非常流行。它们相对便宜(T5)、小巧(T6)、节能(T7)，并提供全功能的Linux或Android电脑。它们通常用于教育、研究、修补或建造智能房屋。</p><p id="e236" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">最近买了2台SBC，一台<a class="ae mg" href="https://www.raspberrypi.org/products/raspberry-pi-3-model-b-plus/" rel="noopener ugc nofollow" target="_blank">树莓Pi 3型号B+ </a>和一台<a class="ae mg" href="https://www.asus.com/uk/Single-Board-Computer/Tinker-Board-S/overview/" rel="noopener ugc nofollow" target="_blank">华硕修补板S </a>。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/85ebe2038fe10f1cd812befe53abd68b.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*ECTuMUZoVf_AZx7VCKsGfQ.jpeg"/></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk translated">树莓派3B+</figcaption></figure><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/65891c6fe6b41f734a1993e8d0ec1ad4.png" data-original-src="https://miro.medium.com/v2/resize:fit:604/format:webp/1*im71X9dFRgvBclBHzwUpfw.jpeg"/></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk translated">华硕修补板S</figcaption></figure><p id="f04b" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">我买它们是为了一个很快被放弃的项目🤷‍♂️.</p><p id="06f9" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">幸运的是，我很快在<a class="ae mg" href="https://www.slow-journalism.com/" rel="noopener ugc nofollow" target="_blank">延迟满足</a>中看到一篇关于寻找外星智慧(SETI)的文章。</p><h1 id="5216" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">外星智能探索</h1><p id="eafb" class="pw-post-body-paragraph kb kc iq ke b kf ly kh ki kj lz kl km ma mb kp kq mc md kt ku me mf kx ky kz ij bi translated">这个概念相对简单，大型射电望远镜指向天空，希望<strong class="ke ir">探测到外星智能发出的无线电信号</strong>。可以肯定的是，在我们的太阳附近没有其他智慧生命能够产生无线电信号。因此，假设，如果它们存在，<strong class="ke ir">这些信号将非常微弱</strong>。因此，要仔细梳理这些数据，寻找微弱无线电脉冲的踪迹，需要大量的处理能力。</p><h2 id="35d6" class="mr lb iq bd lc ms mt dn lg mu mv dp lk ma mw mx lo mc my mz ls me na nb lw nc bi translated">SETI@HOME</h2><p id="957d" class="pw-post-body-paragraph kb kc iq ke b kf ly kh ki kj lz kl km ma mb kp kq mc md kt ku me mf kx ky kz ij bi translated">SETI@HOME项目诞生于这样一个可怕的现实:世界上没有一所大学或研究所能够负担得起处理所有这些数据所需的超级计算机。</p><blockquote class="jy jz ka"><p id="effc" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果有可能使用公众中成千上万台闲置电脑中的一部分，会怎么样？</p></blockquote><p id="d1cb" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">我最近读到了谷歌、亚马逊和微软等公司使用的现代数据中心。他们运行的工作负载通常是数据密集型的，这意味着瓶颈通常在I/O(网络、磁盘、内存)而不是纯粹的CPU能力。这意味着硬件和软件工程师必须一起工作，以最大限度地减少机器之间的数据传输量，或者确保这种传输尽可能在本地进行。</p><blockquote class="jy jz ka"><p id="4a28" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这种工作量对于分布在互联网上的小型计算机网格来说是不切实际的。</p></blockquote><p id="1344" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">幸运的是，SETI@HOME中涉及的处理<strong class="ke ir">不是数据密集型的，并且相对容易并行</strong>。无线电信号被分割成小块的数据(&lt; 0.5 MB)，这些数据可以被发送到计算机进行分析(根据计算机的功能，这通常需要几个小时)。一旦完成，结果就会被SETI@HOME团队发回并汇总。你可以在这里找到它如何工作的细节<a class="ae mg" href="http://seticlassic.ssl.berkeley.edu/about_seti/about_seti_at_home_1.html" rel="noopener ugc nofollow" target="_blank">。</a></p><blockquote class="jy jz ka"><p id="44fb" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">卖了？我如何参与？</p></blockquote><h1 id="8320" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">BOINC</h1><p id="9d84" class="pw-post-body-paragraph kb kc iq ke b kf ly kh ki kj lz kl km ma mb kp kq mc md kt ku me mf kx ky kz ij bi translated"><a class="ae mg" href="https://boinc.berkeley.edu/" rel="noopener ugc nofollow" target="_blank">伯克利网络计算开放基础设施</a> (BOINC)是一个允许志愿者为科学(多个项目，不仅仅是SETI)提供计算能力的项目。</p><p id="efbb" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">安装在树莓派或华硕修补板上非常简单。它们都运行Debian Linux发行版的变体，BOINC可以使用标准的包管理器来安装:</p><pre class="mi mj mk ml gt nd ne nf ng aw nh bi"><span id="94e8" class="mr lb iq ne b gy ni nj l nk nl">sudo apt-get update<br/>sudo apt-get upgrade<br/><em class="kd">sudo apt-get install boinc</em></span></pre><p id="0bc3" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">一旦安装了BOINC，你可以加入SETI@HOME这样的特定项目，也可以使用<strong class="ke ir">账户管理器</strong>。客户经理是一个网站，它允许你搜索寻找志愿者的项目。我热衷于参与几个科学项目，所以我注册了一个这样的供应商BAM。</p><p id="b501" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">要使用账户管理器，您需要点击<code class="fe nm nn no ne b">View -&gt; Advanced View </code>，然后点击<code class="fe nm nn no ne b">Tools -&gt; Use account manager</code></p><p id="4cef" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">BOINC将与你的账户管理器同步，账户管理器将发送任务给你运行。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi np"><img src="../Images/793768cb09fc8be8aa68d694a92f4c24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6ocawCYxecX2Ga9jgC0s0g.png"/></div></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk translated">在BOINC上运行多个项目</figcaption></figure><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nq"><img src="../Images/7ccd06ede25b9c48e1f50949c81e0934.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hDHEwLaHVvjSPqCOdE_2Vg.png"/></div></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk translated">运行任务</figcaption></figure><p id="14ff" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">如果你不想把整台电脑都投入到这项任务中，BOINC会给你很多选项来限制工作量，比如:</p><ul class=""><li id="ee72" class="nr ns iq ke b kf kg kj kk ma nt mc nu me nv kz nw nx ny nz bi translated">限制BOINC可以使用的CPU时间或CPU内核的总量。</li><li id="2c8e" class="nr ns iq ke b kf oa kj ob ma oc mc od me oe kz nw nx ny nz bi translated">如果其他任务需要CPU，请关闭BOINC。</li><li id="48bd" class="nr ns iq ke b kf oa kj ob ma oc mc od me oe kz nw nx ny nz bi translated">安排BOINC一周中的哪一天和哪几个时间可以工作。</li></ul><h1 id="0d4f" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">功耗和成本</h1><p id="26f7" class="pw-post-body-paragraph kb kc iq ke b kf ly kh ki kj lz kl km ma mb kp kq mc md kt ku me mf kx ky kz ij bi translated">你可能想知道24/7全天候满负荷运行一个SBC要花多少钱。简短的回答是——很便宜。</p><p id="f85e" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">让我们离题进入<strong class="ke ir">能量</strong>和<strong class="ke ir">能量</strong>的概念，如果你已经熟悉它们就跳过。</p><h2 id="5cd9" class="mr lb iq bd lc ms mt dn lg mu mv dp lk ma mw mx lo mc my mz ls me na nb lw nc bi translated">动力和能源</h2><p id="f9bf" class="pw-post-body-paragraph kb kc iq ke b kf ly kh ki kj lz kl km ma mb kp kq mc md kt ku me mf kx ky kz ij bi translated">能量是一个普遍而抽象的概念，它描述了一个系统(机械、化学、电气等)所能做的功的数量。它用<code class="fe nm nn no ne b">Joule</code>、<code class="fe nm nn no ne b">kcal</code>(是的，就是你食物中的那些)或<code class="fe nm nn no ne b">W.h</code>(下面会详细介绍)来表达。</p><p id="64c5" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated"><strong class="ke ir">功率是一个系统在单位时间内能够产生/消耗</strong>(视视角而定)<strong class="ke ir"/>的能量的总量。我发现与更熟悉和相似的概念进行比较很有用:</p><ul class=""><li id="9ea8" class="nr ns iq ke b kf kg kj kk ma nt mc nu me nv kz nw nx ny nz bi translated"><strong class="ke ir">速度</strong>是单位时间的距离量，即<code class="fe nm nn no ne b">distance/time</code>。如果将平均速度乘以总时间，就得到<strong class="ke ir">行驶的总距离。</strong></li><li id="ccf2" class="nr ns iq ke b kf oa kj ob ma oc mc od me oe kz nw nx ny nz bi translated"><strong class="ke ir">电流</strong>(单位为安培<code class="fe nm nn no ne b">A</code>)是单位时间内的电荷量，即<code class="fe nm nn no ne b">charge/time</code>。如果你将平均电流乘以总时间，你就得到<strong class="ke ir">总电荷</strong>(这就是为什么电池容量通常用<code class="fe nm nn no ne b">A.h</code>来测量)</li><li id="67ff" class="nr ns iq ke b kf oa kj ob ma oc mc od me oe kz nw nx ny nz bi translated"><strong class="ke ir">功率</strong>是单位时间内的能量，即<code class="fe nm nn no ne b">energy/time</code>。如果你把平均功率乘以总时间，你就得到了总能量。这就是为什么你的电力供应商通常会按<code class="fe nm nn no ne b">kW.h</code>收费，这是一种测量你消耗能量的便捷方式。</li></ul><h2 id="4a5f" class="mr lb iq bd lc ms mt dn lg mu mv dp lk ma mw mx lo mc my mz ls me na nb lw nc bi translated">电力</h2><p id="bb2d" class="pw-post-body-paragraph kb kc iq ke b kf ly kh ki kj lz kl km ma mb kp kq mc md kt ku me mf kx ky kz ij bi translated">根据能源类型的不同，有许多计算功率和能量的公式。对于电源(准确地说是直流电流)，功率的公式是<code class="fe nm nn no ne b">P = U.I</code>，其中<code class="fe nm nn no ne b">U</code>是用<strong class="ke ir">伏特</strong>T8】表示的<strong class="ke ir">电势</strong>或张力，<code class="fe nm nn no ne b">I</code>是用<strong class="ke ir">安培</strong>T10】表示的<strong class="ke ir">电流</strong>。</p><p id="3447" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">为了测量我的SBCs消耗了多少功率，我购买了一个简单的USB设备，如下所示:</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi of"><img src="../Images/03acc0dc83a02abc4db56094c914720b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OXXsG3vldwMahPFxwddSJw.jpeg"/></div></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk translated">USB测试仪，小于10</figcaption></figure><p id="7921" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">你将设备插入电源，然后将SBC插入设备。它将监控电压和电流，可以计算瞬时功率以及流经设备的<strong class="ke ir">总能量</strong>(在<code class="fe nm nn no ne b">W.h</code>中)。</p><blockquote class="jy jz ka"><p id="9637" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果你想检查手机或其他设备的电池容量，这非常有用。</p></blockquote><h2 id="8dd7" class="mr lb iq bd lc ms mt dn lg mu mv dp lk ma mw mx lo mc my mz ls me na nb lw nc bi translated">电缆并非生来平等</h2><p id="fd9b" class="pw-post-body-paragraph kb kc iq ke b kf ly kh ki kj lz kl km ma mb kp kq mc md kt ku me mf kx ky kz ij bi translated">令我惊讶的一件事是，我发现并非所有的USB电缆都是一样的。我用不同的电缆给电池组充电，做了一些测试。我的一些电缆(USB到micro-USB)能够提供1.2A的电流(我认为这是包装能够产生的电流)，而其他电缆只能提供<code class="fe nm nn no ne b">0.9A</code>甚至<code class="fe nm nn no ne b">0.7A</code>。这是一个很大的区别，如果你家里有一个测试者，把坏苹果分开可能是值得的。</p><h2 id="de01" class="mr lb iq bd lc ms mt dn lg mu mv dp lk ma mw mx lo mc my mz ls me na nb lw nc bi translated">总功耗</h2><p id="7292" class="pw-post-body-paragraph kb kc iq ke b kf ly kh ki kj lz kl km ma mb kp kq mc md kt ku me mf kx ky kz ij bi translated">由于波动太大，我无法使用设备的瞬时功率来测量SBCs的功耗。相反，我会让设备运行1小时，然后<strong class="ke ir">读取</strong>在<code class="fe nm nn no ne b">W.h</code>消耗的总能量。然后我只需要除以<code class="fe nm nn no ne b">1h</code>就能得到动力。所以我在测试1小时后读取了<code class="fe nm nn no ne b">3.46 W.h</code>，这意味着主板平均消耗了<code class="fe nm nn no ne b">3.46 W</code>。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi og"><img src="../Images/6fbda00ac492bc275049e74a5ae8f60e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GX4wbb5UtDrRIHfJeRQYJg.jpeg"/></div></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk translated">阅读的例子。右侧从上到下依次为:瞬间能量，累积能量，累积时间</figcaption></figure><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oh"><img src="../Images/3c14cac5bc1341929d2b731823e8a44c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3uaF49kEwtK7o81YAeG5IQ.jpeg"/></div></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk translated">我安装了一个网络摄像头，这样我就可以在家以外阅读测量数据</figcaption></figure><p id="aa5c" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated"><em class="kd">(我觉得用1小时测量不够精确，所以我换成让它运行12小时，但原理是一样的——除以12而不是1) </em></p><p id="7511" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">满负荷(即BOINC一直使用100%的CPU)时，我的树莓Pi消耗了<code class="fe nm nn no ne b">4.8 W</code>。</p><p id="03de" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">修补板在类似的情况下被消耗掉了。</p><p id="6bdb" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">我的电力供应商收费大约在<code class="fe nm nn no ne b">0.18 £/kW.h</code>左右，这意味着以100% CPU 24/24小时运行SBCs将花费我:</p><ul class=""><li id="a08a" class="nr ns iq ke b kf kg kj kk ma nt mc nu me nv kz nw nx ny nz bi translated">Pi为7.70英镑/年</li><li id="0f32" class="nr ns iq ke b kf oa kj ob ma oc mc od me oe kz nw nx ny nz bi translated">修补板每年6.50英镑</li></ul><p id="2992" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">我的供应商完全使用可再生能源发电，因此对环境的影响也非常低。</p><p id="ab2a" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">基于以上两个事实，我不会因为让这两个全年运行而感到内疚！</p><h2 id="47a1" class="mr lb iq bd lc ms mt dn lg mu mv dp lk ma mw mx lo mc my mz ls me na nb lw nc bi translated">圆周率vs修补匠</h2><p id="5312" class="pw-post-body-paragraph kb kc iq ke b kf ly kh ki kj lz kl km ma mb kp kq mc md kt ku me mf kx ky kz ij bi translated">使用BOINC提供的基准测试，我可以测量:</p><ul class=""><li id="570b" class="nr ns iq ke b kf kg kj kk ma nt mc nu me nv kz nw nx ny nz bi translated">Pi: <code class="fe nm nn no ne b">4.5 Gops/s</code>用于浮点计算，<code class="fe nm nn no ne b">70 Gops/s</code>用于整数计算</li><li id="cee9" class="nr ns iq ke b kf oa kj ob ma oc mc od me oe kz nw nx ny nz bi translated">修补板:<code class="fe nm nn no ne b">5.3 Gops/s</code>用于浮点计算，<code class="fe nm nn no ne b">107 Gops/s</code>用于整数计算</li></ul><p id="b98d" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated"><code class="fe nm nn no ne b">Gops/s</code> <em class="kd">表示每秒10亿次运算，即板卡在1秒钟内可以完成的运算量</em></p><p id="7b49" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">在这里，修补板对于带浮点计算的Pi来说在<code class="fe nm nn no ne b">£3.9p/Pops</code>比<code class="fe nm nn no ne b">£5.4p/Pops</code>更具成本效益，对于整数计算来说在<code class="fe nm nn no ne b">£0.19p/Pops</code>比<code class="fe nm nn no ne b">£0.35p/Pops</code>更具成本效益。</p><p id="9e48" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated"><em class="kd">整数计算意味着计算机只使用整数，而浮点计算使用小数。后者更难，这就是为什么主板每秒能做的更少。</em> <code class="fe nm nn no ne b"><em class="kd">1Pops = 1 Peta operations = 1 quadrillion operations</em></code></p><h1 id="be46" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">能量比例</h1><p id="05a3" class="pw-post-body-paragraph kb kc iq ke b kf ly kh ki kj lz kl km ma mb kp kq mc md kt ku me mf kx ky kz ij bi translated">我最近读了一篇论文[1]，描述了建设和运行大型数据中心的不同方面，并想到了非常有趣的概念<a class="ae mg" href="https://en.wikipedia.org/wiki/Energy_proportional_computing" rel="noopener ugc nofollow" target="_blank">能源比例</a>。</p><p id="75b6" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">这个想法源于运营这些大型数据中心的经济效益。一个有用的衡量标准是计算单位的成本。在这种情况下，成本就是<strong class="ke ir">运行</strong>整个设施需要多少钱；建设数据中心的成本是单独计算的。</p><p id="9dc0" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">理想的能量比例服务器在空闲时消耗<code class="fe nm nn no ne b"><strong class="ke ir">0W</strong></code><strong class="ke ir"/>，在满负荷时消耗一定的最大功率<code class="fe nm nn no ne b">Pmax</code>，在中间的任何地方消耗<strong class="ke ir">线性级数。</strong></p><blockquote class="jy jz ka"><p id="d588" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">换句话说，这意味着服务器在100%、80%或任何其他负载下运行时的能效都是一样的。</p></blockquote><p id="429f" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">显然，从来不是这样。即使在空闲时，服务器也会消耗资源(旋转磁盘、空闲CPU、本地风扇，如果有的话)。当组件与能量不成比例时，<strong class="ke ir">随着负载从最大值开始下降，每个计算单元将变得更加昂贵。</strong></p><p id="ebb5" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">更简单地说，非能源比例部分是<strong class="ke ir">而不是</strong>“量入为出”。想象一下，一个体育中心每月收费10英镑，然后是2英镑。你去的次数越多，每次入境的实际费用就越便宜。</p><p id="e4c9" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">大多数服务器通常都经过优化，在满负荷时效率最高，这对现代数据中心来说是个问题。在这些地方，服务器的大部分时间都在10%-50%的利用率范围内[1]，这与制造商优化的范围相差甚远。这种低利用率需要能够吸收高峰流量，这在互联网上并不罕见。</p><p id="a553" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">研究表明[2]提高现代数据中心服务器的能源比例可以减少一半的能耗。这是一个尚未完全探索的新研究领域。</p><h2 id="33db" class="mr lb iq bd lc ms mt dn lg mu mv dp lk ma mw mx lo mc my mz ls me na nb lw nc bi translated">实验</h2><p id="12ac" class="pw-post-body-paragraph kb kc iq ke b kf ly kh ki kj lz kl km ma mb kp kq mc md kt ku me mf kx ky kz ij bi translated">由于这是一个相对较新的研究领域，我想看看<strong class="ke ir">我的SBC的能量比例是多少会很有趣。我做了一个简单(但有点长)的实验，在这个实验中，我使用BOINC将CPU使用率限制在某个百分比，并测量了功耗(平均超过12小时)。我以20%的利用率增量为每个SBC做了这个实验。</strong></p><p id="abcf" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">在我写这篇文章的时候，我正在我的地窖里运行SBCs，全天保持15摄氏度的恒温。因此，我不需要使用风扇，但如果天气变暖，我可能需要。</p><h2 id="b655" class="mr lb iq bd lc ms mt dn lg mu mv dp lk ma mw mx lo mc my mz ls me na nb lw nc bi translated">放弃</h2><p id="458a" class="pw-post-body-paragraph kb kc iq ke b kf ly kh ki kj lz kl km ma mb kp kq mc md kt ku me mf kx ky kz ij bi translated">以下结果代表单一类型的工作负载，不一定反映主板在不同工作负载下的比较情况。</p><h2 id="cb9b" class="mr lb iq bd lc ms mt dn lg mu mv dp lk ma mw mx lo mc my mz ls me na nb lw nc bi translated">结果</h2><p id="da23" class="pw-post-body-paragraph kb kc iq ke b kf ly kh ki kj lz kl km ma mb kp kq mc md kt ku me mf kx ky kz ij bi translated">两块板的结果绘制如下:</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/840ad595868ea5efed7284718c95714c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*gK9PwiB4gREz8v4mIev4aA.png"/></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk translated">带负载的功耗</figcaption></figure><p id="1842" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">我惊讶地看到，修补板使用更少的能源，同时运行更快的计算。必须指出的是，修补板的成本大约比Pi高2.5倍，这种比较有些不公平。</p><p id="cd6d" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">另一个有趣的图形可以通过<strong class="ke ir">归一化所有功率</strong>(即除以最大功率)得到。这样做之后，Y轴代表从0到1的值，即当前功率与最大功率的比值。一个完美的能量比例分量将遵循线<code class="fe nm nn no ne b">y=x</code>，即。满负荷时为1，空闲时为0，在两者之间沿直线前进。</p><p id="a479" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">我们可以通过观察它们与理想线的距离来感受SBC的不均衡程度:</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/467c73aca141e23b0f096398a54d8804.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*y1Z8A6LkNtG4i4s6YhjQJQ.png"/></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk translated">标准化功耗</figcaption></figure><p id="21f1" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">我无法从这张图表中得出任何结论性的事实。Tinker板在静止时(0%负载)似乎效率略高，但总体趋势似乎相似。同样，这个实验非常具体地针对我运行的工作负载，在其他配置上可能完全不同。</p><h1 id="bbba" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">结论</h1><p id="423b" class="pw-post-body-paragraph kb kc iq ke b kf ly kh ki kj lz kl km ma mb kp kq mc md kt ku me mf kx ky kz ij bi translated">我希望你觉得这篇文章很有趣，学到了一些东西，并希望对帮助全球科学项目感到好奇。</p><p id="266c" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">我还想结束这个项目对我的启发。<a class="ae mg" href="https://www.slow-journalism.com/" rel="noopener ugc nofollow" target="_blank">延迟满足</a>是<strong class="ke ir">慢新闻</strong>运动的领导者之一。记者们没有急于报道突发新闻，而是故意在事件发生几个月后再回去调查，以便进行更全面的分析。一期10英镑(订阅的话更便宜)，覆盖一年中的3个月(每年发行4期)，120页，没有一个广告，充满了很酷的信息图表。如果你喜欢阅读有深度的新闻文章，我强烈推荐它。</p><blockquote class="jy jz ka"><p id="798c" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这篇文章不是由我提到的任何产品赞助的。</p></blockquote><h2 id="ee48" class="mr lb iq bd lc ms mt dn lg mu mv dp lk ma mw mx lo mc my mz ls me na nb lw nc bi translated">资源</h2><ul class=""><li id="ce98" class="nr ns iq ke b kf ly kj lz ma oj mc ok me ol kz nw nx ny nz bi translated"><a class="ae mg" href="https://www.raspberrypi.org/magpi/share-boinc/" rel="noopener ugc nofollow" target="_blank">如何在树莓派上安装BOINC</a></li><li id="60a1" class="nr ns iq ke b kf oa kj ob ma oc mc od me oe kz nw nx ny nz bi translated"><a class="ae mg" href="http://seticlassic.ssl.berkeley.edu/about_seti/about_seti_at_home_1.html" rel="noopener ugc nofollow" target="_blank">SETI @ HOME如何工作</a></li></ul><h2 id="0a88" class="mr lb iq bd lc ms mt dn lg mu mv dp lk ma mw mx lo mc my mz ls me na nb lw nc bi translated">参考</h2><p id="ae48" class="pw-post-body-paragraph kb kc iq ke b kf ly kh ki kj lz kl km ma mb kp kq mc md kt ku me mf kx ky kz ij bi translated">[1]:巴罗佐、路易斯·安德烈和克利达拉什、吉米和霍尔兹勒、乌尔斯。作为计算机的数据中心:仓库规模机器设计介绍，第二版。可从https://www . morganclaypool . com/doi/ABS/10.2200/s 00516 ed 2v 01y 201306 CAC 024获得</p><p id="7d8a" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">[2]:范、韦伯、巴罗佐。仓库大小的计算机的电源供应。《第34届计算机体系结构国际研讨会论文集》,加利福尼亚州圣地亚哥，2007年6月9日至13日。07年的ISCA。DOI: /10.1145/1250662.1250665 78，84，85，113</p><p id="3cc3" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km ma ko kp kq mc ks kt ku me kw kx ky kz ij bi translated">如果你喜欢这类内容，你可以在Twitter上关注我</p><div class="om on gp gr oo op"><a href="https://twitter.com/cesarTronLozai" rel="noopener  ugc nofollow" target="_blank"><div class="oq ab fo"><div class="or ab os cl cj ot"><h2 class="bd ir gy z fp ou fr fs ov fu fw ip bi translated">塞萨尔·特隆-洛扎伊(@塞萨尔·特隆洛扎伊)|推特</h2><div class="ow l"><h3 class="bd b gy z fp ou fr fs ov fu fw dk translated">塞萨尔·特隆-洛扎伊的最新推文(@塞萨尔·特隆洛扎伊)。老公，女权主义者，我爱科学，物理，数学，分类…</h3></div><div class="ox l"><p class="bd b dl z fp ou fr fs ov fu fw dk translated">twitter.com</p></div></div><div class="oy l"><div class="oz l pa pb pc oy pd jw op"/></div></div></a></div></div></div>    
</body>
</html>