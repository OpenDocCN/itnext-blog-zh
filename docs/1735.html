<html>
<head>
<title>Azure Cognitive Services API — I need your clothes, boots and your motorcycle</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Azure认知服务API——我需要你的衣服、靴子和摩托车</h1>
<blockquote>原文：<a href="https://itnext.io/cognitive-services-api-i-need-your-clothes-boots-and-your-motorcycle-1216c36cfe8b?source=collection_archive---------4-----------------------#2019-01-14">https://itnext.io/cognitive-services-api-i-need-your-clothes-boots-and-your-motorcycle-1216c36cfe8b?source=collection_archive---------4-----------------------#2019-01-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><blockquote class="jn jo jp"><p id="08b3" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">一个反人类的AI反派！作为一个在80年代长大的孩子，一些最酷的电影是阿诺德·施瓦辛格主演的《终结者》和《终结者2》。icy mi——一个人工智能机器人(Arnold)被从未来送来，试图摧毁未来人类反抗的任何机会。</p></blockquote><p id="eb3c" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">当时，我们人类建造一个像那样移动的机器人感觉很遥远，直到这个片段在互联网上出现:https://www.youtube.com/watch?v=LikxFZZO2sk，T4，一个由波士顿动力公司建造的机器人。那天很多人被咖啡呛到了。</p><p id="4740" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">如果那东西变得聪明并对人类有敌意，我们需要加入太空中的埃隆·马斯克·特斯拉:</p><p id="7ff6" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">《终结者》中一个非常前沿的场景慢慢进入了我的脑海。终结者进入摩托车酒吧，扫描房间周围的人和物体，正确分类物体是什么，它们的颜色，大小以及它们是否是他的目标！</p><p id="8e81" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated"><a class="ae ks" href="https://www.youtube.com/watch?v=zzcdPA6qYAU" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=zzcdPA6qYAU</a></p><p id="2e8b" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">那时候太神奇了，最好的科幻小说。</p><p id="22c6" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">但事实是，这不再是科幻小说了。机器学习领域发生了很多事情。机器学习行业雇佣了一大批数据科学家，他们构建的算法能够在给定训练数据的情况下，正确识别出它在看什么。</p><p id="ff26" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">一个非常著名的例子是pug或muffin训练数据，其中我们可以看到这些算法是如何在无数像这样的图像上训练的:</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="ab gu cl ky"><img src="../Images/48d1c14b7327562dcdbc71b20324122d.png" data-original-src="https://miro.medium.com/v2/format:webp/1*lZ3KZ_jpwh5n98cyL_4IPA.jpeg"/></div></figure><p id="82b5" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">我知道你们中的一些人现在可能在偷笑，认为我们不需要担心机器会很快超过我们:</p><p id="526f" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">我说过这不再是科幻小说了，现在也不是。微软提供了一整套名为Azure认知服务的服务</p><ul class=""><li id="58bc" class="lb lc iq jt b ju jv jy jz kp ld kq le kr lf ko lg lh li lj bi translated"><a class="ae ks" href="https://azure.microsoft.com/en-gb/services/cognitive-services/directory/vision/?wt.mc_id=medium-blog-chnoring" rel="noopener ugc nofollow" target="_blank"> <strong class="jt ir">视觉</strong> </a>，这是图像处理算法，可以<code class="fe lk ll lm ln b">identify</code>、<code class="fe lk ll lm ln b">caption</code>、<code class="fe lk ll lm ln b">index</code>、<code class="fe lk ll lm ln b">moderate pictures</code>和视频</li><li id="5178" class="lb lc iq jt b ju lo jy lp kp lq kq lr kr ls ko lg lh li lj bi translated"><a class="ae ks" href="https://azure.microsoft.com/en-gb/services/cognitive-services/directory/speech/?wt.mc_id=medium-blog-chnoring" rel="noopener ugc nofollow" target="_blank"> <strong class="jt ir">语音</strong> </a>，可以转换<code class="fe lk ll lm ln b">spoken audio into text</code>，使用<code class="fe lk ll lm ln b">voice for verification</code>或添加<code class="fe lk ll lm ln b">speech recognition to</code>您的app</li><li id="1471" class="lb lc iq jt b ju lo jy lp kp lq kq lr kr ls ko lg lh li lj bi translated"><a class="ae ks" href="https://azure.microsoft.com/en-gb/services/cognitive-services/directory/lang/?wt.mc_id=medium-blog-chnoring" rel="noopener ugc nofollow" target="_blank"> <strong class="jt ir">语言</strong> </a>，允许你的应用<code class="fe lk ll lm ln b">process natural language</code>与预建脚本、<code class="fe lk ll lm ln b">evaluate sentiment</code>并学习如何<code class="fe lk ll lm ln b">recognize what users want</code></li><li id="4061" class="lb lc iq jt b ju lo jy lp kp lq kq lr kr ls ko lg lh li lj bi translated"><a class="ae ks" href="https://azure.microsoft.com/en-gb/services/cognitive-services/directory/know/?wt.mc_id=medium-blog-chnoring" rel="noopener ugc nofollow" target="_blank"> <strong class="jt ir">知识</strong> </a> <strong class="jt ir">、</strong>为了解决<code class="fe lk ll lm ln b">intelligent recommendations</code>、<code class="fe lk ll lm ln b">semantic search</code>等任务而绘制复杂的信息和数据。</li><li id="462c" class="lb lc iq jt b ju lo jy lp kp lq kq lr kr ls ko lg lh li lj bi translated"><a class="ae ks" href="https://azure.microsoft.com/en-gb/services/cognitive-services/directory/search/?wt.mc_id=medium-blog-chnoring" rel="noopener ugc nofollow" target="_blank"> <strong class="jt ir">搜索</strong> </a> <strong class="jt ir">、</strong>使应用和服务能够驾驭<code class="fe lk ll lm ln b">web-scale</code>、<code class="fe lk ll lm ln b">ad-free search engine</code>与搜索的力量。使用搜索服务，在数十亿网页、图像、视频和新闻搜索结果中准确找到您想要的内容</li></ul><p id="2cdb" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">正如你所注意到的，当你点击上面的任何一个类别时，每个区域都会导向大量的服务，并且他们可以免费尝试。我不知道你是怎么想的，但是当有人告诉我这里有一大堆API供你使用，特别是如果它使机器学习对我这样的开发人员有用时，我觉得自己就像一个在糖果店的孩子。</p><p id="4257" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">为了配合介绍的叙述，让我们深入到<a class="ae ks" href="https://azure.microsoft.com/en-gb/services/cognitive-services/directory/vision/" rel="noopener ugc nofollow" target="_blank">视觉</a>类别，因为我们希望看到像一个终结者对不对？；)</p><p id="747d" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">让我们点击<a class="ae ks" href="https://azure.microsoft.com/en-gb/services/cognitive-services/computer-vision/#celebrities-landmarks?wt.mc_id=azuremedium-blog-chnoring" rel="noopener ugc nofollow" target="_blank">图像中的名人和地标识别</a>。哦，酷，我们有一个演示页面，我们可以看到工作中的算法，在你购买之前尝试一下:)</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="ab gu cl ky"><img src="../Images/7a0b22a441c73717f5f78d343e9bc855.png" data-original-src="https://miro.medium.com/v2/format:webp/1*-X6fMDCZ6bZ28XS5oChLnw.png"/></div></figure><p id="5fae" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">从上面我们可以看到，它要求我们为一张图片输入一个<code class="fe lk ll lm ln b">URL</code>,它似乎用JSON来响应。好吧，我们来点简单的，一张亚伯·林肯的照片:</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="ab gu cl ky"><img src="../Images/65f800aa7e834983fec03dfd247683c9.png" data-original-src="https://miro.medium.com/v2/format:webp/1*AkENT8Ub8jFZzFJXlYRpqA.png"/></div></figure><p id="59c8" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">获胜者是…亚伯·林肯。好的，这很简单，让我们试试别的:</p><p id="5c11" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">我不得不承认。我对这个有点紧张。).好，让我们看看结果:</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="ab gu cl ky"><img src="../Images/b64e3b18c202385c3315366f32bed620.png" data-original-src="https://miro.medium.com/v2/format:webp/1*-fWGrYx5VlP6FfbduP0brA.png"/></div></figure><p id="efd7" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">好的，它认出了电影《终结者2》中的阿诺德·施瓦辛格，很好。我发誓，如果它提到约翰·康纳，我会逃之夭夭，只是开玩笑:)</p><h1 id="e0f2" class="lt lu iq bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">使用Azure认知服务</h1><p id="b3f9" class="pw-post-body-paragraph jq jr iq jt b ju mr jw jx jy ms ka kb kp mt ke kf kq mu ki kj kr mv km kn ko ij bi translated">要开始使用认知服务API，我们需要一个API密钥。我们需要采取一些步骤来获得所说的密钥，但它真的没那么多。认知服务驻留在Azure上。要获得免费Azure帐户，请点击此<a class="ae ks" href="https://azure.microsoft.com/free/?WT.mc_id=cognitiveservices-medium-chnoring" rel="noopener ugc nofollow" target="_blank">链接</a>:</p><p id="5d0a" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">注册后，你可以使用Azure门户或Azure CLI。Azure CLI使我们能够从命令行与Azure对话，这通常比在UI中点击更快、更酷。</p><p id="ef8a" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">一旦我们走到这一步，只剩下四步了，所以和我在一起，我们很快就会像阿诺德一样看世界😃。</p><p id="a29e" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">剩下的内容如下:</p><ul class=""><li id="8467" class="lb lc iq jt b ju jv jy jz kp ld kq le kr lf ko lg lh li lj bi translated"><strong class="jt ir">创建一个资源组</strong>，这是一个目录，你可以把所有的东西放在一起，比如账户、数据库、应用，只需要一秒钟就可以创建好</li><li id="b524" class="lb lc iq jt b ju lo jy lp kp lq kq lr kr ls ko lg lh li lj bi translated"><strong class="jt ir">创建一个认知服务账户</strong>，这也只是一行代码，创建这个账户会给我们API密钥</li><li id="7675" class="lb lc iq jt b ju lo jy lp kp lq kq lr kr ls ko lg lh li lj bi translated"><strong class="jt ir">对API </strong>进行POST调用，这是一个非常简单的REST API调用，给出了我们从构建认知服务帐户中获得的API密钥</li><li id="7722" class="lb lc iq jt b ju lo jy lp kp lq kq lr kr ls ko lg lh li lj bi translated"><strong class="jt ir">解析JSON响应</strong>，我们将得到一个JSON返回，我们将看看它给我们的不同部分，看看我们可以向我们的用户显示什么</li></ul><h2 id="3c36" class="mw lu iq bd lv mx my dn lz mz na dp md kp nb nc mh kq nd ne ml kr nf ng mp nh bi translated">创建资源组</h2><p id="b70d" class="pw-post-body-paragraph jq jr iq jt b ju mr jw jx jy ms ka kb kp mt ke kf kq mu ki kj kr mv km kn ko ij bi translated">我们需要做的第一件事是使用Azure CLI登录Azure。要使用Azure CLI，我们首先需要安装它。点击此链接获取安装说明，不同的操作系统有不同的安装说明，请确保选择正确的安装说明:</p><blockquote class="jn jo jp"><p id="815a" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated"><a class="ae ks" href="https://docs.microsoft.com/en-us/cli/azure/install-azure-cli?view=azure-cli-latest?wt.mc_id=medium-blog-chnoring" rel="noopener ugc nofollow" target="_blank">https://docs . Microsoft . com/en-us/CLI/azure/install-azure-CLI？view=azure-cli-latest </a></p></blockquote><p id="9c07" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">让我们使用Azure CLI登录Azure:</p><pre class="kt ku kv kw gt ni ln nj nk aw nl bi"><span id="e271" class="mw lu iq ln b gy nm nn l no np">az login</span></pre><p id="f189" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">这将在浏览器中打开一个窗口，我们在这里登录我们的Azure帐户。此后，终端将有权访问Azure。</p><p id="f367" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">现在让我们创建资源组:</p><pre class="kt ku kv kw gt ni ln nj nk aw nl bi"><span id="58ed" class="mw lu iq ln b gy nm nn l no np">az group create \</span><span id="0fbf" class="mw lu iq ln b gy nq nn l no np">--name resourceforcogservices \</span><span id="19d1" class="mw lu iq ln b gy nq nn l no np">--location westeurope</span></pre><p id="eb87" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">这里的命令是<code class="fe lk ll lm ln b">az group create</code>，我们给它以下参数:</p><ul class=""><li id="7562" class="lb lc iq jt b ju jv jy jz kp ld kq le kr lf ko lg lh li lj bi translated"><strong class="jt ir">名字</strong>，这是我们选择的名字</li><li id="524e" class="lb lc iq jt b ju lo jy lp kp lq kq lr kr ls ko lg lh li lj bi translated"><strong class="jt ir">位置</strong>，根据我们在世界上的位置，我们可以在许多位置之间进行选择</li></ul><p id="d9d8" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">对于地点，我们选择了<code class="fe lk ll lm ln b">westeurope</code>，因为那是我写这篇文章的地方。所以根据你所在的位置选择一个地区。以下是受支持地区的完整列表:</p><ul class=""><li id="c8dd" class="lb lc iq jt b ju jv jy jz kp ld kq le kr lf ko lg lh li lj bi translated">西部2</li><li id="b0d1" class="lb lc iq jt b ju lo jy lp kp lq kq lr kr ls ko lg lh li lj bi translated">中南半岛</li><li id="b105" class="lb lc iq jt b ju lo jy lp kp lq kq lr kr ls ko lg lh li lj bi translated">中央翼</li><li id="a980" class="lb lc iq jt b ju lo jy lp kp lq kq lr kr ls ko lg lh li lj bi translated">伊斯特斯</li><li id="50e5" class="lb lc iq jt b ju lo jy lp kp lq kq lr kr ls ko lg lh li lj bi translated">西欧</li><li id="d56f" class="lb lc iq jt b ju lo jy lp kp lq kq lr kr ls ko lg lh li lj bi translated">东南亚</li><li id="ad9a" class="lb lc iq jt b ju lo jy lp kp lq kq lr kr ls ko lg lh li lj bi translated">日本东部</li><li id="a203" class="lb lc iq jt b ju lo jy lp kp lq kq lr kr ls ko lg lh li lj bi translated">巴西南部</li><li id="e5bd" class="lb lc iq jt b ju lo jy lp kp lq kq lr kr ls ko lg lh li lj bi translated">澳大利亚东南部</li><li id="28e7" class="lb lc iq jt b ju lo jy lp kp lq kq lr kr ls ko lg lh li lj bi translated">中央a</li></ul><h2 id="845e" class="mw lu iq bd lv mx my dn lz mz na dp md kp nb nc mh kq nd ne ml kr nf ng mp nh bi translated">创建Azure认知服务帐户</h2><p id="d0cf" class="pw-post-body-paragraph jq jr iq jt b ju mr jw jx jy ms ka kb kp mt ke kf kq mu ki kj kr mv km kn ko ij bi translated">创建这个帐户非常容易。这是通过以下命令完成的:</p><pre class="kt ku kv kw gt ni ln nj nk aw nl bi"><span id="9ff7" class="mw lu iq ln b gy nm nn l no np">az cognitiveservices account create \</span><span id="9f83" class="mw lu iq ln b gy nq nn l no np">--kind ComputerVision \</span><span id="b44a" class="mw lu iq ln b gy nq nn l no np">--name ComputerVisionService \</span><span id="3460" class="mw lu iq ln b gy nq nn l no np">--sku S1 \</span><span id="2d00" class="mw lu iq ln b gy nq nn l no np">--resource-group resourceforcogservices \</span><span id="8d42" class="mw lu iq ln b gy nq nn l no np">--location westeurope</span></pre><p id="efad" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">好的，我们的基本命令是<code class="fe lk ll lm ln b">az cognitiveservices account create</code>，之后我们给这个命令添加了一些参数:</p><ul class=""><li id="2cf5" class="lb lc iq jt b ju jv jy jz kp ld kq le kr lf ko lg lh li lj bi translated"><strong class="jt ir">种类</strong>，这里我们需要键入我们将使用哪种认知服务，我们在这里的值需要是<code class="fe lk ll lm ln b">ComputerVision</code></li><li id="5b7d" class="lb lc iq jt b ju lo jy lp kp lq kq lr kr ls ko lg lh li lj bi translated"><strong class="jt ir">名称</strong>，名称就是服务的名称，即<code class="fe lk ll lm ln b">ComputerVisionService</code></li><li id="ab62" class="lb lc iq jt b ju lo jy lp kp lq kq lr kr ls ko lg lh li lj bi translated"><strong class="jt ir"> sku </strong>，表示定价等级，在服务的整个生命周期内是固定的，我们选择S1，它非常便宜。</li><li id="9870" class="lb lc iq jt b ju lo jy lp kp lq kq lr kr ls ko lg lh li lj bi translated"><strong class="jt ir"> resourcegroup </strong>，我们之前已经创建了这个资源组，如前所述，这个资源组就像一个文件夹，所有相关的内容都应该组织在其中</li><li id="1edd" class="lb lc iq jt b ju lo jy lp kp lq kq lr kr ls ko lg lh li lj bi translated"><strong class="jt ir">地点</strong>，我们在这里继续使用<code class="fe lk ll lm ln b">westeurope</code>因为那是我们开始的地方，欢迎你继续使用你去过的地点</li></ul><p id="86b7" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">以下链接将告诉您更多关于定价和不同成本管理计划的信息:</p><blockquote class="jn jo jp"><p id="aa5f" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated"><a class="ae ks" href="https://docs.microsoft.com/en-us/azure/search/search-sku-tier" rel="noopener ugc nofollow" target="_blank">https://docs . Microsoft . com/en-us/azure/search/search-SKU-tier</a></p></blockquote><p id="ef61" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">一旦创建了认知服务帐户，我们就可以检索API密钥。以下命令将列出我们的认知服务帐户，包括API密钥:</p><pre class="kt ku kv kw gt ni ln nj nk aw nl bi"><span id="bcc8" class="mw lu iq ln b gy nm nn l no np">az cognitiveservices account show \</span><span id="4026" class="mw lu iq ln b gy nq nn l no np">--name ComputerVisionService \</span><span id="4bf8" class="mw lu iq ln b gy nq nn l no np">--resource-group resourceforcogservices</span></pre><p id="d477" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">我们检索密钥的命令是<code class="fe lk ll lm ln b">az cognitiveservices account show</code>，然后我们需要给这个命令一些参数:</p><ul class=""><li id="ee76" class="lb lc iq jt b ju jv jy jz kp ld kq le kr lf ko lg lh li lj bi translated"><strong class="jt ir">名称</strong>，这是我们服务的名称</li><li id="9cf8" class="lb lc iq jt b ju lo jy lp kp lq kq lr kr ls ko lg lh li lj bi translated">资源组，我们继续使用我们最初选择的资源组</li></ul><h2 id="f82c" class="mw lu iq bd lv mx my dn lz mz na dp md kp nb nc mh kq nd ne ml kr nf ng mp nh bi translated">对API进行POST调用</h2><p id="eb1a" class="pw-post-body-paragraph jq jr iq jt b ju mr jw jx jy ms ka kb kp mt ke kf kq mu ki kj kr mv km kn ko ij bi translated">现在，为了在进行REST调用时更容易使用，我们将把API键赋给一个shell变量，当我们稍后进行REST调用时，我们可以引用该变量。让我们做作业:</p><pre class="kt ku kv kw gt ni ln nj nk aw nl bi"><span id="9150" class="mw lu iq ln b gy nm nn l no np">key=$(az cognitiveservices account keys list \</span><span id="3cf5" class="mw lu iq ln b gy nq nn l no np">--name ComputerVisionService \</span><span id="af08" class="mw lu iq ln b gy nq nn l no np">--resource-group resourceforcogservices \</span><span id="92f0" class="mw lu iq ln b gy nq nn l no np">--query key1 -o tsv)</span></pre><p id="9a45" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">上面列出了帐户上的所有键，挑选出一个名为<code class="fe lk ll lm ln b">key1</code>的键，并将其赋给变量<code class="fe lk ll lm ln b">key</code>。现在我们都设置好了，准备打电话休息。</p><p id="7b52" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">让我们看看我们的API，看看URL通常是什么样子的:</p><pre class="kt ku kv kw gt ni ln nj nk aw nl bi"><span id="157b" class="mw lu iq ln b gy nm nn l no np">https://&lt;region&gt;.api.cognitive.microsoft.com/vision/v2.0/analyze?visualFeatures=&lt;...&gt;&amp;details=&lt;...&gt;&amp;language=&lt;...&gt;</span></pre><p id="691f" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">我们看到，我们需要用我们创建资源组和帐户时使用的区域来替换<code class="fe lk ll lm ln b">region</code>，在我们的例子中是<code class="fe lk ll lm ln b">westeurope</code>。此外，我们看到API正在使用一个叫做<code class="fe lk ll lm ln b">analyze</code>的方法和参数<code class="fe lk ll lm ln b">visualFeatures</code>、<code class="fe lk ll lm ln b">details</code>和<code class="fe lk ll lm ln b">language</code>。</p><ul class=""><li id="42b8" class="lb lc iq jt b ju jv jy jz kp ld kq le kr lf ko lg lh li lj bi translated"><strong class="jt ir">明细</strong>，可以有值<code class="fe lk ll lm ln b">Landmarks</code>或<code class="fe lk ll lm ln b">Celebrities</code></li><li id="f145" class="lb lc iq jt b ju lo jy lp kp lq kq lr kr ls ko lg lh li lj bi translated"><strong class="jt ir">视觉特征</strong>，这是关于你想要回什么样的信息，<code class="fe lk ll lm ln b">Categories</code>选项会对图像的内容进行分类，比如树木、建筑等等。将识别人们的面孔，并给出他们的性别和年龄</li></ul><p id="8a81" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">好，让我们看看实际的调用是什么样子的:</p><pre class="kt ku kv kw gt ni ln nj nk aw nl bi"><span id="b058" class="mw lu iq ln b gy nm nn l no np">curl "https://westeurope.api.cognitive.microsoft.com/vision/v2.0/analyze?visualFeatures=Categories,Description&amp;details=Landmarks" \</span><span id="af34" class="mw lu iq ln b gy nq nn l no np">-H "Ocp-Apim-Subscription-Key: $key" \</span><span id="954b" class="mw lu iq ln b gy nq nn l no np">-H "Content-Type: application/json" \</span><span id="5580" class="mw lu iq ln b gy nq nn l no np">-d "{'url' : 'https://raw.githubusercontent.com/MicrosoftDocs/mslearn-process-images-with-the-computer-vision-service/master/images/mountains.jpg'}" \</span><span id="24c6" class="mw lu iq ln b gy nq nn l no np">| jq '.'</span></pre><p id="f0cf" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">上面我们调用cURL并将头<code class="fe lk ll lm ln b">Ocp-Apim-Subscription-Key</code>设置为我们的API键，或者更具体地说，设置为包含我们的API键的变量<code class="fe lk ll lm ln b">key</code>。我们看到，我们用属性<code class="fe lk ll lm ln b">url</code>创建了一个BODY值，并将其设置为我们想要分析的图像。</p><h2 id="1ca8" class="mw lu iq bd lv mx my dn lz mz na dp md kp nb nc mh kq nd ne ml kr nf ng mp nh bi translated">看看人们的反应</h2><p id="10d9" class="pw-post-body-paragraph jq jr iq jt b ju mr jw jx jy ms ka kb kp mt ke kf kq mu ki kj kr mv km kn ko ij bi translated">好吧，我们打电话，我们被告知会有JSON。而且有，一大堆:)</p><pre class="kt ku kv kw gt ni ln nj nk aw nl bi"><span id="63a3" class="mw lu iq ln b gy nm nn l no np">{</span><span id="db5a" class="mw lu iq ln b gy nq nn l no np">"categories": [{</span><span id="3385" class="mw lu iq ln b gy nq nn l no np">"name": "outdoor_mountain",</span><span id="0155" class="mw lu iq ln b gy nq nn l no np">"score": 0.99609375,</span><span id="8ea0" class="mw lu iq ln b gy nq nn l no np">"detail": {</span><span id="6124" class="mw lu iq ln b gy nq nn l no np">"landmarks": []</span><span id="d5f0" class="mw lu iq ln b gy nq nn l no np">}</span><span id="b913" class="mw lu iq ln b gy nq nn l no np">}],</span><span id="368c" class="mw lu iq ln b gy nq nn l no np">"description": {</span><span id="c03c" class="mw lu iq ln b gy nq nn l no np">"tags": [</span><span id="1dc4" class="mw lu iq ln b gy nq nn l no np">"snow",</span><span id="5a94" class="mw lu iq ln b gy nq nn l no np">"outdoor",</span><span id="d960" class="mw lu iq ln b gy nq nn l no np">"mountain",</span><span id="4383" class="mw lu iq ln b gy nq nn l no np">"nature",</span><span id="04cf" class="mw lu iq ln b gy nq nn l no np">"covered",</span><span id="f0ef" class="mw lu iq ln b gy nq nn l no np">"skiing",</span><span id="a4d6" class="mw lu iq ln b gy nq nn l no np">"man",</span><span id="ae40" class="mw lu iq ln b gy nq nn l no np">"flying",</span><span id="e7ef" class="mw lu iq ln b gy nq nn l no np">"standing",</span><span id="882f" class="mw lu iq ln b gy nq nn l no np">"wearing",</span><span id="b8b5" class="mw lu iq ln b gy nq nn l no np">"side",</span><span id="6ab4" class="mw lu iq ln b gy nq nn l no np">"air",</span><span id="cc2d" class="mw lu iq ln b gy nq nn l no np">"slope",</span><span id="7a46" class="mw lu iq ln b gy nq nn l no np">"jumping",</span><span id="0494" class="mw lu iq ln b gy nq nn l no np">"plane",</span><span id="76d7" class="mw lu iq ln b gy nq nn l no np">"red",</span><span id="357d" class="mw lu iq ln b gy nq nn l no np">"hill",</span><span id="c0a8" class="mw lu iq ln b gy nq nn l no np">"riding",</span><span id="89bd" class="mw lu iq ln b gy nq nn l no np">"people",</span><span id="56f2" class="mw lu iq ln b gy nq nn l no np">"group",</span><span id="7c7c" class="mw lu iq ln b gy nq nn l no np">"yellow",</span><span id="79a6" class="mw lu iq ln b gy nq nn l no np">"board",</span><span id="e507" class="mw lu iq ln b gy nq nn l no np">"doing",</span><span id="b6ea" class="mw lu iq ln b gy nq nn l no np">"airplane"</span><span id="4f0d" class="mw lu iq ln b gy nq nn l no np">],</span><span id="712c" class="mw lu iq ln b gy nq nn l no np">"captions": [{</span><span id="deba" class="mw lu iq ln b gy nq nn l no np">"text": "a snow covered mountain",</span><span id="743b" class="mw lu iq ln b gy nq nn l no np">"confidence": 0.956279380622841</span><span id="1ba1" class="mw lu iq ln b gy nq nn l no np">}]</span><span id="1fba" class="mw lu iq ln b gy nq nn l no np">},</span><span id="0bcd" class="mw lu iq ln b gy nq nn l no np">"requestId": "&lt;undisclosed&gt;",</span><span id="6e8a" class="mw lu iq ln b gy nq nn l no np">"metadata": {</span><span id="095f" class="mw lu iq ln b gy nq nn l no np">"width": 600,</span><span id="e44f" class="mw lu iq ln b gy nq nn l no np">"height": 462,</span><span id="e0d5" class="mw lu iq ln b gy nq nn l no np">"format": "Jpeg"</span><span id="b4dc" class="mw lu iq ln b gy nq nn l no np">}</span><span id="7546" class="mw lu iq ln b gy nq nn l no np">}</span></pre><p id="2d1d" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated"><code class="fe lk ll lm ln b">score</code>表示对结果的确定程度。值为<code class="fe lk ll lm ln b">0.99609375</code>(最大值为1.0)，我会说这是非常确定的。<code class="fe lk ll lm ln b">captions</code>是算法试图给我们一个这是什么的正常句子。上面说是:<em class="js">一座雪山。</em>让我们自己看看我们提供给服务调用<em class="js"> : </em>的URL</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="ab gu cl ky"><img src="../Images/8307e8dd5a9bb0b2a58d49a56a2c6ec6.png" data-original-src="https://miro.medium.com/v2/format:webp/1*OuZV7nAeXYYv1RcC0BT9nw.jpeg"/></div></figure><blockquote class="jn jo jp"><p id="ff6d" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">是的，在我看来像座山，好的天网；)</p></blockquote><h1 id="f5bb" class="lt lu iq bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">摘要</h1><p id="e6b4" class="pw-post-body-paragraph jq jr iq jt b ju mr jw jx jy ms ka kb kp mt ke kf kq mu ki kj kr mv km kn ko ij bi translated">我带你度过了我的童年，现在你知道我是一个电影呆子，有点怀疑所有这些人工智能，机器学习研究将我们带到哪里。与此同时，我对我可以用认知服务构建的所有酷应用感到兴奋。</p><p id="38ac" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">这里也有一些值得思考的问题。开机器人杀手的玩笑很容易，尤其是当它们来自电影世界的时候。对于所有伟大的技术，我们有责任用它做一些有用的事情，为人类服务。想象一下像这样的算法安装在无人机或直升机上。进一步想象一下，一场灾难发生了，你正在寻找幸存者，你有一些很好的算法可以快速帮助你找到人。这能带来真正的改变，拯救生命。</p><p id="ac94" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">我希望你和我一样兴奋，试一试。最好的开始方式是希望这篇博客文章，但是值得查看一下<a class="ae ks" href="https://docs.microsoft.com/learn/?WT.mc_id=cognitiveservices-medium-chnoring" rel="noopener ugc nofollow" target="_blank">学习</a>平台，尤其是这个<a class="ae ks" href="https://docs.microsoft.com/learn/modules/create-computer-vision-service-to-classify-images/?WT.mc_id=cognitiveservices-medium-chnoring" rel="noopener ugc nofollow" target="_blank">课程</a>。祝你好运:)</p><p id="2452" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">如果你觉得这篇文章有用/好笑/有趣/什么的，请给我鼓掌:)</p></div></div>    
</body>
</html>