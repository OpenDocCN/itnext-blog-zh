<html>
<head>
<title>Git: Determine Branch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Git:确定分支</h1>
<blockquote>原文：<a href="https://itnext.io/git-determine-branch-95714bcc99ab?source=collection_archive---------1-----------------------#2022-03-28">https://itnext.io/git-determine-branch-95714bcc99ab?source=collection_archive---------1-----------------------#2022-03-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2593" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">你在哪个部门？</h2></div><p id="1190" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">分支是git最常用的特性之一。人们通常总是改变分支，并且需要不断地确定他们在哪个分支上。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/bed7f90fb89fcced3bdacafdb6a4267d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZJaLXJMDKu2qJ1bZ24su5A.png"/></div></div></figure><h1 id="12a8" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">TL；速度三角形定位法(dead reckoning)</h1><pre class="lf lg lh li gt mi mj mk ml aw mm bi"><span id="ed6d" class="mn lr it mj b gy mo mp l mq mr">git branch</span></pre><h1 id="0332" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">使用分支命令</h1><p id="206f" class="pw-post-body-paragraph ki kj it kk b kl ms ju kn ko mt jx kq kr mu kt ku kv mv kx ky kz mw lb lc ld im bi translated">第一个处理分支的git子命令是branch命令。只要写下这个命令，就会显示所有本地分支和您所在的分支的列表。输入:</p><pre class="lf lg lh li gt mi mj mk ml aw mm bi"><span id="80c6" class="mn lr it mj b gy mo mp l mq mr">git branch</span></pre><p id="b435" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输出会是这样的:</p><pre class="lf lg lh li gt mi mj mk ml aw mm bi"><span id="7316" class="mn lr it mj b gy mo mp l mq mr">  aerabi/add-readme<br/>  aerabi/add-github-actions<br/><strong class="mj iu">* master</strong><br/>  the-hotfix-branch</span></pre><p id="7635" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您当前的分支用星号和不同的颜色突出显示。</p><h1 id="1f35" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">使用状态命令</h1><p id="4e16" class="pw-post-body-paragraph ki kj it kk b kl ms ju kn ko mt jx kq kr mu kt ku kv mv kx ky kz mw lb lc ld im bi translated">status命令是一个广泛使用的强大命令，它可以显示当前的分支。输入:</p><pre class="lf lg lh li gt mi mj mk ml aw mm bi"><span id="d009" class="mn lr it mj b gy mo mp l mq mr">git status</span></pre><p id="f900" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输出会是这样的:</p><pre class="lf lg lh li gt mi mj mk ml aw mm bi"><span id="a5a3" class="mn lr it mj b gy mo mp l mq mr">On branch master <br/>Your branch is up to date with 'origin/master'. <br/> <br/>Changes not staged for commit: <br/>  (use "git add &lt;file&gt;..." to update what will be committed) <br/>  (use "git restore &lt;file&gt;..." to discard changes in working directory) <br/>        modified:   docker-compose.dev.yml <br/> <br/>Untracked files: <br/>  (use "git add &lt;file&gt;..." to include in what will be committed) <br/>        .idea/ <br/>        Dockerfile <br/>        docker-compose.override.yml.bak <br/> <br/>no changes added to commit (use "git add" and/or "git commit -a")</span></pre><p id="cf93" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第一行显示您在哪个分支上。第二个显示您的上游分支(如果有)。</p><h1 id="174b" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">使用您的Bash配置</h1><p id="a440" class="pw-post-body-paragraph ki kj it kk b kl ms ju kn ko mt jx kq kr mu kt ku kv mv kx ky kz mw lb lc ld im bi translated"><em class="mx">这部分适用于基于Debian的Linux发行版如Ubuntu上的Bash。</em></p><p id="6616" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我在Ubuntu上用的是bash。当我在一个目录上时，我的bash会显示如下内容:</p><pre class="lf lg lh li gt mi mj mk ml aw mm bi"><span id="814d" class="mn lr it mj b gy mo mp l mq mr">mohammad@pc:~/Dev/my-git-project$ </span></pre><p id="b008" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，我一直都知道我在使用哪个用户帐户，在哪个主机上，在那个主机的什么地方。如果您的git分支能够额外显示出来，那将会非常有用。为此，使用您选择的编辑器打开您的<code class="fe my mz na mj b">.bashrc</code>文件:</p><pre class="lf lg lh li gt mi mj mk ml aw mm bi"><span id="c6e0" class="mn lr it mj b gy mo mp l mq mr">vim ~/.bashrc</span></pre><p id="8c12" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">并将下面一行添加到文件的末尾:</p><pre class="lf lg lh li gt mi mj mk ml aw mm bi"><span id="dd85" class="mn lr it mj b gy mo mp l mq mr"><strong class="mj iu">PS1</strong>="${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\[\e[91m\]\$(__git_ps1 ' [%s]')\[\e[00m\]\$ "</span></pre><p id="dcb6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">保存并退出。现在，打开一个新的终端(或键入<code class="fe my mz na mj b">source ~/.bashrc</code>)，每当您在git存储库中时，git分支就会出现:</p><pre class="lf lg lh li gt mi mj mk ml aw mm bi"><span id="0513" class="mn lr it mj b gy mo mp l mq mr">mohammad@pc:~/Dev/my-git-project <strong class="mj iu">[master]</strong>$</span></pre><h1 id="a9e0" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">结论</h1><p id="9cef" class="pw-post-body-paragraph ki kj it kk b kl ms ju kn ko mt jx kq kr mu kt ku kv mv kx ky kz mw lb lc ld im bi translated">试着配置你的shell来显示git分支，这样可以节省你很多时间。</p><ul class=""><li id="878c" class="nb nc it kk b kl km ko kp kr nd kv ne kz nf ld ng nh ni nj bi translated">阅读我的<a class="ae nk" href="https://medium.com/@aerabi/16-git-tips-and-tricks-bf08d0602d3b" rel="noopener">“16个Git技巧和窍门”</a></li><li id="7a47" class="nb nc it kk b kl nl ko nm kr nn kv no kz np ld ng nh ni nj bi translated"><a class="ae nk" href="https://medium.com/subscribe/@aerabi" rel="noopener">订阅</a>git上的每周内容</li></ul></div></div>    
</body>
</html>