<html>
<head>
<title>Why You Should Use Kubernetes In Your Next Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么你应该在你的下一个项目中使用Kubernetes</h1>
<blockquote>原文：<a href="https://itnext.io/why-you-should-use-kubernetes-in-your-next-project-8081c7b6c6e0?source=collection_archive---------1-----------------------#2018-11-21">https://itnext.io/why-you-should-use-kubernetes-in-your-next-project-8081c7b6c6e0?source=collection_archive---------1-----------------------#2018-11-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/5016be9a587fd8b6a77076bb64d13687.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xqo3tt3P2wyDZDEYmfgEwA.png"/></div></div></figure><p id="f065" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw">说真的，容器编排工具有什么特别的？让我们打开Kubernetes的包装，看看里面有什么。</em></p><p id="61be" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你已经有几个月没有生活在岩石下了，你可能听说过Kubernetes，又名Kube或K8s，它是市场上最好的容器编排工具之一。乍一看，与Docker Compose相比，Kubernetes可能看起来像火箭科学。然而，由于在初始设置上付出了更多的努力，您将获得一个可扩展、灵活且耐用的云平台，非常适合微服务。</p><h1 id="0660" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">什么是容器？</h1><p id="b66b" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">简而言之，容器是一个包含应用程序代码及其启动应用程序所需的所有依赖项的包。容器内的应用程序与主机系统的其余部分相隔离，并且总是以相同的方式运行，不管环境如何。</p><p id="b76c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">与虚拟机不同，容器不必贯穿操作系统启动的整个周期。这就是为什么它们可以更快地开始和结束工作，并更有效地利用磁盘、内存和处理器容量。此外，你不必记住用什么语言和框架来编写一个应用程序，因为它被打包到一个容器中，里面有它需要的一切(运行时、库等)。)可以在任何环境中安全地迁移和部署。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ma"><img src="../Images/7a8988797cdf90233cd3387f8265d91c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tGUPq9fR11WL2LRrrzeyjA.jpeg"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated"><em class="mj">在传统模式中(左侧)，应用程序直接部署在服务器或虚拟机上。与它们不同，容器化基础设施中的应用程序都被打包到一个单独的容器中，这意味着它们将在任何环境中启动更快、扩展更智能、运行更流畅。</em></figcaption></figure><h1 id="da0d" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">什么是Kubernetes？</h1><p id="d9c5" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">Kubernetes是一个开源项目，用于将容器化应用集群作为一个统一的系统进行管理。Kubernetes管理打包到容器(也称为“pod”)中的应用程序组的可伸缩性、复制和健康状况，并解决在大量主机(节点)上启动和平衡pod的问题。该项目最初由Google发布，现在得到了许多公司的支持，如微软、RedHat、IBM和Docker。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mk"><img src="../Images/340c6ee9af8113bf59ae415af8f5c87b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pmWZITWu9z4L1QSf.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">当编写一个将进一步容器化的应用程序时，最好从一开始就有一个微服务方法。否则如果app写的是monolith，以后就很难打包成容器了。</figcaption></figure><p id="9b82" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们快速浏览一下与虚拟机相比Kubernetes的一些最显著的优势。</p><h1 id="9adc" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">1.一个平台来统治他们</h1><p id="96a0" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">有了Kubernetes，部署任何应用程序都轻而易举。一般来说，如果一个应用程序可以打包到一个容器中，Kubernetes肯定能够启动它。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mk"><img src="../Images/4750e6b0dd6eeebf5005f01e62a1c463.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Ec_fYWzGEwPwWYg5.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">无论使用何种语言或框架来编写应用程序(Java、Python、Node.js等)。)，Kubernetes能够在任何环境中安全地启动它，无论是物理服务器、虚拟机还是云。</figcaption></figure><h1 id="4f8f" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">2.云不可知论</h1><p id="8fa7" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">你有没有尝试过将基础设施从GCP迁移到AWS或Azure？有了Kubernetes，您不必担心云服务提供商的特性，因为它可以处理任何特性。设计您的基础设施一次，并运行在任何地方。很酷，不是吗？</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mk"><img src="../Images/dfbaea245ad101bb23069a5971408230.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jwC63YeS22Ky2o_X.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">Kubernetes与主要的云提供商完全兼容，如谷歌云、亚马逊网络服务和微软Azure。它在CloudStack、OpenStack、OVirt、Photon和VSphere上也能很好地工作。</figcaption></figure><h1 id="ebd1" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">3.资源利用效率高</h1><p id="e687" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">看下图。在左侧，您可以看到四个虚拟机，其中正在运行的应用程序用黄色和蓝色标出，而空白区域是未使用的内存和处理器容量。在右边，您可以看到同样的应用程序被打包到容器中。你能感觉到不同吗？</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mk"><img src="../Images/a9150fb687fc09f339a21aa70f403b7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HCW5TiLzvh_PGbPR.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">Kubernetes有助于节省成本并有效利用内存和处理器资源</figcaption></figure><p id="6b50" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当Kubernetes发现节点没有充分发挥其能力时，它会在它们之间重新分配pod，以关闭未使用的节点并停止浪费资源。此外，如果一个节点由于某种原因关闭，Kubernetes将简单地重新创建在该节点上运行的pod，并在另一个节点上启动它们，这样就不会丢失数据。</p><h1 id="f767" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">4.现成的自动缩放</h1><p id="de5d" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">诸如网络、负载平衡和复制等特性在Kubernetes上是现成可用的。Kubernetes运行的Pods默认是无状态的；这意味着，如果在任何时候，其中一个发生故障，最终用户不会注意到他们这边的情况，因为他们的请求会立即由另一个pod处理。当200个用户突然变成2000个时，同样的事情也会发生——必要数量的pod可以在需要时自动发挥作用。反之亦然——当服务器负载降低时，Kubernetes可以自动减少pod的数量。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mk"><img src="../Images/09a0babb5e9185406bf3959790005367.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1N689WE05OMpkVYn.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">Kubernetes提高了应用程序的可扩展性，确保它不会在关键时刻崩溃。</figcaption></figure><h1 id="7660" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">5.简化的持续集成和部署(CI/CD)</h1><p id="9cca" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">Kubernetes使CI/CD过程不那么痛苦。您不需要精通Chef和ansi ble——您只需要编写一个简单的脚本并在任何CI服务上运行它。然后，它将使用您的代码创建一个新的pod，并将其部署到您的Kubernetes集群中。此外，打包到容器中的应用程序可以在任何地方安全地启动——从您的个人电脑到云服务器——使它们非常容易测试。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mk"><img src="../Images/bfdd6f53c89b42375a4c8904076e007a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LcAKvqjoHpSXkdp-.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">容器化的应用程序与持续测试、可伸缩性和快速部署的CI/CD原则密切相关。</figcaption></figure><h1 id="626e" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">6.持久性</h1><p id="6dab" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">Kubernetes现在如此受欢迎的原因之一是，一个应用程序的顺利运行不能因为一个pod甚至整个节点的故障而中断。在这种情况下，Kubernetes将创建必要数量的应用程序映像，并将它们重新分发到一个健康的pod或节点，直到系统恢复。您可以放心，最终用户不会注意到他们这边的任何事情。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mk"><img src="../Images/906e32c8a4151ac91d89423c79450bd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*iEPOitzgpI0iGu7G.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">容器化的基础设施是自我修复的，即使基础设施的一部分出现故障，也可以提供应用程序的不间断运行。</figcaption></figure><h1 id="5a04" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">结论</h1><p id="cb18" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">Kubernetes使启动、迁移和部署容器化的应用程序更加容易和安全。因此，不要担心应用程序在迁移后无法正常工作，也不要担心服务器无法处理突然涌入的用户。</p><p id="b797" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你必须记住的唯一一件事是，应用程序最初应该使用微服务方法来开发。否则，如果app是monolith，就很难把它打包到一个容器里。但是与你得到的所有可能性相比，这只是一个小问题，对吗？</p></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><p id="6e48" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw">最初发表于</em><a class="ae ms" href="https://yellow.id/blog/why-you-should-use-kubernetes-in-your-next-project" rel="noopener ugc nofollow" target="_blank"><em class="kw">yellow . id</em></a><em class="kw">。</em></p></div></div>    
</body>
</html>