<html>
<head>
<title>How Kubernetes API Extensions enable Platform-as-Code Experience</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Kubernetes API扩展如何实现平台即代码体验</h1>
<blockquote>原文：<a href="https://itnext.io/how-kubernetes-api-extensions-enable-platform-as-code-experience-cbb72b0970d9?source=collection_archive---------1-----------------------#2018-09-23">https://itnext.io/how-kubernetes-api-extensions-enable-platform-as-code-experience-cbb72b0970d9?source=collection_archive---------1-----------------------#2018-09-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="7b5f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我们关于Kubernetes world 中PAA se向平台即代码的演进的文章中，我们讨论了PAA se如何通过Kubernetes向平台即代码系统演进。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/f0d102eac71b3e3ecf28ef3e9d1c93b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T7hbwxphzROyLjjnnvUeLQ.jpeg"/></div></div></figure><p id="b74e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这个演进框图中，Kubernetes表现在两个层面:容器即服务(CaaS)和平台即代码(PaC)。Kubernetes的设计是一个CaaS系统。此外，它还可以被视为具有声明性YAML定义的平台代码系统。</p><p id="193a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">平台即代码系统是这样一种系统，它允许以声明性格式定义应用程序平台元素，并允许使用该定义可重复地创建应用程序平台。平台元素的例子可以是MySQL(数据库)、Nginx (web服务器)等。</p><p id="00fd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">还有其他现有的CaaS或PaaS系统也支持声明性定义。然而，使Kubernetes区别于这些系统的是其API可以被扩展以创建新的平台元素作为本地Kubernetes对象的独特方式。使用Kubernetes的自定义资源定义(CRD)和聚合API服务器(AA)机制，可以扩展Kubernetes API以在Kubernetes集群中添加新的平台元素作为本地Kubernetes对象。这种可扩展性与Kubernetes YAML定义相结合，使得Kubernetes可以与CaaS系统一起被称为平台即代码系统。</p><h1 id="1e4f" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">API扩展的好处</h1><p id="c25d" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">平台层(PaaS或PaC)的系统实现引入了新的抽象概念，以交付所需的平台化。传统上，创建这些抽象只有一种方法——包装底层的API。如前所述，Kubernetes引入了一种创建抽象的新方法——通过扩展API。所以现在有两个选项可以在Kubernetes上实现平台抽象，如下所示:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mb"><img src="../Images/d7915506d43dc6804730134804c31bcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l2WqPDfiYBJGRQ68rTxCww.jpeg"/></div></div></figure><p id="8cbb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">作为Kubernetes扩展而不是Kubernetes API包装器编写的平台抽象提供了以下优势:</p><p id="ffb6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">1.平台抽象的最终用户不需要学习任何新的CLI来使用它们。</p><p id="49f7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2.为了提供简单性，作为API包装器创建的抽象最终隐藏了一些底层API功能，因此最终用户可能无法获得所需的控制级别。</p><p id="963e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.为基本Kubernetes编写的工具(例如Helm)可以很容易地与作为API扩展创建的抽象一起使用，但对于作为API包装器创建的抽象，情况可能就不一样了。</p><p id="bd18" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">4.类似地，审计、RBAC等高级功能。可以很容易地用于使用API扩展创建的平台抽象。对于API包装器这样的抽象来说，情况可能不是这样，您必须在代码中为您的抽象层处理这样的高级函数。</p><h1 id="1446" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">平台即代码的影响</h1><p id="7283" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">这种新的平台即代码体验利用了Kubernetes的可扩展性，使团队能够在以下方面发挥作用:</p><ul class=""><li id="78e1" class="mc md iq jp b jq jr ju jv jy me kc mf kg mg kk mh mi mj mk bi translated">开发人员和运营人员之间的共同语言</li></ul><p id="264d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">传统上，由于开发人员和运营人员之间缺乏通用的工具，他们之间的交流受到了影响。运营部门使用他们首选的工具来提供平台元素，而开发人员需要学习运营自动化的一部分，以便在其应用程序堆栈中使用这些资源。Kubernetes上的平台即代码在CaaS和PaC层用Kubernetes YAMLs建立了一种声明性语言，并在Ops和开发工具链之间带来了更多的一致性。Ops使用kubectl和YAML来扩展基本的Kubernetes集群，为所需的平台元素提供操作者/API扩展。开发人员使用相同的kubectl和YAML来消费这些添加的定制资源和本地Kubernetes资源。</p><ul class=""><li id="1c75" class="mc md iq jp b jq jr ju jv jy me kc mf kg mg kk mh mi mj mk bi translated">构建您自己的PaaS</li></ul><p id="e980" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">团队可以通过使用多个社区平台抽象来组成他们自己的PaaS，而不是依赖单一的PaaS供应商和他们专有的抽象，这些抽象被编写为Kubernetes API扩展。</p><p id="7ef2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kl" href="http://www.cloudark.io" rel="noopener ugc nofollow" target="_blank"> www.cloudark.io </a></p></div></div>    
</body>
</html>