<html>
<head>
<title>What is “Props” and how to use it in React?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是“道具”，如何在React中使用？</h1>
<blockquote>原文：<a href="https://itnext.io/what-is-props-and-how-to-use-it-in-react-da307f500da0?source=collection_archive---------0-----------------------#2019-10-07">https://itnext.io/what-is-props-and-how-to-use-it-in-react-da307f500da0?source=collection_archive---------0-----------------------#2019-10-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/80d731d1d749f90340def751dfa28a09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*27LtOtFyJe7MguQkNcZQjQ.png"/></div></div></figure><p id="b0f2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">与其他框架相比，React有一种不同的处理数据流和操作的方法，这就是为什么一开始理解一些概念(如道具、状态等)会很困难。</p><p id="be64" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我认为最好在单独的帖子中继续解释它们，在本文中，我们将重点关注<strong class="ka ir"> React的Props </strong>功能以及如何使用它。</p><p id="aba6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">要理解道具是如何工作的，首先，你需要对组件的概念有一个大致的了解。如果你不太了解React中的组件，我推荐阅读我的<a class="ae kw" href="https://codeburst.io/react-js-understanding-functional-class-components-e65d723e909" rel="noopener" target="_blank">以前关于React组件</a>的文章。</p><blockquote class="kx ky kz"><p id="f858" class="jy jz la ka b kb kc kd ke kf kg kh ki lb kk kl km lc ko kp kq ld ks kt ku kv ij bi translated"><em class="iq">如果你有兴趣学习更多编程知识，可以考虑订阅</em> <a class="ae kw" href="https://bit.ly/2KXEBsv" rel="noopener ugc nofollow" target="_blank"> <em class="iq">我的简讯</em> </a> <em class="iq">。</em></p></blockquote></div><div class="ab cl le lf hu lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ij ik il im in"><h1 id="9efd" class="ll lm iq bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">什么是道具？</h1><p id="fa15" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated"><strong class="ka ir"> React是一个基于组件的库</strong>，它将用户界面分成可重用的小块。在某些情况下，这些组件需要通信(相互发送数据),在组件之间传递数据的方式是使用<strong class="ka ir"> props。</strong></p><p id="8f66" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">“Props”</strong>是React中的一个特殊关键字，代表<strong class="ka ir">属性</strong>，用于<strong class="ka ir">将数据从一个组件传递到另一个</strong>。</p><p id="143d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但是这里重要的部分是，带有道具的数据是以<strong class="ka ir">单向流</strong>传递的。(从父母到孩子的单向)</p><p id="2643" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">此外，<strong class="ka ir"> props数据是只读的，</strong>这意味着来自父<strong class="ka ir">的数据不应被子组件</strong>改变。</p><p id="b7cc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">好了，现在让我们通过一个例子来看看如何使用道具…</p><blockquote class="kx ky kz"><p id="6d65" class="jy jz la ka b kb kc kd ke kf kg kh ki lb kk kl km lc ko kp kq ld ks kt ku kv ij bi translated">注:你也可以通过看我的<a class="ae kw" href="https://youtu.be/M_Fmvs5CiDo" rel="noopener ugc nofollow" target="_blank">教程视频</a>来学习如何使用道具。</p></blockquote><figure class="mo mp mq mr gt jr"><div class="bz fp l di"><div class="ms mt l"/></div></figure><h1 id="9485" class="ll lm iq bd ln lo mu lq lr ls mv lu lv lw mw ly lz ma mx mc md me my mg mh mi bi translated">在React中使用道具</h1><p id="34e0" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">我将一步一步地解释如何使用道具。</p><ol class=""><li id="dc6f" class="mz na iq ka b kb kc kf kg kj nb kn nc kr nd kv ne nf ng nh bi translated">首先，定义一个属性及其值(数据)</li><li id="b935" class="mz na iq ka b kb ni kf nj kj nk kn nl kr nm kv ne nf ng nh bi translated">然后使用Props将它传递给子组件</li><li id="bade" class="mz na iq ka b kb ni kf nj kj nk kn nl kr nm kv ne nf ng nh bi translated">最后，渲染道具数据</li></ol><p id="6810" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我以前的文章中，我已经展示了如何在另一个组件中创建&amp;调用一个React组件。所以在这个例子中，我们有一个包含另一个组件(子组件)的<strong class="ka ir"> ParentComponent </strong>:</p><pre class="mo mp mq mr gt nn no np nq aw nr bi"><span id="ded0" class="ns lm iq no b gy nt nu l nv nw"><strong class="no ir">class</strong> ParentComponent <strong class="no ir">extends</strong> Component {<strong class="no ir">  <br/>  render()</strong> {<br/>    <strong class="no ir">return</strong> <strong class="no ir">(<br/>      &lt;h1&gt;<br/>        </strong>I'm the parent component.<br/>        <strong class="no ir">&lt;ChildComponent /&gt;</strong><br/>      <strong class="no ir">&lt;/h1&gt;<br/>    );</strong><br/>  }<br/>}</span></pre><p id="4844" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是我们的<strong class="ka ir">子组件</strong>:</p><pre class="mo mp mq mr gt nn no np nq aw nr bi"><span id="fa6a" class="ns lm iq no b gy nt nu l nv nw"><strong class="no ir">const</strong> ChildComponent = () =&gt; {  <br/>  <strong class="no ir">return</strong> <strong class="no ir">&lt;p&gt;</strong>I'm the 1st child!<strong class="no ir">&lt;/p&gt;</strong>; <br/>};</span></pre><p id="e94e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里的问题是，当我们多次调用<strong class="ka ir">子组件</strong>时:</p><pre class="mo mp mq mr gt nn no np nq aw nr bi"><span id="41a4" class="ns lm iq no b gy nt nu l nv nw"><strong class="no ir">class</strong> ParentComponent <strong class="no ir">extends</strong> Component {<strong class="no ir">  <br/>  render()</strong> {<br/>    <strong class="no ir">return</strong> <strong class="no ir">(<br/>      &lt;h1&gt;<br/>        </strong>I'm the parent component.<br/>        <strong class="no ir">&lt;ChildComponent /&gt;<br/>        &lt;ChildComponent /&gt;<br/>        &lt;ChildComponent /&gt;<br/>      &lt;/h1&gt;<br/>    );</strong><br/>  }<br/>}</span></pre><p id="162e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它总是一次又一次地呈现相同的字符串:</p><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nx"><img src="../Images/d4f84a73aa40db4944e688d82b09db71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rzX4l1-rJn4c4_yeqooFbQ.png"/></div></div></figure><p id="a3f2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但是我们在这里想做的是获得动态输出，因为每个子组件可能有不同的数据，让我们看看如何通过使用<strong class="ka ir"> props </strong>来解决这个问题…</p><h2 id="24f3" class="ns lm iq bd ln ny nz dn lr oa ob dp lv kj oc od lz kn oe of md kr og oh mh oi bi translated">第一步:定义属性和数据</h2><p id="5ac5" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">我们已经知道可以给HTML标签分配属性和值:</p><pre class="mo mp mq mr gt nn no np nq aw nr bi"><span id="afc2" class="ns lm iq no b gy nt nu l nv nw"><strong class="no ir">&lt;a href="www.google.com"&gt;</strong>Click here to visit Google<strong class="no ir">&lt;/a&gt;</strong>;</span></pre><p id="a22b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">同样，我们可以对React组件做同样的事情。我们可以定义自己的属性，并用<strong class="ka ir">插值{ }: </strong>赋值</p><pre class="mo mp mq mr gt nn no np nq aw nr bi"><span id="047c" class="ns lm iq no b gy nt nu l nv nw">&lt;ChildComponent<strong class="no ir"> someAttribute={value}</strong> <strong class="no ir">anotherAttribute={value}</strong>/&gt;</span></pre><p id="59e1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这里，我为<strong class="ka ir">子组件</strong>声明了一个<strong class="ka ir"> "text" </strong>属性，然后分配了一个字符串值:“<strong class="ka ir">我是第一个子组件</strong>”。</p><pre class="mo mp mq mr gt nn no np nq aw nr bi"><span id="9316" class="ns lm iq no b gy nt nu l nv nw">&lt;ChildComponent<strong class="no ir"> text={</strong>“<strong class="no ir">I’m the 1st child</strong>”<strong class="no ir">}</strong> /&gt;</span></pre><p id="053e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在<strong class="ka ir">子组件</strong>有了属性和值。接下来，我们需要通过<strong class="ka ir">道具来传递。</strong></p><h2 id="104d" class="ns lm iq bd ln ny nz dn lr oa ob dp lv kj oc od lz kn oe of md kr og oh mh oi bi translated">第二步:使用Props传递数据</h2><p id="05a7" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">好，现在让我们来看看<strong class="ka ir">“我是第一个孩子！”</strong>用道具串起来传。</p><p id="58d3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">传递道具很简单。就像我们将参数传递给函数一样，我们将props传递给React组件，props带来所有必要的数据。</p><p id="814a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">传递给函数的参数:</strong></p><pre class="mo mp mq mr gt nn no np nq aw nr bi"><span id="9b2c" class="ns lm iq no b gy nt nu l nv nw"><strong class="no ir">const</strong> addition = (firstNum, secondNum) =&gt; {  <br/>  <strong class="no ir">return</strong> firstNum + secondNum; <br/>};</span></pre><p id="0871" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">传递给React组件的参数:</strong></p><pre class="mo mp mq mr gt nn no np nq aw nr bi"><span id="aaf2" class="ns lm iq no b gy nt nu l nv nw"><strong class="no ir">const</strong> ChildComponent = (<strong class="no ir">props</strong>) =&gt; {  <br/>  <strong class="no ir">return</strong> <strong class="no ir">&lt;p&gt;</strong>I'm the 1st child!<strong class="no ir">&lt;/p&gt;</strong>; <br/>};</span></pre><blockquote class="kx ky kz"><p id="ce37" class="jy jz la ka b kb kc kd ke kf kg kh ki lb kk kl km lc ko kp kq ld ks kt ku kv ij bi translated">Props是传递给React组件的参数。—w3schools.com</p></blockquote><h2 id="dbc2" class="ns lm iq bd ln ny nz dn lr oa ob dp lv kj oc od lz kn oe of md kr og oh mh oi bi translated">最后一步:渲染道具数据</h2><p id="c190" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">好了，到目前为止，我们已经创建了一个属性和它的值，然后我们通过道具传递它，但我们仍然看不到它，因为我们还没有渲染它。</p><h2 id="e9e5" class="ns lm iq bd ln ny nz dn lr oa ob dp lv kj oc od lz kn oe of md kr og oh mh oi bi translated">道具是一种物品</h2><p id="2f94" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">在最后一步，我们将使用字符串插值来渲染道具对象:</p><pre class="mo mp mq mr gt nn no np nq aw nr bi"><span id="fa95" class="ns lm iq no b gy nt nu l nv nw"><strong class="no ir">{props}</strong></span></pre><p id="297f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但是首先将道具记录到控制台，看看它会显示什么:</p><pre class="mo mp mq mr gt nn no np nq aw nr bi"><span id="b0af" class="ns lm iq no b gy nt nu l nv nw"><strong class="no ir">console.log(props);</strong></span></pre><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oj"><img src="../Images/05a162260e27d88ebaac2d4137143fd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*adfjNBKTxR6kf8xJLyzquA.png"/></div></div></figure><p id="e4cf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以看到，<strong class="ka ir">道具</strong>返回一个对象。在JavaScript中，我们可以用<strong class="ka ir">点(.)批注</strong>。因此，让我们用插值来呈现我们的<strong class="ka ir">文本</strong>属性:</p><pre class="mo mp mq mr gt nn no np nq aw nr bi"><span id="eea2" class="ns lm iq no b gy nt nu l nv nw"><strong class="no ir">const</strong> ChildComponent = (<strong class="no ir">props</strong>) =&gt; {  <br/>  <strong class="no ir">return</strong> &lt;p&gt;<strong class="no ir">{props.text}</strong>&lt;/p&gt;; <br/>};</span></pre><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ok"><img src="../Images/4b80acbb51e78e91f479952f2a5c4c17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UuipOqB2yPyC1JPB8MTxpQ.png"/></div></div></figure><p id="f737" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">就是这样！我们已经实现了渲染来自父组件的数据。</p><p id="40d6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在关闭之前，让我们对其他子组件进行同样的操作:</p><pre class="mo mp mq mr gt nn no np nq aw nr bi"><span id="2f25" class="ns lm iq no b gy nt nu l nv nw"><strong class="no ir">class</strong> ParentComponent <strong class="no ir">extends</strong> Component {<strong class="no ir">  <br/>  render()</strong> {<br/>    <strong class="no ir">return</strong> <strong class="no ir">(<br/>      &lt;h1&gt;<br/>        </strong>I'm the parent component.<br/>        &lt;ChildComponent <strong class="no ir">text={"I'm the 1st child"} </strong>/&gt;<br/>        &lt;ChildComponent <strong class="no ir">text={"I'm the 2nd child"</strong>} /&gt;<br/>        &lt;ChildComponent <strong class="no ir">text={"I'm the 3rd child"} </strong>/&gt;<strong class="no ir"><br/>      &lt;/h1&gt;<br/>    );</strong><br/>  }<br/>}</span></pre><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ol"><img src="../Images/bd94676dd4a7c368e21e811edb8681e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kd52H-jKv6N1Cwgnaz4tOA.png"/></div></div></figure><p id="73fe" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">正如我们所看到的，每个<strong class="ka ir">子组件</strong>现在呈现它自己的属性数据。这就是我们如何使用Props来传递数据并将静态组件转换成动态组件。</p></div><div class="ab cl le lf hu lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ij ik il im in"><h1 id="1510" class="ll lm iq bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">概述:</h1><ul class=""><li id="5851" class="mz na iq ka b kb mj kf mk kj om kn on kr oo kv op nf ng nh bi translated">Props代表属性，是React中的一个特殊关键字</li><li id="3e6f" class="mz na iq ka b kb ni kf nj kj nk kn nl kr nm kv op nf ng nh bi translated">属性被传递给像函数参数这样的组件</li><li id="beed" class="mz na iq ka b kb ni kf nj kj nk kn nl kr nm kv op nf ng nh bi translated">道具只能以一种方式传递给组件(父级到子级)</li><li id="9144" class="mz na iq ka b kb ni kf nj kj nk kn nl kr nm kv op nf ng nh bi translated">Props数据是不可变的(只读)</li></ul><p id="df67" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">理解React的数据操作方法需要时间。我希望我的帖子能帮助你变得更善于应对。如果你有任何问题，请在下面评论。接下来，您可以阅读如何使用另一个特殊的React特性来管理数据:<a class="ae kw" href="https://codeburst.io/react-js-understanding-state-e875911e921c" rel="noopener" target="_blank"> <strong class="ka ir">状态。</strong> </a></p></div><div class="ab cl le lf hu lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ij ik il im in"><p id="4fda" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">喜欢这篇文章吗？Medium是一个很棒的平台，可以承载成千上万篇很棒的文章，却不显示任何广告。由于Medium是无广告的，热爱这个平台的读者可以通过成为会员来支持它。</p><p id="df7e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://medium.com/@cem.eygi/membership" rel="noopener">你可以成为这里的媒体会员</a>并且拥有<strong class="ka ir">无限制</strong>访问媒体上的每一个故事。如果你使用上面的链接，它也会支持我成为一个作家，因为我会从Medium赚一点佣金。谢谢:)</p></div></div>    
</body>
</html>