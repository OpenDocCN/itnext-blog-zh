<html>
<head>
<title>How to Easily Reuse Components Across Projects and Repositories</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何轻松地跨项目和存储库重用组件</h1>
<blockquote>原文：<a href="https://itnext.io/how-to-easily-reuse-components-across-projects-and-repositories-fa73f8ba2a83?source=collection_archive---------0-----------------------#2019-09-17">https://itnext.io/how-to-easily-reuse-components-across-projects-and-repositories-fa73f8ba2a83?source=collection_archive---------0-----------------------#2019-09-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0e44" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">通过组件构建、分发和协作来构建多个项目和应用程序——实用指南。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/550de19e7477b495be7815e6b7762551.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0lvyAHxRcP7HTDaToUsjbg.png"/></div></div></figure><p id="a9a6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">组件<a class="ae ln" rel="noopener ugc nofollow" target="_blank" href="/a-guide-to-component-driven-development-cdd-1516f65d8b55">推动现代应用的开发</a>。除了作为为你的用户形成<a class="ae ln" href="https://blog.bitsrc.io/building-a-consistent-ui-design-system-4481fb37470f" rel="noopener ugc nofollow" target="_blank">体验的UI元素</a>之外，它们也是<a class="ae ln" href="https://addyosmani.com/first/" rel="noopener ugc nofollow" target="_blank">可重用和模块化的代码单元</a>，它们应该经常在不止一个项目中使用。</p><p id="1d89" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当你开始进入为你的组织构建一个<a class="ae ln" href="https://blog.bitsrc.io/sharing-components-is-caring-f8235cf1a0c" rel="noopener ugc nofollow" target="_blank">共享组件架构</a>的世界时，你最终不得不解决一些棘手的问题，比如如何独立开发组件但避免太多存储库的开销，如何版本化、发布和单独管理每个组件，如何帮助其他人发现和采用组件等等。</p><p id="0e96" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这些都是很深的问题，从组件开发的monorepo体验到组件的跨存储库管理，等等。在本帖中，我们将看到如何利用有用的工具和工作流来开发、分发和采用跨项目的组件。</p><h1 id="c797" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">框架/无框架</h1><p id="bf45" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">你基本上有两个选择。第一种是使用React、Angular或Vue之类的框架。好处是您可以享受成熟框架的所有搭建和优势。</p><p id="9e2d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">但是，您也可以选择<a class="ae ln" href="https://blog.bitsrc.io/9-web-component-ui-libraries-you-should-know-in-2019-9d4476c3f103" rel="noopener ugc nofollow" target="_blank"> web组件</a>及其<a class="ae ln" href="https://blog.bitsrc.io/7-tools-for-developing-web-components-in-2019-1d5b7360654d" rel="noopener ugc nofollow" target="_blank">工具，如模板等</a>。优点是这些组件是框架不可知的，这有助于在基于不同框架的项目中重用和利用组件。</p><h1 id="2404" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">多个存储库的Monorepo体验？</h1><p id="852b" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">你必须弄清楚哪种架构适合你。为了避免在独立存储库中开发每个组件的开销，<a class="ae ln" href="https://blog.bitsrc.io/do-we-really-use-reusable-components-959a252a0a98" rel="noopener ugc nofollow" target="_blank">许多团队选择</a>将组件分组到组件库中。</p><p id="0472" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">像<a class="ae ln" href="https://github.com/teambit/bit" rel="noopener ugc nofollow" target="_blank"> Bit (GitHub) </a>这样的指定工具可以让您完全独立地开发、构建和测试库中的各个组件。使用Bit，任何存储库(和库)中的每个组件都可以作为一个独立的单元来跟踪，并自动将其与所有依赖项打包在一起。然后，组件可以独立地链接到一个编译器(不需要任何配置)，这样就可以独立地构建、测试和呈现它们。然后，可以从存储库中对多个组件进行版本控制和发布。当您更新单个组件时，Bit“知道”哪些其他组件依赖于它，并帮助您更新受更新影响的所有组件。</p><p id="c67a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">它还提供了额外的“类似monorepo”的功能，这些功能对于代码共享非常有用，例如自动本地链接、多组件配置控制、子集和增量构建、循环依赖处理、动态工作区、单NPM安装等等。</p><p id="a66e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">另一个选择是将所有的<a class="ae ln" href="https://blog.bitsrc.io/sharing-components-is-caring-f8235cf1a0c" rel="noopener ugc nofollow" target="_blank">项目重构为一个monorepo </a>，但是这是一个巨大的决定，不仅仅是为了共享代码。您还可以使用其他优秀的辅助工具(如Lerna)来版本化和发布repo中的组件，但是大多数工具都需要大量的重构和配置，并且不控制组件的依赖图。无论哪种方式，试着看看什么有效。</p><h1 id="2594" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">跨存储库的分发和使用</h1><p id="e3ff" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">当你发布你的组件时，事情还远没有结束。你必须确保人们能够找到、使用和更新这些组件。</p><p id="eeef" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">否则，你可能会白白投入这些工作；大多数人不会花太多心思去寻找你的组件，也不会采用那些他们不能修改的组件。深入整个库并仅针对一个组件进行更新可能是一个繁琐的过程。</p><h2 id="946a" class="ml lp iq bd lq mm mn dn lu mo mp dp ly la mq mr ma le ms mt mc li mu mv me mw bi translated"><strong class="ak">建立共享组件门户；</strong>让它好看！</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><a href="https://bit.dev"><div class="gh gi mx"><img src="../Images/c57f91bb0d8c1a7ff6a9b49c147fe75e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*_pJWY5BIF6TTTfIEKOcfug.gif"/></div></a><figcaption class="my mz gj gh gi na nb bd b be z dk translated">在bit.dev中创建您的组件中心</figcaption></figure><p id="6ec0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了将所有人聚集在您的共享组件上，并整合组件的发现和消费，您可以创建自己的组件门户，或者只使用像<a class="ae ln" href="https://bit.dev" rel="noopener ugc nofollow" target="_blank"> bit.dev </a>这样的基于云的门户。</p><p id="6a67" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这种门户提供的关键要素是:</p><ul class=""><li id="43fb" class="nc nd iq kt b ku kv kx ky la ne le nf li ng lm nh ni nj nk bi translated">查找团队共享的组件。</li><li id="f9bd" class="nc nd iq kt b ku nl kx nm la nn le no li np lm nh ni nj nk bi translated">了解他们的API并使用实时渲染的示例。</li><li id="00c6" class="nc nd iq kt b ku nl kx nm la nn le no li np lm nh ni nj nk bi translated">在不同的项目中使用单独的组件。</li><li id="d0c2" class="nc nd iq kt b ku nl kx nm la nn le no li np lm nh ni nj nk bi translated">理想情况下，为每个组件运行构建和测试。</li></ul><p id="788a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你自己构建它，可能需要一段时间，但这是可能的。如果您选择<a class="ae ln" href="https://bit.dev" rel="noopener ugc nofollow" target="_blank"> bit.dev </a>，您将获得上述所有开箱即用的功能以及管理权限、控制工作流等功能。它将托管您的组件，运行它们的CI，让您保存和使用呈现的代码示例，提取组件的API文档，并让您使用npm/yarn安装它们。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><a href="https://bit.dev"><div class="gh gi mx"><img src="../Images/2af0ec624a4a0be259be271396e347d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*eby7DKoLT-OCpOswu2HEbw.gif"/></div></a><figcaption class="my mz gj gh gi na nb bd b be z dk translated">bit.dev-查找、学习、尝试和安装组件</figcaption></figure><h2 id="5cbf" class="ml lp iq bd lq mm mn dn lu mo mp dp ly la mq mr ma le ms mt mc li mu mv me mw bi translated">启用单个或批量组件更新；不是整个图书馆</h2><p id="9e41" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">您可以利用Bit来版本化和发布存储库中的单个组件，甚至可以批量发布多个组件。</p><p id="a526" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当您对一个组件进行更改时，Bit将允许您只更新组件本身的版本以及存储库中依赖于它的组件的版本，因此您不必修改整个库。</p><p id="11f5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后，这些组件的消费者可以只获得他们安装的组件(及其依赖组件)的更新，而不必为整个库带来多余的更新。</p><h2 id="dd2f" class="ml lp iq bd lq mm mn dn lu mo mp dp ly la mq mr ma le ms mt mc li mu mv me mw bi translated">启用来自任何消费存储库的组件修改和更新；管理和控制跨项目的变更</h2><p id="159c" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">当你将组件发布到<a class="ae ln" href="https://bit.dev" rel="noopener ugc nofollow" target="_blank"> bit.dev </a>时，你可以做的不仅仅是将它们作为包安装；您可以将组件的实际源代码放入任何消费库。<strong class="kt ir">没有上下文切换</strong>，你也不必回到发布回购来建议你的改变。</p><p id="b260" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这个组件的“克隆”版本带有所有相关的文件和依赖项、一个链接的编译器，并按位进行版本控制和管理。因此，您可以只编辑代码并独立运行build+测试。</p><p id="2bb8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当您对结果满意时，只需<code class="fe nq nr ns nt b">bit tag</code>一个新版本，并将其导出回bit.dev。然后，这些更改可以更新到任何其他项目中，包括原始的发布库。可以在repo中使用Git合并更改，这样就可以很容易地在任何地方同步组件更改。</p><h1 id="0592" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">面向开发者的组件设计系统</h1><p id="8219" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">当你构建和共享组件时，你实际上是在构建一个<a class="ae ln" href="https://codeburst.io/ui-design-system-and-component-library-where-things-break-d9c55dc6e386" rel="noopener" target="_blank"> UI组件设计系统</a>。这个系统有能力使你的开发标准化，并为你的应用程序的用户提供一致和愉快的视觉和功能体验。</p><p id="7381" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">只是<a class="ae ln" href="https://codeburst.io/ui-design-system-and-component-library-where-things-break-d9c55dc6e386" rel="noopener" target="_blank">而不仅仅是一个库</a>，你在组织内获得了一个活生生的组件生态系统。你得到的不是一个静态的docs站点，而是一个可视化组件的组件中心，在这里每个人都可以很容易地找到、查看甚至使用你构建的实际组件。</p><h2 id="1b23" class="ml lp iq bd lq mm mn dn lu mo mp dp ly la mq mr ma le ms mt mc li mu mv me mw bi translated">具有实际代码组件的可视化设计系统</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><a href="https://bit.dev/components"><div class="gh gi nu"><img src="../Images/ab6467b06fb1b3375760d7915667596a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2ns2l6w5Jn8zrnWoDXRVng.png"/></div></a><figcaption class="my mz gj gh gi na nb bd b be z dk translated">UI组件设计系统:构建、发布、采用</figcaption></figure><p id="68dd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">通过bit.dev，实际的代码组件(React、Vue、Angular)被渲染和可视化，以便开发人员和设计人员可以准确地了解他们的组件在用户看来是什么样子、如何表现以及感觉如何。他们甚至可以在任何时候，在一个可编辑的操场上玩这些组件。</p><p id="08af" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">开发人员可以从他们和设计人员可以看到可视化组件的同一个地方轻松地找到并安装组件。</p><p id="ec74" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当开发人员对特定组件进行更改和更新版本时，设计人员可以立即看到新版本并监控更改，以确保实际组件适合他们的设计系统。</p><p id="435e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当开发人员在必要时可以灵活地对组件进行更改，并从他们自己的项目中提出更新建议时，这就创造了一种平衡，而设计人员可以随着时间的推移协作检查更改。</p><h2 id="a909" class="ml lp iq bd lq mm mn dn lu mo mp dp ly la mq mr ma le ms mt mc li mu mv me mw bi translated">组件库设计系统工作流程</h2><p id="78c3" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">使用Bit可以在库中独立地构建、打包和发布组件。然后，您可以将它们导出到bit.dev，在那里它们成为由实际的源代码组件组成的可视化设计系统。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/2ee5fd073ca4d561710283aa7f03ac8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1198/format:webp/1*MAUExCDRJrmCOJBSS7tPjA.png"/></div></figure><p id="8cce" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">通过bit.dev design，系统组件可以安装在其他项目中，或者导入到这些项目中进行更改，然后可以通过bit.dev同步回库。此工作流程有几个主要优势:</p><ul class=""><li id="cf71" class="nc nd iq kt b ku kv kx ky la ne le nf li ng lm nh ni nj nk bi translated"><strong class="kt ir">模块化组件开发</strong>:自动封装存储库中的组件及其所有依赖关系，链接一个编译器与0 build配置，你可以轻松地开始构建、测试和更新repo中的组件，只需要它们的依赖关系。然后，您可以批量发布您的组件，每个组件都作为一个独立的包。</li><li id="2d54" class="nc nd iq kt b ku nl kx nm la nn le no li np lm nh ni nj nk bi translated"><strong class="kt ir">简化的组件发现和消费</strong>:将您的组件整合到一个门户中，从这个门户中发现和消费它们。轻松更新和控制跨项目的变更。</li><li id="579a" class="nc nd iq kt b ku nl kx nm la nn le no li np lm nh ni nj nk bi translated"><strong class="kt ir">增加组件的采用和协作</strong>:让你自己和你团队中的其他人直接从他们自己的项目中建议对组件的修改，而不需要在复杂的库中进行上下文切换。增加组件的采用和使用，减少复制粘贴，提高跨应用程序和屏幕的UI标准化和一致性。</li></ul><h1 id="4c85" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">结论</h1><p id="070b" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">跨项目和存储库重用组件就是在您的项目和团队成员之间创建一个高效的组件经济。无论你是使用一个库还是在项目间直接共享组件，同样的3个关键仍然存在:将组件开发为可重用的单元，分发它们以便人们可以找到并使用它们，让你自己和其他人采用这些组件并协作进行更改。</p><p id="e374" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">请随时查看GitHub 上的<a class="ae ln" href="https://github.com/teambit/bit" rel="noopener ugc nofollow" target="_blank"> Bit，并随时联系任何问题、评论或反馈。快乐组件开发！🐥</a></p></div></div>    
</body>
</html>