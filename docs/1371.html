<html>
<head>
<title/>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1/>
<blockquote>原文：<a href="https://itnext.io/speeding-up-the-build-of-a-surprise-dinner-app-in-react-native-using-expo-2c18beabaaa7?source=collection_archive---------1-----------------------#2018-09-27">https://itnext.io/speeding-up-the-build-of-a-surprise-dinner-app-in-react-native-using-expo-2c18beabaaa7?source=collection_archive---------1-----------------------#2018-09-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/ea735ebac2f435642d5a3a5e9ba2d6b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WbacUV0jtenZXa46"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">由<a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae jd" href="https://unsplash.com/@todd_diemer?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">托德·迪默</a>创作的《窗边棕色桌子上的酒杯》</figcaption></figure></div><div class="ab cl je jf hu jg" role="separator"><span class="jh bw bk ji jj jk"/><span class="jh bw bk ji jj jk"/><span class="jh bw bk ji jj"/></div><div class="ij ik il im in"><p id="e43a" class="pw-post-body-paragraph jl jm jn jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ij bi translated"><strong class="jo kk">这是关于使用React Native为</strong><a class="ae jd" href="https://uncovercity.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jo kk">uncovercity</strong></a><strong class="jo kk">构建iOS和Android应用的4部分系列文章的第一篇。你可以在这里找到其他的:</strong></p><ol class=""><li id="66ad" class="kl km jn jo b jp jq jt ju jx kn kb ko kf kp kj kq kr ks kt bi translated">使用Expo加速构建React Native中的惊喜晚餐应用程序</li><li id="d93e" class="kl km jn jo b jp ku jt kv jx kw kb kx kf ky kj kq kr ks kt bi translated"><a class="ae jd" rel="noopener ugc nofollow" target="_blank" href="/battle-testing-a-ride-sharing-api-and-react-natives-mapview-in-expo-c0ce5d50cbf0">在Expo中对战测试拼车API和React Native的MapView</a></li><li id="0aa4" class="kl km jn jo b jp ku jt kv jx kw kb kx kf ky kj kq kr ks kt bi translated"><a class="ae jd" href="https://medium.com/@marcelkalveram/supporting-multiple-languages-in-react-native-with-expos-localization-module-9611f9e3b6a0" rel="noopener">通过Expo本地化在React Native中支持多种语言</a></li><li id="202c" class="kl km jn jo b jp ku jt kv jx kw kb kx kf ky kj kq kr ks kt bi translated"><a class="ae jd" href="https://medium.com/@marcelkalveram/the-intricacies-of-nesting-navigators-in-react-native-using-react-navigation-fef52ca72964" rel="noopener">使用react-navigation在React Native中嵌套导航器的复杂性</a></li></ol></div><div class="ab cl je jf hu jg" role="separator"><span class="jh bw bk ji jj jk"/><span class="jh bw bk ji jj jk"/><span class="jh bw bk ji jj"/></div><div class="ij ik il im in"><h1 id="10e6" class="kz la jn bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">使用Expo加速构建<strong class="ak"> React Native </strong>中的惊喜晚餐应用</h1><p id="2f18" class="pw-post-body-paragraph jl jm jn jo b jp lx jr js jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj ij bi translated">反应本土可能很难。但是很多繁重的工作可以通过它的开源伙伴工具链<a class="ae jd" href="https://expo.io/" rel="noopener ugc nofollow" target="_blank"> Expo </a>来完成。</p><p id="8a85" class="pw-post-body-paragraph jl jm jn jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ij bi translated">最近，我帮助西班牙初创公司<a class="ae jd" href="https://uncovercity.com/" rel="noopener ugc nofollow" target="_blank"> uncovercity </a>开发了一个移动应用程序，以增强他们的惊喜晚餐体验。</p><blockquote class="mc md me"><p id="15bc" class="jl jm mf jo b jp jq jr js jt ju jv jw mg jy jz ka mh kc kd ke mi kg kh ki kj ij bi translated">如果你是西班牙应用商店的用户，你可以在这里找到iOS版本的应用程序。然而，为了获得完整的应用程序体验，你必须在<a class="ae jd" href="https://uncovercity.com/" rel="noopener ugc nofollow" target="_blank">https://uncovercity.com/</a>预定一张桌子</p></blockquote><h1 id="be2c" class="kz la jn bd lb lc mj le lf lg mk li lj lk ml lm ln lo mm lq lr ls mn lu lv lw bi translated">挑战</h1><p id="fb16" class="pw-post-body-paragraph jl jm jn jo b jp lx jr js jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj ij bi translated">该项目的任务包括:</p><ul class=""><li id="961c" class="kl km jn jo b jp jq jt ju jx kn kb ko kf kp kj mo kr ks kt bi translated">向用户展示介绍性视频，让他们对即将到来的体验感到兴奋</li><li id="f69e" class="kl km jn jo b jp ku jt kv jx kw kb kx kf ky kj mo kr ks kt bi translated">使用拼车应用编程接口在特定位置接载用户，并在地图上显示客户车辆的当前位置</li><li id="5243" class="kl km jn jo b jp ku jt kv jx kw kb kx kf ky kj mo kr ks kt bi translated">显示几个弹出窗口，指示用户体验的当前状态(出租车在路上、出租车到达……)，并为每个状态变化发送推送通知</li></ul><div class="mp mq mr ms gt ab cb"><figure class="mt is mu mv mw mx my paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><img src="../Images/035a9413da718a79387ec0fb4140763d.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*LxiNYd8Sa_4RiL1UZiMtXg.png"/></div></figure><figure class="mt is mu mv mw mx my paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><img src="../Images/0bdf8de4b64b8f0604a27cc52feb9063.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*aKyIaJ3ufYwJEvUx6cqfZg.png"/></div></figure><figure class="mt is mu mv mw mx my paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><img src="../Images/2f98b3f030fb66c163d5371fa92cd9d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Y4tcCNpyJbZ3dHvrN6tnrA.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk mz di na nb translated">正在运行的uncovercity应用程序的截图。从左至右:视频体验预告、返程实时地图、应用内状态覆盖图</figcaption></figure></div><h1 id="ac6f" class="kz la jn bd lb lc mj le lf lg mk li lj lk ml lm ln lo mm lq lr ls mn lu lv lw bi translated">解决方案</h1><p id="d2ff" class="pw-post-body-paragraph jl jm jn jo b jp lx jr js jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj ij bi translated">我以前构建过几个React原生应用，知道实现定制样式或第三方组件有多难。</p><p id="2c1d" class="pw-post-body-paragraph jl jm jn jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ij bi translated">这就是我在这种情况下选择Expo的原因，因为默认情况下，它为上述每个场景提供了几个预定义的组件:</p><ul class=""><li id="d333" class="kl km jn jo b jp jq jt ju jx kn kb ko kf kp kj mo kr ks kt bi translated">视频:一个相对简单的mp4文件集成</li><li id="a7b6" class="kl km jn jo b jp ku jt kv jx kw kb kx kf ky kj mo kr ks kt bi translated"><a class="ae jd" href="https://docs.expo.io/versions/v30.0.0/sdk/map-view" rel="noopener ugc nofollow" target="_blank"> MapView </a>(基于React Native社区的<a class="ae jd" href="https://github.com/react-community/react-native-maps" rel="noopener ugc nofollow" target="_blank">地图组件</a>)</li><li id="f80d" class="kl km jn jo b jp ku jt kv jx kw kb kx kf ky kj mo kr ks kt bi translated"><a class="ae jd" href="https://docs.expo.io/versions/v30.0.0/sdk/blur-view" rel="noopener ugc nofollow" target="_blank">一个模糊的模态</a>(默认不自带React Native)。</li><li id="ed75" class="kl km jn jo b jp ku jt kv jx kw kb kx kf ky kj mo kr ks kt bi translated">和<a class="ae jd" href="https://docs.expo.io/versions/latest/" rel="noopener ugc nofollow" target="_blank">许多其他人……</a></li></ul><h1 id="ee5e" class="kz la jn bd lb lc mj le lf lg mk li lj lk ml lm ln lo mm lq lr ls mn lu lv lw bi translated">最大的时间节约</h1><p id="e341" class="pw-post-body-paragraph jl jm jn jo b jp lx jr js jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj ij bi translated">最节省时间的可能是Expo发送推送通知有多容易。这简直太简单了。见<a class="ae jd" href="https://docs.expo.io/versions/v30.0.0/guides/push-notifications" rel="noopener ugc nofollow" target="_blank">本指南</a>，还是让我快速总结一下:</p><ul class=""><li id="aabb" class="kl km jn jo b jp jq jt ju jx kn kb ko kf kp kj mo kr ks kt bi translated">通过使用Expo的<a class="ae jd" href="https://docs.expo.io/versions/v30.0.0/sdk/permissions" rel="noopener ugc nofollow" target="_blank">权限</a>组件向用户请求通知权限，在手机上获取一个令牌</li><li id="1fdd" class="kl km jn jo b jp ku jt kv jx kw kb kx kf ky kj mo kr ks kt bi translated">将获得的令牌发送到您的后端，并存储它以供后续请求使用</li><li id="b6b6" class="kl km jn jo b jp ku jt kv jx kw kb kx kf ky kj mo kr ks kt bi translated">使用Expo的一个推送通知库(<a class="ae jd" href="https://github.com/exponent/exponent-server-sdk-node" rel="noopener ugc nofollow" target="_blank">节点</a>、<a class="ae jd" href="https://github.com/exponent/exponent-server-sdk-ruby" rel="noopener ugc nofollow" target="_blank"> Ruby </a>、<a class="ae jd" href="https://github.com/Alymosul/exponent-server-sdk-php" rel="noopener ugc nofollow" target="_blank"> PHP </a>等)来触发来自后端应用程序逻辑的通知</li></ul><blockquote class="mc md me"><p id="d556" class="jl jm mf jo b jp jq jr js jt ju jv jw mg jy jz ka mh kc kd ke mi kg kh ki kj ij bi translated">我已经使用node.js和mongoDB在GitHub 上创建了一个非常简单的世博推送通知服务器<a class="ae jd" href="https://github.com/marcelkalveram/expo-push-notifications-server" rel="noopener ugc nofollow" target="_blank">示例。</a></p></blockquote><p id="a2fd" class="pw-post-body-paragraph jl jm jn jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ij bi translated">测试这些通知也很容易(也很有趣)。您可以使用您的手机专用令牌，并使用Expo <a class="ae jd" href="https://expo.io/dashboard/notifications" rel="noopener ugc nofollow" target="_blank">推送通知工具</a>向自己发送一些推送通知，并调整参数。</p><h1 id="0899" class="kz la jn bd lb lc mj le lf lg mk li lj lk ml lm ln lo mm lq lr ls mn lu lv lw bi translated">我为什么要说这个？</h1><p id="be3e" class="pw-post-body-paragraph jl jm jn jo b jp lx jr js jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj ij bi translated">很多时候，我们认为原生应用是复杂的系统，有很多定制编程，有深入挖掘原生iOS/Android代码的风险。</p><p id="81b1" class="pw-post-body-paragraph jl jm jn jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ij bi translated">在这种情况下，我的经历完全相反。需要视频组件吗？博览会提供了一个现成的。需要地图整合？世博会已经覆盖了你。需要一个推送通知解决方案，而不需要花费一周时间来集成它？让我在这里引用世博会文件:“这几乎太容易了”。</p><p id="515c" class="pw-post-body-paragraph jl jm jn jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj ij bi translated">即使是像使用世博会的<a class="ae jd" href="https://docs.expo.io/versions/latest/sdk/linear-gradient" rel="noopener ugc nofollow" target="_blank">线性梯度</a>来显示线性梯度这样的小事，也能帮你省去一些麻烦。</p><h1 id="d94f" class="kz la jn bd lb lc mj le lf lg mk li lj lk ml lm ln lo mm lq lr ls mn lu lv lw bi translated">测试呢？</h1><p id="c65e" class="pw-post-body-paragraph jl jm jn jo b jp lx jr js jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj ij bi translated">总而言之，在你的手机上测试这个应用也是小菜一碟。<a class="ae jd" href="https://itunes.apple.com/us/app/expo-client/id982107779?mt=8" rel="noopener ugc nofollow" target="_blank"> Expo Client </a>可以让你在几分钟内立即在手机上预览和测试应用程序，让你实时看到变化。很棒，不是吗？</p><h1 id="4f21" class="kz la jn bd lb lc mj le lf lg mk li lj lk ml lm ln lo mm lq lr ls mn lu lv lw bi translated">关于该项目的未来帖子</h1><p id="c06e" class="pw-post-body-paragraph jl jm jn jo b jp lx jr js jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj ij bi translated">我将很快发表另一篇文章，讲述我构建这个应用程序的旅程。它将涵盖我们是如何进行API集成的，以及我作为一个非covercity用户从实际用户测试中学到了什么。</p></div></div>    
</body>
</html>