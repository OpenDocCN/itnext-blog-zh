<html>
<head>
<title>How to support Multiple .NET SDKs in GitHub Actions Workflows</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何支持多个？GitHub操作工作流中的. NET SDKs</h1>
<blockquote>原文：<a href="https://itnext.io/how-to-support-multiple-net-sdks-in-github-actions-workflows-b988daa884e?source=collection_archive---------4-----------------------#2021-01-14">https://itnext.io/how-to-support-multiple-net-sdks-in-github-actions-workflows-b988daa884e?source=collection_archive---------4-----------------------#2021-01-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="054e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">GitHub操作非常棒，您可以使用它们轻松地自动化您的工作流(从简单的CI/CD到更复杂的工作流)。我为我的项目<a class="ae ko" rel="noopener ugc nofollow" target="_blank" href="/generate-auto-increment-id-on-azure-62cc962b6fa6?source=friends_link&amp;sk=d530e2765669f1678349e724b0358d71"> AzureAutoNumber </a>使用GitHub Actions作为我的CI/CD管道。在上次更新期间，我遇到了一个问题，我无法运行我的测试(基于xUnit)。</p><pre class="kp kq kr ks gt kt ku kv kw aw kx bi"><span id="bcdd" class="ky kz it ku b gy la lb l lc ld">steps:<br/>- uses: actions/checkout@v2<br/>- name: Setup .NET Core<br/>  uses: actions/setup-dotnet@v1<br/>  with:<br/> dotnet-version: 3.1.101</span></pre><p id="0bd9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">拥有。NET 5 SDK在我的构建过程中，我把<code class="fe le lf lg ku b">dotnet-version</code>改成了<code class="fe le lf lg ku b">5.1.101</code>。</p><pre class="kp kq kr ks gt kt ku kv kw aw kx bi"><span id="9ac4" class="ky kz it ku b gy la lb l lc ld">steps:<br/>- uses: actions/checkout@v2<br/>- name: Setup .NET Core<br/>  uses: actions/setup-dotnet@v1<br/>  with:<br/> dotnet-version: 5.1.101</span></pre><p id="bff3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">构建过程进行得很顺利，但是在测试阶段，test runner给了我这个错误:</p><figure class="kp kq kr ks gt li gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi lh"><img src="../Images/5bc4e0d8b21f93834b2e8923ed4068c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aKqYrmQ3EN4iI0GhBsrYoA.png"/></div></div></figure><p id="bc0f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个错误很详细，而且很明显是哪里出了问题。测试框架需要。NET SDK 3.1.x来运行该目标的测试。<strong class="js iu">解决办法看起来很简单:“安装不同的。NET SDKs，它应该可以解决这个问题。”</strong></p></div><div class="ab cl lp lq hx lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="im in io ip iq"><p id="1b02" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">只有当您的项目目标不同时，才会出现此问题。NET就像下面的例子:</p><pre class="kp kq kr ks gt kt ku kv kw aw kx bi"><span id="feac" class="ky kz it ku b gy la lb l lc ld">&lt;PropertyGroup&gt;               &lt;TargetFrameworks&gt;netcoreapp2.1;netcoreapp3.1;net5.0&lt;/TargetFrameworks&gt;<br/>&lt;/PropertyGroup&gt;</span></pre><p id="8634" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如我所说，解决方案很简单，支持多个。NET SDKs，作为一个单独的步骤逐个设置它们:</p><pre class="kp kq kr ks gt kt ku kv kw aw kx bi"><span id="3e7e" class="ky kz it ku b gy la lb l lc ld">- name: Setup .NET Core 2.1	<br/>  uses: actions/setup-dotnet@v1	<br/>  with:	<br/>    dotnet-version: 2.1.x	<br/>- name: Setup .NET Core 3.1	<br/>  uses: actions/setup-dotnet@v1	<br/>  with:	<br/>    dotnet-version: 3.1.x<br/>- name: Setup .NET Core 5.0<br/>  uses: actions/setup-dotnet@v1<br/>  with:<br/>    dotnet-version: 5.0.x</span></pre><p id="cfaf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这些步骤中的每一步都将SDK下载并安装到当前的构建容器中，并且这些SDK在接下来的步骤中是可以访问和共享的。</p><figure class="kp kq kr ks gt li gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/1e84026ff0fe69b0f97349bd3eb405ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*cMS3Mqb8FgXSzhQds7ZWXg.png"/></div></figure><p id="a31b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">搞定了。作为一个工作示例，您可以看看我的构建<a class="ae ko" href="http://.github/workflows/dotnet-core.yml" rel="noopener ugc nofollow" target="_blank">工作流</a>。</p></div></div>    
</body>
</html>