<html>
<head>
<title>Generating API documentation for TypeScript packages with TypeDoc</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用TypeDoc为TypeScript包生成API文档</h1>
<blockquote>原文：<a href="https://itnext.io/generating-api-documentation-for-typescript-packages-with-typedoc-9e0061108548?source=collection_archive---------0-----------------------#2022-03-12">https://itnext.io/generating-api-documentation-for-typescript-packages-with-typedoc-9e0061108548?source=collection_archive---------0-----------------------#2022-03-12</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="ac92" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">更好的文档可以更好地为您的包的用户服务</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/fdb1526b1c339288016fe7cbd5e2ca02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*T9F8xoTrewk_qaVB.png"/></div></div></figure><p id="8554" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated"><strong class="kx iv">使用TypeDoc，可以向TypeScript源代码添加结构化注释(JSDoc样式注释)。有了这些注释中的数据，TypeDoc可以生成很好的API文档，您可以很容易地将其发布到网站上。通过添加另一个工具<em class="lr"> gh-pages </em>，可以很容易地将文档发布到GitHub Pages。</strong></p></div><div class="ab cl ls lt hy lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="in io ip iq ir"><p id="3098" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">将API发布到包中，显示函数、方法参数、数据类型等等，这一点很重要。API的用户需要知道哪些功能是可用的，等等。这有助于他们提高速度，并利用您的API。API文档越全面越好。</p><p id="304e" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">这使得发布高质量的API文档成为一种最佳实践。</p><p id="8ea0" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">不幸的是，对于大多数JavaScript包来说，API文档并不全面。作为许多Node.js包的用户，我经常对粗略的API描述感到沮丧。我认为缺乏好的API文档的项目不知道简化生成API文档的工具。在我自己的包中，我自己也对此感到内疚，而且根本不知道有这样的工具。这让我不得不手工生成API文档，这当然不是最佳实践。</p><p id="fd33" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">在本文中，我们将介绍如何使用TypeDoc为TypeScript包发布高质量的API文档。</p><p id="80b9" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">我在为我的最新项目建立了一个网站和API文档后，立即写下了这篇文章。我们将把它作为一个实际的例子。</p><ul class=""><li id="6c12" class="lz ma iu kx b ky kz lb lc le mb li mc lm md lq me mf mg mh bi translated"><a class="ae mi" href="https://runtime-data-validation-js.github.io/" rel="noopener ugc nofollow" target="_blank">https://runtime-data-validation-js.github.io/</a>—<code class="fe mj mk ml mm b">runtime-data-validation</code>包是一组用于加强数据有效性的类型脚本装饰器</li><li id="6b6f" class="lz ma iu kx b ky mn lb mo le mp li mq lm mr lq me mf mg mh bi translated"><a class="ae mi" href="https://runtime-data-validation-js.github.io/runtime-data-validation-typescript/" rel="noopener ugc nofollow" target="_blank">https://runtime-data-validation-js . github . io/runtime-data-validation-typescript/</a>—是这个包的API文档</li><li id="0200" class="lz ma iu kx b ky mn lb mo le mp li mq lm mr lq me mf mg mh bi translated"><a class="ae mi" href="https://github.com/runtime-data-validation-js/runtime-data-validation-typescript" rel="noopener ugc nofollow" target="_blank">https://github . com/runtime-data-validation-js/runtime-data-validation-typescript</a>—封装源代码。在<code class="fe mj mk ml mm b">api</code>目录中查找构建API站点的过程。</li><li id="c9f3" class="lz ma iu kx b ky mn lb mo le mp li mq lm mr lq me mf mg mh bi translated"><a class="ae mi" href="https://github.com/runtime-data-validation-js/runtime-data-validation-js.github.io" rel="noopener ugc nofollow" target="_blank">https://github . com/runtime-data-validation-js/runtime-data-validation-js . github . io</a>—网站源代码。</li></ul><h1 id="bf05" class="ms mt iu bd mu mv mw mx my mz na nb nc ka nd kb ne kd nf ke ng kg nh kh ni nj bi translated">JSDoc、TSDOC和TypeDoc结构化注释</h1><p id="5d54" class="pw-post-body-paragraph kv kw iu kx b ky nk jv la lb nl jy ld le nm lg lh li nn lk ll lm no lo lp lq in bi translated">JSDoc是JavaScript API文档的标准工具之一，但是它不支持为TypeScript代码生成文档。JSDoc方法使用这样的结构化注释:</p><pre class="kk kl km kn gu np mm nq nr aw ns bi"><span id="c54b" class="nt mt iu mm b gz nu nv l nw nx">/**<br/> * Description of the purpose or results of the function. <br/> *<br/> * @param target Documentation for parameter 'target' <br/> * @param text   Documentation for parameter ´text´. <br/> * @return Comment about return value <br/> */ <br/>function doSomething(target: any, text: string): number {<br/>     // code <br/>}</span></pre><p id="7bb9" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">TSDoc是用于TypeScript的标准注释标记的建议。它不是一个生成文档的工具，而是一个标准的标签列表。</p><p id="8221" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">TypeDoc是一个类似于JSDoc的工具，但是它支持TypeScript。这是一个很好的工具，可以清楚地展示函数参数、返回类型等细节。它使用与JSDoc相同的结构化注释，并支持TSDoc/JSDoc注释标签的子集。</p><p id="75ba" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">TypeDoc使用的JSDoc样式的注释遵循一致的结构，这有助于阐明代码结构，使注释本身成为代码的有用补充。此外，IDE(如Visual Studio代码)可以在编辑代码时在弹出窗口中显示来自这些注释的信息。</p><p id="0dd9" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">许多语言中都使用了类似的结构化注释。</p><p id="d1b1" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">如果省略结构化注释，TypeScript编译器可以推断出大量信息。但是，通过使用注释，您可以添加自己的描述以获得更好的结果。</p><h1 id="c6f8" class="ms mt iu bd mu mv mw mx my mz na nb nc ka nd kb ne kd nf ke ng kg nh kh ni nj bi translated">在TypeScript项目中安装TypeDoc</h1><p id="18d9" class="pw-post-body-paragraph kv kw iu kx b ky nk jv la lb nl jy ld le nm lg lh li nn lk ll lm no lo lp lq in bi translated">因为TypeScript和TypeDoc都是Node.js工具，所以必须先安装Node.js。因为大多数阅读这篇文章的人已经知道了这一点，所以我假设你已经安装了它。如果没有，请阅读:<a class="ae mi" href="https://techsparx.com/nodejs/typescript/setup.html" rel="noopener ugc nofollow" target="_blank">设置Typescript编译器以与Node.js开发集成</a></p><p id="ffc1" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">若要启动空白的TypeScript项目:</p><pre class="kk kl km kn gu np mm nq nr aw ns bi"><span id="311d" class="nt mt iu mm b gz nu nv l nw nx">$ npm init -y <br/>$ npm install typescript @types/node --save-dev</span></pre><p id="0a00" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">您现在可以键入以下内容来查看使用说明:</p><pre class="kk kl km kn gu np mm nq nr aw ns bi"><span id="1f75" class="nt mt iu mm b gz nu nv l nw nx">$ npx tsc --help</span></pre><p id="cb60" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">这将验证TypeScript已安装并且正在运行。</p><p id="9263" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">下一步是一个类型脚本配置文件<code class="fe mj mk ml mm b">tsconfig.json</code>。因为您可能已经是一名TypeScript程序员，所以您可能已经设置了这个配置。典型的配置是将TypeScript源代码存储在一个目录中，如<code class="fe mj mk ml mm b">src</code>，而让TypeScript将文件构建到另一个目录中，如<code class="fe mj mk ml mm b">dist</code>或<code class="fe mj mk ml mm b">build</code>。</p><p id="b80b" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">要安装TypeDoc，请运行以下命令:</p><pre class="kk kl km kn gu np mm nq nr aw ns bi"><span id="8151" class="nt mt iu mm b gz nu nv l nw nx">$ npm install typedoc --save-dev</span></pre><p id="5e80" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">这将安装TypeDoc，并将其保存到<code class="fe mj mk ml mm b">devDependencies</code>。</p><p id="592a" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">因为TypeDoc会生成一个网站，所以拥有一个本地HTTP服务器非常有用，这样您就可以在本地预览文档。</p><pre class="kk kl km kn gu np mm nq nr aw ns bi"><span id="c2d6" class="nt mt iu mm b gz nu nv l nw nx">$ npm install @compodoc/live-server --save-dev</span></pre><p id="58ae" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">这个特殊的服务器非常好，包括当内容改变时的实时重新加载，以及其他有用的功能。</p><h1 id="105f" class="ms mt iu bd mu mv mw mx my mz na nb nc ka nd kb ne kd nf ke ng kg nh kh ni nj bi translated">在TypeScript项目中使用TypeDoc的快速入门</h1><p id="b5bf" class="pw-post-body-paragraph kv kw iu kx b ky nk jv la lb nl jy ld le nm lg lh li nn lk ll lm no lo lp lq in bi translated">作为一个快速启动实验，运行以下命令:</p><pre class="kk kl km kn gu np mm nq nr aw ns bi"><span id="b610" class="nt mt iu mm b gz nu nv l nw nx">$ npx typedoc --out api src/index.ts <br/>$ npm live-preview api</span></pre><p id="3e88" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">这个命令假设您的TypeScript源代码在<code class="fe mj mk ml mm b">src</code>目录中。对于TypeDoc来说，什么目录包含构建的JavaScript代码并不重要，因为它会读取TypeScript源代码。</p><p id="3096" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">这将从一个特定的源文件开始将文档构建到<code class="fe mj mk ml mm b">api</code>目录中。在此替换作为包的主入口点的任何源文件。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ny"><img src="../Images/aff941ef60a792698745c179072eb015.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_xeGK-Y_qgiXL-D9.png"/></div></div></figure><p id="d6ee" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">这是为<code class="fe mj mk ml mm b"><a class="ae mi" href="https://github.com/runtime-data-validation-js/runtime-data-validation-typescript" rel="noopener ugc nofollow" target="_blank">runtime-data-validation</a></code>包生成的默认API文档。</p><p id="b3a0" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">主要部分来自项目自述文件。侧边栏中的函数列表是API。顶部是包中包含的几个子模块。</p><p id="2e2b" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">对于此版本，没有对文档进行任何自定义。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nz"><img src="../Images/c8c7690d8c79761ce7eeb68202e1c146.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*hIA4sVY_79eKv_Cx.png"/></div></div></figure><p id="9cb7" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">这是软件包中某个功能的文档。这个包是关于数据验证的，因此它是关于描述一个验证装饰函数的参数和结果的。</p><p id="1657" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">显然，这是高质量的API文档。以有组织的方式清楚地描述了功能参数和结果。我们有地方放我们的话。有一个到源代码的链接，直接链接到GitHub库。</p><p id="a424" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">但是，在仔细检查结果后，我发现了一些需要改变的地方。</p><ul class=""><li id="ba29" class="lz ma iu kx b ky kz lb lc le mb li mc lm md lq me mf mg mh bi translated">从API文档页面导航回主项目网站</li><li id="cb0b" class="lz ma iu kx b ky mn lb mo le mp li mq lm mr lq me mf mg mh bi translated">使用项目自述文件以外的文本</li><li id="f99e" class="lz ma iu kx b ky mn lb mo le mp li mq lm mr lq me mf mg mh bi translated">如果在文档页面上，如何导航回主API页面</li><li id="6e34" class="lz ma iu kx b ky mn lb mo le mp li mq lm mr lq me mf mg mh bi translated">拥有任何子模块的概述文档</li><li id="5fff" class="lz ma iu kx b ky mn lb mo le mp li mq lm mr lq me mf mg mh bi translated">TypeDoc在呈现TypeScript装饰器的文档方面做得很差。<code class="fe mj mk ml mm b">runtime-data-validation</code>包含一长串装饰函数，但是API的读者不知道这些函数是装饰函数。我无法找到解决这个问题的好办法。</li></ul><p id="384f" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">TypeDoc提供了许多定制输出的方法，所以让我们来看看。</p><h1 id="c6e6" class="ms mt iu bd mu mv mw mx my mz na nb nc ka nd kb ne kd nf ke ng kg nh kh ni nj bi translated">配置TypeScript包以使用TypeDoc</h1><p id="84a9" class="pw-post-body-paragraph kv kw iu kx b ky nk jv la lb nl jy ld le nm lg lh li nn lk ll lm no lo lp lq in bi translated">配置TypeDoc最有效的方法是使用配置文件。所有的选项都可以在命令行上使用，但是很快就会变得很长。</p><p id="4de6" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">创建一个名为<code class="fe mj mk ml mm b">typedoc.json</code>的文件，它将包含配置。从这个开始:</p><pre class="kk kl km kn gu np mm nq nr aw ns bi"><span id="76d2" class="nt mt iu mm b gz nu nv l nw nx">{<br/>     "customTitle": "runtime-data-validation-js.github.io",<br/>     "customTitleLink": "https://runtime-data-validation-js.github.io/",<br/>     "name": "Runtime data validation for TypeScript",<br/>     "includeVersion": true,<br/>     "hideGenerator": true,<br/>     "out": "api",<br/>     "readme": "README-api.md",<br/>     ... <br/>}</span></pre><p id="1ee3" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">属性<code class="fe mj mk ml mm b">out</code>命名输出目录。</p><p id="89ed" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">属性覆盖了用于主页文档的默认自述文件。项目自述文件已经出现在GitHub资源库和<code class="fe mj mk ml mm b">npmjs.com</code>页面中。为什么人们要第三次阅读同样的文档。为什么不在这里使用对阅读API文档的人有用的文本，比如使用文档的建议。</p><p id="8d7a" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">这提供了一些有用的导航改进。</p><h1 id="34f1" class="ms mt iu bd mu mv mw mx my mz na nb nc ka nd kb ne kd nf ke ng kg nh kh ni nj bi translated">TypeDoc插件和主题</h1><p id="fbd6" class="pw-post-body-paragraph kv kw iu kx b ky nk jv la lb nl jy ld le nm lg lh li nn lk ll lm no lo lp lq in bi translated">TypeDoc为更深入的定制提供了两种途径:</p><ul class=""><li id="2627" class="lz ma iu kx b ky kz lb lc le mb li mc lm md lq me mf mg mh bi translated"><em class="lr">主题</em>覆盖API文档的默认表示。例如，一个主题导致文档作为降价文件输出。</li><li id="f320" class="lz ma iu kx b ky mn lb mo le mp li mq lm mr lq me mf mg mh bi translated"><em class="lr">插件</em>可以进行其他更改</li></ul><p id="f8e3" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">在<code class="fe mj mk ml mm b">runtime-data-validation</code>项目的情况下，我选择不开发自定义主题，只安装了一个插件。定制主题可能需要一些时间来适应，默认主题已经很好了。</p><p id="68d0" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">用于安装:<code class="fe mj mk ml mm b">npm install typedoc-plugin-extras --save-dev</code></p><p id="1087" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">要在配置文件和插件之间构建API文档:</p><pre class="kk kl km kn gu np mm nq nr aw ns bi"><span id="a39c" class="nt mt iu mm b gz nu nv l nw nx">$ npx typedoc --plugin typedoc-plugin-extras --options typedoc.json ./src/index.ts</span></pre><p id="b7cd" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated"><code class="fe mj mk ml mm b">--plugin</code>选项启用插件，<code class="fe mj mk ml mm b">--option</code>使用选项文件。</p><h1 id="2166" class="ms mt iu bd mu mv mw mx my mz na nb nc ka nd kb ne kd nf ke ng kg nh kh ni nj bi translated">有用的文档注释</h1><p id="8d80" class="pw-post-body-paragraph kv kw iu kx b ky nk jv la lb nl jy ld le nm lg lh li nn lk ll lm no lo lp lq in bi translated">在为<code class="fe mj mk ml mm b">runtime-data-validation</code>项目开发API文档时，我选择了JSDoc/TypeDoc注释的以下特性。</p><p id="e1c1" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated"><strong class="kx iv">类别</strong>让您将功能或其他对象组织成组。类别名称是自由形式的，因为您可以选择对您有意义的类别名称。</p><pre class="kk kl km kn gu np mm nq nr aw ns bi"><span id="5eab" class="nt mt iu mm b gz nu nv l nw nx">/**<br/> * @category Finance Validator<br/> */</span></pre><p id="ddef" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">例如，<code class="fe mj mk ml mm b">runtime-data-validation</code>项目包含一长串数据验证函数。这导致了一种或另一种验证功能的几个类别。</p><p id="6e29" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated"><strong class="kx iv">外部文件</strong>的链接通过<code class="fe mj mk ml mm b">{@link}</code>标签启用。</p><pre class="kk kl km kn gu np mm nq nr aw ns bi"><span id="ec6f" class="nt mt iu mm b gz nu nv l nw nx">/** <br/> * check if the string is a valid RFC 3339 date. <br/> * {@link https://tools.ietf.org/html/rfc3339} <br/> *  <br/> * @param value The string to validate <br/> * @returns  <br/> * @category Date Validator  <br/> */</span></pre><p id="44f2" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">通过这种方式，API的用户可以很快找到官方文档。</p><p id="d3db" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated"><strong class="kx iv">内部类型</strong>的链接也通过<code class="fe mj mk ml mm b">{@link}</code>标签启用。</p><pre class="kk kl km kn gu np mm nq nr aw ns bi"><span id="e8bc" class="nt mt iu mm b gz nu nv l nw nx">/** <br/> * Check if the input is a valid ISO8601 date.  <br/> *  <br/> * @param value The string to validate <br/> * @param options {@link IsISO8601Options} <br/> * @returns  <br/> * @category Date Validator <br/> */</span></pre><p id="e05d" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">在这种情况下，定义了一个单独的类型用作函数参数。这是一个指向该类型的方便链接。</p><p id="dac7" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated"><strong class="kx iv">模块注释</strong>让你给出一组函数或类的概述文档。</p><pre class="kk kl km kn gu np mm nq nr aw ns bi"><span id="5cb7" class="nt mt iu mm b gz nu nv l nw nx">/** <br/> * Overview documentation for a module. <br/> * @module module-name <br/> */</span></pre><p id="b51b" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">标签上方的Markdown风格的链接是到主API文档页面的方便链接。这样，API的读者可以更容易地浏览。出于某种原因，TypeDoc不包括到主页的链接。</p><h1 id="aee5" class="ms mt iu bd mu mv mw mx my mz na nb nc ka nd kb ne kd nf ke ng kg nh kh ni nj bi translated">发布API文档供公众使用</h1><p id="4e64" class="pw-post-body-paragraph kv kw iu kx b ky nk jv la lb nl jy ld le nm lg lh li nn lk ll lm no lo lp lq in bi translated">当然，这样做的目的是将API文档发布到人们可以阅读的地方。下面就来说一些实用的方法。我们将使用我在<code class="fe mj mk ml mm b"><a class="ae mi" href="https://github.com/runtime-data-validation-js/runtime-data-validation-js.github.io" rel="noopener ugc nofollow" target="_blank">runtime-data-validation-js.github.io</a></code>中使用的方法作为例子。</p><p id="5756" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">使用<code class="fe mj mk ml mm b">typedoc</code>命令，我们可以生成一个充满HTML、JavaScript和CSS文件的目录。但是用这些文件制作一个合适的网站的最好方法是什么呢？你的答案当然取决于你。在我的例子中，我已经构建了一个静态网站生成器(AkashaCMS ),并且有一个简单的工作流程，可以使用它将网站发布到GitHub页面。GitHub Pages是GitHub的一个特性，你可以在你的存储库中指定一个分支作为一个网站显示。</p><p id="7e08" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">首先，我创建了一个GitHub组织，<code class="fe mj mk ml mm b"><a class="ae mi" href="https://github.com/runtime-data-validation-js" rel="noopener ugc nofollow" target="_blank">runtime-data-validation-js</a></code>来容纳这个项目。<code class="fe mj mk ml mm b"><a class="ae mi" href="https://github.com/runtime-data-validation-js/runtime-data-validation-js.github.io" rel="noopener ugc nofollow" target="_blank">runtime-data-validation-js.github.io</a></code>库包含AkashaCMS代码，用于生成一个网站，该网站可见于<a class="ae mi" href="https://runtime-data-validation-js.github.io" rel="noopener ugc nofollow" target="_blank">https://runtime-data-validation-js . github . io</a></p><p id="b15e" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">该网站包含使用该软件包的文档，以及一个博客。出于讨论的目的，我们来关注一下导航栏:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oa"><img src="../Images/e40a3c9e71e8043891a208d925889f6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1H5iBvq1wZVMekWe.png"/></div></div></figure><p id="1230" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">这是显示在每个页面上的主导航栏。例如，<em class="lr">搜索</em>框使用DuckDuckGo作为特定网站的搜索引擎。导航条的<a class="ae mi" href="https://github.com/runtime-data-validation-js/runtime-data-validation-js.github.io/blob/main/partials/navbar.html" rel="noopener ugc nofollow" target="_blank">实现是一个普通的引导导航条。一个重要的特性是名为<code class="fe mj mk ml mm b">API</code>的链接，这是一个到使用GitHub Pages </a>发布的<a class="ae mi" href="https://runtime-data-validation-js.github.io/runtime-data-validation-typescript/" rel="noopener ugc nofollow" target="_blank">文档的链接。这意味着阅读网站的人有一个简单的方法来获得API文档，只需点击API链接。</a></p><p id="d5c7" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">API文档由 <code class="fe mj mk ml mm b"><a class="ae mi" href="https://github.com/runtime-data-validation-js/runtime-data-validation-typescript" rel="noopener ugc nofollow" target="_blank">runtime-data-validation</a></code> <a class="ae mi" href="https://github.com/runtime-data-validation-js/runtime-data-validation-typescript" rel="noopener ugc nofollow" target="_blank">包</a>的<a class="ae mi" href="https://github.com/runtime-data-validation-js/runtime-data-validation-typescript" rel="noopener ugc nofollow" target="_blank"> GitHub库中的代码生成。对于TypeScript项目来说，这是一个普通的日常GitHub存储库。对于这个讨论，重点关注<code class="fe mj mk ml mm b">api</code>目录，其中有一个子项目专门用于生成API文档。在那个目录中是一个<code class="fe mj mk ml mm b">package.json</code>，它包含了用于驱动构建和发布过程的<code class="fe mj mk ml mm b">scripts</code>条目</a></p><pre class="kk kl km kn gu np mm nq nr aw ns bi"><span id="3dc0" class="nt mt iu mm b gz nu nv l nw nx">"scripts": {<br/>     "build": "npx typedoc --plugin typedoc-plugin-extras --options typedoc.json ../lib/index.ts",<br/>     "publish": "npx gh-pages -b gh-pages -d site",<br/>     "preview": "live-server site" <br/>},</span></pre><p id="e24b" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">你会看到<code class="fe mj mk ml mm b">build</code>运行<code class="fe mj mk ml mm b">typedoc</code>来构建HTML，而<code class="fe mj mk ml mm b">preview</code>运行<code class="fe mj mk ml mm b">live-server</code>来进行本地预览。<code class="fe mj mk ml mm b">build</code>步骤引用<code class="fe mj mk ml mm b">../lib/index.ts</code>作为入口点，因为这是文件相对于<code class="fe mj mk ml mm b">api</code>目录的位置。</p><p id="12f6" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated"><code class="fe mj mk ml mm b">publish</code>脚本使用<code class="fe mj mk ml mm b">gh-pages</code>发布到GitHub页面。<code class="fe mj mk ml mm b"><a class="ae mi" href="https://github.com/tschaub/gh-pages" rel="noopener ugc nofollow" target="_blank">gh-pages</a></code>工具既是发布到GitHub页面的API，也是命令行工具。它负责使用GitHub页面发布HTML所需的一切。</p><p id="09e2" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">在这种情况下，API文档构建在名为<code class="fe mj mk ml mm b">site</code>的目录中。<code class="fe mj mk ml mm b">-b gh-pages</code>选项意味着<code class="fe mj mk ml mm b">site</code>目录的内容被推入主存储库中的<code class="fe mj mk ml mm b">gh-pages</code>分支。</p><h1 id="085f" class="ms mt iu bd mu mv mw mx my mz na nb nc ka nd kb ne kd nf ke ng kg nh kh ni nj bi translated">摘要</h1><p id="3cfe" class="pw-post-body-paragraph kv kw iu kx b ky nk jv la lb nl jy ld le nm lg lh li nn lk ll lm no lo lp lq in bi translated">使用TypeDoc为您的TypeScript项目构建非常好的API文档是非常容易的。</p><p id="cf75" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">使用<code class="fe mj mk ml mm b">gh-pages</code>可以非常容易地将文档发布到GitHub页面。</p><h1 id="ad53" class="ms mt iu bd mu mv mw mx my mz na nb nc ka nd kb ne kd nf ke ng kg nh kh ni nj bi translated">关于作者</h1><p id="bea5" class="pw-post-body-paragraph kv kw iu kx b ky nk jv la lb nl jy ld le nm lg lh li nn lk ll lm no lo lp lq in bi translated"><a class="ae mi" href="https://davidherron.com" rel="noopener ugc nofollow" target="_blank"> <strong class="kx iv"> <em class="lr">大卫·赫伦</em> </strong> </a> <em class="lr">:大卫·赫伦是一名作家和软件工程师，专注于技术的明智使用。他对太阳能、风能和电动汽车等清洁能源技术特别感兴趣。David在硅谷从事了近30年的软件工作，从电子邮件系统到视频流，再到Java编程语言，他已经出版了几本关于Node.js编程和电动汽车的书籍。</em></p></div><div class="ab cl ls lt hy lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="in io ip iq ir"><p id="36b9" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated"><em class="lr">最初发表于</em><a class="ae mi" href="https://techsparx.com/nodejs/typescript/typedoc.html" rel="noopener ugc nofollow" target="_blank"><em class="lr">https://techsparx.com</em></a><em class="lr">。</em></p></div></div>    
</body>
</html>