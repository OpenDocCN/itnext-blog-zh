<html>
<head>
<title>Git Binary Search</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">吉特二分搜索法</h1>
<blockquote>原文：<a href="https://itnext.io/git-binary-search-de86e9aa334a?source=collection_archive---------4-----------------------#2022-07-27">https://itnext.io/git-binary-search-de86e9aa334a?source=collection_archive---------4-----------------------#2022-07-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9241" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何发现一个错误的提交？</h2></div><p id="8264" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有时我们会在多次提交后测试代码，然后意识到代码状态有问题。要找到根本原因，需要一次一个提交地回顾git历史，并尝试找到导致问题的提交，但这通常并不容易:</p><ul class=""><li id="7025" class="le lf it kk b kl km ko kp kr lg kv lh kz li ld lj lk ll lm bi translated">提交可能没有最好的消息，</li><li id="a973" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">可能有太多的提交。</li></ul><p id="5e8f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这就是为什么git附带了一个二分搜索法工具来帮助您找到导致问题的“坏”提交。</p><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="gh gi ls"><img src="../Images/4ee55f13d8a1293a360b076cc31c8714.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uYRFjRH9jd3kcdZOdwWELg.png"/></div></div></figure><h1 id="9948" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">开始搜索</h1><p id="2157" class="pw-post-body-paragraph ki kj it kk b kl mw ju kn ko mx jx kq kr my kt ku kv mz kx ky kz na lb lc ld im bi translated">要开始搜索，请在终端中输入以下命令:</p><pre class="lt lu lv lw gt nb nc nd ne aw nf bi"><span id="1aa4" class="ng mf it nc b gy nh ni l nj nk">git bisect start</span></pre><p id="3e58" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后你需要声明你当前的代码状态是坏的:</p><pre class="lt lu lv lw gt nb nc nd ne aw nf bi"><span id="a590" class="ng mf it nc b gy nh ni l nj nk">git bisect bad</span></pre><p id="5c41" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后指出一个好的代码版本:</p><pre class="lt lu lv lw gt nb nc nd ne aw nf bi"><span id="7d40" class="ng mf it nc b gy nh ni l nj nk">git bisect good v1.2.0</span></pre><p id="9665" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此命令中使用的版本可以是任何版本:</p><ul class=""><li id="63a3" class="le lf it kk b kl km ko kp kr lg kv lh kz li ld lj lk ll lm bi translated">标签</li><li id="04a1" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">分公司名称</li><li id="8c29" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">提交哈希</li></ul><p id="b7f2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这一步之后，git转移到代码的新版本(介于好版本和坏版本之间的版本)。您可以查看代码(或者运行测试)并决定这个版本是好是坏。在前一种情况下，您想告诉git这是一个好版本:</p><pre class="lt lu lv lw gt nb nc nd ne aw nf bi"><span id="f301" class="ng mf it nc b gy nh ni l nj nk">git bisect good</span></pre><p id="8ab0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果不是，告诉git:</p><pre class="lt lu lv lw gt nb nc nd ne aw nf bi"><span id="2d84" class="ng mf it nc b gy nh ni l nj nk">git bisect bad</span></pre><p id="d6ac" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在将版本标注为好的或坏的之后，二分搜索法转移到另一个版本，以便您可以再次测试。这个过程一直持续到你找到问题的根本原因。</p><h1 id="3dc8" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">最后的话</h1><p id="39ab" class="pw-post-body-paragraph ki kj it kk b kl mw ju kn ko mx jx kq kr my kt ku kv mz kx ky kz na lb lc ld im bi translated">尽管git具有二分搜索法功能，但是如果您应该使用它，这通常意味着编码过程有问题。尝试:</p><ul class=""><li id="145d" class="le lf it kk b kl km ko kp kr lg kv lh kz li ld lj lk ll lm bi translated">为每个拉取请求运行自动化测试</li><li id="36f2" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">编写良好的提交消息</li><li id="7dea" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">每个提交/拉取请求都有小的变化</li></ul><p id="79d2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我每周在git、GitHub和GitLab上写文章。</p><ul class=""><li id="d376" class="le lf it kk b kl km ko kp kr lg kv lh kz li ld lj lk ll lm bi translated"><a class="ae nl" href="https://medium.com/subscribe/@aerabi" rel="noopener">订阅</a>my Medium publishes，以便在新的Git周刊发布时获得通知。</li><li id="7dfc" class="le lf it kk b kl ln ko lo kr lp kv lq kz lr ld lj lk ll lm bi translated">关注Twitter 上的<a class="ae nl" href="https://twitter.com/MohammadAliEN" rel="noopener ugc nofollow" target="_blank">我，获取git上的每周文章和每日推文。</a></li></ul></div></div>    
</body>
</html>