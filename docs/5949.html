<html>
<head>
<title>How to Use Linter — The Better Way</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用棉绒——更好的方法</h1>
<blockquote>原文：<a href="https://itnext.io/how-to-use-linter-the-better-way-5a4435fec7be?source=collection_archive---------1-----------------------#2021-07-08">https://itnext.io/how-to-use-linter-the-better-way-5a4435fec7be?source=collection_archive---------1-----------------------#2021-07-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div class="gh gi jq"><img src="../Images/729f4575f23d7f234f8dd354ac3a6143.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/1*GnbnoXtaOeYZx5ijucW2mA.png"/></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk translated">来自https://xkcd.com/1285/<a class="ae kb" href="https://xkcd.com/1285/" rel="noopener ugc nofollow" target="_blank">的</a></figcaption></figure><p id="c3a4" class="pw-post-body-paragraph kc kd it ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">linters是帮助开发人员提高代码质量甚至发现潜在bug的伟大工具。它使用静态分析方法，当与IDEs编辑器结合时，可以提供几乎实时的反馈。开发者采用它甚至一些编程语言(例如Golang)默认嵌入了linter(如果出现lint错误，将拒绝运行)。但有时我们可能没有以最好的方式使用它，我想在这篇文章中分享我的两美分。</p><h1 id="775b" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">一目了然</h1><p id="9da9" class="pw-post-body-paragraph kc kd it ke b kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv mc kx ky kz im bi translated">让我们以<code class="fe md me mf mg b">eslint</code>为例演示一下linter是如何工作的。当使用linter时，它实际上非常简单，您只需要将源代码的路径作为参数传递:</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="0c29" class="mp lb it mg b gy mq mr l ms mt">$ eslint src/**/*.js</span></pre><p id="253d" class="pw-post-body-paragraph kc kd it ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">当出现错误时，输出可能如下所示:</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="875d" class="mp lb it mg b gy mq mr l ms mt">&gt; eslint src/**/*.js <br/> <br/> <br/>/home/jeromewu/repos/app/src/App.js <br/>  10:61  error  'undefinedVar' is not defined  no-undef <br/> <br/><strong class="mg iu">✖ 1 problem (1 error, 0 warnings)</strong></span></pre><p id="6b82" class="pw-post-body-paragraph kc kd it ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">如果幸运的话，即使出现lint错误，您的代码仍然可以工作(即使对于上面的例子，如果您的代码从不执行包含这个未定义变量的代码，它仍然可以工作)。但是建议修复所有lint错误以降低风险。</p><p id="b3b5" class="pw-post-body-paragraph kc kd it ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">虽然linter很有用，但是有时候开发者可能会觉得它很烦人，因为有些lint规则不容易遵守，或者你的习惯与规则不同。这也是我认为一些开发者可能误解linters的目的的地方。</p><h1 id="d113" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">不要只使用棉绒，要学习棉绒规则</h1><p id="5eb4" class="pw-post-body-paragraph kc kd it ke b kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv mc kx ky kz im bi translated">在我看来，linters的目的不是找出我们代码中的问题，让我们的生活变得痛苦，而是帮助我们学习如何根据我们应用的规则来提高代码质量。所以最终的结果应该是我们(作为开发人员)能够编写无lint错误的代码，而不用linters一直提醒我们。所以对我(和我的团队)来说，linters的典型工作流程如下:</p><ul class=""><li id="eabd" class="mu mv it ke b kf kg kj kk kn mw kr mx kv my kz mz na nb nc bi translated">无论我们使用哪种IDE或编辑器，安装linter插件来获得实时lint提示。</li><li id="28f0" class="mu mv it ke b kf nd kj ne kn nf kr ng kv nh kz mz na nb nc bi translated">每当遇到一个lint错误，我们不明白为什么，检查网站的解释。(例如。<a class="ae kb" href="https://eslint.org/docs/rules/no-undef" rel="noopener ugc nofollow" target="_blank">不-不</a>在eslint)</li><li id="2e6b" class="mu mv it ke b kf nd kj ne kn nf kr ng kv nh kz mz na nb nc bi translated">如果有任何规则在我们的用例中不适用，那么对某些文件关闭它或者在配置文件中完全禁用它。(是的，禁用lint规则完全没问题，只要您确定这一点)</li><li id="2139" class="mu mv it ke b kf nd kj ne kn nf kr ng kv nh kz mz na nb nc bi translated">重复上面的步骤，训练我们自己在开发过程中有越来越少的绒毛提示。</li></ul><p id="30ce" class="pw-post-body-paragraph kc kd it ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">有了这样的工作流程和心态，我相信linters不再是你的敌人，而是帮助你提高和学习的好伙伴。</p><h1 id="a38f" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">明智地使用fix</h1><p id="8ce4" class="pw-post-body-paragraph kc kd it ke b kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv mc kx ky kz im bi translated">我发现一些开发者滥用的一点是linters中的自动修复功能，对于eslint，我们只需要在林挺提交文件时添加<code class="fe md me mf mg b">--fix</code>:</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="1116" class="mp lb it mg b gy mq mr l ms mt">$ eslint --fix src/**/*.js</span></pre><p id="0fe1" class="pw-post-body-paragraph kc kd it ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">我知道它非常有用，但最好明智地使用它，否则我们可能会失去学习和提高的机会。因此，如果可能，仅在以下情况下使用<code class="fe md me mf mg b">fix</code>:</p><ul class=""><li id="9c2c" class="mu mv it ke b kf kg kj kk kn mw kr mx kv my kz mz na nb nc bi translated">您工作的代码库不是从零开始的(也就是说，有许多代码不遵循lint规则)</li><li id="af9b" class="mu mv it ke b kf nd kj ne kn nf kr ng kv nh kz mz na nb nc bi translated">您正在从一个规则集迁移到另一个规则集，这涉及到更适合自动化处理的变更(例如在JavaScript中，有些标准要求行尾有分号，而有些则不要求)</li><li id="3d69" class="mu mv it ke b kf nd kj ne kn nf kr ng kv nh kz mz na nb nc bi translated">任何其他情况都会使手动代码库更新变得不值得和乏味</li></ul><p id="83fa" class="pw-post-body-paragraph kc kd it ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">但是即使对于上面的任何一种情况，记住大多数lint修复都不是完美的，所以有时使用lint修复会给你的代码库带来错误。这就是为什么要使用fix，你必须小心，并且在使用之后要做评估，回顾和测试。</p></div><div class="ab cl ni nj hx nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="im in io ip iq"><p id="edb1" class="pw-post-body-paragraph kc kd it ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz im bi translated">我希望你觉得这篇文章有用，并随时留下你的想法作为回应，谢谢你的时间，下次见。😃</p></div></div>    
</body>
</html>