<html>
<head>
<title>Why You Should Use ES6</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么您应该使用ES6</h1>
<blockquote>原文：<a href="https://itnext.io/why-you-should-use-es6-56bd12f7ae09?source=collection_archive---------0-----------------------#2018-05-06">https://itnext.io/why-you-should-use-es6-56bd12f7ae09?source=collection_archive---------0-----------------------#2018-05-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/d7e4772f0b4a5ece9d9ec71e70d64131.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x4_wH2ZGei2YbqmNpv7oHg.jpeg"/></div></div></figure><p id="0b0e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">几个月前，我参加了一个前端开发人员职位的面试，有一次有趣的经历。</p><blockquote class="kw kx ky"><p id="c8bf" class="jy jz kz ka b kb kc kd ke kf kg kh ki la kk kl km lb ko kp kq lc ks kt ku kv ij bi translated">面试官:你能为这个功能写点代码吗？</p><p id="73f3" class="jy jz kz ka b kb kc kd ke kf kg kh ki la kk kl km lb ko kp kq lc ks kt ku kv ij bi translated">我:(在白板上写JavaScript代码……)</p><p id="66cb" class="jy jz kz ka b kb kc kd ke kf kg kh ki la kk kl km lb ko kp kq lc ks kt ku kv ij bi translated">面试官:对不起，你能用JavaScript写吗？</p><p id="d43d" class="jy jz kz ka b kb kc kd ke kf kg kh ki la kk kl km lb ko kp kq lc ks kt ku kv ij bi translated">我:哦，其实这是JavaScript。是ES6语法。</p><p id="5546" class="jy jz kz ka b kb kc kd ke kf kg kh ki la kk kl km lb ko kp kq lc ks kt ku kv ij bi translated">记者:嗯，你能用普通的JavaScript写吗？</p><p id="2142" class="jy jz kz ka b kb kc kd ke kf kg kh ki la kk kl km lb ko kp kq lc ks kt ku kv ij bi">……</p></blockquote><p id="afe0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最终我没有给他看“纯”JavaScript代码。这不是因为我不了解“纯”JavaScript，而是因为我不想为不了解ES6，或者至少不想使用ES6的人工作。从2015年开始，ES6 (ECMAScript 6)问世多年，已经被大多数开发者所接受，并被证明是安全有效的。我有一些将遗留JavaScript代码转换成ES6风格的经验，它确实为我们节省了大量时间来解决由古怪的JavaScript引起的错误。</p><p id="a0d0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这篇文章中，我将向你展示为什么你应该切换到ES6(以及更多)的一些原因，如果你还没有这样做的话。我也将“纯”JavaScript称为ES5，因为ES5是ES6发布之前的规范。</p><h1 id="08f6" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">现在用ES6安全吗？</h1><p id="54d7" class="pw-post-body-paragraph jy jz iq ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated">ES6也称为ECMAScript 6，或ES2015，是2015年发布的最新JavaScript规范。</p><p id="73dd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用另一种语言的一个常见问题是兼容性。ES5和CoffeeScript也有同样的问题。嗯，CoffeeScript已经死了，所以这个问题是合理的。答案是:</p><p id="b4cb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ES6很安全。</p><p id="2197" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">看一看<a class="ae mg" href="https://kangax.github.io/compat-table/es6/" rel="noopener ugc nofollow" target="_blank">这张图表</a>。目前所有的浏览器都完全支持ES6。嗯，如果你仔细看看，你可能会发现一些“不支持”或“部分支持”的功能，但我敢打赌，你永远不会有机会使用这些不支持的功能。目前所有的浏览器都很好地支持最流行的功能(我将在后面解释)。如果你是nodejs开发者，只要你用的是node 6.4+就可以放心使用ES6。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mh"><img src="../Images/08dd3c2f1d9c0c6124cdb513fb468de4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WCxJ_XzqOxeDou1WFO2cuQ.png"/></div></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk translated">ES6兼容性图表。(<a class="ae mg" href="http://kangax.github.io/compat-table/es6/" rel="noopener ugc nofollow" target="_blank">来源</a>)</figcaption></figure><p id="07b1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">即使你的目标是IE11等传统浏览器，你仍然可以使用ES6和令人惊叹的<a class="ae mg" href="https://babeljs.io/" rel="noopener ugc nofollow" target="_blank"> babel </a>编译器。它被称为“编译器”，因为它将ES6代码转换为ES5代码，这样只要你的浏览器能够支持ES5，你就可以安全地使用ES6代码。</p><h1 id="0b9d" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">好吧，那么ES6有什么惊人之处？</h1><p id="0532" class="pw-post-body-paragraph jy jz iq ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated">完整的特性列表可以在<a class="ae mg" href="http://es6-features.org/" rel="noopener ugc nofollow" target="_blank">这个网站</a>找到，但是我会列出一些最流行的特性给你一些建议。</p><h2 id="e2ce" class="mq le iq bd lf mr ms dn lj mt mu dp ln kj mv mw lr kn mx my lv kr mz na lz nb bi translated">班级</h2><p id="0fe4" class="pw-post-body-paragraph jy jz iq ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated">这是我喜欢ES6的最重要的原因之一。ES6引入了<code class="fe nc nd ne nf b">class</code>关键字，这样在创建类时就不需要使用原型继承。</p><pre class="mi mj mk ml gt ng nf nh ni aw nj bi"><span id="2738" class="mq le iq nf b gy nk nl l nm nn">// ES6<br/>class Shape {<br/>  constructor() {}<br/>  draw() {}<br/>}</span><span id="fab1" class="mq le iq nf b gy no nl l nm nn">class Circle extends Shape {<br/>  draw() {<br/>    super.draw();<br/>    ...<br/>  }<br/>}</span><span id="c3ed" class="mq le iq nf b gy no nl l nm nn">// ES5<br/>var Shape = function() {...};<br/>Shape.prototype.draw = function() {...};<br/>...</span></pre><h2 id="af08" class="mq le iq bd lf mr ms dn lj mt mu dp ln kj mv mw lr kn mx my lv kr mz na lz nb bi translated">箭头功能</h2><p id="5687" class="pw-post-body-paragraph jy jz iq ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated">我爱ES6的另一个重要原因。JavaScript有一个非常奇怪的特性，即<code class="fe nc nd ne nf b">this</code>关键字并不总是对象本身。例如(我使用了jQuery语法)，</p><pre class="mi mj mk ml gt ng nf nh ni aw nj bi"><span id="e626" class="mq le iq nf b gy nk nl l nm nn">function Foo() {};<br/>$.extend(Foo.prototype, {<br/>  getData: function() {<br/>    $.get('/data', function(response) {<br/>      this.data = response.data;<br/>    });<br/>  },<br/>});</span></pre><p id="5b26" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">注意，我们通过扩展<code class="fe nc nd ne nf b">Foo.prototype</code>定义了一个类。此代码将不起作用。当<code class="fe nc nd ne nf b">$.get()</code>返回时，它将调用回调，但在回调中<code class="fe nc nd ne nf b">this</code>将是全局上下文而不是<code class="fe nc nd ne nf b">Foo</code>的本地上下文(你不需要理解“上下文”，但如果你愿意，你可以看看<a class="ae mg" href="http://ryanmorr.com/understanding-scope-and-context-in-javascript/" rel="noopener ugc nofollow" target="_blank">这篇文章</a>)，所以<code class="fe nc nd ne nf b">this.data = response.data</code>不会将数据赋给<code class="fe nc nd ne nf b">this.data</code>，你会得到一个类似“未定义没有属性数据”的错误。</p><p id="6787" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">要解决这个问题，你必须使用这样一些技巧:</p><pre class="mi mj mk ml gt ng nf nh ni aw nj bi"><span id="5d6c" class="mq le iq nf b gy nk nl l nm nn"><br/>var self = this;<br/>$.get('/data', function(response) {<br/>  self.data = response.data;<br/>});</span></pre><p id="42d5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">幸运的是，ES6提供了箭头函数，一种声明函数的新方法，来解决这个问题:</p><pre class="mi mj mk ml gt ng nf nh ni aw nj bi"><span id="4a7d" class="mq le iq nf b gy nk nl l nm nn">$.get('/data', (response) =&gt; {<br/>  this.data = response.data;<br/>});</span></pre><p id="fd5b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">上面的代码中有两点:</p><ul class=""><li id="42b0" class="np nq iq ka b kb kc kf kg kj nr kn ns kr nt kv nu nv nw nx bi translated"><code class="fe nc nd ne nf b">=&gt;</code>取代了<code class="fe nc nd ne nf b">function</code>关键字，提供了一种便捷的函数制作方式:<code class="fe nc nd ne nf b">(param1, param2) =&gt; { function_body; }</code></li><li id="5c07" class="np nq iq ka b kb ny kf nz kj oa kn ob kr oc kv nu nv nw nx bi translated">在函数体中，<code class="fe nc nd ne nf b">this</code>是“词法的<code class="fe nc nd ne nf b">this</code>”，这意味着<code class="fe nc nd ne nf b">this</code>的行为将与代码完全一样</li></ul><p id="0063" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，使用<code class="fe nc nd ne nf b">=&gt;</code>我们可以安全地编写JavaScript代码，而不用担心什么时候使用<code class="fe nc nd ne nf b">var self = this</code>技巧。</p><h2 id="fffd" class="mq le iq bd lf mr ms dn lj mt mu dp ln kj mv mw lr kn mx my lv kr mz na lz nb bi translated">字符串插值</h2><p id="2ba6" class="pw-post-body-paragraph jy jz iq ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated">一个非常方便的功能。代码解释了它自己:</p><pre class="mi mj mk ml gt ng nf nh ni aw nj bi"><span id="d0bd" class="mq le iq nf b gy nk nl l nm nn">// ES6<br/>console.log(`Hello ${name}, today is ${today}`);  // note the '`'<br/>// ES5<br/>console.log('Hello ' + name + ', today is ' + today);</span></pre><h2 id="7a6f" class="mq le iq bd lf mr ms dn lj mt mu dp ln kj mv mw lr kn mx my lv kr mz na lz nb bi translated">数组/对象析构</h2><p id="ae6f" class="pw-post-body-paragraph jy jz iq ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated">另一个让生活更简单的语法糖。而不是写作</p><pre class="mi mj mk ml gt ng nf nh ni aw nj bi"><span id="fd69" class="mq le iq nf b gy nk nl l nm nn">var x = point[0], y = point[1];<br/>var name = obj.name, age = obj.age;</span></pre><p id="d898" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以使用更简单的语法来产生完全相同的结果:</p><pre class="mi mj mk ml gt ng nf nh ni aw nj bi"><span id="9284" class="mq le iq nf b gy nk nl l nm nn">var [x, y] = point;<br/>var { name, age } = obj;</span></pre><h2 id="564d" class="mq le iq bd lf mr ms dn lj mt mu dp ln kj mv mw lr kn mx my lv kr mz na lz nb bi translated">以及许多其他功能…</h2><p id="36b1" class="pw-post-body-paragraph jy jz iq ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated">我只列出了日常工作中最常用的特性，但还有更多特性你会发现非常有用:spread运算符、函数默认参数、promise…</p><h1 id="dbc4" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">那我该如何入手ES6呢？</h1><p id="c901" class="pw-post-body-paragraph jy jz iq ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated">引入ES6的最佳和最安全的方式是使用巴别塔。巴别塔的用法超出了本文的范围，但是你可以通过谷歌搜索“ES6巴别塔”找到很多好的资源，比如:</p><ul class=""><li id="89fd" class="np nq iq ka b kb kc kf kg kj nr kn ns kr nt kv nu nv nw nx bi translated"><a class="ae mg" href="http://ccoenraets.github.io/es6-tutorial/setup-babel/" rel="noopener ugc nofollow" target="_blank">建立巴别塔项目</a></li><li id="061a" class="np nq iq ka b kb ny kf nz kj oa kn ob kr oc kv nu nv nw nx bi translated"><a class="ae mg" href="https://html5hive.org/es6-and-babel-tutorial/" rel="noopener ugc nofollow" target="_blank">初学者ES6和巴别塔教程</a></li></ul></div><div class="ab cl od oe hu of" role="separator"><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi"/></div><div class="ij ik il im in"><p id="6020" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">感谢阅读！如果你觉得这个帖子有用，请考虑为这个帖子鼓掌，并与你的队友分享！</p></div></div>    
</body>
</html>