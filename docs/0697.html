<html>
<head>
<title>Why I moved to ES6 template literals from Mustache / Handlebars</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么我要从小胡子/车把转向ES6模板文字</h1>
<blockquote>原文：<a href="https://itnext.io/why-i-moved-to-es6-template-strings-from-mustache-handlebars-573f6f2c713b?source=collection_archive---------2-----------------------#2018-05-09">https://itnext.io/why-i-moved-to-es6-template-strings-from-mustache-handlebars-573f6f2c713b?source=collection_archive---------2-----------------------#2018-05-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="20af" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">JavaScript有新的更好的特性，这使得一些库变得多余</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/88ea754bfd067684d10d8812341b4cf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jQPEMelnjaBtP8Uv."/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae kv" href="https://unsplash.com/@technobulka?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Stas Ovsky </a>拍摄的照片</figcaption></figure><blockquote class="kw"><p id="1608" class="kx ky iq bd kz la lb lc ld le lf lg dk translated">“在软件可以重用之前，它首先必须是可用的。”——<a class="ae kv" href="https://en.wikipedia.org/wiki/Ralph_Johnson_(computer_scientist)" rel="noopener ugc nofollow" target="_blank">拉尔夫·约翰逊</a>(计算机科学家)</p></blockquote><p id="5304" class="pw-post-body-paragraph lh li iq lj b lk ll jr lm ln lo ju lp lq lr ls lt lu lv lw lx ly lz ma mb lg ij bi translated">你知道游戏<a class="ae kv" href="http://www.madlibs.com/history/" rel="noopener ugc nofollow" target="_blank"> Mad Libs </a>吗？疯狂图书馆网页上的关键词和短语都被删掉了。玩家用名词、形容词或身体部位等指令填空。模板引擎，像<a class="ae kv" href="https://handlebarsjs.com/" rel="noopener ugc nofollow" target="_blank">手柄</a>和<a class="ae kv" href="https://mustache.github.io/" rel="noopener ugc nofollow" target="_blank">小胡子</a>，使用代码来填充空白，很像Mad Libs所做的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/fdda8d56eaba6365e17fbd7241fb2702.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*5av0a5fpNrWhahaw3uG3fg.jpeg"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">艾琳·史蒂文森·奥康纳</figcaption></figure><p id="345c" class="pw-post-body-paragraph lh li iq lj b lk md jr lm ln me ju lp lq mf ls lt lu mg lw lx ly mh ma mb lg ij bi translated">给定数据:</p><pre class="kg kh ki kj gt mi mj mk ml aw mm bi"><span id="3549" class="mn mo iq mj b gy mp mq l mr ms">{<br/>  greeting: 'Hello',<br/>  name: 'Josh'<br/>}</span></pre><p id="c080" class="pw-post-body-paragraph lh li iq lj b lk md jr lm ln me ju lp lq mf ls lt lu mg lw lx ly mh ma mb lg ij bi translated">使用小胡子/车把模板:</p><pre class="kg kh ki kj gt mi mj mk ml aw mm bi"><span id="e5ab" class="mn mo iq mj b gy mp mq l mr ms">&lt;p&gt;<strong class="mj ir">{{</strong>greeting<strong class="mj ir">}}</strong> <strong class="mj ir">{{</strong>name<strong class="mj ir">}}</strong>&lt;/p&gt;</span></pre><p id="131f" class="pw-post-body-paragraph lh li iq lj b lk md jr lm ln me ju lp lq mf ls lt lu mg lw lx ly mh ma mb lg ij bi translated">输出将是:</p><pre class="kg kh ki kj gt mi mj mk ml aw mm bi"><span id="5b2c" class="mn mo iq mj b gy mp mq l mr ms">&lt;p&gt;Hello Josh&lt;/p&gt;</span></pre><p id="cacd" class="pw-post-body-paragraph lh li iq lj b lk md jr lm ln me ju lp lq mf ls lt lu mg lw lx ly mh ma mb lg ij bi translated">模板引擎为我们填补了空白。在这种情况下，空白的就是写在花括号<code class="fe mu mv mw mj b">{{ }}</code>之间的内容。当模板要求<code class="fe mu mv mw mj b">{{greeting}}</code>时，就像疯狂的Libs要求(问候)。</p><p id="55e9" class="pw-post-body-paragraph lh li iq lj b lk md jr lm ln me ju lp lq mf ls lt lu mg lw lx ly mh ma mb lg ij bi translated">两个模板引擎都以相似的方式处理向页面添加模板。</p><p id="2021" class="pw-post-body-paragraph lh li iq lj b lk md jr lm ln me ju lp lq mf ls lt lu mg lw lx ly mh ma mb lg ij bi translated"><strong class="lj ir">车把:</strong></p><pre class="kg kh ki kj gt mi mj mk ml aw mm bi"><span id="ceb9" class="mn mo iq mj b gy mp mq l mr ms">var data = <!-- -->{ greeting: 'Hello', name: 'Josh' };<br/>var template = '&lt;p&gt;{{greeting}} {{name}}&lt;/p&gt;';</span><span id="b065" class="mn mo iq mj b gy mx mq l mr ms">var compileTemplate = Handlebars.compile(template);<br/>var output = compileTemplate(data);<br/>element.innerHTML = output;</span><span id="5ab9" class="mn mo iq mj b gy mx mq l mr ms">// output = &lt;p&gt;Hello Josh&lt;/p&gt;</span></pre><p id="3f66" class="pw-post-body-paragraph lh li iq lj b lk md jr lm ln me ju lp lq mf ls lt lu mg lw lx ly mh ma mb lg ij bi translated"><strong class="lj ir">小胡子:</strong></p><pre class="kg kh ki kj gt mi mj mk ml aw mm bi"><span id="d892" class="mn mo iq mj b gy mp mq l mr ms">var data = <!-- -->{ greeting: 'Hello', name: 'Josh' };<br/>var template = '&lt;p&gt;{{greeting}} {{name}}&lt;/p&gt;';<br/><br/>var <!-- -->output <!-- -->= Mustache.render(template, <!-- -->data<!-- -->);<br/>element.innerHTML = output;</span><span id="1ee4" class="mn mo iq mj b gy mx mq l mr ms">// output = &lt;p&gt;Hello Josh&lt;/p&gt;</span></pre><p id="6818" class="pw-post-body-paragraph lh li iq lj b lk md jr lm ln me ju lp lq mf ls lt lu mg lw lx ly mh ma mb lg ij bi translated">模板通常存储在页面上的一个<code class="fe mu mv mw mj b">&lt;script&gt;</code>标签中，并在编译时被代码引用。</p><pre class="kg kh ki kj gt mi mj mk ml aw mm bi"><span id="c5b9" class="mn mo iq mj b gy mp mq l mr ms">&lt;script id="scriptTemplate"&gt;<br/>  &lt;p&gt;{{greeting}} {{name}}&lt;/p&gt;<br/>&lt;/script&gt;</span><span id="1889" class="mn mo iq mj b gy mx mq l mr ms">...</span><span id="f8f9" class="mn mo iq mj b gy mx mq l mr ms">var template = document.getElementById('scriptTemplate');<br/>var compileTemplate = Handlebars.compile(template);</span></pre><p id="e347" class="pw-post-body-paragraph lh li iq lj b lk md jr lm ln me ju lp lq mf ls lt lu mg lw lx ly mh ma mb lg ij bi translated">添加<code class="fe mu mv mw mj b">&lt;script&gt;</code>标签作为模板会使<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction" rel="noopener ugc nofollow" target="_blank"> DOM </a>变得混乱。一个页面可以有多个模板，但不能全部使用。</p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nf"><img src="../Images/70fa9bcd7c09e6baa28f1f3fbee9719e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*puZkfxp83SchY0Ol."/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@steve_j?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">斯蒂夫·约翰森</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="6b12" class="pw-post-body-paragraph lh li iq lj b lk md jr lm ln me ju lp lq mf ls lt lu mg lw lx ly mh ma mb lg ij bi translated">有了ES6(如果你喜欢也可以是ES2015)，我们可以用<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals" rel="noopener ugc nofollow" target="_blank">模板文字</a>创建模板字符串。模板文字是字符串，我们可以在其中注入变量和函数。它们允许我们不用加号<code class="fe mu mv mw mj b">+</code>来连接字符串和变量。这些字符串使用反勾<code class="fe mu mv mw mj b">`</code>代替单引号或双引号。</p><p id="ed50" class="pw-post-body-paragraph lh li iq lj b lk md jr lm ln me ju lp lq mf ls lt lu mg lw lx ly mh ma mb lg ij bi translated"><strong class="lj ir">变量串联:</strong></p><pre class="kg kh ki kj gt mi mj mk ml aw mm bi"><span id="9919" class="mn mo iq mj b gy mp mq l mr ms">var name = "Josh";<br/>var string = "Hello " <strong class="mj ir">+ name</strong>;</span><span id="c331" class="mn mo iq mj b gy mx mq l mr ms">// output = &lt;p&gt;Hello Josh&lt;/p&gt;</span></pre><p id="a4d2" class="pw-post-body-paragraph lh li iq lj b lk md jr lm ln me ju lp lq mf ls lt lu mg lw lx ly mh ma mb lg ij bi translated"><strong class="lj ir">带变量的模板文字:</strong></p><pre class="kg kh ki kj gt mi mj mk ml aw mm bi"><span id="a5c6" class="mn mo iq mj b gy mp mq l mr ms">let name = "Josh";<br/>let string = `Hello <strong class="mj ir">${name}</strong>`;</span><span id="02f9" class="mn mo iq mj b gy mx mq l mr ms">// output = &lt;p&gt;Hello Josh&lt;/p&gt;</span></pre><p id="334c" class="pw-post-body-paragraph lh li iq lj b lk md jr lm ln me ju lp lq mf ls lt lu mg lw lx ly mh ma mb lg ij bi translated">这里的区别是在变量名周围使用了美元符号和花括号<code class="fe mu mv mw mj b">${}</code>，没有加号<code class="fe mu mv mw mj b">${variableName}</code>。这使得字符串和变量一起使用更具可读性。</p><p id="74c3" class="pw-post-body-paragraph lh li iq lj b lk md jr lm ln me ju lp lq mf ls lt lu mg lw lx ly mh ma mb lg ij bi translated"><strong class="lj ir">行串联:</strong></p><pre class="kg kh ki kj gt mi mj mk ml aw mm bi"><span id="4dde" class="mn mo iq mj b gy mp mq l mr ms">var string = "The quick brown fox " +<br/>             "jumps over " +<br/>             "the lazy dog";</span></pre><p id="d476" class="pw-post-body-paragraph lh li iq lj b lk md jr lm ln me ju lp lq mf ls lt lu mg lw lx ly mh ma mb lg ij bi translated"><strong class="lj ir">模板文字行:</strong></p><pre class="kg kh ki kj gt mi mj mk ml aw mm bi"><span id="10bb" class="mn mo iq mj b gy mp mq l mr ms">let string = `The quick brown fox<br/>              jumps over<br/>              the lazy dog`;</span></pre><p id="0330" class="pw-post-body-paragraph lh li iq lj b lk md jr lm ln me ju lp lq mf ls lt lu mg lw lx ly mh ma mb lg ij bi translated">现在我们开始看到模板字面量看起来很像模板引擎。让我们看看那会是什么样子:</p><pre class="kg kh ki kj gt mi mj mk ml aw mm bi"><span id="a93f" class="mn mo iq mj b gy mp mq l mr ms">let data = <!-- -->{ greeting: 'Hello', name: 'Josh' };<br/>let template = `&lt;p&gt;${data.greeting} {data.name}&lt;/p&gt;`;<br/>element.innerHTML = <!-- -->template<!-- -->;</span><span id="c205" class="mn mo iq mj b gy mx mq l mr ms">// output = &lt;p&gt;Hello Josh&lt;/p&gt;</span></pre><p id="3014" class="pw-post-body-paragraph lh li iq lj b lk md jr lm ln me ju lp lq mf ls lt lu mg lw lx ly mh ma mb lg ij bi translated">模板文字将对象数据添加到字符串中供我们使用。我们可以使用变量和对象来通知字符串中的数据。花括号之间的所有内容都被求值，从数字到条件到函数。</p><p id="acd7" class="pw-post-body-paragraph lh li iq lj b lk md jr lm ln me ju lp lq mf ls lt lu mg lw lx ly mh ma mb lg ij bi translated"><strong class="lj ir">数学:</strong></p><pre class="kg kh ki kj gt mi mj mk ml aw mm bi"><span id="d162" class="mn mo iq mj b gy mp mq l mr ms">let number = `${2 * 5}`;</span><span id="3206" class="mn mo iq mj b gy mx mq l mr ms">// output = 10</span></pre><p id="c5d4" class="pw-post-body-paragraph lh li iq lj b lk md jr lm ln me ju lp lq mf ls lt lu mg lw lx ly mh ma mb lg ij bi translated"><strong class="lj ir">三元条件:</strong></p><pre class="kg kh ki kj gt mi mj mk ml aw mm bi"><span id="41b0" class="mn mo iq mj b gy mp mq l mr ms">let time = 'night';<br/>let string = `Good ${time === 'night' ? 'evening' : 'day'}, Josh`;</span><span id="9a97" class="mn mo iq mj b gy mx mq l mr ms">// output = Good evening, Josh</span></pre><p id="3000" class="pw-post-body-paragraph lh li iq lj b lk md jr lm ln me ju lp lq mf ls lt lu mg lw lx ly mh ma mb lg ij bi translated">把这些放在一起，我们可以构建函数来处理重复的内容，比如数组。</p><p id="d041" class="pw-post-body-paragraph lh li iq lj b lk md jr lm ln me ju lp lq mf ls lt lu mg lw lx ly mh ma mb lg ij bi translated"><strong class="lj ir">功能</strong>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ng nh l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">迅速升级</figcaption></figure></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><p id="0f77" class="pw-post-body-paragraph lh li iq lj b lk md jr lm ln me ju lp lq mf ls lt lu mg lw lx ly mh ma mb lg ij bi translated">所有现代浏览器都非常支持模板文字。在IE 10 &amp; 11的情况下，我们将不得不使用JavaScript预处理器，如<a class="ae kv" href="https://babeljs.io/" rel="noopener ugc nofollow" target="_blank">巴贝尔</a>。巴别塔很容易在您的项目中建立使用NPM脚本。巴别塔的教程在他们的网站和其他地方。我已经成功地为用ES6编写的文件创建了一个文件夹，并为生成的文件创建了另一个文件夹。一个简单的NPM脚本可以是:<code class="fe mu mv mw mj b">"build": babel ./src -d ./dist"</code>其中“src”是源文件夹，“dist”是生成的文件夹。</p><p id="b7e5" class="pw-post-body-paragraph lh li iq lj b lk md jr lm ln me ju lp lq mf ls lt lu mg lw lx ly mh ma mb lg ij bi translated">更新的原生JavaScript支持消除了对库的依赖，这意味着页面上加载的脚本少了一个。如果您准备在项目中使用ES6，合并模板文字是很容易的。</p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><p id="f56c" class="pw-post-body-paragraph lh li iq lj b lk md jr lm ln me ju lp lq mf ls lt lu mg lw lx ly mh ma mb lg ij bi translated">如果你正在使用模板文字，以及你可能发现的任何成功或陷阱，请在下面告诉我。</p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><p id="d212" class="pw-post-body-paragraph lh li iq lj b lk md jr lm ln me ju lp lq mf ls lt lu mg lw lx ly mh ma mb lg ij bi translated">Joshua Studley是Kelley Blue Book的高级UI工程师，拥有15年以上的工作经验。他曾与医疗软件和汽车媒体领域的领先互动公司合作。Josh还在UCI编码训练营教授全栈web开发。不建网站的时候，他就在建网站。说真的。</p></div></div>    
</body>
</html>