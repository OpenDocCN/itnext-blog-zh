<html>
<head>
<title>Live Reloading and Lazy Loading Micro-Frontends using Ara Framework</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Ara框架的动态重载和延迟加载微前端</h1>
<blockquote>原文：<a href="https://itnext.io/live-reloading-and-lazy-loading-for-micro-frontends-using-ara-framework-707ccb0f1960?source=collection_archive---------2-----------------------#2019-09-15">https://itnext.io/live-reloading-and-lazy-loading-for-micro-frontends-using-ara-framework-707ccb0f1960?source=collection_archive---------2-----------------------#2019-09-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/d7d05683942968d4508ca05db952f1bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KlV4fGnW2uMgmruN.png"/></div></div></figure><p id="c869" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">本文原载于<a class="ae kw" href="https://ara-framework.github.io/website/blog/2019/09/14/lazy-loading-micro-frontend" rel="noopener ugc nofollow" target="_blank"> Ara博客</a>。</p><p id="583f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">演示代码<a class="ae kw" href="https://github.com/marconi1992/ara-spa-demo" rel="noopener ugc nofollow" target="_blank">此处</a>。</p><p id="2926" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">微前端解决了一些组织和技术问题，然而，它们也可能导致其他问题。作为软件架构师，我们需要做出决策来解决最关键的问题，并找出如何减轻所选解决方案导致的新问题。</p><blockquote class="kx ky kz"><p id="40b1" class="jy jz la ka b kb kc kd ke kf kg kh ki lb kk kl km lc ko kp kq ld ks kt ku kv ij bi translated">真正的成功需要牺牲——雷克·莱尔顿</p></blockquote><p id="2c7f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这篇文章中，我们将学习如何减轻其中一些。</p><h1 id="6ec9" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">网络过载(性能问题)</h1><p id="ea6f" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">微前端可以独立交付其JavaScript包。然而，主机应用程序需要为它使用的每个微前端下载一个文件。在最坏的情况下，它可能需要下载一堆文件，这会影响其初始加载的性能。</p><h1 id="a3f1" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">刷新宿主页面(开发人员体验问题)</h1><p id="fa79" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">另一个问题出现在开发周期中。对于Monolith前端应用程序来说，使用实时重新加载工具可以在代码发生变化时轻松刷新页面。然而，对于微前端来说，这项任务变得更加困难，因为主机应用程序只消耗每个微前端的JavaScript包，并且它们的底层代码在其边界之外。</p><h1 id="0e7e" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">Webpack Nova消费者</h1><p id="2f2f" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">我们创建了<a class="ae kw" href="https://github.com/ara-framework/webpack-nova-consumer" rel="noopener ugc nofollow" target="_blank"> webpack-nova-consumer </a>来解决上面提到的问题。该插件支持跨微前端(诺瓦斯)的实时重载和生产模式下JavaScript包的延迟加载。</p><p id="970b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们将在本文后面看到它的实际应用。</p><h1 id="d5de" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">设置主机应用程序(Nuxt SPA)</h1><p id="5d4f" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">首先，在<code class="fe mh mi mj mk b">spa</code>模式下创建一个Nuxt应用程序:</p><p id="87ce" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">注:<code class="fe mh mi mj mk b">Choose rendering mode</code>选项选择<code class="fe mh mi mj mk b">Single Page App</code>。</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="06dd" class="mt lf iq mk b gy mu mv l mw mx">create-nuxt-app nuxt-spa</span></pre><p id="168c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在文件夹<code class="fe mh mi mj mk b">nuxt-spa</code>中，运行<a class="ae kw" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000 </a>中的nuxt应用程序:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="474b" class="mt lf iq mk b gy mu mv l mw mx">yarn dev</span></pre><p id="e0f8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">浏览器:</p><figure class="ml mm mn mo gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi my"><img src="../Images/337fd69e73eadd9fad2a6872ce0ee3c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*eKxiiQwGxwPIP471.png"/></div></div></figure><p id="92b5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">运行应用程序后，我们将看到一个呈现nuxt示例页面的页面。</p><h1 id="6c7a" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">设置微前端(Foo Nova)</h1><p id="a7af" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">使用<a class="ae kw" href="https://github.com/ara-framework/ara-cli" rel="noopener ugc nofollow" target="_blank"> CLI </a>创建一个新的Nova:</p><p id="c371" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">注意:当<code class="fe mh mi mj mk b">Do you want to include Server-Side Rendering (SSR)</code>选项似乎只包含客户端入口点时，键入<code class="fe mh mi mj mk b">n</code>。</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="2bff" class="mt lf iq mk b gy mu mv l mw mx">ara new:nova -t vue foo-nova</span></pre><p id="22a7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于生产，我们需要构建客户端入口点，并将其部署在存储服务中，如<a class="ae kw" href="https://aws.amazon.com/s3/" rel="noopener ugc nofollow" target="_blank">亚马逊S3 </a>并通过CDN分发。然而，对于开发，我们将使用<a class="ae kw" href="https://webpack.js.org/configuration/dev-server/" rel="noopener ugc nofollow" target="_blank"> webpack-dev-server </a>来服务它。</p><p id="936e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在<a class="ae kw" href="http://localhost:8080/client.js" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/client . js</a>中提供JavaScript包</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="7e86" class="mt lf iq mk b gy mu mv l mw mx">yarn dev</span></pre><p id="17ed" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">注意，<code class="fe mh mi mj mk b">foo-nova/src/components</code>文件夹包含一个名为<code class="fe mh mi mj mk b">Example</code>的组件，它在入口点<code class="fe mh mi mj mk b">foo-nova/src/index.js</code>文件中使用。接下来我们将在nuxt应用程序中呈现它。</p><h1 id="d3d1" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">在Nuxt中实现微前端(Foo Nova)</h1><p id="b3ae" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">首先，我们需要为Vue.js安装<a class="ae kw" href="https://ara-framework.github.io/website/docs/nova-bridge" rel="noopener ugc nofollow" target="_blank"> Nova桥</a>。这个包提供了一个组件，在基于Vue.js的应用程序中包含Nova视图。</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="b572" class="mt lf iq mk b gy mu mv l mw mx">yarn add nova-vue-bridge</span></pre><p id="596b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">用以下代码更新文件<code class="fe mh mi mj mk b">pages/index.vue</code>:</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="3de0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">再次运行nuxt应用程序:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="c4fe" class="mt lf iq mk b gy mu mv l mw mx">yarn dev</span></pre><p id="44e7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">浏览器:</p><figure class="ml mm mn mo gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nb"><img src="../Images/1b796827478075103221b8fdd010ce74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4eHK7oIpLxz7Jb98.png"/></div></div></figure><p id="9803" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">运行应用程序后，页面只显示Nuxt徽标，因为我们还没有为<code class="fe mh mi mj mk b">Foo Nova</code>加载JavaScript包。然而，如果我们检查浏览器中的HTML元素，我们可以注意到Nova桥渲染器，这是将安装微前端(Nova)视图的占位符。</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="0c8b" class="mt lf iq mk b gy mu mv l mw mx">&lt;<strong class="mk ir">div</strong> data-hypernova-key="Example" data-hypernova-id="8f07d513-0c84-4b16-8058-08cf2a014d0d"&gt;&lt;/<strong class="mk ir">div</strong>&gt; <br/>&lt;<strong class="mk ir">script</strong> type="application/json" data-hypernova-key="Example" data-hypernova-id="8f07d513-0c84-4b16-8058-08cf2a014d0d"&gt;&lt;!--{"title":"Ara Framework"}--&gt;&lt;/<strong class="mk ir">script</strong>&gt;</span></pre><h1 id="cd93" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">使用Webpack Nova Consumer加载JavaScript包</h1><p id="34f4" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">在nuxt应用程序中安装<a class="ae kw" href="https://github.com/ara-framework/webpack-nova-consumer" rel="noopener ugc nofollow" target="_blank"> webpack-nova-consumer </a>。</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="2baa" class="mt lf iq mk b gy mu mv l mw mx">yarn add --dev @ara/webpack-nova-consumer</span></pre><p id="2d7a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">安装包后，导入NovaConsumer插件并将其添加到<code class="fe mh mi mj mk b">nuxt.config.js</code>文件的<code class="fe mh mi mj mk b">extend</code>部分。</p><p id="5d17" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mh mi mj mk b">nuxt.config.js</code></p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="8c8d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mh mi mj mk b">NovaConsumerPlugin</code>接收一个对象，该对象带有它正在使用的微前端(诺瓦斯)的信息:</p><ul class=""><li id="3506" class="nc nd iq ka b kb kc kf kg kj ne kn nf kr ng kv nh ni nj nk bi translated"><code class="fe mh mi mj mk b">entry</code>:包含微前端入口点的JavaScript包。</li><li id="2f36" class="nc nd iq ka b kb nl kf nm kj nn kn no kr np kv nh ni nj nk bi translated"><code class="fe mh mi mj mk b">views</code>:微前端支持的视图名称列表。</li></ul><p id="fb6a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">浏览器:</p><figure class="ml mm mn mo gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nq"><img src="../Images/549b4b99c55f1150cc1aed8fa77158d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*FhjJnYvL-wZQyUZm.png"/></div></div></figure><h1 id="4bd4" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">实时重装</h1><p id="99a8" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">现在，我们可以更新<code class="fe mh mi mj mk b">foo-bar/components</code>文件夹中的<code class="fe mh mi mj mk b">Example.vue</code>组件，主机应用程序(nuxt)将重新加载显示最新更改的页面。</p><p id="d118" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">更新<code class="fe mh mi mj mk b">Example.vue</code>:</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="f07a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">实时重装操作:</p><figure class="ml mm mn mo gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nr"><img src="../Images/8cd47f342a08ebb447070257cfab41af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RxPcPQ_pUIfzZmEr.gif"/></div></div></figure><h1 id="8e4a" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">设置微前端(Bar Nova)</h1><p id="5ad1" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">为了使用多个微前端测试我们的nuxt应用程序，我们将创建一个名为<code class="fe mh mi mj mk b">bar-nova</code>的新微前端。</p><p id="dfdd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">按照前面提到的相同步骤创建一个新的nova。</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="ed8d" class="mt lf iq mk b gy mu mv l mw mx">ara new:nova -t vue bar-nova</span></pre><p id="1614" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">将<code class="fe mh mi mj mk b">src/index.js</code>中的视图名称从<code class="fe mh mi mj mk b">Example</code>更改为<code class="fe mh mi mj mk b">Bar</code>:</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="efa9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在<a class="ae kw" href="http://localhost:8081/client.js" rel="noopener ugc nofollow" target="_blank">http://localhost:8081/client . js</a>中提供JavaScript包</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="b094" class="mt lf iq mk b gy mu mv l mw mx">yarn dev</span></pre><h1 id="d3b4" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">在Nuxt中实现微前端(Bar Nova)</h1><p id="4441" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">我们需要创建一个名为<code class="fe mh mi mj mk b">bar</code>的新页面，在这里我们将实现<code class="fe mh mi mj mk b">Bar</code>视图。我们还将在主页中添加一个链接来导航到<code class="fe mh mi mj mk b">bar</code>页面。</p><p id="155f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">创建新页面<code class="fe mh mi mj mk b">pages/bar.vue</code>:</p><p id="8eb0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mh mi mj mk b">bar.vue</code></p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="68ae" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在<code class="fe mh mi mj mk b">pages/index.vue</code>文件中添加到<code class="fe mh mi mj mk b">bar</code>页面的链接:</p><p id="b90e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mh mi mj mk b">index.vue</code></p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="45c9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在<code class="fe mh mi mj mk b">nuxt.config.js</code>文件中添加新的入口点:</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="2a02" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">浏览器:</p><figure class="ml mm mn mo gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nr"><img src="../Images/a9324b1bb2d6134fc61058256221cf4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fcL_jAMqc8txKRMP.gif"/></div></div></figure><p id="32ea" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">再次运行nuxt应用程序后，我们将看到视图从一个页面导航到另一个页面。接下来我们将测试延迟加载特性。</p><h1 id="b132" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">惰性装载</h1><p id="6a59" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">在生产模式下，使用webpack自动启用延迟加载。插件在内置的应用中添加了一个<code class="fe mh mi mj mk b">nova-lazy-load</code>脚本。在幕后，这个脚本监听Nova Bridge发出的<code class="fe mh mi mj mk b">NovaMount</code>事件，以便加载装载所请求视图的JavaScript包。</p><p id="bf23" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">构建nuxt应用程序:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="8c8e" class="mt lf iq mk b gy mu mv l mw mx">yarn build</span></pre><p id="b74d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">安装<code class="fe mh mi mj mk b">http-server</code>服务静态文件:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="97da" class="mt lf iq mk b gy mu mv l mw mx">npm <strong class="mk ir">i</strong> -g http-server</span></pre><p id="8005" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">转到<code class="fe mh mi mj mk b">dist</code>文件夹，提供<a class="ae kw" href="http://127.0.0.1:3000/" rel="noopener ugc nofollow" target="_blank"> http://127.0.0.1:3000 </a>中的静态文件:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="ad8d" class="mt lf iq mk b gy mu mv l mw mx">http-server . -<strong class="mk ir">p</strong> 3000</span></pre><p id="3972" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">浏览器:</p><figure class="ml mm mn mo gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nr"><img src="../Images/2bbfb9c1a8cb8c70905e90b52082f9ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xjaWeIHp0ndCfytH.gif"/></div></div></figure><p id="faf2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">注意，只有当用户导航到<code class="fe mh mi mj mk b">bar</code>页面时，才会加载Bar微前端的JavaScript包。一般来说，Nova包只有在它们的一个视图被放在页面上时才会被加载。</p></div></div>    
</body>
</html>