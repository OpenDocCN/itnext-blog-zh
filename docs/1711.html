<html>
<head>
<title>Practical TDD — First Lesson</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">实用TDD —第一课</h1>
<blockquote>原文：<a href="https://itnext.io/practical-tdd-first-lesson-1c689fffe4ec?source=collection_archive---------5-----------------------#2019-01-08">https://itnext.io/practical-tdd-first-lesson-1c689fffe4ec?source=collection_archive---------5-----------------------#2019-01-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/48b4f176e8459a2bb91a8f75cc81761d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gcgF3ep8LKRTOv4n1ANN1w.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">图片由<a class="ae kf" href="https://www.shutterstock.com/download/confirm/684725344?src=zvWnUqavjaFpsQUYZNvT5Q-1-8&amp;size=medium_jpg" rel="noopener ugc nofollow" target="_blank">Shutterstock.com</a></figcaption></figure><p id="c3cc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你正在尝试学习TDD，这个系列就是为你准备的。在第一课中，我们将从基础开始，将TDD应用到一个简单的小问题中。不涉及类协作的东西，只有简单的输入和输出。</p><p id="b912" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我是一名. net开发人员，所以这个例子将使用xUnit和。net核心，但是你可以用任何语言来把握概念。你可以从<a class="ae kf" href="https://github.com/RaphaelYoshiga/TDD" rel="noopener ugc nofollow" target="_blank">这里</a>下载最终解决方案。</p><p id="7b27" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是第一课，所以我会讲得很慢，不抄近路。</p><h2 id="3f8d" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">规则</h2><p id="145c" class="pw-post-body-paragraph kg kh it ki b kj lx kl km kn ly kp kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">在本课中，我们将尝试遵循的唯一规则是TDD规则:</p><ul class=""><li id="5ec3" class="mc md it ki b kj kk kn ko kr me kv mf kz mg ld mh mi mj mk bi translated">除了通过失败的测试之外，你不应该写生产代码</li><li id="a68a" class="mc md it ki b kj ml kn mm kr mn kv mo kz mp ld mh mi mj mk bi translated">除了通过失败的测试所必需的，你不应该写更多的产品代码。</li><li id="2e16" class="mc md it ki b kj ml kn mm kr mn kv mo kz mp ld mh mi mj mk bi translated">你不应该写更多的测试，而应该让它因为正确的原因而失败。</li></ul><p id="a29f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以让我们把这个应用到<a class="ae kf" href="http://codingdojo.org/kata/FizzBuzz/" rel="noopener ugc nofollow" target="_blank"> FizzBuzz Kata </a>中——写一个程序打印从1到100的数字。但是对于三的倍数打印“嘶嘶”而不是数字，五的倍数打印“嗡嗡”。对于3和5的倍数的数字，打印“FizzBuzz”。</p><p id="68b3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">鉴于这些要求，你认为第一个测试应该是什么？</p><p id="3409" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我个人的观点是总是从最简单的开始，然后再去更难的部分。所以对于TDD形，我将从“打印从1到100的数字”开始，那些不是“嘶嘶”或“嗡嗡”的数字应该被简单地打印出来。</p><h2 id="bd13" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">打印数字功能</h2><figure class="mq mr ms mt gt ju"><div class="bz fp l di"><div class="mu mv l"/></div></figure><figure class="mq mr ms mt gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mw"><img src="../Images/ea3116211e261a130474a71b2633f71b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oEhjv1z9tWFuKtEnArVgtQ.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">首次测试执行</figcaption></figure><p id="b379" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">运行测试，看它是否失败。</p><p id="2e40" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么现在，我如何让它通过呢？</p><p id="7989" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">大多数人都会来到这里，忙不迭地返回“i.ToString():”。那会违反第二条规则。除了通过失败的测试所必需的，你不应该写更多的产品代码。将它解析为字符串并不是使它通过的必要条件，最简单的方法是:</p><figure class="mq mr ms mt gt ju"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="84ef" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有些人可能认为这太多了。就是在那种情况下，但是跳过去了，不学规矩就会养成坏习惯。</p><p id="94cc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么接下来呢？继续打印数字:</p><figure class="mq mr ms mt gt ju"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="894f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">仍然用最简单的方式传递:</p><figure class="mq mr ms mt gt ju"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="8206" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">将另一个场景添加到打印中</p><figure class="mq mr ms mt gt ju"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="a91d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么您仍然可以简单地实现:</p><figure class="mq mr ms mt gt ju"><div class="bz fp l di"><div class="mu mv l"/></div></figure><blockquote class="mx my mz"><p id="cc9a" class="kg kh na ki b kj kk kl km kn ko kp kq nb ks kt ku nc kw kx ky nd la lb lc ld im bi translated">第三次是一种魅力。</p></blockquote><h2 id="9c86" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">三角测量</h2><p id="98cc" class="pw-post-body-paragraph kg kh it ki b kj lx kl km kn ly kp kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">那么现在可以给大家介绍一下<strong class="ki iu">三角测量了。你需要这个模式出现三次，这样你就可以概括它了。</strong></p><p id="ae04" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以现在我们在:</p><figure class="mq mr ms mt gt ju"><div class="bz fp l di"><div class="mu mv l"/></div></figure><figure class="mq mr ms mt gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ne"><img src="../Images/0e34a863bd6c8a0642d986a87bcbde1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R58FnOEV_J7F3fy9-mJp6A.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">红色&gt;绿色</figcaption></figure><p id="3be9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所有测试都通过了，太棒了！</p><p id="70a3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">三角测量将帮助你避免过早地概括事物。</p><p id="cfa1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在基本概念已经展示出来了，我将开始加速:</p><h2 id="a4ac" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">使用测试用例</h2><p id="acd6" class="pw-post-body-paragraph kg kh it ki b kj lx kl km kn ly kp kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">在xUnit中有两种基本的测试。</p><ul class=""><li id="65c7" class="mc md it ki b kj kk kn ko kr me kv mf kz mg ld mh mi mj mk bi translated">事实就是事实，就是真理，单一执行。</li><li id="9604" class="mc md it ki b kj ml kn mm kr mn kv mo kz mp ld mh mi mj mk bi translated">理论是一组论点，会运行多次。</li></ul><p id="ae2a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">重构我们的测试来使用测试用例将会使它变得简洁:</p><figure class="mq mr ms mt gt ju"><div class="bz fp l di"><div class="mu mv l"/></div></figure><figure class="mq mr ms mt gt ju gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/d4e985244e3ac06734b95dac71be19f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/1*0uGv6hBeoH7ZEGg51CduAQ.png"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">理论测试执行</figcaption></figure><h2 id="8e5d" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">实现Fizz功能</h2><p id="36cb" class="pw-post-body-paragraph kg kh it ki b kj lx kl km kn ly kp kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">还在遵守规则！首先编写测试:</p><figure class="mq mr ms mt gt ju"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="4953" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">并且仍然简单地实现:</p><figure class="mq mr ms mt gt ju"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="054f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">和前面一样，我们可以得到:</p><figure class="mq mr ms mt gt ju"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="1149" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在我们有足够的三角测量:</p><figure class="mq mr ms mt gt ju"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="b20c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">经过同样的艰苦工作、测试、失败、重构，我们最终得到了最终结果:</p><figure class="mq mr ms mt gt ju"><div class="bz fp l di"><div class="mu mv l"/></div></figure><h2 id="ad86" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">结论</h2><p id="a8c1" class="pw-post-body-paragraph kg kh it ki b kj lx kl km kn ly kp kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">即使这个问题很简单，没有测试覆盖，你怎么知道一切都如预期的那样工作呢？您会调试许多输入吗？老实说，我认为你可以用你的时间做更好的事情。</p><p id="6eb2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我希望这能帮助你进入TDD。</p><p id="b607" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当我在将来像这样的更高级的形中取得进展时，请保持关注。</p></div><div class="ab cl ng nh hx ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="im in io ip iq"><p id="7ec9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下一个TDD资源:</p><ul class=""><li id="7961" class="mc md it ki b kj kk kn ko kr me kv mf kz mg ld mh mi mj mk bi translated"><a class="ae kf" href="https://medium.com/@raphaelyoshiga/why-tdd-will-change-your-developer-life-b0bf234e15ac" rel="noopener">为什么TDD会改变你的开发者生活</a></li><li id="c7a8" class="mc md it ki b kj ml kn mm kr mn kv mo kz mp ld mh mi mj mk bi translated"><a class="ae kf" href="https://medium.com/@raphaelyoshiga/practical-tdd-lesson-2-d9d48283b0c4" rel="noopener">实用TDD —第二课</a></li><li id="8ccc" class="mc md it ki b kj ml kn mm kr mn kv mo kz mp ld mh mi mj mk bi translated"><a class="ae kf" href="https://medium.com/@raphaelyoshiga/practical-tdd-3-9a76b3e045d8" rel="noopener">实用TDD——第三课课堂协作</a></li><li id="e0e4" class="mc md it ki b kj ml kn mm kr mn kv mo kz mp ld mh mi mj mk bi translated"><a class="ae kf" rel="noopener ugc nofollow" target="_blank" href="/acceptance-test-driven-development-in-net-core-with-specflow-dcb17fb7a893">验收测试驱动开发用。net core和Specflow </a></li></ul></div></div>    
</body>
</html>