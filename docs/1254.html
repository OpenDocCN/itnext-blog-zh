<html>
<head>
<title>Visual Studio Code : Auto-Compile Less To CSS On Save Using Gulp</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Visual Studio代码:使用Gulp在保存时将Less自动编译为CSS</h1>
<blockquote>原文：<a href="https://itnext.io/visual-studio-code-auto-compile-less-to-css-on-save-using-gulp-2fa15bc7d954?source=collection_archive---------4-----------------------#2018-08-22">https://itnext.io/visual-studio-code-auto-compile-less-to-css-on-save-using-gulp-2fa15bc7d954?source=collection_archive---------4-----------------------#2018-08-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/dce14290cb4db3c5256dded4d175e65b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*G0oV0Pt-UztcvWKK"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">照片由<a class="ae jd" href="https://unsplash.com/@nate_dumlao?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">内森·杜姆劳</a>在<a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><div class=""/><p id="f07a" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们开发接口的速度越来越快，使用保存编译来编译更少的CSS代码。</p><p id="99fb" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">没有编辑器插件。没有肮脏的把戏。没有难懂的代码。</p><p id="437b" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我将为您提供一个干净的Javascript代码片段，以及几秒钟内完成设置的简单步骤。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="2b4d" class="li lj jg bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">设置</h1><p id="7f70" class="pw-post-body-paragraph kd ke jg kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">您需要:</p><ul class=""><li id="f20e" class="ml mm jg kf b kg kh kk kl ko mn ks mo kw mp la mq mr ms mt bi translated"><strong class="kf jh">一</strong>一<strong class="kf jh">项目目录</strong> : <code class="fe mu mv mw mx b">mkdir project</code></li><li id="c47d" class="ml mm jg kf b kg my kk mz ko na ks nb kw nc la mq mr ms mt bi translated"><strong class="kf jh">一饮而尽:</strong></li></ul><p id="f690" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在全球和您的项目中:</p><p id="4fcd" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mu mv mw mx b">npm install -g gulp</code>或<code class="fe mu mv mw mx b">yarn global add gulp</code></p><p id="fc88" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mu mv mw mx b">cd project</code></p><p id="4b80" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mu mv mw mx b">npm install gulp</code>或<code class="fe mu mv mw mx b">yarn add gulp</code></p><ul class=""><li id="f090" class="ml mm jg kf b kg kh kk kl ko mn ks mo kw mp la mq mr ms mt bi translated">仅在您的项目中</li></ul><p id="93ab" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mu mv mw mx b">cd project</code></p><p id="2f30" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mu mv mw mx b">npm install gulp-less</code>或<code class="fe mu mv mw mx b">yarn add gulp-less</code></p><p id="1d5a" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你完了。前进。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="2ea3" class="li lj jg bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">简短的解释</h1><p id="c95a" class="pw-post-body-paragraph kd ke jg kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated"><strong class="kf jh"> Gulp </strong>是一个Javascript任务运行器，可以让你自动化多余的任务。</p><p id="a83d" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它有很多非常有用的内置功能。</p><p id="2cd3" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">其中，我们将使用文件监视器，它允许我们在文件改变时执行任务。</p><p id="303b" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh"> Gulp-Less </strong>是一个Gulp插件，专门用于将较少的文件编译成CSS。它为我们提供了一个更少的编译器。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="762c" class="li lj jg bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">工作片段</h1><p id="7604" class="pw-post-body-paragraph kd ke jg kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated"><em class="nd">您可以根据自己的需求轻松定制。</em></p><p id="6268" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">首先，</strong>在你的项目目录的根目录下创建一个文件，命名为<code class="fe mu mv mw mx b">gulpfile.js</code>。</p><p id="5132" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这就是Gulp期望你如何组织你的任务，所以不要用不同的名称。</p><p id="80cb" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">然后，</strong>将这段代码复制粘贴到<code class="fe mu mv mw mx b">gulpfile.js</code>:</p><figure class="ne nf ng nh gt is"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="3a8d" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">最后，</strong>打开一个终端(使用VSCode中的<code class="fe mu mv mw mx b">cmd</code>或<code class="fe mu mv mw mx b">Ctrl + Shift + ù</code>)并运行该命令:</p><p id="c699" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mu mv mw mx b">gulp default</code></p><p id="2f19" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">你完成了。</strong></p><p id="214b" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">每次你修改一个位于你的<code class="fe mu mv mw mx b">srcDir</code>中的Less文件，它都会编译它并生成位于你的<code class="fe mu mv mw mx b">dstDir</code>中的相应CSS文件。</p><p id="59d5" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="nd">我所说的“修改文件”是指使用</em> <code class="fe mu mv mw mx b"><em class="nd">Ctrl + S</em></code> <em class="nd">或</em> <code class="fe mu mv mw mx b"><em class="nd">File &gt; Save</em></code></p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="a24b" class="li lj jg bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">进一步的细节:它是如何工作的？</h1><p id="519b" class="pw-post-body-paragraph kd ke jg kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">首先，我们只是导入两个模块:<code class="fe mu mv mw mx b">gulp | gulp-less</code>。</p><p id="83ae" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们定义Less文件的位置，以及我们希望CSS文件生成的位置。</p><p id="1153" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mu mv mw mx b">Line 9</code>:我们正在定义一个名为“less”的Gulp任务，由我们的自定义函数定义。</p><p id="06d6" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mu mv mw mx b">Line 11</code>:我们命令大口取<code class="fe mu mv mw mx b">srcDir</code>中所有的<code class="fe mu mv mw mx b">.less</code>文件作为源。(使用<code class="fe mu mv mw mx b">*.less</code></p><p id="7b8d" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mu mv mw mx b">Line 12</code>:我们命令Gulp将所有这些文件放入来自<code class="fe mu mv mw mx b">gulp-less</code>模块的<code class="fe mu mv mw mx b">less</code>函数(使用<code class="fe mu mv mw mx b">pipe</code>)。这个函数将把每个文件编译成它们的CSS副本。</p><p id="989e" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mu mv mw mx b">Line 13</code>:我们命令Gulp从较小的源文件中取出所有动态创建的CSS文件，并保存到<code class="fe mu mv mw mx b">srcDir</code>。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><p id="3b09" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，这项任务本身并不能解决任何问题。这只是一个在某处定义的任务，它本身不会对文件变化做出反应。</p><p id="0d44" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">这就是为什么:</strong></p><p id="3c2e" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mu mv mw mx b">Line 17</code>:当位于<code class="fe mu mv mw mx b">srcDir</code>的文件发生变化时，我们告诉Gulp执行<code class="fe mu mv mw mx b">less</code>任务。</p><p id="84cf" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">最后，</strong>运行<code class="fe mu mv mw mx b">gulp default</code>将运行<code class="fe mu mv mw mx b">default</code>任务，每次文件改变时，任务本身运行<code class="fe mu mv mw mx b">less</code>任务。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="8836" class="li lj jg bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated"><strong class="ak">更进一步</strong></h1><p id="2ca3" class="pw-post-body-paragraph kd ke jg kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">起初，我不想开始学习海洋中的另一项技术，但是伙计，(相信我)值得花时间去学习。</p><p id="0bb5" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Gulp可以让你自动化大量的事情，比如:</p><ul class=""><li id="17cb" class="ml mm jg kf b kg kh kk kl ko mn ks mo kw mp la mq mr ms mt bi translated">文件缩小/美化。</li><li id="bf04" class="ml mm jg kf b kg my kk mz ko na ks nb kw nc la mq mr ms mt bi translated">浏览器兼容性的自动前缀。</li><li id="9896" class="ml mm jg kf b kg my kk mz ko na ks nb kw nc la mq mr ms mt bi translated">保存时刷新浏览器。</li><li id="6837" class="ml mm jg kf b kg my kk mz ko na ks nb kw nc la mq mr ms mt bi translated">许多其他耗时的任务你最好让Gulp为你处理😃</li></ul><p id="b34d" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，VSCode有一个<code class="fe mu mv mw mx b">Tasks</code>选项卡，您可以从中运行gulp任务。这也是为什么<code class="fe mu mv mw mx b">gulpfile.js</code>命名很重要。</p><p id="1ec6" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">更进一步，VSCode允许你定义运行任务的快捷键，这样输入命令或者点击<code class="fe mu mv mw mx b">Tasks</code>就不再是你的痛苦了。</p><p id="95e0" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae jd" href="https://code.visualstudio.com/docs/editor/tasks#_binding-keyboard-shortcuts-to-tasks" rel="noopener ugc nofollow" target="_blank">使用键盘快捷键运行任务请参见此链接</a></p><blockquote class="nk nl nm"><p id="3a01" class="kd ke nd kf b kg kh ki kj kk kl km kn nn kp kq kr no kt ku kv np kx ky kz la ij bi translated">注意，运行<code class="fe mu mv mw mx b">gulp default</code>会一直运行并观察文件，直到你关闭编辑器/命令行解释器。</p></blockquote></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="0de9" class="li lj jg bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">感谢阅读</h1><p id="9f64" class="pw-post-body-paragraph kd ke jg kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">尽我所能在今年的每一周为您提供有价值的内容。</p><p id="0d9c" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我肯定会感谢50次鼓掌👼</p><p id="0431" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">查看我的上一篇文章:</p><div class="ip iq gp gr ir nq"><a href="https://dmware.fr/track-custom-events-on-your-website-using-google-analytics/" rel="noopener  ugc nofollow" target="_blank"><div class="nr ab fo"><div class="ns ab nt cl cj nu"><h2 class="bd jh gy z fp nv fr fs nw fu fw jf bi translated">使用Google Analytics跟踪您网站上的定制事件</h2><div class="nx l"><h3 class="bd b gy z fp nv fr fs nw fu fw dk translated">在跟踪用户方面，谷歌分析是一个非常强大的解决方案。但是，每个人都包含的小脚本…</h3></div><div class="ny l"><p class="bd b dl z fp nv fr fs nw fu fw dk translated">dmware.fr</p></div></div></div></a></div><p id="29d2" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">欢迎致电<strong class="kf jh"> david.mellul@outlook.fr. </strong></p><p id="d733" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">个人网站更多有价值的内容:<a class="ae jd" href="https://dmware.fr" rel="noopener ugc nofollow" target="_blank"> https://dmware.fr </a></p><figure class="ne nf ng nh gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nz"><img src="../Images/4a6d158585592dad923f1c41ee8b582e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ba3PsUK8YXPcYJBs"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated"><a class="ae jd" href="https://unsplash.com/@takeshi2?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">吴怡</a>在<a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的《白色马克杯里的卡布奇诺，白色泡沫艺术在木桌上》</figcaption></figure></div></div>    
</body>
</html>