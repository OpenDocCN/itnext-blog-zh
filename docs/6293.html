<html>
<head>
<title>How to Buy a Playstation 5 in Your Sleep</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在睡梦中买到Playstation 5</h1>
<blockquote>原文：<a href="https://itnext.io/how-to-buy-a-playstation-5-in-your-sleep-83a25bad22c7?source=collection_archive---------1-----------------------#2021-10-11">https://itnext.io/how-to-buy-a-playstation-5-in-your-sleep-83a25bad22c7?source=collection_archive---------1-----------------------#2021-10-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="bd56" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在Python中用Selenium创建Web机器人的初级教程</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2961101c1080deab6e5c10004bbb5ce8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZTxOIanO3YWfNxyb"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae ky" href="https://unsplash.com/@kseverin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Kerde Severin </a>拍摄的照片</figcaption></figure><p id="5e1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你想要一个Playstation 5但是</p><ul class=""><li id="fbac" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">你厌倦了不断点击网络浏览器的“刷新”按钮来查看商店是否有货，</li><li id="d9b2" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">它总是在一些网上商店提供后一分钟就销售一空，</li><li id="052a" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">你完全被那些创造了那些能立刻买下所有Playstations的机器人的软件开发者惹恼了？</li></ul><p id="ca7c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好吧，为什么不以牙还牙，写你自己的机器人呢？</p><p id="455d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这篇文章是关于如何用Python创建Selenium网络机器人的教程。这个机器人将不断地检查德国一家受欢迎的网店的Playstation 5的产品页面。</p><p id="fc56" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我制作了一个视频，展示了两个场景。首先，浏览器定期刷新并检查Playstation 5的产品页面，如果它可用的话。当然，此时它是不可用的。因此，为了演示购买过程的其余部分，我选择了一个可用的产品。</p><p id="49a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">【https://youtu.be/VdGhRhCtzbA T4】</p><p id="1755" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不要担心，如果你需要一个机器人为另一个商店。代码非常简单，很容易修改。在文档末尾的“参考资料”部分有一些链接，可能会帮助您更深入地了解这个问题。</p><p id="b95f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">代码可以从这里下载:<a class="ae ky" href="https://github.com/twissmueller/playstation-bot" rel="noopener ugc nofollow" target="_blank">https://github.com/twissmueller/playstation-bot</a></p><p id="fca2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="mj">免责声明</em>:请检查代码库中的许可证。简而言之:代码按原样提供。你可以用代码做任何你想做的事，但如果你不小心清空了你的银行账户，可别怪我。</p><p id="a48d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你需要的是一台带有</p><ul class=""><li id="0a05" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">Python 3和PIP</li><li id="a5d8" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">Chrome和ChromeDriver</li></ul><p id="9873" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请确保你的Chrome版本符合ChromeDriver的版本。</p><pre class="kj kk kl km gt mk ml mm mn aw mo bi"><span id="ef55" class="mp mq it ml b gy mr ms l mt mu">$ chromedriver --version<br/>ChromeDriver 94.0.4606.41 (333e85df3c9b656b518b5f1add5ff246365b6c24-refs/branch-heads/4606@{#845})</span></pre><p id="d4ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当一切就绪后，进入目录并激活Python环境。</p><pre class="kj kk kl km gt mk ml mm mn aw mo bi"><span id="7000" class="mp mq it ml b gy mr ms l mt mu">cd playstation-bot<br/>source bin/activate</span></pre><p id="279d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，可以安装以下要求:</p><pre class="kj kk kl km gt mk ml mm mn aw mo bi"><span id="7608" class="mp mq it ml b gy mr ms l mt mu">python3 -m pip install -r requirements.txt</span></pre><p id="3f60" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，编辑脚本并提供商店的用户名和密码以及您想要购买的正确产品。请参见第6行到第9行。</p><p id="5e1e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，脚本可以运行:</p><pre class="kj kk kl km gt mk ml mm mn aw mo bi"><span id="f932" class="mp mq it ml b gy mr ms l mt mu">python3 app.py</span></pre><p id="143d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，根据要处理的产品，脚本要么定期刷新页面，要么将产品放入购物篮并继续结帐过程。</p><p id="892b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不过有一点需要注意的是，该脚本不会在整个支付过程中运行，因为这取决于首选的支付选项。此外，一些支付提供商，如Paypal，可能会使用双因素认证，这使流程变得复杂。</p><p id="1e19" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，要实现其余的，还需要做更多的工作，但至少产品已经在篮子里了。随意叉回购，做该做的事。</p><h2 id="cc25" class="mp mq it bd mv mw mx dn my mz na dp nb li nc nd ne lm nf ng nh lq ni nj nk nl bi translated">它是如何工作的？</h2><p id="776b" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">让我们稍微深入一下技术细节。</p><p id="3fd1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">什么是Selenium，如何用它来购买Playstation？</p><p id="7bc3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从Selenium网站:</p><pre class="kj kk kl km gt mk ml mm mn aw mo bi"><span id="6c52" class="mp mq it ml b gy mr ms l mt mu">Selenium is a suite of tools for automating web browsers.</span></pre><p id="d6b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就是这么简单。</p><p id="54cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它模仿用户，所以我们可以自动完成某些任务，例如测试完整的网站。</p><p id="87c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">分解一下，在本教程中，我们模拟用户在访问网站时通常会做的三个简单任务:</p><ul class=""><li id="8036" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">打开浏览器并导航至产品页面</li><li id="de42" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">点击几个按钮</li><li id="9d26" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">填写表格</li></ul><p id="7627" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">简单，后面没多少了。真的。</p><p id="3102" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">打开产品页面的代码片段是</p><pre class="kj kk kl km gt mk ml mm mn aw mo bi"><span id="8517" class="mp mq it ml b gy mr ms l mt mu">PRODUCT = "&lt;product_link&gt;"<br/>driver = webdriver.Chrome()<br/>driver.get(PRODUCT)</span></pre><p id="3a49" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了使脚本适应另一个产品，只需要修改<code class="fe nr ns nt ml b">PRODUCT</code>-变量。Xbox有人吗？</p><p id="96c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，带有产品页面的浏览器已经打开，接下来的步骤，例如检查“添加到购物车”按钮是否可以按下，就可以执行了。</p><p id="5810" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">页面上的元素可以很容易地通过其ID来寻址，例如</p><pre class="kj kk kl km gt mk ml mm mn aw mo bi"><span id="9053" class="mp mq it ml b gy mr ms l mt mu">element = driver.find_element_by_id("mms-login-form__email")</span></pre><p id="c5fb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果一个元素没有ID怎么办？然后我们可以通过XPATH选择元素。在代码中，这是在单击按钮的函数中完成的:</p><pre class="kj kk kl km gt mk ml mm mn aw mo bi"><span id="2418" class="mp mq it ml b gy mr ms l mt mu">element = driver.find_element(By.XPATH, f'//button[text()="{button_text}"]')</span></pre><p id="6758" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过代码<code class="fe nr ns nt ml b">element.click()</code>，按钮被“点击”，但有时这在页面上不起作用，这与开发人员如何为他们的按钮使用JavaScript有关。</p><p id="fb05" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，我必须添加不同的代码来点击按钮:</p><pre class="kj kk kl km gt mk ml mm mn aw mo bi"><span id="ee06" class="mp mq it ml b gy mr ms l mt mu">driver.execute_script("arguments[0].click();", element)</span></pre><p id="fc70" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我想说明的最后一个动作是如何填写表单元素，例如电子邮件地址的表单元素。</p><pre class="kj kk kl km gt mk ml mm mn aw mo bi"><span id="ca88" class="mp mq it ml b gy mr ms l mt mu">driver.find_element_by_id("mms-login-form__email").send_keys(username)</span></pre><p id="4f76" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不过，可能还有最后一个问题。我们如何知道这些元素的id？</p><p id="4e7e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">打开Chrome页面上你尝试识别的元素，右键点击，点击“选择”。然后检查这个元素的“id”字段。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl nu"><img src="../Images/40ffcf0aac73a1b1ae2f4541e9214b12.png" data-original-src="https://miro.medium.com/v2/format:webp/1*yzlUMw-mWBU_DTdDkQsvbw.png"/></div></figure><p id="8235" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，会打开一个侧栏，显示包含所选元素的源代码。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl nu"><img src="../Images/2adf93e6c0117f95027274b60e4703e1.png" data-original-src="https://miro.medium.com/v2/format:webp/1*JF6se5Db_SqFB3Eb1L_iig.png"/></div></figure><p id="3dbd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果没有<code class="fe nr ns nt ml b">id</code>标签呢？再次右键单击并选择“Copy - &gt; XPath”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl nu"><img src="../Images/16fa51b908a640f4d232681cb235d923.png" data-original-src="https://miro.medium.com/v2/format:webp/1*I9zl_Iohfm_QdQL4UOrAjw.png"/></div></figure><h2 id="ea23" class="mp mq it bd mv mw mx dn my mz na dp nb li nc nd ne lm nf ng nh lq ni nj nk nl bi translated">结论</h2><p id="d490" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">首先，抱歉，用一个“clickbaity”标题引诱你进入web前端测试领域。</p><p id="ad20" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望这篇教程能让你对如何自动完成各种用途的浏览器任务有所了解。代码真的不多，很容易理解，对吧？</p><p id="2b05" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我真正希望的是，如果你从未接触过编码，这可能是你的一个开始。编程和测试软件可能看起来很乏味，但它是一项了不起的技能，可以帮助你和其他人完成如此多的日常任务。</p><p id="ffc8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论如何，希望你喜欢这个教程！</p><p id="63d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你喜欢这篇文章，请给我买杯咖啡。</p><p id="7f10" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天到此为止。</p><h2 id="8cf5" class="mp mq it bd mv mw mx dn my mz na dp nb li nc nd ne lm nf ng nh lq ni nj nk nl bi translated">资源</h2><ul class=""><li id="a7fb" class="lv lw it lb b lc nm lf nn li nv lm nw lq nx lu ma mb mc md bi translated"><a class="ae ky" href="https://www.selenium.dev" rel="noopener ugc nofollow" target="_blank">硒</a></li><li id="d884" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://www.python.org/about/gettingstarted/" rel="noopener ugc nofollow" target="_blank">初学Python</a></li><li id="879f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://packaging.python.org/tutorials/installing-packages/" rel="noopener ugc nofollow" target="_blank">安装包</a></li><li id="b0e7" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://docs.python.org/3/tutorial/venv.html" rel="noopener ugc nofollow" target="_blank">虚拟环境和包</a></li><li id="4179" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://chromedriver.chromium.org" rel="noopener ugc nofollow" target="_blank"> ChromeDriver </a></li><li id="53bc" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://www.selenium.dev/documentation/webdriver/" rel="noopener ugc nofollow" target="_blank"> Selenium WebDriver </a></li><li id="3049" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://www.geeksforgeeks.org/selenium-python-tutorial/" rel="noopener ugc nofollow" target="_blank"> Selenium Python教程</a></li><li id="1b01" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://stackoverflow.com/a/27931726/1065468" rel="noopener ugc nofollow" target="_blank">硒元素不可见异常</a></li></ul></div></div>    
</body>
</html>