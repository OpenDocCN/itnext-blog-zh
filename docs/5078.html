<html>
<head>
<title>Remote Deployment to Glassfish v6 using Cargo Local Deployer</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Cargo Local Deployer远程部署到Glassfish v6</h1>
<blockquote>原文：<a href="https://itnext.io/remote-deployment-to-glassfish-v6-using-cargo-local-deployer-65983c12aba7?source=collection_archive---------5-----------------------#2020-12-04">https://itnext.io/remote-deployment-to-glassfish-v6-using-cargo-local-deployer-65983c12aba7?source=collection_archive---------5-----------------------#2020-12-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/bbe525b66addc9069a161aebd3e74370.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XZgar-TMaqJ9r-ovXsLz_A.png"/></div></div></figure><blockquote class="jy jz ka"><p id="2286" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><em class="iq">这是对现有</em> <a class="ae la" href="https://github.com/hantsy/jakartaee9-starter-boilerplate/blob/master/docs/docs/deploy-cargo.md" rel="noopener ugc nofollow" target="_blank"> <em class="iq">的补充，使用Cargo maven插件</em> </a> <em class="iq">将Jakarta EE 9应用程序部署到Glassfish v6。</em></p></blockquote><p id="c4e2" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated"><a class="ae la" href="https://codehaus-cargo.github.io" rel="noopener ugc nofollow" target="_blank"> Cargo maven插件</a> 1.8.3将为新的Glassfish v6包含一个<code class="fe le lf lg lh b">glasfish6x</code> <em class="kd"> containerId </em>。在1.8.2或之前的版本中，它允许您使用基于JSR88规范(部署)的远程部署器和<em class="kd">运行时</em>配置来将应用程序部署到正在运行的Glassfish服务器。</p><p id="1555" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">由于Jakarta EE 9和Glassfish v6中发生的变化，当切换到使用<code class="fe le lf lg lh b">glassfish6x</code>容器时，这将停止工作。</p><p id="9675" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">JSR88在更远的Jakarta EE 9中被移除，检查<a class="ae la" href="https://jakarta.ee/specifications/platform/9/jakarta-platform-spec-9.html#a2333" rel="noopener ugc nofollow" target="_blank"> 6.1.4。删除了Jakarta EE 9规范中的Jakarta Technologies </a>部分。Glassfish v5发布系列中存在的<code class="fe le lf lg lh b">deployment-client</code>构件在Glassfish v6中不可用。</p><p id="c507" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">相应地，cargo <code class="fe le lf lg lh b">glassfish6x</code>容器将不包含远程部署器，并且您不能像以前一样配置运行时配置。但是您可以使用本地部署器将应用程序部署到远程服务器。</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="db53" class="lq lr iq lh b gy ls lt l lu lv">&lt;profile&gt;<br/>    &lt;id&gt;glassfish-local-deployer&lt;/id&gt;<br/>    &lt;properties&gt;<br/>        &lt;cargo.hostname&gt;localhost&lt;/cargo.hostname&gt;<br/>        &lt;cargo.servlet.port&gt;8080&lt;/cargo.servlet.port&gt;<br/>        &lt;cargo.glassfish.admin.port&gt;4848&lt;/cargo.glassfish.admin.port&gt;<br/>        &lt;cargo.zipUrlInstaller.downloadDir&gt;${project.build.directory}/../installs<br/>        &lt;/cargo.zipUrlInstaller.downloadDir&gt;<br/>    &lt;/properties&gt;</span><span id="907d" class="lq lr iq lh b gy lw lt l lu lv">    &lt;build&gt;<br/>        &lt;plugins&gt;<br/>            &lt;plugin&gt;<br/>                &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;<br/>                &lt;artifactId&gt;cargo-maven2-plugin&lt;/artifactId&gt;<br/>                &lt;configuration&gt;<br/>                    &lt;container&gt;<br/>                        &lt;containerId&gt;glassfish6x&lt;/containerId&gt;<br/>                        &lt;zipUrlInstaller&gt;<br/>                            &lt;url&gt;<br/>                               <a class="ae la" href="https://download.eclipse.org/ee4j/glassfish/glassfish-${glassfish.version}.zip" rel="noopener ugc nofollow" target="_blank">https://download.eclipse.org/ee4j/glassfish/glassfish-${glassfish.version}.zip</a><br/>                            &lt;/url&gt;<br/>                            &lt;downloadDir&gt;${cargo.zipUrlInstaller.downloadDir}&lt;/downloadDir&gt;<br/>                        &lt;/zipUrlInstaller&gt;<br/>                        &lt;!-- or use artifactInstaller--&gt;<br/>                        &lt;!--&lt;artifactInstaller&gt;<br/>                                    &lt;groupId&gt;org.glassfish.main.distributions&lt;/groupId&gt;<br/>                                    &lt;artifactId&gt;glassfish&lt;/artifactId&gt;<br/>                                    &lt;version&gt;${glassfish.version}&lt;/version&gt;<br/>                                &lt;/artifactInstaller&gt;--&gt;<br/>                    &lt;/container&gt;<br/>                    &lt;configuration&gt;<br/>                        &lt;!-- the configuration use to deploy --&gt;<br/>                        &lt;home&gt;${project.build.directory}/glassfish6x-home&lt;/home&gt;<br/>                        &lt;properties&gt;<br/>                            &lt;cargo.hostname&gt;${cargo.hostname}&lt;/cargo.hostname&gt;<br/>                            &lt;cargo.servlet.port&gt;${cargo.servlet.port}&lt;/cargo.servlet.port&gt;<br/>                            &lt;cargo.glassfish.admin.port&gt;${cargo.glassfish.admin.port}<br/>                            &lt;/cargo.glassfish.admin.port&gt;<br/>                            &lt;cargo.remote.username&gt;admin&lt;/cargo.remote.username&gt;<br/>                            &lt;cargo.remote.password&gt;&lt;/cargo.remote.password&gt;<br/>                        &lt;/properties&gt;<br/>                    &lt;/configuration&gt;<br/>                &lt;/configuration&gt;<br/>            &lt;/plugin&gt;<br/>        &lt;/plugins&gt;<br/>    &lt;/build&gt;<br/>&lt;/profile&gt;</span></pre><blockquote class="jy jz ka"><p id="535e" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><em class="iq">以上配置同样适用于现有的</em> <code class="fe le lf lg lh b"><em class="iq">glassfish5x</em></code> <em class="iq"> containerId。</em></p></blockquote><p id="b828" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">副作用是您必须下载Glassfish dist的副本，本地部署人员使用Glassfish内置的<code class="fe le lf lg lh b">asadmin</code>工具命令来执行部署。</p><blockquote class="jy jz ka"><p id="821c" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><em class="iq">注意:</em> <code class="fe le lf lg lh b"><em class="iq">cargo.hostname</em></code> <em class="iq">是要部署的目标Glassfish服务器的主机名/地址。</em></p></blockquote><p id="cb18" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">执行以下命令，将应用程序打包并部署到目标服务器。</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="62f2" class="lq lr iq lh b gy ls lt l lu lv">mvn clean package cargo:deploy -Pglassfish-local-deployer</span></pre><p id="a818" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">要取消部署应用程序，请执行以下命令。</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="2f51" class="lq lr iq lh b gy ls lt l lu lv">mvn  cargo:undeploy -Pglassfish-local-deployer</span></pre><p id="0607" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">查看货物官方指南<a class="ae la" href="https://codehaus-cargo.github.io/cargo/Remote+deployments+to+GlassFish+6.x.html" rel="noopener ugc nofollow" target="_blank">远程部署到Glassfish v6 </a>和<a class="ae la" href="https://codehaus-cargo.github.io/cargo/GlassFish+6.x.html" rel="noopener ugc nofollow" target="_blank">货物glassfish6x containerid </a>的变更。</p></div></div>    
</body>
</html>