<html>
<head>
<title>Pair of concepts may confuse you in Javascript — Number.isNaN() and isNaN()</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Javascript中的一对概念可能会让您感到困惑——number . isNaN()和isNaN()</h1>
<blockquote>原文：<a href="https://itnext.io/pair-of-concepts-may-confuse-you-in-javascript-number-isnan-and-isnan-556d14448dbb?source=collection_archive---------3-----------------------#2021-05-19">https://itnext.io/pair-of-concepts-may-confuse-you-in-javascript-number-isnan-and-isnan-556d14448dbb?source=collection_archive---------3-----------------------#2021-05-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/01495f216a51d4159398f9518d5d549b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*M7Ka7Xw42rJzWo9S"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">马库斯·斯皮斯克在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="4128" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JS有很长的发展历史(和混乱),有一些混乱的遗产，不能被删除以保持一致性，只能通过新的特性/功能来改进。这导致了开发者的困惑。这个系列被写成<a class="ae kc" href="https://techika.com/blog" rel="noopener ugc nofollow" target="_blank">笔记，供我自己</a>和其他人理解这些概念并避免开发中的错误。</p><h1 id="5eab" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><strong class="ak">什么是</strong> <code class="fe lz ma mb mc b">NaN ?</code></h1><p id="4ffa" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lz ma mb mc b">NaN</code>是<em class="mi">的简写，而不是数字</em>，在1985年制定的【IEEE浮点运算标准(IEEE 754–2008)】的<a class="ae kc" href="https://en.wikipedia.org/wiki/IEEE_754-2008_revision" rel="noopener ugc nofollow" target="_blank">中有规定。在Javascript上下文中，它是全局对象的一个“<em class="mi">属性。换句话说，它是全局范围内的变量。</em>”。它具有以下特点:</a></p><p id="8752" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">*被认为是<code class="fe lz ma mb mc b">Number</code>类型<br/> *等于<code class="fe lz ma mb mc b">Number.NaN</code> <br/> * <code class="fe lz ma mb mc b">NaN</code>是JavaScript中唯一不等于自身的值。是福尔西</p><p id="0387" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">看看一些例子，想想结果！？</p><pre class="mj mk ml mm gt mn mc mo mp aw mq bi"><span id="27c1" class="mr lc iq mc b gy ms mt l mu mv"><em class="mi">console</em>.log(<em class="mi">NaN</em> === <em class="mi">NaN</em>) // false</span><span id="0b81" class="mr lc iq mc b gy mw mt l mu mv"><em class="mi">console</em>.log(<em class="mi">NaN</em> == <em class="mi">NaN</em>) // false</span><span id="9343" class="mr lc iq mc b gy mw mt l mu mv"><em class="mi">console</em>.log(<em class="mi">NaN</em> !== <em class="mi">NaN</em>) // true</span><span id="6452" class="mr lc iq mc b gy mw mt l mu mv"><em class="mi">console</em>.log(<em class="mi">NaN</em> != <em class="mi">NaN</em>) // true</span><span id="b929" class="mr lc iq mc b gy mw mt l mu mv"><em class="mi">console</em>.log(typeof(<em class="mi">NaN</em>)) // number</span><span id="d46e" class="mr lc iq mc b gy mw mt l mu mv">a = <em class="mi">NaN</em>;</span></pre><p id="f992" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">全球isNaN() </strong></p><p id="805b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如你所看到的<code class="fe lz ma mb mc b">NaN</code>甚至不能和它本身相比较，那么我们如何检测一个变量是否是<code class="fe lz ma mb mc b">NaN</code>，在ES6之前我们可以使用函数<code class="fe lz ma mb mc b">isNaN()</code>来考虑下面的例子。</p><pre class="mj mk ml mm gt mn mc mo mp aw mq bi"><span id="cf2c" class="mr lc iq mc b gy ms mt l mu mv">isNaN(<em class="mi">NaN</em>); // true</span><span id="ce2a" class="mr lc iq mc b gy mw mt l mu mv">isNaN('NaN');   // true</span><span id="abc5" class="mr lc iq mc b gy mw mt l mu mv">isNaN(undefined); // true</span><span id="0422" class="mr lc iq mc b gy mw mt l mu mv">isNaN({}); // true</span><span id="aaba" class="mr lc iq mc b gy mw mt l mu mv">isNaN('Techika.com'); // true</span><span id="45a6" class="mr lc iq mc b gy mw mt l mu mv">isNaN(''); // false</span><span id="1fce" class="mr lc iq mc b gy mw mt l mu mv">isNaN('12abcd') // true</span></pre><p id="5d6b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了理解这种行为，我们需要理解它是如何正常工作的。</p><p id="f983" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">根据<a class="ae kc" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/isNaN" rel="noopener ugc nofollow" target="_blank">MDN</a>:<em class="mi">当isNaN函数的参数不是Number类型时，值首先被</em> <strong class="kf ir">强制为</strong> <code class="fe lz ma mb mc b"><strong class="kf ir">Number</strong></code> <em class="mi">。然后测试结果值以确定其是否为</em> <code class="fe lz ma mb mc b"><em class="mi">NaN</em></code></p><p id="5d3e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，许多人认为它对于非数字参数的行为令人困惑，并可能导致意想不到的结果。因此，ECMAScript 2015 (ES6)中引入了新的函数来解决这个问题。</p><p id="01be" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> Number.isNaN() </strong></p><p id="e25c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它是来自原始包装对象——Number的静态函数。该函数最重要的特性是它<strong class="kf ir">不会强制将参数转换成数字</strong>。因为<code class="fe lz ma mb mc b">NaN</code>是JavaScript中唯一不等于自身的值，所以<code class="fe lz ma mb mc b">Number.isNaN()</code>被认为是必要的。</p><pre class="mj mk ml mm gt mn mc mo mp aw mq bi"><span id="6362" class="mr lc iq mc b gy ms mt l mu mv"><em class="mi">Number</em>.isNaN(<em class="mi">NaN</em>);        // true</span><span id="78dc" class="mr lc iq mc b gy mw mt l mu mv"><em class="mi">Number</em>.isNaN(<em class="mi">Number</em>.<em class="mi">NaN</em>); // true</span><span id="3da8" class="mr lc iq mc b gy mw mt l mu mv"><em class="mi">Number</em>.isNaN(0 / 0);      // true</span><span id="9fcc" class="mr lc iq mc b gy mw mt l mu mv">// e.g. these would have been true with global isNaN()</span><span id="b1ea" class="mr lc iq mc b gy mw mt l mu mv"><em class="mi">Number</em>.isNaN('NaN');      // false</span><span id="a9ab" class="mr lc iq mc b gy mw mt l mu mv"><em class="mi">Number</em>.isNaN(undefined);  // false</span><span id="db04" class="mr lc iq mc b gy mw mt l mu mv"><em class="mi">Number</em>.isNaN({});         // false</span><span id="e607" class="mr lc iq mc b gy mw mt l mu mv"><em class="mi">Number</em>.isNaN('Techika.com');   // false</span><span id="7bea" class="mr lc iq mc b gy mw mt l mu mv"><em class="mi">Number</em>.isNaN(''); // true</span><span id="b395" class="mr lc iq mc b gy mw mt l mu mv"><em class="mi">Number</em>.isNaN('12abcd') // false</span></pre><p id="8d64" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">结论</strong></p><p id="3224" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从我个人的角度来看，<code class="fe lz ma mb mc b">isNaN()</code>可能不像很多人想的那样是一个bug，但是当你想专注于价值的检测时，它是可以考虑的。问题是我们需要理解它的机制，它会尝试将参数转换成<code class="fe lz ma mb mc b">Number</code>。为了可靠起见，当我们想确保它的参数为<code class="fe lz ma mb mc b">Number</code>以进行比较时，我们应该实现<code class="fe lz ma mb mc b">Number.isNaN()</code>。</p><p id="0692" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mi">本帖原帖来自</em> <a class="ae kc" href="https://techika.com/2021/05/19/isnan-vs-number-isnan/" rel="noopener ugc nofollow" target="_blank"> <em class="mi">我的博客。</em>T15】</a></p></div></div>    
</body>
</html>