<html>
<head>
<title>How to use a Ternary in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中使用三元组</h1>
<blockquote>原文：<a href="https://itnext.io/whats-a-javascript-ternary-5edf4415a09d?source=collection_archive---------3-----------------------#2019-08-29">https://itnext.io/whats-a-javascript-ternary-5edf4415a09d?source=collection_archive---------3-----------------------#2019-08-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e4dc" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">节省时间和空间的有条件捷径</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/c08a5ced552d3ffd73f9f9fce7426f3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-ujF25F2vlhUPp0OMCBUsw.png"/></div></div></figure><p id="b74b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果说传统的<code class="fe ln lo lp lq b">if-else</code>支票是编程的面包和黄油，那么<strong class="kt ir">三元</strong>就是烤面包机。也就是说ternaries让事情变得更好。它们一开始看起来确实很奇怪，但是一旦你习惯了，它们就会成为你最喜欢的工具之一，<em class="lr">尤其是</em>如果你使用React的话。</p><h1 id="b34e" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">语法是什么？</h1><p id="3294" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">这里有一个函数使用了一个<code class="fe ln lo lp lq b">if-else</code>，然后是一个三元组:</p><pre class="kg kh ki kj gt mp lq mq mr aw ms bi"><span id="de34" class="mt lt iq lq b gy mu mv l mw mx"><em class="lr">// traditional</em><br/>const <strong class="lq ir">movieLengthCheck1</strong> = (<strong class="lq ir">runtime</strong>) =&gt; {<br/>  if (<strong class="lq ir">runtime</strong> &lt;= 90) {<br/>    <strong class="lq ir"><em class="lr">return</em></strong> '<em class="lr">Short!'</em>; <br/>  } else {<br/>    <strong class="lq ir"><em class="lr">return</em></strong> '<em class="lr">Long.</em>';<br/>  }<br/>}</span><span id="6c90" class="mt lt iq lq b gy my mv l mw mx"><em class="lr">// ternary</em><br/>const <strong class="lq ir">movieLengthCheck2</strong> = (<strong class="lq ir">runtime</strong>) =&gt; {<br/>  <strong class="lq ir"><em class="lr">return</em></strong> <strong class="lq ir">runtime</strong> &lt;= 90 ? '<em class="lr">Short!</em>' : '<em class="lr">Long.</em>';<br/>}</span></pre><p id="e7c2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">分解成纯粹的组件，它是任何<code class="fe ln lo lp lq b">if-else</code>检查的相同的三个部分:要检查的条件、条件为真时的值和条件为假时的值。下面是伪代码:</p><pre class="kg kh ki kj gt mp lq mq mr aw ms bi"><span id="ce92" class="mt lt iq lq b gy mu mv l mw mx">(<strong class="lq ir">condition</strong>) ? (if <strong class="lq ir">condition</strong> <em class="lr">true</em>) : (if <strong class="lq ir">condition</strong> <em class="lr">false</em>)</span></pre><p id="fc94" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你不需要之前看到的<code class="fe ln lo lp lq b">( )</code>，但是可以随意使用它们来帮助巩固你头脑中的概念。想象一下,<code class="fe ln lo lp lq b">?</code>在问一个问题，而<code class="fe ln lo lp lq b">:</code>将答案分开。第一个选项用于<code class="fe ln lo lp lq b">true</code>，第二个选项用于<code class="fe ln lo lp lq b">false</code>。这个顺序<em class="lr">永远不会</em>改变。所以在我们的例子中，如果<code class="fe ln lo lp lq b">runtime</code>小于<code class="fe ln lo lp lq b">90</code>，那么三元计算结果为<code class="fe ln lo lp lq b">Short!</code>，否则，计算结果为<code class="fe ln lo lp lq b">Long.</code>。</p><p id="8654" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">请记住，<code class="fe ln lo lp lq b">truthy</code>和<code class="fe ln lo lp lq b">falsy</code>值仍然像通常一样工作。此外，您也可以在变量赋值中使用ternaries:</p><pre class="kg kh ki kj gt mp lq mq mr aw ms bi"><span id="9df6" class="mt lt iq lq b gy mu mv l mw mx">const <strong class="lq ir">getMovieReview</strong> = (wasEnjoyed) =&gt; {<br/>  const <strong class="lq ir">opinion</strong> = wasEnjoyed ? '<em class="lr">Great!</em>' : 'Bad.';<br/>  <strong class="lq ir"><em class="lr">return</em></strong> <em class="lr">`I thought the movie was </em>${<strong class="lq ir">opinion</strong>}<em class="lr">`</em>;<br/>}</span></pre><h1 id="fb88" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">我什么时候会用它？</h1><p id="c443" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">Ternaries通常用在有两个简单的选择，但你不想占用一堆行的时候。如果你是一个反应型开发者，你会经常用到它们。它们是React 中处理<a class="ae mz" href="https://reactjs.org/docs/conditional-rendering.html#inline-if-else-with-conditional-operator" rel="noopener ugc nofollow" target="_blank">条件渲染最常见的方式之一。这是因为它们是带有返回值</a>的<a class="ae mz" href="https://stackoverflow.com/questions/22876978/loop-inside-react-jsx" rel="noopener ugc nofollow" target="_blank">单个表达式，所以您可以在JSX中使用它们:</a></p><pre class="kg kh ki kj gt mp lq mq mr aw ms bi"><span id="44cd" class="mt lt iq lq b gy mu mv l mw mx">const <strong class="lq ir">Greeting</strong> = (<strong class="lq ir">props</strong>) =&gt; {<br/>  <strong class="lq ir"><em class="lr">return</em></strong> (<br/>    &lt;h1&gt;<br/>      { <strong class="lq ir">props</strong>.isHappy ? <em class="lr">"Hey hey!!"</em> : "<em class="lr">Hello.</em>" }<br/>    &lt;/h1&gt;<br/>  );<br/>}</span></pre><h1 id="2ba2" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">一些时尚小贴士</h1><p id="8828" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">你走之前还有两件事。当将一个三元组分成多行时，惯例是用<code class="fe ln lo lp lq b">?</code>和<code class="fe ln lo lp lq b">:</code>开始每个新的缩进行，如下所示:</p><pre class="kg kh ki kj gt mp lq mq mr aw ms bi"><span id="2a84" class="mt lt iq lq b gy mu mv l mw mx">const <strong class="lq ir">isBirthday</strong> = true;<br/>const <strong class="lq ir">greeting</strong> = isBirthday<br/>  ? <em class="lr">'Hello! Today is my Birthday!!'</em><br/>  : <em class="lr">'Hey. I wish it was my birthday.'</em></span></pre><p id="9991" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">同样，之前我说过ternaries是两个值的，然而这不是全部的事实。有一种方法可以将ternaries“链”在一起以获得更多选项。您可以通过将<code class="fe ln lo lp lq b">false</code>条件检查值<em class="lr">变为另一个</em>三元值来实现这一点:</p><pre class="kg kh ki kj gt mp lq mq mr aw ms bi"><span id="f900" class="mt lt iq lq b gy mu mv l mw mx">const <strong class="lq ir">greeting</strong> = <strong class="lq ir">isMorning</strong> <br/>  ? <em class="lr">"Good Morning"</em><br/>  : <strong class="lq ir">isAfternoon</strong> /* new ternary */<br/>    ? <em class="lr">"Good Afternoon"</em><br/>    : "<em class="lr">Good Evening"</em></span></pre><p id="3958" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在我们有<em class="lr">三个</em>不同的问候，基于<em class="lr">两个</em>不同的检查。从理论上讲，你可以想锁多少就锁多少。尽管我不使用它们，因为我个人认为它们更难阅读。我在这里举了一个简单的例子，但是对于真正的检查，它们会变得很复杂。我觉得ternaries在简单的时候工作得最好，比如返回一个React组件或<code class="fe ln lo lp lq b">null</code>。然而，这只是我的观点，对于使用三进制链接的，有一些很好的反驳<a class="ae mz" href="https://medium.com/javascript-scene/nested-ternaries-are-great-361bddd0f340" rel="noopener">。</a></p><p id="8434" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">就像编码中的许多事情一样，一旦你学会了语法，你就能找到自己的风格。如果你曾经见过链式终端完美的案例，请告诉我！</p><p id="62bd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">大家编码快乐，</p><p id="ef6f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">麦克风</p></div></div>    
</body>
</html>