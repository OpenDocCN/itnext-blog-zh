<html>
<head>
<title>How to create a multi-step form the easy way</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何以最简单的方式创建多步表单</h1>
<blockquote>原文：<a href="https://itnext.io/how-to-create-a-multi-step-form-the-easy-way-c41e3745ed51?source=collection_archive---------2-----------------------#2020-02-05">https://itnext.io/how-to-create-a-multi-step-form-the-easy-way-c41e3745ed51?source=collection_archive---------2-----------------------#2020-02-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="b58c" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">静态表单</h2><div class=""/><div class=""><h2 id="60eb" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">了解如何通过几个简单的步骤添加多步表单</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/cc34b45e9fcfab7872e9fbb34cab1d76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AK-UGsFFdDSaxFtY1AtUXg.jpeg"/></div></div></figure><p id="5f2a" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">最近我想在我的网站上添加一个多步表单。由于我的网站运行在静态页面生成器Hexo上，我对如何执行这项任务有些疑惑。我的网站上已经有了一个静态表单，我不想花太多时间开发像步骤、显示/隐藏逻辑或验证这样的功能。</p><p id="5718" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">我很高兴地得知<a class="ae lw" href="https://kwes.io/docs/multistep-forms" rel="noopener ugc nofollow" target="_blank"> Kwes现在提供了多步表单功能</a>。在我告诉你我是怎么做的之前，让我们看看什么是多步表单，有时也称为多页表单。</p><h1 id="e5cb" class="lx ly iq bd lz ma mb mc md me mf mg mh kf mi kg mj ki mk kj ml kl mm km mn mo bi translated">多步表单</h1><p id="6f42" class="pw-post-body-paragraph la lb iq lc b ld mp ka lf lg mq kd li lj mr ll lm ln ms lp lq lr mt lt lu lv ij bi translated">多步表单是被分成多个部分的长表单。这样做的原因是为了使表单更容易完成。每一步都代表相互关联的分组输入，因此用户不会被表单的长度吓到。对于用户来说，一步一步地填写信息可能会更舒服，因为他们的大脑当时应该处理更少的字段。</p><p id="e0f9" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">您可能在结账或发货表单上见过多步表单。多步骤表单也用于向导，如注册表单，并且最近多步骤登录表单的出现越来越多。这些只是使用它们的常见场景，但是每一个更长的表单都可能被分解成片段。</p><blockquote class="mu mv mw"><p id="55f1" class="la lb mx lc b ld le ka lf lg lh kd li my lk ll lm mz lo lp lq na ls lt lu lv ij bi translated">在转换到多步形式之前，你可能需要进行A/B测试，以确保你的转换率不会下降。</p></blockquote><p id="2eb9" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">转换率是多步表单最大的好处之一。据信多步形式具有更好的转化率。其他的好处包括第一印象，它不会给用户带来太大的压力，还有进度条，它鼓励用户继续处理表单。</p><p id="dacd" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">所有这些好处都应该有所保留。没有真实的数字，你无法确定。对于大多数用户来说，包含许多输入字段的单步表单通常被认为是一个很大的障碍。作为权衡，您应该减少可能不理想的输入数量。</p><h1 id="fb5d" class="lx ly iq bd lz ma mb mc md me mf mg mh kf mi kg mj ki mk kj ml kl mm km mn mo bi translated">使用Kwes添加多步表单</h1><p id="548a" class="pw-post-body-paragraph la lb iq lc b ld mp ka lf lg mq kd li lj mr ll lm ln ms lp lq lr mt lt lu lv ij bi translated">Kwes文档使跟踪和创建多步表单变得非常简单。</p><p id="5619" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">在此之前，让我们刷新一下我们的记忆<a class="ae lw" href="https://dev.to/starbist/how-to-add-a-contact-form-to-a-static-website-2oji" rel="noopener ugc nofollow" target="_blank">如何使用Kwes添加静态表单</a>:</p><ul class=""><li id="de63" class="nb nc iq lc b ld le lg lh lj nd ln ne lr nf lv ng nh ni nj bi translated">从Kwes仪表板添加网站。</li><li id="cc48" class="nb nc iq lc b ld nk lg nl lj nm ln nn lr no lv ng nh ni nj bi translated">从Kwes仪表板添加表单。</li><li id="7828" class="nb nc iq lc b ld nk lg nl lj nm ln nn lr no lv ng nh ni nj bi translated">在结束<code class="fe np nq nr ns b">body</code>标签之前添加必需的<code class="fe np nq nr ns b">script</code>标签:<code class="fe np nq nr ns b">&lt;script src="https://kwes.io/js/kwes.js"&gt;&lt;/script&gt;</code>。</li><li id="4816" class="nb nc iq lc b ld nk lg nl lj nm ln nn lr no lv ng nh ni nj bi translated">添加带有所需的<code class="fe np nq nr ns b">kwes-form</code>类的包装元素。</li><li id="c588" class="nb nc iq lc b ld nk lg nl lj nm ln nn lr no lv ng nh ni nj bi translated">使用Kwes仪表板中提供的<code class="fe np nq nr ns b">action</code> URL添加<code class="fe np nq nr ns b">form</code>元素。</li><li id="5aa0" class="nb nc iq lc b ld nk lg nl lj nm ln nn lr no lv ng nh ni nj bi translated">添加<code class="fe np nq nr ns b">input</code>字段和验证规则。</li></ul><p id="be30" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">现在代码看起来是这样的:</p><pre class="kp kq kr ks gt nt ns nu nv aw nw bi"><span id="38e9" class="nx ly iq ns b gy ny nz l oa ob">&lt;html&gt;<br/>  &lt;body&gt;<br/>    &lt;div class="kwes-form"&gt;<br/>      &lt;form method="POST" action="path/to/kwes"&gt;<br/>        // form code<br/>      &lt;/form&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="https://kwes.io/js/kwes.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="5dfb" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">为了启用多步表单，我在<code class="fe np nq nr ns b">form</code>元素中添加了<code class="fe np nq nr ns b">multi-step</code>属性。</p><p id="2590" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated"><em class="mx">我不得不将</em> <code class="fe np nq nr ns b"><em class="mx">true</em></code> <em class="mx">值添加到</em> <code class="fe np nq nr ns b"><em class="mx">multi-step</em></code> <em class="mx">属性中，以使我的HTML linter满意。</em></p><p id="f75f" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">接下来，我用<code class="fe np nq nr ns b">form-step</code>元素包装相关的输入，将表单分成几个步骤。就是这样！要使用Kwes制作多步骤表单，您需要做的就是在每个步骤中添加一个包装器div。我从来不知道会这么容易。</p><p id="2ca1" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">我的表单只有两个步骤，所以我只有两个<code class="fe np nq nr ns b">form-step</code>元素。第一步，我询问有关联系人类型的问题，下一步，我收集联系人信息。</p><pre class="kp kq kr ks gt nt ns nu nv aw nw bi"><span id="5617" class="nx ly iq ns b gy ny nz l oa ob">&lt;div class="kwes-form"&gt;<br/>  &lt;form method="POST" action="path/to/kwes" multistep="true"&gt;<br/>    &lt;form-step&gt;<br/>      // form code<br/>    &lt;/form-step&gt;<br/>    &lt;form-step&gt;<br/>      // form code<br/>    &lt;/form-step&gt;<br/>  &lt;/form&gt;<br/>&lt;/div&gt;</span></pre><p id="2d9e" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">当然，这还不是全部。Kwes还有其他令人印象深刻的特性。这些是我在表格中包含的内容:</p><ul class=""><li id="0f88" class="nb nc iq lc b ld le lg lh lj nd ln ne lr nf lv ng nh ni nj bi translated">自定义标题，</li><li id="c366" class="nb nc iq lc b ld nk lg nl lj nm ln nn lr no lv ng nh ni nj bi translated">自定义样式，</li><li id="9eb8" class="nb nc iq lc b ld nk lg nl lj nm ln nn lr no lv ng nh ni nj bi translated">隐形，</li><li id="012a" class="nb nc iq lc b ld nk lg nl lj nm ln nn lr no lv ng nh ni nj bi translated">逻辑可见性切换，以及</li><li id="3200" class="nb nc iq lc b ld nk lg nl lj nm ln nn lr no lv ng nh ni nj bi translated"><a class="ae lw" href="https://dev.to/starbist/animated-wizard-progress-23li" rel="noopener ugc nofollow" target="_blank">动画SVG进度条</a>。</li></ul><h1 id="ebde" class="lx ly iq bd lz ma mb mc md me mf mg mh kf mi kg mj ki mk kj ml kl mm km mn mo bi translated">自定义标题</h1><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oc"><img src="../Images/4dc8a251f32bc7b7f70e500fc1b71788.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OtETBpENtRAqWru5LfUPWg.png"/></div></div></figure><p id="bb98" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">Kwes提供了向每个步骤添加定制标题——当前步骤的标题。有两种类型的头:简单的和复杂的。</p><p id="5d31" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">简单标题用于文本标题。我在表格中添加了简单的标题。</p><pre class="kp kq kr ks gt nt ns nu nv aw nw bi"><span id="8fed" class="nx ly iq ns b gy ny nz l oa ob">&lt;form-step heading="1. Contact type"&gt;<br/>  // form code<br/>&lt;/form-step&gt;<br/>&lt;form-step heading="2. Contact information"&gt;<br/>  // form code<br/>&lt;/form-step&gt;</span></pre><p id="d567" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">如果你想添加图标、图形或者任何不仅仅是标题文本的东西，那么你可以使用一个复杂的标题。所有的自定义标题内容都应该添加到<code class="fe np nq nr ns b">&lt;div slot="heading"&gt;&lt;/div&gt;</code>元素中。建议将该元素作为<code class="fe np nq nr ns b">form-step</code>元素的第一个子元素。</p><h1 id="7dd4" class="lx ly iq bd lz ma mb mc md me mf mg mh kf mi kg mj ki mk kj ml kl mm km mn mo bi translated">自定义样式</h1><p id="b81b" class="pw-post-body-paragraph la lb iq lc b ld mp ka lf lg mq kd li lj mr ll lm ln ms lp lq lr mt lt lu lv ij bi translated">向Kwes表单添加定制样式非常简单。您可以使用带有前缀<code class="fe np nq nr ns b">kw-</code>的类来添加定制样式。</p><p id="85b8" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">例如，您可以使用<code class="fe np nq nr ns b">kw-multistep-footer</code>类来定制步骤部分的页脚，就像我在我的站点上所做的那样。</p><h1 id="d4f7" class="lx ly iq bd lz ma mb mc md me mf mg mh kf mi kg mj ki mk kj ml kl mm km mn mo bi translated">大衣料</h1><p id="d7ea" class="pw-post-body-paragraph la lb iq lc b ld mp ka lf lg mq kd li lj mr ll lm ln ms lp lq lr mt lt lu lv ij bi translated">我使用了Kwes提供的隐藏技术来隐藏未编译的表单。这意味着表单在被Kwes JavaScript文件编译之前是不可见的。为此，将<code class="fe np nq nr ns b">v-cloak</code>属性添加到<code class="fe np nq nr ns b">kwes-form</code>包装元素，然后使用下面的CSS代码片段隐藏表单:</p><pre class="kp kq kr ks gt nt ns nu nv aw nw bi"><span id="27af" class="nx ly iq ns b gy ny nz l oa ob">[v-cloak] {<br/>  display: none;<br/>}</span></pre><h1 id="c09f" class="lx ly iq bd lz ma mb mc md me mf mg mh kf mi kg mj ki mk kj ml kl mm km mn mo bi translated">逻辑可见性切换</h1><p id="2615" class="pw-post-body-paragraph la lb iq lc b ld mp ka lf lg mq kd li lj mr ll lm ln ms lp lq lr mt lt lu lv ij bi translated">Kwes form builder的另一个重要特性是能够根据其他字段值切换输入字段的可见性。这种显示/隐藏逻辑行为是我动态创建第二步所需要的。可见性是通过向元素添加<code class="fe np nq nr ns b">kw-show</code>属性来实现的。在我的情况下，如果联系人类型为“一般”，我会隐藏与指导相关的字段。</p><pre class="kp kq kr ks gt nt ns nu nv aw nw bi"><span id="44fa" class="nx ly iq ns b gy ny nz l oa ob">&lt;div kw-show="fields.step == 'Mentoring'"&gt;...&lt;/div&gt;</span></pre><h1 id="44c0" class="lx ly iq bd lz ma mb mc md me mf mg mh kf mi kg mj ki mk kj ml kl mm km mn mo bi translated">动画SVG进度条</h1><p id="78b4" class="pw-post-body-paragraph la lb iq lc b ld mp ka lf lg mq kd li lj mr ll lm ln ms lp lq lr mt lt lu lv ij bi translated">进度条通常可以帮助用户了解在提交之前还有多少步骤。因为这个元素仅仅作为一个可视的指示器，我决定把<a class="ae lw" href="https://dev.to/starbist/animated-wizard-progress-23li" rel="noopener ugc nofollow" target="_blank">做成一个小小的SVG，点击一下就可以激活</a>。该动画是SVG路径笔画的CSS动画。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi od"><img src="../Images/ba379aa58a0738401c3aff40cf5deff0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*TkJoZxnhLjdKG3jOr6U5-g.gif"/></div></figure><p id="7d93" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">下面是完整的表单，包括SVG和JavaScript代码:</p><pre class="kp kq kr ks gt nt ns nu nv aw nw bi"><span id="a90b" class="nx ly iq ns b gy ny nz l oa ob">&lt;div class="kwes-form form" v-cloak="true"&gt;<br/>  &lt;svg class="steps" viewBox="0 0 850 250" &gt;<br/>    &lt;path d="m225 125c0 50-50 100-100 100s-100-50-100-100 50-100 100-100 100 50 100 100h400c0-50 50-100 100-100s100 50 100 100-50 100-100 100-100-50-100-100" fill="none" stroke="#f5f5f5" stroke-linecap="round" stroke-linejoin="round" stroke-width="50"/&gt;<br/>    &lt;path class="steps__path" d="m225 125c0 50-50 100-100 100s-100-50-100-100 50-100 100-100 100 50 100 100h400c0-50 50-100 100-100s100 50 100 100-50 100-100 100-100-50-100-100" fill="none" stroke="#12e09f" stroke-linecap="round" stroke-linejoin="round" stroke-width="50"/&gt;<br/>  &lt;/svg&gt;<br/>  &lt;form method="POST" action="path/to/kwes" multistep="true"&gt;<br/>    &lt;form-step heading="1. Contact type"&gt;<br/>      &lt;label class="radio"&gt;What kind of inquiry are you interested in?&lt;/label&gt;<br/>      &lt;div class="kw-radio-group"&gt;<br/>        &lt;input id="General" type="radio" name="step" value="General" label="General" checked="checked" /&gt;<br/>        &lt;input id="Mentoring" type="radio" name="step" value="Mentoring" label="Mentoring" /&gt;<br/>    &lt;/div&gt;<br/>    &lt;/form-step&gt;<br/>    &lt;form-step heading="2. Contact information"&gt;<br/>      &lt;div kw-show="fields.step == 'Mentoring'"&gt;<br/>        &lt;label class="radio"&gt;Are you interested in career mentoring or technical mentoring?&lt;/label&gt;<br/>        &lt;div class="kw-radio-group"&gt;<br/>          &lt;input id="Career" type="radio" name="mentoring" value="Career" label="Career" checked="checked" /&gt;<br/>          &lt;input id="Technical" type="radio" name="mentoring" value="Technical" label="Technical" /&gt;<br/>        &lt;/div&gt;<br/>        &lt;div class="desc"&gt;<br/>          &lt;p&gt;&lt;small&gt;Career mentoring means I help you make decisions regarding your career.&lt;/small&gt;&lt;/p&gt;<br/>          &lt;p&gt;&lt;small&gt;Technical mentoring means I help you gain new skills or improve the current skill level.&lt;/small&gt;&lt;/p&gt;<br/>        &lt;/div&gt;<br/>      &lt;/div&gt;<br/>      &lt;label for="Name"&gt;What is your name?&lt;/label&gt;<br/>      &lt;input id="Name" type="text" name="name" rules="required" /&gt;<br/>      &lt;label for="Email"&gt;Please tell me your email address&lt;small&gt;(I would use it only for direct communication)&lt;/small&gt;.&lt;/label&gt;<br/>      &lt;input id="Email" type="email" name="email" rules="required|email|max:255" /&gt;<br/>      &lt;div kw-show="fields.step == 'Mentoring'"&gt;<br/>        &lt;label for="Note"&gt;Tell me why I should mentor you?&lt;/label&gt;<br/>      &lt;/div&gt;<br/>      &lt;div kw-show="fields.step != 'Mentoring'"&gt;<br/>        &lt;label for="Note"&gt;What is your message?&lt;/label&gt;<br/>      &lt;/div&gt;<br/>      &lt;textarea id="Note" name="note" rules="required" rows="6"&gt;&lt;/textarea&gt;<br/>      &lt;div kw-show="fields.mentoring == 'Technical'"&gt;<br/>        &lt;label for="Note2"&gt;Tell me which skills do you want to aquire or approve?&lt;/label&gt;<br/>        &lt;textarea id="Note2" name="note2" rules="required_if:mentoring,Technical" rows="6"&gt;&lt;/textarea&gt;<br/>      &lt;/div&gt;<br/>    &lt;/form-step&gt;<br/>  &lt;/form&gt;<br/>  &lt;script&gt;<br/>  document.addEventListener('click', function (e) {<br/>    for (var target = e.target; target &amp;&amp; target !== this; target = target.parentNode) {<br/>      if (target.matches('.kw-multistep-button')) {<br/>        var $form = document.querySelector('.form');<br/><br/>        if (target.classList.contains('kw-multistep-button-next')) {<br/>          $form.classList.remove('step1');<br/>          $form.classList.add('step2');<br/>        }<br/><br/>        if (target.classList.contains('kw-multistep-button-previous')) {<br/>          $form.classList.remove('step2');<br/>          $form.classList.add('step1');<br/>        }<br/><br/>        break;<br/>      }<br/>    }<br/>  }, false);<br/>  &lt;/script&gt;<br/>&lt;/div&gt;</span></pre><h1 id="8d32" class="lx ly iq bd lz ma mb mc md me mf mg mh kf mi kg mj ki mk kj ml kl mm km mn mo bi translated">结论</h1><p id="2cb8" class="pw-post-body-paragraph la lb iq lc b ld mp ka lf lg mq kd li lj mr ll lm ln ms lp lq lr mt lt lu lv ij bi translated">完整的功能表可以在我的<a class="ae lw" href="https://www.silvestar.codes/contact/" rel="noopener ugc nofollow" target="_blank">联系页面</a>找到。</p><p id="e075" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">我注意到了一个额外的好处——大大减少了垃圾邮件。使用Kwes添加多步表单的其他好处有:</p><ul class=""><li id="38d1" class="nb nc iq lc b ld le lg lh lj nd ln ne lr nf lv ng nh ni nj bi translated">我不必花太多时间在设计上，</li><li id="1768" class="nb nc iq lc b ld nk lg nl lj nm ln nn lr no lv ng nh ni nj bi translated">我不需要在验证上花太多时间，而且</li><li id="9299" class="nb nc iq lc b ld nk lg nl lj nm ln nn lr no lv ng nh ni nj bi translated">我不必花太多时间在开发上。</li></ul><p id="bc52" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">有了Kwes，一切都变得如此简单，并按预期工作。你应该试一试。</p></div><div class="ab cl oe of hu og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ij ik il im in"><p id="4d90" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated"><em class="mx">原载于2020年2月5日</em><a class="ae lw" href="https://dev.to/starbist/how-to-create-a-multi-step-form-the-easy-way-51cp" rel="noopener ugc nofollow" target="_blank"><em class="mx">https://dev . to</em></a><em class="mx">。</em></p></div></div>    
</body>
</html>