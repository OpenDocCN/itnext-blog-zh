<html>
<head>
<title>Flutter Dark &amp; Light Theme Using Provider</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用提供程序使黑暗与光明主题飘动</h1>
<blockquote>原文：<a href="https://itnext.io/flutter-dark-light-theme-using-provider-5f7c8c06529f?source=collection_archive---------3-----------------------#2019-11-05">https://itnext.io/flutter-dark-light-theme-using-provider-5f7c8c06529f?source=collection_archive---------3-----------------------#2019-11-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="9e4f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最近出现了一股围绕黑暗主题应用的热潮，尤其是在Instagram和Twitter等流行的社交媒体平台上。科技消费者是痴迷于另一种趋势，还是它有实用目的？</p><p id="75fa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">独家新闻来了！使用深色主题对眼睛来说更舒服，提高了弱视用户和对强光敏感的用户的可见度；它在光线昏暗的环境中也能很好地工作。然而，并不是每个人都喜欢“黑暗面”，任何精明的开发者在开发他们的应用程序时都会将这一点考虑在内。</p><p id="e19c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本文中，我们将使用provider包为整个应用程序实现一个明暗主题。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/654152157ad80080f79b4c568535a870.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p7jaeTIeF3batPM3Kd7h_g.png"/></div></div></figure><p id="ec95" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">虽然这个设计不是最美观的，但它很好地诠释了这个概念。</p><h1 id="f735" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">让我们编码！</h1><p id="d62e" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">创建一个新的flutter项目:flutter create——清除main.dart的内容，如下图所示。此外，创建突出显示的文件夹和文件。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi md"><img src="../Images/1e130a597d195b5dde113d59f7291a1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6CzjY87qT4xcr_QvyhtMjA.png"/></div></div></figure><p id="0f80" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在pubspec.yaml文件中添加依赖关系<strong class="js iu">提供者:^3.1.0+1 </strong></p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi me"><img src="../Images/a50fcb8cd04afdade96f2d4dd04885b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I1fcV1mc0KNHiWquyK3PDw.png"/></div></div></figure><p id="d2fb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在theme_provider.dart文件中，我们将添加:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="8b6b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">将notifyListeners()视为“设置状态”,无论何时调用它，它都会更新UI。setThemeData(bool val)用于在亮暗主题之间切换，getThemeData将返回当前主题。</p><p id="4af7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，我们需要为浅色和深色主题提供主题数据。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="cfcb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">完整的theme_provider.dart文件。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="c32e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了让ThemeProvider工作，我们需要修改main.dart用ChangeNotifyProvider()包装MyApp()</p><p id="d238" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">最终主镖</strong></p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="4fb5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> theme_changer_page.dart </strong></p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="40e3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">该开关用于将主题从灯光切换到飞镖；所有内容都保存在theme_provider.dart中</p><h1 id="a166" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">最终用户界面</h1><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/6c6fdca1f28576198abbdfc78fdfe62c.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/1*a4kPJN_5bQZDsVT2xOHbjA.gif"/></div></figure><h1 id="c69a" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">结论</h1><p id="fc2e" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">Flutter使得在你的应用中实现dart和light主题变得非常容易，使用provider包使它变得一帆风顺！</p><p id="7693" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当然，在这种情况下，每当应用程序重新启动时，主题都会被重新放置。您可以使用<a class="ae mi" href="https://pub.dev/packages/hive" rel="noopener ugc nofollow" target="_blank"> hive </a>或<a class="ae mi" href="https://pub.dev/packages/shared_preferences" rel="noopener ugc nofollow" target="_blank"> shared_preferences </a>在本地持久化主题。</p><p id="f1c1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">源代码:<a class="ae mi" href="https://github.com/UrAvgDeveloper/theme_changer_flutter" rel="noopener ugc nofollow" target="_blank"> <em class="mj"> GitHub链接</em> </a></p><p id="e0bf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果这有帮助，请给我鼓掌，这让我保持动力:)</p></div></div>    
</body>
</html>