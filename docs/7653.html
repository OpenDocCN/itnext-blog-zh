<html>
<head>
<title>Navigation Bar &amp; Bottom App Bar in Jetpack Compose with Material 3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Jetpack中的导航栏和底部应用程序栏由材料3组成</h1>
<blockquote>原文：<a href="https://itnext.io/navigation-bar-bottom-app-bar-in-jetpack-compose-with-material-3-c57ae317bd00?source=collection_archive---------0-----------------------#2022-12-10">https://itnext.io/navigation-bar-bottom-app-bar-in-jetpack-compose-with-material-3-c57ae317bd00?source=collection_archive---------0-----------------------#2022-12-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/ad866e48acc6c92e41d5e5dcf4611910.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GIxswGcRTsBb5o8vG3avgQ.png"/></div></div></figure><blockquote class="jy jz ka"><p id="eb73" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">导航栏，提供了一种持久而便捷的方式在应用程序的主要目的地之间切换。<code class="fe la lb lc ld b"><a class="ae le" href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#NavigationBar(androidx.compose.ui.Modifier,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.unit.Dp,androidx.compose.foundation.layout.WindowInsets,kotlin.Function1)" rel="noopener ugc nofollow" target="_blank">NavigationBar</a></code>应该包含三到五个<code class="fe la lb lc ld b"><a class="ae le" href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#(androidx.compose.foundation.layout.RowScope).NavigationBarItem(kotlin.Boolean,kotlin.Function0,kotlin.Function0,androidx.compose.ui.Modifier,kotlin.Boolean,kotlin.Function0,kotlin.Boolean,androidx.compose.material3.NavigationBarItemColors,androidx.compose.foundation.interaction.MutableInteractionSource)" rel="noopener ugc nofollow" target="_blank">NavigationBarItem</a></code>，每个代表一个目的地。</p><p id="b9de" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">底部应用程序栏，在手机屏幕底部显示导航和按键操作。该组件提供对多达四个图标按钮以及一个浮动操作按钮(FAB)的访问。</p></blockquote><h1 id="3792" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">目录</h1><ul class=""><li id="478a" class="md me iq ke b kf mf kj mg mh mi mj mk ml mm kz mn mo mp mq bi translated"><a class="ae le" href="#6fa0" rel="noopener ugc nofollow">区别和用法</a></li><li id="369b" class="md me iq ke b kf mr kj ms mh mt mj mu ml mv kz mn mo mp mq bi translated"><a class="ae le" href="#9241" rel="noopener ugc nofollow">开始获取信息</a></li><li id="8fb8" class="md me iq ke b kf mr kj ms mh mt mj mu ml mv kz mn mo mp mq bi translated"><a class="ae le" href="#d653" rel="noopener ugc nofollow">导航栏</a></li><li id="946f" class="md me iq ke b kf mr kj ms mh mt mj mu ml mv kz mn mo mp mq bi translated"><a class="ae le" href="#774c" rel="noopener ugc nofollow">底部应用栏</a></li><li id="f5fd" class="md me iq ke b kf mr kj ms mh mt mj mu ml mv kz mn mo mp mq bi translated"><a class="ae le" href="#40e8" rel="noopener ugc nofollow">从子代动作点击</a></li></ul><p id="96cf" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mh ko kp kq mj ks kt ku ml kw kx ky kz ij bi translated">在我们开始之前，让我们了解一下<code class="fe la lb lc ld b">Navigation Bar</code>和<code class="fe la lb lc ld b">Bottom App Bar</code>的用法和区别，因为它们不可互换，并且它们需要不同的用例。</p><h1 id="6fa0" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">差异和用法</h1><p id="5f9e" class="pw-post-body-paragraph kb kc iq ke b kf mf kh ki kj mg kl km mh mw kp kq mj mx kt ku ml my kx ky kz ij bi translated"><code class="fe la lb lc ld b">Bottom App Bar</code>应该用于有2到5个动作的屏幕。它不是<code class="fe la lb lc ld b">Navigation Bar</code>，不应该像T5一样使用。<code class="fe la lb lc ld b">FloatingActionButton</code>是可选的，在需要的时候使用它，不要把它放在<code class="fe la lb lc ld b">Bottom App Bar</code>的外面。<code class="fe la lb lc ld b">Bottom App Bar</code>不建议在大屏幕上使用。</p><p id="8487" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mh ko kp kq mj ks kt ku ml kw kx ky kz ij bi translated"><code class="fe la lb lc ld b">Navigation Bar</code>提供对目的地的访问，而<code class="fe la lb lc ld b">Bottom App Bar</code>可以包含目的地和动作。<code class="fe la lb lc ld b">Navigation Bar</code>提供3至5个目的地。它应该仅用于顶级目的地。如果您需要5个以上的目的地，您可以使用<code class="fe la lb lc ld b">Tabs</code>或<code class="fe la lb lc ld b">Navigation Drawer</code>，如果您需要3个以下的目的地，您应该使用<code class="fe la lb lc ld b">Tabs</code>。</p><p id="4c50" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mh ko kp kq mj ks kt ku ml kw kx ky kz ij bi translated">你可以看看我的导航抽屉和标签博客，</p><div class="mz na gp gr nb nc"><a rel="noopener  ugc nofollow" target="_blank" href="/app-bar-and-navigation-drawer-in-jetpack-compose-dc799417e459"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd ir gy z fp nh fr fs ni fu fw ip bi translated">Jetpack Compose中的应用程序栏和导航抽屉</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">Jetpack Compose中的应用程序栏和导航抽屉。我们还将介绍如何在Jetpack Compose中实现搜索应用程序栏。</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">itnext.io</p></div></div><div class="nl l"><div class="nm l nn no np nl nq jw nc"/></div></div></a></div><div class="mz na gp gr nb nc"><a href="https://burakdev.medium.com/tabs-tablayout-in-jetpack-compose-cd1f84d3a381" rel="noopener follow" target="_blank"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd ir gy z fp nh fr fs ni fu fw ip bi translated">Jetpack撰写中的选项卡(TabLayout)</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">选项卡对于在不同的和相关的信息组视图之间切换很有用。选项卡跨…组织内容</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">burakdev.medium.com</p></div></div><div class="nl l"><div class="nr l nn no np nl nq jw nc"/></div></div></a></div><h1 id="9241" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">入门指南</h1><p id="3bfd" class="pw-post-body-paragraph kb kc iq ke b kf mf kh ki kj mg kl km mh mw kp kq mj mx kt ku ml my kx ky kz ij bi translated">首先，让我们添加材料3依赖。您可以在<a class="ae le" href="https://developer.android.com/jetpack/androidx/releases/compose-material3" rel="noopener ugc nofollow" target="_blank">合成材料3发布页面</a>上看到最新的M3版本。</p><pre class="ns nt nu nv gt nw ld nx bn ny nz bi"><span id="8011" class="oa lg iq ld b be ob oc l od oe">def material3_version = "1.0.1"<br/>implementation "androidx.compose.material3:material3:$material3_version"</span></pre><p id="5398" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mh ko kp kq mj ks kt ku ml kw kx ky kz ij bi translated">可选地，如果你已经在使用材料2，你可以跟随<a class="ae le" href="https://material.io/blog/migrating-material-3" rel="noopener ugc nofollow" target="_blank">这篇博客</a>迁移到材料3。</p><p id="22ee" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mh ko kp kq mj ks kt ku ml kw kx ky kz ij bi translated">最后，我们将在Jetpack Compose中使用导航，如果你不知道它是如何工作的，我建议你先看看这个博客。</p><div class="mz na gp gr nb nc"><a href="https://burakdev.medium.com/navigation-with-arguments-in-jetpack-compose-bb98999aa49f" rel="noopener follow" target="_blank"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd ir gy z fp nh fr fs ni fu fw ip bi translated">在Jetpack撰写中使用参数导航</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">在Jetpack Compose中使用参数导航非常简单。您可以轻松地在可组合视图之间导航。</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">burakdev.medium.com</p></div></div><div class="nl l"><div class="of l nn no np nl nq jw nc"/></div></div></a></div><h1 id="d653" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">导航栏</h1><p id="56cd" class="pw-post-body-paragraph kb kc iq ke b kf mf kh ki kj mg kl km mh mw kp kq mj mx kt ku ml my kx ky kz ij bi translated">让我们从为<code class="fe la lb lc ld b"><a class="ae le" href="https://medium.com/r?url=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fmaterial3%2Fpackage-summary%23%28androidx.compose.foundation.layout.RowScope%29.NavigationBarItem%28kotlin.Boolean%2Ckotlin.Function0%2Ckotlin.Function0%2Candroidx.compose.ui.Modifier%2Ckotlin.Boolean%2Ckotlin.Function0%2Ckotlin.Boolean%2Candroidx.compose.material3.NavigationBarItemColors%2Candroidx.compose.foundation.interaction.MutableInteractionSource%29" rel="noopener">NavigationBarItem</a></code>创建模型类开始，</p><pre class="ns nt nu nv gt nw ld nx bn ny nz bi"><span id="7af3" class="oa lg iq ld b be ob oc l od oe">data class BottomNavItem(<br/>    val name: String,<br/>    val route: String,<br/>    val icon: ImageVector,<br/>)</span></pre><p id="2cc0" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mh ko kp kq mj ks kt ku ml kw kx ky kz ij bi translated">你可以根据你的需要改变这个类，我们会保持简单。我们将使用<code class="fe la lb lc ld b">route</code>进行导航，使用<code class="fe la lb lc ld b">name</code> &amp; <code class="fe la lb lc ld b">icon</code>进行<code class="fe la lb lc ld b">NavigationBarItem</code>。</p><p id="ec6e" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mh ko kp kq mj ks kt ku ml kw kx ky kz ij bi translated">现在，我们可以创建我们的<code class="fe la lb lc ld b">BottomNavItem</code>列表。</p><pre class="ns nt nu nv gt nw ld nx bn ny nz bi"><span id="88f2" class="oa lg iq ld b be ob oc l od oe">val bottomNavItems = listOf(<br/>      BottomNavItem(<br/>          name = "Home",<br/>          route = "home",<br/>          icon = Icons.Rounded.Home,<br/>      ),<br/>      BottomNavItem(<br/>          name = "Create",<br/>          route = "add",<br/>          icon = Icons.Rounded.AddCircle,<br/>      ),<br/>      BottomNavItem(<br/>          name = "Settings",<br/>          route = "settings",<br/>          icon = Icons.Rounded.Settings,<br/>      ),<br/>  )</span></pre><p id="c159" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mh ko kp kq mj ks kt ku ml kw kx ky kz ij bi translated">就是这样。我们准备实施<code class="fe la lb lc ld b">Navigation Bar</code>。</p><figure class="ns nt nu nv gt jr"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="60fa" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mh ko kp kq mj ks kt ku ml kw kx ky kz ij bi translated">在这个例子中，我们使用了routes来检查<code class="fe la lb lc ld b">selected</code>，我们也可以使用带有索引的替代方法，</p><figure class="ns nt nu nv gt jr"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="53cf" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mh ko kp kq mj ks kt ku ml kw kx ky kz ij bi translated">在这两种情况下，我们的最终结果是一样的。在第一个例子中，我们检查当前的<code class="fe la lb lc ld b">route</code>，如果它与<code class="fe la lb lc ld b">item.route</code>相同，我们将其标记为选中。另一方面，替代方法只是使用索引。</p><p id="11f5" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mh ko kp kq mj ks kt ku ml kw kx ky kz ij bi translated">就是这样！</p><figure class="ns nt nu nv gt jr gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/147118f17b9da51fc05f8b3690fa663c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/format:webp/1*CBzTz_7LNEJY-XBNmtWGyQ.png"/></div><figcaption class="oj ok gj gh gi ol om bd b be z dk translated">导航栏</figcaption></figure><h1 id="774c" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">底部应用程序栏</h1><figure class="ns nt nu nv gt jr"><div class="bz fp l di"><div class="og oh l"/></div></figure><blockquote class="jy jz ka"><p id="fd64" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><code class="fe la lb lc ld b">actions</code>，BottomAppBar的图标内容。这里的默认布局是一个<code class="fe la lb lc ld b">Row</code>，所以里面的内容将被水平放置。</p><p id="1fce" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><code class="fe la lb lc ld b">floatingActionButton</code>，BottomAppBar末端可选浮动动作按钮。</p></blockquote><p id="d052" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mh ko kp kq mj ks kt ku ml kw kx ky kz ij bi translated"><em class="kd">注意:我已经离开了</em> <code class="fe la lb lc ld b"><em class="kd">androidx.compose.material3.</em></code> <em class="kd">所以你不会混淆，因为材料2库也有相同的组件。</em></p><figure class="ns nt nu nv gt jr gh gi paragraph-image"><div class="gh gi on"><img src="../Images/77ce58944513b49410fa8d9913674a7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1138/format:webp/1*8jKx9ekwWjnMppxmdpMlDA.png"/></div><figcaption class="oj ok gj gh gi ol om bd b be z dk translated">底部应用程序栏</figcaption></figure><h1 id="40e8" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">从子代单击操作</h1><p id="3c9f" class="pw-post-body-paragraph kb kc iq ke b kf mf kh ki kj mg kl km mh mw kp kq mj mx kt ku ml my kx ky kz ij bi translated">额外注意，如果你想从子屏幕设置<code class="fe la lb lc ld b">onClick</code>方法，例如，你在<code class="fe la lb lc ld b">MainActivity.kt</code>中设置<code class="fe la lb lc ld b">Bottom App Bar</code>，并且你想从不同的可组合屏幕访问它。您应该使用视图模型，</p><pre class="ns nt nu nv gt nw ld nx bn ny nz bi"><span id="619f" class="oa lg iq ld b be ob oc l od oe">class SharedViewModel: ViewModel() {<br/>    var actionIconOnClick = mutableStateOf({})<br/>}</span></pre><p id="fbe2" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mh ko kp kq mj ks kt ku ml kw kx ky kz ij bi translated">并且，从您想要使用的子节点设置<code class="fe la lb lc ld b">actionIconOnClick</code>，</p><pre class="ns nt nu nv gt nw ld nx bn ny nz bi"><span id="7bc9" class="oa lg iq ld b be ob oc l od oe">LaunchedEffect(key1 = Unit) {<br/>    sharedViewModel.actionIconOnClick.value = {<br/>        //Your code here  <br/>    }<br/>}</span></pre><p id="5340" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km mh ko kp kq mj ks kt ku ml kw kx ky kz ij bi translated">最后从<code class="fe la lb lc ld b">Bottom App Bar</code>调用<code class="fe la lb lc ld b">actionIconOnClick</code>。</p><pre class="ns nt nu nv gt nw ld nx bn ny nz bi"><span id="556f" class="oa lg iq ld b be ob oc l od oe">sharedViewModel.actionIconOnClick.value.invoke()</span></pre><figure class="ns nt nu nv gt jr gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/1a75abcb8d5ff9701625a2746b2cdc3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/0*E_qSER5dGosarrrE"/></div><figcaption class="oj ok gj gh gi ol om bd b be z dk translated">导航栏GIF</figcaption></figure><h2 id="0818" class="op lg iq bd lh oq or dn ll os ot dp lp mh ou ov lt mj ow ox lx ml oy oz mb pa bi translated">最后的话，</h2><p id="078c" class="pw-post-body-paragraph kb kc iq ke b kf mf kh ki kj mg kl km mh mw kp kq mj mx kt ku ml my kx ky kz ij bi translated"><em class="kd">由于本文的目的是只显示底部应用程序栏的导航栏&amp;，我们忽略了</em> <a class="ae le" href="https://developer.android.com/topic/architecture" rel="noopener ugc nofollow" target="_blank"> <em class="kd">设计架构</em></a><em class="kd"/><a class="ae le" href="https://developer.android.com/jetpack/compose/state#state-hoisting" rel="noopener ugc nofollow" target="_blank"><em class="kd">状态吊装</em></a><a class="ae le" href="https://developer.android.com/jetpack/compose/architecture" rel="noopener ugc nofollow" target="_blank"><em class="kd">构建架构</em> </a> <em class="kd">等。一边实施。我建议您在开发应用程序之前研究并了解它们。</em></p><h2 id="bddd" class="op lg iq bd lh oq or dn ll os ot dp lp mh ou ov lt mj ow ox lx ml oy oz mb pa bi translated">来源:</h2><ul class=""><li id="78d5" class="md me iq ke b kf mf kj mg mh mi mj mk ml mm kz mn mo mp mq bi translated"><a class="ae le" href="https://m3.material.io/components/navigation-bar" rel="noopener ugc nofollow" target="_blank">导航栏—材料设计3 </a></li><li id="2a84" class="md me iq ke b kf mr kj ms mh mt mj mu ml mv kz mn mo mp mq bi translated"><a class="ae le" href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#navigationbar" rel="noopener ugc nofollow" target="_blank">Android x . compose . material 3 | Android开发者</a></li><li id="b315" class="md me iq ke b kf mr kj ms mh mt mj mu ml mv kz mn mo mp mq bi translated"><a class="ae le" href="https://m3.material.io/components/bottom-app-bar/guidelines" rel="noopener ugc nofollow" target="_blank">底部应用栏—材料设计3 </a></li><li id="a53c" class="md me iq ke b kf mr kj ms mh mt mj mu ml mv kz mn mo mp mq bi translated"><a class="ae le" href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#BottomAppBar(androidx.compose.ui.Modifier,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.unit.Dp,androidx.compose.foundation.layout.PaddingValues,androidx.compose.foundation.layout.WindowInsets,kotlin.Function1)" rel="noopener ugc nofollow" target="_blank"> androidx.compose.material3 |安卓开发者</a></li></ul></div></div>    
</body>
</html>