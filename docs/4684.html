<html>
<head>
<title>Flutter: DraggableScrollableSheet</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">飘动:可拖动的可滚动工作表</h1>
<blockquote>原文：<a href="https://itnext.io/flutter-draggablescrollablesheet-c396edcc86be?source=collection_archive---------2-----------------------#2020-08-23">https://itnext.io/flutter-draggablescrollablesheet-c396edcc86be?source=collection_archive---------2-----------------------#2020-08-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/3b2de237b17a53a7e665236db2e60979.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0Nyb4v1__he_QvV_lCr1Aw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">DraggableScrollableSheet概览|作者提供的图片</figcaption></figure><h2 id="aaf0" class="jd je jf bd b dl jg jh ji jj jk jl dk jm translated" aria-label="kicker paragraph">又一个升级应用程序UX</h2><div class=""/><div class=""><h2 id="c175" class="pw-subtitle-paragraph kl jo jf bd b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dk translated">权威指南</h2></div><p id="b82a" class="pw-post-body-paragraph ld le jf lf b lg lh kp li lj lk ks ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">DraggableScrollableSheet是一个可以通过滑动手势进行拖动、调整大小和滚动的小部件。</p><p id="0a5c" class="pw-post-body-paragraph ld le jf lf b lg lh kp li lj lk ks ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">它的最初印象可能看起来像是<a class="ae lz" href="https://api.flutter.dev/flutter/material/BottomSheet-class.html" rel="noopener ugc nofollow" target="_blank"> BottomSheet </a>小部件。</p><p id="0b86" class="pw-post-body-paragraph ld le jf lf b lg lh kp li lj lk ks ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">好吧，等等！这个小工具怎么会是一个真正的UX助推器或简单地认为。我知道，在作出这样的假设之前，我们开车通过将是伟大的。那我们走吧。</p><figure class="ma mb mc md gt is"><div class="bz fp l di"><div class="me mf l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">来源|<a class="ae lz" href="https://giphy.com" rel="noopener ugc nofollow" target="_blank">giphy.com</a></figcaption></figure><p id="8f34" class="pw-post-body-paragraph ld le jf lf b lg lh kp li lj lk ks ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">附注:我已经在最后说明了DraggableScrollableSheet。如果你赶时间，可以直接跳到最后。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="a3a7" class="mn mo jf bd mp mq mr ms mt mu mv mw mx ku my kv mz kx na ky nb la nc lb nd ne bi translated">DraggableScrollableSheet的参数</h1><pre class="ma mb mc md gt nf ng nh ni aw nj bi"><span id="9c26" class="nk mo jf ng b gy nl nm l nn no">const DraggableScrollableSheet({<br/> Key key,<br/> this.initialChildSize = 0.5,<br/> this.minChildSize = 0.25,<br/> this.maxChildSize = 1.0,<br/> this.expand = true,<br/> @required ScrollableWidgetBuilder this.builder,<br/>})</span></pre><p id="6bbd" class="pw-post-body-paragraph ld le jf lf b lg lh kp li lj lk ks ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">参数有自己的默认值。然而，你总是可以覆盖这些参数的值，记住<strong class="lf jp">它不能为空</strong>。</p><p id="5888" class="pw-post-body-paragraph ld le jf lf b lg lh kp li lj lk ks ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">在<code class="fe np nq nr ng b">const</code>中，提到的参数值，即<code class="fe np nq nr ng b">initialChildSize</code>、<code class="fe np nq nr ng b">minChildSize</code>和<code class="fe np nq nr ng b">maxChildSize</code>，表示它将从其父微件占据的高度的百分比。</p><p id="6216" class="pw-post-body-paragraph ld le jf lf b lg lh kp li lj lk ks ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">现在，让我们在所有这些参数使DraggableScrollableSheet成为一个更高级别的小部件之后，演示其中的每一个。</p><h2 id="ddd0" class="nk mo jf bd mp ns nt dn mt nu nv dp mx lm nw nx mz lq ny nz nb lu oa ob nd jl bi translated"><strong class="ak"> <em class="oc">建造者:</em> </strong></h2><ul class=""><li id="c449" class="od oe jf lf b lg of lj og lm oh lq oi lu oj ly ok ol om on bi translated">DraggableScrollableSheet必须要求<code class="fe np nq nr ng b">ScrollableWidgetBuilder</code>，在子窗口小部件中显示可滚动和可拖动的内容。</li></ul><pre class="ma mb mc md gt nf ng nh ni aw nj bi"><span id="644b" class="nk mo jf ng b gy nl nm l nn no">DraggableScrollableSheet(<br/>  builder: (BuildContext context, myscrollController) {<br/>    return Container(<br/>      margin: EdgeInsets.symmetric(horizontal: 15.0),<br/>      child: SingleChildScrollView(<br/>        controller: myscrollController,<br/>        child: Column(<br/>          children: [...</span></pre><ul class=""><li id="f21d" class="od oe jf lf b lg lh lj lk lm oo lq op lu oq ly ok ol om on bi translated">构建器使用<code class="fe np nq nr ng b">BuildContext</code>和<code class="fe np nq nr ng b">ScrollController</code>作为参数，它应该返回ScrollableWidget，如<code class="fe np nq nr ng b"><a class="ae lz" href="https://api.flutter.dev/flutter/widgets/SingleChildScrollView-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="lf jp">SingleChildScrollView</strong></a></code>、<code class="fe np nq nr ng b"><a class="ae lz" href="https://api.flutter.dev/flutter/widgets/ListView-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="lf jp">ListView</strong></a></code>、<strong class="lf jp">、</strong>或<code class="fe np nq nr ng b"><a class="ae lz" href="https://api.flutter.dev/flutter/widgets/GridView-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="lf jp">GridView</strong></a></code>。</li><li id="b53a" class="od oe jf lf b lg or lj os lm ot lq ou lu ov ly ok ol om on bi translated">如果建造者的孩子不使用所提供的<code class="fe np nq nr ng b">ScrollController</code>，则根据<code class="fe np nq nr ng b">initialChildSize</code>该表将保持不变。现在，什么是<code class="fe np nq nr ng b">initialChildSize</code>？</li></ul><p id="fd86" class="pw-post-body-paragraph ld le jf lf b lg lh kp li lj lk ks ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated"><strong class="lf jp">初始孩子大小:</strong></p><ul class=""><li id="32e9" class="od oe jf lf b lg lh lj lk lm oo lq op lu oq ly ok ol om on bi translated">它决定了DraggableScrollableSheet的一部分最初应该在屏幕上可见。用户可以通过它开始与整个工作表内容进行交互。</li></ul><pre class="ma mb mc md gt nf ng nh ni aw nj bi"><span id="ea37" class="nk mo jf ng b gy nl nm l nn no">DraggableScrollableSheet(<br/>  initialChildSize: 0.2,<br/>  builder: (BuildContext context, myscrollController) {...</span></pre><ul class=""><li id="a0e1" class="od oe jf lf b lg lh lj lk lm oo lq op lu oq ly ok ol om on bi translated">例如<code class="fe np nq nr ng b">initialChildSize = 0.2</code>，最初工作表将采用其父窗口小部件的<code class="fe np nq nr ng b">20%</code>高度来显示子窗口小部件内容。</li></ul><h2 id="3137" class="nk mo jf bd mp ns nt dn mt nu nv dp mx lm nw nx mz lq ny nz nb lu oa ob nd jl bi translated"><strong class="ak"> <em class="oc"> minChildSize : </em> </strong></h2><ul class=""><li id="20d3" class="od oe jf lf b lg of lj og lm oh lq oi lu oj ly ok ol om on bi translated">它声明当用户向下拖动小部件时，DraggableScrollableSheet的部分应该可见。</li><li id="9875" class="od oe jf lf b lg or lj os lm ot lq ou lu ov ly ok ol om on bi translated">使用这个可以强制显示最少的内容，即使用户已经浏览完内容或者试图向下滑动页面。</li></ul><pre class="ma mb mc md gt nf ng nh ni aw nj bi"><span id="ccca" class="nk mo jf ng b gy nl nm l nn no">DraggableScrollableSheet(<br/>  minChildSize: 0.1,<br/>  builder: (BuildContext context, myscrollController) {...</span></pre><ul class=""><li id="70b0" class="od oe jf lf b lg lh lj lk lm oo lq op lu oq ly ok ol om on bi translated">例如<code class="fe np nq nr ng b">minChildSize = 0.1</code>，一个表单将至少采用其父窗口小部件的<code class="fe np nq nr ng b">10%</code>高度来显示其子窗口小部件的内容。</li></ul><h2 id="f263" class="nk mo jf bd mp ns nt dn mt nu nv dp mx lm nw nx mz lq ny nz nb lu oa ob nd jl bi translated"><strong class="ak"><em class="oc">max childsize:</em></strong></h2><ul class=""><li id="42ae" class="od oe jf lf b lg of lj og lm oh lq oi lu oj ly ok ol om on bi translated">用户可以设置当用户向上滑动小部件时，DraggableScrollableSheet应该可见的最大部分。</li></ul><pre class="ma mb mc md gt nf ng nh ni aw nj bi"><span id="a98f" class="nk mo jf ng b gy nl nm l nn no">DraggableScrollableSheet(<br/>  maxChildSize: 0.5,<br/>  builder: (BuildContext context, myscrollController) {...</span></pre><ul class=""><li id="e7c7" class="od oe jf lf b lg lh lj lk lm oo lq op lu oq ly ok ol om on bi translated">例如<code class="fe np nq nr ng b">maxChildSize = 0.5</code>，DraggableScrollableSheet会占用其父widget高度的<code class="fe np nq nr ng b">50%</code>来显示其子widget内容。此后，可以以可滚动的方式访问子部件的内容。</li><li id="0017" class="od oe jf lf b lg or lj os lm ot lq ou lu ov ly ok ol om on bi translated">可以根据<code class="fe np nq nr ng b">minChildSize</code>和<code class="fe np nq nr ng b">maxChildSize</code>的值拖动DraggableScrollableSheet小部件并调整其大小。</li></ul><h2 id="3071" class="nk mo jf bd mp ns nt dn mt nu nv dp mx lm nw nx mz lq ny nz nb lu oa ob nd jl bi translated"><strong class="ak">展开:</strong></h2><ul class=""><li id="cfdc" class="od oe jf lf b lg of lj og lm oh lq oi lu oj ly ok ol om on bi translated">它基本上决定了小部件是否应该扩展以填充其父部件中的所有可用空间。</li></ul><blockquote class="ow ox oy"><p id="7550" class="ld le oz lf b lg lh kp li lj lk ks ll pa ln lo lp pb lr ls lt pc lv lw lx ly ij bi translated">"如果父页面想要根据其占用的空间来定位页面，则扩展属性可以根据 <a class="ae lz" href="https://api.flutter.dev/flutter/widgets/DraggableScrollableSheet-class.html" rel="noopener ugc nofollow" target="_blank"> <em class="jf">设置为false "</em></a><em class="jf">"。</em></p></blockquote><pre class="ma mb mc md gt nf ng nh ni aw nj bi"><span id="7152" class="nk mo jf ng b gy nl nm l nn no">DraggableScrollableSheet(<br/>  expand: true,<br/>  builder: (BuildContext context, myscrollController) {...</span></pre><ul class=""><li id="acf1" class="od oe jf lf b lg lh lj lk lm oo lq op lu oq ly ok ol om on bi translated">这个属性的值大部分是真的。</li></ul><p id="41b6" class="pw-post-body-paragraph ld le jf lf b lg lh kp li lj lk ks ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">现在，我们准备编码，让我们把所有这些东西放在一起，并说明DraggableScrollableSheet。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="72a1" class="mn mo jf bd mp mq mr ms mt mu mv mw mx ku my kv mz kx na ky nb la nc lb nd ne bi translated">我们来编码吧！</h1><figure class="ma mb mc md gt is"><div class="bz fp l di"><div class="pd mf l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated"><a class="ae lz" href="https://gist.github.com/parth2107/176473a8357896ac110f138d9c43ab98" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/parth 2107/176473 a 8357896 AC 110 f 138d 9 c 43 ab 98</a></figcaption></figure><p id="1527" class="pw-post-body-paragraph ld le jf lf b lg lh kp li lj lk ks ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">瞧啊。在这里，一个可拖动的滚动床单！</p><figure class="ma mb mc md gt is gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/efb0b7f91eb1c7084a8ee601a0848c52.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/1*yspRsmLXNrVLApaqywNxAg.gif"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">DraggableScrollableSheet的演示</figcaption></figure></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="142b" class="mn mo jf bd mp mq mr ms mt mu mv mw mx ku my kv mz kx na ky nb la nc lb nd ne bi translated">结束语</h1><p id="e4d9" class="pw-post-body-paragraph ld le jf lf b lg of kp li lj og ks ll lm pf lo lp lq pg ls lt lu ph lw lx ly ij bi translated">我敢肯定，你可能已经在这里或那里发现了类似的东西，信不信由你，这是UX的愿望。</p><p id="f6ea" class="pw-post-body-paragraph ld le jf lf b lg lh kp li lj lk ks ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">在其他一些平台上，构建这样的东西可能是具有挑战性的任务。说到这里，让我们为这个看似简单的项目鼓掌。</p><p id="6612" class="pw-post-body-paragraph ld le jf lf b lg lh kp li lj lk ks ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">全部完成！感谢阅读。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="f0c5" class="mn mo jf bd mp mq mr ms mt mu mv mw mx ku my kv mz kx na ky nb la nc lb nd ne bi translated">资源</h1><div class="ip iq gp gr ir pi"><a href="https://api.flutter.dev/flutter/widgets/DraggableScrollableSheet-class.html" rel="noopener  ugc nofollow" target="_blank"><div class="pj ab fo"><div class="pk ab pl cl cj pm"><h2 class="bd jp gy z fp pn fr fs po fu fw jo bi translated">DraggableScrollableSheet类</h2><div class="pp l"><h3 class="bd b gy z fp pn fr fs po fu fw dk translated">一个可滚动的容器，它通过调整可滚动的大小直到达到一个限制来响应拖动手势，并且…</h3></div><div class="pq l"><p class="bd b dl z fp pn fr fs po fu fw dk translated">api.flutter.dev</p></div></div></div></a></div></div></div>    
</body>
</html>