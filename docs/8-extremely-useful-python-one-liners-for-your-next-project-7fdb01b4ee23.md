# 为您的下一个项目准备的 8 个非常有用的 Python 一行程序

> 原文：<https://itnext.io/8-extremely-useful-python-one-liners-for-your-next-project-7fdb01b4ee23?source=collection_archive---------1----------------------->

## 这些 Python 代码片段可以为您的下一个项目节省大量时间，所以请务必继续阅读！

![](img/5c63acf00277c662fb96b2ff7fafea0e.png)

克里斯里德在 [Unsplash](https://unsplash.com/s/photos/python?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上的照片

有时候当你写代码时，你会发现自己需要做一些琐碎的事情，但是你不知道如何去做，当你最终找到一个解决方案时，它可能不是你能想到的最有效或最漂亮的东西。这就是为什么今天我整理了一个非常有用的 Python 命令行程序列表，它可以帮助你完成那些琐碎的任务。没有必要为这些代码片段安装任何第三方库，因为它们都使用内置模块。

以下是我们今天要讨论的话题:

1.  根据字典的值对字典进行排序
2.  以易读的格式打印任何数据
3.  使用 f 字符串打印变量值
4.  生成随机十六进制字符串
5.  返回一个可迭代的所有排列的列表
6.  测量计算的精确执行时间
7.  从文件中读取 JSON 数据并将其提取到字典中
8.  获取字符串格式的当前数据和时间

现在，让我们开始吧。

# 根据字典的值对字典进行排序:

通常，您可能会遇到这样一种情况，您有一个字典，您需要根据字典的值对它进行排序。例如，这可能是一个包含玩家及其高分的字典，您希望根据他们的分数获得前 10 名玩家。

这可以通过创建一个新字典并遍历原始字典中的值的排序列表来轻松完成，然后我们可以将键值对添加到新字典中。这可以使用字典理解在一行中完成:

输出:

```
{'a': 1, 'd': 5, 'b': 6, 'c': 7, 'e': 9}
```

# 以易读的格式打印任何数据:

您是否有时拥有大量数据或不同类型的数据，并希望将其全部打印到终端以供进一步检查，但它们都打印在一大行中，您什么也看不到？为此，你可以使用 Python 中内置的 pprint 模块，它会自动格式化你的数据并很好地打印到你的终端上。这里我有一个包含随机值的字典，并使用 pprint 模块中的 pprint 函数将其打印出来:

输出:

```
{'ahead': {'between': 'boy',
            'blew': 'allow',
            'fly': 'throat',
            'inside': False,
            'path': 1972198692,
            'toward': -1359495784.298975}}
```

# 使用 f 字符串打印变量值:

调试时，打印出变量的值是非常有用的，但是如果你有一堆变量和它们的值要打印，你怎么知道哪个变量等于哪个值呢？为此，我们可以使用 python 中的 f 字符串来打印出变量值和变量本身的名称。我们所需要做的就是在 f 字符串中的变量名末尾附加一个等号' = '，如下所示:

输出:

```
x=5
y='hello world!'
```

# 生成随机十六进制字符串:

随机字符串在很多情况下都很有用，你可能需要它们来创建一个安全的密码或者创建一个随机的用户名。在 python 中，通过内置的 secrets 模块，并提供十六进制字符串中使用的字节数，我们可以非常容易地做到这一点:

输出:

```
2957eeade5b13b6d
```

*您可以在这里* *了解更多秘境模块* [*。*](https://dev.to/1blademaster/the-python-secrets-module-1c3)

# 返回一个 iterable 的所有排列的列表:

如果您有一个 iterable，比如一个 string 或 list，并且您想知道从这个 iterable 可以创建多少种排列，那么您可以使用 Python 中 itertools 模块的内置 permutations 函数。当您调用 permutations 函数并将对象转换成一个列表时，将返回一个元组列表，每个值都是一个字母。我们可以遍历这些元组，将所有字母连接成一个字符串，并将其附加到一个列表中，如下所示:

输出:

```
['abcd', 'abdc', 'acbd', 'acdb', 'adbc', 'adcb', 'bacd', 'badc', 'bcad', 'bcda', 'bdac', 'bdca', 'cabd', 'cadb', 'cbad', 'cbda', 'cdab', 'cdba', 'dabc', 'dacb', 'dbac', 'dbca', 'dcab', 'dcba']
```

# 测量计算的精确执行时间:

测量算法计算某些数据的时间是非常重要的，因为您可以看到算法的缺陷，并估计处理更大数据需要多长时间。我们可以使用 time 模块中的 perf_counter 函数来打印出您的计算机运行某些代码所用的秒数。我们首先需要创建一个保存开始时间的对象，然后当我们的计算完成时，我们可以从当前时间中减去开始时间并打印结果:

输出:

```
0001505000000000048
```

*是的，我知道这不是严格意义上的一行程序，但它仍然非常有用！*

# 从文件中读取 JSON 数据并将其提取到字典中:

JSON 在存储任何类型的数据时都非常有用，因为它可以很容易地在互联网上发送并存储在文件中。在 Python 中处理 json 数据时，我们必须首先导入内置的 JSON 库。然后我们可以使用 loads 函数并传入一个包含所有未解析的 JSON 数据的字符串。在这里，我们可以从文件中读取数据，并使用 loads 函数将其转换为 Python 字典:

输出:

```
{'userId': 1, 'id': 1, 'title': 'delectus aut autem', 'completed': False}
```

# 获取字符串格式的当前日期和时间:

您可能会发现自己需要获得字符串格式的当前日期或时间，这可能是为了访问 API，在请求中您需要提交一些日期时间信息。我们可以使用 datetime 模块获取当前时间，然后使用 strftime 方法将时间格式化为使用特殊格式字符的字符串:

输出:

```
25-04-21 15:21:08
```

# 最终想法:

几乎在我的每一个项目中，我都会用到一些这样的一行程序，事实证明它们非常容易记忆。我希望你今天学到了一些新东西，并确保将这篇文章保存在某个地方以供将来参考。

感谢您的阅读！💖