<html>
<head>
<title>Anyway, here’s how to create a multiple layout system with Vue and Vue-router</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">无论如何，这里是如何创建一个多布局系统与Vue和Vue路由器</h1>
<blockquote>原文：<a href="https://itnext.io/anyway-heres-how-to-create-a-multiple-layout-system-with-vue-and-vue-router-b379baa91a05?source=collection_archive---------0-----------------------#2018-05-31">https://itnext.io/anyway-heres-how-to-create-a-multiple-layout-system-with-vue-and-vue-router-b379baa91a05?source=collection_archive---------0-----------------------#2018-05-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="d8d5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你是否曾经因为内容不同而有过不同的布局？</p><p id="7a79" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我解释一下，假设你创建了一个博客。你希望关于页面的<strong class="jp ir">主页&amp;没有<strong class="jp ir">侧边栏</strong>，但是所有其他页面都有。你明白这个想法吗？</strong></p><p id="1d4b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你会告诉我，这本身并不复杂，只需<strong class="jp ir">创建一个侧边栏组件</strong>并<strong class="jp ir">将其导入到你需要的每个页面组件</strong>中。</p><p id="7dea" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">好吧，但是总是导入这个侧边栏并写下来还是<strong class="jp ir">很烂，对吧？如果有更简单的方法呢？比如在路由器里注明？</strong></p><h1 id="d1b6" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">下面是如何使用route-view创建一个多重布局系统</h1><p id="17ef" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">首先，为什么用Vue-router做？</p><p id="aeb1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">路由器是<strong class="jp ir">，我们在这里定义我们站点的页面</strong>，那么为什么不指定我们希望每个页面使用哪种布局呢？</p><p id="686a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们从用vue-cli 3 创建我们的项目<strong class="jp ir">开始。</strong></p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="ab gu cl lt"><img src="../Images/e91e3f9a112ba5df43241e7dec71d8d4.png" data-original-src="https://miro.medium.com/v2/format:webp/1*-nqFxy8ITGRWJ_U2fMhJlA.png"/></div></figure><p id="6513" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们首先创建我们的布局。它将是没有逻辑的组件，只有接受一个<strong class="jp ir">槽</strong>的HTML / CSS，要注入的内容。<br/>(我用的是<strong class="jp ir">布尔玛CSS </strong>)。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="gh gi lw"><img src="../Images/c3eb8b21174a0acba9462ff4d4e03ef6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qKOk2eb1NmFrYPpS_dsUYQ.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">带有侧边栏的默认布局</figcaption></figure><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="gh gi mf"><img src="../Images/54cf8e889ec85b0a562f7040191cafec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hMcwRrz3IVwSJ1F0W8AM5w.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">在一些页面上使用的没有侧边栏的布局<strong class="bd kn"/></figcaption></figure><p id="3d89" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">好吧，酷，我们有我们的布局。让我们将页面添加到路由器中。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="gh gi mg"><img src="../Images/08343e50097a518d93be8ac42e53941f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R3XDuyJsei3TcBIZNdsYrA.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">我们将特定文件夹中的页面添加到路由器中</figcaption></figure><p id="e4a2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如你所见，我为关于页面的<strong class="jp ir">主页&amp;添加了一个<strong class="jp ir">元键</strong>。<br/>在Vue-router中，不是<strong class="jp ir">在根节点</strong>创建密钥，而是使用元密钥来设置与每条路由相关的数据。<br/><a class="ae mh" href="https://router.vuejs.org/guide/advanced/meta.html" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">https://router.vuejs.org/guide/advanced/meta.html</strong></a></strong></p><h2 id="8393" class="mi km iq bd kn mj mk dn kr ml mm dp kv jy mn mo kz kc mp mq ld kg mr ms lh mt bi translated">我们现在怎么做？让我们导入全局布局</h2><p id="3c6a" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">现在我们已经有了<strong class="jp ir">我们的路线、页面和布局</strong>，让我们将它们混合在<strong class="jp ir"> App.vue </strong>和<strong class="jp ir">中，将布局全局导入main.js </strong>。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="gh gi mu"><img src="../Images/3864a31ba0cee39e58e37211dec446d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T_Q9M0WRv3aT-ej7VJosrQ.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">使用<strong class="bd kn"> Vue.component( …) </strong>全局导入布局</figcaption></figure><p id="fd4c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你注意到了，不是吗？我添加了一个“<strong class="jp ir"> -layout </strong>”后缀，让名字有两个或更多的单词，也是因为这样更精确。</p><p id="56c0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是！但是！在我们的<strong class="jp ir"> meta </strong>中我们没有放“<strong class="jp ir"> -layout </strong>”，我们是怎么做的？</p><p id="b36d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这就是魔法出现的地方，首先我们将根据当前的路线动态加载/使用我们的布局。</p><p id="715c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Vue-router 功能强大，让我们可以在每个组件中访问代表当前路线的<strong class="jp ir"> $route </strong>。我们将检查它上面的<strong class="jp ir">元</strong>来知道加载哪个布局，并且<strong class="jp ir">定义一个默认布局</strong>。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="gh gi mv"><img src="../Images/52e3574d18e0bdb7a59c066e43126d94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8hSqgSGzzig6hD94uDEOoA.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">我们使用“<strong class="bd kn">组件是</strong>”和<strong class="bd kn"> $route </strong>动态加载/使用我们的布局</figcaption></figure><h2 id="09c7" class="mi km iq bd kn mj mk dn kr ml mm dp kv jy mn mo kz kc mp mq ld kg mr ms lh mt bi translated">台阶</h2><ol class=""><li id="7c53" class="mw mx iq jp b jq lj ju lk jy my kc mz kg na kk nb nc nd ne bi translated">我们定义了一个<strong class="jp ir">常量</strong>，它包含了<strong class="jp ir">要加载的默认布局</strong></li><li id="d6e8" class="mw mx iq jp b jq nf ju ng jy nh kc ni kg nj kk nb nc nd ne bi translated">我们基于<strong class="jp ir"> $route </strong>创建一个<strong class="jp ir">计算属性</strong>，这样当我们改变URL / route 时，布局<strong class="jp ir">会动态改变</strong></li><li id="18d2" class="mw mx iq jp b jq nf ju ng jy nh kc ni kg nj kk nb nc nd ne bi translated">当<strong class="jp ir">元布局</strong>包含<strong class="jp ir">未定义</strong>时，我们回退到<strong class="jp ir">默认布局</strong></li><li id="0af7" class="mw mx iq jp b jq nf ju ng jy nh kc ni kg nj kk nb nc nd ne bi translated">条件的结果是<strong class="jp ir">用什么串接</strong>？"<strong class="jp ir">-布局</strong>"</li><li id="d112" class="mw mx iq jp b jq nf ju ng jy nh kc ni kg nj kk nb nc nd ne bi translated">我们使用特殊的组件<strong class="jp ir"> &lt;组件is="…" &gt; </strong>允许动态使用组件<strong class="jp ir">，属性is </strong>以组件名称为值显示</li></ol><h2 id="8264" class="mi km iq bd kn mj mk dn kr ml mm dp kv jy mn mo kz kc mp mq ld kg mr ms lh mt bi translated">结论</h2><p id="9d53" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">当你到达一个没有带有布局关键字的<strong class="jp ir">元的<strong class="jp ir">路线</strong>时，代码将生成“<strong class="jp ir">默认-布局</strong>”，否则，如果<strong class="jp ir">有一个布局关键字</strong>，它给出关键字的<strong class="jp ir">值—布局</strong>，因此在我们的例子中是“<strong class="jp ir">无侧边栏-布局</strong>”。</strong></p><p id="4da6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦这个值是在computed 中计算出来的<strong class="jp ir">，带有<strong class="jp ir">组件</strong>和<strong class="jp ir">道具的模板就是</strong>，剩下的就交给它了。</strong></p><p id="8389" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> /！\重要</strong>:不要忘记<strong class="jp ir">给出页面显示</strong>感谢:<br/> <strong class="jp ir"> &lt;路由器-查看/ &gt; </strong>路由器用来显示路由。</p><p id="9ec5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有没有更复杂的情况可以使用这个系统？是的<br/>简单的例子:</p><ul class=""><li id="3bb7" class="mw mx iq jp b jq jr ju jv jy nk kc nl kg nm kk nn nc nd ne bi translated">在内容周围有一个全屏广告横幅</li><li id="96ab" class="mw mx iq jp b jq nf ju ng jy nh kc ni kg nj kk nn nc nd ne bi translated">根据用户角色有不同的标题/导航/页脚</li><li id="3cc6" class="mw mx iq jp b jq nf ju ng jy nh kc ni kg nj kk nn nc nd ne bi translated">具有3个网格设计:流体、2列和3列</li></ul><p id="96ec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这就是动态加载一个<strong class="jp ir"> LayoutComp </strong>有用的地方，你可以为每一个布局创建<strong class="jp ir">一个组件，这个组件拥有视觉复杂度，并且只接受内容(&lt; slot &gt;)作为参数。</strong></p><p id="5b2e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了<strong class="jp ir">了解更多关于vue-router</strong>:<br/><a class="ae mh" href="https://router.vuejs.org/" rel="noopener ugc nofollow" target="_blank">https://router.vuejs.org/</a></p><p id="aeab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要<strong class="jp ir">了解&lt;component是= " "&gt;&lt;component&gt;</strong>:<br/><a class="ae mh" href="https://vuejs.org/v2/guide/components.html#Dynamic-Components" rel="noopener ugc nofollow" target="_blank">https://vue js . org/v2/guide/Components . html # Dynamic-Components</a></p><p id="2234" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">查看<strong class="jp ir">代码运行</strong>:<br/><a class="ae mh" href="https://darkylmnx.github.io/Layout-system-with-vue-and-vue-router/" rel="noopener ugc nofollow" target="_blank">https://darkylmnx . github . io/Layout-system-with-vue-and-vue-router/</a></p><p id="6182" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">查看github  <br/> <a class="ae mh" href="https://github.com/darkylmnx/Layout-system-with-vue-and-vue-router" rel="noopener ugc nofollow" target="_blank">上的<strong class="jp ir">完整源代码https://github . com/darkylmnx/Layout-system-with-vue-and-vue-router</strong></a></p><p id="385f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你欣赏这个故事，不要犹豫<strong class="jp ir">拍&amp;分享这篇文章</strong>。</p><p id="5021" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">PS: <br/>如果你<strong class="jp ir">喜欢旅行</strong>或者喜欢<strong class="jp ir">惊艳</strong>山水:<a class="ae mh" href="https://goo.gl/paFUwK" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">https://goo.gl/paFUwK</strong></a><strong class="jp ir"><br/></strong>如果你想<strong class="jp ir">发现一些我们之外的说唱</strong>:<a class="ae mh" href="https://goo.gl/4C4suQ" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">https://goo.gl/4C4suQ</strong></a><br/>如果你更<strong class="jp ir">动漫&amp;</strong>:<a class="ae mh" href="https://goo.gl/GZ2FtJ" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">https://goo.gl/GZ2FtJ</strong></a></p><p id="19d9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> PS 2:如果你想学习如何创建高级组件，请查看我的课程</strong>:<a class="ae mh" href="https://courses.maisonfutari.com/mastering-vue-components-creating-a-ui-library-from-scratch?coupon=PRESALE" rel="noopener ugc nofollow" target="_blank">https://courses . maisonfutari . com/mastering-vue-components-creating-a-ui-library-from scratch？优惠券=M </a> EDIUM</p><p id="4cfa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有50%的折扣，因为你来自这个故事。</p></div></div>    
</body>
</html>