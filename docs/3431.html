<html>
<head>
<title>How to create interactive terminal like website with JavaScript?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用JavaScript创建类似网站的交互终端？</h1>
<blockquote>原文：<a href="https://itnext.io/how-to-create-interactive-terminal-like-website-888bb0972288?source=collection_archive---------0-----------------------#2019-12-15">https://itnext.io/how-to-create-interactive-terminal-like-website-888bb0972288?source=collection_archive---------0-----------------------#2019-12-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="40b2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可以创建一个静态的网站或文件夹，看起来像一个终端。但是，如果有人访问网页，实际上可以键入一些命令，并像在真正的风格终端中一样获得输出，那就更好了。您可以称之为伪终端，因为它不会提供真正的类似shell的SSH所提供的东西(除非您决定要这样做并显式地对其进行编码)。您需要自己编写每个命令，但这很有趣，也没那么难。你甚至可以创建一个互动游戏，用户可以输入他们的命令并与游戏互动，就像在一个真实的终端上，但却是在他们的浏览器上。</p><p id="c9af" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我提到的那些真正的终端通常在GNU/Linux系统或Mac OSX上使用，但Windows用户也可以使用PowerShell、<strong class="jp ir"> cmd.exec </strong>，或在Windows 10 WSL控制台(Linux的Windows子系统)上使用，它只是Windows上的Linux。它是任何系统管理员或更高级用户最常用的工具，在本文中，我将向您展示如何将JavaScript终端嵌入到网站中。</p><p id="e4b8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您有一个库，它将为您提供真实终端模拟器的外观和感觉，并带有一个很好的API来创建命令，那么创建这样一个风格化的控制台网站或假终端网站会更容易，所以您不需要从头开始创建它。我们将使用<a class="ae kl" href="https://terminal.jcubic.pl/" rel="noopener ugc nofollow" target="_blank">JavaScript终端库:jQuery终端</a>，它提供了一个简单但强大的API来创建任何网站上的交互终端。该库不使用任何HTML5特性，使用ES5，因此它可以在任何浏览器上工作，甚至在IE11中。</p><p id="3c29" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这篇文章将向你展示，如何在任何网站上创建一个简单的基于web的交互式HTML终端。</p><h1 id="6753" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated"><strong class="ak">创建您的第一个基于网络的终端</strong></h1><p id="b4f7" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">首先，您需要创建一个基本的HTML页面，其中包含所有的依赖项:</p><pre class="lp lq lr ls gt lt lu lv bn lw lx bi"><span id="7549" class="ly kn iq lu b be lz ma l mb mc">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>&lt;head&gt;<br/>&lt;script src="https://code.jquery.com/jquery-3.3.1.min.js"&gt;&lt;/script&gt;<br/>&lt;script src="https://cdn.jsdelivr.net/npm/jquery.terminal/js/jquery.terminal.min.js"&gt;&lt;/script&gt;<br/>&lt;link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery.terminal/css/jquery.terminal.min.css"/&gt;<br/>&lt;/head&gt;<br/>&lt;body&gt;<br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="5870" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后在body标记中，您可以用第一个命令创建您的第一个终端:</p><pre class="lp lq lr ls gt lt lu lv bn lw lx bi"><span id="448b" class="ly kn iq lu b be lz ma l mb mc">&lt;script&gt;<br/>$('body').terminal({<br/>    hello: function(what) {<br/>        this.echo('Hello, ' + what +<br/>                  '. Wellcome to this terminal.');<br/>    }<br/>}, {<br/>    greetings: 'My First Web Terminal'<br/>});<br/>&lt;/script&gt;</span></pre><p id="fa47" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一个基本的HTML模板，你可以用它来进行基于网络的类似终端的输入。</p><p id="8f47" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您键入“hello Medium ”,输出如下所示:</p><figure class="lp lq lr ls gt me gh gi paragraph-image"><div class="gh gi md"><img src="../Images/b5a6ad19927cb7c1e2dc94fd280de487.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*hwKse4n1IlQtUBFKQ9gdKg.png"/></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">简单交互式终端网站</figcaption></figure><p id="ee7b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">见<a class="ae kl" href="https://codepen.io/jcubic/pen/QWmbZOY?editors=0010" rel="noopener ugc nofollow" target="_blank">现场演示</a>。</p><h1 id="fa9c" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">抱歉，但是终端说你使用了无效的选择器！</h1><p id="b3ad" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">如果您将得到一个错误消息，表明body不是库中的有效选择器。这意味着你需要把你的脚本放在 <strong class="jp ir"> </strong>标签里面。这是因为浏览器在读取HTML时会对其进行解析，如果你的脚本在head标签内，那么你的主体还没有被定义。</p><pre class="lp lq lr ls gt lt lu lv bn lw lx bi"><span id="7621" class="ly kn iq lu b be lz ma l mb mc">&lt;!-- rest of the HTML: from first code example --&gt;<br/>&lt;body&gt;<br/>&lt;script&gt;<br/>$('body').terminal({<br/>    hello: function(what) {<br/>        this.echo('Hello, ' + what +<br/>                  '. Wellcome to this terminal.');<br/>    }<br/>}, {<br/>    greetings: 'My First Web Terminal'<br/>});<br/>&lt;/script&gt;<br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="eaee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">或者可以使用jQuery ready事件，当DOM(<a class="ae kl" href="https://en.wikipedia.org/wiki/Document_Object_Model" rel="noopener ugc nofollow" target="_blank">Document object model</a>)准备就绪时(您的HTML已完全加载)运行您的代码。</p><pre class="lp lq lr ls gt lt lu lv bn lw lx bi"><span id="a677" class="ly kn iq lu b be lz ma l mb mc">&lt;script&gt;<br/>$(function() {<br/>    $('body').terminal({<br/>        hello: function(what) {<br/>            this.echo('Hello, ' + what +<br/>                      '. Wellcome to this terminal.');<br/>        }<br/>    }, {<br/>        greetings: 'My First Web Terminal'<br/>    });<br/>});<br/>&lt;/script&gt;</span></pre><p id="274f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您想在div而不是主体上创建一个终端并出现错误，情况也是如此。这意味着该元素还不存在。尝试添加一个类似上面代码的就绪事件，或者在关闭&lt;<strong class="jp ir"> /body &gt; </strong>之前添加一个脚本标签。</p><h1 id="a4a3" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">在终端上显示图像</h1><p id="830a" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">可以添加到终端主题网站的另一个命令示例是显示图像。下面的代码将添加命令“cat”，它将显示一只小猫的图像。</p><pre class="lp lq lr ls gt lt lu lv bn lw lx bi"><span id="b98a" class="ly kn iq lu b be lz ma l mb mc">$('body').terminal({<br/>    cat: function() {<br/>        this.echo($('&lt;img src="https://placekitten.com/408/287"&gt;'));<br/>    }<br/>});</span></pre><p id="7d0d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您还可以向命令添加参数。您可以添加两个参数来确定图像的具体大小(这将反过来创建一个不同的图像，这就是placekitten.com的工作方式)。</p><pre class="lp lq lr ls gt lt lu lv bn lw lx bi"><span id="2466" class="ly kn iq lu b be lz ma l mb mc">$('body').terminal({<br/>    cat: function(width, height) {<br/>        const img = $('&lt;img src="https://placekitten.com/' +<br/>                      width + '/' + height + '"&gt;');<br/>        this.echo(img);<br/>    }<br/>});</span></pre><p id="b2f9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您键入具有特定大小的命令“cat ”,将会得到以下输出:</p><figure class="lp lq lr ls gt me gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/fe805f5dc4c99b6b8e14890e02fa1bbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*C-VPr1GPtVchtExSu9vpAA.png"/></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">显示猫图像的终端</figcaption></figure><p id="ce6e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">参见<a class="ae kl" href="https://codepen.io/jcubic/pen/dymogJR?editors=0010" rel="noopener ugc nofollow" target="_blank">现场演示</a>。</p><p id="ba07" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">注意</strong>:注意有jQuery $()调用包装器，不能只回显HTML文本，但是可以回显jQuery对象。这种限制是出于安全原因。您还可以将options对象与{raw: true}一起用作echo的第二个参数。</p><pre class="lp lq lr ls gt lt lu lv bn lw lx bi"><span id="26c0" class="ly kn iq lu b be lz ma l mb mc">$('body').terminal({<br/>    cat: function(width, height) {<br/>        this.echo('&lt;img src="https://placekitten.com/' +<br/>                  width + '/' + height + '"&gt;', {raw: true});<br/>    }<br/>});</span></pre><h1 id="a601" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">带有异步命令的JavaScript终端</h1><p id="4fb4" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">有些命令是异步的，需要一段时间来计算。图像的加载不是即时的，尤其是在慢速网络上。所以您可以在命令处理异步请求时暂停终端。</p><pre class="lp lq lr ls gt lt lu lv bn lw lx bi"><span id="ede1" class="ly kn iq lu b be lz ma l mb mc">$('body').terminal({<br/>    cat: function(width, height) {<br/>        const img = $('&lt;img src="https://placekitten.com/' +<br/>                      width + '/' + height + '"&gt;');<br/>        img.on('load', this.resume);<br/>        this.pause();<br/>        this.echo(img);<br/>    }<br/>}, {<br/>    greetings: 'My First JavaScript Terminal\n'<br/>});</span></pre><p id="dbf3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">另一个选项是从函数返回一个承诺:</p><pre class="lp lq lr ls gt lt lu lv bn lw lx bi"><span id="8095" class="ly kn iq lu b be lz ma l mb mc">function get_image(url) {<br/>    return new Promise(function(resolve, reject) {<br/>        const img = $('&lt;img src="' + url + '"/&gt;');<br/>        img.on('load', () =&gt; resolve(img));<br/>        img.on('error', reject);<br/>    });<br/>}<br/>$('body').terminal({<br/>    cat: function(width, height) {<br/>        return get_image('https://placekitten.com/' + width +<br/>                         '/' + height);<br/>    },<br/>    dog: function(width, height) {<br/>        return get_image('https://placedog.net/' + width +<br/>                         '/' + height);<br/>    }<br/>}, {<br/>    greetings: 'My First JavaScript Terminal\n'<br/>});</span></pre><p id="f45b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">并且你不需要回显任何东西，终端会处理承诺。</p><p id="664e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">注意:</strong>从版本2.34.0开始，默认情况下图像会暂停终端，因此您不再需要get_image函数。我一直保存着，只是作为使用承诺的参考。</p><p id="c8a0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">参见<a class="ae kl" href="https://codepen.io/jcubic/pen/KKopGZL?editors=0010" rel="noopener ugc nofollow" target="_blank">现场演示</a>。</p><p id="5916" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">由于这个特性，您可以使用fetch并获得AJAX调用的输出:</p><pre class="lp lq lr ls gt lt lu lv bn lw lx bi"><span id="c9df" class="ly kn iq lu b be lz ma l mb mc">$('body').terminal({<br/>    cat: function(width, height) {<br/>        return $('&lt;img src="https://placekitten.com/' +<br/>                 width + '/' + height + '"&gt;');<br/>    },<br/>    title: function() {<br/>        return fetch('https://terminal.jcubic.pl')<br/>            .then(r =&gt; r.text())<br/>            .then(html =&gt; html.match(/&lt;title&gt;([^&gt;]+)&lt;\/title&gt;/)[1]);<br/>    }<br/>}, {<br/>    greetings: 'My First JavaScript Terminal\n'<br/>});</span></pre><p id="400b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">此命令将显示库的主页标题。正如你所看到的，cat命令也改变了，它不回显图像，只从函数中返回图像。从函数返回值的工作原理与echo相同。</p><p id="b526" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">参见<a class="ae kl" href="https://codepen.io/jcubic/pen/wvmaQvZ?editors=0010" rel="noopener ugc nofollow" target="_blank">现场演示</a>。</p><p id="5049" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可以用任何你想要的语言来创建你自己的后端服务(例如Python和Django/Flask，Ruby和Ruby on Rails，PHP和任何框架如Laravel，Symfony，CodeIgniter，或者C#和. Net或ASP。网)。</p><h1 id="e37f" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">使用JSON-RPC服务的后端终端</h1><p id="5691" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">使用jQuery终端，如果您创建了一个<a class="ae kl" href="https://en.wikipedia.org/wiki/JSON-RPC" rel="noopener ugc nofollow" target="_blank"> JSON-RPC </a>服务，您也可以快速创建一个后端。这里是<a class="ae kl" href="https://github.com/jcubic/json-rpc-list" rel="noopener ugc nofollow" target="_blank"> JSON-RPC实现</a>的列表(不完整)。</p><p id="b280" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你已经创建了一个后端，你所要做的就是添加一个URL到后端服务。</p><pre class="lp lq lr ls gt lt lu lv bn lw lx bi"><span id="1b4d" class="ly kn iq lu b be lz ma l mb mc">$('body').terminal("service.py", {<br/>    greetings: 'My First JavaScript Terminal\n'<br/>});</span></pre><h1 id="2b31" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">将ASCII艺术显示为问候语</h1><p id="e6dc" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">如果你想要好看的ASCII艺术作为你的欢迎信息，你可以使用figlet.js库来查看这个CodePen演示。如果你以不同的方式生成ASCII艺术，比如使用figlet Linux命令或使用<a class="ae kl" href="http://patorjk.com/software/taag/#p=display&amp;f=Standard&amp;t=My%20Terminal" rel="noopener ugc nofollow" target="_blank">在线工具</a>，或者如果你将获得一些其他的ASCII艺术，注意，要在JavaScript文件中使用它，你将需要转义引号和反斜杠。另一种选择是使用一个允许输入任何文本的模板标签。</p><pre class="lp lq lr ls gt lt lu lv bn lw lx bi"><span id="a47f" class="ly kn iq lu b be lz ma l mb mc">&lt;template id="greetings"&gt;<br/> _______  _______  ______    __   __  ___   __    _  _______  ___     <br/>|       ||       ||    _ |  |  |_|  ||   | |  |  | ||   _   ||   |    <br/>|_     _||    ___||   | ||  |       ||   | |   |_| ||  |_|  ||   |    <br/>  |   |  |   |___ |   |_||_ |       ||   | |       ||       ||   |    <br/>  |   |  |    ___||    __  ||       ||   | |  _    ||       ||   |___ <br/>  |   |  |   |___ |   |  | || ||_|| ||   | | | |   ||   _   ||       |<br/>  |___|  |_______||___|  |_||_|   |_||___| |_|  |__||__| |__||_______|<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>$('body').terminal("service.py", {<br/>    greetings: greetings.innerHTML<br/>});<br/>&lt;/script&gt;</span></pre><p id="bf8c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">注意:</strong>如果你定义一个带有id属性的标签，它在JavaScript中被定义为一个全局变量。</p><p id="aaa8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果要创建响应性的ASCII图片，您可以准备不同版本的ASCII图片，以适合每行不同数量的字符，并使用如下代码:</p><pre class="lp lq lr ls gt lt lu lv bn lw lx bi"><span id="0bcd" class="ly kn iq lu b be lz ma l mb mc">term.echo(function() {<br/>   if (this.cols() &gt; 100) { <br/>      return bigText();<br/>   } else {<br/>      return smallerText();<br/>   }<br/>});</span></pre><p id="77bd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您还可以使用filget.js库，并在函数中包含一个包装选项。</p><h1 id="0c9d" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">解析命令，比如在Unix终端上</h1><p id="d59d" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">如果您想拥有与GNU/Linux或MacOSX终端仿真器中相同的命令，在那里您可以添加可选的参数和选项，您可以使用一个函数来解析选项并返回一个漂亮的对象。下面的代码将向您展示如何做到这一点。</p><pre class="lp lq lr ls gt lt lu lv bn lw lx bi"><span id="fd9d" class="ly kn iq lu b be lz ma l mb mc">$('body').terminal({<br/>    title: function(...args) {<br/>        const options = $.terminal.parse_options(args);<br/>        return fetch(options.url || 'https://terminal.jcubic.pl')<br/>            .then(r =&gt; r.text())<br/>            .then(html =&gt; html.match(/&lt;title&gt;([^&gt;]+)&lt;\/title&gt;/)[1]);<br/>    }<br/>}, {<br/>    checkArity: false,<br/>    greetings: 'My First JavaScript Terminal\n'<br/>});</span></pre><p id="ec83" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> checkArity </strong>选项很重要。如果没有这个选项，当函数的参数个数大于零时，终端将抛出一个错误(这就是ES6变量参数的工作方式，树点，终端认为函数接受0个参数)。</p><p id="8e01" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该命令的输出如下所示:</p><figure class="lp lq lr ls gt me gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/b0d22c3d4ea3f573b3257644f6fe2182.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/1*ZdgbKkiUHmbe_2-fCVg0ag.png"/></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">使用jQuery终端的几个命令的交互式终端会话。</figcaption></figure><p id="f939" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">参见<a class="ae kl" href="https://codepen.io/jcubic/pen/oNqXQgE?editors=0010" rel="noopener ugc nofollow" target="_blank">现场演示</a>。</p><p id="775e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当然，如果只有一个可选参数，就不需要解析选项。在这种情况下，您可以只使用一个参数URL:</p><pre class="lp lq lr ls gt lt lu lv bn lw lx bi"><span id="3b7c" class="ly kn iq lu b be lz ma l mb mc">$('body').terminal({<br/>    title: function(url) {<br/>        return fetch(url || 'https://terminal.jcubic.pl')<br/>            .then(r =&gt; r.text())<br/>            .then(html =&gt; html.match(/&lt;title&gt;([^&gt;]+)&lt;\/title&gt;/)[1]);<br/>    }<br/>}, {<br/>    checkArity: false,<br/>    greetings: 'My First JavaScript Terminal\n'<br/>});</span></pre><p id="f744" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是如果您需要更复杂的命令，解析选项会很有用。你可以像前面的例子一样在GNU风格中使用长选项，但是像<strong class="jp ir"> -u </strong>这样的短选项也可以在<strong class="jp ir"> options.u </strong>变量中访问。你可以在这个<a class="ae kl" href="https://github.com/jcubic/jquery.terminal/wiki/Parsing-commands" rel="noopener ugc nofollow" target="_blank"> wiki页面</a>上阅读更多关于解析命令和选项的信息。添加选项使命令更像真正的命令行应用程序，因此它越来越不像一个假终端。</p><p id="9641" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您想要添加的另一个特性是制表符补全。如果您像这样设置终端(在文档中可以找到其他选项),那么您只需要一个选项:</p><pre class="lp lq lr ls gt lt lu lv bn lw lx bi"><span id="4eea" class="ly kn iq lu b be lz ma l mb mc">$('body').terminal({<br/>    title: function(...args) {<br/>        const options = $.terminal.parse_options(args);<br/>        return fetch(options.url || 'https://terminal.jcubic.pl')<br/>            .then(r =&gt; r.text())<br/>            .then(html =&gt; html.match(/&lt;title&gt;([^&gt;]+)&lt;\/title&gt;/)[1]);<br/>    }<br/>}, {<br/>    checkArity: false,<br/>    completion: true,<br/>    greetings: 'My First JavaScript Terminal\n'<br/>});</span></pre><p id="73e1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，当您键入“t”并按下键盘上的tab键时，它将完成命令“title ”,因此您不需要手动键入整个命令。</p><p id="8e10" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可能还需要一些“帮助”命令来列出可用命令。</p><p id="4f01" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">见<a class="ae kl" href="https://codepen.io/jcubic/pen/NWYqEPQ?editors=0010" rel="noopener ugc nofollow" target="_blank">现场演示</a>。</p><h1 id="d3bd" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">放大字体</h1><p id="a28d" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">默认情况下，终端的字体是14像素，你可以用CSS把它放大。</p><pre class="lp lq lr ls gt lt lu lv bn lw lx bi"><span id="0b19" class="ly kn iq lu b be lz ma l mb mc">&lt;style&gt;<br/>:root {<br/>   --size: 1.4;<br/>}<br/>&lt;/style&gt;</span></pre><p id="17d7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> :root </strong>表示整个文档，size是CSS自定义属性，也叫CSS变量。jQuery Terminal还允许您更改其他一些东西，如颜色、背景、光标动画或添加发光效果。在<a class="ae kl" href="https://github.com/jcubic/jquery.terminal/wiki/CSS-Style" rel="noopener ugc nofollow" target="_blank">维基</a>上有更多关于样式的内容(包括如何让字体大小更好地适应不同的屏幕尺寸)。</p><h1 id="6c48" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">当你创建自己的终端式网站时，下一步该怎么做</h1><p id="a4ee" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">这就是了。以此为基础，您应该能够编写自己的简单HTML终端。本文没有讨论的jQuery终端库的特性包括:</p><ul class=""><li id="3c38" class="mn mo iq jp b jq jr ju jv jy mp kc mq kg mr kk ms mt mu mv bi translated"><a class="ae kl" href="https://github.com/jcubic/jquery.terminal/wiki/Formatting-and-Syntax-Highlighting" rel="noopener ugc nofollow" target="_blank">格式和语法高亮显示</a>。</li><li id="1326" class="mn mo iq jp b jq mw ju mx jy my kc mz kg na kk ms mt mu mv bi translated"><a class="ae kl" href="https://github.com/jcubic/jquery.terminal/wiki/Getting-Started#prompt" rel="noopener ugc nofollow" target="_blank">改变和制作动态提示</a>。</li><li id="74a8" class="mn mo iq jp b jq mw ju mx jy my kc mz kg na kk ms mt mu mv bi translated"><a class="ae kl" href="https://github.com/jcubic/jquery.terminal/wiki/Getting-Started#masking-password" rel="noopener ugc nofollow" target="_blank">屏蔽密码</a>。</li><li id="89b4" class="mn mo iq jp b jq mw ju mx jy my kc mz kg na kk ms mt mu mv bi translated"><a class="ae kl" href="https://github.com/jcubic/jquery.terminal/wiki/Authentication" rel="noopener ugc nofollow" target="_blank">认证</a>。</li><li id="f56a" class="mn mo iq jp b jq mw ju mx jy my kc mz kg na kk ms mt mu mv bi translated">像在Unix终端中一样用管道操作符组合命令。<a class="ae kl" href="https://codepen.io/jcubic/pen/vYLvvXx?editors=0110" rel="noopener ugc nofollow" target="_blank">参见演示</a>。</li><li id="66c9" class="mn mo iq jp b jq mw ju mx jy my kc mz kg na kk ms mt mu mv bi translated"><a class="ae kl" href="https://github.com/jcubic/jquery.terminal/wiki/Getting-Started#key-shortcuts" rel="noopener ugc nofollow" target="_blank">键盘快捷键</a>(这里可以找到<a class="ae kl" href="https://terminal.jcubic.pl/api_reference.php#shortcuts" rel="noopener ugc nofollow" target="_blank">的内置列表)。</a></li><li id="4f2c" class="mn mo iq jp b jq mw ju mx jy my kc mz kg na kk ms mt mu mv bi translated">从用户处读取文本。</li><li id="d5ee" class="mn mo iq jp b jq mw ju mx jy my kc mz kg na kk ms mt mu mv bi translated">处理表情符号(如果系统不像Windows10那样开箱即用)，参见<a class="ae kl" href="https://codepen.io/jcubic/pen/qPVMPg?editors=0010" rel="noopener ugc nofollow" target="_blank">演示</a>。</li><li id="e1ca" class="mn mo iq jp b jq mw ju mx jy my kc mz kg na kk ms mt mu mv bi translated"><a class="ae kl" href="https://github.com/jcubic/jquery.terminal/wiki/Forms" rel="noopener ugc nofollow" target="_blank"> ASCII格式元素</a>。</li><li id="fd5a" class="mn mo iq jp b jq mw ju mx jy my kc mz kg na kk ms mt mu mv bi translated"><a class="ae kl" href="https://github.com/jcubic/jquery.terminal/wiki/Animation" rel="noopener ugc nofollow" target="_blank">动画</a>和<a class="ae kl" href="https://github.com/jcubic/jquery.terminal/wiki/Typing-Animation" rel="noopener ugc nofollow" target="_blank">打字动画</a>。</li><li id="b906" class="mn mo iq jp b jq mw ju mx jy my kc mz kg na kk ms mt mu mv bi translated"><a class="ae kl" href="https://github.com/jcubic/jquery.terminal/wiki/Getting-Started#executing-commands-from-javascript" rel="noopener ugc nofollow" target="_blank">从JavaScript执行命令</a>。</li><li id="ddf2" class="mn mo iq jp b jq mw ju mx jy my kc mz kg na kk ms mt mu mv bi translated"><a class="ae kl" href="https://github.com/jcubic/jquery.terminal/wiki/Invoking-Commands-and-terminal-methods-from-Server" rel="noopener ugc nofollow" target="_blank">从服务器</a>调用命令和终端方法。</li><li id="5e79" class="mn mo iq jp b jq mw ju mx jy my kc mz kg na kk ms mt mu mv bi translated"><a class="ae kl" href="https://github.com/jcubic/jquery.terminal/wiki/Getting-Started#updating-lines" rel="noopener ugc nofollow" target="_blank">更新行</a>。</li><li id="0854" class="mn mo iq jp b jq mw ju mx jy my kc mz kg na kk ms mt mu mv bi translated">在URL哈希中保存状态并执行保存的命令。参见<a class="ae kl" href="https://terminal.jcubic.pl/404" rel="noopener ugc nofollow" target="_blank">库404错误页面</a>上的<strong class="jp ir">记录开始</strong>命令。</li></ul><p id="f251" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您还可以在<a class="ae kl" href="https://terminal.jcubic.pl/examples.php" rel="noopener ugc nofollow" target="_blank">示例页面</a>中查看使用该库的创意示例和网站或单个网页的大列表。这包括例如动画或一个<a class="ae kl" href="https://terminal.jcubic.pl/examples.php#404" rel="noopener ugc nofollow" target="_blank"> 404页面</a>(如上所述)给出你可以探索的命令(像维基百科文章或行话文件:也称为黑客字典，以印刷形式，或黑客会说死树版本)。404错误页面还有一个<a class="ae kl" href="https://terminal.jcubic.pl/404#[[0,1,%22chat%22]]" rel="noopener ugc nofollow" target="_blank">聊天</a>和一些文字游戏。</p><p id="5e29" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要了解更多信息，这篇文章中没有涉及，请查看<a class="ae kl" href="https://github.com/jcubic/jquery.terminal/wiki/Getting-Started" rel="noopener ugc nofollow" target="_blank">入门指南</a>和<a class="ae kl" href="https://github.com/jcubic/jquery.terminal/wiki/Advanced-jQuery-Terminal-Tutorial" rel="noopener ugc nofollow" target="_blank">高级教程</a>中的更多高级内容。</p><p id="0672" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，我想给你们看一个演示，给你们一个复古外观的控制台，就像电脑诞生之初的老式CRT显示器。你可以把它作为一个复古终端网站的基础。</p><figure class="lp lq lr ls gt me gh gi paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="gh gi nb"><img src="../Images/cc2587202d450c91592a03705978cda0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q8tjcvnze0ZMSPUzR-5Z1A.png"/></div></div></figure><p id="c9c1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可以在这个<a class="ae kl" href="https://codepen.io/jcubic/pen/BwBYOZ" rel="noopener ugc nofollow" target="_blank">codden演示</a>中找到代码。你也可以在窗口中创建终端，它不需要全屏。</p><h1 id="f429" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">盖曼编程语言</h1><p id="e7e7" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">当我在一个付费项目中工作时，我想出了一种由JSON文件驱动的引擎。这是一种互动游戏或非常差的文本冒险游戏。我已经问过我为其创建这个项目的人，我是否可以发布这个游戏，以便其他人可以使用它。非常酷。后来我想到了更好的东西。我自己的编程语言，编译成JavaScript。该项目是在测试版本，我仍然需要在操场和文档工作。你可以去看看。下面是<a class="ae kl" href="https://github.com/jcubic/gaiman" rel="noopener ugc nofollow" target="_blank">盖曼的GitHub回购</a>。如果你想创建一个有用户交互的复杂项目，用Gaiman可能更容易，因为它简化了事情。JavaScript中的相同代码会复杂得多。</p><h1 id="becc" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">有偿支持</h1><p id="3331" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">jQuery终端是开源的，但是如果你自己创建一个终端网站有问题，我也会给<a class="ae kl" href="https://support.jcubic.pl/" rel="noopener ugc nofollow" target="_blank">付费支持</a>。如果你有一个代码的问题，你将只支付如果修复需要超过15分钟我的时间。付费支持的原因是为你写完整的代码，可能需要一个多小时。</p><h1 id="3c88" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">你能帮什么忙？</h1><p id="d99c" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">如果你读到这里，你可以通过填写<a class="ae kl" href="https://forms.gle/xdnKy7aMmQYAPBKf8" rel="noopener ugc nofollow" target="_blank">这个非常短的调查</a>来帮助这个开源项目。</p><h1 id="0136" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">结论</h1><p id="0c2c" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">如果您想为任何可以在web浏览器中访问的网站创建一个终端模拟器，那么jQuery终端模拟器是一个非常好的JavaScript库。它让你的网站设计看起来像一个真正的终端。你甚至可以用一点CSS自定义输出网站的颜色。如果你只想要基本的东西，API很简单，但是它非常大，并且允许很大的灵活性。您不应该担心它使用jQuery作为基本库。之所以用jQuery创建它，是因为它是一个相当老的项目(但它仍然被积极地维护着)。由于使用了jQuery，这个web终端库比用普通JavaScript编写的要小得多。</p><p id="9877" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用jQuery终端，你可以很容易地创建一个看起来像终端的好看的网站，一个例子可以是一份简历，一个文件夹，或者一个在网站上提供类似终端输入的互动游戏。您可以用JavaScript创建一个非常高级的终端应用程序，只需看看例子，它们将为您的下一个超级酷的类似终端的应用程序提供许多想法。</p><p id="d6be" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你喜欢这个你可以在Twitter上关注我:<a class="ae kl" href="https://twitter.com/jcubic" rel="noopener ugc nofollow" target="_blank"> @jcubic </a>你也可以查看我的<a class="ae kl" href="https://jakub.jankiewicz.org/" rel="noopener ugc nofollow" target="_blank">主页</a>。</p></div></div>    
</body>
</html>