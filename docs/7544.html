<html>
<head>
<title>Flutter Best Practices — Part 5</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">颤振最佳实践—第5部分</h1>
<blockquote>原文：<a href="https://itnext.io/flutter-best-practices-part-5-44feacca6264?source=collection_archive---------0-----------------------#2022-10-30">https://itnext.io/flutter-best-practices-part-5-44feacca6264?source=collection_archive---------0-----------------------#2022-10-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="f3b0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里是另一个10个颤振最佳实践的列表</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/832f674dc35ea44d2bd815af16322cc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tNG1_jr5J4hhPy872ZZrbA.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">颤振最佳实践</figcaption></figure><h1 id="dabf" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">看视频家教</h1><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="lz ma l"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">颤振最佳实践</figcaption></figure><h1 id="b9b9" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">不要显式初始化变量<code class="fe mb mc md me b">null</code></h1><p id="aed0" class="pw-post-body-paragraph jn jo iq jp b jq mf js jt ju mg jw jx jy mh ka kb kc mi ke kf kg mj ki kj kk ij bi translated">在Dart中，当没有指定变量的值时，该变量会自动初始化为null，因此添加null是不必要的和多余的。</p><pre class="km kn ko kp gt mk me ml mm aw mn bi"><span id="d25e" class="mo lc iq me b gy mp mq l mr ms">// Don't<br/>int _val = null;<br/><br/>// Do<br/>int? _val;</span></pre><h1 id="178f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用表达式函数体</h1><p id="f21d" class="pw-post-body-paragraph jn jo iq jp b jq mf js jt ju mg jw jx jy mh ka kb kc mi ke kf kg mj ki kj kk ij bi translated">对于只包含一个表达式的函数，可以使用表达式函数。= &gt;(箭头)符号用于表达式函数。</p><pre class="km kn ko kp gt mk me ml mm aw mn bi"><span id="c98d" class="mo lc iq me b gy mp mq l mr ms">// Don't<br/>get name {<br/>  return '$firstName $lastName';<br/>}</span><span id="8555" class="mo lc iq me b gy mt mq l mr ms">Widget getLoading() {<br/>  return CircularProgressIndicator(<br/>    valueColor: AlwaysStoppedAnimation&lt;Color&gt;(Colors.blue),<br/>  );<br/>}</span><span id="ce09" class="mo lc iq me b gy mt mq l mr ms">// Do<br/>get name =&gt; '$firstName $lastName';</span><span id="5210" class="mo lc iq me b gy mt mq l mr ms">Widget getLoading() =&gt; CircularProgressIndicator(<br/>      valueColor: AlwaysStoppedAnimation&lt;Color&gt;(Colors.blue),<br/>);</span></pre><h1 id="e67d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用级联运算符</h1><p id="d863" class="pw-post-body-paragraph jn jo iq jp b jq mf js jt ju mg jw jx jy mh ka kb kc mi ke kf kg mj ki kj kk ij bi translated">如果我们想在同一个对象上执行一系列操作，那么我们应该使用级联(..)运算符。</p><pre class="km kn ko kp gt mk me ml mm aw mn bi"><span id="feaa" class="mo lc iq me b gy mp mq l mr ms">// Don't<br/>var path = Path();<br/>path.lineTo(0, size.height);<br/>path.lineTo(size.width, size.height);<br/>path.lineTo(size.width, 0);<br/>path.close();  <br/><br/><br/>// Do<br/>var path = Path()<br/>..lineTo(0, size.height)<br/>..lineTo(size.width, size.height)<br/>..lineTo(size.width, 0)<br/>..close();</span></pre><h1 id="43ea" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用跨页收藏</h1><p id="e9ec" class="pw-post-body-paragraph jn jo iq jp b jq mf js jt ju mg jw jx jy mh ka kb kc mi ke kf kg mj ki kj kk ij bi translated">当现有项已经存储在另一个集合中时，分散集合语法会导致代码更简单。</p><pre class="km kn ko kp gt mk me ml mm aw mn bi"><span id="5828" class="mo lc iq me b gy mp mq l mr ms">// Don't<br/>var y = [4,5,6];<br/>var x = [1,2];<br/>x.addAll(y);<br/><br/><br/>// Do<br/>var y = [4,5,6];<br/>var x = [1,2,...y]; // 1,2,4,5,6</span></pre><h1 id="9eb9" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用文本初始化可增长集合。</h1><pre class="km kn ko kp gt mk me ml mm aw mn bi"><span id="e060" class="mo lc iq me b gy mp mq l mr ms">// Good<br/>var points = [];<br/>var addresses = {};<br/><br/>// Bad<br/>var points = List();<br/>var addresses = Map();<br/><br/><br/>// With type argument<br/><br/>// Good<br/>var points = &lt;Point&gt;[];<br/>var addresses = &lt;String, Address&gt;{};<br/><br/>// Bad<br/>var points = List&lt;Point&gt;();<br/>var addresses = Map&lt;String, Address&gt;();</span></pre><h1 id="399c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">在单独的文件中使用颜色</h1><p id="bab9" class="pw-post-body-paragraph jn jo iq jp b jq mf js jt ju mg jw jx jy mh ka kb kc mi ke kf kg mj ki kj kk ij bi translated">尝试在应用程序的单个类中包含所有颜色，如果您不使用本地化，也可以使用字符串，这样无论何时您想要添加本地化，都可以在一个地方找到所有字符串。</p><pre class="km kn ko kp gt mk me ml mm aw mn bi"><span id="83b6" class="mo lc iq me b gy mp mq l mr ms">class AppColor {<br/>  static const Color red = Color(0xFFFF0000);<br/>  static const Color green = Color(0xFF4CAF50);<br/>  static const Color errorRed = Color(0xFFFF6E6E);<br/>}</span></pre><h1 id="0398" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用Dart代码指标</h1><p id="ee39" class="pw-post-body-paragraph jn jo iq jp b jq mf js jt ju mg jw jx jy mh ka kb kc mi ke kf kg mj ki kj kk ij bi translated">Flutter代码结构的最佳实践之一是使用Dart代码指标。这是提高整体颤振app质量的理想方法。DCM (Dart Code Metrics)是一个静态代码分析工具，帮助开发人员监控和改进整体的Flutter代码质量。开发人员可以查看的各种指标包括许多参数、可执行代码行等等。在<a class="ae mu" href="https://dartcodemetrics.dev/" rel="noopener ugc nofollow" target="_blank"> Dart代码度量官方文档</a>中提到的一些<strong class="jp ir">颤振最佳实践</strong>是:</p><ul class=""><li id="1518" class="mv mw iq jp b jq jr ju jv jy mx kc my kg mz kk na nb nc nd bi translated"><em class="ne">避免使用Border.all构造函数</em></li><li id="26b1" class="mv mw iq jp b jq nf ju ng jy nh kc ni kg nj kk na nb nc nd bi translated"><em class="ne">避免不必要的</em> <code class="fe mb mc md me b"><em class="ne">setState()</em></code></li><li id="d2f7" class="mv mw iq jp b jq nf ju ng jy nh kc ni kg nj kk na nb nc nd bi translated"><em class="ne">避免返回小部件</em></li><li id="aeb7" class="mv mw iq jp b jq nf ju ng jy nh kc ni kg nj kk na nb nc nd bi translated"><em class="ne">优先提取回调</em></li><li id="6af6" class="mv mw iq jp b jq nf ju ng jy nh kc ni kg nj kk na nb nc nd bi translated"><em class="ne">更喜欢每个文件一个小部件</em></li><li id="a86b" class="mv mw iq jp b jq nf ju ng jy nh kc ni kg nj kk na nb nc nd bi translated"><em class="ne">首选恒定边界半径</em></li></ul><h1 id="ec2c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用Fittedbox小部件使Flutter布局具有响应性</h1><p id="3b81" class="pw-post-body-paragraph jn jo iq jp b jq mf js jt ju mg jw jx jy mh ka kb kc mi ke kf kg mj ki kj kk ij bi translated">为了在Flutter中实现响应式设计，我们可以利用FittedBox小部件。FittedBox是一个Flutter窗口小部件，它限制子窗口小部件在超过一定限制后增长。它根据可用的大小重新调整子组件的大小。例如，我们创建一个容器，用户输入的文本将显示在其中，如果用户输入一个很长的文本字符串，容器将超出其允许的大小。但是，如果我们用FittedBox包装容器，它将根据容器的可用大小来适应文本。如果文本超过了使用FittedBox设置的容器大小，它会缩小文本大小以适应容器。</p><h1 id="6d66" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">颤振安全最佳实践</h1><p id="2058" class="pw-post-body-paragraph jn jo iq jp b jq mf js jt ju mg jw jx jy mh ka kb kc mi ke kf kg mj ki kj kk ij bi translated">安全性是任何移动应用不可或缺的一部分，尤其是在这个移动优先的技术时代。为了让许多应用程序正常运行，它们需要用户的许多设备权限以及关于他们的财务、偏好和其他因素的敏感信息。开发人员有责任确保应用程序足够安全，以保护这些信息。Flutter提供了出色的安全措施，以下是您可以使用的最佳Flutter安全实践:</p><h2 id="4674" class="mo lc iq bd ld nk nl dn lh nm nn dp ll jy no np lp kc nq nr lt kg ns nt lx nu bi translated">a.代码混淆</h2><p id="3840" class="pw-post-body-paragraph jn jo iq jp b jq mf js jt ju mg jw jx jy mh ka kb kc mi ke kf kg mj ki kj kk ij bi translated">代码混淆是一种调整应用程序二进制文件的方法，使人类很难理解它。这样做有助于保护您的应用程序免受逆向工程。这有助于保证API键、函数名、类和其他重要字符串的安全。您可以通过代码混淆在编译的Dart代码中隐藏这些细节，为试图对您的应用程序进行逆向工程的攻击设置障碍。</p><p id="fc6e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">如何在Flutter中混淆代码？</strong></p><p id="2d61" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">用<code class="fe mb mc md me b">--split-debug-info</code>标志构建<strong class="jp ir"> </strong> <code class="fe mb mc md me b"><strong class="jp ir">--obfuscate</strong></code> <strong class="jp ir"> </strong>标志的发布版本。</p><p id="00e8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这样做会看起来像这样:</p><blockquote class="nv nw nx"><p id="b268" class="jn jo ne jp b jq jr js jt ju jv jw jx ny jz ka kb nz kd ke kf oa kh ki kj kk ij bi translated"><em class="iq">flutter build apk—obfuscate—split-debug-info =/&lt;项目名称&gt; / &lt;目录&gt; </em></p></blockquote><h2 id="a5f2" class="mo lc iq bd ld nk nl dn lh nm nn dp ll jy no np lp kc nq nr lt kg ns nt lx nu bi translated">b.防止背景快照</h2><p id="a582" class="pw-post-body-paragraph jn jo iq jp b jq mf js jt ju mg jw jx jy mh ka kb kc mi ke kf kg mj ki kj kk ij bi translated">一般来说，当你的应用在后台运行时，它会自动在任务切换器或多任务屏幕中显示你的应用的最后状态。当你想在不同的应用程序上查看你最近的活动时，这很有用；然而，在某些时候，你不希望在任务切换中显示屏幕信息。例如，你不希望你的银行账户信息显示在你的应用程序的背景屏幕上。您可以使用<a class="ae mu" href="https://pub.dev/packages/secure_application" rel="noopener ugc nofollow" target="_blank">secure _ application</a>Flutter包来保护您的Flutter应用程序免受此类问题的影响。</p><h1 id="1d6e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">如果代码块中没有使用该值，请使用_(下划线)。</h1><pre class="km kn ko kp gt mk me ml mm aw mn bi"><span id="5a06" class="mo lc iq me b gy mp mq l mr ms">//Do<br/>someFuture.then((_) =&gt; someFunc());</span><span id="c7d2" class="mo lc iq me b gy mt mq l mr ms">//Do not<br/>someFuture.then((DATA_TYPE VARIABLE) =&gt; someFunc());</span></pre><h1 id="53d4" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">前几集</h1><div class="ob oc gp gr od oe"><a rel="noopener  ugc nofollow" target="_blank" href="/flutter-best-practices-part-1-e89467ea4823"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd ir gy z fp oj fr fs ok fu fw ip bi translated">颤振—最佳实践—第1部分</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">这是颤振最佳实践的第一部分…</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">itnext.io</p></div></div><div class="on l"><div class="oo l op oq or on os kv oe"/></div></div></a></div><div class="ob oc gp gr od oe"><a rel="noopener  ugc nofollow" target="_blank" href="/flutter-best-practices-part-2-e9e5c79ccb16"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd ir gy z fp oj fr fs ok fu fw ip bi translated">颤振最佳实践—第2部分</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">让我们开始…</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">itnext.io</p></div></div><div class="on l"><div class="ot l op oq or on os kv oe"/></div></div></a></div><div class="ob oc gp gr od oe"><a rel="noopener  ugc nofollow" target="_blank" href="/flutter-best-practices-part-3-747f1bfaec6b"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd ir gy z fp oj fr fs ok fu fw ip bi translated">颤振最佳实践—第3部分</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">你可以在下面找到这个系列的前两部分</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">itnext.io</p></div></div><div class="on l"><div class="ou l op oq or on os kv oe"/></div></div></a></div><div class="ob oc gp gr od oe"><a rel="noopener  ugc nofollow" target="_blank" href="/flutter-best-practices-part-4-709e7bceabf"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd ir gy z fp oj fr fs ok fu fw ip bi translated">颤振最佳实践—第4部分</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">以下是成为专业flutter开发者的5个最佳实践</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">itnext.io</p></div></div><div class="on l"><div class="ov l op oq or on os kv oe"/></div></div></a></div></div><div class="ab cl ow ox hu oy" role="separator"><span class="oz bw bk pa pb pc"/><span class="oz bw bk pa pb pc"/><span class="oz bw bk pa pb"/></div><div class="ij ik il im in"><p id="65a6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">希望你喜欢这篇文章。请在评论中让我知道。</p><p id="5c7d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你觉得有用，请鼓掌。</p><p id="2e1b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">感谢阅读。</p><p id="45f2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae mu" href="https://coderzheaven.com/" rel="noopener ugc nofollow" target="_blank">更多教程</a></p><p id="1d65" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae mu" href="https://www.youtube.com/c/MobileProgrammer" rel="noopener ugc nofollow" target="_blank">视频教程</a></p></div></div>    
</body>
</html>