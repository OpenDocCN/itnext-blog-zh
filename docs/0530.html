<html>
<head>
<title>How to try the JavaScript Pipeline Operator Today</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">今天如何尝试JavaScript管道操作符</h1>
<blockquote>原文：<a href="https://itnext.io/how-to-try-the-javascript-pipeline-operator-today-e3f75eb12cf1?source=collection_archive---------3-----------------------#2018-03-26">https://itnext.io/how-to-try-the-javascript-pipeline-operator-today-e3f75eb12cf1?source=collection_archive---------3-----------------------#2018-03-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="88ab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">是啊！是真的。JavaScript可能会有自己的管道操作符！</p><p id="83e3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">“可能吗？”管道操作员目前处于<a class="ae kl" href="https://tc39.github.io/process-document/" rel="noopener ugc nofollow" target="_blank"> TC39流程</a>的第一阶段。这意味着这只是一个建议，还不确定它是否会成为语言。当然，这不会阻止热情的JavaScript开发人员尝试它。</p><p id="22b4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">被提议的管道操作符类似于在诸如<a class="ae kl" href="http://fsharp.org/" rel="noopener ugc nofollow" target="_blank"> F# </a>、<a class="ae kl" href="https://elixir-lang.org/" rel="noopener ugc nofollow" target="_blank">elixin</a>和<a class="ae kl" href="http://elm-lang.org/" rel="noopener ugc nofollow" target="_blank"> Elm </a>等语言中可以找到的。如下所示的语法符合上面列出的语言。</p><h1 id="1b0a" class="kq kr iq bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">它是做什么的？</h1><p id="c3e5" class="pw-post-body-paragraph jn jo iq jp b jq lo js jt ju lp jw jx jy lq ka kb kc lr ke kf kg ls ki kj kk ij bi translated">管道操作符将作为一种以可读方式将函数管道化的方式。让我们来看看下面的片段:</p><pre class="lt lu lv lw gt lx kp ly lz aw ma bi"><span id="35e5" class="mb kr iq kp b gy mc md l me mf">const double = (n) =&gt; n * 2;<br/>const increment = (n) =&gt; n + 1;</span><span id="a294" class="mb kr iq kp b gy mg md l me mf">// without pipeline operator<br/>double(increment(5)); // 12</span><span id="b0a6" class="mb kr iq kp b gy mg md l me mf">// with pipeline operator<br/>const result = 5 <br/>  |&gt; increment <br/>  |&gt; double</span><span id="4701" class="mb kr iq kp b gy mg md l me mf">result // 12</span></pre><p id="5394" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在没有管道操作符的示例<em class="mh">中，我们可以看到，为了得到正确的结果，必须在<code class="fe km kn ko kp b">double</code>函数中调用<code class="fe km kn ko kp b">increment</code>函数。在示例<em class="mh">中，使用管道操作符</em>，函数可以按照它们对参数进行操作的顺序放置。</em></p><h1 id="9fee" class="kq kr iq bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">你自己试试</h1><p id="b5e2" class="pw-post-body-paragraph jn jo iq jp b jq lo js jt ju lp jw jx jy lq ka kb kc lr ke kf kg ls ki kj kk ij bi translated">让我们从我们需要的东西开始:</p><ul class=""><li id="01aa" class="mi mj iq jp b jq jr ju jv jy mk kc ml kg mm kk mn mo mp mq bi translated">节点/NPM - <a class="ae kl" href="https://nodejs.org" rel="noopener ugc nofollow" target="_blank">获取节点JS </a></li><li id="64c4" class="mi mj iq jp b jq mr ju ms jy mt kc mu kg mv kk mn mo mp mq bi translated">你最喜欢的代码编辑器——推荐:<a class="ae kl" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> Visual Studio代码</a></li><li id="4cff" class="mi mj iq jp b jq mr ju ms jy mt kc mu kg mv kk mn mo mp mq bi translated">末端的</li></ul><h2 id="6c55" class="mb kr iq bd ks mw mx dn kw my mz dp la jy na nb le kc nc nd li kg ne nf lm ng bi translated">到环境设置！</h2><p id="6607" class="pw-post-body-paragraph jn jo iq jp b jq lo js jt ju lp jw jx jy lq ka kb kc lr ke kf kg ls ki kj kk ij bi translated">假设你已经安装了Node和你喜欢的编辑器。我们可以从在您的计算机上创建一个名为<code class="fe km kn ko kp b">pipeline-operator</code>的目录开始。在这个目录中，我们将创建一个名为<code class="fe km kn ko kp b">pipe.js</code>的文件。</p><p id="4ed6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们将需要使用<a class="ae kl" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank"> NPM </a>(节点的包管理器)安装几个包，它可以通过Node获得。</p><p id="97d5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用您的终端，导航到您刚刚创建的目录。一旦到了那里，我们将需要执行一些命令。让我们从以下内容开始:</p><pre class="lt lu lv lw gt lx kp ly lz aw ma bi"><span id="4891" class="mb kr iq kp b gy mc md l me mf">$ npm init -y</span></pre><p id="dd70" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将创建一个<code class="fe km kn ko kp b">package.json</code>文件。这个文件包含了项目及其依赖项的相关信息。你可以在这里了解更多关于这个文件的用途<a class="ae kl" href="https://docs.npmjs.com/files/package.json" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="bfd1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在让我们添加使用管道操作符所需的包。</p><pre class="lt lu lv lw gt lx kp ly lz aw ma bi"><span id="5692" class="mb kr iq kp b gy mc md l me mf">$ npm install --save @babel/cli @babel/core @babel/preset-stage-1</span></pre><p id="b8be" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果一切安装正确，您的<code class="fe km kn ko kp b">package.json</code>应该有一个新的<code class="fe km kn ko kp b">dependencies</code>属性，如下所示:</p><figure class="lt lu lv lw gt ni gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi nh"><img src="../Images/e1ed7f65fcbfe380a6f3d4eb157dc26b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l84MBTjqG_jI7yKS0K91mg.png"/></div></div></figure><p id="0924" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里我们可以看到为了编译JavaScript代码而安装的NPM包。“编译？”因为管道操作符目前还不是JavaScript语言的一部分。我们需要将代码编译成Node能够理解的内容。本质上，我们将使用<a class="ae kl" href="https://babeljs.io/" rel="noopener ugc nofollow" target="_blank"> Babel </a>将我们的代码翻译成Node可以理解和执行的东西。</p><p id="104b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了让Babel知道如何正确编译代码，我们需要给它一些帮助。我们需要创建另一个名为<code class="fe km kn ko kp b">.babelrc</code>的文件，并添加以下几行:</p><pre class="lt lu lv lw gt lx kp ly lz aw ma bi"><span id="b794" class="mb kr iq kp b gy mc md l me mf">{<br/>  "presets": ["<a class="ae kl" href="http://twitter.com/babel/preset-stage-1" rel="noopener ugc nofollow" target="_blank">@babel/preset-stage-1</a>"]<br/>}</span></pre><p id="6c26" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在Babel将知道如何将管道操作符翻译成可以由Node运行的代码。</p><h2 id="5d37" class="mb kr iq bd ks mw mx dn kw my mz dp la jy na nb le kc nc nd li kg ne nf lm ng bi translated">让管道操作员投入工作</h2><p id="9172" class="pw-post-body-paragraph jn jo iq jp b jq lo js jt ju lp jw jx jy lq ka kb kc lr ke kf kg ls ki kj kk ij bi translated">在我们之前制作的<code class="fe km kn ko kp b">pipe.js</code>文件中。键入以下内容:</p><pre class="lt lu lv lw gt lx kp ly lz aw ma bi"><span id="a261" class="mb kr iq kp b gy mc md l me mf">const capitalize = str =&gt; str[0].toUpperCase() + str.substring(1);<br/>const splitOnSpaces = str =&gt; str.trim().split(' ');<br/>const getLastOfArr <strong class="kp ir">=</strong> arr <strong class="kp ir">=&gt;</strong> arr.pop();</span><span id="935d" class="mb kr iq kp b gy mg md l me mf">const lastName = 'albert einstein'<br/>  |&gt; splitOnSpaces<br/>  |&gt; getLastOfArr<br/>  |&gt; capitalize</span><span id="f695" class="mb kr iq kp b gy mg md l me mf">console.log(lastName); // Einstein</span></pre><p id="76f9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了让我们运行下面的代码，我们需要以一种特殊的方式使用Babel。我们需要将以下内容添加到我们的<code class="fe km kn ko kp b">package.json</code>文件<code class="fe km kn ko kp b">scripts</code>属性中。</p><pre class="lt lu lv lw gt lx kp ly lz aw ma bi"><span id="fb9c" class="mb kr iq kp b gy mc md l me mf">"scripts": {<br/>  "start": "babel pipe.js --out-file output.js &amp;&amp; node output.js"<br/>},</span></pre><p id="c709" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们可以简单地在我们的<code class="fe km kn ko kp b">pipeline-operator</code>目录的根目录中执行下面的代码。使用您的终端:</p><pre class="lt lu lv lw gt lx kp ly lz aw ma bi"><span id="a7d1" class="mb kr iq kp b gy mc md l me mf">$ npm start</span></pre><p id="0c28" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你在终端窗口看到<code class="fe km kn ko kp b">Einstein</code>的输出，你就知道它工作了。</p><figure class="lt lu lv lw gt ni gh gi paragraph-image"><div class="gh gi np"><img src="../Images/d1b510f93cde9e840adddede54cc25d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*EMIXxbqasQdj9UCEwcki0g.jpeg"/></div></figure><h1 id="36ec" class="kq kr iq bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">现在怎么办？</h1><p id="a248" class="pw-post-body-paragraph jn jo iq jp b jq lo js jt ju lp jw jx jy lq ka kb kc lr ke kf kg ls ki kj kk ij bi translated">实验！创造你自己的例子并分享它们。试着想象一下管道操作员会如何清理您当前项目中的一些代码。</p><p id="43a1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您想帮助支持管道运营商成为JavaScript语言的一部分，或者如果您只是希望看到更多潜在的用例。可以访问<a class="ae kl" href="https://github.com/tc39/proposal-pipeline-operator" rel="noopener ugc nofollow" target="_blank"> TC39 GitHub提案页面</a>。</p><p id="ed29" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">不想自己设置这个项目？没问题。你可以在这里找到准备就绪的回购<a class="ae kl" href="https://github.com/James-H33/PipelineOperator" rel="noopener ugc nofollow" target="_blank"/>！</p><p id="a3b9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">欢迎反馈，并随时使用下面的链接进行连接。</p><p id="4fc5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kl" href="https://www.linkedin.com/in/james-hall-treworgy-064b5a112" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae kl" href="https://github.com/James-H33" rel="noopener ugc nofollow" target="_blank">GitHub</a></p></div></div>    
</body>
</html>