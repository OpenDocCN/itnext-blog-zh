<html>
<head>
<title>Build Web APIs with Aqueduct #2 (video series)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Aqueduct #2构建Web APIs(视频系列)</h1>
<blockquote>原文：<a href="https://itnext.io/build-web-apis-with-aqueduct-2-video-series-830883070960?source=collection_archive---------1-----------------------#2018-12-04">https://itnext.io/build-web-apis-with-aqueduct-2-video-series-830883070960?source=collection_archive---------1-----------------------#2018-12-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8187" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">了解如何使用路由器和控制器来处理请求</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f90f1a76d591d338362e2ac5586728f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1AnmukLXx4oSNmvenoYy3A.png"/></div></div></figure><p id="3481" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在本文中，我们将更详细地研究路由，构建一个能够执行CRUD ( <em class="ln">创建、读取、更新、删除</em>)操作的端点。我们将利用<code class="fe lo lp lq lr b">Router</code>和<code class="fe lo lp lq lr b">Controller</code>类来处理对端点的请求。</p><p id="5858" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这是该系列的第二个视频:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="6160" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">→ <a class="ae lu" href="http://bit.ly/aqueduct-tutorial-2" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir">在YouTube上观看</strong> </a></p></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><h1 id="eaf9" class="mc md iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">什么是路由器？</h1><p id="bfe4" class="pw-post-body-paragraph kr ks iq kt b ku mu jr kw kx mv ju kz la mw lc ld le mx lg lh li my lk ll lm ij bi translated">路由器通过路径捕获请求，并将其转发给使用<code class="fe lo lp lq lr b">link</code>方法进行解析的<code class="fe lo lp lq lr b">Controller</code>或实现中间件功能来处理请求的<code class="fe lo lp lq lr b">linkFunction</code>。</p><p id="40ea" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">它看起来是这样的:</p><pre class="kg kh ki kj gt mz lr na nb aw nc bi"><span id="0b73" class="nd md iq lr b gy ne nf l ng nh">final <strong class="lr ir">router</strong> = <strong class="lr ir">Router</strong>();</span><span id="3763" class="nd md iq lr b gy ni nf l ng nh">router.<strong class="lr ir">route</strong>('/path-1').<strong class="lr ir">link</strong>(() =&gt; Path1Controller());<br/>router.<strong class="lr ir">route</strong>('/path-2').<strong class="lr ir">linkFunction</strong>((Request req) async {<br/>  return Response.ok('Hello, World!');<br/>});</span></pre><p id="292d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">调用<code class="fe lo lp lq lr b">route()</code>时，路径作为参数传递，也可以接受路由参数:</p><pre class="kg kh ki kj gt mz lr na nb aw nc bi"><span id="bf66" class="nd md iq lr b gy ne nf l ng nh">router.<strong class="lr ir">route</strong>('/path-1/<strong class="lr ir">:name</strong>').link(...);<br/>router.<strong class="lr ir">route</strong>('/path-2/<strong class="lr ir">[:name]</strong>').linkFunction(...); <strong class="lr ir">// wrapping in square brackets means its optional</strong></span></pre><p id="72fd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因此，在这个代码片段中，在“<strong class="kt ir"> /path-1 </strong>”之后的路径段中传递的任何内容都被捕获到“name”路径变量中:</p><pre class="kg kh ki kj gt mz lr na nb aw nc bi"><span id="4256" class="nd md iq lr b gy ne nf l ng nh">router.route('/path-1/:name').linkFunction((request) async {<br/>  final <strong class="lr ir">name</strong> = <strong class="lr ir">request.path.variables['name']</strong>;<br/>  return Response.ok('Hello, <strong class="lr ir">$name</strong>');<br/>});</span></pre><p id="0987" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">看这个<a class="ae lu" href="http://bit.ly/aqueduct-tutorial-2" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir">视频</strong> </a> <strong class="kt ir">中路由器和控制器是如何工作的。</strong></p><p id="5cd3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">→ <a class="ae lu" href="https://github.com/graphicbeacon/aqueduct-tutorial/tree/part-2" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir">获取源代码</strong> </a></p></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><p id="639d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">订阅</strong> <a class="ae lu" href="http://bit.ly/fullstackdart" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir">我的YouTube频道</strong> </a>获取更多涵盖Dart全栈web开发各个方面的视频。</p><p id="570e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">喜欢，分享</strong> <a class="ae lu" href="https://twitter.com/creativ_bracket" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir">关注我</strong> </a>😍有关Dart的更多内容。</p><h1 id="1592" class="mc md iq bd me mf nj mh mi mj nk ml mm jw nl jx mo jz nm ka mq kc nn kd ms mt bi translated">进一步阅读</h1><ul class=""><li id="eaf6" class="no np iq kt b ku mu kx mv la nq le nr li ns lm nt nu nv nw bi translated"><a class="ae lu" href="http://aqueduct.io/docs/http/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir">处理HTTP请求</strong>:概述</a></li><li id="e600" class="no np iq kt b ku nx kx ny la nz le oa li ob lm nt nu nv nw bi translated"><a class="ae lu" href="https://egghead.io/instructors/jermaine-oppong" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir">egghead . io上的免费飞镖截屏</strong> </a></li></ul></div></div>    
</body>
</html>