<html>
<head>
<title>Which property to see if a Query has results?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">哪个属性可以查看查询是否有结果？</h1>
<blockquote>原文：<a href="https://itnext.io/which-property-to-see-if-a-query-has-results-9c51139084b5?source=collection_archive---------0-----------------------#2018-08-19">https://itnext.io/which-property-to-see-if-a-query-has-results-9c51139084b5?source=collection_archive---------0-----------------------#2018-08-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="b579" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您想知道一个查询是否返回结果(假设我们有一个名为“GetCustomers”的查询)，可以使用三个主要检查:</p><ul class=""><li id="a062" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk kq kr ks kt bi translated">获取客户。List.Empty —如果检索到记录，则返回“真”或“假”</li><li id="cf05" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">获取客户。List.Length —返回由外部系统查询层返回的行数<em class="kz"/></li><li id="03c6" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">获取客户。Count —返回符合查询条件的<em class="kz">记录数</em></li></ul><p id="f66c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">注意这些区别！前两个不是直接对数据库中的数据进行操作，而是对查询系统从数据库返回的结果集进行操作。对于前两个问题，这给了我们三个主要的理解:</p><ol class=""><li id="6bde" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk la kr ks kt bi translated">在评估这些属性之前，从数据库中提取数据；如果还没有数据通过网络传输，那么当您评估这些属性时就会有了。如果您计划使用结果，这很好。如果不使用结果，优化器将为您要丢弃的字段选择NULL值，但是您仍然会遇到填充结果集以测试空性或其大小的性能问题。</li><li id="8baa" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk la kr ks kt bi translated">数据得到100%的检索，以评估这些属性。通常情况下，系统会使用光标一次检索几页数据，并且只检索需要的内容(比如当查询被绑定到ListRecords或TableRecords小部件时屏幕上实际显示的记录)。同样，我们还有另一个潜在的性能问题，因为系统将被迫从数据库中获取所有可能的记录来告诉您结果列表的长度，这可能是一个非常糟糕的性能问题。</li><li id="232f" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk la kr ks kt bi translated">因为结果基于结果集本身，所以结果集的属性会影响返回的数字。例如，如果查询的“马克思·瑞考德兹”属性为50，则获取Customers。List.Length永远不会超过50…即使数据库中有数千条记录与查询本身相匹配。因此，如果您试图获得DB中与查询匹配的记录的准确计数，您可能会使用错误的数字。</li></ol><p id="3f12" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所有这些都让它听起来像GetCustomers。伯爵是<em class="kz">永远是</em>最好的选择，但这并不完全正确。这使得系统运行查询时选择COUNT(*)，而不是records，这有其自身的考虑。我们什么时候使用每个？</p><p id="7c02" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">获取客户。列表长度</strong></p><ul class=""><li id="5c4e" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk kq kr ks kt bi translated">当您需要知道结果集的确切大小时使用(例如，您通过记录在结果集中的索引来访问记录，而不是。当前)。</li><li id="858a" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">您已经或者将要获得结果集中的所有记录。</li><li id="5a8b" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">仅在不需要知道数据库中匹配记录的确切数量时使用。</li></ul><p id="6599" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">获取客户。List.Empty </strong></p><ul class=""><li id="1211" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk kq kr ks kt bi translated">这在代码中比在列表中更具可读性。长度&gt; 0，列表。长度≥1，或列表。长度&lt;&gt; 0</li><li id="7064" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">如果您只需要测试记录的存在，不需要知道有多少记录，也不需要任何数据，那么使用查询的“马克思·瑞考德兹”设置为1 的这个<em class="kz">将是性能最好的测试。非常感谢蒂亚戈在评论中指出这一点！</em></li></ul><p id="6448" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">招徕顾客。计数</strong></p><ul class=""><li id="e057" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk kq kr ks kt bi translated">您需要获得数据库中符合标准的记录的准确数量</li><li id="384d" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">你只需要数字，你根本不需要任何数据。Count &gt; 0是比GetCustomers更有效的测试。列表。长度</li></ul><p id="d454" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">J.是</p></div></div>    
</body>
</html>