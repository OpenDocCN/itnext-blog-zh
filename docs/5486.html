<html>
<head>
<title>Support multiple themes in an Android app</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在一个Android应用程序中支持多个主题</h1>
<blockquote>原文：<a href="https://itnext.io/create-a-multi-themes-app-in-android-99fb95e3414b?source=collection_archive---------2-----------------------#2021-03-16">https://itnext.io/create-a-multi-themes-app-in-android-99fb95e3414b?source=collection_archive---------2-----------------------#2021-03-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/bf10c628b472cd5bf8d99bb76a99385d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iXsrYxhVQeuPwARKp88VqQ.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">多主题</figcaption></figure><p id="6c5a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">你对一个颜色的应用感到厌烦吗？</p><p id="f1cd" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">要不要建一个两种以上颜色模式的app？</p><p id="5ec4" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果是的话，那么你来对地方了。</p><p id="3682" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">多主题应用程序让你的用户最喜欢你的应用程序，因为他们可能不喜欢你选择的默认颜色，所以你给他们一个机会使用他们最喜欢的颜色。这是一个强大的功能。让我们知道如何应用它。</p><p id="5c04" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> 1-创建自定义调色板，让用户从:</strong>中选择颜色</p><p id="888b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">创建您的<strong class="ke ir"> color_palette.xml </strong>布局</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="edd0" class="lj lk iq lf b gy ll lm l ln lo">&lt;?xml version="1.0" encoding="utf-8"?&gt;<br/>&lt;LinearLayout xmlns:android="<a class="ae lp" href="http://schemas.android.com/apk/res/android" rel="noopener ugc nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>"<br/>    android:layout_width="wrap_content"<br/>    android:layout_height="wrap_content"<br/>    android:orientation="vertical"&gt;</span><span id="1dea" class="lj lk iq lf b gy lq lm l ln lo">  &lt;LinearLayout<br/>        android:layout_width="match_parent"<br/>        android:layout_height="wrap_content"<br/>        android:orientation="horizontal"&gt;</span><span id="e002" class="lj lk iq lf b gy lq lm l ln lo">            &lt;TextView<br/>            android:id="@+id/blueColor"<br/>            android:layout_width="50dp"<br/>            android:layout_height="50dp"<br/>            android:layout_margin="5dp"<br/>            android:background="#3F51B5"<br/>            android:textColor="#00000000"<br/>            android:gravity="center"<br/>            android:text="blue"/&gt;</span><span id="9d63" class="lj lk iq lf b gy lq lm l ln lo">           &lt;TextView<br/>            android:id="@+id/blackColor"<br/>            android:layout_width="50dp"<br/>            android:layout_height="50dp"<br/>            android:layout_margin="5dp"<br/>            android:background="#000"<br/>            android:textColor="#00000000"<br/>            android:gravity="center"<br/>            android:text="black"/&gt;</span><span id="b93a" class="lj lk iq lf b gy lq lm l ln lo">           &lt;TextView<br/>            android:id="@+id/redColor"<br/>            android:layout_width="50dp"<br/>            android:layout_height="50dp"<br/>            android:layout_margin="5dp"<br/>            android:background="#F10000"<br/>            android:textColor="#00000000"<br/>            android:gravity="center"<br/>            android:text="red"/&gt;</span><span id="c029" class="lj lk iq lf b gy lq lm l ln lo">           &lt;TextView<br/>            android:id="@+id/purpleColor"<br/>            android:layout_width="50dp"<br/>            android:layout_height="50dp"<br/>            android:layout_margin="5dp"<br/>            android:background="#79008E"<br/>            android:textColor="#00000000"<br/>            android:gravity="center"<br/>            android:text="purple"/&gt;<br/>    &lt;/LinearLayout&gt;</span><span id="5cd4" class="lj lk iq lf b gy lq lm l ln lo">    &lt;LinearLayout<br/>        android:layout_width="match_parent"<br/>        android:layout_height="wrap_content"<br/>        android:orientation="horizontal"&gt;</span><span id="b2b4" class="lj lk iq lf b gy lq lm l ln lo">           &lt;TextView<br/>            android:id="@+id/greenColor"<br/>            android:layout_width="50dp"<br/>            android:layout_height="50dp"<br/>            android:layout_margin="5dp"<br/>            android:background="#009688"<br/>            android:textColor="#00000000"<br/>            android:gravity="center"<br/>            android:text="green"/&gt;</span><span id="f84c" class="lj lk iq lf b gy lq lm l ln lo">            &lt;TextView<br/>            android:id="@+id/greyColor"<br/>            android:layout_width="50dp"<br/>            android:layout_height="50dp"<br/>            android:layout_margin="5dp"<br/>            android:background="#777777"<br/>            android:textColor="#00000000"<br/>            android:gravity="center"<br/>            android:text="grey"/&gt;</span><span id="8891" class="lj lk iq lf b gy lq lm l ln lo">           &lt;TextView<br/>            android:id="@+id/orangeColor"<br/>            android:layout_width="50dp"<br/>            android:layout_height="50dp"<br/>            android:layout_margin="5dp"<br/>            android:background="#FF5722"<br/>            android:textColor="#00000000"<br/>            android:gravity="center"<br/>            android:text="orange"/&gt;</span><span id="a880" class="lj lk iq lf b gy lq lm l ln lo">            &lt;TextView<br/>            android:id="@+id/pinkColor"<br/>            android:layout_width="50dp"<br/>            android:layout_height="50dp"<br/>            android:layout_margin="5dp"<br/>            android:background="#E91E63"<br/>            android:textColor="#00000000"<br/>            android:gravity="center"<br/>            android:text="pink"/&gt;<br/>    &lt;/LinearLayout&gt;<br/>&lt;/LinearLayout&gt;</span></pre><figure class="la lb lc ld gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lr"><img src="../Images/8856e4b18bb9ed4f6de541ed9ea365c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:806/format:webp/1*lR0zmSZFidKWg8trJmFVZg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">调色板</figcaption></figure><p id="bdfe" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> 2-在活动中创建一个你想要选择颜色的按钮:</strong></p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="203a" class="lj lk iq lf b gy ll lm l ln lo">&lt;Button<br/>    android:id="@+id/chooseColor"<br/>    android:layout_width="wrap_content"<br/>    android:layout_height="wrap_content"<br/>    android:onClick="chooseColor"<br/>    android:text="<a class="ae lp" href="http://twitter.com/string/choosecolor" rel="noopener ugc nofollow" target="_blank">@string/choosecolor</a>"<br/>    android:textColor="?colorAccent" /&gt;</span></pre><p id="9d0a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">使用按钮不是必须的。你可以在你的菜单或者任何你想要的视图中使用你的调色板。</p><p id="d88f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> 3-在<em class="ls"> styles.xml </em>文件中添加主题。</strong></p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="71e2" class="lj lk iq lf b gy ll lm l ln lo">&lt;resources xmlns:tools="<a class="ae lp" href="http://schemas.android.com/tools" rel="noopener ugc nofollow" target="_blank">http://schemas.android.com/tools</a>"&gt;<br/>    &lt;style name="AppTheme" parent="Theme.AppCompat.Light.DarkActionBar"&gt;<br/>        &lt;item name="colorPrimary"&gt;<a class="ae lp" href="http://twitter.com/color/colorPrimary" rel="noopener ugc nofollow" target="_blank">@color/colorPrimary</a>&lt;/item&gt;<br/>        &lt;item name="colorPrimaryDark"&gt;<a class="ae lp" href="http://twitter.com/color/colorPrimaryDark" rel="noopener ugc nofollow" target="_blank">@color/colorPrimaryDark</a>&lt;/item&gt;<br/>        &lt;item name="colorAccent"&gt;<a class="ae lp" href="http://twitter.com/color/colorAccent" rel="noopener ugc nofollow" target="_blank">@color/colorAccent</a>&lt;/item&gt;<br/>        &lt;item name="android:windowDrawsSystemBarBackgrounds" tools:targetApi="lollipop"&gt;true&lt;/item&gt;<br/>        &lt;item name="android:statusBarColor" tools:targetApi="lollipop"&gt;<a class="ae lp" href="http://twitter.com/android" rel="noopener ugc nofollow" target="_blank">@android</a>:color/darker_gray&lt;/item&gt;<br/>    &lt;/style&gt;</span><span id="921f" class="lj lk iq lf b gy lq lm l ln lo">&lt;style name="Theme1" parent="Theme.AppCompat.Light.DarkActionBar"&gt;<br/>        &lt;item name="colorPrimary"&gt;#212121&lt;/item&gt;<br/>        &lt;item name="colorPrimaryDark"&gt;#000000&lt;/item&gt;<br/>        &lt;item name="colorAccent"&gt;#30E57E&lt;/item&gt;<br/>    &lt;/style&gt;</span><span id="03a9" class="lj lk iq lf b gy lq lm l ln lo">&lt;style name="Theme2" parent="Theme.AppCompat.Light.DarkActionBar"&gt;<br/>        &lt;item name="colorPrimary"&gt;#F10000&lt;/item&gt;<br/>        &lt;item name="colorPrimaryDark"&gt;#6E0000&lt;/item&gt;<br/>        &lt;item name="colorAccent"&gt;#F10000&lt;/item&gt;<br/>    &lt;/style&gt;</span><span id="3c3c" class="lj lk iq lf b gy lq lm l ln lo">&lt;style name="Theme3" parent="Theme.AppCompat.Light.DarkActionBar"&gt;<br/>        &lt;item name="colorPrimary"&gt;#79008E&lt;/item&gt;<br/>        &lt;item name="colorPrimaryDark"&gt;#5C006C&lt;/item&gt;<br/>        &lt;item name="colorAccent"&gt;#79008E&lt;/item&gt;<br/>    &lt;/style&gt;</span><span id="7ce6" class="lj lk iq lf b gy lq lm l ln lo">&lt;style name="Theme4" parent="Theme.AppCompat.Light.DarkActionBar"&gt;<br/>        &lt;item name="colorPrimary"&gt;#009688&lt;/item&gt;<br/>        &lt;item name="colorPrimaryDark"&gt;#00655C&lt;/item&gt;<br/>        &lt;item name="colorAccent"&gt;#009688&lt;/item&gt;<br/>    &lt;/style&gt;</span><span id="ee3d" class="lj lk iq lf b gy lq lm l ln lo">&lt;style name="Theme5" parent="Theme.AppCompat.Light.DarkActionBar"&gt;<br/>        &lt;item name="colorPrimary"&gt;#777777&lt;/item&gt;<br/>        &lt;item name="colorPrimaryDark"&gt;#303030&lt;/item&gt;<br/>        &lt;item name="colorAccent"&gt;#777777&lt;/item&gt;<br/>    &lt;/style&gt;</span><span id="d622" class="lj lk iq lf b gy lq lm l ln lo">&lt;style name="Theme6" parent="Theme.AppCompat.Light.DarkActionBar"&gt;<br/>        &lt;item name="colorPrimary"&gt;#FF5722&lt;/item&gt;<br/>        &lt;item name="colorPrimaryDark"&gt;#D53300&lt;/item&gt;<br/>        &lt;item name="colorAccent"&gt;#FF784D&lt;/item&gt;<br/>    &lt;/style&gt;</span><span id="4893" class="lj lk iq lf b gy lq lm l ln lo">&lt;style name="Theme7" parent="Theme.AppCompat.Light.DarkActionBar"&gt;<br/>        &lt;item name="colorPrimary"&gt;#E91E63&lt;/item&gt;<br/>        &lt;item name="colorPrimaryDark"&gt;#C80145&lt;/item&gt;<br/>        &lt;item name="colorAccent"&gt;#FF3C7F&lt;/item&gt;<br/>    &lt;/style&gt;<br/>&lt;/resources&gt;</span></pre><p id="7db1" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> 4-创建自定义对话框并将其链接到您的调色板:</strong></p><p id="330c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我创建了一个接口，将我的封装在一个单独的类中。</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="5b8f" class="lj lk iq lf b gy ll lm l ln lo">interface ColorDialogCallback {<br/>    void onChosen(String chosenColor);<br/>}</span></pre><p id="a739" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们将在我们的<strong class="ke ir"> DialogManager </strong>类中填充这个接口</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="6835" class="lj lk iq lf b gy ll lm l ln lo">import android.app.Dialog;<br/>import android.content.Context;<br/>import android.view.View;<br/>import android.view.Window;<br/>import android.widget.TextView;</span><span id="2641" class="lj lk iq lf b gy lq lm l ln lo">public class DialogManager {</span><span id="9113" class="lj lk iq lf b gy lq lm l ln lo">public static void showCustomAlertDialog(Context context, final ColorDialogCallback callback) {<br/>        final Dialog dialog = new Dialog(context);<br/>        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);<br/>        dialog.setContentView(R.layout.color_pallete);</span><span id="da6e" class="lj lk iq lf b gy lq lm l ln lo">final TextView blueColor = dialog.findViewById(R.id.blueColor);<br/>        blueColor.setOnClickListener(new View.OnClickListener() {<br/>            <a class="ae lp" href="http://twitter.com/Override" rel="noopener ugc nofollow" target="_blank">@Override</a><br/>            public void onClick(View view) {<br/>                callback.onChosen(blueColor.getText().toString());<br/>                dialog.cancel();<br/>            }<br/>        });</span><span id="ba76" class="lj lk iq lf b gy lq lm l ln lo">final TextView blackColor = dialog.findViewById(R.id.blackColor);<br/>        blackColor.setOnClickListener(new View.OnClickListener() {<br/>            <a class="ae lp" href="http://twitter.com/Override" rel="noopener ugc nofollow" target="_blank">@Override</a><br/>            public void onClick(View view) {<br/>                callback.onChosen(blackColor.getText().toString());<br/>                dialog.cancel();<br/>            }<br/>        });</span><span id="400c" class="lj lk iq lf b gy lq lm l ln lo">final TextView redColor = dialog.findViewById(R.id.redColor);<br/>        redColor.setOnClickListener(new View.OnClickListener() {<br/>            <a class="ae lp" href="http://twitter.com/Override" rel="noopener ugc nofollow" target="_blank">@Override</a><br/>            public void onClick(View view) {<br/>                callback.onChosen(redColor.getText().toString());<br/>                dialog.cancel();<br/>            }<br/>        });</span><span id="2015" class="lj lk iq lf b gy lq lm l ln lo">final TextView purpleColor = dialog.findViewById(R.id.purpleColor);<br/>        purpleColor.setOnClickListener(new View.OnClickListener() {<br/>            <a class="ae lp" href="http://twitter.com/Override" rel="noopener ugc nofollow" target="_blank">@Override</a><br/>            public void onClick(View view) {<br/>                callback.onChosen(purpleColor.getText().toString());<br/>                dialog.cancel();<br/>            }<br/>        });</span><span id="5729" class="lj lk iq lf b gy lq lm l ln lo">final TextView greenColor = dialog.findViewById(R.id.greenColor);<br/>        greenColor.setOnClickListener(new View.OnClickListener() {<br/>            <a class="ae lp" href="http://twitter.com/Override" rel="noopener ugc nofollow" target="_blank">@Override</a><br/>            public void onClick(View view) {<br/>                callback.onChosen(greenColor.getText().toString());<br/>                dialog.cancel();<br/>            }<br/>        });</span><span id="d1d9" class="lj lk iq lf b gy lq lm l ln lo">final TextView greyColor = dialog.findViewById(R.id.greyColor);<br/>        greyColor.setOnClickListener(new View.OnClickListener() {<br/>            <a class="ae lp" href="http://twitter.com/Override" rel="noopener ugc nofollow" target="_blank">@Override</a><br/>            public void onClick(View view) {<br/>                callback.onChosen(greyColor.getText().toString());<br/>                dialog.cancel();<br/>            }<br/>        });</span><span id="7764" class="lj lk iq lf b gy lq lm l ln lo">final TextView orangeColor = dialog.findViewById(R.id.orangeColor);<br/>        orangeColor.setOnClickListener(new View.OnClickListener() {<br/>            <a class="ae lp" href="http://twitter.com/Override" rel="noopener ugc nofollow" target="_blank">@Override</a><br/>            public void onClick(View view) {<br/>                callback.onChosen(orangeColor.getText().toString());<br/>                dialog.cancel();<br/>            }<br/>        });</span><span id="9ee2" class="lj lk iq lf b gy lq lm l ln lo">final TextView pinkColor = dialog.findViewById(R.id.pinkColor);<br/>        pinkColor.setOnClickListener(new View.OnClickListener() {<br/>            <a class="ae lp" href="http://twitter.com/Override" rel="noopener ugc nofollow" target="_blank">@Override</a><br/>            public void onClick(View view) {<br/>                callback.onChosen(pinkColor.getText().toString());<br/>                dialog.cancel();<br/>            }<br/>        });</span><span id="2f9e" class="lj lk iq lf b gy lq lm l ln lo">dialog.show();<br/>    }<br/>}</span></pre><p id="891e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> 5-在<em class="ls"> ThemeManager </em>类</strong>中创建一个处理多主题颜色的方法</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="890b" class="lj lk iq lf b gy ll lm l ln lo">import android.content.Context;</span><span id="b3c2" class="lj lk iq lf b gy lq lm l ln lo">public class ThemeManager {</span><span id="4b0f" class="lj lk iq lf b gy lq lm l ln lo">public static void setCustomizedThemes(Context context, String theme){<br/>        switch (theme){<br/>            case "blue":<br/>                context.setTheme(R.style.AppTheme);<br/>                break;<br/>            case "black":<br/>                context.setTheme(R.style.Theme1);<br/>                break;<br/>            case "red":<br/>                context.setTheme(R.style.Theme2);<br/>                break;<br/>            case "purple":<br/>                context.setTheme(R.style.Theme3);<br/>                break;<br/>            case "green":<br/>                context.setTheme(R.style.Theme4);<br/>                break;<br/>            case "grey":<br/>                context.setTheme(R.style.Theme5);<br/>                break;<br/>            case "orange":<br/>                context.setTheme(R.style.Theme6);<br/>                break;<br/>            case "pink":<br/>                context.setTheme(R.style.Theme7);<br/>                break;<br/>        }<br/>    }<br/>}</span></pre><blockquote class="lt lu lv"><p id="9be6" class="kc kd ls ke b kf kg kh ki kj kk kl km lw ko kp kq lx ks kt ku ly kw kx ky kz ij bi translated">注意:您可以使用<strong class="ke ir"> <em class="iq"> Java枚举</em> </strong> <em class="iq">对来自</em> <a class="ae lp" href="https://www.w3schools.com/java/java_enums.asp" rel="noopener ugc nofollow" target="_blank"> <em class="iq">这里的</em> </a> <em class="iq">的颜色进行硬编码。</em></p></blockquote><p id="409e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> 6-将您选择的颜色主题保存在您的偏好设置中。</strong></p><p id="5406" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">创建<strong class="ke ir"> ThemeStorage </strong>类，该类将设法在首选项中存储主题，以便在应用程序关闭后不会使选择的颜色消失。</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="259f" class="lj lk iq lf b gy ll lm l ln lo">import android.content.Context;<br/>import android.content.SharedPreferences;</span><span id="271e" class="lj lk iq lf b gy lq lm l ln lo">public class ThemeStorage {</span><span id="0cdf" class="lj lk iq lf b gy lq lm l ln lo">public static void setThemeColor(Context context, String themeColor){<br/>        SharedPreferences sharedpreferences = context.getSharedPreferences("theme_data", Context.MODE_PRIVATE);<br/>        SharedPreferences.Editor editor = sharedpreferences.edit();<br/>        editor.putString("theme", themeColor);<br/>        editor.apply();<br/>    }</span><span id="390a" class="lj lk iq lf b gy lq lm l ln lo">public static String getThemeColor(Context context){<br/>        SharedPreferences sharedpreferences = context.getSharedPreferences("theme_data", Context.MODE_PRIVATE);<br/>        return sharedpreferences.getString("theme", "grey");<br/>    }</span><span id="14db" class="lj lk iq lf b gy lq lm l ln lo">}</span></pre><p id="6880" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> 7。最后，拿起你喜欢的颜色，贯彻到你所有的活动中:</strong></p><p id="96cc" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">让我们让魔法发挥作用😃</p><p id="b351" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们将在创建的按钮中调用showCustomAlertDialog()方法，并实现ColorDialogCallback接口。</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="ecfa" class="lj lk iq lf b gy ll lm l ln lo">public void chooseColor(View view) {<br/>        showCustomAlertDialog(this ,new ColorDialogCallback() {<br/>            <a class="ae lp" href="http://twitter.com/Override" rel="noopener ugc nofollow" target="_blank">@Override</a><br/>            public void onChosen(String chosenColor) {</span><span id="3edb" class="lj lk iq lf b gy lq lm l ln lo">if(chosenColor.equals(getThemeColor(getApplicationContext()))){<br/>                    Toast.makeText(MainActivity.this, "Theme has already chosen", Toast.LENGTH_SHORT).show();<br/>                    return;<br/>                }<br/>                Log.d(TAG, chosenColor);<br/>                setThemeColor(getApplicationContext(), chosenColor);<br/>                setCustomizedThemes(getApplicationContext(), chosenColor);<br/>                recreate();<br/>            }<br/>        });<br/>}</span></pre><p id="4998" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">要在运行时更改主题，请在ManiActivity的“onCreate()方法中，在setContentView()之前使用以下代码。</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="d76d" class="lj lk iq lf b gy ll lm l ln lo"><a class="ae lp" href="http://twitter.com/Override" rel="noopener ugc nofollow" target="_blank">@Override</a><br/>protected void onCreate(Bundle savedInstanceState) {<br/>    super.onCreate(savedInstanceState);<br/><strong class="lf ir">    setCustomizedThemes(this,getThemeColor(this));</strong><br/>    setContentView(R.layout.activity_main);<br/>}</span></pre><p id="6728" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">要使您选择的颜色应用于其他活动，请调用此方法setCustomizedThemes(this，getThemeColor(this))；在其他活动的onCreate()方法中，就在setContentView()之前。</p><p id="d51b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">恭喜你，现在你有了一个多主题的应用程序🤩。你可以在你的应用中以你希望的方式实现它。</p><p id="6875" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">GitHub上的样本App，点击<a class="ae lp" href="https://github.com/Marwa-Eltayeb/Android-Features/tree/master/MultiColorThemes" rel="noopener ugc nofollow" target="_blank"> <strong class="ke ir">多色</strong> </a> <strong class="ke ir">。</strong></p><p id="73eb" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这个功能在我的app <a class="ae lp" href="https://github.com/Marwa-Eltayeb/WeatherForecast" rel="noopener ugc nofollow" target="_blank"> <strong class="ke ir">天气预报</strong> </a>中实现。</p><p id="1748" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">编码快乐！</p><p id="6b7a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">更多文章:点击<a class="ae lp" href="https://marwa-eltayeb.medium.com/" rel="noopener"> <strong class="ke ir">此处</strong> </a></p><p id="9a59" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">在</strong><a class="ae lp" href="https://github.com/Marwa-Eltayeb" rel="noopener ugc nofollow" target="_blank">GitHub</a>|<a class="ae lp" href="https://www.linkedin.com/in/marwa-eltayeb/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae lp" href="https://twitter.com/Marwa_Eltayeb1" rel="noopener ugc nofollow" target="_blank">Twitter</a>上找我</p></div></div>    
</body>
</html>