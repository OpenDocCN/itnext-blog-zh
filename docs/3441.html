<html>
<head>
<title>Laravel and Vue: Creating a Portfolio website with a CRUD admin panel — Chapter 11</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Laravel和Vue:用CRUD管理面板创建作品集网站——第11章</h1>
<blockquote>原文：<a href="https://itnext.io/laravel-and-vue-creating-a-portfolio-website-with-a-crud-admin-panel-chapter-11-20445acf83bb?source=collection_archive---------3-----------------------#2019-12-17">https://itnext.io/laravel-and-vue-creating-a-portfolio-website-with-a-crud-admin-panel-chapter-11-20445acf83bb?source=collection_archive---------3-----------------------#2019-12-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="bd79" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">PortfolioEditor —添加模板，完成更新功能和实现删除功能</h2></div><h1 id="bd6d" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">Building AddItemModal.vue</h1><h2 id="495c" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated">点击后弹出</h2><p id="fbed" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">现在，当您单击“添加”按钮时没有任何反应，我们需要调用一个方法来显示单击“添加”按钮时的addItemModal。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="7bbd" class="la kj it mn b gy mr ms l mt mu">&lt;caption&gt;&lt;button <strong class="mn iu"><em class="mv">@click</em>="p.addItemPopup()"</strong>&gt;+ Add New Item&lt;/button&gt;&lt;/caption&gt;</span></pre><p id="bb65" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">在PortfolioEditor.vue方法中:</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="08f2" class="la kj it mn b gy mr ms l mt mu">addItemPopup() {<br/>    <em class="mv">if </em>(<em class="mv">this</em>.addItemModal === <em class="mv">false</em>) {<br/>        <em class="mv">this</em>.addItemModal = <em class="mv">true</em>;<br/>    }<br/>    <em class="mv">else if </em>(<em class="mv">this</em>.addItemModal === <em class="mv">true</em>) {<br/>        <em class="mv">this</em>.addItemModal = <em class="mv">false</em>;<br/>    }<br/>},</span></pre><p id="561d" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">应在PortfolioEditor.vue脚本数据()中将addItemModal设置为<code class="fe nb nc nd mn b"><strong class="lr iu">false</strong></code></p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="7696" class="la kj it mn b gy mr ms l mt mu">data() {<br/>    <em class="mv">return </em>{<br/>        items: '',<br/>        updateItemModal: <em class="mv">false</em>,<br/>        <strong class="mn iu">addItemModal: <em class="mv">false</em>,</strong><br/>        item: ''<br/>    }<br/>},</span></pre><p id="1ad9" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">我们需要创建addItemModal组件并使用<code class="fe nb nc nd mn b"><strong class="lr iu">v-if</strong></code></p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="66e4" class="la kj it mn b gy mr ms l mt mu">&lt;section&gt;<br/>    &lt;h1&gt;Portfolio Editor&lt;/h1&gt;<br/>    &lt;update-item-modal <em class="mv">v-if</em>="updateItemModal" <em class="mv">:item</em>="item"/&gt;<br/>    <strong class="mn iu">&lt;add-item-modal <em class="mv">v-if</em>="addItemModal"/&gt;</strong><br/>    &lt;portfolio-editor-table <em class="mv">:items</em>="items"/&gt;<br/>&lt;/section&gt;</span></pre><p id="3ad6" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">在PortfolioEditor的脚本中导入它</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="c279" class="la kj it mn b gy mr ms l mt mu"><em class="mv">import </em>addItemModal <em class="mv">from </em>'./addItemModal';</span></pre><p id="2f87" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">在组件中注册它</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="73c4" class="la kj it mn b gy mr ms l mt mu">components: {<br/>    portfolioEditorTable, updateItemModal, addItemModal<br/>},</span></pre><p id="658f" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">现在我们已经导入并注册了组件，我们可以开始构建组件本身了</p><h2 id="89c3" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated">addItemModal.vue组件👇</h2><p id="1478" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">模板标签:</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="5a01" class="la kj it mn b gy mr ms l mt mu">&lt;template&gt;<br/>    &lt;transition <em class="mv">name</em>="fade"&gt;<br/>        &lt;div <em class="mv">id</em>="my-modal" <em class="mv">@click</em>="closeModal" <em class="mv">class</em>="modal"&gt;<br/>            &lt;div <em class="mv">class</em>="modal-body"&gt;<br/>                &lt;modal-form&gt;<br/>                    <br/>                &lt;/modal-form&gt;<br/>            &lt;/div&gt;<br/>        &lt;/div&gt;<br/>    &lt;/transition&gt;<br/>&lt;/template&gt;</span></pre><p id="39eb" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">导入并注册模式表单</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="3b4a" class="la kj it mn b gy mr ms l mt mu">&lt;script&gt;<br/>    <em class="mv">import </em>modalForm <em class="mv">from </em>"./modalForm";<br/>    <em class="mv">export default </em>{<br/>        name: 'addItemModal',<br/>        components: {<br/>            modalForm<br/>        },<br/>      }<br/>&lt;/script&gt;</span></pre><p id="9763" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">我们需要使用类似于updateItemModal的closeModal的方法来关闭这个modal</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="8bc7" class="la kj it mn b gy mr ms l mt mu">//updateItemModal.vue closeModal</span><span id="24e9" class="la kj it mn b gy ne ms l mt mu">closeModal(event) {<br/>    <em class="mv">if </em>(event.target.matches('.modal')) {<br/>        <em class="mv">this</em>.$parent.updateItemModal = <em class="mv">false</em>;<br/>    }<br/>},</span><span id="2ef8" class="la kj it mn b gy ne ms l mt mu">//addItemModal.vue closeModal<br/>closeModal(event) {<br/>    <em class="mv">if </em>(event.target.matches('.modal')) {<br/>        <em class="mv">this</em>.$parent.<strong class="mn iu">addItemModal</strong> = <em class="mv">false</em>;<br/>    }<br/>},</span></pre><p id="0f2c" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">表单本身在父组件中调用<code class="fe nb nc nd mn b"><strong class="lr iu">selectFile()</strong></code>。这次父方法是<strong class="lr iu"> addItemModal.vue </strong>，所以我们需要addItemModal.vue中的<code class="fe nb nc nd mn b"><strong class="lr iu">selectFile</strong></code>方法</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="a6f0" class="la kj it mn b gy mr ms l mt mu">//addItemModal methods<br/>selectFile(event) {<br/>    <em class="mv">this</em>.file = event.target.files[0];<br/>},</span></pre><p id="c7e0" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">addItemModal()数据中的<code class="fe nb nc nd mn b"><strong class="lr iu">name</strong></code>、<code class="fe nb nc nd mn b"><strong class="lr iu">description</strong></code>、<code class="fe nb nc nd mn b"><strong class="lr iu">file</strong></code>和<code class="fe nb nc nd mn b"><strong class="lr iu">disabled</strong></code></p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="82e9" class="la kj it mn b gy mr ms l mt mu">data() {<br/>    <em class="mv">return </em>{<br/>        <strong class="mn iu">disabled</strong>: <em class="mv">true</em>,<br/>        <strong class="mn iu">name</strong>: '',<br/>        <strong class="mn iu">file</strong>: '',<br/>        <strong class="mn iu">description</strong>: ''<br/>    }<br/>},</span></pre><p id="6875" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">为了填充<strong class="lr iu">提交</strong>和<strong class="lr iu">验证</strong>的槽，我们需要一个添加按钮和一个div。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="b393" class="la kj it mn b gy mr ms l mt mu">&lt;template&gt;<br/>    &lt;transition <em class="mv">name</em>="fade"&gt;<br/>        &lt;div <em class="mv">id</em>="my-modal" <em class="mv">@click</em>="closeModal" <em class="mv">class</em>="modal"&gt;<br/>            &lt;div <em class="mv">class</em>="modal-body"&gt;<br/>                &lt;modal-form&gt;<br/>                    <strong class="mn iu">&lt;button <em class="mv">slot</em>="submit" <em class="mv">@click.prevent</em>="add" <em class="mv">:disabled</em>="disabled"&gt;add&lt;/button&gt;<br/>                    &lt;div <em class="mv">slot</em>="validation"&gt;{{validation}}&lt;/div&gt;</strong><br/>                &lt;/modal-form&gt;<br/>            &lt;/div&gt;<br/>        &lt;/div&gt;<br/>    &lt;/transition&gt;<br/>&lt;/template&gt;</span></pre><p id="737d" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">添加按钮应该运行<code class="fe nb nc nd mn b"><strong class="lr iu">add()</strong></code>方法</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="ff76" class="la kj it mn b gy mr ms l mt mu">appendFormData() {<br/>    <em class="mv">let </em>fd = <em class="mv">new </em>FormData();<br/>    fd.append('itempic', <em class="mv">this</em>.file);<br/>    fd.append('name', <em class="mv">this</em>.name);<br/>    fd.append('description', <em class="mv">this</em>.description);<br/>    <em class="mv">return </em>fd;<br/>},<br/>add() {<br/>    <em class="mv">let </em>fd = <em class="mv">this</em>.appendFormData();<br/>    axios.post('api/portfolio/',fd)<br/>},</span></pre><p id="23ba" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated"><code class="fe nb nc nd mn b"><strong class="lr iu">validation()</strong></code>计算方法可以从PortfolioEditor.vue中剪切并粘贴</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="02ed" class="la kj it mn b gy mr ms l mt mu">computed: {<br/>    validation(){<br/>        <em class="mv">this</em>.disabled = <em class="mv">true</em>;<br/>        <em class="mv">if </em>(<em class="mv">this</em>.name === '') {<br/>            <em class="mv">return </em>'please fill in the project name';<br/>        }<br/>        <em class="mv">if </em>(!<em class="mv">this</em>.file) {<br/>            <em class="mv">return </em>'please select an image';<br/>        }<br/>        <em class="mv">if </em>(<em class="mv">this</em>.file &amp;&amp; !<em class="mv">this</em>.file.type.startsWith("image/")) {<br/>            <em class="mv">return </em>'file must be an image';<br/>        }<br/>        <em class="mv">else </em>{<br/>            <em class="mv">this</em>.disabled = <em class="mv">false</em>;<br/>            <em class="mv">return  </em>':)'<br/>        }<br/>    }<br/>},</span></pre></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><h1 id="6bc5" class="ki kj it bd kk kl nm kn ko kp nn kr ks jz no ka ku kc np kd kw kf nq kg ky kz bi translated">完成更新功能</h1><p id="b159" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">我们需要添加验证消息，设计表单，并使更改后的数据立即出现在页面上。</p><h2 id="ec89" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated">添加验证消息</h2><p id="4a5a" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">我们需要数据()返回中的<code class="fe nb nc nd mn b">message</code>，它应该是一个空字符串(<strong class="lr iu"> '' </strong>)</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="4f37" class="la kj it mn b gy mr ms l mt mu">data() {<br/>    <em class="mv">return </em>{<br/>        name: <em class="mv">this</em>.item.name,<br/>        description: <em class="mv">this</em>.item.description,<br/>        disabled: <em class="mv">true</em>,<br/>        file: '',<br/>        <strong class="mn iu">message: ''</strong><br/>    }<br/>},</span></pre><p id="3d24" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">此消息应根据添加按钮是否被禁用而变化。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="7d37" class="la kj it mn b gy mr ms l mt mu">computed: {<br/>    validation(){<br/>        <em class="mv">let </em>i = <em class="mv">this</em>.item;<br/>        <em class="mv">this</em>.disabled = !(<em class="mv">this</em>.name !== i.name || <em class="mv">this</em>.description !== i.description);<br/>        <strong class="mn iu"><em class="mv">if </em>(<em class="mv">this</em>.disabled === <em class="mv">false</em>) {<br/>            <em class="mv">this</em>.message = 'you may now submit'<br/>        }<br/>        <em class="mv">else if </em>(<em class="mv">this</em>.disabled === <em class="mv">true</em>) {<br/>            <em class="mv">this</em>.message = 'please update a field'<br/>        }</strong><br/>    }<br/>},</span></pre><p id="a58d" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">将<code class="fe nb nc nd mn b"><strong class="lr iu">{{message}}</strong></code> <strong class="lr iu"> </strong>添加到验证槽的<code class="fe nb nc nd mn b"><strong class="lr iu">{{validation}}</strong></code>之后。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="d22e" class="la kj it mn b gy mr ms l mt mu">&lt;div <em class="mv">slot</em>="validation"&gt;{{validation}}<strong class="mn iu">{{message}}</strong>&lt;/div&gt;</span></pre><p id="a719" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">现在让我们来设计表单。</p><h2 id="769b" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated">设计表单</h2><p id="5fb7" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">当前表单如下所示:</p><figure class="mi mj mk ml gt ns gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi nr"><img src="../Images/c31cc0985f87608f57a5bae345775057.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tWewT0xEY2NdNmmgDN9xxw.png"/></div></div></figure><p id="7e09" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">我们需要改进表单的外观。当前外观的第一个问题是布局不一致。不一致的布局来自<strong class="lr iu">。form-input </strong> div因为包含了<code class="fe nb nc nd mn b"><strong class="lr iu">&lt;textarea&gt;</strong></code>和textarea元素，所以会产生不一致的布局。</p><p id="983a" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">为了具有一致的布局，我们应该向updateItemModal.vue添加以下样式</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="f0f7" class="la kj it mn b gy mr ms l mt mu">.form-inputs {<br/>    display: flex;<br/>    flex-direction: column;<br/>}</span></pre><figure class="mi mj mk ml gt ns gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/5e33d67a899c50c6ae93d709edf140df.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*fhJckm2Sbxbp5QOX5Yy-jg.png"/></div></figure><p id="a14d" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">在<code class="fe nb nc nd mn b"><strong class="lr iu">.modal-body</strong></code>外单击关闭模态(正如它应该做的那样)，但是模态体太小了(正如我们可以看到的，如果我们添加一个边框)。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="7434" class="la kj it mn b gy mr ms l mt mu">.modal-body {<br/>    border:solid;<br/>}</span></pre><figure class="mi mj mk ml gt ns gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/41318a9a57f6f98b528c72a1b016619d.png" data-original-src="https://miro.medium.com/v2/resize:fit:644/format:webp/1*TSXagvFoNWCMbLWiYHljPA.png"/></div></figure><p id="411c" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">我们现在需要将<code class="fe nb nc nd mn b"><strong class="lr iu">padding</strong></code>和<code class="fe nb nc nd mn b"><strong class="lr iu">background</strong></code>添加到<code class="fe nb nc nd mn b"><strong class="lr iu">.modal-body</strong></code>中</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="3ae0" class="la kj it mn b gy mr ms l mt mu">.modal-body {<br/>    border:solid;<br/>    <strong class="mn iu">padding:120px;</strong><br/>    <strong class="mn iu">background: #31D581;</strong><br/>}</span></pre><figure class="mi mj mk ml gt ns gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/6ad707ca7824aa67c9656db59d8f66ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*8ay2wnbdaTbtydm06hXNTg.png"/></div></figure><p id="fd1b" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">让我们给每个输入一个标签，并用同一个类将它们分组到div中，这样modalform.vue的形式应该是这样的:👇</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="426b" class="la kj it mn b gy mr ms l mt mu">&lt;form <em class="mv">enctype</em>="multipart/form-data"&gt;<br/>    &lt;div <strong class="mn iu"><em class="mv">class</em>="form-group"</strong>&gt;<br/>        &lt;input <em class="mv">type</em>="file" <em class="mv">@change</em>="p.selectFile" <em class="mv">name</em>="itempic"&gt;<br/>    &lt;/div&gt;<br/><br/>    &lt;div <strong class="mn iu"><em class="mv">class</em>="form-group"</strong>&gt;<br/>        <strong class="mn iu">&lt;label <em class="mv">for</em>="project-name"&gt;Project Name&lt;/label&gt;</strong><br/>        &lt;input <em class="mv">id</em>="project-name" <em class="mv">type</em>="text" <em class="mv">@change</em>="disabled = <em class="mv">false</em>" <em class="mv">v-model</em>="p.name"&gt;<br/>    &lt;/div&gt;<br/><br/>    &lt;div <strong class="mn iu"><em class="mv">class</em>="form-group"</strong>&gt;<br/>        <strong class="mn iu">&lt;label <em class="mv">for</em>="description"&gt;Description&lt;/label&gt;</strong><br/>        &lt;textarea <em class="mv">id</em>="description" <em class="mv">placeholder</em>="description" <em class="mv">v-model</em>="p.description"/&gt;<br/>    &lt;/div&gt;</span><span id="17aa" class="la kj it mn b gy ne ms l mt mu">    &lt;div <strong class="mn iu"><em class="mv">class</em>="form-group"</strong>&gt;<br/>        &lt;slot <em class="mv">name</em>="submit"/&gt;<br/>    &lt;/div&gt;</span><span id="8311" class="la kj it mn b gy ne ms l mt mu">    &lt;div <strong class="mn iu"><em class="mv">class</em>="form-group"</strong>&gt;<br/>        &lt;slot <em class="mv">name</em>="validation"/&gt;<br/>    &lt;/div&gt;<br/>&lt;/form&gt;</span></pre><p id="e526" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">让我们给表单组<code class="fe nb nc nd mn b"><strong class="lr iu">margin</strong></code> s，并使用<code class="fe nb nc nd mn b"><strong class="lr iu">grid</strong></code>堆叠表单组</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="71b6" class="la kj it mn b gy mr ms l mt mu">.form-group {<br/>    display:<strong class="mn iu">grid</strong>;<br/>    <strong class="mn iu">margin</strong>: 1em 0;<br/>}</span></pre><p id="01c9" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">条件样式——现在我们需要根据前面的验证是否通过来样式化误差条。</p><p id="fe2e" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">将<code class="fe nb nc nd mn b">&lt;div class=”errorBar”</code>更改为以下内容:</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="5d3d" class="la kj it mn b gy mr ms l mt mu">&lt;div <strong class="mn iu"><em class="mv">:class</em>="[ formIsValid ? 'errorBarValid' : 'errorBarInvalid' ]</strong>" <em class="mv">slot</em>="validation"&gt;{{validation}}{{message}}&lt;/div&gt;</span></pre><p id="1ed1" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">这意味着如果<code class="fe nb nc nd mn b"><strong class="lr iu">formIsValid</strong></code>是<code class="fe nb nc nd mn b"><strong class="lr iu">true</strong></code>，那么从style元素中应用<code class="fe nb nc nd mn b"><strong class="lr iu">errorBarValid</strong></code>。如果<code class="fe nb nc nd mn b"><strong class="lr iu">formIsValid</strong></code>为假，则应用<code class="fe nb nc nd mn b"><strong class="lr iu">errorBarInvalid</strong></code>。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="94a6" class="la kj it mn b gy mr ms l mt mu">TrueOrFalse ? 'TRUE STYLE' : 'FALSE STYLE'<!-- --> </span></pre><p id="e268" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">在updateItemModal.vue的data()中将formIsValid设置为false</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="269e" class="la kj it mn b gy mr ms l mt mu">data() {<br/>    <em class="mv">return </em>{<br/>        name: <em class="mv">this</em>.item.name,<br/>        description: <em class="mv">this</em>.item.description,<br/>        disabled: <em class="mv">true</em>,<br/>        file: '',<br/>        message: '',<br/>        <strong class="mn iu">formIsValid: <em class="mv">false</em>,</strong><br/>    }<br/>},</span></pre><p id="7e0f" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">修改验证方法以包括formIsValid</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="1656" class="la kj it mn b gy mr ms l mt mu">validation(){<br/>    <em class="mv">let </em>i = <em class="mv">this</em>.item;<br/>    <em class="mv">this</em>.disabled = !(<em class="mv">this</em>.name !== i.name || <em class="mv">this</em>.description !== i.description);<br/>    <em class="mv">if </em>(<em class="mv">this</em>.disabled === <em class="mv">false</em>) {<br/>        <em class="mv">this</em>.message = 'you may now submit';<br/>        <strong class="mn iu"><em class="mv">this</em>.formIsValid = <em class="mv">true</em></strong><em class="mv"><br/>    </em>}<br/>    <em class="mv">else if </em>(<em class="mv">this</em>.disabled === <em class="mv">true</em>) {<br/>        <em class="mv">this</em>.message = 'please update a field';<br/>        <strong class="mn iu"><em class="mv">this</em>.formIsValid = <em class="mv">false</em></strong><em class="mv"><br/>    </em>}<br/>}</span></pre><p id="8f8f" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">让我们写风格</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="7ffe" class="la kj it mn b gy mr ms l mt mu">.errorBarInvalid {<br/>    color:red;<br/>    background: white;<br/>    border: red solid;<br/>    text-align: center;<br/>    text-transform: uppercase;<br/>    font-weight: bolder;<br/>}</span><span id="e9c3" class="la kj it mn b gy ne ms l mt mu">.errorBarValid {<br/>    color:green;<br/>    background: white;<br/>    border: green solid;<br/>    text-align: center;<br/>    text-transform: uppercase;<br/>    font-weight: bolder;<br/>}</span></pre><p id="0548" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">现在我们有了</p><figure class="mi mj mk ml gt ns gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi oc"><img src="../Images/ee1029f69354030c8bb33956c843dfeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*gIWYcUgymjMWJczMeGbMqg.gif"/></div></div></figure><p id="6f9d" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated"><strong class="lr iu">我们也来设计一下桌子</strong></p><p id="8ef4" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">如果表格的行有交替的背景色，表格会更容易阅读。我们应该设计表格，使奇数行和偶数行具有不同的颜色(英式拼写)或<code class="fe nb nc nd mn b"><strong class="lr iu">color</strong></code> (CSS拼写)。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="aa82" class="la kj it mn b gy mr ms l mt mu">tbody tr:nth-child(odd) {<br/>    background-color: rgb(195, 55, 37);<br/>}<br/><br/>tbody tr:nth-child(even) {<br/>    background-color: rgba(34,193,195,1);<br/>}</span></pre><figure class="mi mj mk ml gt ns gh gi paragraph-image"><div class="gh gi od"><img src="../Images/d459da78cbf2c8db4c89c20ccdfe5864.png" data-original-src="https://miro.medium.com/v2/resize:fit:682/format:webp/1*UqwWNsVR_2JFUGhKPWEurg.png"/></div></figure><p id="139b" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">表格应该有一个<strong class="lr iu">背景色</strong>和100%宽度；</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="ec54" class="la kj it mn b gy mr ms l mt mu">table {<br/>    background-color: #ff33cc;<br/>    width: 100%;<br/>}</span></pre><figure class="mi mj mk ml gt ns gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi oe"><img src="../Images/90b2547d1f9fd5df88618031fcc54cf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hWajc7FyUc6LWNvaA-U9MA.png"/></div></div></figure><p id="655f" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">每个<code class="fe nb nc nd mn b"><strong class="lr iu">&lt;td&gt;</strong></code>的内容都应该出现在中心</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="28b8" class="la kj it mn b gy mr ms l mt mu">td {display: flex; justify-content: center; align-items: center}</span></pre><figure class="mi mj mk ml gt ns gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi of"><img src="../Images/e3d9cbc5f61693c1d67ac5b483fb0093.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UbHt84tvlvj7Lr6rHuvcdA.png"/></div></div></figure><p id="4d1e" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">每个表格行应该是包含3个相等列的网格</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="84cf" class="la kj it mn b gy mr ms l mt mu">tr {display: grid; grid-template-columns: repeat(3, 1fr)}</span></pre><figure class="mi mj mk ml gt ns gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi of"><img src="../Images/96ea6b704ba407dc317cb1f32d2e6965.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qi5u9hUB7q3UDXSJ6SPm-w.png"/></div></div></figure><p id="d918" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">可选地，我们可以添加一个线性渐变到顶行</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="5c59" class="la kj it mn b gy mr ms l mt mu">thead tr {<br/> background: linear-gradient(0deg, rgba(34,193,195,1) 0%, rgba(253,187,45,1) 100%);<br/> }</span></pre><figure class="mi mj mk ml gt ns gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi og"><img src="../Images/022a40db37b56b7a8ef931c10a0386b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N3QXrEWKZYQBpOqWq2pkjg.png"/></div></div></figure><h2 id="b474" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated"><strong class="ak">使更改后的数据立即出现在页面上</strong></h2><p id="cbb0" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">我们需要更改更新函数，以便在提交后，updateItemModal被关闭。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="9c15" class="la kj it mn b gy mr ms l mt mu">update(item) {<br/>    <em class="mv">let </em>fd = <em class="mv">this</em>.appendFormData();<br/>    axios.post(`api/portfolio/${item.id}`,fd).then(<br/>        <em class="mv">this</em>.$parent.<strong class="mn iu">updateItemModal</strong> = <em class="mv">false<br/>    </em>)<br/>},</span></pre><p id="a10e" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">数据被提交和更改，如果其中有错误，我们需要记录错误对象的响应数据。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="402e" class="la kj it mn b gy mr ms l mt mu">update(item) {<br/>    <em class="mv">let </em>fd = <em class="mv">this</em>.appendFormData();<br/>    axios.post(`api/portfolio/${item.id}`,fd).then(<br/>        <em class="mv">this</em>.$parent.updateItemModal = <em class="mv">false<br/>    </em>)<strong class="mn iu">.catch(error =&gt; <em class="mv">alert</em>(error.response.data))</strong><br/>},</span></pre><p id="e64a" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">关闭模式后立即重新加载数据。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="8952" class="la kj it mn b gy mr ms l mt mu">update(item) {<br/>    <em class="mv">let </em>fd = <em class="mv">this</em>.appendFormData();<br/>    axios.post(`api/portfolio/${item.id}`,fd).then(<br/>        <em class="mv">this</em>.$parent.updateItemModal = <em class="mv">false<br/>    </em>).catch(error =&gt; <em class="mv">alert</em>(error.response.data))<br/>    <strong class="mn iu">.finally(<em class="mv">this</em>.$parent.getPortfolio())</strong><br/>},</span></pre><p id="0d42" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">应该对addItemModal的add函数进行类似的修改，但这次我们将<strong class="lr iu"> addItemModal </strong>设置为false，而不是updateItemModal。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="c947" class="la kj it mn b gy mr ms l mt mu">add() {<br/>    <em class="mv">let </em>fd = <em class="mv">this</em>.appendFormData();<br/>    axios.post('api/portfolio/',fd)<br/>        .then(<em class="mv">this</em>.$parent.addItemModal = <em class="mv">false</em>)<br/>        .catch(error=&gt;console.log(error.response.data))<br/>        .finally(<em class="mv">this</em>.$parent.getPortfolio())<br/>},</span></pre><p id="f884" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">现在，我们可以添加和编辑项目，但不能删除项目。让我们继续努力。</p></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><h1 id="c844" class="ki kj it bd kk kl nm kn ko kp nn kr ks jz no ka ku kc np kd kw kf nq kg ky kz bi translated">实现删除功能</h1><p id="eea1" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">我们需要理解用户可能会误点击删除，所以我们需要一个<strong class="lr iu">确认模式</strong>来实现。<strong class="lr iu">如果用户点击</strong>是，数据应该得到<strong class="lr iu">从数据库表中删除</strong> d，如果用户点击否，确认模式应该消失/隐藏/消失等。</p><h2 id="8ffa" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated">确认模式</h2><p id="2157" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">删除按钮应该能够在父组件中调用它的方法。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="e658" class="la kj it mn b gy mr ms l mt mu">&lt;button <em class="mv">@click</em>="p.deleteItem(item)"&gt;DELETE&lt;/button&gt;</span></pre><p id="5f90" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">父组件中的delete方法</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="7537" class="la kj it mn b gy mr ms l mt mu">deleteItem(item) {<br/>    <em class="mv">this</em>.item = item;<br/>    <em class="mv">this</em>.confirmDeleteModal = <em class="mv">true</em>;<br/>}</span></pre><p id="13af" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">我们应该创建confirmDeleteModal.vue文件</p><ul class=""><li id="b707" class="oh oi it lr b ls mw lv mx lf oj li ok ll ol mh om on oo op bi translated">导入确认删除模式</li></ul><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="302a" class="la kj it mn b gy mr ms l mt mu"><em class="mv">import </em>confirmDeleteModal <em class="mv">from </em>'./confirmDeleteModal';</span></pre><ul class=""><li id="ff26" class="oh oi it lr b ls mw lv mx lf oj li ok ll ol mh om on oo op bi translated">将<strong class="lr iu"> confirmDeleteModal </strong>添加到组件模块</li></ul><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="2a53" class="la kj it mn b gy mr ms l mt mu">components: {<br/>    portfolioEditorTable, updateItemModal, addItemModal, <strong class="mn iu">confirmDeleteModal</strong><br/>},</span></pre><ul class=""><li id="590c" class="oh oi it lr b ls mw lv mx lf oj li ok ll ol mh om on oo op bi translated">将<strong class="lr iu">确认-删除-模态</strong>添加到PortfolioEditor.vue的模板中</li></ul><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="9bb9" class="la kj it mn b gy mr ms l mt mu">&lt;section&gt;<br/>    &lt;h1&gt;Portfolio Editor&lt;/h1&gt;<br/>    <strong class="mn iu">&lt;confirm-delete-modal <em class="mv">v-if</em>="confirmDeleteModal" <em class="mv">:item</em>="item"/&gt;</strong><br/>    &lt;add-item-modal <em class="mv">v-if</em>="addItemModal"/&gt;<br/>    &lt;update-item-modal <em class="mv">v-if</em>="updateItemModal" <em class="mv">:item</em>="item"/&gt;<br/>    &lt;portfolio-editor-table <em class="mv">:items</em>="items"/&gt;<br/>&lt;/section&gt;</span></pre><ul class=""><li id="23fb" class="oh oi it lr b ls mw lv mx lf oj li ok ll ol mh om on oo op bi translated">将confirmDeleteModal添加到<code class="fe nb nc nd mn b">data()</code> <code class="fe nb nc nd mn b">return </code>中，并将其设置为<code class="fe nb nc nd mn b"><strong class="lr iu">false</strong></code></li></ul><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="11a6" class="la kj it mn b gy mr ms l mt mu">data() {<br/>    <em class="mv">return </em>{<br/>        items: '',<br/>        updateItemModal: <em class="mv">false</em>,<br/>        addItemModal: <em class="mv">false</em>,<br/>        <strong class="mn iu">confirmDeleteModal: <em class="mv">false</em>,</strong><br/>        item: ''<br/>    }<br/>},</span></pre><p id="f7ef" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">confirmDeleteModal文件为空。让我们来构建组件。</p><p id="5e9f" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">这与其他模式具有相同的总体布局；区别在模态体内部。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="61e3" class="la kj it mn b gy mr ms l mt mu">&lt;template&gt;<br/>    &lt;transition <em class="mv">name</em>="fade"&gt;<br/>        &lt;div <em class="mv">id</em>="my-modal" <em class="mv">style</em>="border: solid; z-index: 1" <em class="mv">class</em>="modal"&gt;<br/>            &lt;div <em class="mv">class</em>="modal-body"&gt;<br/>                <strong class="mn iu">&lt;h1&gt;Delete &lt;b <em class="mv">style</em>="color:red"&gt;{{item.name}}&lt;/b&gt; from your portfolio?&lt;/h1&gt;<br/>                &lt;div <em class="mv">class</em>="btn-row"&gt;<br/>                    &lt;button <em class="mv">@click</em>="confirm"&gt;Yes&lt;/button&gt;<br/>                    &lt;button <em class="mv">@click</em>="cancel"&gt;No&lt;/button&gt;<br/>                &lt;/div&gt;</strong><br/>            &lt;/div&gt;<br/>        &lt;/div&gt;<br/>    &lt;/transition&gt;<br/>&lt;/template&gt;</span></pre><p id="a695" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">我们应该添加一个包含<code class="fe nb nc nd mn b"><strong class="lr iu">item</strong></code>的道具块</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="151b" class="la kj it mn b gy mr ms l mt mu">props: {<br/>  <strong class="mn iu">item</strong>: '',<br/>},</span></pre><p id="b5f4" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated"><strong class="lr iu">代码和布局说明:</strong></p><ul class=""><li id="8d74" class="oh oi it lr b ls mw lv mx lf oj li ok ll ol mh om on oo op bi translated">向h1询问确认问题</li><li id="625c" class="oh oi it lr b ls oq lv or lf os li ot ll ou mh om on oo op bi translated"><code class="fe nb nc nd mn b"><strong class="lr iu">{{item.name}}</strong></code>从作为道具传递的<code class="fe nb nc nd mn b"><strong class="lr iu">item</strong></code>物品中获取物品名称</li><li id="fd34" class="oh oi it lr b ls oq lv or lf os li ot ll ou mh om on oo op bi translated"><code class="fe nb nc nd mn b"><strong class="lr iu">{{item.name}}</strong></code>与其余的<code class="fe nb nc nd mn b"><strong class="lr iu">h1</strong></code>有所不同<code class="fe nb nc nd mn b"><strong class="lr iu">color</strong></code></li><li id="73cb" class="oh oi it lr b ls oq lv or lf os li ot ll ou mh om on oo op bi translated"><code class="fe nb nc nd mn b"><strong class="lr iu">{{item.name}}</strong></code>是加粗使用<code class="fe nb nc nd mn b"><strong class="lr iu">&lt;b&gt;&lt;/b&gt;</strong></code> <strong class="lr iu"> </strong>标签</li><li id="a75f" class="oh oi it lr b ls oq lv or lf os li ot ll ou mh om on oo op bi translated">我们有一排按钮，每个按钮都有自己的方法</li><li id="20b1" class="oh oi it lr b ls oq lv or lf os li ot ll ou mh om on oo op bi translated">是按钮运行<code class="fe nb nc nd mn b"><strong class="lr iu">confirm()</strong></code>动作</li><li id="c099" class="oh oi it lr b ls oq lv or lf os li ot ll ou mh om on oo op bi translated">没有按钮运行<code class="fe nb nc nd mn b"><strong class="lr iu">cancel()</strong></code>动作</li></ul><h2 id="e360" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated">如果用户点击“是”</h2><p id="1711" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">我们应该将确认方法添加到confirmDeleteModal中</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="b865" class="la kj it mn b gy mr ms l mt mu">confirm() {<br/>    axios.delete(`api/portfolio/${<em class="mv">this</em>.item.id}`).then(<br/>        <em class="mv">this</em>.$parent.confirmDeleteModal = <em class="mv">false<br/>    </em>).then(<br/>        <em class="mv">this</em>.$parent.getPortfolio();<br/>    )<br/>},</span></pre><p id="7ab3" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">现在我们需要一个相应的api路由链接到PortfolioController的destory函数</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="6525" class="la kj it mn b gy mr ms l mt mu">Route::<em class="mv">delete</em>('/portfolio/{id}', 'PortfolioController@destroy');</span></pre><p id="81fe" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">毁灭功能</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="3a58" class="la kj it mn b gy mr ms l mt mu"><em class="mv">public function </em>destroy($id) {<br/>    PortfolioItem::<em class="mv">where</em>('id',$id)-&gt;delete();<br/>}</span></pre><figure class="mi mj mk ml gt ns gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi oc"><img src="../Images/69ab1328c2a378dab972df5055d86a80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*E-tDluVdKKNIhlaexBEExg.gif"/></div></div></figure><h2 id="492e" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated">如果用户点击“否”</h2><p id="01b4" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">这里我们可以添加一个非常简单的方法来确认删除模式</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="5ada" class="la kj it mn b gy mr ms l mt mu">cancel() {<br/>    <em class="mv">this</em>.$parent.confirmDeleteModal = <em class="mv">false</em>;<br/>}</span></pre></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><h2 id="12a9" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated">列出清单—第11章结束</h2><p id="9d82" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">我们可以从列表中勾掉更新和删除功能。</p><ul class=""><li id="2c45" class="oh oi it lr b ls mw lv mx lf oj li ok ll ol mh om on oo op bi translated">前端验证(用于更新functionality)☑️</li><li id="197f" class="oh oi it lr b ls oq lv or lf os li ot ll ou mh om on oo op bi translated">后端验证(用于更新functionality)☑️</li><li id="84cc" class="oh oi it lr b ls oq lv or lf os li ot ll ou mh om on oo op bi translated">更新和删除functionalities☑️</li></ul><p id="da63" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi">—</p><ul class=""><li id="d004" class="oh oi it lr b ls mw lv mx lf oj li ok ll ol mh om on oo op bi translated">重构组合控制器</li></ul><p id="a67f" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi">—</p><ul class=""><li id="89fb" class="oh oi it lr b ls mw lv mx lf oj li ok ll ol mh om on oo op bi translated">带文本的图像(Portfolio.vue)</li><li id="1237" class="oh oi it lr b ls oq lv or lf os li ot ll ou mh om on oo op bi translated">具有更大图像和描述的模型(Portfolio.vue)</li><li id="3480" class="oh oi it lr b ls oq lv or lf os li ot ll ou mh om on oo op bi translated">modal (Portfolio.vue)上的关闭按钮</li></ul></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><p id="1206" class="pw-post-body-paragraph lp lq it lr b ls mw ju lu lv mx jx lx lf my lz ma li mz mc md ll na mf mg mh im bi translated">在第12章，我们将重构PortfolioController。</p><div class="ov ow gp gr ox oy"><a rel="noopener  ugc nofollow" target="_blank" href="/laravel-and-vue-creating-a-portfolio-website-with-a-crud-admin-panel-chapter-12-f35917a9d5c8"><div class="oz ab fo"><div class="pa ab pb cl cj pc"><h2 class="bd iu gy z fp pd fr fs pe fu fw is bi translated">Laravel和Vue:用CRUD管理面板创建作品集网站——第12章</h2><div class="pf l"><h3 class="bd b gy z fp pd fr fs pe fu fw dk translated">重构组合控制器</h3></div><div class="pg l"><p class="bd b dl z fp pd fr fs pe fu fw dk translated">itnext.io</p></div></div><div class="ph l"><div class="pi l pj pk pl ph pm nx oy"/></div></div></a></div></div></div>    
</body>
</html>