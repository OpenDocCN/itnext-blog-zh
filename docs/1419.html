<html>
<head>
<title>Run Your Node Projects with Docker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Docker运行您的节点项目</h1>
<blockquote>原文：<a href="https://itnext.io/run-your-node-projects-with-docker-ccd093352648?source=collection_archive---------4-----------------------#2018-10-10">https://itnext.io/run-your-node-projects-with-docker-ccd093352648?source=collection_archive---------4-----------------------#2018-10-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/83acec1e53532bd94f3002da3e7f7499.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*DKfxnzauM-qoGPGPo8rVDg.jpeg"/></div></figure><p id="3146" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我最近得到了一个需要更新的旧节点项目。这是一个AngularJS + Ionic 1项目。即使我只是想安装软件包，也会出现大量的问题。</p><p id="245e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">所以我所做的是把整个项目放在一个Docker容器中，这个容器使用的是Node的旧版本。对于您的项目，您可以使用节点8或节点10。</p><p id="6b1f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">基本上，您可以在任何节点项目中执行此操作。你需要的是对码头工人有一个基本的了解，然后你就可以开始了。</p><p id="9fdf" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">重要的是写出你的文档。它控制将项目转移到容器的过程。</p><ol class=""><li id="8a3f" class="kt ku iq jw b jx jy kb kc kf kv kj kw kn kx kr ky kz la lb bi translated"><strong class="jw ir">正常方法</strong></li></ol><figure class="lc ld le lf gt jr"><div class="bz fp l di"><div class="lg lh l"/></div></figure><p id="c35a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">完成docker文件后，你必须为你的项目建立一个图像。</p><pre class="lc ld le lf gt li lj lk ll aw lm bi"><span id="184a" class="ln lo iq lj b gy lp lq l lr ls">docker build -t image-name .</span></pre><p id="8aa0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">然后从您的映像运行一个容器。</p><pre class="lc ld le lf gt li lj lk ll aw lm bi"><span id="3b28" class="ln lo iq lj b gy lp lq l lr ls">docker run --rm -ti -p 3000:3000 image-name</span><span id="2cfd" class="ln lo iq lj b gy lt lq l lr ls"># --rm container will be removed after each run<br/># -p 3000:3000 you can communicate with the project through port: 3000</span></pre><p id="f79f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果没有错误，您可以打开浏览器并检查项目</p><pre class="lc ld le lf gt li lj lk ll aw lm bi"><span id="de7a" class="ln lo iq lj b gy lp lq l lr ls">http://127.0.0.1:3000</span></pre><p id="6a1a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">此外，您可以通过打开第二个bash来编辑docker容器中的文件。</p><pre class="lc ld le lf gt li lj lk ll aw lm bi"><span id="15be" class="ln lo iq lj b gy lp lq l lr ls">docker exec -ti container-id /bin/bash</span><span id="f4c6" class="ln lo iq lj b gy lt lq l lr ls"># Then using vim or nano to edit the files</span></pre><p id="262c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">您可以将整个项目从容器复制到您的主机上</p><pre class="lc ld le lf gt li lj lk ll aw lm bi"><span id="727a" class="ln lo iq lj b gy lp lq l lr ls">docker cp container-id:/usr/src/app .</span></pre><p id="2670" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir"> 2。疯狂的方法</strong></p><p id="39e3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在这个方法中，我将创建一个临时映像，它不需要从主机上复制项目文件，甚至不需要安装bower或node包。我将从主机共享一卷项目目录到容器的工作目录。因此，基本上，我仍然可以从主机上编辑当前文件夹中的项目，节点命令将从docker容器@中运行。@</p><pre class="lc ld le lf gt li lj lk ll aw lm bi"><span id="674d" class="ln lo iq lj b gy lp lq l lr ls">docker run --name container-name -ti -v your-project-folder:/usr/src/app -p 3000:3000 node-image</span></pre><p id="1fa3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">之后，只要想运行项目，就需要启动容器</p><pre class="lc ld le lf gt li lj lk ll aw lm bi"><span id="e4ed" class="ln lo iq lj b gy lp lq l lr ls">docker start container-name</span></pre><p id="7d31" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">那一刻，我简直惊呆了。@</p><p id="dd32" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">希望这有所帮助:)</p></div></div>    
</body>
</html>