<html>
<head>
<title>Animal Tribes: How to create your first full-stack Typescript GraphQL Application? — Pt 2: Backend</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">动物部落:如何创建你的第一个全栈类型脚本GraphQL应用程序？—第二部分:后端</h1>
<blockquote>原文：<a href="https://itnext.io/animal-tribes-how-to-create-your-first-full-stack-typescript-graphql-application-pt-2-backend-cae1735f13dd?source=collection_archive---------2-----------------------#2020-07-19">https://itnext.io/animal-tribes-how-to-create-your-first-full-stack-typescript-graphql-application-pt-2-backend-cae1735f13dd?source=collection_archive---------2-----------------------#2020-07-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="ff81" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如何使用Typescript、Node、React和GraphQL构建第一个全栈应用的完整教程</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/a10e774e28b9a234df5210fa68acd219.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bv0i371l04u2tGzDWtvDtQ.png"/></div></div></figure><h1 id="7daa" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">1.介绍</h1><p id="9574" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">这是<strong class="js iu">动物部落的第二部分:如何创建你的第一个全栈式Typescript GraphQL应用？</strong>教程。如果您没有看到第1部分，请点击下面的链接。</p><div class="md me gp gr mf mg"><a href="https://medium.com/@samarony.barros/animal-tribes-how-to-create-your-first-full-stack-typescript-graphql-application-76786e5520ed" rel="noopener follow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd iu gy z fp ml fr fs mm fu fw is bi translated">动物部落:如何创建你的第一个全栈类型脚本GraphQL应用程序？</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">如何使用Typescript、Node、React和GraphQL构建第一个全栈应用的完整教程</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">medium.com</p></div></div><div class="mp l"><div class="mq l mr ms mt mp mu ky mg"/></div></div></a></div><p id="5ce3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这一部分中，我们将使用Node JS、Typescript、Express、GraphQL和MongoDB来开发我们的服务器。</p><p id="2f5d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一件重要的事情是将我们的代码添加到<a class="ae mv" href="https://github.com/" rel="noopener ugc nofollow" target="_blank"> GitHub </a>中。关于这一点我还会多说一些。如果你没有Git和/或GitHub的经验，可以看看我下面的文章。</p><div class="md me gp gr mf mg"><a href="https://medium.com/swlh/what-do-i-need-to-know-about-git-5017bde0b572" rel="noopener follow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd iu gy z fp ml fr fs mm fu fw is bi translated">关于Git，我需要了解什么？</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">初学者教程</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">medium.com</p></div></div><div class="mp l"><div class="mw l mr ms mt mp mu ky mg"/></div></div></a></div><h1 id="2adf" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">2.设置MongoDB</h1><p id="3a12" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated"><strong class="js iu">第一步:</strong>首先，我们需要一个关于<a class="ae mv" href="https://www.mongodb.com/" rel="noopener ugc nofollow" target="_blank"> MongoDB Clouds </a>的账户。点击<strong class="js iu">免费试用</strong>。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mx"><img src="../Images/a1191a2f6f1ef7b831c55bfb0f841f1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EHVJZc1iEUU9A33vxvKOIA.png"/></div></div></figure><p id="0339" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">第2步:</strong>在字段中填入您的数据，然后点击<strong class="js iu">免费开始</strong>。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi my"><img src="../Images/e91a8f8ce75c6318f325a2abfd038640.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R3ZYppIZQMMi8SZ5BGdRtw.png"/></div></div></figure><p id="f3d7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">步骤3: </strong>选择选项<strong class="js iu">共享集群</strong>，点击<strong class="js iu">创建集群</strong>。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mz"><img src="../Images/e52e6c081500da7537361dac3e7e38fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3dLmcflYXFBXU9B6HHGc1g.png"/></div></div></figure><p id="c675" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">第四步:</strong>在<strong class="js iu">云提供商</strong>上，选择<strong class="js iu"> AWS </strong>选项，并为该地区选择离你的国家最近的选项，在我的例子中，是<strong class="js iu">法兰克福(欧盟-中央-1) </strong>。然后，点击<strong class="js iu">创建一个集群</strong>。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi na"><img src="../Images/bf43536bf359c77ad23eb4955097d88e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6hc4U3LqH7t6HSJAoD42cg.png"/></div></div></figure><p id="5089" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">第五步:你应该会看到一个类似于这个的屏幕。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nb"><img src="../Images/454b8f4c574f8419f95467d9e1b69523.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d5nQIfjPFM3oVCG9uc1DXQ.png"/></div></div></figure><p id="d3df" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">第6步:</strong> MongoDB将完成新数据库的部署。等待部署完成。然后，点击<strong class="js iu">连接</strong>。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nc"><img src="../Images/4904bd192849db96237049b67395cdf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pBTi9PWwFEKhCoL_Q1q5sw.png"/></div></div></figure><p id="8e76" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">第7步:</strong>点击<strong class="js iu">添加不同的IP地址</strong>并添加<strong class="js iu"> 0.0.0.0/0 </strong>，点击<strong class="js iu">添加IP地址</strong>。然后为您的数据库创建一个用户，在我的例子中，我正在创建一个<strong class="js iu"> admin </strong>用户，使用一些<strong class="js iu">密码，点击</strong>创建MongoDB用户。并点击<strong class="js iu">选择一种连接方式</strong>。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nd"><img src="../Images/a062ae40d5bb5b47c49791bfda79cc8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d564M75EKwvbMG8xfPGuoA.png"/></div></div></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ne"><img src="../Images/adf664a0009dff593229eb7e1010ef94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LTpNSYT0aCS8C6Anj8b6LA.png"/></div></div></figure><p id="0cfe" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">第8步:</strong>选择选项<strong class="js iu">连接您的应用</strong>。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ne"><img src="../Images/18f4a3a6f367133a56e4f7c92e500eea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cOWftF1J9BuqC7VSJ1IGdw.png"/></div></div></figure><p id="fa45" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">第九步:</strong>然后，复制连接字符串，保存到别的地方，我们很快就会用到。然后，关闭它。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nf"><img src="../Images/537f5015fd4df04424ee439c40860ef3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xvSackcuwOQlxztQeSdDKQ.png"/></div></div></figure><p id="599d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">连接字符串应该是这样的。</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="1f5a" class="nl lb it nh b gy nm nn l no np">mongodb+srv://admin:<strong class="nh iu">&lt;password&gt;</strong><a class="ae mv" href="http://twitter.com/cluster0" rel="noopener ugc nofollow" target="_blank">@cluster0</a>-9ksfk.mongodb.net/test?retryWrites=true&amp;w=majority</span></pre><p id="2ea9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">不要忘记将<strong class="js iu"> &lt;密码&gt; </strong>替换为您为用户设置的密码。⚠️ <strong class="js iu">注意</strong> ⚠️:这不是MongoDB密码，而是您在<strong class="js iu">步骤7 </strong>中为数据库用户设置的密码。例如，如果您将用户定义为<strong class="js iu"> admin </strong>，将密码定义为<strong class="js iu"> admin </strong>，那么应该是:</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="350d" class="nl lb it nh b gy nm nn l no np">mongodb+srv://admin:<strong class="nh iu">admin</strong><a class="ae mv" href="http://twitter.com/cluster0" rel="noopener ugc nofollow" target="_blank">@cluster0</a>-9ksfk.mongodb.net/test?retryWrites=true&amp;w=majority</span></pre><h1 id="25d2" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">3.设置服务器</h1><p id="ab88" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">为了设置服务器，我们首先需要安装的是<a class="ae mv" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank">节点JS </a>。为此，让我们安装<a class="ae mv" href="https://github.com/nvm-sh/nvm" rel="noopener ugc nofollow" target="_blank"> nvm </a>并按照<a class="ae mv" href="https://github.com/nvm-sh/nvm#installing-and-updating" rel="noopener ugc nofollow" target="_blank">步骤安装</a>。</p><p id="87d5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后，你可以做</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="556e" class="nl lb it nh b gy nm nn l no np">nvm install node</span></pre><p id="bc0a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用这个命令，您将安装<strong class="js iu">节点</strong>、<strong class="js iu"> npm </strong>和<strong class="js iu"> npx </strong>。</p><p id="3d4f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们创建一个名为<strong class="js iu">动物部落服务器</strong>的文件夹。为了改进我们的编码，我们可以设置格式化程序、链接程序和代码修复程序。幸运的是，我们有<a class="ae mv" href="https://www.npmjs.com/package/gts" rel="noopener ugc nofollow" target="_blank"> Google Typescript Style </a>为我们安装所有这些。</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="d815" class="nl lb it nh b gy nm nn l no np">$ npx gts init</span></pre><p id="f977" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这样做，我们应该有一个类似下图的文件夹结构。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nq"><img src="../Images/53c90640942488554f39cc968580c353.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oa4udcXtFPkHvUGnxXSifQ.png"/></div></div></figure><p id="4af4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了在我们编码的时候提高效率，我们将在保存时设置lint。我用<a class="ae mv" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> VS代码</a>作为我的编辑器。所以我们可以创建一个名为<strong class="js iu">的文件夹。vscode </strong>并添加一个名为<strong class="js iu"> settings.json </strong>的文件。另一种方法就是只需在Mac上输入cmd+shitf+p(Windows上ctrl+shift+p)，输入设置，选择第一个选项。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nr"><img src="../Images/9390a765674462882d2faf23b971c5e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QSMbyJGo_MkdbX5WxC_ibw.png"/></div></div></figure><p id="2d38" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">小心，文件夹<strong class="js iu">。vscode </strong>应该在我们的<strong class="js iu">动物部落服务器</strong>文件夹之外。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/d278d202d35a8027503458baca7f7a4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1312/format:webp/1*BNosVXLb7YuaC6bvWcSR0Q.png"/></div></figure><p id="06a7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于该文件，您将激活<strong class="js iu"> eslint </strong>并在保存时格式化。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="abb3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我喜欢用<a class="ae mv" href="https://yarnpkg.com/" rel="noopener ugc nofollow" target="_blank">纱</a>而不是<a class="ae mv" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank"> npm </a>，但如果你更喜欢用npm，可以跳过这一步。删除<strong class="js iu"> package-lock.json </strong>。</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="4e64" class="nl lb it nh b gy nm nn l no np">$ rm package-lock.json</span></pre><p id="0ba2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，让我们添加依赖项。要在TypeScript中添加依赖项，我们需要在依赖项名称前面加上“@types/”,例如，如果我们想安装<strong class="js iu"> express </strong>，我们需要安装<strong class="js iu"> @types/express </strong>。</p><p id="7a08" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我将在这里添加我们将用于该项目的所有依赖项。然后…</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="bf28" class="nl lb it nh b gy nm nn l no np">$ yarn add \<br/><a class="ae mv" href="http://twitter.com/types/bcrypt" rel="noopener ugc nofollow" target="_blank">@types/bcrypt</a> \<br/><a class="ae mv" href="http://twitter.com/types/cors" rel="noopener ugc nofollow" target="_blank">@types/cors</a> \<br/><a class="ae mv" href="http://twitter.com/types/dotenv" rel="noopener ugc nofollow" target="_blank">@types/dotenv</a> \<br/><a class="ae mv" href="http://twitter.com/types/express-graphql" rel="noopener ugc nofollow" target="_blank">@types/express-graphql</a> \<br/><a class="ae mv" href="http://twitter.com/types/jsonwebtoken" rel="noopener ugc nofollow" target="_blank">@types/jsonwebtoken</a> \<br/><a class="ae mv" href="http://twitter.com/types/lodash" rel="noopener ugc nofollow" target="_blank">@types/lodash</a> \<br/><a class="ae mv" href="http://twitter.com/types/mongoose" rel="noopener ugc nofollow" target="_blank">@types/mongoose</a> \<br/><a class="ae mv" href="http://twitter.com/types/yup" rel="noopener ugc nofollow" target="_blank">@types/yup</a> \<br/>bcrypt \<br/>concurrently \<br/>cors \<br/>dotenv \<br/>express \<br/>express-graphql \<br/>graphql \<br/>graphql-playground-middleware-express \<br/>jsonwebtoken \<br/>lodash \<br/>module-alias \<br/>mongoose \<br/>nodemon \<br/>ts-node \<br/>tsc \<br/>tslint \<br/>tslint-config-airbnb \<br/>tsutils \<br/>types \<br/>typescript \<br/>yup</span></pre><p id="1e6e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有些依赖对于我们的应用程序的功能来说不是必需的，但是对于开发来说是必需的，比如tests和prettier。在这种情况下，我们需要安装那些依赖项，但只是针对开发模式，然后…</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="d0e2" class="nl lb it nh b gy nm nn l no np">yarn add <strong class="nh iu">-D</strong> \<br/><a class="ae mv" href="http://twitter.com/types/chai" rel="noopener ugc nofollow" target="_blank">@types/chai</a> \<br/><a class="ae mv" href="http://twitter.com/types/express" rel="noopener ugc nofollow" target="_blank">@types/express</a> \<br/><a class="ae mv" href="http://twitter.com/types/mocha" rel="noopener ugc nofollow" target="_blank">@types/mocha</a> \<br/><a class="ae mv" href="http://twitter.com/types/node" rel="noopener ugc nofollow" target="_blank">@types/node</a> \<br/><a class="ae mv" href="http://twitter.com/types/supertest" rel="noopener ugc nofollow" target="_blank">@types/supertest</a> \<br/>chai \<br/>gts \<br/>mocha \<br/>prettier \<br/>supertest \<br/>typescript</span></pre><p id="4a06" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">package.json应该是这样的:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="c93c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">也许，图书馆的版本会有所不同，但这取决于你何时阅读本教程。</p><p id="316f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在我们需要对我们的<strong class="js iu">脚本</strong>进行一些修改，以添加更多的功能。让我们将下面的代码添加到package.json中。</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="9782" class="nl lb it nh b gy nm nn l no np">"start": "concurrently --kill-others 'npm run tsc:watch' 'npm run dev'",<br/>"dev": "nodemon build/src/index.js",<br/>"lint": "npx tslint --init",<br/>"tsc": "./node_modules/.bin/tsc",<br/>"tsc:watch": "./node_modules/.bin/tsc -w",<br/>"compile": "tsc -p .",<br/>"test": "NODE_ENV='test' mocha build/src/tests/*.test.js --exit",<br/>"script": "ts-node"</span></pre><p id="3b30" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最终的文件应该是这样的。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><blockquote class="nv nw nx"><p id="5cda" class="jq jr ny js b jt ju jv jw jx jy jz ka nz kc kd ke oa kg kh ki ob kk kl km kn im bi translated">嘿，山姆，你添加了太多的库、依赖项、脚本…我都糊涂了...<em class="it">😖</em></p></blockquote><p id="5f8f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">不要担心，我会一步一步地解释，当我使用每一个的时候。如果我现在把所有的内容都放进去，你的脑子会爆炸的。那就深呼吸。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="13ad" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们的代码遵循缩进、标记等模式。让我们使用<a class="ae mv" href="https://prettier.io/" rel="noopener ugc nofollow" target="_blank">更漂亮的</a>，然后让我们更新<strong class="js iu"> .prettierrc.js </strong>文件。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="2e4b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如您所见，这种配置将帮助我们更好地编码，它将自动为我们修复代码。例如，如果我们创建一个带引号的字符串，它将很容易转换成单引号。它会识别我们，然后继续下去。你可以添加更多的选项，并设置你喜欢的，见<a class="ae mv" href="https://prettier.io/docs/en/options.html" rel="noopener ugc nofollow" target="_blank">这里</a>漂亮者提供的选项。你可以在这里找到更多细节<a class="ae mv" href="https://glebbahmutov.com/blog/configure-prettier-in-vscode/" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="73f0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">还有一件事，让我们更新tsconfig.json文件。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="2940" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有了这个配置，我们将能够像这样导入文件。</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="42ab" class="nl lb it nh b gy nm nn l no np"><strong class="nh iu">import</strong> {abcd} <strong class="nh iu">from</strong> '@local/efgh'</span></pre><p id="6361" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这很重要，因为我们可以避免许多”../"在我们的代码中。</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="460a" class="nl lb it nh b gy nm nn l no np"><strong class="nh iu">import</strong> {abcd} <strong class="nh iu">from</strong> '../../../efgh'</span></pre><p id="d5e8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你可以在这篇文章中了解更多我所谈论的内容。</p><p id="9a15" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因此，有了这些配置，我们就可以着手编写代码了。</p><p id="36b7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">更新<strong class="js iu"> index.ts </strong>文件以创建一个简单的服务器。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="c65b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们开始应用程序。</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="1f76" class="nl lb it nh b gy nm nn l no np">$ yarn start</span></pre><p id="460b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您应该会看到类似这样的内容。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oc"><img src="../Images/20f0b08daeebe00371ff2dd7ee9d5ed7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7-6QM6PbXTKdPL08lH68pQ.png"/></div></div></figure><p id="6b35" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然而，我们不能做任何操作，因为我们的服务没有任何API。然后，让我们一步步地创建我们的服务器。</p><h2 id="9b63" class="nl lb it bd lc od oe dn lg of og dp lk kb oh oi lo kf oj ok ls kj ol om lw on bi translated">3.1.设置环境变量。</h2><p id="4fbe" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">在安装过程中，我们安装的一个库是<a class="ae mv" href="https://www.npmjs.com/package/dotenv" rel="noopener ugc nofollow" target="_blank"> dotenv </a>。使用<strong class="js iu"> dotenv，</strong>我们可以设置允许我们隐藏密钥的环境变量，因为这些变量存储在<strong class="js iu">中。env </strong>文件。在这个文件中，我们将创建负责存储utils变量的变量，主要是数据库链接(见第2节)和我们的JWT秘密。</p><blockquote class="nv nw nx"><p id="9b0c" class="jq jr ny js b jt ju jv jw jx jy jz ka nz kc kd ke oa kg kh ki ob kk kl km kn im bi translated">山姆，我知道你谈到的数据库链接，但什么是这样的JWT？</p></blockquote><p id="1a14" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">啊哈，JWT是<strong class="js iu"> JSON Web令牌</strong>，它是我们用来控制应用程序认证的工具。如果你想了解更多，你可以看看我的一个帖子，在那里我可以更深入地了解JWT。</p><div class="md me gp gr mf mg"><a href="https://medium.com/swlh/authentication-how-to-create-a-nodejs-application-using-jwt-cee8bc5a89fe" rel="noopener follow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd iu gy z fp ml fr fs mm fu fw is bi translated">身份验证:如何使用JWT创建NodeJS应用程序</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">用JSON Web令牌保护API</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">medium.com</p></div></div><div class="mp l"><div class="oo l mr ms mt mp mu ky mg"/></div></div></a></div><p id="8fe7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所以，让我们创造出<strong class="js iu">。env </strong>文件。</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="cd12" class="nl lb it nh b gy nm nn l no np">$ touch .env</span></pre><p id="559a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你是Windows用户，只需输入</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="0744" class="nl lb it nh b gy nm nn l no np">type nul &gt; .env</span></pre><p id="d18e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">⚠️注意:我不会把重点放在Windows命令上，但正如你所看到的，创建它们很容易。当我说<strong class="js iu">触摸</strong>时，只需将其替换为<strong class="js iu">类型的nul &gt; </strong>，或者使用您的IDE的命令。</p><p id="f8bc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后，让我们在创建的文件中添加下面的代码。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="4fdc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我将环境(<strong class="js iu"> NODE_ENV </strong>)设置为<em class="ny">开发</em>，将端口(<strong class="js iu"> SERVER_PORT </strong>)设置为5000。在开发模式下，URL ( <strong class="js iu"> SERVER_URL </strong>)是<a class="ae mv" href="http://HTTP://localhost" rel="noopener ugc nofollow" target="_blank"> HTTP://localhost </a>，我的秘密(<strong class="js iu"> JWT_SECRET </strong>)是动物秘密(可以更好，有创意，我没有😅)而我的服务器是<strong class="js iu"> SERVER_DB_DEV </strong>和<strong class="js iu"> SERVER_DB_TEST </strong>。</p><p id="3746" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">请注意，我在开发链接中更改了数据库。</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="1a52" class="nl lb it nh b gy nm nn l no np">mongodb+srv://admin:admin@cluster0-9ksfk.mongodb.net/<strong class="nh iu">development</strong>?retryWrites=true&amp;w=majority</span></pre><p id="098b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这样，我们就有了一个用于开发的数据库和另一个用于运行测试的数据库。</p><p id="56e8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">不要推动<strong class="js iu">非常重要。env </strong>文件到您的git。然后，将该文件添加到<strong class="js iu">中。gitignore </strong>。让我们创建并添加到我们的文件。</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="2fcc" class="nl lb it nh b gy nm nn l no np">$ touch .gitignore</span></pre><p id="bc7e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">加上这个。</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="f629" class="nl lb it nh b gy nm nn l no np"><em class="ny"># dotenv environment variables file<br/></em>.env</span></pre><p id="809b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我已经有一个. gitgnore文件，避免推送不必要的东西。你可以用它。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><h2 id="9797" class="nl lb it bd lc od oe dn lg of og dp lk kb oh oi lo kf oj ok ls kj ol om lw on bi translated">3.2.设置配置文件夹</h2><p id="01ae" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">在这一步中，我们将为每个环境创建配置文件。正如我在前一章提到的…</p><div class="md me gp gr mf mg"><a href="https://medium.com/@samarony.barros/animal-tribes-how-to-create-your-first-full-stack-typescript-graphql-application-76786e5520ed" rel="noopener follow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd iu gy z fp ml fr fs mm fu fw is bi translated">动物部落:如何创建你的第一个全栈类型脚本GraphQL应用程序？</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">如何使用Typescript、Node、React和GraphQL构建第一个全栈应用的完整教程</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">medium.com</p></div></div><div class="mp l"><div class="mq l mr ms mt mp mu ky mg"/></div></div></a></div><p id="cb7e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">…我们将创建三个环境:开发、测试和生产。因此，我们需要创建三个文件，并再创建一个文件来控制所有这些文件，即<strong class="js iu"> index.ts </strong>文件。</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="a5b7" class="nl lb it nh b gy nm nn l no np">$ cd src<br/>$ mkdir config<br/>$ touch config/index.ts config/development.ts config/test.ts config/production.ts</span></pre><p id="cae4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在<strong class="js iu"> development.ts </strong>文件中，我们来设置<strong class="js iu">上的变量。env </strong>，然后:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="5e9c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在第一行中，我们正在加载<strong class="js iu">中的变量。env </strong>文件，创建并导出配置变量。</p><p id="2352" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">同样的事情也适用于<strong class="js iu">测试。</strong></p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="86be" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这个文件中有三个不同之处，在L4(第四行)上，我直接添加了字符串“HTTP://localhost ”,而不是从. env中获取它。我只是想说明您可以直接设置一个变量，因为测试将在我们的机器上进行，所以为它创建另一个变量是没有意义的。L5也差不多，因为我们可以随心所欲的设置端口。在L6，我们正在建立从<strong class="js iu">获得的正确数据库。env </strong>。</p><p id="f5ab" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> production.ts </strong>文件有区别，它没有<strong class="js iu">要求(' dotenv') <em class="ny">。配置</em> () </strong>行。原因是，我们不是从dotenv获得这些变量，而是从云平台的环境变量中获得。请相信我🙂，我将在第4部分向您展示如何做到这一点。</p><div class="md me gp gr mf mg"><a href="https://medium.com/@samarony.barros/animal-tribes-how-to-create-your-first-full-stack-typescript-graphql-application-e7891ec4963a" rel="noopener follow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd iu gy z fp ml fr fs mm fu fw is bi translated">动物部落:如何创建你的第一个全栈类型脚本GraphQL应用程序？</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">如何使用Typescript、Node、React和GraphQL构建第一个全栈应用的完整教程</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">medium.com</p></div></div><div class="mp l"><div class="mq l mr ms mt mp mu ky mg"/></div></div></a></div><p id="947b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，只要这样做:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="00d8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，让我们创建索引文件。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="0830" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在L10中，我们根据环境(NODE_ENV)编写了配置变量。然后，我们完成了配置文件夹。</p><h2 id="7f0b" class="nl lb it bd lc od oe dn lg of og dp lk kb oh oi lo kf oj ok ls kj ol om lw on bi translated">3.3.设置数据库</h2><p id="6930" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">在这一步中，我们将创建连接和断开应用程序与数据库连接的函数。</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="2c8e" class="nl lb it nh b gy nm nn l no np">$ cd src<br/>$ mkdir db<br/>$ touch db/index.ts</span></pre><p id="6ad2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于MongoDB连接，我们将使用mongoose。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="d99f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在<a class="ae mv" href="https://mongoosejs.com/docs/connections.html" rel="noopener ugc nofollow" target="_blank">猫鼬官网</a>可以看到所有的连接选项。</p><h2 id="e98d" class="nl lb it bd lc od oe dn lg of og dp lk kb oh oi lo kf oj ok ls kj ol om lw on bi translated">3.4.设置模型</h2><p id="ebea" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">在这一节中，我们将创建模型来使我们的应用程序工作。正如我们在第1部分中提到的，我们需要战士和技能。如果您没有看到第1部分，请查看下面的链接。</p><div class="md me gp gr mf mg"><a href="https://medium.com/@samarony.barros/animal-tribes-how-to-create-your-first-full-stack-typescript-graphql-application-76786e5520ed" rel="noopener follow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd iu gy z fp ml fr fs mm fu fw is bi translated">动物部落:如何创建你的第一个全栈类型脚本GraphQL应用程序？</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">如何使用Typescript、Node、React和GraphQL构建第一个全栈应用的完整教程</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">medium.com</p></div></div><div class="mp l"><div class="mq l mr ms mt mp mu ky mg"/></div></div></a></div><p id="8639" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们创建我们的文件夹和文件。</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="dd6e" class="nl lb it nh b gy nm nn l no np">$ cd src<br/>$ mkdir models<br/>$ touch models/warrior-model.ts models/skill-model.ts models/tribe-model.ts</span></pre><blockquote class="nv nw nx"><p id="340c" class="jq jr ny js b jt ju jv jw jx jy jz ka nz kc kd ke oa kg kh ki ob kk kl km kn im bi translated">等等等等萨姆。我理解了warrior-model.ts和skill-model，但是你为什么要创建一个叫做tribe-model.ts的文件呢？<em class="it">🤔</em></p></blockquote><p id="3ecd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">谢谢提醒，我创建了两个文件:<strong class="js iu"> warrior.ts </strong>和<strong class="js iu"> skill.ts </strong>。但是我想补充一点，为部落创建一个枚举，我将在模型的文件夹中创建一个文件，因为它可以更有组织性。🙂</p><p id="5fb9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所以我们开始吧。</p><p id="acca" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">正如我在第1部分中所说的，战士必须有名字，战士名字，加入游戏的密码，以及所属的部落。</p><p id="89a1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了安全起见，我们不能将密码直接存储在数据库中，我们需要对它进行加密。为此，我们将使用<a class="ae mv" href="https://www.npmjs.com/package/bcrypt" rel="noopener ugc nofollow" target="_blank"> bcrypt </a>。因此，在保存战士之前，我们要加密密码。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="d5ff" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">正如您在L4中意识到的，我们有一个部落枚举的导入，但是我们仍然没有文件中的内容。所以，让我们来创造它。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="5a33" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这些是我在申请中选择的部落。</p><p id="def2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，我们有技能。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><h2 id="d811" class="nl lb it bd lc od oe dn lg of og dp lk kb oh oi lo kf oj ok ls kj ol om lw on bi translated">3.5.设置中间件</h2><p id="2e1f" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">要设置我们的中间件，我们需要JSON Web令牌(JWT)，我们要做的唯一一件事就是验证令牌。</p><p id="c649" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们创建我们的文件夹和文件。</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="60e6" class="nl lb it nh b gy nm nn l no np">$ cd src<br/>$ mkdir middlewares<br/>$ touch middlewares/validate-token.ts</span></pre><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="44d0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在ValidateResponse类型中，我们有id、warrior名称、iat(发布于)和exp(过期声明)，这两个最新的名称可以在<a class="ae mv" href="https://www.npmjs.com/package/jsonwebtoken" rel="noopener ugc nofollow" target="_blank"> jsonwebtoken库</a>中找到。</p><h2 id="4f75" class="nl lb it bd lc od oe dn lg of og dp lk kb oh oi lo kf oj ok ls kj ol om lw on bi translated">3.6.设置规则</h2><p id="e069" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">在数据库中添加任何东西之前，都需要以某种方式进行验证，然后我们需要建立一些规则来避免添加错误的值。</p><p id="a576" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为此，我们将使用<a class="ae mv" href="https://www.npmjs.com/package/yup" rel="noopener ugc nofollow" target="_blank"> Yup库</a>。有了yup，我们将能够验证一个必需的字段，字符数，如果是一个数字，如果战士的名字已经存在，等等。</p><p id="4092" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们创建我们的文件夹和文件。</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="a989" class="nl lb it nh b gy nm nn l no np">$ cd src<br/>$ mkdir rules<br/>$ touch rules/warrior-rules.ts rules/skill-rules.ts</span></pre><p id="458d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于warrior，我们必须验证三件事:注册、登录和部落。</p><p id="1db4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在我们需要考虑项目架构。如我之前所说，注册时，我们需要:全名、战士名和密码。那么，规则应该是:</p><ul class=""><li id="b3ae" class="op oq it js b jt ju jx jy kb or kf os kj ot kn ou ov ow ox bi translated"><strong class="js iu">全名</strong>:必选字符串</li><li id="7407" class="op oq it js b jt oy jx oz kb pa kf pb kj pc kn ou ov ow ox bi translated"><strong class="js iu">战士名字</strong>:必输字符串，至少3个字符，并且是唯一的名字。</li><li id="ae44" class="op oq it js b jt oy jx oz kb pa kf pb kj pc kn ou ov ow ox bi translated"><strong class="js iu">密码</strong>:为安全起见，由字母、数字和/或符号:@、！、#和%。</li></ul><p id="02dc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于登录，我们有一些非常相似的东西:</p><ul class=""><li id="713a" class="op oq it js b jt ju jx jy kb or kf os kj ot kn ou ov ow ox bi translated"><strong class="js iu">战士名字</strong>:必填字符串，至少3个字符，应该存在于数据库中。</li><li id="951a" class="op oq it js b jt oy jx oz kb pa kf pb kj pc kn ou ov ow ox bi translated"><strong class="js iu">密码</strong>:必填字符串，至少6个字符，与用户密码匹配。</li></ul><p id="870e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于部落来说，这很简单，只是一个必需的大写字符串。</p><p id="6fc0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">考虑到这一点，我们可以编写<strong class="js iu"> rules/warrior-rules.ts </strong>文件。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="3b81" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于技能，我们知道一个战士拥有它们，所以我们唯一需要验证的是战士是否有一个战士名字。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><h2 id="eb47" class="nl lb it bd lc od oe dn lg of og dp lk kb oh oi lo kf oj ok ls kj ol om lw on bi translated">3.7.设置GraphQL</h2><p id="5a99" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">最后，我们将跳过<a class="ae mv" href="https://graphql.org/" rel="noopener ugc nofollow" target="_blank"> GraphQL </a>的概念。我将介绍其中的一些。</p><ul class=""><li id="25ff" class="op oq it js b jt ju jx jy kb or kf os kj ot kn ou ov ow ox bi translated"><strong class="js iu">类型</strong> : GraphQL有自己的模式定义语言(SDL)，在这里我们可以创建一个API的模式。</li><li id="fde2" class="op oq it js b jt oy jx oz kb pa kf pb kj pc kn ou ov ow ox bi translated"><strong class="js iu">查询</strong>:我们可以通过查询获取数据。</li><li id="31a5" class="op oq it js b jt oy jx oz kb pa kf pb kj pc kn ou ov ow ox bi translated"><strong class="js iu">突变</strong>:我们可以用突变写数据。</li><li id="849b" class="op oq it js b jt oy jx oz kb pa kf pb kj pc kn ou ov ow ox bi translated"><strong class="js iu">解析器</strong>:实施的关键部件</li></ul><p id="444c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是你现在唯一需要知道的事情。我知道我说得很简洁，但如果你想更深入，你可以看看<a class="ae mv" href="https://www.howtographql.com/" rel="noopener ugc nofollow" target="_blank">如何掌握</a>。在我看来，这是关于GraphQL最好的教程之一。</p><p id="ff5c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">了解了这一点，我们就能够创建我们的GraphQL结构。我们已经安装了<a class="ae mv" href="https://www.npmjs.com/package/graphql" rel="noopener ugc nofollow" target="_blank"> GraphQL库</a>，接下来让我们创建文件夹和文件。</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="0b25" class="nl lb it nh b gy nm nn l no np">$ cd src<br/>$ mkdir graphql<br/>$ mkdir graphql/resolver<br/>$ touch graphql/mutation.ts graphql/query.ts graphql/schema.ts graphql/type.ts<br/>$ touch graphql/resolver/warrior-resolver.ts graphql/resolver/skill-resolver.ts</span></pre><p id="122f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">酷，来自<a class="ae mv" href="https://www.npmjs.com/package/graphql" rel="noopener ugc nofollow" target="_blank"> GraphQL库</a>，我必须解释一些概念。</p><p id="6942" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于打字，我们将使用<strong class="js iu"> GraphQLString </strong>，<strong class="js iu"> GraphQLInt </strong>，<strong class="js iu"> GraphQLID </strong>。如您所见，<strong class="js iu"> GraphQLString </strong>类型为<strong class="js iu">字符串，GraphQLInt </strong>类型为<strong class="js iu">整数，</strong>我们有一个特殊类型<strong class="js iu"> GraphQLID </strong>，类型为<strong class="js iu"> ID。</strong></p><p id="c19b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> GraphQLObjectType </strong>创建自己的类型，并且<strong class="js iu"> GraphQLNonNull </strong>禁止字段为空<strong class="js iu"/>。</p><p id="cc94" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后，我需要为战士和技能创建一个类型。但是我将添加另一个注册/登录专用的类型。如你所知，我们要使用JWT，那么我需要一个<strong class="js iu">令牌</strong>，这个类型将由令牌和战士本身组成。</p><p id="bc9c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后，我们来编写<strong class="js iu"> graphql/type.ts </strong>文件。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="7a40" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">太好了！！！我们有GraphQL类型。所以，让我们来处理关于我们游戏的问题。我们需要一个查询来获取<strong class="js iu">战士</strong>的信息，此外我们还需要另一个查询来获取<strong class="js iu">对手</strong>的信息。记住战士不能和同一个部落的人战斗，他需要和另一个部落的人战斗。然后我们需要得到所有的<strong class="js iu">对手</strong>(一个对手名单)。最后是一个战士/对手的<strong class="js iu">技能</strong>。对于这个项目，出于教学的原因，我将添加更多我们<strong class="js iu">不会</strong>在前端使用的查询。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="d3f9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">很好，让我们再来考虑一下建筑。我们需要以三种方式操作战士:注册、登录和更新部落。这意味着，我们需要创建一个向数据库添加新战士的函数(注册)，我们需要在传递战士名称和密码(登录)时验证用户是否存在，并更新用户选择的部落。我们知道，<strong class="js iu">突变</strong>负责写数据，然后我们需要创建它。然而，为了使我们的代码更简单，我将创建<strong class="js iu">解析器</strong>来说明这一点，然后您就可以调用变异解析器了。</p><p id="486d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们记下<strong class="js iu">graph QL/resolvers/warrior-resolver . ts</strong>。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="3560" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">不错！！！对于技能，我们只需要知道，当我们创建一个新的战士时，我们需要添加他/她的技能，并且每次战士有战斗时，我们都更新技能值。当一个战士被创造出来的时候，我们会在50到100之间随机添加数值。</p><p id="ae2c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后，让我们编写<strong class="js iu">graph QL/resolvers/skill-resolver . ts</strong>。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="7231" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有了分解器，我们就能制造突变。我们可以从解析器中导入函数。我们来写<strong class="js iu"> graphql/mutation.ts </strong></p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="842b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">太棒了，通过类型、查询和变异，我们可以创建模式。让我们编写<strong class="js iu"> graphql/schema.ts </strong></p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="c581" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">很简单，对吧？🙂</p><h2 id="82bd" class="nl lb it bd lc od oe dn lg of og dp lk kb oh oi lo kf oj ok ls kj ol om lw on bi translated">3.8.完成设置</h2><p id="6e30" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">现在我们已经有了格式良好的所有结构，我们可以更改<strong class="js iu"> index.ts </strong>来添加<a class="ae mv" href="https://github.com/graphql/graphiql" rel="noopener ugc nofollow" target="_blank"> GraphiQL </a>。是的，中间有个“我”。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="ecac" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有了这个，您就能够测试应用程序了。</p><p id="bb74" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在终端中，您应该键入。</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="2a03" class="nl lb it nh b gy nm nn l no np">$ yarn start</span></pre><p id="5b9d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您应该会看到类似这样的内容:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pd"><img src="../Images/e2347d35072e41dbd4ffe13668d83fa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BzrMQjbLmkv-kthArlaS4Q.png"/></div></div></figure><p id="2ab3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果一切运行正常，我们可以在任何浏览器中测试我们的GraphQL应用程序。在我的应用程序中，我将使用Google Chrome。然后，打开浏览器，输入</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="1319" class="nl lb it nh b gy nm nn l no np"><a class="ae mv" href="http://localhost:[PORT]" rel="noopener ugc nofollow" target="_blank">http://localhost:[PORT]</a>/graphql</span></pre><p id="07b0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">就我而言:</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="4fa6" class="nl lb it nh b gy nm nn l no np"><a class="ae mv" href="http://localhost:5000/graphql" rel="noopener ugc nofollow" target="_blank">http://localhost:5000/graphql</a></span></pre><p id="5ada" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您应该会看到图形界面。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pe"><img src="../Images/00adb6f3621bde787dc9ed68833e55b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iTcGDAlKIwxmenjLhs75EA.png"/></div></div></figure><p id="e08a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们可以做所有的查询和突变。但是，我真的很喜欢一个叫做<a class="ae mv" href="https://github.com/prisma-labs/graphql-playground" rel="noopener ugc nofollow" target="_blank"> GraphQL playground </a>的工具。然后，让我们将它添加到我们的应用程序中。这只是关于偏好。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="a356" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">区别在L13–14和L28线。现在，在浏览器中键入:</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="25c8" class="nl lb it nh b gy nm nn l no np"><a class="ae mv" href="http://localhost:[PORT]" rel="noopener ugc nofollow" target="_blank">http://localhost:[PORT]</a>/playground</span></pre><p id="9d14" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">就我而言:</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="0cb9" class="nl lb it nh b gy nm nn l no np"><a class="ae mv" href="http://localhost:5000/graphql" rel="noopener ugc nofollow" target="_blank">http://localhost:5000/</a>playground</span></pre><p id="4892" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">经过这一更改，您应该会看到这样的屏幕:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pf"><img src="../Images/99fedb31d6ef9a1985c754c7156913e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xkruLwGmeXW-DCnfckMWfw.png"/></div></div></figure><p id="1abd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">右侧是我们创建的文档和模式，您可以看到已经为您的应用程序创建的所有内容。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pf"><img src="../Images/8833b84eecfd8fca6bc300b2b28f0936.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DkAiXXDYAqZ0M1DiPOLdtQ.png"/></div></div><figcaption class="pg ph gj gh gi pi pj bd b be z dk translated">(计划或理论的)纲要</figcaption></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pe"><img src="../Images/d95de55aacd6daf3bfda9d824a5e4c70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uMJ_oklTARHsVfyLfs-sqg.png"/></div></div><figcaption class="pg ph gj gh gi pi pj bd b be z dk translated">文件（documents的简写）</figcaption></figure><p id="1eff" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后，让我们测试端点。</p><h2 id="3366" class="nl lb it bd lc od oe dn lg of og dp lk kb oh oi lo kf oj ok ls kj ol om lw on bi translated">3.9.测试</h2><p id="6379" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">在这一部分，我将向您展示我们的应用程序的测试。我将从两个方面来做这件事。通过手动测试和单元测试。在第一种情况下，我将使用Playground手动展示这一点，第二种方式是使用chai和mocha。</p><p id="04d6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> 3.9.1。手动测试</strong></p><p id="218c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"><em class="ny">3.9.1.1。</em>测试报名(突变)</strong></p><p id="20bc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">首先，让我们测试第一个突变来开始我们的应用程序，让我们测试一下<strong class="js iu">注册</strong>。我们需要将全名、战士名和密码作为参数传递。然后，作为结果，我想确切地看到战士ID、战士名字和全名，以比较事情是否顺利。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="d3d7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果我们在操场上测试时点击播放按钮。我们应该看到:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pk"><img src="../Images/95132a09cc16a971a4e0c7fc09097896.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lYoDVqDh_-MHIq2l9htE9Q.png"/></div></div></figure><p id="e538" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是，如果我们再次单击play按钮，它应该会抛出一个错误，通知用户已经存在。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pl"><img src="../Images/73f5a9301c1e27f513e4f4cfc7061287.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c-m7cWjIhYNQhHsKGRP0Tw.png"/></div></div></figure><p id="a11d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">很好，为了确保我们的应用程序正常工作，让我们看看我们在MongoDB上插入的数据。</p><p id="b06a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这就是了。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pm"><img src="../Images/c9f0114a473d56c1bcc87e3ea9e875bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0X0NUXrcQyoYZBitJt-esQ.png"/></div></div></figure><p id="41f8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"><em class="ny">3.9.1.2。测试登录(突变)</em> </strong></p><p id="2214" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于登录，我们只需要战士的名字和密码。在这种情况下，我们将在已创建的用户中使用相同的凭据。但是，如果你记得，这个突变返回战士和令牌，然后，从战士，我想看到确切的战士ID，战士的名字，和战士所属的部落，检查他们是否正确。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pf"><img src="../Images/3d8b1f695947b101138cc2228a13d961.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pry74a7Q4jFGODIXOpFyTQ.png"/></div></div></figure><p id="e70f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如我们所见，部落值为空。原因是我们没有为用户设置部落。但是我们有一种突变来做到这一点。让我们开始吧。</p><p id="3bff" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"><em class="ny">3.9.1.3。测试updateTribe(突变)</em> </strong></p><p id="f1b1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">关于这种变异的一个重要的事情是，因为它是受保护的，这意味着我们需要授权来使它工作，这种授权正是我们从以前的变异(登录)中获得的令牌。</p><p id="5787" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果您试图在没有授权的情况下调用突变，您应该会看到一个错误，通知您必须提供JWT。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pf"><img src="../Images/dae8303777a0fa1c0b304a769ab5aa45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HpaBouQRojv1zzcsjwno7g.png"/></div></div></figure><blockquote class="nv nw nx"><p id="bcc8" class="jq jr ny js b jt ju jv jw jx jy jz ka nz kc kd ke oa kg kh ki ob kk kl km kn im bi translated">嘿，山姆，我想我明白了。当然，它应该抛出一个错误。令牌与用户相关，如果你不提供令牌，你就不能更新战士。</p></blockquote><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="pn nu l"/></div></figure><p id="e417" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">没错。！！这就是我们不需要通过战士ID来更新它的原因。我们只需要授权令牌。为了提供授权，我们需要从<strong class="js iu"> HTTP头</strong>传递，你可以在操场底部找到。</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="41a0" class="nl lb it nh b gy nm nn l no np">{<br/>  "Authorization": &lt;YOUR TOKEN&gt;<br/>}</span></pre><p id="148a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">例如</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="2053" class="nl lb it nh b gy nm nn l no np">{<br/>  "Authorization": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVlYzRmMzIwMjc3NjgxYTRmYjVhM2E5NCIsIndhcnJpb3JuYW1lIjoic2FtMSIsImlhdCI6MTU4OTk2NTYwNiwiZXhwIjoxNTkwMDUyMDA2fQ.a2O5k0gi1GvXWmaPb-4aTPLetL55MjBEdsYS8nRZanA"<br/>}</span></pre><p id="8eb9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">那么，我们开始吧。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi po"><img src="../Images/3af55a96ec5ba3d557f4c332612439cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BWXxjPnugoHhoYZ1xeUTpA.png"/></div></div></figure><p id="be19" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"><em class="ny">3.9.1.4。测试addSkill(突变)</em> </strong></p><p id="f0c1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，让我们测试战士的技能增加。正如我们所知，我们将随机设置数据，然后我们只需要调用突变，但我会在返回时添加技能，以查看设置了哪些技能，以及战士名称。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pe"><img src="../Images/05e45331d62a5ec9c711754a1ca8b431.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4hME1iYGliNevDVXSV1TTQ.png"/></div></div></figure><p id="478f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">3.9.1.5<em class="ny">。测试更新技能(突变)</em> </strong></p><p id="35c5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如你所知，当战士战斗时，它会改变他/她的技能，那么让我们在智慧上加10分。你也看到了，现在的智慧是60，那我们就改成70吧。如果我们不通知其他技能，它会保持不变。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="ebc1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">⚠️注意:在接下来的调用中，您需要授权令牌，但是因为您知道这一点，并且我已经向您展示了这一点，我将不再在图片中显示授权，只是为了更好地可视化。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi po"><img src="../Images/6bde625d409de87c0d981ae87472adad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fVyPcP0-nyUPZ-on2OBmGQ.png"/></div></div></figure><p id="c96a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"><em class="ny">3.9.1.6。</em>测试战士(查询)</strong></p><p id="3a20" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在是测试查询的时候了，我们已经添加了数据，我们可以检查是否一切都是正确的。</p><p id="fcc5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们查询一个战士，看看结果。我们想要获取id、姓名、战士姓名和战士所属的部落。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pp"><img src="../Images/3fb281fee1d3a9428ff419dabd5659fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JXI5FnMePvLULBI-VeAzeg.png"/></div></div></figure><p id="d9fa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一个有趣的事情是，如果我们想得到密码，反过来，它应该是加密的。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pq"><img src="../Images/d787407187f455b30ab1d4d03a82e37b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eikTyo9YLcDc498KyPjMFA.png"/></div></div></figure><p id="18c7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="ny">3.9.1.7<strong class="js iu">。</strong></em>测试对手(查询)</p><p id="7f57" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个查询在我们的应用程序中非常有用，因为在一个查询中我们可以获得所有关于技能和战士的信息。</p><p id="7d43" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在MongoDB上，我会得到一个对手的信息。对手是属于另一个部落的另一个战士。</p><p id="8894" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我创建这个用户是为了测试。你已经知道如何做到这一点，你可以很容易地注册另一个用户。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pr"><img src="../Images/8637aea6b79da7288692038832f9220e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EPn3uVL1wpAH9uHlfobqFg.png"/></div></div></figure><p id="841f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有了这个，我就可以查询对手了。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ps"><img src="../Images/0c270cf9c020bca29c2c536af2f82ea5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SMeftqjyb1NOWMPjZno5TA.png"/></div></div></figure><p id="0c98" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"><em class="ny">3.9.1.8。</em>测试对手(查询)</strong></p><p id="efe9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，我们有最后一个查询。这个查询将得到一个对手列表，记住在这个列表中我们不能有和战士来自同一个部落的对手(这就是为什么我们称他们为对手，而不是盟友)。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pp"><img src="../Images/0c8cbd0ceacdc764e0c2f41c6b388522.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5nQuuFBKzu9WXhSeJ7LHMw.png"/></div></div></figure><p id="6620" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> 3.9.2。单元和集成测试</strong></p><p id="4d74" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">相当酷！我们已经手工测试了我们的应用程序。但是我们要做的是让我们的应用程序变得更好。为此，我们将创建单元和集成测试。</p><p id="b734" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你看一下<a class="ae mv" href="https://en.wikipedia.org/wiki/Test-driven_development" rel="noopener ugc nofollow" target="_blank">测试驱动开发(TDD) </a>，你会发现在方法论中，测试应该在开发本身之前编写。但是，出于说教的原因，我把它们留在了最后。</p><p id="6592" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我准备用<a class="ae mv" href="https://www.chaijs.com/" rel="noopener ugc nofollow" target="_blank">柴</a>和<a class="ae mv" href="https://mochajs.org/" rel="noopener ugc nofollow" target="_blank">摩卡</a>进行测试。如果你想更深入地了解这一点，可以看看我的帖子，我写下了如何使用chai和mocha进行测试。</p><div class="md me gp gr mf mg"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-make-tests-using-chai-and-mocha-e9db7d8d48bc"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd iu gy z fp ml fr fs mm fu fw is bi translated">如何用柴和摩卡做测试？</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">NodeJS应用程序的TDD</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">itnext.io</p></div></div><div class="mp l"><div class="pt l mr ms mt mp mu ky mg"/></div></div></a></div><p id="e264" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">首先，让我们创建文件夹和文件。</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="a786" class="nl lb it nh b gy nm nn l no np">$ cd src<br/>$ mkdir tests<br/>$ touch tests/helpers.ts tests/warrior.test.ts tests/skill.test.ts</span></pre><p id="aa0d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后，我们要写下一些帮手。我们需要一个函数来创建战士，一个创建技能，另一个清理数据库。创建最后一个是为了避免数据间的干扰。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="f2d3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">好了，现在我们可以为<strong class="js iu">测试/warrior.test.ts </strong>创建测试了。在这个文件中，我们将创建查询和变异来帮助我们编写测试。然后我们需要做一些特定的测试:</p><ul class=""><li id="065c" class="op oq it js b jt ju jx jy kb or kf os kj ot kn ou ov ow ox bi translated">应该得到战士</li><li id="7227" class="op oq it js b jt oy jx oz kb pa kf pb kj pc kn ou ov ow ox bi translated">难道<strong class="js iu">不应该</strong>用无效令牌获得战士吗</li><li id="9366" class="op oq it js b jt oy jx oz kb pa kf pb kj pc kn ou ov ow ox bi translated">应该得到所有战士</li><li id="9c96" class="op oq it js b jt oy jx oz kb pa kf pb kj pc kn ou ov ow ox bi translated">应该<strong class="js iu">不要</strong>用无效令牌得到所有战士吗</li><li id="e36a" class="op oq it js b jt oy jx oz kb pa kf pb kj pc kn ou ov ow ox bi translated">应该注册一个战士</li><li id="3a78" class="op oq it js b jt oy jx oz kb pa kf pb kj pc kn ou ov ow ox bi translated">难道<strong class="js iu">不应该</strong>注册一个没有战士名字的战士吗</li><li id="0278" class="op oq it js b jt oy jx oz kb pa kf pb kj pc kn ou ov ow ox bi translated">难道<strong class="js iu">不应该</strong>签约一个没有名字的战士吗</li><li id="3ab1" class="op oq it js b jt oy jx oz kb pa kf pb kj pc kn ou ov ow ox bi translated">不应该<strong class="js iu">注册一个没有密码的战士</strong></li><li id="87af" class="op oq it js b jt oy jx oz kb pa kf pb kj pc kn ou ov ow ox bi translated">应该登录一个战士</li><li id="2bee" class="op oq it js b jt oy jx oz kb pa kf pb kj pc kn ou ov ow ox bi translated">是否应该让<strong class="js iu">而不是</strong>用错误的凭证登录战士</li><li id="9f56" class="op oq it js b jt oy jx oz kb pa kf pb kj pc kn ou ov ow ox bi translated">应该将一个部落升级为战士</li><li id="c696" class="op oq it js b jt oy jx oz kb pa kf pb kj pc kn ou ov ow ox bi translated"><strong class="js iu">不应该</strong>更新部落为无令牌战士</li></ul><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="98bb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，我们可以测试技能。在<strong class="js iu">测试/skill.test.ts </strong>中，我们将测试:</p><ul class=""><li id="b710" class="op oq it js b jt ju jx jy kb or kf os kj ot kn ou ov ow ox bi translated">应该从战士那里获得技能</li><li id="5cf8" class="op oq it js b jt oy jx oz kb pa kf pb kj pc kn ou ov ow ox bi translated">应该获得所有战士的技能</li><li id="082a" class="op oq it js b jt oy jx oz kb pa kf pb kj pc kn ou ov ow ox bi translated">应该得到一个对手</li><li id="5388" class="op oq it js b jt oy jx oz kb pa kf pb kj pc kn ou ov ow ox bi translated"><strong class="js iu">不应该</strong>得到一个不存在的对手(错误的ID)</li><li id="34ed" class="op oq it js b jt oy jx oz kb pa kf pb kj pc kn ou ov ow ox bi translated">应该得到所有对手</li></ul><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt nu l"/></div></figure><h1 id="4679" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">4.结论</h1><p id="b6f5" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">仅此而已。</p><p id="13ac" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是教程的第二步。在本章中，你已经学习了如何使用typescript和GraphQL构建一个完整的服务器。你会在这里找到下一部分</p><div class="md me gp gr mf mg"><a href="https://medium.com/@samarony.barros/animal-tribes-how-to-create-your-first-full-stack-typescript-graphql-application-pt-3-frontend-dc69f71e1d62" rel="noopener follow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd iu gy z fp ml fr fs mm fu fw is bi translated">动物部落:如何创建你的第一个全栈类型脚本GraphQL应用程序？—第三部分:前端</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">如何使用Typescript、Node、React和GraphQL构建第一个全栈应用的完整教程</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">medium.com</p></div></div><div class="mp l"><div class="pu l mr ms mt mp mu ky mg"/></div></div></a></div><p id="5ec4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">其他部分你可以在这里找到。</p><div class="md me gp gr mf mg"><a href="https://medium.com/@samarony.barros/animal-tribes-how-to-create-your-first-full-stack-typescript-graphql-application-76786e5520ed" rel="noopener follow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd iu gy z fp ml fr fs mm fu fw is bi translated">动物部落:如何创建你的第一个全栈类型脚本GraphQL应用程序？</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">如何使用Typescript、Node、React和GraphQL构建第一个全栈应用的完整教程</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">medium.com</p></div></div><div class="mp l"><div class="mq l mr ms mt mp mu ky mg"/></div></div></a></div><div class="md me gp gr mf mg"><a href="https://medium.com/@samarony.barros/animal-tribes-how-to-create-your-first-full-stack-typescript-graphql-application-e7891ec4963a" rel="noopener follow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd iu gy z fp ml fr fs mm fu fw is bi translated">动物部落:如何创建你的第一个全栈类型脚本GraphQL应用程序？</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">如何使用Typescript、Node、React和GraphQL构建第一个全栈应用的完整教程</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">medium.com</p></div></div><div class="mp l"><div class="mq l mr ms mt mp mu ky mg"/></div></div></a></div><p id="1755" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你可以在我的<a class="ae mv" href="https://github.com/samaronybarros" rel="noopener ugc nofollow" target="_blank"> GitHub </a>中找到完整的项目，然后搜索<a class="ae mv" href="https://github.com/samaronybarros/animal-tribes-server" rel="noopener ugc nofollow" target="_blank">动物部落服务器库</a>。</p><p id="79c8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我希望我对你的知识有所贡献。有什么地方需要改进才能写出更好的文章，欢迎随时告诉我。告诉我，如果你有文章或代码的改进。</p><p id="3dec" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">感谢您耐心阅读本文。下一篇文章再见。</p><p id="6a00" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">看看我的其他文章。谢谢你能来。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="pn nu l"/></div></figure><h1 id="3927" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">5.我的其他文章</h1><div class="md me gp gr mf mg"><a href="https://medium.com/swlh/how-to-create-your-first-mern-mongodb-express-js-react-js-and-node-js-stack-7e8b20463e66" rel="noopener follow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd iu gy z fp ml fr fs mm fu fw is bi translated">如何创建你的第一个MERN (MongoDB，Express JS，React JS和Node JS)栈</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">嗨伙计们，</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">medium.com</p></div></div><div class="mp l"><div class="pv l mr ms mt mp mu ky mg"/></div></div></a></div><div class="md me gp gr mf mg"><a href="https://medium.com/swlh/how-do-i-deploy-my-code-to-heroku-using-gitlab-ci-cd-6a232b6be2e4" rel="noopener follow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd iu gy z fp ml fr fs mm fu fw is bi translated">如何使用GitLab CI/CD将我的代码部署到Heroku？</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">关于如何使用舞台和生产环境的教程</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">medium.com</p></div></div><div class="mp l"><div class="pw l mr ms mt mp mu ky mg"/></div></div></a></div><div class="md me gp gr mf mg"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-make-tests-using-chai-and-mocha-e9db7d8d48bc"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd iu gy z fp ml fr fs mm fu fw is bi translated">如何用柴和摩卡做测试？</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">NodeJS应用程序的TDD</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">itnext.io</p></div></div><div class="mp l"><div class="pt l mr ms mt mp mu ky mg"/></div></div></a></div><h1 id="0038" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">关于我</h1><p id="dcd6" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">Sam Barros是一名巴西人，作为一名软件工程师在柏林生活和工作。他是一个技术爱好者，他总是用自己的生活来帮助人们。</p><p id="f451" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">连接到:</p><ul class=""><li id="0ae1" class="op oq it js b jt ju jx jy kb or kf os kj ot kn ou ov ow ox bi translated">领英</li><li id="eefa" class="op oq it js b jt oy jx oz kb pa kf pb kj pc kn ou ov ow ox bi translated"><a class="ae mv" href="https://github.com/samaronybarros" rel="noopener ugc nofollow" target="_blank"> GitHub </a></li><li id="5c14" class="op oq it js b jt oy jx oz kb pa kf pb kj pc kn ou ov ow ox bi translated"><a class="ae mv" href="https://medium.com/@samarony.barros" rel="noopener">中型</a></li><li id="7a9d" class="op oq it js b jt oy jx oz kb pa kf pb kj pc kn ou ov ow ox bi translated"><a class="ae mv" href="https://sambarros.com/" rel="noopener ugc nofollow" target="_blank">个人网站</a></li></ul></div></div>    
</body>
</html>