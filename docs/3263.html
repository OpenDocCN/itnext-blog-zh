<html>
<head>
<title>The Holy Grail of React Router transitions on the web</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React路由器在网络上过渡的圣杯</h1>
<blockquote>原文：<a href="https://itnext.io/the-holy-grail-of-react-router-transitions-on-the-web-4b29a74861df?source=collection_archive---------2-----------------------#2019-11-08">https://itnext.io/the-holy-grail-of-react-router-transitions-on-the-web-4b29a74861df?source=collection_archive---------2-----------------------#2019-11-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/617a5f38aa86d601bebf6533f658efb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iIcTwOqKn3EBQLfC"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated"><a class="ae kf" href="https://variety.com/2018/film/news/monty-python-holy-grail-michael-palin-unseen-sketches-1202891971/" rel="noopener ugc nofollow" target="_blank">https://variety . com/2018/film/news/monty-python-holy-grail-Michael-Palin-unseen-sketches-1202891971/</a></figcaption></figure><p id="5128" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">去年我一直在用react-router-dom和react-pose完善路由转换。本周我破解了密码。</p><p id="1c6e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你有使用react-pose的经验，你可能熟悉react-router-dom Switch组件的动画。如果你是，你可能已经看到了很多问题，如动画停留在下一个渲染，或者从页面底部切换到另一个页面顶部时“跳转”。</p><p id="b889" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是我现在解决的问题，想和大家分享一下。如果您想立即开始，请查看这个codesandbox以获得最终解决方案:</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="li lj l"/></div></figure><p id="d5ef" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要做到这一点，您将需要这些依赖项</p><pre class="le lf lg lh gt lk ll lm ln aw lo bi"><span id="bab9" class="lp lq it ll b gy lr ls l lt lu">npm install <strong class="ll iu">react-router-dom react-pose </strong>--save</span></pre><h1 id="1b49" class="lv lq it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">动画开关. js</h1><p id="0415" class="pw-post-body-paragraph kg kh it ki b kj ms kl km kn mt kp kq kr mu kt ku kv mv kx ky kz mw lb lc ld im bi translated">这是我们的神奇组件，取代了react-router-dom <Switch/>组件。它处理与路线动画相关的一切，如动画方向，过渡速度和动画类型。</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="mx lj l"/></div></figure><h1 id="0301" class="lv lq it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">Routes.js</h1><p id="a92b" class="pw-post-body-paragraph kg kh it ki b kj ms kl km kn mt kp kq kr mu kt ku kv mv kx ky kz mw lb lc ld im bi translated">我们路线的傀儡主人，拿着一个所有路线的列表，里面有组件。将<Route/>组件渲染为<AnimatedSwitch/>的子组件</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="mx lj l"/></div></figure><h1 id="2f17" class="lv lq it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">要记住的事情</h1><p id="a167" class="pw-post-body-paragraph kg kh it ki b kj ms kl km kn mt kp kq kr mu kt ku kv mv kx ky kz mw lb lc ld im bi translated">包含所有页面的包装样式非常重要。我们希望将所有的routes position: fixed，这样当它们出现在页面上时，就不会有其他DOM元素干扰动画。如果你向下滚动，它将从下一页的顶部开始。将此类产品的宽度/高度设为100vw/vh。此外，确保子组件可以向下滚动通过该组件。</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="mx lj l"/></div></figure><p id="4f2a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">应该就是这样了。这是一个简单的包装器组合，您可以将它与整个应用程序分开。再看看codesandbox和代码。如果你有问题，请继续问！也想听听大家对此的解决方案。🐱‍👤</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="li lj l"/></div></figure></div></div>    
</body>
</html>