<html>
<head>
<title>5 static websites deployment options</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">5个静态网站部署选项</h1>
<blockquote>原文：<a href="https://itnext.io/5-static-websites-deployment-options-d0aac1570331?source=collection_archive---------3-----------------------#2020-11-09">https://itnext.io/5-static-websites-deployment-options-d0aac1570331?source=collection_archive---------3-----------------------#2020-11-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/205f8cc0beb76ba11bbfecb25a4f922b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T1tAElaHDl_mwUOSvdguTw.jpeg"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">克里斯蒂娜@ wocintechchat.com在<a class="ae jd" href="https://unsplash.com/s/photos/server?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><div class=""/><p id="8180" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">静态网站已经成为现代浏览器消费的主流内容交付媒介。在这篇博客中，我们将看看使用自动化CI/CD管道和不同的主机提供商来部署一个示例静态网站的不同方法。</p><p id="aba0" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">更有趣的是，示例网站是使用<a class="ae jd" href="https://dotnet.microsoft.com/apps/aspnet/web-apps/blazor" rel="noopener ugc nofollow" target="_blank"> Blazor </a>设计的，并在<a class="ae jd" href="https://en.wikipedia.org/wiki/Progressive_web_application" rel="noopener ugc nofollow" target="_blank"> PWA </a>选项打开的情况下使用<a class="ae jd" href="https://en.wikipedia.org/wiki/WebAssembly" rel="noopener ugc nofollow" target="_blank"> Web Assembly </a>编译的。这表明，不仅简单的网站可以作为静态内容交付，而且潜在的复杂web应用程序也可以从这种交付机制中受益。</p><h2 id="69bb" class="lb lc jg bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">先决条件</h2><p id="8b91" class="pw-post-body-paragraph kd ke jg kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">如果你想继续下去，你可以查看带有GitHub动作的<a class="ae jd" href="https://github.com/Piotr1215/pwa-sample" rel="noopener ugc nofollow" target="_blank"> my git repository </a>和带有部署脚本的<a class="ae jd" href="https://hub.docker.com/repository/docker/piotrzan/blazorindocker" rel="noopener ugc nofollow" target="_blank"> Docker Hub </a>。</p><p id="8ef0" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所有的构建和部署都是自动化的，并基于GitHub存储库的主分支的提交来触发。要部署到Netlify和Surge，您需要在两个主机提供商中创建帐户，并使用GitHub actions模板功能用Secrets中的内容替换部署清单中的变量。要访问和设置机密，请转到项目设置页面并找到机密选项卡。</p><figure class="ma mb mc md gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi lz"><img src="../Images/58549068c985ee4acd476175117f84fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7cONnbGKXAvpWeOTgHRtjA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">项目中的GitHub秘密管理</figcaption></figure><h2 id="575d" class="lb lc jg bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">动机</h2><p id="ae83" class="pw-post-body-paragraph kd ke jg kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">我写这篇博客的动机是展示静态内容的不同部署选项，并介绍免费提供的现代内容交付机制的主题。</p><p id="57e3" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">每个构建和部署都是完全自动化的，并利用了“管道作为代码”的概念，其中CI/CD管道中的每个步骤都表示为yaml文件的一部分。这个文件可以与您的源代码一起签入到存储库中，并作为工件之一进行版本化和维护。</p><p id="01d0" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们更详细地看看不同的部署选项。每个选项都有一个对应的yaml文件，详细说明了构建和部署站点所需的步骤。</p><h2 id="24ab" class="lb lc jg bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">1.部署到GitHub页面</h2><p id="8a2f" class="pw-post-body-paragraph kd ke jg kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated"><a class="ae jd" href="https://pages.github.com/" rel="noopener ugc nofollow" target="_blank"> GitHub pages </a>是GitHub中的一个内置部署选项。</p><figure class="ma mb mc md gt is"><div class="bz fp l di"><div class="me mf l"/></div></figure><h2 id="8880" class="lb lc jg bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">2.部署到网络</h2><p id="2597" class="pw-post-body-paragraph kd ke jg kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated"><a class="ae jd" href="https://www.netlify.com/" rel="noopener ugc nofollow" target="_blank"> Netlify </a>正在倡导一种叫做<a class="ae jd" href="https://jamstack.org/" rel="noopener ugc nofollow" target="_blank"> JAM Stack </a>的开发模式，这是一种预建的静态网站，使用API提供个性化内容。JAM Stack代表<strong class="kf jh">JavaScript API标记。</strong></p><p id="768c" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">部署静态站点的有效指南:<a class="ae jd" href="https://docs.netlify.com/site-deploys/create-deploys/" rel="noopener ugc nofollow" target="_blank">https://docs.netlify.com/site-deploys/create-deploys/</a></p><figure class="ma mb mc md gt is"><div class="bz fp l di"><div class="me mf l"/></div></figure><h2 id="898a" class="lb lc jg bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">3.部署到Docker Hub</h2><p id="9fd5" class="pw-post-body-paragraph kd ke jg kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">为什么我们要将web页面部署到docker容器中？可移植性是一个答案，一旦内容被打包到docker映像中，它就很容易在任何操作系统上运行，不需要外部配置。这也是在Kubernetes集群上运行工作负载的第一步。</p><figure class="ma mb mc md gt is"><div class="bz fp l di"><div class="me mf l"/></div></figure><figure class="ma mb mc md gt is"><div class="bz fp l di"><div class="me mf l"/></div></figure><h2 id="c682" class="lb lc jg bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">4.部署到公共云(Azure)</h2><p id="3edc" class="pw-post-body-paragraph kd ke jg kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">Azure Storage Account提供了一个有趣的功能，可以直接在blob容器中托管静态网站，很容易在容器上添加自定义域或CDN。</p><figure class="ma mb mc md gt is"><div class="bz fp l di"><div class="me mf l"/></div></figure><h2 id="d79d" class="lb lc jg bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">5.部署激增</h2><p id="101b" class="pw-post-body-paragraph kd ke jg kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">部署到Surge与部署到Netlify非常相似。一个额外的步骤是安装节点。Surge提供了非常快速的用户入门和简单的CLI，即使没有CI/CD也能快速部署页面。需要明确的是，Netlify提供了相同的功能，但是在帐户创建方面更复杂一些。</p><p id="7c96" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">浪涌入门:<a class="ae jd" href="https://surge.sh/help/getting-started-with-surge" rel="noopener ugc nofollow" target="_blank">https://surge.sh/help/getting-started-with-surge</a></p><figure class="ma mb mc md gt is"><div class="bz fp l di"><div class="me mf l"/></div></figure><h2 id="4025" class="lb lc jg bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">结论</h2><p id="4a65" class="pw-post-body-paragraph kd ke jg kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">我们已经看到了不同的托管平台是如何与GitHub项目提交时触发的全自动CI/CD管道轻松集成的。当然，每个部署可以手动触发，每个主机提供商提供免费层。值得注意的是，CI/CD管道不需要GitHub动作，事实上Azure管道是从Azure DevOps内部触发的。</p><p id="6b03" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所有提供商都提供额外的服务，如定制域、SSL证书和分析。</p><p id="59e6" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">快速内容交付成为基本的现代DevOps实践之一，在托管和交付静态内容领域，利用许多产品非常容易。</p></div></div>    
</body>
</html>