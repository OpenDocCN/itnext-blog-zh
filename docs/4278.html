<html>
<head>
<title>Adding EarlGrey to your iOS App with CocoaPods</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用CocoaPods将EarlGrey添加到您的iOS应用程序</h1>
<blockquote>原文：<a href="https://itnext.io/adding-earlgrey-to-your-ios-app-with-cocoapods-918d4ce1dfd0?source=collection_archive---------5-----------------------#2020-05-28">https://itnext.io/adding-earlgrey-to-your-ios-app-with-cocoapods-918d4ce1dfd0?source=collection_archive---------5-----------------------#2020-05-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/cdfd68d72af6c6f3a4102d81b7b3938d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MPbm-gPcmXyMKTDKhcm_NA.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">马特·西摩在<a class="ae kf" href="https://unsplash.com/s/photos/earl-grey-tea?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="dc79" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae kf" href="https://github.com/google/EarlGrey/tree/earlgrey2" rel="noopener ugc nofollow" target="_blank"> EarlGrey </a>是比较流行的iOS UI测试框架之一。它由Google开发，原生构建在<code class="fe le lf lg lh b">XCUITest</code>之上，使用Google的<a class="ae kf" href="https://github.com/google/eDistantObject" rel="noopener ugc nofollow" target="_blank"> eDistantObject </a>远程调用系统有效运行。</p><p id="0be5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这篇博客中，我将展示如何使用CocoaPods轻松地将其添加到您的iOS项目中。</p></div><div class="ab cl li lj hx lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="im in io ip iq"><p id="f760" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最新版本EarlGrey2分为两个部分——应用端和测试端。这两个组件位于各自的区域，应用程序位于被测应用程序中，测试端位于实际测试本身中，它们使用eDistantObject进行交互。</p><p id="2ca7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因为有两个不同的组件，所以您将在您的iOS项目中包含两个不同的pod。</p><p id="462e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">假设你在做一个名为<code class="fe le lf lg lh b">TheCatsApp</code>的iOS应用。当您在<code class="fe le lf lg lh b">TheCatsApp</code>上执行<code class="fe le lf lg lh b">pod init</code>时，应该会生成一个基本的Podfile，如下所示:</p><pre class="lp lq lr ls gt lt lh lu lv aw lw bi"><span id="cb92" class="lx ly it lh b gy lz ma l mb mc">target 'TheCatsApp' do</span><span id="16a9" class="lx ly it lh b gy md ma l mb mc">end</span><span id="e390" class="lx ly it lh b gy md ma l mb mc">target 'TheCatsAppUnitTests' do</span><span id="e788" class="lx ly it lh b gy md ma l mb mc">end</span><span id="5c54" class="lx ly it lh b gy md ma l mb mc">target 'TheCatsAppUITests' do</span><span id="573f" class="lx ly it lh b gy md ma l mb mc">end</span></pre><p id="56e6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">其中每个<code class="fe le lf lg lh b">target</code>都是Xcode项目中定义的目标。<code class="fe le lf lg lh b">TheCatsApp</code>目标是你的实际应用，其他分别是你的单元和UI测试目标。</p><p id="ed81" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">由于EarlGrey是一个UI测试框架，我们将把重点放在应用程序和UI测试目标上。</p><p id="9cef" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">更新您的Podfile，添加<code class="fe le lf lg lh b">EarlGreyApp</code>和<code class="fe le lf lg lh b">EarlGreyTest</code>，如下所示:</p><pre class="lp lq lr ls gt lt lh lu lv aw lw bi"><span id="aa4f" class="lx ly it lh b gy lz ma l mb mc">target 'TheCatsApp' do</span><span id="5843" class="lx ly it lh b gy md ma l mb mc">   pod 'EarlGreyApp'</span><span id="0d17" class="lx ly it lh b gy md ma l mb mc">end</span><span id="717d" class="lx ly it lh b gy md ma l mb mc">target 'TheCatsAppUnitTests' do</span><span id="25ae" class="lx ly it lh b gy md ma l mb mc">end</span><span id="8760" class="lx ly it lh b gy md ma l mb mc">target 'TheCatsAppUITests' do</span><span id="33c0" class="lx ly it lh b gy md ma l mb mc">   pod 'EarlGreyTest'</span><span id="2457" class="lx ly it lh b gy md ma l mb mc">end</span></pre><p id="47ac" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后在该目录上运行<code class="fe le lf lg lh b">pod install</code>来安装这些pod。</p><p id="770e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如你所见，我们将<code class="fe le lf lg lh b">EarlGreyApp</code>添加到我们的应用程序目标中，并将<code class="fe le lf lg lh b">EarlGreyTest</code>添加到我们的UI测试目标中。您可能会注意到，我们没有包含指向eDistantObject的pod链接，这是因为如果您查看EarlGrey2 eDistantObject的<a class="ae kf" href="https://github.com/google/EarlGrey/blob/earlgrey2/EarlGreyTest.podspec" rel="noopener ugc nofollow" target="_blank"> Podspec </a>，就会发现它已经作为一个依赖项包含在内了。</p><p id="217f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">运行<code class="fe le lf lg lh b">pod install</code>后，您已成功将EarlGrey添加到您的iOS应用程序中！</p><p id="09d2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要将它添加到您的Objective-C UI测试中，您可以像<code class="fe le lf lg lh b">#import &lt;EarlGreyTest/EarlGrey.h&gt;</code>一样导入它。要在Swift UI测试中使用EarlGrey，您只需添加<a class="ae kf" href="https://github.com/google/EarlGrey/blob/earlgrey2/TestLib/Swift/EarlGrey.swift" rel="noopener ugc nofollow" target="_blank"> EarlGrey Swift包装器</a>并添加桥接头，如<a class="ae kf" href="https://github.com/google/EarlGrey/blob/earlgrey2/docs/setup.md" rel="noopener ugc nofollow" target="_blank"> EarlGrey文档</a>所示。</p><p id="83b4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里还有一个示例项目<a class="ae kf" href="https://github.com/google/EarlGrey/tree/earlgrey2/Demo/EarlGreyExample" rel="noopener ugc nofollow" target="_blank">这里</a>有演示代码所有设置，显示我在这里解释的一切。</p><p id="8832" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">编码快乐！</p></div></div>    
</body>
</html>