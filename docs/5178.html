<html>
<head>
<title>Kubernetes explained deep enough</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Kubernetes解释得够深刻了</h1>
<blockquote>原文：<a href="https://itnext.io/kubernetes-explained-deep-enough-1ea2c6821501?source=collection_archive---------3-----------------------#2021-01-03">https://itnext.io/kubernetes-explained-deep-enough-1ea2c6821501?source=collection_archive---------3-----------------------#2021-01-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/f9d2a37b6445b6fd075eb2c918fd0b14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kXWnRA6BgrKAW-PfLfHZKQ.jpeg"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">图片由<a class="ae jd" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1332816" rel="noopener ugc nofollow" target="_blank">皮克斯拜</a>的Gerd Altmann 提供</figcaption></figure><div class=""/><div class=""><h2 id="549b" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">第1部分:导言</h2></div><p id="5d09" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">第1部分:简介——这个博客</p><p id="eb7d" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><a class="ae jd" href="https://piotrzan.medium.com/kubernetes-explained-deep-enough-storage-eb16a66483c2" rel="noopener">第二部分:Kubernetes解释得够深刻:存储</a></p><p id="6c04" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><a class="ae jd" href="https://piotrzan.medium.com/kubernetes-explained-deep-enough-deployments-371755fbe2a3" rel="noopener">第三部分:Kubernetes解释得足够深入:部署</a></p><p id="03d9" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><a class="ae jd" href="https://piotrzan.medium.com/kubernetes-explained-deep-enough-configuration-cd4a9d1d8dcd" rel="noopener">第四部分:Kubernetes解释得够深刻:配置</a></p><p id="cd3e" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><a class="ae jd" href="https://piotrzan.medium.com/kubernetes-explained-deep-enough-services-1a0647499616" rel="noopener">第5部分:服务可发现性、DNS、集群通信</a></p><p id="fc62" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">关于本博客的网络版以及关于docker、Kubernetes和Docker认证的更多信息，请访问:</p><div class="ip iq gp gr ir lr"><a href="https://dcaguide.net/#/" rel="noopener  ugc nofollow" target="_blank"><div class="ls ab fo"><div class="lt ab lu cl cj lv"><h2 class="bd jh gy z fp lw fr fs lx fu fw jf bi translated">Docker认证助理准备指南</h2><div class="ly l"><h3 class="bd b gy z fp lw fr fs lx fu fw dk translated">描述</h3></div><div class="lz l"><p class="bd b dl z fp lw fr fs lx fu fw dk translated">dcaguide.net</p></div></div></div></a></div><h1 id="e4e4" class="ma mb jg bd mc md me mf mg mh mi mj mk km ml kn mm kp mn kq mo ks mp kt mq mr bi translated">为什么是另一个Kubernetes系列？</h1><p id="e448" class="pw-post-body-paragraph kv kw jg kx b ky ms kh la lb mt kk ld le mu lg lh li mv lk ll lm mw lo lp lq ij bi translated">随着Kubernetes越来越受欢迎，优秀的在线资源和学习材料也越来越多。许多可用的信息要么是为绝对的初学者设计的，要么是对某个特定主题的深入研究。</p><p id="3a68" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我的目标是以实用的方式撰写Kubernetes主题，如存储、部署、服务等，并为每个人提供练习场景。这个想法是专注于核心功能，充分理解它并跟着练习。如果你已经看了一些教程，可能已经创建了pod或deployment，并准备好进入下一个级别，那么这个系列就是为你准备的。</p><p id="d0b7" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">它也可以用来帮助准备Kubernetes ( <a class="ae jd" href="https://medium.com/faun/preparation-and-resources-for-cka-exam-ca868fc678c9" rel="noopener"> CKA </a>、<a class="ae jd" href="https://piotrzan.medium.com/preparation-and-resources-for-ckad-exam-ea1b2e8888e3" rel="noopener"> CKAD </a>、CKS)或Docker认证(<a class="ae jd" rel="noopener ugc nofollow" target="_blank" href="/a-comprehensive-guide-to-docker-certified-associate-exam-d7f25b6374ca"> DCA </a>)。</p><p id="8e13" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">希望在完成本系列后，您将:</p><ul class=""><li id="a37a" class="mx my jg kx b ky kz lb lc le mz li na lm nb lq nc nd ne nf bi translated">对Kubernetes的不同方面有更深入的了解</li><li id="1962" class="mx my jg kx b ky ng lb nh le ni li nj lm nk lq nc nd ne nf bi translated">了解它们各自解决了什么问题</li><li id="01fc" class="mx my jg kx b ky ng lb nh le ni li nj lm nk lq nc nd ne nf bi translated">知道如何在实际场景中实现它</li></ul><p id="6741" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果你是Kubernetes的新手，但仍然想了解这个系列，我强烈推荐你去看看</p><ul class=""><li id="39bc" class="mx my jg kx b ky kz lb lc le mz li na lm nb lq nc nd ne nf bi translated"><a class="ae jd" href="https://github.com/collabnix/kubelabs" rel="noopener ugc nofollow" target="_blank"> Collabnix Github — Kubelabs </a>获取优秀的Kubernetes教程和练习。</li><li id="00aa" class="mx my jg kx b ky ng lb nh le ni li nj lm nk lq nc nd ne nf bi translated"><a class="ae jd" href="https://www.youtube.com/watch?v=X48VuDVv0do&amp;ab_channel=TechWorldwithNana" rel="noopener ugc nofollow" target="_blank"> Kubernetes初学者教程【4小时完整课程】</a>来自TechWorld与娜娜</li></ul><h1 id="e48b" class="ma mb jg bd mc md me mf mg mh mi mj mk km ml kn mm kp mn kq mo ks mp kt mq mr bi translated">Kubernetes沙盒</h1><p id="75bd" class="pw-post-body-paragraph kv kw jg kx b ky ms kh la lb mt kk ld le mu lg lh li mv lk ll lm mw lo lp lq ij bi translated">免费玩Kubernetes有很多不同的选择:</p><ul class=""><li id="9761" class="mx my jg kx b ky kz lb lc le mz li na lm nb lq nc nd ne nf bi translated"><strong class="kx jh">本地</strong>安装用<a class="ae jd" href="https://minikube.sigs.k8s.io/docs/" rel="noopener ugc nofollow" target="_blank"> Minikube </a>或<a class="ae jd" href="https://microk8s.io/" rel="noopener ugc nofollow" target="_blank"> MicroK8s </a></li><li id="4af6" class="mx my jg kx b ky ng lb nh le ni li nj lm nk lq nc nd ne nf bi translated"><strong class="kx jh">本地</strong>安装<a class="ae jd" href="https://www.vagrantup.com/" rel="noopener ugc nofollow" target="_blank">流浪汉</a>和<a class="ae jd" href="https://www.virtualbox.org/" rel="noopener ugc nofollow" target="_blank"> VirtualBox </a></li><li id="0ac3" class="mx my jg kx b ky ng lb nh le ni li nj lm nk lq nc nd ne nf bi translated">在Windows、Mac或Linux上使用<a class="ae jd" href="https://www.docker.com/products/docker-desktop" rel="noopener ugc nofollow" target="_blank"> Docker桌面</a>进行本地安装</li><li id="acca" class="mx my jg kx b ky ng lb nh le ni li nj lm nk lq nc nd ne nf bi translated"><strong class="kx jh">远程</strong>集群与<a class="ae jd" href="https://www.katacoda.com/" rel="noopener ugc nofollow" target="_blank">片甲</a></li><li id="71ec" class="mx my jg kx b ky ng lb nh le ni li nj lm nk lq nc nd ne nf bi translated"><strong class="kx jh">远程</strong>集群，可在任何公共云提供商获得免费积分，其中3个最受欢迎:Azure <a class="ae jd" href="https://docs.microsoft.com/en-us/azure/aks/" rel="noopener ugc nofollow" target="_blank"> AKS* </a>、谷歌云<a class="ae jd" href="https://cloud.google.com/kubernetes-engine/" rel="noopener ugc nofollow" target="_blank"> GKE </a>、AWS <a class="ae jd" href="https://aws.amazon.com/eks/?whats-new-cards.sort-by=item.additionalFields.postDateTime&amp;whats-new-cards.sort-order=desc&amp;eks-blogs.sort-by=item.additionalFields.createdDate&amp;eks-blogs.sort-order=desc" rel="noopener ugc nofollow" target="_blank"> EKS </a></li><li id="4c25" class="mx my jg kx b ky ng lb nh le ni li nj lm nk lq nc nd ne nf bi translated"><strong class="kx jh">远程</strong>集群或本地安装有<a class="ae jd" href="https://linuxcontainers.org/" rel="noopener ugc nofollow" target="_blank"> LXC容器</a></li><li id="2607" class="mx my jg kx b ky ng lb nh le ni li nj lm nk lq nc nd ne nf bi translated"><strong class="kx jh">远程</strong>集群<a class="ae jd" href="https://labs.play-with-k8s.com/" rel="noopener ugc nofollow" target="_blank"> PWK —与Kubernetes一起玩* </a></li></ul><p id="153d" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在大多数示例中，我们将使用PWK，因为不需要在本地安装任何东西，而且我们最终得到的环境足够强大，可以通过所有示例。一些示例将需要云提供商集群，这些将在AKS上完成。</p><p id="25fa" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">按照本指南<a class="ae jd" href="https://github.com/collabnix/kubelabs/blob/master/kube101.md" rel="noopener ugc nofollow" target="_blank">中的说明</a>设置3节点集群。1个主节点和2个工作节点</p><ul class=""><li id="e727" class="mx my jg kx b ky kz lb lc le mz li na lm nb lq nc nd ne nf bi translated"><code class="fe nl nm nn no b">git clone <a class="ae jd" href="https://github.com/collabnix/kubelabs" rel="noopener ugc nofollow" target="_blank">https://github.com/collabnix/kubelabs</a></code></li><li id="6ebf" class="mx my jg kx b ky ng lb nh le ni li nj lm nk lq nc nd ne nf bi translated"><code class="fe nl nm nn no b">cd kubelabs</code></li><li id="4e32" class="mx my jg kx b ky ng lb nh le ni li nj lm nk lq nc nd ne nf bi translated"><code class="fe nl nm nn no b">sh bootstrap.sh</code></li><li id="7636" class="mx my jg kx b ky ng lb nh le ni li nj lm nk lq nc nd ne nf bi translated">通过执行引导过程结束时输出的命令，将节点添加到群集</li></ul><blockquote class="np nq nr"><p id="fc5c" class="kv kw ns kx b ky kz kh la lb lc kk ld nt lf lg lh nu lj lk ll nv ln lo lp lq ij bi translated">PWK有时没有响应，因此您需要关闭会话，稍后再试</p><p id="d296" class="kv kw ns kx b ky kz kh la lb lc kk ld nt lf lg lh nu lj lk ll nv ln lo lp lq ij bi translated">指南要求设置5个节点，但对于我们的目的，3个就足够了(1个主节点，2个工作节点)</p><p id="0778" class="kv kw ns kx b ky kz kh la lb lc kk ld nt lf lg lh nu lj lk ll nv ln lo lp lq ij bi translated">万一PWK停机或没有反应，我建议安装Docker桌面</p></blockquote><h1 id="231c" class="ma mb jg bd mc md me mf mg mh mi mj mk km ml kn mm kp mn kq mo ks mp kt mq mr bi translated">设置集群可视化工具</h1><p id="06b1" class="pw-post-body-paragraph kv kw jg kx b ky ms kh la lb mt kk ld le mu lg lh li mv lk ll lm mw lo lp lq ij bi translated">一旦集群准备就绪，让我们设置一些工具:</p><ul class=""><li id="4b80" class="mx my jg kx b ky kz lb lc le mz li na lm nb lq nc nd ne nf bi translated">更好的<code class="fe nl nm nn no b">kubectl</code>:这是 <code class="fe nl nm nn no b"><a class="ae jd" rel="noopener ugc nofollow" target="_blank" href="/portable-kubernetes-management-with-kubectl-in-docker-cb861a2c3c02">kubectl CLI</a></code>的<a class="ae jd" rel="noopener ugc nofollow" target="_blank" href="/portable-kubernetes-management-with-kubectl-in-docker-cb861a2c3c02">包装器，可以用这个命令安装:</a></li></ul><pre class="nw nx ny nz gt oa no ob oc aw od bi"><span id="7961" class="oe mb jg no b gy of og l oh oi"><em class="ns"># .kube/config is a symlink to /etc/kubernetes/admin.conf</em><br/><em class="ns"># running this container as root is only for testing purposes!</em></span><span id="c49b" class="oe mb jg no b gy oj og l oh oi">docker run --network=host --name=kubectl-host -v /etc/kubernetes/admin.conf:/root/.kube/config --rm -it piotrzan/kubectl-comp:zsh</span></pre><ul class=""><li id="bed1" class="mx my jg kx b ky kz lb lc le mz li na lm nb lq nc nd ne nf bi translated"><a class="ae jd" href="https://octant.dev/" rel="noopener ugc nofollow" target="_blank"> Octant </a>是一款VMWare开源集群可视化工具，在浏览器中运行，因此无需本地安装。</li></ul><p id="0b36" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">所有这些工具将使我们能够更容易地在集群中移动，并帮助我们可视化和学习。</p><h1 id="1dd7" class="ma mb jg bd mc md me mf mg mh mi mj mk km ml kn mm kp mn kq mo ks mp kt mq mr bi translated">练习文件</h1><p id="b954" class="pw-post-body-paragraph kv kw jg kx b ky ms kh la lb mt kk ld le mu lg lh li mv lk ll lm mw lo lp lq ij bi translated">练习和示例代码位于<a class="ae jd" href="https://github.com/Piotr1215/dca-exercises" rel="noopener ugc nofollow" target="_blank">单独的存储库</a>中。您可以克隆它并直接从命令行工作，或者使用<code class="fe nl nm nn no b">kubectl</code>远程定位您想要部署的文件或文件夹。</p><h1 id="9305" class="ma mb jg bd mc md me mf mg mh mi mj mk km ml kn mm kp mn kq mo ks mp kt mq mr bi translated">结构</h1><p id="ecbf" class="pw-post-body-paragraph kv kw jg kx b ky ms kh la lb mt kk ld le mu lg lh li mv lk ll lm mw lo lp lq ij bi translated">该系列中的每个帖子都将遵循相同的核心结构:</p><ol class=""><li id="3635" class="mx my jg kx b ky kz lb lc le mz li na lm nb lq ok nd ne nf bi translated">它是如何工作的？</li><li id="6871" class="mx my jg kx b ky ng lb nh le ni li nj lm nk lq ok nd ne nf bi translated">它解决什么问题？</li><li id="d578" class="mx my jg kx b ky ng lb nh le ni li nj lm nk lq ok nd ne nf bi translated">如何实施？</li></ol><h1 id="5e69" class="ma mb jg bd mc md me mf mg mh mi mj mk km ml kn mm kp mn kq mo ks mp kt mq mr bi translated">摘要</h1><p id="1dda" class="pw-post-body-paragraph kv kw jg kx b ky ms kh la lb mt kk ld le mu lg lh li mv lk ll lm mw lo lp lq ij bi translated">敬请关注本系列的第一部分，我们将讨论Kubernetes存储，特别是卷、持久卷和持久卷声明！</p></div></div>    
</body>
</html>