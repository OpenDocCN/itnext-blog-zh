<html>
<head>
<title>Deploying Your Blazor Application to Azure</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将Blazor应用程序部署到Azure</h1>
<blockquote>原文：<a href="https://itnext.io/deploying-your-blazor-application-to-azure-be0cd568ab31?source=collection_archive---------2-----------------------#2020-01-03">https://itnext.io/deploying-your-blazor-application-to-azure-be0cd568ab31?source=collection_archive---------2-----------------------#2020-01-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="2fc7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">本文是我和ondřej·波里斯</em>  <em class="kl">的系列文章的一部分。为了赶上进度，请查看以前的</em> <a class="ae ko" href="#e90d" rel="noopener ugc nofollow"> <em class="kl">文章</em> </a></p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi kp"><img src="../Images/614d4e5ced4ddeb46a7d0c12674e1152.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tvu9JZrAYLlbpA91Q65FSA.jpeg"/></div></div></figure><blockquote class="lb lc ld"><p id="96b2" class="jn jo kl jp b jq jr js jt ju jv jw jx le jz ka kb lf kd ke kf lg kh ki kj kk ij bi translated"><em class="iq">您已经使用ASP.NET的最新功能Blazor创建了一个令人惊叹的交互式web应用程序，但是现在呢？你如何向世界展示你所有的努力？你在哪里举办？你怎么去那里？</em></p></blockquote><p id="8a8c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本文中，我们将向您展示如何将您的Blazor应用程序部署到微软的云计算服务Azure。我们还将使用Visual Studio 2019来发布/部署应用程序。Visual Studio提供了将应用程序部署到集成开发环境(IDE)中的文件夹、IIS、Azure或其他目标的能力，从而减少了将应用程序呈现给用户所需的步骤。</p><h1 id="4f77" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">设置环境</h1><p id="4bf9" class="pw-post-body-paragraph jn jo iq jp b jq mf js jt ju mg jw jx jy mh ka kb kc mi ke kf kg mj ki kj kk ij bi translated">在部署应用程序之前，我们需要创建和配置环境来保存和服务应用程序。我们将在Azure中使用属于免费层帐户使用的服务。要查看免费等级帐户上所有可用内容的列表，请点击<a class="ae ko" href="https://azure.microsoft.com/en-us/free/" rel="noopener ugc nofollow" target="_blank">此处</a>。</p><h1 id="f001" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">在Azure中创建web应用程序</h1><p id="d5dd" class="pw-post-body-paragraph jn jo iq jp b jq mf js jt ju mg jw jx jy mh ka kb kc mi ke kf kg mj ki kj kk ij bi translated">登录Azure <a class="ae ko" href="https://portal.azure.com" rel="noopener ugc nofollow" target="_blank">门户</a>。</p><p id="5e81" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在门户中，单击左侧菜单上的“+”符号。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi mk"><img src="../Images/5e84306ddf98472d1db25903a70168f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*OaoCJi_bQaP3Gvj7.png"/></div></div></figure><p id="48d2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在市场中，搜索“Web App”，</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ml"><img src="../Images/354748f5a449872cc54c1ad5ccefa03f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5aopaPI3OySwigpH.png"/></div></div></figure><p id="160a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">并点击“创建”。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ml"><img src="../Images/a9fe1aa01b85b37b95b7bab2d552cf2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UrgMWIi2SaWxiDI4.png"/></div></div></figure><p id="1f44" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在“基本”选项卡上，确保选择了您希望使用的套餐。我们将创建一个新的资源组来包含我们的应用服务。资源组是共享相同生命周期、权限和策略的资源的集合。然后为我们的应用程序提供一个实例名。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ml"><img src="../Images/b2ffedbe60c93a08e5ffa70dda0acfc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KtWm143iuu0tw3Vp.png"/></div></div></figure><p id="1c0b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">向下滚动页面，将“操作系统”更改为“Windows”，将“运行时堆栈”更改为。“网芯3.0(当前)”。而。NET Core 3.1 (LTS)于2019年12月3日发布，在撰写本文时，Azure上Windows下运行的web应用程序目前不支持最新版本的。开箱即用的NET Core。不用担心，我们仍然可以运行最新版本的。NET Core加上一点额外的配置。我们将在本文的后面对此进行配置。</p><p id="c6d9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">保留其余选项的默认值。</p><p id="ca8e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">注:。NET Core 3.1 (LTS)可用于Azure上的Linux操作系统。</em></p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ml"><img src="../Images/72f7740a0a68575716b93bb85b17f7db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*QXb0WXHLsOFz4_Zx.png"/></div></div></figure><p id="0570" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在点击“查看+创建”</p><p id="8f55" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">验证所有选项是否正确，然后单击“创建”。这启动了Azure中的自动化过程，该过程在选定的区域数据中心内创建web应用环境。根据数据中心内的当前负载，此过程可能需要几分钟时间。</p><p id="9aff" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">部署完成后，单击“Go to resource”导航到新创建的资源。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ml"><img src="../Images/a0ba8e93e0340b9c3c0fec9c370433d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mY553--X7U_9BL2P.png"/></div></div></figure><h1 id="def0" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">正在配置。NET Core 3.1 (LTS)支持</h1><p id="ed6d" class="pw-post-body-paragraph jn jo iq jp b jq mf js jt ju mg jw jx jy mh ka kb kc mi ke kf kg mj ki kj kk ij bi translated">随着我们的web应用程序的创建，我们现在可以配置对。网络核心3.1 (LTS)。在web应用程序中，导航到“扩展”选项卡，然后单击“添加”以打开“添加扩展”窗口。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ml"><img src="../Images/d12ac81626ac394a1205408b0dc5fbd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_OD0AYFDOELMCrQZ.png"/></div></div></figure><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi mm"><img src="../Images/b7e90b5a536d4441720b403450c8b04f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*a5CDJtrgguACMrhB.png"/></div></div></figure><p id="ee32" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">点击“选择扩展”并选择“ASP。NET Core 3.1 (x64)运行时”。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ml"><img src="../Images/df425a5ca5c446642269a25ad2b2d676.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*oLeZa86MmuC5jg2o.png"/></div></div></figure><p id="6a5f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">单击“法律条款”，然后单击“确定”接受条款。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ml"><img src="../Images/91ac24154ac2870920b37696019c1971.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*fIGnh82Wlq0WrMOY.png"/></div></div></figure><p id="6f68" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在点击“添加扩展”窗口下的“确定”。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ml"><img src="../Images/e43ef1ed3c52485ba097caa08f150c6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*XDNnqbv28Nh_6uy1.png"/></div></div></figure><p id="19c9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有了添加到web应用程序中的扩展，我们可以运行需要。NET Core 3.1，而不必等待Azure的支持。当想要测试仅在预览版中可用的新功能时，也可以使用相同的过程。NET核心，像Blazor Web Assembly。</p><p id="e37a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在将Blazor应用程序发布到Azure之前，我们还需要完成一个步骤:将配置更新到x64。我们必须这样做，因为我们为安装了x64扩展。网芯3.1。</p><p id="1cc4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">导航到左侧菜单中的“配置”，选择“常规”选项卡，并将“平台”更新为“64位”。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ml"><img src="../Images/888ddac5dc89cd93ae158ed31b79eef6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*r49ul0uwiCES8GhA.png"/></div></div></figure><h1 id="9083" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">部署Blazor应用程序</h1><p id="02e3" class="pw-post-body-paragraph jn jo iq jp b jq mf js jt ju mg jw jx jy mh ka kb kc mi ke kf kg mj ki kj kk ij bi translated">随着Azure环境的创建和配置，我们现在已经准备好向它部署Blazor应用程序了。我们正在部署的应用程序可以从这里下载/克隆。我们还将从我们的Azure web应用服务中获取另一个文件，publish profile。</p><p id="5a48" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">导航到左侧菜单上的“概述”，然后单击“获取发布配置文件”。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ml"><img src="../Images/432ad3eea028e26a8153173da7ba3810.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qVx78QmBlPIvlv5u.png"/></div></div></figure><p id="70bc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">发布配置文件包含Visual Studio将应用程序部署到Azure所需的所有信息(FTP位置、凭据)。</p><p id="0d6d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，在Visual Studio 2019中打开上一步克隆的Blazor应用程序。右键单击项目“awesome-blazor-app”，然后单击“发布”。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ml"><img src="../Images/16aa6032588552effe4c34420bbb200b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ExrBPu-10jLjLFcI.png"/></div></div></figure><p id="daca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">点击“导入配置文件…”并导航到您几个步骤前从Azure下载发布配置文件的位置。选择设置文件，然后单击导入。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ml"><img src="../Images/7e096228a6d9a8c22c7f65d96f32fec7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*yQZPVyyOJdvk7tYH.png"/></div></div></figure><p id="ec8e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">导入发布配置文件后，单击“发布”。这将启动Visual Studio发布过程，该过程将在发布模式下构建应用程序，并在成功构建后，将文件FTP到我们之前创建的Azure web应用程序服务，并在您的默认浏览器中启动我们的站点。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ml"><img src="../Images/e8381e692da37a8f1063538b1023fbc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1L4xi_nLfl2voNhG.png"/></div></div></figure><h1 id="c43a" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">摘要</h1><p id="e7c0" class="pw-post-body-paragraph jn jo iq jp b jq mf js jt ju mg jw jx jy mh ka kb kc mi ke kf kg mj ki kj kk ij bi translated">在本文中，我们学习了如何在Azure中创建web应用程序环境来支持Blazor应用程序，以及如何将Blazor应用程序从Visual Studio发布到我们的Azure web应用程序环境中。我们还学习了如何在Azure中使用扩展来扩展对。NET Core 3.1 (LTS)到我们的web应用程序。这很好，但是不太容易维护，尤其是在团队环境中。我们将在下一篇文章中解决这个问题，我们将自动化整个构建和发布过程，消除瓶颈和部署孤岛。</p><h2 id="e90d" class="mn li iq bd lj mo mp dn ln mq mr dp lr jy ms mt lv kc mu mv lz kg mw mx md my bi translated"><strong class="ak">系列其他文章:</strong></h2><ol class=""><li id="852e" class="mz na iq jp b jq mf ju mg jy nb kc nc kg nd kk ne nf ng nh bi translated"><a class="ae ko" href="https://medium.com/@ryan.overton/what-is-this-blazor-everyones-talking-about-34529a3e1419" rel="noopener">每个人都在谈论的这个布拉索是什么？</a></li><li id="b0eb" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk ne nf ng nh bi translated"><a class="ae ko" rel="noopener ugc nofollow" target="_blank" href="/how-to-build-an-interactive-spa-with-blazor-a030bae66b68">如何用Blazor打造互动SPA</a></li><li id="3dee" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk ne nf ng nh bi translated"><a class="ae ko" rel="noopener ugc nofollow" target="_blank" href="/avoiding-parking-fines-with-blazor-and-geolocation-d45a9a831d93">使用Blazor和地理定位功能避免停车罚款</a></li><li id="8fcb" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk ne nf ng nh bi translated">将Blazor应用程序部署到Azure</li><li id="d36c" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk ne nf ng nh bi translated">将Blazor应用程序的构建和部署自动化到Azure</li></ol></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><p id="df3c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">最初发布于2020年1月3日</em><a class="ae ko" href="https://dev.to/onyxprime/deploying-your-blazor-application-to-azure-4b72" rel="noopener ugc nofollow" target="_blank"><em class="kl">https://dev . to</em></a><em class="kl">。</em></p></div></div>    
</body>
</html>