<html>
<head>
<title>Distributing apps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分发应用程序</h1>
<blockquote>原文：<a href="https://itnext.io/distributing-apps-6ab6861e2677?source=collection_archive---------5-----------------------#2019-02-21">https://itnext.io/distributing-apps-6ab6861e2677?source=collection_archive---------5-----------------------#2019-02-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f908" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用于测试、生产和中间的一切</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/48cc46a35dd0b7f2cc12c5c0187b7f2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YGoaruvLnII7t-DoZNgYvQ.png"/></div></div></figure><p id="2586" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当你开发iOS和android应用程序时，你的主要关注点是把你的应用程序发布给最终用户。但是，当你制作商业应用程序时，在接近公开发布之前，它们必须经过许多阶段，每个阶段都要求我们的应用程序以不同的方式发布。在本次演示中，我将解释我们如何在Intercept IP中管理这一点。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ln lo l"/></div></figure><h2 id="864c" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi translated"><strong class="ak"> 00:34 </strong></h2><p id="e58a" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">首先，让我们看看我们对应用程序分发的要求。</p><h2 id="6e88" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi translated"><strong class="ak"> 00:37 </strong></h2><p id="139b" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">我们需要为各种不同的目的分发我们的应用程序。</p><h2 id="1f91" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi translated"><strong class="ak"> 00:41 </strong></h2><ul class=""><li id="da9f" class="mn mo iq kt b ku mi kx mj la mp le mq li mr lm ms mt mu mv bi translated"><em class="mw">特性测试</em>——我们的代码变更符合目的吗？</li><li id="550e" class="mn mo iq kt b ku mx kx my la mz le na li nb lm ms mt mu mv bi translated"><em class="mw">回归和集成测试</em> —我们是否破坏了任何东西，应用程序是否还能与系统的其他部分进行对话？</li><li id="fe1b" class="mn mo iq kt b ku mx kx my la mz le na li nb lm ms mt mu mv bi translated"><em class="mw">产品负责人审核</em> —我们的产品团队对客户看到这个版本的应用程序是否满意？</li><li id="653f" class="mn mo iq kt b ku mx kx my la mz le na li nb lm ms mt mu mv bi translated"><em class="mw">用户接受度测试</em> —用户满意吗？</li><li id="1230" class="mn mo iq kt b ku mx kx my la mz le na li nb lm ms mt mu mv bi translated"><em class="mw">客户试用</em> —我们可能希望向客户提供应用程序的预发布版本</li><li id="861e" class="mn mo iq kt b ku mx kx my la mz le na li nb lm ms mt mu mv bi translated"><em class="mw">公开发布</em> —在应用商店发布应用</li></ul><h2 id="d6b8" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi">01:11</h2><p id="5ba9" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">作为我们发行策略的一部分，我们希望包括一些重要的功能。</p><h2 id="7a38" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi">01:17</h2><ul class=""><li id="1bc8" class="mn mo iq kt b ku mi kx mj la mp le mq li mr lm ms mt mu mv bi translated"><em class="mw">版本化</em> —我们需要对我们的应用程序进行版本化，这样我们就能确切地知道哪个版本中有哪些功能</li><li id="94a4" class="mn mo iq kt b ku mx kx my la mz le na li nb lm ms mt mu mv bi translated">多种环境 —你可能有一个测试环境，一个用户验收测试环境，和一个生产环境，我们的应用程序需要可供人们在这些环境中使用</li><li id="efc4" class="mn mo iq kt b ku mx kx my la mz le na li nb lm ms mt mu mv bi translated"><em class="mw">访问控制— </em>我们希望确保在经过适当的质量控制后，正确的人能够访问应用程序</li><li id="62e7" class="mn mo iq kt b ku mx kx my la mz le na li nb lm ms mt mu mv bi translated"><em class="mw">流程— </em>我们需要一个流程将所有这些整合在一起，并在正确的时间、在正确的环境中为正确的人提供正确的版本。</li></ul><h2 id="8a7d" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi">01:53</h2><p id="ec9e" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">让我们来看看其中的第一个，<em class="mw">应用版本</em></p><h2 id="b5ab" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi">01:57</h2><p id="4af9" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">当开发人员完成一小块工作时，他们会将它合并到我们的源代码控制主分支中。这将启动一个自动化过程，首先运行自动化测试以确保一切正常。如果是，它将对代码进行版本化。版本控制有效地用版本号标记了代码的那个片段。</p><h2 id="1c80" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi translated"><strong class="ak"> 02:23 </strong></h2><p id="36a1" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">这个版本是在android或iOS项目文件中设置的，在源代码控制中作为提交的标签，在我们的标签系统中作为修复版本，所以我们可以把所有东西绑在一起。</p><h2 id="dc5e" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi">02:38</h2><p id="62b8" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">这就是版本控制</p><h2 id="da42" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi">02:39</h2><p id="5e1c" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">接下来让我们看看<em class="mw">多种环境</em></p><h2 id="ebd6" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi">02:43</h2><p id="8445" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">对于我们想要分发的给定应用程序，我们会制作多种<em class="mw">风格的</em>。每种风格都是一个独立的应用程序，它们可以同时安装在一个设备上。它们由相同版本的相同代码构建而成，但它们封装了不同的配置，这让我们可以创建这些不同的应用程序，使用不同的图标，并指向不同的环境。</p><h2 id="89d4" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi">03:11</h2><p id="4b36" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">我们通过持续部署来制造这些口味。当新版本的代码到来时，我们已经为不同的应用程序风格准备了各种不同的配置文件，比如<em class="mw">测试</em>、<em class="mw"> UAT </em>和<em class="mw">生产</em>。构建服务器选择它需要的版本和配置的组合，然后打包并部署到它需要的地方。其他口味也一样。</p><h2 id="0703" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi">03:42</h2><p id="0728" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">这就是我们处理多种环境的方式。</p><h2 id="ffe5" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi">03:46</h2><p id="c2b5" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">接下来让我们看看如何处理<em class="mw">访问控制</em>。</p><h2 id="e35f" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi">03:48</h2><p id="0a0b" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">首先，我要谈谈我们使用的不同平台。对于在iOS上的公开发布，我们使用苹果应用商店，对于Android，我们使用谷歌Play商店。对于私有和测试版本，我们使用内置于App Store中的TestFlight，并使用内置于谷歌Play商店中的测试功能。</p><h2 id="41c7" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi">04:11</h2><p id="e689" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">TestFlight和Play Store允许我们建立不同的测试组或通道，以控制对不同版本应用程序的访问。首先，我们有内部测试小组。这是我们组织内部的一小部分人，他们需要立即访问我们应用的新版本。我们使用这个渠道进行特性测试、回归测试和集成测试。</p><p id="23d5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来我们有私人频道。我们根据自己的需要配置这些，但通常我们可能会有一个审查渠道。这是为了我们组织内部的一小部分人，他们需要尽早访问我们的应用程序，但要在他们通过一定程度的质量控制之后。然后我们有试用用户。这是一个更广泛的人群，他们可能来自我们组织的内部或外部。这些人需要访问我们的应用程序的预发布版本，但在它经过大量的质量控制之后。我们将这些用于产品所有者审查、用户验收测试和客户试用。</p><p id="4b8e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，我们有公共应用商店，在那里我们的应用通过公开发布走向更广阔的世界。</p><h2 id="0f18" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi">05:36</h2><p id="c432" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">让我们看看如何将我们的版本放入每个渠道。对于内部测试人员来说，当一个构建被部署时，一个新的版本会自动到达。对于私人渠道，我们手动提供一个经过适当质量控制的版本。对于App Store来说，这个过程稍微复杂一点。我们为应用程序商店创建截屏和更新内容，然后提交应用程序进行审查。一旦它通过审查，我们就可以把它提供给更广泛的世界。</p><h2 id="cddf" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi">06:14</h2><p id="2c09" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">在任何给定的时间，这些频道中的每一个都可以并且将会有不同的版本。</p><h2 id="de5f" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi">06:21</h2><p id="1818" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">这就是我们控制访问的方式。</p><h2 id="1782" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi">06:24</h2><p id="5161" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">最后让我们看看过程。</p><h2 id="7614" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi">06:34</h2><p id="50bf" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">左侧是我们的测试组，顶部是我们不同的应用风格。</p><p id="7ea7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当一个功能完成时，我们制作一个版本，打包并部署到应用程序的测试版本中，内部测试人员会在这里进行挑选。他们将测试这个版本中的新功能和错误修复。在某个时候，我们会打包一些特性，并决定要发布一个版本，然后测试人员会对该版本进行全面的回归测试。</p><p id="bfe6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当他们高兴，所有的测试都通过了，我们会把它做成UAT风味。他们会在这个内部测试通道里做一些烟雾测试。当他们高兴时，评审团队将可以访问该应用程序。他们会检查应用程序，并确保他们对其中的功能感到满意，并且他们对客户看到这个版本的应用程序感到满意。</p><p id="b80b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果是的话，我们会在内部试验中公布。我们将在内部测试中运行该应用程序一段时间，我们将对其进行监控，以确保该应用程序按预期运行。</p><p id="b132" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果是的话，我们会在应用程序的生产版本中发现它。同样，我们将在这里进行冒烟测试，一旦测试合格，我们将让客户试用。在这里，我们的客户可以看到应用程序的预发布版本，并确保他们的最终用户看到它感到高兴。如果是的话，我们会在app store上发布。</p><h2 id="bc1c" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi">08:08</h2><p id="901f" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">我们在Intercept IP的所有应用中都使用这一流程，但我们会根据应用的复杂程度进行大量定制。这正是我们驾驶分析产品IC6所遵循的流程。这是一个复杂的产品，它集成了硬件组件和后端系统，需要大量的审查和测试。</p><p id="eae4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在天平的另一端，我们可能有一个只有一个环境的非常简单的应用程序。从内测到UAT，再到App Store的路径非常简单。这是我们在阅读路标应用程序中使用的过程，它显示了马恩岛的路标信息。</p><h2 id="d8d2" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi">08:56</h2><p id="a1b8" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">这就解释了这个过程，并联系了我们如何为测试、生产和中间的一切分发应用程序。</p><h2 id="229c" class="lp lq iq bd lr ls lt dn lu lv lw dp lx la ly lz ma le mb mc md li me mf mg mh bi">09:08</h2><p id="636f" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">如果你想说“嗨”或者问我任何问题，我是twitter上的@GabEarnsh。</p></div></div>    
</body>
</html>