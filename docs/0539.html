<html>
<head>
<title>The DOM is crazy fast, yo</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">DOM是疯狂的快，哟</h1>
<blockquote>原文：<a href="https://itnext.io/the-dom-is-crazy-fast-yo-fe3e724f741e?source=collection_archive---------5-----------------------#2018-03-27">https://itnext.io/the-dom-is-crazy-fast-yo-fe3e724f741e?source=collection_archive---------5-----------------------#2018-03-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="1d5d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你觉得哪个框架最快？反应，预先行动，还是Vue？继续，猜猜☺️</p><p id="04f2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">React承诺提供<a class="ae kl" href="https://en.wikipedia.org/wiki/React_(JavaScript_library)" rel="noopener ugc nofollow" target="_blank">速度、简单性和可伸缩性</a>。</p><p id="7909" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Preact说这是一个反应更快的选择。</p><p id="3b15" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Vue说它平易近人，功能多样，性能卓越。</p><p id="3b8d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">那么…你认为这些快速框架中哪一个最快？</p><blockquote class="km kn ko"><p id="57cf" class="jn jo kp jp b jq jr js jt ju jv jw jx kq jz ka kb kr kd ke kf ks kh ki kj kk ij bi translated">注意:这是我的时事通讯的交叉帖子。我会在每封邮件发出两周后公布。<a class="ae kl" href="https://www.getdrip.com/forms/270040280/submissions/new" rel="noopener ugc nofollow" target="_blank">订阅</a>以便在您的收件箱中更早获得更多此类内容！💌</p></blockquote><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div class="gh gi kt"><img src="../Images/de424d89b4ed0d4270c0234016ba9ed1.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*IT6j_lhleUgW6R9q.gif"/></div></figure><p id="89e0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">没错！没有框架的普通JavaScript轻而易举地击败了它们。</p><p id="0397" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">没想到会这样，是吧？</p><p id="005a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">过去一两年发生了一些事情。我们过去都认为DOM很慢。你必须避免改变页面上的内容，你必须聪明地对待你所做的事情，不要更新。尽可能避免混日子。</p><p id="3b76" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">聪明的人创造了影子穹顶和虚拟穹顶，以及他们需要的任何其他抽象概念。所有这些都是为了在渲染到页面之前在JavaScript中进行计算和树差分。</p><p id="8050" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我甚至在我的工作室里说:不要担心做出改变。React使用智能算法使其速度超快。</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi lb"><img src="../Images/bf88d62b4437ee28df822f0827b07db4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*lygyiDw_FhdZZ9-e.png"/></div></div></figure><p id="6795" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是本周我一直在构建一个<a class="ae kl" href="https://dom-benchmark.now.sh/" rel="noopener ugc nofollow" target="_blank">交互式DOM操作基准</a>，而带有直接DOM访问的普通旧JavaScript赢得了胜利。差很多。</p><p id="3b60" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">React需要大约<code class="fe lg lh li lj b">12ms</code>的时间将1000个节点添加到一个<code class="fe lg lh li lj b">&lt;div&gt;</code>中，Vue做同样的事情(在我的机器上)，普通JavaScript在…</p><p id="6df5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">… <code class="fe lg lh li lj b">2ms</code>。😳</p><p id="537d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">即使经过40，000个节点后，它也保持不变。</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div class="gh gi lk"><img src="../Images/e272f279f59d29f489517aac58edda7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/0*LuGt5iyzFAGxPQVA.png"/></div></figure><p id="2fd3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">其他人都在20000左右开始挣扎。那是因为基准有点不公平。smart vanilla实现不检查任何节点中的更改，并且假设没有任何更改。React、Preact和Vue比较笼统，必须确定是这种情况。</p><p id="aa7c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是这里有一种最快的方法，可以使用普通的ol' JavaScript在一个<code class="fe lg lh li lj b">&lt;div&gt;</code>前添加或附加一堆节点。</p><figure class="ku kv kw kx gt ky"><div class="bz fp l di"><div class="ll lm l"/></div></figure><p id="061e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">显然，您不会希望在真实的项目中维护这样的代码。乏味得要命。</p><p id="d459" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是很高兴知道它的存在是为了当你需要挤出最后一毫秒来给你的朋友留下深刻印象。:)</p><p id="5e0b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们可以在Reactathon谈论这些事情。我将根据我最近在一家财富5强公司讲授的研讨会，讲授一个关于React和D3的为期1天的研讨会。你不想错过这个😉</p><h1 id="d5a6" class="ln lo iq bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">其他新闻…</h1><p id="32bd" class="pw-post-body-paragraph jn jo iq jp b jq ml js jt ju mm jw jx jy mn ka kb kc mo ke kf kg mp ki kj kk ij bi translated">3篇博客文章。一些生活编码。主要是关于交互式DOM基准测试。</p><ol class=""><li id="c40b" class="mq mr iq jp b jq jr ju jv jy ms kc mt kg mu kk mv mw mx my bi translated"><a class="ae kl" href="https://www.getdrip.com/4947882/broadcasts/617580675/email/preview" rel="noopener ugc nofollow" target="_blank">构建交互式DOM基准，初步结果</a></li><li id="a15e" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated"><a class="ae kl" href="https://www.getdrip.com/4947882/broadcasts/617580675/email/preview" rel="noopener ugc nofollow" target="_blank">无缝呈现react项目中的Preact组件</a>。这是一个有趣的破解方法。原来你可以动态设置JSX编译的方法。</li><li id="a80e" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated">用chroma-js让你的东西漂亮起来一篇关于Chroma.js的简短但甜蜜的帖子，这是我新喜欢的颜色库。让一切变得如此美好。</li></ol><p id="144d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">哦，我试过了！所以我可以把它加到基准中。不是粉丝。👉<a class="ae kl" href="https://swizec.com/blog/benchmarking-vue/swizec/8240" rel="noopener ugc nofollow" target="_blank">基准测试Vue </a></p><p id="e4ce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下一步是使基准具有协作性，并使用我的区块链-redux项目在浏览器之间共享结果。那会很有趣的。我等不及了。</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/5e7e41b82f82370cab621ebaaf6fa032.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/0*jwnk_gMmu0jfBQhQ.gif"/></div></figure><p id="4a0b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">用它来证明我在5月份的WeAreDevelopers世界大会上所谈论的东西的概念。</p><h1 id="fb23" class="ln lo iq bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">几件很酷的事→</h1><p id="0126" class="pw-post-body-paragraph jn jo iq jp b jq ml js jt ju mm jw jx jy mn ka kb kc mo ke kf kg mp ki kj kk ij bi translated">这是我本周发现的一些很酷的东西。</p><ul class=""><li id="ffbb" class="mq mr iq jp b jq jr ju jv jy ms kc mt kg mu kk nf mw mx my bi translated">这个<a class="ae kl" href="https://github.com/tsayen/dom-to-image" rel="noopener ugc nofollow" target="_blank"> dom-to-image </a>库获取一个dom节点并将其呈现为图像。不知道用它做什么，但它看起来很酷。</li><li id="b8af" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk nf mw mx my bi translated">这个叫做Alex 的JavaScript库会捕捉不体贴的书写并告诉你停止。默认情况下，互联网上的每个输入字段都应该有这个。想象一下，如果脸书或推特在你说不好的话时让你闭嘴。</li><li id="ee9a" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk nf mw mx my bi translated">丹·阿布拉莫夫关于React的未来的演讲，当然我还没有看过，因为我是一个拖延者。这是一个很棒的演讲，我读了所有关于它的推特，我对即将到来的事情超级兴奋。</li><li id="b9ea" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk nf mw mx my bi translated">迈克·林奇关于为什么他离开谷歌为自己工作的伟大文章。里面包含了很多关于工程职业的智慧。即使你不想走创业之路，你也应该记住:优化你为衡量标准所做的事情。其他都不重要。</li></ul><p id="f18b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">黑客快乐。</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/a831d2cd5b57cd32c7d912f699b32c41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/0*TDe43hw2KkU_EtOh.gif"/></div></figure><p id="91ca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">点击回复，告诉我你这周学到的一些很酷的东西。</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div class="gh gi kt"><img src="../Images/7f23e2496235738af5eab5a83d888341.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*-dO_KME901RDodfB.gif"/></div></figure><p id="b10e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">干杯，</p><p id="618e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">~Swizec</p></div><div class="ab cl nh ni hu nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ij ik il im in"><p id="8821" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kp">附言:如果你喜欢这个，一定要订阅</em><a class="ae kl" href="https://www.getdrip.com/forms/270040280/submissions/new" rel="noopener ugc nofollow" target="_blank"><em class="kp"/></a><em class="kp">，在</em> <a class="ae kl" href="http://twitter.com/swizec" rel="noopener ugc nofollow" target="_blank"> <em class="kp"> twitter上关注我</em> </a> <em class="kp">，给我买午餐，并与你的朋友分享😀</em></p></div></div>    
</body>
</html>