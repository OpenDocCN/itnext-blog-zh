<html>
<head>
<title>CKAD Scenarios Deployment Rollout Strategies</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">CKAD场景部署推广策略</h1>
<blockquote>原文：<a href="https://itnext.io/ckad-scenarios-deployment-rollout-strategies-a996a53b59e1?source=collection_archive---------0-----------------------#2022-05-08">https://itnext.io/ckad-scenarios-deployment-rollout-strategies-a996a53b59e1?source=collection_archive---------0-----------------------#2022-05-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c0d6" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">关于滚动、淡黄色和绿/蓝色部署的CKAD交互场景</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/bb9c0738e36e233422a530360fb2e454.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WEVgYpWeBx7u0QETy0Fmsg.png"/></div></div></figure><h2 id="6a1d" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">免费CKAD场景？是啊！</h2><p id="5da5" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">(我们也已经有了<a class="ae mg" href="https://killercoda.com/killer-shell-cka" rel="noopener ugc nofollow" target="_blank"> CKA </a>和<a class="ae mg" href="https://killercoda.com/killer-shell-cks" rel="noopener ugc nofollow" target="_blank"> CKS </a>的)</p><p id="8515" class="pw-post-body-paragraph ln lo iq lp b lq mh jr ls lt mi ju lv la mj lx ly le mk ma mb li ml md me mf ij bi translated">【killercoda.com/killer-shell-ckad】T5<a class="ae mg" href="https://killercoda.com/killer-shell-ckad" rel="noopener ugc nofollow" target="_blank">T6</a></p><h1 id="2ac2" class="mm ks iq bd kt mn mo mp kw mq mr ms kz jw mt jx ld jz mu ka lh kc mv kd ll mw bi translated">推广策略</h1><p id="5082" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">本周，我们增加了三个关于不同部署策略的场景，这可能对CKAD(和DevOps世界)很重要。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><a href="https://killercoda.com/killer-shell-ckad"><div class="gh gi mx"><img src="../Images/32124c9c51bdeffb75e0546bc9ff4648.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E8P1HnT2lx9FsXC-8csKXw.png"/></div></a></figure><h1 id="0519" class="mm ks iq bd kt mn mo mp kw mq mr ms kz jw mt jx ld jz mu ka lh kc mv kd ll mw bi translated">滚动展示</h1><p id="9710" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">在这个场景中，我们使用“<strong class="lp ir">滚动展示</strong>”或“<strong class="lp ir">滚动更新</strong>”策略来执行应用程序的更新。这是Kubernetes中的默认设置，如果您更新部署资源的映像，就会出现这种情况。</p><p id="c287" class="pw-post-body-paragraph ln lo iq lp b lq mh jr ls lt mi ju lv la mj lx ly le mk ma mb li ml md me mf ij bi translated"><a class="ae mg" href="https://killercoda.com/killer-shell-ckad/scenario/rollout-rolling" rel="noopener ugc nofollow" target="_blank">访问场景</a></p><blockquote class="my mz na"><p id="0ca8" class="ln lo nb lp b lq mh jr ls lt mi ju lv nc mj lx ly nd mk ma mb ne ml md me mf ij bi translated">滚动更新通过用新的Pods实例增量更新Pods实例，允许部署的更新在零停机的情况下进行。(<a class="ae mg" href="https://kubernetes.io/docs/tutorials/kubernetes-basics/update/update-intro" rel="noopener ugc nofollow" target="_blank">来源</a>)</p></blockquote><h1 id="059c" class="mm ks iq bd kt mn mo mp kw mq mr ms kz jw mt jx ld jz mu ka lh kc mv kd ll mw bi translated">绿色/蓝色卷展栏</h1><p id="a193" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">在此场景中，我们执行“<strong class="lp ir">绿色/蓝色部署</strong>”，其中我们同时拥有两个部署资源，但只有一个为流量提供服务。我们可以立即将所有流量(新请求)切换到新版本。</p><p id="a6b8" class="pw-post-body-paragraph ln lo iq lp b lq mh jr ls lt mi ju lv la mj lx ly le mk ma mb li ml md me mf ij bi translated"><a class="ae mg" href="https://killercoda.com/killer-shell-ckad/scenario/rollout-green-blue" rel="noopener ugc nofollow" target="_blank">访问场景</a></p><p id="302b" class="pw-post-body-paragraph ln lo iq lp b lq mh jr ls lt mi ju lv la mj lx ly le mk ma mb li ml md me mf ij bi translated">这个想法是让两个部署同时运行，一个使用旧的(绿色)映像，另一个使用新的(蓝色)映像。但是只有一个部署接收流量，而不是两个同时接收。</p><p id="9845" class="pw-post-body-paragraph ln lo iq lp b lq mh jr ls lt mi ju lv la mj lx ly le mk ma mb li ml md me mf ij bi translated">只有<strong class="lp ir">一个</strong>服务，而且只指向<strong class="lp ir">一个</strong>部署的吊舱。一旦我们将服务指向新部署的单元，所有新的请求都将到达新的映像。</p><h1 id="2fe4" class="mm ks iq bd kt mn mo mp kw mq mr ms kz jw mt jx ld jz mu ka lh kc mv kd ll mw bi translated">展示金丝雀</h1><p id="8920" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">在这个场景中，我们执行了一个“<strong class="lp ir">金丝雀部署</strong>”，在这里我们逐渐将流量切换到新版本。</p><p id="dbdb" class="pw-post-body-paragraph ln lo iq lp b lq mh jr ls lt mi ju lv la mj lx ly le mk ma mb li ml md me mf ij bi translated"><a class="ae mg" href="https://killercoda.com/killer-shell-ckad/scenario/rollout-canary" rel="noopener ugc nofollow" target="_blank">访问场景</a></p><p id="8695" class="pw-post-body-paragraph ln lo iq lp b lq mh jr ls lt mi ju lv la mj lx ly le mk ma mb li ml md me mf ij bi translated">Canary部署非常适合在生产环境中测试新的应用程序版本。例如，我们可以向新版本发送10%的流量(新请求)。如果有错误，那么至少不是所有的用户都受到影响，我们可以检查日志中的线索来修复。</p><p id="3c09" class="pw-post-body-paragraph ln lo iq lp b lq mh jr ls lt mi ju lv la mj lx ly le mk ma mb li ml md me mf ij bi translated">Canary部署可能需要几分钟甚至几天时间，直到切换超过100%，这始终取决于所实施的更改和应用程序架构。</p><h1 id="fe69" class="mm ks iq bd kt mn mo mp kw mq mr ms kz jw mt jx ld jz mu ka lh kc mv kd ll mw bi translated">下一步是什么？</h1><p id="1a54" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">我们计划每周创建新的CKAD挑战，并在此发布。接下来你想看什么主题？请在评论中告诉我们！</p><h1 id="a54f" class="mm ks iq bd kt mn mo mp kw mq mr ms kz jw mt jx ld jz mu ka lh kc mv kd ll mw bi translated">保持最新和通知！</h1><p id="a7a2" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated"><a class="ae mg" href="https://twitter.com/killercoda" rel="noopener ugc nofollow" target="_blank">推特</a></p><p id="a810" class="pw-post-body-paragraph ln lo iq lp b lq mh jr ls lt mi ju lv la mj lx ly le mk ma mb li ml md me mf ij bi translated"><a class="ae mg" href="https://www.linkedin.com/company/killercoda" rel="noopener ugc nofollow" target="_blank">领英</a></p><h1 id="bc01" class="mm ks iq bd kt mn mo mp kw mq mr ms kz jw mt jx ld jz mu ka lh kc mv kd ll mw bi translated">结束了</h1><p id="d091" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">【killercoda.com】|<a class="ae mg" href="https://killer.sh/" rel="noopener ugc nofollow" target="_blank">killer . sh</a></p></div></div>    
</body>
</html>