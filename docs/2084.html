<html>
<head>
<title>Build a CSS syntax highlighter with React and Styled Components</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用React和Styled组件构建CSS语法荧光笔</h1>
<blockquote>原文：<a href="https://itnext.io/build-a-css-syntax-highlighter-with-react-and-styled-components-75121d07605b?source=collection_archive---------8-----------------------#2019-03-27">https://itnext.io/build-a-css-syntax-highlighter-with-react-and-styled-components-75121d07605b?source=collection_archive---------8-----------------------#2019-03-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/e8b4beb02e78c07284b7d9b29ed31673.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VDBU0jffAp3QufRIHhHAIg.jpeg"/></div></div></figure><p id="d2d3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我最近用GatsbyJS创建了一个风格指南，需要提供CSS块作为例子。我想块有语法突出，易于阅读，并有一个快速复制功能，为那些使用指南。我找不到一个具有我需要的所有特性的组件，所以我决定用<a class="ae kz" href="https://www.styled-components.com/" rel="noopener ugc nofollow" target="_blank">风格的组件</a>来制作自己的组件。</p><p id="2dd4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">完成的组件可以在这个Gist中找到:<a class="ae kz" href="https://gist.github.com/tomanagle/4c2ffaa2b2aeffc020f7fa7eb7ba6fa7" rel="noopener ugc nofollow" target="_blank">https://Gist . github . com/to managle/4c 2 ffaa 2 b 2 aeffc 020 f 7 fa 7 EB 7 ba 6 fa 7</a></p><p id="eca5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">该组件将接受一个CSS字符串，分割它，遍历它，并为每个片段添加样式化的包装。</p><p id="6564" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">一行CSS有四个部分:规则(宽度、字体大小、边距等)、冒号分隔符(:)、值和结束符(；).</p><p id="581e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">第一步是检查渲染道具是否是字符串类型，我们可以用下面的函数来完成。</p><p id="51fc" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">下一步是分裂和地图功能。</p><p id="57c3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">四个部分中的每一个都应该单独包装和设计。这是我使用样式组件的地方，但是您可以使用任何您喜欢的样式模块。</p><p id="95d7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">map函数输出包装在其组件中的每个段，后跟一个break标记。</p><p id="70c5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">复制按钮创建了一个文本区域，将渲染属性值放入文本区域，选择文本区域的值，复制该值并从DOM中移除文本区域。</p><p id="4ca0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我还为复制按钮创建了一个样式化的组件。</p><p id="2179" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">为了安全起见，我将输出函数包装在一个try-catch中，这样，如果用户错误地使用了组件，我可以向用户输出一个适当的错误，或者我可以针对不同的用例调整组件。</p><p id="eb6e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">完成后，整个组件将如下所示:</p><p id="cc8e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">要使用该组件，请将您的CSS包装在新的CSS组件中。</p></div><div class="ab cl la lb hx lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="im in io ip iq"><h2 id="b0fe" class="lh li it bd lj lk ll dn lm ln lo dp lp km lq lr ls kq lt lu lv ku lw lx ly lz bi translated">🌎让我们保持联系</h2><p id="52a0" class="pw-post-body-paragraph kb kc it kd b ke ma kg kh ki mb kk kl km mc ko kp kq md ks kt ku me kw kx ky im bi translated"><a class="ae kz" href="https://www.youtube.com/TomDoesTech" rel="noopener ugc nofollow" target="_blank">在YouTube上订阅</a> <br/> <a class="ae kz" href="https://discord.gg/4ae2Esm6P7" rel="noopener ugc nofollow" target="_blank">不和</a> <br/> <a class="ae kz" href="https://twitter.com/tomdoes_tech" rel="noopener ugc nofollow" target="_blank">推特</a> <br/> <a class="ae kz" href="https://www.tiktok.com/@tomdoestech" rel="noopener ugc nofollow" target="_blank">抖音</a> <br/> <a class="ae kz" href="https://www.facebook.com/tomdoestech" rel="noopener ugc nofollow" target="_blank">脸书</a><br/><a class="ae kz" href="https://www.instagram.com/tomdoestech" rel="noopener ugc nofollow" target="_blank">insta gram</a><br/><a class="ae kz" href="https://www.buymeacoffee.com/tomn" rel="noopener ugc nofollow" target="_blank">给我买杯咖啡</a></p></div></div>    
</body>
</html>