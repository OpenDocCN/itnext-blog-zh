<html>
<head>
<title>Exploring the universe of TDD</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">探索TDD的宇宙</h1>
<blockquote>原文：<a href="https://itnext.io/exploring-the-universe-of-tdd-14ffc41a6e76?source=collection_archive---------5-----------------------#2018-08-24">https://itnext.io/exploring-the-universe-of-tdd-14ffc41a6e76?source=collection_archive---------5-----------------------#2018-08-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="05f0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我从事软件开发已经超过20年了，不知何故，在这段时间里，我参与了一些项目，由于这样或那样的原因，测试驱动开发不是不受欢迎，就是根本不可能(你知道，就像在x86汇编中编写内核组件)。</p><p id="1bc7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是我终于有机会探索这个宇宙，同时，像有些人说的那样，重新学习如何编程..《正当途径》。</p><p id="68e2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本教程中，我将重新实现我在<a class="ae kl" rel="noopener ugc nofollow" target="_blank" href="/infinite-grid-using-uicollectionview-155801e4f7f4">https://it next . io/infinite-grid-using-uicollectionview-155801 E4 f 7 f 4</a>上的教程中的一些代码</p><p id="0779" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我已经跳过了创建项目的基本步骤，我假设你们大多数人都知道如何做这件事，以及如何检查标有“单元测试”的小方框。让我们开始吧！</p><h1 id="a5a7" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">规则1:首先编写你的测试</h1><p id="99b0" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">是的，你不允许写任何实际的代码，除非你有一个失败的测试，证明你写代码通过测试。一旦你通过了测试，就停下来。</p><p id="869e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，我们的教程首先创建一个函数，将UICollectionView实例化到主机视图中。让我们创建类的存根，然后停止，直到我们写测试。</p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="lu lv l"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">infinite grid . swift——编译最少的代码</figcaption></figure><p id="9194" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们的第一个测试应该会失败，这样我们就可以正确地实现我们的函数了:</p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="lu lv l"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">我们的第一个测试</figcaption></figure><p id="1100" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">理论上，当我们运行我们的测试时，它应该失败，所以它证明我们添加足够的代码是正确的，所以它通过了。而现在…</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi ma"><img src="../Images/fbb81cd8ea9b2bf76aae10c27fd3ef34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h-_TABjdlC2v0qqV17Sc_g.png"/></div></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">Xcode屏幕截图—运行单元测试的菜单选项</figcaption></figure><p id="aead" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">成功！或者说……失败！现在我们有一个失败的测试，我们可以实现足够的代码来通过测试。</p><h1 id="eafa" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">规则2:编写代码通过的最小值</h1><p id="0d22" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">让我们更新InfiniteGrid.swift，如下所示:</p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="lu lv l"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">InfiniteGrid.swift —通过第一个单元测试的最少代码</figcaption></figure><p id="c390" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">添加一行代码后，我们的测试通过了:</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mh"><img src="../Images/c4e508f8aad38bb5496d5fc88aea6e4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wue6nAiCBM5UI0pf3fjz_A.png"/></div></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">Xcode截图—通过第一个单元测试</figcaption></figure><p id="da0e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">到目前为止一切顺利。在我们继续编写第二个测试之前，让我们使用setUp()和tearDown()函数，这样我们就不必为每个测试重复网格初始化代码。</p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="lu lv l"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">InfiniteGridTests.swift —使用setUp()和tearDown()函数</figcaption></figure><p id="111e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用⌘+U将重新运行我们的测试，并确认一切仍然正常:</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mi"><img src="../Images/c690ddac2f644ae8237bf65d260a1bb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FcGrE6TvcpaN9cKktdtHLg.png"/></div></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">Xcode截图——通过我们更新的第一个单元测试</figcaption></figure><p id="c800" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请随意注释掉我们之前所做的InfiniteGrid.swift更改，并确认测试失败；那么在继续下一步之前，一定要取消注释。</p><h1 id="79e6" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">规则3:尝试打破你现有的代码</h1><p id="456c" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">在您考虑编写更多代码之前，后退一步，想一想我们可以编写一个使当前代码失败的测试的方法。</p><p id="deb2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我们的初始化器中，我们将网格的框架设置为CGRect.zero，忽略了hostView的大小。但是我们没有任何测试失败！让我们通过编写第二个测试来解决这个问题:</p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="lu lv l"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">infinitegridtests . swift——我们的第二个单元测试</figcaption></figure><p id="cbd6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">重新运行我们的测试(⌘+U)我们可以确认它失败了:</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mj"><img src="../Images/621fa8458fd358244e6ad4f2a4b14f9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*78-Vahb0zTQo6kczcwmMqA.png"/></div></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">Xcode截图——我们第二次失败的单元测试</figcaption></figure><p id="0d4d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后我们可以修复代码，使其通过:</p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="lu lv l"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">InfiniteGrid.swift —更新后通过了第二次单元测试</figcaption></figure><p id="5a88" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后确认我们的测试通过(⌘+U):</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mk"><img src="../Images/9d96234a2b0a4cc6da3a8df15664e0e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_iA_szwlyfMiwtVsqVbOqQ.png"/></div></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">Xcode截图—通过两个单元测试</figcaption></figure><h1 id="4ed3" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">规则4:坚持下去，直到你再也无法打破它</h1><p id="8898" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">我们还能测试什么？如果你能想到一种方法使你现有的代码失败，那么你应该为此写一个测试。</p><p id="b83f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你在团队中工作，这部分实际上可能是一个有趣的挑战，一个人写测试，另一个人写代码，当你在代码中前进时，一天中不断地挑战彼此；每隔几个小时或者甚至在每一次测试/代码迭代之后，交替进行以保持事情的趣味性！</p><p id="dcdc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">想想我们的InfiniteGrid，如果hostView调整了大小，InfiniteGrid不也应该调整大小吗？让我们写一个测试:</p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="lu lv l"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">InfiniteGridTests.swift —第三个单元测试</figcaption></figure><p id="09a2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">确认失败(⌘+U):</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mm"><img src="../Images/25b28a645d887ec201835950ceab1698.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P0ZSk5ty86iyDCj28t6TeA.png"/></div></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">Xcode截图——第三次单元测试失败</figcaption></figure><p id="a7c0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在来修复它:</p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="lu lv l"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">InfiniteGrid.swift —通过第三单元测试的代码</figcaption></figure><p id="df72" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">确认它现在通过(⌘+U):</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mm"><img src="../Images/97a0a57a71b6b1db8e9bfbf05863de9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3kH3FK7Q8BcEfUWzevKDCA.png"/></div></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">Xcode截图——通过我们的第三个单元测试</figcaption></figure><p id="c4a0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">满意吗？不，我需要我的InfiniteGrid有一个清晰的背景…另一个测试:</p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="lu lv l"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">我们的第四个单元测试</figcaption></figure><p id="2ada" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">确认失败…更新代码…</p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="lu lv l"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">InfiniteGrid.swift —更新后通过了所有四项测试，最终与演示代码匹配</figcaption></figure><p id="4522" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">确认它通过…重复这个过程，直到你满意你的代码被很好地覆盖，并且尊重你能想到的所有标准。</p><h1 id="ce56" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">回顾我们的进展</h1><p id="0737" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">到目前为止，我们有大约5行代码，以及4次测试来确认代码的行为符合预期。您可以查看Xcode控制台日志，了解所执行测试的摘要:</p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="fe72" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当您的测试设置正确时，更改您的类的行为应该会导致其中一个测试失败。例如，如果我们要更新InfiniteGrid.swift来替换。高度灵活。flexibleTopMargin，其中一个测试应该会失败。</p><p id="a851" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你可以改变代码的行为，并且没有测试失败，那么你就会错过一些测试用例。立即停止修改代码，去写一个失败的测试，然后再继续开发。永远不要忘记<strong class="jp ir">规则1:首先编写你的测试。</strong></p><h1 id="4610" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">继续查看控制器</h1><p id="75b5" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">对我们在InfiniteGrid上的工作感到满意后，让我们继续我们在ViewController.swift中创建的代码——在viewDidLoad中，我们实例化了一个InfiniteGrid。</p><p id="28eb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">规则#1…首先测试。让我们为这个新类创建一个新的测试文件。</p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="lu lv l"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">viewcontrollertests . swift—setUp()、tearDown()和第一个单元测试</figcaption></figure><p id="840b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">确认失败(⌘+U):</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mn"><img src="../Images/f1bd4f6e2d2554df584c6d25f10d41ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ztDka2z-rSV0F7FSOpoDGA.png"/></div></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">Xcode截图——第一次ViewController单元测试失败</figcaption></figure><p id="2d3c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">更新ViewController.swift以通过..</p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="lu lv l"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">ViewController.swift —通过第一个单元测试的代码</figcaption></figure><p id="3a97" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">确认它通过(⌘+U):</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mo"><img src="../Images/1302ab575df1587bb1d281bf63671602.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4eREW3vRH408VjtM9YS2WA.png"/></div></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">Xcode截图—通过我们的ViewController第一个单元测试</figcaption></figure><p id="de56" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">终于！我们已经用单元测试完全覆盖了教程的第一部分。</p><h1 id="07c4" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">目前我们了解到的是:</h1><ol class=""><li id="0496" class="mp mq iq jp b jq lk ju ll jy mr kc ms kg mt kk mu mv mw mx bi translated">总是先写测试</li><li id="2308" class="mp mq iq jp b jq my ju mz jy na kc nb kg nc kk mu mv mw mx bi translated">只写最少的代码来通过你的测试</li><li id="585e" class="mp mq iq jp b jq my ju mz jy na kc nb kg nc kk mu mv mw mx bi translated">在编写更多代码之前，尝试破坏现有的代码</li><li id="dcc4" class="mp mq iq jp b jq my ju mz jy na kc nb kg nc kk mu mv mw mx bi translated">坚持下去，直到你再也无法打破它</li></ol><p id="ecca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当您开发代码和测试时，您最终需要重新分解或重新组织您的类，以保持代码的整洁和可读性。您应该努力尽早这样做，因为更改您的代码将意味着也必须重写您的测试！如果你等太久才重新考虑，你只会给自己带来更多的痛苦，因为你将不得不重写更多的测试。</p><p id="465f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">尽早重构，经常重构。</p><h1 id="3232" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">XCAssert？</h1><p id="4399" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">你可能已经注意到我们在测试中使用了XCAssertNotNil和XCAssertEqual函数。有许多功能可供您测试:</p><ul class=""><li id="3de5" class="mp mq iq jp b jq jr ju jv jy nd kc ne kg nf kk ng mv mw mx bi translated">XCAssert()</li><li id="ad9c" class="mp mq iq jp b jq my ju mz jy na kc nb kg nc kk ng mv mw mx bi translated">XCAssertEqual()</li><li id="86fa" class="mp mq iq jp b jq my ju mz jy na kc nb kg nc kk ng mv mw mx bi translated">XCAssertNotEqual()</li><li id="e762" class="mp mq iq jp b jq my ju mz jy na kc nb kg nc kk ng mv mw mx bi">…</li></ul><p id="64c2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">虽然您可以使用XCAssert来执行大多数验证，但是在使用一个更显式的函数时，更容易确认预期的测试。例如:</p><p id="c2d2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">XCAssertEqual(x，y)</p><p id="7c74" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">更明确的是:</p><p id="3c4b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">XCAssert(x == y)</p><p id="d152" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">虽然两者是等价的，但很明显，第一个测试的目的是验证相等性。当只使用XCAssert并且测试失败时，您会怀疑错误是在测试中还是在您正在测试的代码中。是测试的目的！=而不是==或者也许应该是&gt; =？</p><p id="1b1f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">同样，使用XCAssertTrue、XCAssertFalse、XCAssertNil()或XCAssertNotNil()明确定义了意图。你应该尽量少用基本的XCAssert()函数。</p><p id="f4bf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可以在:<a class="ae kl" href="https://developer.apple.com/documentation/xctest" rel="noopener ugc nofollow" target="_blank">https://developer.apple.com/documentation/xctest</a>找到XCTest函数的完整列表</p><h1 id="1d1c" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">异步方法呢？</h1><p id="e2b0" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">您将想要使用“期望”来管理您的异步测试。同样，XCTest上的文档(见上一节的链接)将为您提供您需要的所有不同的测试。XCTWaiter允许你等待一组异步期望完成，你甚至可以设置键值观察者期望。最重要的是，期望可以是有时间限制的，因此如果异步操作没有在指定的时间限制内完成，测试将被视为失败。</p><h1 id="587c" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">想了解更多？</h1><p id="8c01" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">太好了！有许多资源可以了解更多关于TDD最佳实践以及如何使用Xcode和Swift专门进行TDD的信息。</p><p id="a0ae" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Yvette的一个可爱的(虽然有点过时)教程特别有意思:<a class="ae kl" href="https://medium.com/@ynzc/getting-started-with-tdd-in-swift-2fab3e07204b" rel="noopener">https://medium . com/@ ynzc/getting-started-with-TDD-in-Swift-2 fab3 e 07204 b</a>—这是一个有趣的项目，包含一些小的挑战，很容易理解，大多数内容应该可以在Swift 4中使用。</p><p id="e760" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">比较正式？lynda.com有一个不错的2小时教程，可以在<a class="ae kl" href="https://www.lynda.com/iOS-tutorials/iOS-App-Development-Test-Driven-Development/672254-2.html" rel="noopener ugc nofollow" target="_blank">https://www . Lynda . com/iOS-tutorials/iOS-App-Development-Test-Driven-Development/672254-2 . html</a>找到</p><p id="1471" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">多动手？查看这个充满TDD之爱的伟大GitHub库:<a class="ae kl" href="https://github.com/luontola/tdd-tetris-tutorial" rel="noopener ugc nofollow" target="_blank">https://github.com/luontola/tdd-tetris-tutorial</a></p><h1 id="d4ea" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">关于作者</h1><p id="a364" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">戴夫·普瓦里耶是一名高级软件开发人员，目前正在<a class="ae kl" href="http://idfusion.com" rel="noopener ugc nofollow" target="_blank"> ID Fusion软件公司</a>开发一些真正有趣的iOS应用程序。</p><p id="d7d8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您的移动应用软件开发需要帮助吗？访问我们在http://idfusion.com<a class="ae kl" href="http://idfusion.com" rel="noopener ugc nofollow" target="_blank">的网站</a></p></div></div>    
</body>
</html>