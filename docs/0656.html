<html>
<head>
<title>Understanding $ kubectl taint (Demo)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解$ kubectl污点(演示)</h1>
<blockquote>原文：<a href="https://itnext.io/understanding-kubectl-taint-e6f299d3851f?source=collection_archive---------2-----------------------#2018-05-01">https://itnext.io/understanding-kubectl-taint-e6f299d3851f?source=collection_archive---------2-----------------------#2018-05-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/275f923f412b890003e1ce349135dc99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xwvqaDudRrozKeGZPIBFtw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">kubernetes.io</figcaption></figure><p id="f731" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">默认情况下，出于安全原因，kubernetes集群不会在主节点上调度pods。但是，如果我们希望能够在主节点上调度pods，例如:对于用于测试和开发目的的单节点kubernetes集群，我们可以运行“$ kubectl taint”命令。</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="89f8" class="lq lr iq lm b gy ls lt l lu lv">$ kubectl taint <em class="lw">--help</em><br/><br/>Update the taints on one or more nodes. <br/><br/>  * A taint consists of a key, value, and effect. As an argument here, it is expressed as key=value:effect.  <br/><br/>  * The key must begin with a letter or number, and may contain letters, numbers, hyphens, dots, and underscores, up to<br/><br/>253 characters.  <br/><br/>  * Optionally, the key can begin with a DNS subdomain prefix and a single '/', like example.com/my-app  <br/><br/>  * The value must begin with a letter or number, and may contain letters, numbers, hyphens, dots, and underscores, up<br/><br/>to  63 characters.  <br/><br/>  * The effect must be NoSchedule, PreferNoSchedule or NoExecute.  <br/><br/>  * Currently taint can only apply to node.<br/><br/>Examples:<br/><br/>  # Update node 'foo' with a taint with key 'dedicated' and value 'special-user' and effect 'NoSchedule'.<br/><br/>  # If a taint with that key and effect already exists, its value is replaced as specified.<br/><br/>  kubectl taint nodes foo dedicated=special-user:NoSchedule<br/><br/>  # Remove from node 'foo' the taint with key 'dedicated' and effect 'NoSchedule' if one exists.<br/><br/>  kubectl taint nodes foo dedicated:NoSchedule-<br/><br/>  # Remove from node 'foo' all the taints with key 'dedicated'<br/><br/>  kubectl taint nodes foo dedicated-<br/><br/><br/>  # Add a taint with key 'dedicated' on nodes having label mylabel=X<br/><br/>  kubectl taint node -l myLabel=X  dedicated=foo:PreferNoSchedule<br/><br/>Options:<br/><br/>      <em class="lw">--all=false: Select all nodes in the cluster</em><br/><br/>      <em class="lw">--allow-missing-template-keys=true: If true, ignore any errors in templates when a field or map key is missing in</em><br/><br/>the template. Only applies to golang and jsonpath output formats.<br/><br/>      <em class="lw">--include-extended-apis=true: If true, include definitions of new APIs via calls to the API server. [default true]</em><br/><br/>      <em class="lw">--no-headers=false: When using the default or custom-column output format, don't print headers (default print</em><br/><br/>headers).<br/><br/>  -o, <em class="lw">--output='': Output format. One of:</em><br/><br/>json|yaml|wide|name|custom-columns=...|custom-columns-file=...|go-template=...|go-template-file=...|jsonpath=...|jsonpath-file=...<br/><br/>See custom columns [http://kubernetes.io/docs/user-guide/kubectl-overview/#custom-columns], golang template<br/><br/>[http://golang.org/pkg/text/template/#pkg-overview] and jsonpath template<br/><br/>[http://kubernetes.io/docs/user-guide/jsonpath].<br/><br/>      <em class="lw">--overwrite=false: If true, allow taints to be overwritten, otherwise reject taint updates that overwrite existing</em><br/><br/>taints.<br/><br/>  -l, <em class="lw">--selector='': Selector (label query) to filter on, supports '=', '==', and '!='.(e.g. -l key1=value1,key2=value2)</em><br/><br/>  -a, <em class="lw">--show-all=false: When printing, show all resources (default hide terminated pods.)</em><br/><br/>      <em class="lw">--show-labels=false: When printing, show all labels as the last column (default hide labels column)</em><br/><br/>      <em class="lw">--sort-by='': If non-empty, sort list types using this field specification.  The field specification is expressed</em><br/><br/>as a JSONPath expression (e.g. '{.metadata.name}'). The field in the API resource specified by this JSONPath expression<br/><br/>must be an integer or a string.<br/><br/>      <em class="lw">--template='': Template string or path to template file to use when -o=go-template, -o=go-template-file. The</em><br/><br/>template format is golang templates [http://golang.org/pkg/text/template/#pkg-overview].<br/><br/>      <em class="lw">--validate=true: If true, use a schema to validate the input before sending it</em><br/><br/>Usage:<br/><br/>  kubectl taint NODE NAME KEY_1=VAL_1:TAINT_EFFECT_1 ... KEY_N=VAL_N:TAINT_EFFECT_N [options]<br/><br/>Use "kubectl options" for a list of global command-line options (applies to all commands).</span></pre><p id="5bbe" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们来演示一下。</p><p id="b8a2" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这里我们有一个kubernetes集群，运行1个主节点和2个工作节点。</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="f7f3" class="lq lr iq lm b gy ls lt l lu lv">$ kubectl get nodes<br/>NAME      STATUS    ROLES     AGE       VERSION<br/>node1     Ready     master    2h        v1.10.0<br/>node2     Ready     &lt;none&gt;    2h        v1.10.0<br/>node3     Ready     &lt;none&gt;    2h        v1.10.0</span></pre><p id="f623" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">让我们验证主节点上污点的状态。</p><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="afae" class="lq lr iq lm b gy ls lt l lu lv">Taints:             node-role.kubernetes.io/master:NoSchedule</span></pre></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><pre class="ll lm ln lo aw lp bi"><span id="8228" class="lq lr iq lm b gy lx ly lz ma mb lt l lu lv">$ kubectl describe nodes node1<br/>Name:               node1<br/>Roles:              master<br/>Labels:             beta.kubernetes.io/arch=amd64<br/>                    beta.kubernetes.io/os=linux<br/>                    kubernetes.io/hostname=node1<br/>                    node-role.kubernetes.io/master=<br/>Annotations:        node.alpha.kubernetes.io/ttl=0<br/>                    volumes.kubernetes.io/controller-managed-attach-detach=true<br/>Taints:             node-role.kubernetes.io/master:NoSchedule<br/>CreationTimestamp:  Tue, 01 May 2018 01:19:22 +0000<br/>Conditions:<br/>  Type             Status  LastHeartbeatTime                 LastTransitionTime                Reason   Message<br/>  <em class="lw">----             ------  -----------------                 ------------------                ------   -------</em><br/>  OutOfDisk        False   Tue, 01 May 2018 03:41:43 +0000   Tue, 01 May 2018 01:19:18 +0000   KubeletHasSufficientDisk   kubelet has sufficient disk space available<br/>  MemoryPressure   False   Tue, 01 May 2018 03:41:43 +0000   Tue, 01 May 2018 01:19:18 +0000   KubeletHasSufficientMemory   kubelet has sufficient memory available<br/>  DiskPressure     False   Tue, 01 May 2018 03:41:43 +0000   Tue, 01 May 2018 01:19:18 +0000   KubeletHasNoDiskPressure   kubelet has no disk pressure<br/>  PIDPressure      False   Tue, 01 May 2018 03:41:43 +0000   Tue, 01 May 2018 01:19:18 +0000   KubeletHasSufficientPID   kubelet has sufficient PID available<br/>  Ready            True    Tue, 01 May 2018 03:41:43 +0000   Tue, 01 May 2018 01:32:23 +0000   KubeletReady   kubelet is posting ready status<br/>Addresses:<br/>  InternalIP:  192.168.0.18<br/>  Hostname:    node1<br/>Capacity:<br/> cpu:                8<br/> ephemeral-storage:  10Gi<br/> hugepages-1Gi:      0<br/> hugepages-2Mi:      0<br/> memory:             32917692Ki<br/> pods:               110<br/>Allocatable:<br/> cpu:                8<br/> ephemeral-storage:  9663676400<br/> hugepages-1Gi:      0<br/> hugepages-2Mi:      0<br/> memory:             32815292Ki<br/> pods:               110<br/>System Info:<br/> Machine ID:                 7a452373b9954c958c1dab29c6c5db5c<br/> System UUID:                542371A0-83E2-C64A-8380-ED7CE0D127B5<br/> Boot ID:                    7efd235f-3c08-4e8a-aa51-b393bf25020d<br/> Kernel Version:             4.13.0-38-lowlatency<br/> OS Image:                   CentOS Linux 7 (Core)<br/> Operating System:           linux<br/> Architecture:               amd64<br/> Container Runtime Version:  docker://18.3.0<br/> Kubelet Version:            v1.10.0<br/> Kube-Proxy Version:         v1.10.0<br/>ExternalID:                  node1<br/>Non-terminated Pods:         (7 in total)<br/>  Namespace                  Name                             CPU Requests  CPU Limits  Memory Requests  Memory Limits<br/>  <em class="lw">---------                  ----                             ------------  ----------  ---------------  -------------</em><br/>  kube-system                calico-etcd-q9qkt                0 (0%)        0 (0%)      0 (0%)           0 (0%)<br/>  kube-system                calico-node-cnm5s                250m (3%)     0 (0%)      0 (0%)           0 (0%)<br/>  kube-system                etcd-node1                       0 (0%)        0 (0%)      0 (0%)           0 (0%)<br/>  kube-system                kube-apiserver-node1             250m (3%)     0 (0%)      0 (0%)           0 (0%)<br/>  kube-system                kube-controller-manager-node1    200m (2%)     0 (0%)      0 (0%)           0 (0%)<br/>  kube-system                kube-proxy-7crmd                 0 (0%)        0 (0%)      0 (0%)           0 (0%)<br/>  kube-system                kube-scheduler-node1             100m (1%)     0 (0%)      0 (0%)           0 (0%)<br/>Allocated resources:<br/>  (Total limits may be over 100 percent, i.e., overcommitted.)<br/>  CPU Requests  CPU Limits  Memory Requests  Memory Limits<br/>  <em class="lw">------------  ----------  ---------------  -------------</em><br/>  800m (10%)    0 (0%)      0 (0%)           0 (0%)<br/>Events:         &lt;none&gt;</span></pre><p id="4b20" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">解开节点并验证如下:</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="c6f8" class="lq lr iq lm b gy ls lt l lu lv">$ kubectl taint nodes <em class="lw">--all node-role.kubernetes.io/master-</em><br/>node "node1" untainted<br/><br/>$ kubectl describe nodes node1 | grep -i taint<br/>Taints:             &lt;none&gt;</span></pre><p id="129c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">让我们用名为“testsvr”的7个副本创建nginx部署。</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="b024" class="lq lr iq lm b gy ls lt l lu lv">$ kubectl run testsvr <em class="lw">--image=nginx --replicas=7</em><br/>deployment "testsvr" created</span></pre><p id="73a2" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">验证“testsvr”单元是否在主节点(即节点1)上运行。</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="74c8" class="lq lr iq lm b gy ls lt l lu lv">$ kubectl get pods -o wide | grep testsvr<br/>testsvr-596d477cdd-9n2qj   1/1       Running   0          40m       192.168.135.9     node3<br/>testsvr-596d477cdd-bnxd6   1/1       Running   0          40m       192.168.104.8     node2<br/>testsvr-596d477cdd-csnn5   1/1       Running   0          40m       192.168.135.8     node3<br/>testsvr-596d477cdd-hfb2w   1/1       Running   0          40m       192.168.104.9     node2<br/>testsvr-596d477cdd-l9gdj   1/1       Running   0          40m       192.168.104.10    node2<br/>testsvr-596d477cdd-pfhzz   1/1       Running   0          40m       192.168.166.130   node1<br/>testsvr-596d477cdd-wwdc8   1/1       Running   0          40m       192.168.166.129   node1</span></pre><p id="e3fc" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">酷！！！</p><p id="0938" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们将开始一个新的集群和污点设置如下。请注意，pod不允许在主节点上进行调度。</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="9f7a" class="lq lr iq lm b gy ls lt l lu lv">$ kubectl describe nodes node1 | grep Taint<br/>Taints:             node-role.kubernetes.io/master:NoSchedule<br/>$ kubectl describe nodes node2 | grep Taint<br/>Taints:             &lt;none&gt;<br/>$ kubectl describe nodes node3 | grep Taint<br/>Taints:             &lt;none&gt;</span></pre><p id="371d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">让我们运行10个名为“websvr”的nginx web服务器，它们将运行在node2和node3上，因为它们没有配置任何污点。</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="8169" class="lq lr iq lm b gy ls lt l lu lv">$ kubectl run websvr --image=nginx --replicas=10<br/>deployment "websvr" created<br/><br/>$ kubectl get pods -o wide<br/>NAME                      READY     STATUS    RESTARTS   AGE       IP          NODE<br/>websvr-6699d7548b-299rb   1/1       Running   0          3m        10.44.0.2   node3<br/>websvr-6699d7548b-5w97p   1/1       Running   0          3m        10.40.0.3   node2<br/>websvr-6699d7548b-85dmm   1/1       Running   0          3m        10.40.0.2   node2<br/>websvr-6699d7548b-8p8kk   1/1       Running   0          3m        10.40.0.4   node2<br/>websvr-6699d7548b-crs2j   1/1       Running   0          3m        10.40.0.5   node2<br/>websvr-6699d7548b-jhfsq   1/1       Running   0          3m        10.40.0.1   node2<br/>websvr-6699d7548b-kr4m2   1/1       Running   0          3m        10.44.0.6   node3<br/>websvr-6699d7548b-mlfmh   1/1       Running   0          3m        10.44.0.3   node3<br/>websvr-6699d7548b-s5rp2   1/1       Running   0          3m        10.44.0.4   node3<br/>websvr-6699d7548b-wn95r   1/1       Running   0          3m        10.44.0.5   node3</span></pre><p id="5bd9" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在我们要在节点2上设置“NoExecute”污点效果。</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="d080" class="lq lr iq lm b gy ls lt l lu lv">$ kubectl taint nodes node2 node2=DoNotSchedulePods:NoExecute<br/>node "node2" tainted</span><span id="4af1" class="lq lr iq lm b gy mc lt l lu lv">[node1 ~]$ kubectl describe nodes node2 | grep Taint<br/>Taints:             node2=DoNotSchedulePods:NoExecute</span></pre><p id="527e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">因此，node2上的所有pod都在node3上终止和创建。</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="f05c" class="lq lr iq lm b gy ls lt l lu lv">$ kubectl get pods -o wide<br/>NAME                      READY     STATUS    RESTARTS   AGE       IP           NODE<br/>websvr-6699d7548b-299rb   1/1       Running   0          5m        10.44.0.2    node3<br/>websvr-6699d7548b-6rh7r   1/1       Running   0          33s       10.44.0.9    node3<br/>websvr-6699d7548b-bsksd   1/1       Running   0          33s       10.44.0.11   node3<br/>websvr-6699d7548b-jrqdl   1/1       Running   0          33s       10.44.0.10   node3<br/>websvr-6699d7548b-kmpbt   1/1       Running   0          33s       10.44.0.7    node3<br/>websvr-6699d7548b-kr4m2   1/1       Running   0          5m        10.44.0.6    node3<br/>websvr-6699d7548b-mlfmh   1/1       Running   0          5m        10.44.0.3    node3<br/>websvr-6699d7548b-qjjxm   1/1       Running   0          33s       10.44.0.8    node3<br/>websvr-6699d7548b-s5rp2   1/1       Running   0          5m        10.44.0.4    node3<br/>websvr-6699d7548b-wn95r   1/1       Running   0          5m        10.44.0.5    node3</span></pre><p id="2c65" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">取消节点2上的设置。</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="0044" class="lq lr iq lm b gy ls lt l lu lv">$ kubectl taint nodes node2 node2:NoExecute-<br/>node "node2" untainted<br/><br/>$ kubectl describe nodes node2 | grep Taint<br/>Taints:             &lt;none&gt;</span></pre><p id="d06c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">让我们在node3上设置“NoSchedule”污点效果。并运行8个名为“nginx”的nginx web服务器。</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="1810" class="lq lr iq lm b gy ls lt l lu lv">$ kubectl taint nodes node3 node3=DoNotSchedulePods:NoSchedule<br/>node "node3" tainted<br/><br/>$ kubectl describe nodes node3 | grep Taint<br/>Taints:             node3=DoNotSchedulePods:NoSchedule<br/><br/>$ kubectl run nginx --image=nginx --replicas=8<br/>deployment "nginx" created</span></pre><p id="8d73" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">由于node3被配置为“no schedule”tain effect，8个nginx服务器被安排在node2上运行。</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="27b5" class="lq lr iq lm b gy ls lt l lu lv">$ kubectl get pods -o wide | grep nginx<br/>nginx-7c87f569d-c4cnp     1/1       Running   0          28s       10.40.0.7    node2<br/>nginx-7c87f569d-c4s45     1/1       Running   0          28s       10.40.0.10   node2<br/>nginx-7c87f569d-ftp4k     1/1       Running   0          28s       10.40.0.13   node2<br/>nginx-7c87f569d-n6htm     1/1       Running   0          28s       10.40.0.11   node2<br/>nginx-7c87f569d-n99lz     1/1       Running   0          28s       10.40.0.8    node2<br/>nginx-7c87f569d-s92ng     1/1       Running   0          28s       10.40.0.6    node2<br/>nginx-7c87f569d-trpwv     1/1       Running   0          28s       10.40.0.9    node2<br/>nginx-7c87f569d-x5jqw     1/1       Running   0          28s       10.40.0.12   node2</span></pre><p id="01ee" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">解开node3上的设置并进行一些测试。</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="99d8" class="lq lr iq lm b gy ls lt l lu lv">$ kubectl taint nodes node3 node3:NoSchedule-<br/>node "node3" untainted<br/><br/>$ kubectl describe nodes node3 | grep Taint<br/>Taints:             &lt;none&gt;<br/><br/>$ kubectl run mypods --image=nginx --replicas=10<br/>deployment "mypods" created<br/><br/>$ kubectl get pods -o wide | grep mypods<br/>mypods-5bb566cb6-8nhsz    1/1       Running   0          21s       10.40.0.17   node2<br/>mypods-5bb566cb6-8sjs6    1/1       Running   0          21s       10.44.0.15   node3<br/>mypods-5bb566cb6-99rkw    1/1       Running   0          21s       10.40.0.15   node2<br/>mypods-5bb566cb6-9ccmt    1/1       Running   0          21s       10.44.0.13   node3<br/>mypods-5bb566cb6-9xkrv    1/1       Running   0          21s       10.44.0.12   node3<br/>mypods-5bb566cb6-bl2jz    1/1       Running   0          21s       10.40.0.16   node2<br/>mypods-5bb566cb6-d77hk    1/1       Running   0          21s       10.40.0.18   node2<br/>mypods-5bb566cb6-hdwdz    1/1       Running   0          21s       10.44.0.14   node3<br/>mypods-5bb566cb6-jtlsq    1/1       Running   0          21s       10.40.0.14   node2<br/>mypods-5bb566cb6-lfwz7    1/1       Running   0          21s       10.40.0.19   node2</span></pre><p id="de39" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">恭喜你！！！</p></div></div>    
</body>
</html>