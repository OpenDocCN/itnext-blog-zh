<html>
<head>
<title>Manipulating JavaScript Arrays: Removing keys</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">操纵JavaScript数组:移除键</h1>
<blockquote>原文：<a href="https://itnext.io/manipulating-javascript-arrays-deleting-keys-61d638bd21b3?source=collection_archive---------3-----------------------#2020-01-04">https://itnext.io/manipulating-javascript-arrays-deleting-keys-61d638bd21b3?source=collection_archive---------3-----------------------#2020-01-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b2b3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">我从数组中移除元素的6种方法</h2></div><p id="c5b9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你认为只有一种方法可以删除一个<a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" rel="noopener ugc nofollow" target="_blank">数组</a>，也许这就是你需要的帖子。这里我将向你展示我所知道的从JS数组中移除元素的所有方法。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/ffbf69fd394bd21d47f03210e3bd4269.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Uhfx73_M2t7vSnIoFzQNmQ.png"/></div></div></figure><h1 id="7485" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">长度</h1><p id="7f0a" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">默认情况下，数组带有属性<a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/length" rel="noopener ugc nofollow" target="_blank"> length </a>，该属性返回数组中元素的数量。幸运的是，这个属性可以改变它的值，但是这样做会导致更新当前数组。如果你使长度大于当前计数，数组将增加，用<em class="mo">空值</em>填充空间。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi mp"><img src="../Images/34ce8c489f497840e25a4ab652b13dd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LYzyd5C0xnJCO6J91ykKxg.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">值为空的数组</figcaption></figure><p id="a26c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们不希望这样，所以让我们设置长度小于当前计数，这样数组长度将抛出新值之外的键。不要试图设置负值，顺便说一下，它只会抛出一个错误。</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><h1 id="9527" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">变化</h1><p id="eebf" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">对不起，我们应该从头开始，让我们看看这个方法，shift将删除数组的第一个索引。<a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/shift" rel="noopener ugc nofollow" target="_blank"> shift </a>方法返回被移除元素的值。就这么简单:</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><h1 id="b55d" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">流行音乐</h1><p id="8601" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">数组中的方法<a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/pop" rel="noopener ugc nofollow" target="_blank"> pop </a>将执行类似于shift的操作，但它实际上将“弹出”最后一个元素，而不是移除第一个键，以及shift，pop方法返回他刚刚移除的值:</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><h1 id="b14c" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">接合</h1><p id="7544" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">这是一个非常通用的方法，不仅可以删除元素，还可以在其他元素之间添加新的键。但我们这次是来杀人的，不是来创造的。要删除元素<a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice" rel="noopener ugc nofollow" target="_blank"> splice </a>至少需要两个参数，我们要寻找的索引和我们要移除的键的数量。除了<em class="mo"> pop </em>和shift，<em class="mo"> splice </em>将返回修改元素的值:</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><h1 id="0b2c" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">删除运算符</h1><p id="408b" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">这个<a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/delete" rel="noopener ugc nofollow" target="_blank">删除操作符</a>不是我最喜欢的，因为它总是让被删除的键的空间为空，它不会重新索引我们所有的数组，但是我有责任让你知道它的存在。</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="8a7e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">像示例那样在一个键数组上调用delete操作符将导致所选的空间消失。</p><h1 id="f5b3" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">向Array.prototype添加方法</h1><p id="fb5b" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">JavaScript非常灵活，我曾在某个地方看到他们直接给<a class="ae le" href="https://developer.mozilla.org/es/docs/Web/JavaScript/Referencia/Objetos_globales/Array/prototype" rel="noopener ugc nofollow" target="_blank"> Array.prototype </a>添加一个新方法，如下所示:</p><pre class="lg lh li lj gt mw mx my mz aw na bi"><span id="023f" class="nb ls it mx b gy nc nd l ne nf">Array.prototype.remove = function(value){ /* ... */}</span></pre><p id="a637" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是您应该避免这种情况，因为这是一种不好的做法。向本机Array.prototype添加新的自定义属性的正确方法是使用<a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" rel="noopener ugc nofollow" target="_blank"> Object.defineProperty </a>，如下所示:</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="170f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">方法remove将删除值等于我们给定的参数的键。此后，您将能够像使用pop或shift一样使用like，就像它是一个本机属性一样:</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="e020" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">重要的是你可以创造自己的方法，这个矿只是一个不起眼的例子。</p><h1 id="6a66" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">活生生的例子</h1><p id="9753" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">如果你想看上面所有的例子，就在这支笔里活生生地看它们吧:</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="ng mv l"/></div></figure><p id="ae83" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">【https://codepen.io/adrian-legaspi/pen/PowJVdw T4】</p><h1 id="75ae" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">结论</h1><p id="bfd7" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">管理数组数据非常重要，更重要的是有不止一种方法来解决这个删除问题。现在轮到您实现更适合您编程的那个了。</p><blockquote class="nh ni nj"><p id="4d8c" class="ki kj mo kk b kl km ju kn ko kp jx kq nk ks kt ku nl kw kx ky nm la lb lc ld im bi translated">参考:</p><p id="e90c" class="ki kj mo kk b kl km ju kn ko kp jx kq nk ks kt ku nl kw kx ky nm la lb lc ld im bi translated">stack overflow<em class="it">→</em><a class="ae le" href="https://stackoverflow.com/questions/948358/adding-custom-functions-into-array-prototype" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/948358/adding-custom-functions-into-array-prototype</a></p><p id="433c" class="ki kj mo kk b kl km ju kn ko kp jx kq nk ks kt ku nl kw kx ky nm la lb lc ld im bi translated">MDN网络文档<em class="it">→</em><a class="ae le" href="https://developer.mozilla.org/" rel="noopener ugc nofollow" target="_blank">https://developer.mozilla.org/</a></p><p id="4028" class="ki kj mo kk b kl km ju kn ko kp jx kq nk ks kt ku nl kw kx ky nm la lb lc ld im bi translated">本人<em class="it">→</em><a class="ae le" href="https://twitter.com/ImLuyou" rel="noopener ugc nofollow" target="_blank"><em class="it">https://twitter.com/ImLuyou</em></a></p></blockquote></div></div>    
</body>
</html>