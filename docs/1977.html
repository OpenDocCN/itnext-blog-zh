<html>
<head>
<title>How to use UIStackView with UIImageView the RIGHT way! distribution, axis, spacing, and clips to bounds and content mode.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何正确使用UIImageView和UIStackView！分布、轴、间距以及边界和内容模式的剪辑。</h1>
<blockquote>原文：<a href="https://itnext.io/uistackview-uiimageview-distribution-axis-spacing-and-clips-to-bounds-and-content-mode-cc993298e0b1?source=collection_archive---------0-----------------------#2019-03-06">https://itnext.io/uistackview-uiimageview-distribution-axis-spacing-and-clips-to-bounds-and-content-mode-cc993298e0b1?source=collection_archive---------0-----------------------#2019-03-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="ca71" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">利用并<strong class="jp ir">理解</strong> UIStackView、UIImageView和NSLayoutConstraint(程序化自动布局)创建一个清晰的堆栈视图</p><p id="eebd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kl" href="https://youtu.be/zpb4-VnaaqQ" rel="noopener ugc nofollow" target="_blank">我拍摄我自己，在这篇文章中建造我们所建造的东西。</a></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/a11a4a76350df9b00d152bbc6e3f6076.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rTVAXLhdd_dWHy4NSnahNQ.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><a class="ae kl" href="https://youtu.be/zpb4-VnaaqQ" rel="noopener ugc nofollow" target="_blank">本文视频版的YouTube封面</a></figcaption></figure><p id="216d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">作为一名iOS开发人员，了解UIStackView &amp; UIImageView等类的属性<strong class="jp ir">至关重要</strong>。理解如何<strong class="jp ir">结合</strong>两者来创造难以置信的用户体验同样重要。</p><h1 id="db89" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">好吧，但是我们在建造什么呢，兄弟？</h1><p id="90e1" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">今天，我们将构建一个包含三个图像视图的堆栈视图。通过这样做，我们将学习如何使用UIStackView的属性和UIImageView的属性。你将学会如何轻松地使用它们！</p><h1 id="50b8" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated"><strong class="ak">步骤1 —设置堆栈视图。</strong> ✅</h1><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mf"><img src="../Images/1a5af62b8cde623896226c0c4bd84351.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qMTBXAe22aREr5vXP7Ka4Q.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">在ViewController中声明一个堆栈视图</figcaption></figure><p id="f49d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">创建一个单一视图应用程序，并将此代码放在ViewController.swift文件中的viewDidLoad方法之上。</p><p id="3582" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">设置将自动调整大小掩码转换为约束允许我们以编程方式应用NSLayoutConstraints。</p><h1 id="98c5" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">s<strong class="ak">step 2—用NSLayoutConstraint约束新分配的堆栈视图。</strong> ✅</h1><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mg"><img src="../Images/180f1e0f6ba685943fed63e7b6edbe70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b_3XTGZsSd_sxZqcE3tOgg.png"/></div></div></figure><p id="e25e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">跳转到viewDidLoad，在添加任何内容之前，立即将堆栈视图添加为子视图。你写完那四个约束后我会告诉你为什么。</p><p id="1443" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">给堆栈视图一个宽度和高度约束，使其等于图中所示的值。我们希望堆栈的大小接近视图控制器的大小。</p><p id="4bbe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，使用centerXAnchor和centerYAnchor将堆栈视图限制在屏幕的中心。(如果你现在编译，你什么也看不到。如果你想看看我们如何在子视图层次中看到它，请查看视频。).</p><h2 id="a78a" class="mh ld iq bd le mi mj dn li mk ml dp lm jy mm mn lq kc mo mp lu kg mq mr ly ms bi translated"><strong class="ak">为什么首先将stackView添加到视图的子视图层次结构中？</strong></h2><p id="e473" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">如果您在添加您试图约束的视图之前尝试并激活约束，在这种情况下，我们的UIStackView实例，您的应用程序将崩溃。如果一个视图甚至还没有出现在屏幕上，你就不能将它约束到另一个视图上。有道理吗？(<a class="ae kl" rel="noopener ugc nofollow" target="_blank" href="/pure-code-programmatic-auto-layout-with-nslayoutconstraint-uicollectionview-uistackview-763009c7c14c?source=your_stories_page---------------------------">查看这篇文章，在第二步</a>中，我给出了一个解释这一点的比喻)</p><h1 id="80b4" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">步骤3-声明三个ImageViews，并将它们作为排列好的子视图添加到堆栈中。✅</h1><p id="097b" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">在编译这段代码之前，您需要做的第一件事是将图像添加到assets.xcassets文件夹中。Unsplash有很多很棒的免费图片。完成后，您可以随意检索这些图像。我在这里做的是使用图像文字。UIImage(名为:“imageName”)也可以工作。</p><p id="b0fd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">把这个写在你的栈视图约束的正下方！</strong></p><p id="9bc2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">编译它，你的应用程序应该看起来像这样，最后添加的imageView可见。</p><h2 id="2cac" class="mh ld iq bd le mi mj dn li mk ml dp lm jy mm mn lq kc mo mp lu kg mq mr ly ms bi translated">发生什么事了？</h2><p id="393b" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">我们的图像视图都是一个叠一个的。这可以通过同时使用正确的UIImageView和UIStackView属性来解决。</p><div class="kn ko kp kq gt ab cb"><figure class="mt kr mu mv mw mx my paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><img src="../Images/5df4b338ab1268ea95577a80c1c77b1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:378/format:webp/1*9KtyfQkG_IOwM_kWNcrY6A.png"/></div></figure><figure class="mt kr mz mv mw mx my paragraph-image"><img src="../Images/af08c5f35aa9963f4a54e741f3f9ffef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/format:webp/1*uHFSQzax5_4dHtOlBYzn8w.png"/><figcaption class="ky kz gj gh gi la lb bd b be z dk na di nb nc translated">包含在我们写的stackView约束下的viewDidLoad中。</figcaption></figure></div><h1 id="3776" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated"><strong class="ak">第四步——ui stack view分发。</strong> ✅</h1><h2 id="ce05" class="mh ld iq bd le mi mj dn li mk ml dp lm jy mm mn lq kc mo mp lu kg mq mr ly ms bi translated">最后，一个堆栈视图属性。🔥</h2><p id="ae61" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">分布属性允许我们以几种不同的方式排列子视图。</p><div class="kn ko kp kq gt ab cb"><figure class="mt kr nd mv mw mx my paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><img src="../Images/56f5c81980b1c7f1d75672c7d25715d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*MPmGu002-6418iqVWyz-8w.png"/></div></figure><figure class="mt kr ne mv mw mx my paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><img src="../Images/d8958c85337901f1d4f848df889528dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:166/format:webp/1*YrQ-ta5XdZ5qSHPRQEyyXQ.png"/></div></figure><figure class="mt kr nf mv mw mx my paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><img src="../Images/fa243182fb3ae35d3fd67b2038cc0b5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:656/format:webp/1*U9RlY5XyGIEx0SeSTfFFsQ.png"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk ng di nh nc translated">put stack.distribution =。在堆栈视图声明中填充。</figcaption></figure></div><h2 id="9eff" class="mh ld iq bd le mi mj dn li mk ml dp lm jy mm mn lq kc mo mp lu kg mq mr ly ms bi translated"><strong class="ak">设置堆栈视图分布为均匀填充。</strong></h2><p id="0194" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">如果我们将堆栈的分布设置为<strong class="jp ir">。我们的问题将会大大减少，所以继续把它放在堆栈声明中。</strong></p><p id="e408" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你的应用看起来就像中间那个小小的iPhone图片。继续点击那个图像来放大它。</p><h1 id="58dc" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">步骤5-ui stack view轴和间距。✅</h1><p id="61f3" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">间距这么简单，我就用Axis包含了。将这段代码放到堆栈视图中，编译时会看到如下内容。轴有两个值，水平和垂直。间距，就是，嗯，间距。摆弄一下这两个东西，感受一下它们是如何工作的。</p><div class="kn ko kp kq gt ab cb"><figure class="mt kr ni mv mw mx my paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><img src="../Images/886cf8cf9ac73f46ac38ea784a2980fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1696/format:webp/1*-kikyKQ80Z8bhPElv9kKxg.png"/></div></figure><figure class="mt kr nj mv mw mx my paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><img src="../Images/8946684136d0b0031b6c405f70f54c3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:306/format:webp/1*ELR6Ztdxgd3cf4WaYKFzlg.png"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk nk di nl nc translated">干预</figcaption></figure></div><h1 id="f83a" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">步骤6— UIView内容模式。✅</h1><p id="98f5" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">将此代码直接放在stackView addArrangedSubview调用的下面。</p><p id="13a5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">内容模式允许我们指定我们想要以一种特定的方式缩放UIView的内容，无论是否有失真；如苹果开发者文档中所述，在左边的截图中。</p><p id="f6a4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">输入这三行代码，编译您的应用程序，您将会看到屏幕截图中的内容，就在这段代码的右边。</p><div class="kn ko kp kq gt ab cb"><figure class="mt kr nm mv mw mx my paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><img src="../Images/fbf4c70c47b9cbf49150c877827f2bb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:570/format:webp/1*PVeGsW2gsbipbG4qHmRakw.png"/></div></figure><figure class="mt kr nn mv mw mx my paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><img src="../Images/b16cdacbadc617ca64b835f8aa2b4bac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*UjV9vJBRHSuJ2qo_cqrUNw.png"/></div></figure><figure class="mt kr no mv mw mx my paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><img src="../Images/3b8e7bc09b2ac07927fd0a0b7c5a0c51.png" data-original-src="https://miro.medium.com/v2/resize:fit:208/format:webp/1*M8XS-DwK8VOH3oKmln-xqg.png"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk np di nq nc translated">我只是在这里试着提供价值。</figcaption></figure></div><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi nr"><img src="../Images/f5803b212c0af34a81a9f44c32184eef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CnmAmLx69yFQTZXNrpvQ2w.png"/></div></div></figure><h2 id="a222" class="mh ld iq bd le mi mj dn li mk ml dp lm jy mm mn lq kc mo mp lu kg mq mr ly ms bi translated">k，有什么选择吗，兄弟？</h2><p id="54dd" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">UIView。ContentMode是一个具有多个值的枚举，您可以通过简化命令单击进入contentMode，然后进入ContentMode来了解它。</p><p id="bcf1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果这没有意义，这里有一个截图，你会发现，如果你的命令-点击足够的哈哈。</p><h1 id="15df" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">步骤7-ui view clips tobounds。✅</h1><p id="349d" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">我们的图像比例看起来不错！然而，它似乎破坏了我们以前的工作，它没有。</p><p id="9c6e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们的图像仍然被完美地放置，但是它们太大了。因此，我们只需裁剪图像视图的边界，移除多余的照片。我们必须删除照片的一部分，以消除这个缺陷，同时填充整个图像视图。</p><p id="e986" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">添加下面的代码，你的应用看起来就像左边的屏幕截图一样。</p><div class="kn ko kp kq gt ab cb"><figure class="mt kr ns mv mw mx my paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><img src="../Images/96d4c74233273cfaf1191f0fb1b1cd77.png" data-original-src="https://miro.medium.com/v2/resize:fit:276/format:webp/1*sYZLZi1fXOKa7oPyy70hvQ.png"/></div></figure><figure class="mt kr nt mv mw mx my paragraph-image"><img src="../Images/a4eb50eae711cd13bc459908b72a0c1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*S3dbvTt7BNL4GDXQZfBY2A.png"/><figcaption class="ky kz gj gh gi la lb bd b be z dk nu di nv nc translated">夹住边界。</figcaption></figure></div><h1 id="a860" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">应用程序完成✅</h1><p id="096b" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">你现在知道如何；</p><ul class=""><li id="5a80" class="nw nx iq jp b jq jr ju jv jy ny kc nz kg oa kk ob oc od oe bi translated">使用UIStackView及其关键属性。</li><li id="9f7a" class="nw nx iq jp b jq of ju og jy oh kc oi kg oj kk ob oc od oe bi translated"><strong class="jp ir">使用UIImageView和key UIView属性来操作内容。</strong></li><li id="7588" class="nw nx iq jp b jq of ju og jy oh kc oi kg oj kk ob oc od oe bi translated"><strong class="jp ir">使用NSLayoutConstraint以编程方式约束视图。</strong></li></ul><h1 id="b13b" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">更多资源—高级指南。✅</h1><p id="e63d" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">如果你想第一个听说有限的免费课程优惠券(每月10张)，请随时订阅我的<a class="ae kl" href="https://www.maxcodes.io" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">每周开发内容电子邮件列表。</strong>T9】</a></p><p id="86e5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果这对你有帮助，看看我的YouTube视频<a class="ae kl" href="http://youtube.com/maxcodes" rel="noopener ugc nofollow" target="_blank">来体验一下我是如何在视频上做事的。</a></p><p id="0013" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你喜欢我的视频，也许你会喜欢我的iOS开发课程。</p><h1 id="40a3" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">非常感谢您的阅读！</h1><p id="b6c3" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">如果你喜欢这篇文章，请留下掌声，在我的社交账户上关注我。每条推文、youtube订阅、medium clap和Instagram评论都有助于我进一步帮助你完成这些文章和视频。</p><h2 id="9f04" class="mh ld iq bd le mi mj dn li mk ml dp lm jy mm mn lq kc mo mp lu kg mq mr ly ms bi translated"><a class="ae kl" href="http://youtube.com/maxcodes" rel="noopener ugc nofollow" target="_blank"> YouTube </a></h2><h2 id="7a7e" class="mh ld iq bd le mi mj dn li mk ml dp lm jy mm mn lq kc mo mp lu kg mq mr ly ms bi translated"><a class="ae kl" href="http://twitter.com/maxcodes1" rel="noopener ugc nofollow" target="_blank">推特</a></h2></div></div>    
</body>
</html>