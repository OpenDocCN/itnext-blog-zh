<html>
<head>
<title>.NET Core is sexy, and you should know it</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">。网芯很性感，你应该知道的</h1>
<blockquote>原文：<a href="https://itnext.io/https-medium-com-buisson-jeremy-net-core-is-sexy-and-you-should-know-it-a3d0c2eeedc4?source=collection_archive---------1-----------------------#2019-08-02">https://itnext.io/https-medium-com-buisson-jeremy-net-core-is-sexy-and-you-should-know-it-a3d0c2eeedc4?source=collection_archive---------1-----------------------#2019-08-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/bb91c3a1096080dbd1b2f084e281ad88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zc1BKfAHkpvrZlHPbUvuYA.png"/></div></div></figure><blockquote class="kb kc kd"><p id="042b" class="ke kf kg kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">本文是关于。NET Core，以及它现在如何像Node或Rails等任何其他堆栈一样简单高效地创建现代应用程序。</p><p id="0aba" class="ke kf kg kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh iu">T1。网芯性感你要知道T3】</strong></p><p id="dc29" class="ke kf kg kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><a class="ae ld" href="https://medium.com/@jbuisson/net-core-is-sexy-real-world-part-1-command-line-application-953f48394c83" rel="noopener">。NET Core性感—命令行应用</a></p><p id="3b76" class="ke kf kg kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><a class="ae ld" rel="noopener ugc nofollow" target="_blank" href="/net-core-is-sexy-building-a-web-api-cdb470cc8222">。NET Core很性感——构建Web API </a></p></blockquote><p id="a56a" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">我一直认为我的第一篇博文应该是一个详细的教程，讲述一个具有多种服务的无服务器平台，使用GitLab CI在AWS上使用单个命令行进行部署。或者甚至是一个赞扬朋友或同事之间玩龙与地下城(D&amp;D)游戏的好处的帖子。我太天真了…</p><p id="b49c" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">几天前，我偶然听说一些招聘机构和专门从事开发人员的公司原则上拒绝任何希望与之合作的候选人或公司。NET，原因如下:</p><blockquote class="kb kc kd"><p id="8d65" class="ke kf kg kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">这是一个旧的封闭和专有的生态系统，完全不同于其他更灵活和开放的开发平台，如NodeJS或RubyRails。实际上有点像Java。但是Java，不被邪恶的微软所支持，仍然被这些机构和公司所容忍。</p></blockquote><p id="bb79" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">与此同时，我正在使用<strong class="kh iu"> C# </strong>和<strong class="kh iu">开发网络应用。NET Core </strong>放在我个人的<strong class="kh iu"> MacBook </strong>上，我用<strong class="kh iu"> GitLab </strong>部署在<strong class="kh iu"> AWS </strong>上，使用<strong class="kh iu"> Lambdas </strong> functions <strong class="kh iu">、</strong> <strong class="kh iu"> Linux </strong> EC2和<strong class="kh iu"> Docker </strong>容器。我甚至在<strong class="kh iu">官方开源Github </strong>资源库、<a class="ae ld" href="https://github.com/dotnet/corefx/pull/34" rel="noopener ugc nofollow" target="_blank"> 5年前</a>上推送过一些代码和测试，现在还在上面。</p><p id="7984" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">不用说，听到这个我开始感到不舒服。然后，在讨论我的另一个爱好:D&amp;D时，我有一种似曾相识的感觉，听说角色扮演游戏是名声不好的精英游戏，非常难以接近。但是我会在另一个时间谈论D&amp;D。</p><p id="ba7c" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">所以我在这里，爬上我最高贵的战马，穿上我最闪亮的盔甲，开始了一项任务，不是为了保护寡妇和孤儿，而是为了支持那些。NET Core平台的口碑，目标是让你相信我们可以在<strong class="kh iu"> C# </strong>和<strong class="kh iu">中<strong class="kh iu">轻松</strong>和<strong class="kh iu">快速</strong>开发。NET Core </strong>，就像我们在JavaScript和NodeJS中能做的一样。</p><h1 id="38e0" class="lh li it bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">是什么？网芯平台？</h1><p id="a769" class="pw-post-body-paragraph ke kf it kh b ki mf kk kl km mg ko kp le mh ks kt lf mi kw kx lg mj la lb lc im bi translated">当我们谈论到。NET核心平台，所以我就引用一下<a class="ae ld" href="https://docs.microsoft.com/fr-fr/dotnet/core/about#composition" rel="noopener ugc nofollow" target="_blank">官方文档</a>:</p><ul class=""><li id="c7ba" class="mk ml it kh b ki kj km kn le mm lf mn lg mo lc mp mq mr ms bi translated"><a class="ae ld" href="https://github.com/dotnet/coreclr" rel="noopener ugc nofollow" target="_blank">。NET Core runtime </a>提供了类型系统、程序集加载、垃圾收集器、原生互操作等基本服务。<a class="ae ld" href="https://github.com/dotnet/corefx" rel="noopener ugc nofollow" target="_blank">。NET核心框架库</a>提供了原始数据类型、应用组合类型和基础工具。</li><li id="37d2" class="mk ml it kh b ki mt km mu le mv lf mw lg mx lc mp mq mr ms bi translated"><a class="ae ld" href="https://github.com/aspnet/home" rel="noopener ugc nofollow" target="_blank">ASP.NET运行时</a>提供了一个框架，用于构建现代基于云的互联网连接应用，如web应用、物联网应用和移动后端。</li><li id="2156" class="mk ml it kh b ki mt km mu le mv lf mw lg mx lc mp mq mr ms bi translated"><a class="ae ld" href="https://github.com/dotnet/cli" rel="noopener ugc nofollow" target="_blank">。NET Core CLI工具</a>和语言编译器(<a class="ae ld" href="https://github.com/dotnet/roslyn" rel="noopener ugc nofollow" target="_blank"> Roslyn </a>和<a class="ae ld" href="https://github.com/microsoft/visualfsharp" rel="noopener ugc nofollow" target="_blank"> F# </a>)支持。NET核心开发者体验。</li><li id="9058" class="mk ml it kh b ki mt km mu le mv lf mw lg mx lc mp mq mr ms bi translated"><a class="ae ld" href="https://github.com/dotnet/core-setup" rel="noopener ugc nofollow" target="_blank">点网工具</a>用于启动。NET核心应用程序和CLI工具。它选择并托管运行时，提供程序集加载策略并启动应用程序和工具。</li></ul><p id="6c74" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">综上所述:</p><ul class=""><li id="a431" class="mk ml it kh b ki kj km kn le mm lf mn lg mo lc mp mq mr ms bi translated">运行库允许执行。NET核心二进制文件。</li><li id="68a0" class="mk ml it kh b ki mt km mu le mv lf mw lg mx lc mp mq mr ms bi translated">ASP。NET Core是一个框架和一组库，可以用来构建web应用程序和API。</li><li id="4536" class="mk ml it kh b ki mt km mu le mv lf mw lg mx lc mp mq mr ms bi translated">。NET Core CLI类似于其他平台CLI，因为它允许您创建、构建、发布、设置和搭建项目以及其他操作。</li></ul><h1 id="ceac" class="lh li it bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">我们来编码吧！</h1><p id="b553" class="pw-post-body-paragraph ke kf it kh b ki mf kk kl km mg ko kp le mh ks kt lf mi kw kx lg mj la lb lc im bi translated">闲聊够了。我在这里的目标是向您展示开始使用是多么的快速和简单。NET Core来创建应用程序和网站，就像使用NodeJS或RubyRails一样——所以让我们开始吧。</p><p id="7b67" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">Linux安装相当简单；只需<a class="ae ld" href="https://dotnet.microsoft.com/download/linux-package-manager/rhel/sdk-current" rel="noopener ugc nofollow" target="_blank">点击此链接</a>并选择您的发行版。大约需要三四个命令来注册Microsoft key和feed以安装必要的软件包。</p><p id="4cfd" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">在Ubuntu上，这是它在终端上的样子:</p><figure class="my mz na nb gt ju"><div class="bz fp l di"><div class="nc nd l"/></div><figcaption class="ne nf gj gh gi ng nh bd b be z dk translated">在安装过程中检查最新的SDK版本，在编写本文时，它恰好是版本2.2。</figcaption></figure><p id="daab" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">当然，您只需要这样做一次，然后一个简单的命令就会确认一切正常:</p><pre class="my mz na nb gt ni nj nk nl aw nm bi"><span id="894b" class="nn li it nj b gy no np l nq nr">dotnet --version<br/>&gt; 2.2.300</span></pre><p id="951f" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">在MacOs或Windows上的安装甚至更简单:只需从微软官方门户<a class="ae ld" href="https://dotnet.microsoft.com/download/dotnet-core/2.2" rel="noopener ugc nofollow" target="_blank">下载，让安装程序为你完成这项工作。应该只需要几分钟。</a></p><h1 id="a942" class="lh li it bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">你好世界！</h1><p id="169f" class="pw-post-body-paragraph ke kf it kh b ki mf kk kl km mg ko kp le mh ks kt lf mi kw kx lg mj la lb lc im bi translated">按照一个众所周知的惯例，让我们创建一个控制台应用程序，其唯一目的是显示<strong class="kh iu"> <em class="kg"> Hello World！</em> </strong>。对于不耐烦的读者，这里是Git库:</p><div class="ns nt gp gr nu nv"><a href="https://gitlab.com/jbuisson/hello-world" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd iu gy z fp oa fr fs ob fu fw is bi translated">杰米·比松/ hello-world</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">GitLab.com</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">答。网络核心Hello World控制台应用程序</p></div></div><div class="oe l"><div class="of l og oh oi oe oj jz nv"/></div></div></a></div><p id="8f52" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">首先创建一个新文件夹，然后从中初始化您的项目:</p><pre class="my mz na nb gt ni nj nk nl aw nm bi"><span id="25a2" class="nn li it nj b gy no np l nq nr">mkdir hello-world<br/>cd hello-world<br/>dotnet new console</span></pre><p id="68ab" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">您将拥有以下文件和文件夹:</p><pre class="my mz na nb gt ni nj nk nl aw nm bi"><span id="d4cb" class="nn li it nj b gy no np l nq nr">hello-world<br/>├── bin<br/>├── obj<br/>├── hello-world.csproj<br/>├── Program.cs</span></pre><p id="a581" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">您已经可以忽略<strong class="kh iu"> <em class="kg"> bin </em> </strong>和<strong class="kh iu"> <em class="kg"> obj </em> </strong>文件夹，它们只用于构建和调试步骤，因此您永远不必查看它们。事实上，我在VSCode和Git上都忽略了它们。</p><p id="a6ca" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">的。csproj文件包含关于运行时、包、版本和其他项目配置属性的信息。默认真的很小。</p><figure class="my mz na nb gt ju"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="a652" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">最后，我们最重要的文件:Program.cs。</p><figure class="my mz na nb gt ju"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="dfa0" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">同样，没有什么是棘手的——您有自己的默认名称空间。通过静态方法Main() 声明主入口点的类。类或名称空间可以根据您的需要进行更改，不需要是公共的，<strong class="kh iu"> Main </strong>方法也不需要。这里的类是<a class="ae ld" href="https://docs.microsoft.com/fr-fr/dotnet/csharp/language-reference/keywords/internal" rel="noopener ugc nofollow" target="_blank">内部</a>，方法是<a class="ae ld" href="https://docs.microsoft.com/fr-fr/dotnet/csharp/language-reference/keywords/private" rel="noopener ugc nofollow" target="_blank">私有</a>。</p><p id="4131" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">唯一的约束是至少要有这个静态Main方法。甚至参数也是可选的，但是它们的存在是为了通过命令行执行来提供对参数的访问。</p><p id="6184" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">现在，让我们运行应用程序:</p><pre class="my mz na nb gt ni nj nk nl aw nm bi"><span id="0ebc" class="nn li it nj b gy no np l nq nr">dotnet run<br/>&gt; Hello World!</span></pre><p id="f437" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">就这么简单。获取应用程序的发布版本，该版本可部署在任何具有。NET Core runtime(此处为2.2版)，只需如下发布应用程序:</p><pre class="my mz na nb gt ni nj nk nl aw nm bi"><span id="875f" class="nn li it nj b gy no np l nq nr">dotnet publish -c Release -o dist</span></pre><p id="c341" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">由此产生的<strong class="kh iu"> <em class="kg"> dist </em> </strong>文件夹应该是这样的:</p><pre class="my mz na nb gt ni nj nk nl aw nm bi"><span id="0b7a" class="nn li it nj b gy no np l nq nr">dist<br/>├── hello-world.deps.json<br/>├── hello-world.dll<br/>├── hello-world.pdb<br/>├── hello-world.runtimeconfig.json</span></pre><p id="a311" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">可以删除<strong class="kh iu"><em class="kg">hello-world . pdb</em></strong>而不会出现问题，因为它只对调试有用，但它是默认生成的，即使在发布模式下也是如此。您可以通过将此代码片段添加到您的<strong class="kh iu"><em class="kg">hello-world . csproj</em></strong>(在&lt;项目/ &gt;标签下)来禁用此行为。</p><figure class="my mz na nb gt ju"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="6784" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">那么<strong class="kh iu"><em class="kg">【hello-world.dll】</em></strong>就是你编译好的代码，使用这个运行时命令可执行:</p><pre class="my mz na nb gt ni nj nk nl aw nm bi"><span id="00a2" class="nn li it nj b gy no np l nq nr">dotnet hello-world.dll</span></pre><p id="6ed7" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated"><strong class="kh iu"> <em class="kg"> deps.json </em> </strong>和<strong class="kh iu"><em class="kg">runtime config . JSON</em></strong>文件分别用于处理对其他包的依赖和配置运行时。</p><p id="ce5e" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">最后，在发布应用程序时，您可以使用<a class="ae ld" href="https://docs.microsoft.com/fr-fr/dotnet/core/rid-catalog" rel="noopener ugc nofollow" target="_blank">运行时标识符目录</a>轻松地针对特定平台进行构建:</p><pre class="my mz na nb gt ni nj nk nl aw nm bi"><span id="78f6" class="nn li it nj b gy no np l nq nr">dotnet publish -c Release -r win-x64 -o dist/win-x64<br/>dotnet publish -c Release -r osx-x64 -o dist/osx-x64<br/>dotnet publish -c Release -r linux-x64 -o dist/linux-x64</span></pre><h1 id="8f37" class="lh li it bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">你好，韦伯！</h1><p id="e9cc" class="pw-post-body-paragraph ke kf it kh b ki mf kk kl km mg ko kp le mh ks kt lf mi kw kx lg mj la lb lc im bi translated">好吧，这很酷，我们很容易地在控制台上写了一行，但一些网络的东西呢？好吧，这也很容易做到！</p><p id="3f5a" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">首先，让我们为ASP.NET核心添加软件包:</p><pre class="my mz na nb gt ni nj nk nl aw nm bi"><span id="7245" class="nn li it nj b gy no np l nq nr">dotnet add package Microsoft.AspNetCore</span></pre><p id="ffd9" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">这个包将允许我们<strong class="kh iu">配置</strong>、<strong class="kh iu">构建</strong>和<strong class="kh iu">运行</strong>一个简单的WebHost。这可以在一行代码中完成，在<strong class="kh iu"> <em class="kg"> Main() </em> </strong>方法中。您还需要引用新的包，就像您为NodeJS导入npm包一样。由此产生的<strong class="kh iu"> <em class="kg"> Program.cs </em> </strong>看起来应该如下:</p><figure class="my mz na nb gt ju"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="0681" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">您可以使用与上面相同的命令来运行和构建应用程序:</p><pre class="my mz na nb gt ni nj nk nl aw nm bi"><span id="836f" class="nn li it nj b gy no np l nq nr">dotnet run</span></pre><p id="8839" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">现在打开你最喜欢的浏览器，进入<a class="ae ld" href="http://localhost:5000," rel="noopener ugc nofollow" target="_blank"> http://localhost:5000，</a>享受这个美妙的<strong class="kh iu"> <em class="kg"> Hello World吧！</em> </strong>网页:</p><figure class="my mz na nb gt ju gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/9291792dd460749821b55a1c48198ffa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/1*dQJcBJADzxiCcukCpl-7Qg.png"/></div><figcaption class="ne nf gj gh gi ng nh bd b be z dk translated">它还活着！</figcaption></figure><p id="4d25" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">目前就这些。我将带着更多真实世界的例子回来，但是在读完这篇文章之后，我真的希望你的意见。网核进化了。</p><p id="48a8" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated">如果你有任何问题，我会尽我所能在评论中尽可能做出回应！</p><p id="8fc1" class="pw-post-body-paragraph ke kf it kh b ki kj kk kl km kn ko kp le kr ks kt lf kv kw kx lg kz la lb lc im bi translated"><strong class="kh iu">更新</strong>:由于我的下一个故事<a class="ae ld" href="https://medium.com/@jbuisson/net-core-is-sexy-real-world-part-1-command-line-application-953f48394c83" rel="noopener">，你现在可以继续讲一个真实世界的例子了。NET Core很性感——现实世界第1部分:命令行应用</a>。</p></div></div>    
</body>
</html>