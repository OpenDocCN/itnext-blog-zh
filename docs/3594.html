<html>
<head>
<title>How to use Query Parameters with MicroProfile Rest-Client</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在MicroProfile Rest-Client中使用查询参数</h1>
<blockquote>原文：<a href="https://itnext.io/how-to-use-query-parameters-with-microprofile-rest-client-16a72be073b9?source=collection_archive---------2-----------------------#2020-01-14">https://itnext.io/how-to-use-query-parameters-with-microprofile-rest-client-16a72be073b9?source=collection_archive---------2-----------------------#2020-01-14</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><p id="742a" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated">正如我在之前写的那样，我使用微文件<a class="ae km" href="https://github.com/eclipse/microprofile-rest-client" rel="noopener ugc nofollow" target="_blank"> Rest-Client </a>通过HTTP与另一个服务对话。自从我写了另一篇文章后，后端发生了一些变化，现在我需要传递一个查询参数来告诉后端这是否是一次演习。</p><figure class="ko kp kq kr gu ks gi gj paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gi gj kn"><img src="../Images/bbb6027be60d8ead866372a2a0639f6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZjTFsC1MdbHFGUVgaxcDlw.jpeg"/></div></div><figcaption class="kz la gk gi gj lb lc bd b be z dk translated">带有查询参数的HTTP Post请求</figcaption></figure><p id="618a" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated">规范文档提到所有种类的参数都可以被传递，但是没有查询参数的例子，所以我们开始:</p><pre class="ko kp kq kr gu ld le lf lg aw lh bi"><span id="7140" class="li lj ir le b gz lk ll l lm ln">@Path("/some/path")<br/>public interface VerifyEngine {<br/><br/>  @POST<br/>  @Consumes("application/json")<br/>  @Produces("application/json")<br/>  Msg <strong class="le is">verify</strong>(FullTrigger trigger,  // <strong class="le is">(1)</strong> <br/>             <strong class="le is">@QueryParam("dry")</strong> boolean isDryRun);   // <strong class="le is">(2)</strong></span></pre><p id="4c8a" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated">像以前一样，<em class="lo"> verify() </em> (1)是我们调用来完成远程调用的方法。是否通过<em class="lo">？dry=true </em>在完整的URL中，我们用<strong class="jq is"> @QueryParam </strong>注释(2)指定一个布尔参数。参数的名称用作URL中的query-param。</p><p id="9169" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated">现在，在调用代码中设置这个查询参数就像传递一个方法参数一样简单(如下3所示):</p><pre class="ko kp kq kr gu ld le lf lg aw lh bi"><span id="f364" class="li lj ir le b gz lk ll l lm ln">FullTrigger trigger = new FullTrigger(policy);<br/>engine.<strong class="le is">verify</strong>(trigger, <strong class="le is">true</strong>);  // <strong class="le is">(3)</strong> </span></pre><h2 id="df98" class="li lj ir bd lp lq lr dn ls lt lu dp lv jz lw lx ly kd lz ma mb kh mc md me mf bi translated">其他种类的参数</h2><p id="d4ba" class="pw-post-body-paragraph jo jp ir jq b jr mg jt ju jv mh jx jy jz mi kb kc kd mj kf kg kh mk kj kk kl ik bi translated">同样的机制也适用于其他类型的参数，如@HeaderParam，用于设置HTTP头:</p><pre class="ko kp kq kr gu ld le lf lg aw lh bi"><span id="72b1" class="li lj ir le b gz lk ll l lm ln">Msg <strong class="le is">verify</strong>(FullTrigger trigger,<br/>           @QueryParam("dry") boolean isDryRun,<br/>           <strong class="le is">@HeaderParam</strong>("Hawkular-Tenant" ) String customerId<br/>);</span></pre><p id="1130" class="pw-post-body-paragraph jo jp ir jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ik bi translated">在调用方，这只是添加了另一个方法参数:</p><pre class="ko kp kq kr gu ld le lf lg aw lh bi"><span id="02df" class="li lj ir le b gz lk ll l lm ln">FullTrigger trigger = new FullTrigger(policy);<br/>engine.<strong class="le is">verify</strong>(trigger, true, <strong class="le is">customerId</strong>);</span></pre></div></div>    
</body>
</html>