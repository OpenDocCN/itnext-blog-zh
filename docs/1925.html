<html>
<head>
<title>Easy Enhancements for VS Code’s Terminal</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">VS代码终端的简单增强</h1>
<blockquote>原文：<a href="https://itnext.io/easy-enhancements-for-vs-codes-terminal-6dda2c22ee5c?source=collection_archive---------0-----------------------#2019-02-25">https://itnext.io/easy-enhancements-for-vs-codes-terminal-6dda2c22ee5c?source=collection_archive---------0-----------------------#2019-02-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="2cef" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">几个月前我从Sublime Text(没有阴影——❤sublime)转到了VS代码。我一直将终端(在Mac上)与Sublime结合使用，但是在使用VS代码时，我决定利用集成的终端。看到命令输出与您正在处理的文件在同一个窗口中当然很好(特别是在使用保存时运行的命令时)，但缺点是很容易看不到哪个窗格是活动的，光标在哪里。我不断地在随机文件中输入<code class="fe kl km kn ko b">git status</code>之类的东西。</p><p id="150a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在研究如何解决这个问题时，我发现了一些其他的VS代码终端增强，我将与大家分享。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi kp"><img src="../Images/27d8df4110b1b30077cfccad726c0e4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kZ98c8IxGO4VoO-s4yMUQA.jpeg"/></div></div><figcaption class="lb lc gj gh gi ld le bd b be z dk translated">粉红玫瑰。版权所有诺拉布朗。</figcaption></figure><h1 id="15a3" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">解决焦点问题</h1><p id="c6d6" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">这个<a class="ae mi" href="https://stackoverflow.com/questions/46124139/how-to-change-the-color-of-the-terminal-when-is-focused" rel="noopener ugc nofollow" target="_blank">堆栈溢出问答</a>给我指出了正确的方向。</p><h2 id="c99b" class="mj lg iq bd lh mk ml dn ll mm mn dp lp jy mo mp lt kc mq mr lx kg ms mt mb mu bi translated">使终端光标突出</h2><p id="27e2" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">你可以做一件很小但很有帮助的事情来使你要输入的文本更明显，那就是当光标在终端中时，通过改变颜色并使其闪烁来使光标更突出。添加:</p><pre class="kq kr ks kt gt mv ko mw mx aw my bi"><span id="307d" class="mj lg iq ko b gy mz na l nb nc">"workbench.colorCustomizations": {<br/>   "terminalCursor.foreground": "#00ffaa<br/>},<br/>"terminal.integrated.cursorBlinking": true,</span></pre><p id="bb90" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">到您的<strong class="jp ir"> settings.json </strong>文件(使用您最喜欢的#hexcode)。要跳过GUI设置编辑器并直接进入JSON文件，请打开命令调板(<code class="fe kl km kn ko b">shift+cmd+p</code>)，键入“设置”，然后选择“首选项:打开设置(JSON)”。</p><p id="3c28" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">注意:</strong>这个文件必须包含一个Javascript对象，所以设置列表应该用花括号括起来。</p><h2 id="ab89" class="mj lg iq bd lh mk ml dn ll mm mn dp lp jy mo mp lt kc mq mr lx kg ms mt mb mu bi translated">给终端添加一些风格</h2><p id="32b0" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">我想让它更加明显，终端窗格是活跃的。对我有效的解决方案是创建一个简单的样式表，并使用这个扩展将它加载到VS代码中。例如:</p><pre class="kq kr ks kt gt mv ko mw mx aw my bi"><span id="cad9" class="mj lg iq ko b gy mz na l nb nc">.terminal {<br/>    border-left: 1px solid #00ffaa;<br/>    padding-left: 1em;<br/>    opacity: 1;<br/>}<br/>.terminal:not(.focus) {<br/>    border-color: transparent;<br/>    opacity: 0.5;<br/>}</span></pre><p id="fb4f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">将它保存在某个中心位置，然后告诉扩展加载它，方法是在<strong class="jp ir"> settings.json </strong>中添加几行代码:</p><pre class="kq kr ks kt gt mv ko mw mx aw my bi"><span id="13a2" class="mj lg iq ko b gy mz na l nb nc">"vscode_custom_css.imports": ["file:///Users/youruser/Documents/vs-code-custom.css"],<br/>"vscode_custom_css.policy": true,</span></pre><p id="a6c7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是样式表就位后终端的样子，无焦点和有焦点:</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi nd"><img src="../Images/f821492c6eb91c6d078ccbe273b61afe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*F3brtk4zDm8F1UVrrvCAmQ.gif"/></div></div><figcaption class="lb lc gj gh gi ld le bd b be z dk translated">应用于终端的自定义CSS在聚焦时高亮显示</figcaption></figure><h1 id="99ea" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">使终端更容易导航</h1><h2 id="e4ce" class="mj lg iq bd lh mk ml dn ll mm mn dp lp jy mo mp lt kc mq mr lx kg ms mt mb mu bi translated">用于更改窗格焦点的键绑定</h2><p id="141e" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">现在，我们可以更容易地看到我们在航站楼里，但是我们如何到达那里呢？</p><p id="d77e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">默认情况下<code class="fe kl km kn ko b">ctrl+`</code>切换终端打开和关闭。但是通常情况下，您希望终端保持打开状态，只需在它和编辑器窗口之间切换焦点。为此，可以将以下内容添加到keybindings.json文件中:</p><pre class="kq kr ks kt gt mv ko mw mx aw my bi"><span id="4106" class="mj lg iq ko b gy mz na l nb nc">{<br/>  "key": "ctrl+`",<br/>  "command": "workbench.action.terminal.focus",<br/>  "when": "!terminalFocus"<br/>},<br/>{ <br/>  "key": "ctrl+`",<br/>  "command": "workbench.action.focusActiveEditorGroup",<br/>  "when": "terminalFocus"<br/>}</span></pre><p id="9228" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有许多方法可以访问键绑定文件，但最简单的可能是打开命令菜单(<code class="fe kl km kn ko b">shift+cmd+p</code>)，键入“keyboard”，然后选择“Preferences:Open Keyboard shortcut s(JSON)”。</p><p id="9af2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您的键盘快捷键文件中还没有任何自定义绑定，它需要是一个数组，所以一定要将绑定列表放在方括号中。</p><h2 id="17aa" class="mj lg iq bd lh mk ml dn ll mm mn dp lp jy mo mp lt kc mq mr lx kg ms mt mb mu bi translated">命名您的终端窗口</h2><p id="773f" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">有一天，当我想出如何更改终端标签上的名字时，我觉得自己非常聪明。您可以在VS代码中做同样的事情，所以当您有多个终端运行时，您不必猜测您需要哪一个。</p><p id="083d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">激活您想要命名的终端，使用命令菜单(再次使用<code class="fe kl km kn ko b">command+shift+p</code>)并开始键入“终端:重命名”，然后选择该选项。输入您想要的名称，然后按<code class="fe kl km kn ko b">return/enter</code>就可以了。</p><p id="fd99" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">(您也可以为这个命令添加一个键盘快捷键:<code class="fe kl km kn ko b">workbench.action.terminal.rename</code>，但是默认情况下VS代码没有这个快捷键。)</p><h2 id="dd82" class="mj lg iq bd lh mk ml dn ll mm mn dp lp jy mo mp lt kc mq mr lx kg ms mt mb mu bi translated">下一个和上一个终端</h2><p id="18ae" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">我认为最方便的是不使用小的下拉菜单来浏览终端窗口。您可以添加更多的键盘快捷键来实现这一点:</p><pre class="kq kr ks kt gt mv ko mw mx aw my bi"><span id="b2d5" class="mj lg iq ko b gy mz na l nb nc">{ <br/>  "key": "ctrl+shift+right",<br/>  "command": "workbench.action.terminal.focusNext"<br/>},<br/>{ <br/>  "key": "ctrl+shift+left",<br/>  "command": "workbench.action.terminal.focusPrevious"<br/>},</span></pre><p id="6bd0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对了，创建一个新的终端，快捷键是<code class="fe kl km kn ko b">ctrl+shift+`</code>。</p><h2 id="946e" class="mj lg iq bd lh mk ml dn ll mm mn dp lp jy mo mp lt kc mq mr lx kg ms mt mb mu bi translated">几个可能有用的额外功能</h2><p id="faa2" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">如果您试图在有活跃的终端窗口时关闭窗口，有一个设置会打开警告:</p><pre class="kq kr ks kt gt mv ko mw mx aw my bi"><span id="7f1a" class="mj lg iq ko b gy mz na l nb nc">"terminal.integrated.confirmOnExit": true</span></pre><p id="49c4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">不幸的是，它警告您终端中是否有正在运行的进程，所以有点突兀。</p><p id="4ffc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于你<em class="ne">提前知道</em>你想继续运行的进程，即使你退出VS代码或者关闭一个工作区，你也可以用<code class="fe kl km kn ko b">shift+cmd+c</code>启动一个外部终端程序。而且，您可以使用以下设置更改它打开的编辑器:</p><pre class="kq kr ks kt gt mv ko mw mx aw my bi"><span id="998f" class="mj lg iq ko b gy mz na l nb nc">"terminal.external.osxExec": "YourFaveTerminal.app"</span></pre><h1 id="bd56" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">更多东西</h1><p id="3a5a" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">如果您对命令行了如指掌，那么定制终端的方法还有很多:</p><ul class=""><li id="c8a7" class="nf ng iq jp b jq jr ju jv jy nh kc ni kg nj kk nk nl nm nn bi translated"><a class="ae mi" href="https://www.growingwiththeweb.com/2017/03/mastering-vscodes-terminal.html" rel="noopener ugc nofollow" target="_blank">掌握VS代码的终端</a></li><li id="b5ab" class="nf ng iq jp b jq no ju np jy nq kc nr kg ns kk nk nl nm nn bi translated"><a class="ae mi" href="https://code.visualstudio.com/docs/editor/integrated-terminal" rel="noopener ugc nofollow" target="_blank">集成终端文档</a></li><li id="7304" class="nf ng iq jp b jq no ju np jy nq kc nr kg ns kk nk nl nm nn bi translated"><a class="ae mi" href="https://marketplace.visualstudio.com/items?itemName=be5invis.vscode-custom-css" rel="noopener ugc nofollow" target="_blank">自定义CSS和JS加载器扩展</a></li></ul></div></div>    
</body>
</html>