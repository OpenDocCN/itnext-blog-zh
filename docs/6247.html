<html>
<head>
<title>No more passwords: Web Authentication in OutSystems</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">不再需要密码:外部系统中的Web认证</h1>
<blockquote>原文：<a href="https://itnext.io/no-more-passwords-web-authentication-in-outsystems-b73eb9f6ee55?source=collection_archive---------8-----------------------#2021-09-28">https://itnext.io/no-more-passwords-web-authentication-in-outsystems-b73eb9f6ee55?source=collection_archive---------8-----------------------#2021-09-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/cfb567113b79703a44eba87b63a2476c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pEF4GRz4hD6xD6p5pAaKFA.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae kc" href="https://unsplash.com/@zanilic?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Zan </a>在<a class="ae kc" href="https://unsplash.com/s/photos/keys?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="4f8e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用户通常在多个网站上使用相同的用户名/电子邮件和密码组合。</p><p id="46a3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这通常是一个问题，因为如果他们的凭证在特定的网站中受到损害，这意味着他们在所有的网站中都受到损害。</p><p id="8720" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有些人使用密码管理器和建议的强密码，但是如果有一种方法可以完全不使用密码呢？</p><p id="8d30" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">原来是有的。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="6d15" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">Web身份验证</h1><blockquote class="mg mh mi"><p id="0a84" class="kd ke mj kf b kg kh ki kj kk kl km kn mk kp kq kr ml kt ku kv mm kx ky kz la ij bi translated">Web认证API(也称为WebAuthn)使用<a class="ae kc" href="https://en.wikipedia.org/wiki/Public-key_cryptography" rel="noopener ugc nofollow" target="_blank">非对称(公钥)加密</a>而不是密码或短信来注册、认证和<a class="ae kc" href="https://en.wikipedia.org/wiki/Multi-factor_authentication" rel="noopener ugc nofollow" target="_blank">第二因素认证</a>网站。这有一些好处:</p><p id="2114" class="kd ke mj kf b kg kh ki kj kk kl km kn mk kp kq kr ml kt ku kv mm kx ky kz la ij bi translated"><strong class="kf ir">防钓鱼:</strong>创建虚假登录网站的攻击者无法以用户身份登录，因为签名会随着网站的<a class="ae kc" href="https://developer.mozilla.org/en-US/docs/Glossary/Origin" rel="noopener ugc nofollow" target="_blank">来源</a>而改变。</p><p id="571b" class="kd ke mj kf b kg kh ki kj kk kl km kn mk kp kq kr ml kt ku kv mm kx ky kz la ij bi translated"><strong class="kf ir">降低数据泄露的影响:</strong>开发者不需要哈希公钥，如果攻击者获得了用于验证身份验证的公钥，就无法进行身份验证，因为它需要私钥。</p><p id="bfa6" class="kd ke mj kf b kg kh ki kj kk kl km kn mk kp kq kr ml kt ku kv mm kx ky kz la ij bi translated"><strong class="kf ir">不易受密码攻击:</strong>一些用户可能会重复使用密码，攻击者可能会获取另一个网站的用户密码(例如通过数据泄露)。此外，文本密码比数字签名更容易被暴力破解。</p></blockquote><p id="30e8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">检查完整的<a class="ae kc" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Authentication_API" rel="noopener ugc nofollow" target="_blank">文档</a>。</p><h2 id="86f1" class="mn lj iq bd lk mo mp dn lo mq mr dp ls ko ms mt lw ks mu mv ma kw mw mx me my bi translated">它是如何工作的？</h2><p id="d74a" class="pw-post-body-paragraph kd ke iq kf b kg mz ki kj kk na km kn ko nb kq kr ks nc ku kv kw nd ky kz la ij bi translated">注册用户:</p><figure class="nf ng nh ni gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ne"><img src="../Images/939647c9bb836b72b7fe9e5870f3a1a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8JQi5ru8-1iAl9DlFKj_eQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">developer.mozilla.org注册图像</figcaption></figure><p id="48a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它从浏览器触发的公钥创建开始。这个公钥是使用一些硬件资源创建的，它可以是计算机的TPM(可信平台模块)或某种外部硬件，如<a class="ae kc" href="https://www.yubico.com/" rel="noopener ugc nofollow" target="_blank"> Yubico </a>密钥。</p><p id="8b24" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个公钥被发送到服务器，经过验证，然后与用户配置文件相关联。</p><p id="20bf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">登录:</p><figure class="nf ng nh ni gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nj"><img src="../Images/adee690c41bcea155cdfd2d2af1adc89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NJh5YIB2peKDwXn3NrSvMg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">developer.mozilla.org的签到流程图</figcaption></figure><p id="f8e7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当用户登录浏览器时，会发送使用其私钥签名的验证数据，只有您或您的机器拥有该私钥。然后，验证者可以使用您的公钥验证这个签名。</p><p id="6ef9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这样，即使您的公钥被盗也没有关系，因为只有您的私钥可以签署消息。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="b983" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">外部系统实现</h1><p id="51fe" class="pw-post-body-paragraph kd ke iq kf b kg mz ki kj kk na km kn ko nb kq kr ks nc ku kv kw nd ky kz la ij bi translated">在外部系统中实现这一点需要两个步骤。</p><p id="2451" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，我们需要客户端Web Authn <a class="ae kc" href="https://developer.mozilla.org/en-US/docs/Web/API/PublicKeyCredential" rel="noopener ugc nofollow" target="_blank">方法</a>。</p><p id="0459" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第二步是在服务器端构建一个认证器。实现FIDO2方法的库很少，而最流行的一个【fido2.net T2】，被证明比预期的更棘手。</p><p id="26c7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以现在我们将使用一个名为<a class="ae kc" href="https://passwordless.dev/" rel="noopener ugc nofollow" target="_blank"> passwordless.dev </a>的REST API，它提供了服务器端认证者角色。</p><h2 id="7ce4" class="mn lj iq bd lk mo mp dn lo mq mr dp ls ko ms mt lw ks mu mv ma kw mw mx me my bi translated">测试Web身份验证</h2><p id="89a3" class="pw-post-body-paragraph kd ke iq kf b kg mz ki kj kk na km kn ko nb kq kr ks nc ku kv kw nd ky kz la ij bi translated">为了测试这一点，你需要一台装有TPM(大多数现代计算机都有)或某种形式的硬件认证(Yubico，指纹扫描仪等)的计算机。).对于Windows，您可以使用Windows Hello。</p><p id="8009" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">注册步骤:</p><figure class="nf ng nh ni gt jr gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/76ce6fb0e4185537a7e6c50239047891.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*7nZX0p_y-fC7LEFBW5SHJA.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">注册页面示例仅需要姓名和电子邮件</figcaption></figure><p id="4caa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后浏览器启动，要求你输入(在这种情况下是Windows Hello)</p><figure class="nf ng nh ni gt jr gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/f63dd057eb1e17281f49cc3530477565.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/1*4UwwqAVQymZp-e4TqPwzQA.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">浏览器要求验证以生成公钥</figcaption></figure><p id="b579" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，这由验证器(passwordless.dev api)验证并存储:</p><figure class="nf ng nh ni gt jr gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/f0396295498f3708e83e07a9c0b9e7cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/format:webp/1*IjTB2wxD8-cUZCdNjgFi-w.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">存储在API上的数据</figcaption></figure><p id="8880" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">登录是一个类似的过程:</p><figure class="nf ng nh ni gt jr gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/623c3bf62f0cb843af244d648714aad7.png" data-original-src="https://miro.medium.com/v2/resize:fit:822/format:webp/1*G6mq2Ocy1UsLxz62xiCSGA.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">只用电子邮件登录</figcaption></figure><p id="0935" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">浏览器启动并要求创建一个签名。</p><figure class="nf ng nh ni gt jr gh gi paragraph-image"><div class="gh gi no"><img src="../Images/6f4d0622393003420099afd269dc6c5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1214/format:webp/1*5ZeL_Di3jOPKijcT5usNoA.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">Windows Hello要求pin来签署验证数据</figcaption></figure><p id="20b7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们得到了验证:</p><figure class="nf ng nh ni gt jr gh gi paragraph-image"><div class="gh gi np"><img src="../Images/b05c293151063d7acdfa6594cafc071a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/format:webp/1*kf_Jp4C1WetB2wxayKFZ6g.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">一个成功验证的例子</figcaption></figure></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><p id="c328" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我相信我们会看到这种网络认证被越来越多的应用。事实上，微软最近<a class="ae kc" href="https://www.microsoft.com/security/blog/2021/09/15/the-passwordless-future-is-here-for-your-microsoft-account/" rel="noopener ugc nofollow" target="_blank">宣布</a>它将开始在他们的服务上推出对无密码认证的支持，其他公司也会跟进。</p><p id="a670" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可能会认为还没有硬件支持，但事实是我们大多数人已经拥有了所需的一切。我们还可以让用户名/密码成为后备例外，而不是规则。</p><p id="3f2b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">像往常一样，你会在<a class="ae kc" href="https://www.outsystems.com/forge/component-overview/11638/passwordless-library" rel="noopener ugc nofollow" target="_blank"> forge </a>上找到这个组件和演示。</p><figure class="nf ng nh ni gt jr gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/82df0d7ba90bac0fba0b4aa988df3282.png" data-original-src="https://miro.medium.com/v2/resize:fit:544/format:webp/1*6m7ex478ArOnRurCricieg.png"/></div></figure><p id="a974" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，去构建那些应用程序吧。</p></div></div>    
</body>
</html>