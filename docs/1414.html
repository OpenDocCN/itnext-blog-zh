<html>
<head>
<title>Master JavaScript Implicit Type Conversion</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">掌握JavaScript隐式类型转换</h1>
<blockquote>原文：<a href="https://itnext.io/master-javascript-implicit-type-conversion-573d0c90a3bf?source=collection_archive---------5-----------------------#2018-10-09">https://itnext.io/master-javascript-implicit-type-conversion-573d0c90a3bf?source=collection_archive---------5-----------------------#2018-10-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b778be433e809ba1ce801510f08976df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1QDUhHcMnaVhecNd.jpg"/></div></div></figure><p id="7999" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw">青城山的顶峰</em></p><p id="8e9f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">完整阅读体验，欢迎访问我的<a class="ae kx" href="https://terry-su.github.io/blog/detail/master-javascript-implicit-type-conversion.html" rel="noopener ugc nofollow" target="_blank">原创文章</a>。</p><p id="4477" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在开始这篇用英语写的文章之前，我想感谢<a class="ae kx" href="https://www.reddit.com/user/l3l_aze" rel="noopener ugc nofollow" target="_blank"> @l3l_aze </a>指出了我之前的技术文章的问题，并就如何用英语写得更好给了我宝贵的建议。经过一段时间的准备，我再次开始用英语写文章，并将继续写更多。</p><p id="6f79" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">隐式类型转换是JavaScript最热门也是最重要的特性之一。为了完全掌握它，我搜索了大量相关文章，查阅了《JavaScript:权威指南，第6版》一书，并将这些概念、想法和示例总结到本文中。</p><blockquote class="ky kz la"><p id="8c50" class="jy jz kw ka b kb kc kd ke kf kg kh ki lb kk kl km lc ko kp kq ld ks kt ku kv ij bi translated"><em class="iq">学习一个新的知识点，我们通常会在网上搜索、阅读大量的相关资料(博客、StackOverflow等)。但是，要彻底掌握它，我们最好从MDN这样的权威资料或者权威书籍中寻找它的出处，以保证它的正确性。</em></p></blockquote><h1 id="a559" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">什么是隐式类型转换？</h1><p id="bd55" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">JavaScript非常灵活，它会根据需要自动转换值的类型。例如:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="0541" class="mq lf iq mm b gy mr ms l mt mu">'' + 1 <em class="kw">// '1'</em></span></pre><h1 id="5ee7" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">什么时候会发生隐式类型转换？</h1><p id="1fea" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">这里列出了常用的情况:</p><p id="abd5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">表达式(带运算符)</strong> <br/> <em class="kw">算术</em></p><ul class=""><li id="26a8" class="mv mw iq ka b kb kc kf kg kj mx kn my kr mz kv na nb nc nd bi translated"><code class="fe ne nf ng mm b">+</code></li></ul><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="2899" class="mq lf iq mm b gy mr ms l mt mu"><em class="kw">/* unary +, converse x to number */</em><br/>+ x</span><span id="88d5" class="mq lf iq mm b gy nh ms l mt mu">+ 1 <em class="kw">// 1</em><br/>+ '1' <em class="kw">// 1</em><br/>+ true <em class="kw">// 1</em><br/>+ new Date() <em class="kw">// (a numeric value)</em><br/></span><span id="7e7a" class="mq lf iq mm b gy nh ms l mt mu"><em class="kw">/* two operands */</em><br/>a + b</span><span id="7d7d" class="mq lf iq mm b gy nh ms l mt mu"><em class="kw">// 1. if either is an object, converse it to a primitive first</em><br/>{} + {} <em class="kw">// '[object object][object object]'</em><br/>[] + [] <em class="kw">// ''</em><br/>[] + new Date() <em class="kw">// (A date string)</em></span><span id="8e60" class="mq lf iq mm b gy nh ms l mt mu"><em class="kw">// 2. if one is a string, converse the other to a string</em><br/>1 + '' <em class="kw">// '1'</em><br/>'' + 1 <em class="kw">// '1'</em><br/>'' + true <em class="kw">// 'true'</em></span><span id="e5a4" class="mq lf iq mm b gy nh ms l mt mu"><em class="kw">// 3. otherwise, converse both to numbers</em><br/>1 + true <em class="kw">// 2</em><br/>true + true <em class="kw">// 2</em></span></pre><ul class=""><li id="75fb" class="mv mw iq ka b kb kc kf kg kj mx kn my kr mz kv na nb nc nd bi translated"><code class="fe ne nf ng mm b">-</code>、<code class="fe ne nf ng mm b">*</code>、<code class="fe ne nf ng mm b">/</code>、<code class="fe ne nf ng mm b">++</code>、<code class="fe ne nf ng mm b">--</code></li></ul><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="24f9" class="mq lf iq mm b gy mr ms l mt mu"><em class="kw">/* Converse value or values to number */</em><br/>- '1' <em class="kw">// -1</em><br/>[] - 1 <em class="kw">// -1</em><br/>[] - {} <em class="kw">// NaN</em></span></pre><p id="c8b8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw">关系</em></p><ul class=""><li id="2c42" class="mv mw iq ka b kb kc kf kg kj mx kn my kr mz kv na nb nc nd bi translated"><code class="fe ne nf ng mm b">==</code>，<code class="fe ne nf ng mm b">!=</code></li></ul><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="4078" class="mq lf iq mm b gy mr ms l mt mu"><em class="kw">/* two operands */</em><br/>a == b</span><span id="8a4a" class="mq lf iq mm b gy nh ms l mt mu"><em class="kw">// 1. if one is `null` and the other is `undefined`, they are equal</em><br/>null == undefined <em class="kw">// true</em></span><span id="458c" class="mq lf iq mm b gy nh ms l mt mu"><em class="kw">// 2. if one is a number and the other is a string, convert the string to a number, compare again</em><br/>1 == '1' <em class="kw">// true</em></span><span id="7f66" class="mq lf iq mm b gy nh ms l mt mu"><em class="kw">// 3. if either is boolean, convert it to a number, compare again</em><br/>true == 1 <em class="kw">// true</em><br/>false == 0 <em class="kw">// true</em></span><span id="cf8e" class="mq lf iq mm b gy nh ms l mt mu"><em class="kw">// 4. if one is an object, and the other is a number or a string, convert the object to a primitive, compare again</em><br/>[ 1 ] == 1 <em class="kw">// true</em><br/>[ '1' ] == '1' <em class="kw">// true</em></span></pre><ul class=""><li id="9fa3" class="mv mw iq ka b kb kc kf kg kj mx kn my kr mz kv na nb nc nd bi translated"><code class="fe ne nf ng mm b">&gt;</code>、<code class="fe ne nf ng mm b">&gt;=</code>、<code class="fe ne nf ng mm b">&lt;</code>、<code class="fe ne nf ng mm b">&lt;=</code></li></ul><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="3b3a" class="mq lf iq mm b gy mr ms l mt mu"><em class="kw">/* two operands */</em><br/>a &gt; b</span><span id="08d0" class="mq lf iq mm b gy nh ms l mt mu"><em class="kw">// 1. if either is an object, convert it to a primitive, compare again</em><br/>[ 2 ] &gt; 1 <em class="kw">// true</em></span><span id="286b" class="mq lf iq mm b gy nh ms l mt mu"><em class="kw">// 2. if both are strings, compare them using alphabetical order</em><br/>'b' &gt; 'a' <em class="kw">// true</em></span><span id="03fc" class="mq lf iq mm b gy nh ms l mt mu"><em class="kw">// 3. if either is a number, convert one or two not number to number</em><br/>'2' &gt; 1 <em class="kw">// true</em></span></pre><ul class=""><li id="9d22" class="mv mw iq ka b kb kc kf kg kj mx kn my kr mz kv na nb nc nd bi translated"><code class="fe ne nf ng mm b">in</code></li></ul><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="c5d1" class="mq lf iq mm b gy mr ms l mt mu"><em class="kw">/* if left operand isn't a string, convert it to a string  */</em><br/>a in b</span><span id="0db0" class="mq lf iq mm b gy nh ms l mt mu">'1' in { 1: '' } <em class="kw">// true</em><br/>1 in { 1: 'a' } <em class="kw">// true</em><br/>1 in [ 'a', 'b' ] <em class="kw">// true</em></span></pre><p id="de1d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw">逻辑</em></p><ul class=""><li id="ec8d" class="mv mw iq ka b kb kc kf kg kj mx kn my kr mz kv na nb nc nd bi translated"><code class="fe ne nf ng mm b">&amp;&amp;</code>、<code class="fe ne nf ng mm b">||</code>、<code class="fe ne nf ng mm b">!</code></li></ul><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="42a4" class="mq lf iq mm b gy mr ms l mt mu"><em class="kw">/* if either isn't booelan, convert it to a boolean value */</em><br/>Boolean( null || undefined || 0 || -0 || NaN || '' ) <em class="kw">// false</em><br/>Boolean( 1 &amp;&amp; 'a' &amp;&amp; {} &amp;&amp; [] &amp;&amp; [0] &amp;&amp; function(){} ) <em class="kw">// true</em></span></pre><p id="dadf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">注意<code class="fe ne nf ng mm b">?:</code><code class="fe ne nf ng mm b">if</code><code class="fe ne nf ng mm b">else if</code><code class="fe ne nf ng mm b">while</code><code class="fe ne nf ng mm b">do/while</code><code class="fe ne nf ng mm b">for</code>后面的<strong class="ka ir">使用与<code class="fe ne nf ng mm b">&amp;&amp;</code><code class="fe ne nf ng mm b">||</code><code class="fe ne nf ng mm b">!</code>(逻辑表达式)相同的<strong class="ka ir">隐式类型转换方式</strong>。</strong></p><p id="3984" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw">有条件的</em></p><ul class=""><li id="beb1" class="mv mw iq ka b kb kc kf kg kj mx kn my kr mz kv na nb nc nd bi translated"><code class="fe ne nf ng mm b">?:</code></li></ul><p id="8c52" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">报表</strong> <br/> <em class="kw">条件</em></p><ul class=""><li id="ae39" class="mv mw iq ka b kb kc kf kg kj mx kn my kr mz kv na nb nc nd bi translated"><code class="fe ne nf ng mm b">if</code>，<code class="fe ne nf ng mm b">else if</code></li></ul><p id="0467" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw">循环</em></p><ul class=""><li id="7500" class="mv mw iq ka b kb kc kf kg kj mx kn my kr mz kv na nb nc nd bi translated"><code class="fe ne nf ng mm b">while</code>、<code class="fe ne nf ng mm b">do/while</code>、<code class="fe ne nf ng mm b">for</code></li></ul><h1 id="8988" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">显式类型转换怎么样</h1><p id="46ff" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">显式类型转换使类型转换代码变得清晰。<br/>虽然有很多方法来执行显式类型转换，例如<code class="fe ne nf ng mm b">toString()</code>和<code class="fe ne nf ng mm b">parseInt()</code>，但是推荐使用<code class="fe ne nf ng mm b">Boolean()</code>、<code class="fe ne nf ng mm b">Number()</code>、<code class="fe ne nf ng mm b">String()</code>或<code class="fe ne nf ng mm b">Object()</code>函数。</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="3f24" class="mq lf iq mm b gy mr ms l mt mu">Boolean( 1 ) <em class="kw">// true</em><br/>Boolean( 0 ) <em class="kw">// false</em></span><span id="6a9d" class="mq lf iq mm b gy nh ms l mt mu">Number( '1' ) <em class="kw">// 1</em></span><span id="16d9" class="mq lf iq mm b gy nh ms l mt mu">String( 1 ) <em class="kw">// '1'</em></span><span id="5508" class="mq lf iq mm b gy nh ms l mt mu">Object( 1 ) <em class="kw">// new Number(1)</em></span></pre><h1 id="1d07" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">通用JavaScript类型转换</h1><p id="7c64" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">下面的参考表来自《JavaScript:权威指南，第6版》，对于查找JavaScript中常见的类型转换非常方便</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ni"><img src="../Images/e7836782e4ce004b5bd70674d8e351fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*AO0bt6MghegKIOsS.png"/></div></div></figure><p id="5b96" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw">《JavaScript-权威指南第六版》3.8.0 </em></p><h1 id="8481" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="c69e" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">隐式类型转换有时非常有用，例如简化我们的代码。但是我们最好也注意潜在的风险，如果有人不太熟悉隐式类型转换的规则，转换的值可能是意外的。若要避免这种情况，请改用显式类型转换。</p><p id="1159" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">好了，就这些。如果这篇文章对你有帮助，那是我的荣幸。如果你有任何问题或建议，请在底部评论。望各位真知灼见。</p></div></div>    
</body>
</html>