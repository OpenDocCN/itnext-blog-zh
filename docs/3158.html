<html>
<head>
<title>Create Your Own Blog with DevTO API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用DevTO API创建你自己的博客</h1>
<blockquote>原文：<a href="https://itnext.io/create-your-own-blog-with-devto-api-e33701117043?source=collection_archive---------8-----------------------#2019-10-13">https://itnext.io/create-your-own-blog-with-devto-api-e33701117043?source=collection_archive---------8-----------------------#2019-10-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/86c21f97a899e0b234e696a42eef82b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aF-Aj0URYhl4-O6-j-AUmA.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated"><a class="ae kf" href="https://dalenguyen.me/blog" rel="noopener ugc nofollow" target="_blank">https://dalenguyen.me/blog</a></figcaption></figure><p id="30ad" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2019年6月加入<a class="ae kf" href="https://dev.to" rel="noopener ugc nofollow" target="_blank"> DevTO </a>。这是一个非常有趣的平台，程序员可以在这里分享想法，互相帮助成长。这是一个分享和发现伟大想法、进行辩论和交朋友的在线社区。任何人都可以分享文章、问题、讨论等。只要他们有权分享他们的话。欢迎从你自己的博客交叉发帖——引用“关于”页面。</p><p id="c81e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在平台上写了几个帖子，其实挺喜欢的。而且更耐人寻味的是，我发现了他们的<a class="ae kf" href="https://docs.dev.to/api/" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu"> API(测试版)</strong> </a>，这让我可以获得JSON格式的文章。</p><p id="178e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我知道我可以把所有的帖子从DevTO放到我新重建的网站上。还有一些挑战需要解决:</p><ul class=""><li id="03d6" class="le lf it ki b kj kk kn ko kr lg kv lh kz li ld lj lk ll lm bi translated">它在我的网站上应该是什么样子？</li><li id="13d7" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">我如何显示“所有文章”页面？</li><li id="6faf" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">如何显示文章页面？</li></ul><p id="0713" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">幸运的是，我心中有数，并且已经付诸行动。这是我如何用Angular实现的，你可以用任何你喜欢的框架来实现。</p><p id="9233" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我的网站上应该是什么样子？</p><p id="51bc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我试着让它在不同的设备上简单易读。你可以做一些研究，然后决定如何设计你自己的博客。</p><p id="27ea" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">如何显示“所有帖子”页面？</strong></p><p id="cf2e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我可以获取所有文章的端点是<a class="ae kf" href="https://docs.dev.to/api/#tag/articles/paths/~1articles/get" rel="noopener ugc nofollow" target="_blank">发布的文章</a>。用参数“username”可以返回我写的所有文章。</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="8b09" class="mb mc it lx b gy md me l mf mg"><a class="ae kf" href="https://dev.to/api/articles?username=dalenguyen" rel="noopener ugc nofollow" target="_blank">https://dev.to/api/articles?username=dalenguyen</a></span></pre><p id="86bc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是样品返回:</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="ec9d" class="mb mc it lx b gy md me l mf mg">[<br/>   {<br/>      "type_of":"article",<br/>      "id":186759,<br/>      "title":"Create Your Website For FREE with Github Pages — Angular",<br/>      "description":"---",<br/>      "cover_image":"<a class="ae kf" href="https://res.cloudinary.com/practicaldev/image/fetch/s--cPfRyEm7--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://res.cloudinary.com/practicaldev/image/fetch/s--CjDFw59j--/c_imagga_scale%2Cf_auto%2Cfl_progressive%2Ch_420%2Cq_auto%2Cw_1000/https://thepracticaldev.s3.amazonaws.com/i/oz08njykv6lt2tcm95i3.jpeg" rel="noopener ugc nofollow" target="_blank">-</a>--",<br/>      "published_at":"2019-10-09T13:19:07.906Z",<br/>      "tag_list":[<br/>         "angular",<br/>         "github",<br/>         "beginners",<br/>         "webdev"<br/>      ],<br/>      "slug":"create-your-website-for-free-with-github-pages-angular-1c05",<br/>      "path":"/dalenguyen/create-your-website-for-free-with-github-pages-angular-1c05",<br/>      "url":"<a class="ae kf" href="https://dev.to/dalenguyen/create-your-website-for-free-with-github-pages-angular-1c05" rel="noopener ugc nofollow" target="_blank">-</a>--",<br/>      "canonical_url":"<a class="ae kf" href="https://dev.to/dalenguyen/create-your-website-for-free-with-github-pages-angular-1c05" rel="noopener ugc nofollow" target="_blank">-</a>--",<br/>      "comments_count":0,<br/>      "positive_reactions_count":39,<br/>      "published_timestamp":"2019-10-09T13:19:07Z",<br/>      "collection_id":null,<br/>      "user":{<br/>         "name":"Dale Nguyen",<br/>         "username":"dalenguyen",<br/>         "twitter_username":null,<br/>         "github_username":"dalenguyen",<br/>         "website_url":"<a class="ae kf" href="https://dalenguyen.me" rel="noopener ugc nofollow" target="_blank">https://dalenguyen.me</a>",<br/>      }<br/>   },<br/>--------------<br/>]</span></pre><p id="86ef" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它只提供基本信息，没有文章的正文。我使用的是<strong class="ki iu"> id，标题，路径，描述，封面图片</strong>。在下一节中你会知道为什么我需要id<strong class="ki iu">和</strong>。这是我在博客上展示的方式。</p><figure class="ls lt lu lv gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mh"><img src="../Images/01ede674f658443d4c758d54f43bab7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o-AzX5yVe2kL_02bwaQTzQ.png"/></div></div></figure><p id="6929" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于内容，使用HttpClient从API获取JSON非常容易。</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="9488" class="mb mc it lx b gy md me l mf mg">// blog.service.ts</span><span id="90df" class="mb mc it lx b gy mi me l mf mg">try {<br/>      articles = await this.http.get('https://dev.to/api/articles?username=dalenguyen').toPromise()<br/>} catch (error) {<br/>      console.error(error)<br/>}</span></pre><p id="7991" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后用棱角分明的材质表现出来</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="5aec" class="mb mc it lx b gy md me l mf mg">// blog.component.html</span><span id="705f" class="mb mc it lx b gy mi me l mf mg">&lt;div id="blog"&gt;<br/>  &lt;h1&gt;Blog&lt;/h1&gt;</span><span id="4fea" class="mb mc it lx b gy mi me l mf mg">&lt;section id="articles" *ngIf="articles.length &gt; 0"&gt;<br/>    &lt;mat-card class="example-card" *ngFor="let article of articles"&gt;<br/>      &lt;mat-card-header&gt;<br/>        &lt;mat-card-title&gt;{{ article.title }}&lt;/mat-card-title&gt;<br/>      &lt;/mat-card-header&gt;<br/>      &lt;img mat-card-image src="{{ article.cover_image }}" alt="{{ article.title }}"&gt;<br/>      &lt;mat-card-content&gt;<br/>        &lt;p&gt;<br/>          {{ article.description }}<br/>        &lt;/p&gt;<br/>      &lt;/mat-card-content&gt;<br/>      &lt;mat-card-actions&gt;<br/>        &lt;button mat-button (click)="openPost(article)"&gt;READ MORE&lt;/button&gt;<br/>      &lt;/mat-card-actions&gt;<br/>    &lt;/mat-card&gt;<br/>  &lt;/section&gt;<br/>&lt;/div&gt;</span></pre><p id="3612" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了获取单篇文章，我将使用id来获取文章的内容。</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="db2d" class="mb mc it lx b gy md me l mf mg">// blog.compoment.ts</span><span id="b800" class="mb mc it lx b gy mi me l mf mg">openPost(article: any) {<br/>    this.router.navigate(['/blog', article.slug], { queryParams: { id: article.id }})<br/>}</span></pre><p id="9190" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如何显示文章页面？</p><p id="6886" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是一个棘手的部分，因为我需要发出另一个请求来获取一个帖子的内容——id就是用于这个目的的。</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="c1b5" class="mb mc it lx b gy md me l mf mg">// post.service.ts</span><span id="cb22" class="mb mc it lx b gy mi me l mf mg">try {<br/>      article = await this.http.get('https://dev.to/api/articles/186759').toPromise()<br/>} catch (error) {<br/>      console.error(error)<br/>}</span></pre><p id="9947" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于HTML部分</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="24a4" class="mb mc it lx b gy md me l mf mg">// post.component.html</span><span id="06b4" class="mb mc it lx b gy mi me l mf mg">&lt;div id="post" *ngIf="article !== null"&gt;<br/>  &lt;header&gt;<br/>    &lt;h1&gt;{{ article.title }}&lt;/h1&gt;<br/>    &lt;p&gt;Written by {{ article.user.name }}&lt;/p&gt;<br/>    &lt;p&gt; {{ article.published_at | date }}&lt;/p&gt;<br/>  &lt;/header&gt;</span><span id="209b" class="mb mc it lx b gy mi me l mf mg">&lt;article [innerHTML]="articleBody"&gt;<br/>  &lt;/article&gt;<br/>&lt;/div&gt;</span></pre><p id="49c5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于文章中嵌入的URL，我该如何处理？如果我只是离开它，我会导致DevTO网站，我真的不希望这样。所以在将HTML提供给前端之前，我必须将域名从DevTo替换到我的网站。</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="b16b" class="mb mc it lx b gy md me l mf mg">// post.component.ts</span><span id="fbac" class="mb mc it lx b gy mi me l mf mg">private cleanArticleContent(html: string): string {<br/>    return html.replace(/https:\/\/dev.to\/dalenguyen/g, '<a class="ae kf" href="https://dalenguyen.me/blog'" rel="noopener ugc nofollow" target="_blank">https://dalenguyen.me/blog'</a>)<br/>}</span></pre><p id="3c74" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于id部分，只要在DevTO上有嵌入的链接，就必须手动添加Id。</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="ac3e" class="mb mc it lx b gy md me l mf mg"><a class="ae kf" href="https://dev.to/dalenguyen/want-to-build-a-career-in-tech-start-with-your-website-44i7?id=185197" rel="noopener ugc nofollow" target="_blank">https://dev.to/dalenguyen/want-to-build-a-career-in-tech-start-with-your-website-44i7?id=185197</a></span></pre><p id="93c5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当您打开inspect并转到网络选项卡时，可以找到id。</p><figure class="ls lt lu lv gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mj"><img src="../Images/466d3e60703110103e60af7583fd60f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lpYqaLrobhXxRVpWEx7ysg.png"/></div></div></figure><p id="6725" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从现在开始，你可以创建你自己的博客，它的内容将需要几个小时，直到文章可以在你的网站上显示。你可以从我的<a class="ae kf" href="https://github.com/dalenguyen/dalenguyen.github.io" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu"> Github </strong> </a>账号找到项目。</p></div></div>    
</body>
</html>