<html>
<head>
<title>Upgrade your Javascript test execution techniques with VS Code!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用VS代码升级您的Javascript测试执行技术！</h1>
<blockquote>原文：<a href="https://itnext.io/upgrade-your-javascript-test-execution-techniques-with-vs-code-2cda226715fd?source=collection_archive---------2-----------------------#2019-04-04">https://itnext.io/upgrade-your-javascript-test-execution-techniques-with-vs-code-2cda226715fd?source=collection_archive---------2-----------------------#2019-04-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/5fcd84ba49ad1b617613b7acff4d34ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*99eLyJG6lwfR4CW0yOEiFA.jpeg"/></div></div></figure><p id="aaab" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们来谈谈Visual Studio代码中的测试。</p><p id="ca3f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">有没有想过如何以最大的灵活性轻松地从VS代码中执行测试？</p><p id="9638" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在本教程中，我们将讨论如何改进JavaScript项目中的测试执行。</p><p id="d26e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们将使用来自脸书的'<strong class="ka ir"> create-react-app </strong>。本教程可以与任何安装了“Jest”的项目一起使用。</p><p id="b7e1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以通过克隆这个存储库来继续操作:</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="5eb4" class="lf lg iq lb b gy lh li l lj lk">git clone <a class="ae ll" href="https://github.com/ersah123/vscode-task-tests.git" rel="noopener ugc nofollow" target="_blank">https://github.com/ersah123/vscode-task-tests.git</a></span></pre><p id="3b2c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">或者，您可以执行以下操作，将任务集成到现有项目中:</p><p id="c53c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">–你必须做的第一件事就是创造。vscode文件夹，如果您的根目录上没有。并在其中创建tasks.json .并在那里添加以下代码:</p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="lm ln l"/></div></figure><ol class=""><li id="2fd3" class="lo lp iq ka b kb kc kf kg kj lq kn lr kr ls kv lt lu lv lw bi translated"><strong class="ka ir">任务</strong>数组包含可以通过VS代码执行的任务数组。它包含分别执行<strong class="ka ir">所有测试、单个文件、单个测试</strong>。</li><li id="c2f6" class="lo lp iq ka b kb lx kf ly kj lz kn ma kr mb kv lt lu lv lw bi translated"><strong class="ka ir"> inputs </strong>数组包含输入数组，将用于从用户处获取选项和输入。</li></ol><p id="9728" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">要运行测试，您可以执行以下操作:</p><ul class=""><li id="cf80" class="lo lp iq ka b kb kc kf kg kj lq kn lr kr ls kv mc lu lv lw bi translated"><strong class="ka ir">终端</strong>菜单从VS代码菜单中选择<strong class="ka ir">运行任务… </strong></li></ul><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div class="gh gi md"><img src="../Images/e28a50b3dbd93e0351773164d05cba84.png" data-original-src="https://miro.medium.com/v2/resize:fit:710/format:webp/1*HiUPnjjtqbBoDamZqw67sg.jpeg"/></div></figure><ul class=""><li id="2ab6" class="lo lp iq ka b kb kc kf kg kj lq kn lr kr ls kv mc lu lv lw bi translated">可用任务将显示在您的列表顶部，该列表由<strong class="ka ir">中的<strong class="ka ir"> tasks.json </strong>文件添加。vscode </strong>文件夹。</li></ul><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div class="gh gi me"><img src="../Images/cae16405eff06beb0f7a97682f1f1a82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1230/format:webp/1*qcKe67u9ij2eOhPtvzoTrQ.png"/></div></figure><p id="3306" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">运行示例，尝试以下列表以查看存储库提供的所有不同示例:</p><ul class=""><li id="b640" class="lo lp iq ka b kb kc kf kg kj lq kn lr kr ls kv mc lu lv lw bi translated"><strong class="ka ir">单个文件:</strong>该任务将只运行一个测试文件，要求用户提示文件名。例如，通过键入<strong class="ka ir">链接</strong>将只执行<strong class="ka ir"> Link.test.js </strong>文件。</li><li id="5920" class="lo lp iq ka b kb lx kf ly kj lz kn ma kr mb kv mc lu lv lw bi translated"><strong class="ka ir">所有测试:</strong>如果有任何更改，该任务将运行所有测试文件。</li><li id="431a" class="lo lp iq ka b kb lx kf ly kj lz kn ma kr mb kv mc lu lv lw bi translated"><strong class="ka ir">所有测试—观察选择:</strong>该任务将运行所有测试文件，但期望用户选择有争议地观察所有测试文件的选项。</li><li id="940d" class="lo lp iq ka b kb lx kf ly kj lz kn ma kr mb kv mc lu lv lw bi translated"><strong class="ka ir">‘describe’或‘link’块:</strong>该任务期望用户输入字符串，用于在所有测试文件的<strong class="ka ir"> describe </strong>或<strong class="ka ir"> test </strong>块中包含正则表达式搜索。例如，如果您键入'<strong class="ka ir"> itnext '，</strong>它将只找到一个<strong class="ka ir">测试</strong>块并执行它。</li></ul><p id="d6fc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">更多高级用法请参考官方文档:<br/><a class="ae ll" href="https://code.visualstudio.com/docs/editor/tasks" rel="noopener ugc nofollow" target="_blank">https://code.visualstudio.com/docs/editor/tasks</a></p></div><div class="ab cl mf mg hu mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ij ik il im in"><h1 id="c09c" class="mm lg iq bd mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni bi translated">额外收获:如何使用VS代码任务在Docker容器中执行Jest测试。</h1><p id="7998" class="pw-post-body-paragraph jy jz iq ka b kb nj kd ke kf nk kh ki kj nl kl km kn nm kp kq kr nn kt ku kv ij bi translated">首先，确保Docker已经安装并运行在你的机器上。您可以使用以下命令进行确认:</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="2fd2" class="lf lg iq lb b gy lh li l lj lk">docker --version</span></pre><p id="0aea" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后你可以建立你的形象:</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="4d93" class="lf lg iq lb b gy lh li l lj lk">docker build -t "react-vscode-jest-test" .</span></pre><p id="8bf7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最后，您可以运行您的容器</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="b7d4" class="lf lg iq lb b gy lh li l lj lk">docker run -d -p 3000:3000 --name="react-tasks" react-vscode-jest-test</span></pre><p id="7a4f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，您可以通过以下网址确认docker已经启动并且可以访问:<a class="ae ll" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000/ </a></p><p id="8662" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">关键是，你需要给容器分配一个名字，并用它来连接来自VS代码任务的docker。</p><p id="962e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最终的tasks.json文件如下所示:</p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="lm ln l"/></div></figure><p id="c254" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，任务将在运行的docker容器中执行，就像没有docker容器时一样。</p></div></div>    
</body>
</html>