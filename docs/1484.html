<html>
<head>
<title>React Class Components are dead? (Hint: maybe)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React类组件都死了？(提示:可能)</h1>
<blockquote>原文：<a href="https://itnext.io/react-class-components-are-dead-hint-not-yet-1d0a151173b8?source=collection_archive---------1-----------------------#2018-10-29">https://itnext.io/react-class-components-are-dead-hint-not-yet-1d0a151173b8?source=collection_archive---------1-----------------------#2018-10-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/e541e8479d476e0845a0346df00ae810.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bHpHrRR7hECo_hmiXPwvyQ.jpeg"/></div></div></figure><p id="fefd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">⚛ <a class="ae kw" href="https://conf.reactjs.org" rel="noopener ugc nofollow" target="_blank"> React Conf 2018 </a>结束了。第一个演讲是关于React的今天和不久的将来。来自React团队的<a class="ae kw" href="https://twitter.com/sophiebits" rel="noopener ugc nofollow" target="_blank">索菲</a>和<a class="ae kw" href="https://twitter.com/dan_abramov" rel="noopener ugc nofollow" target="_blank">丹</a>提到了React目前的问题，并宣布了即将发布的令人兴奋的新功能。</p><h1 id="1af6" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">反应—当今的问题</h1><p id="0d22" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">🔥包装地狱<br/>📦巨大的部件<br/>😕混乱的阶层</p><h1 id="7621" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">类组件有什么问题？</h1><p id="a6ea" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">如果你曾经使用过React，你就会知道决定组件类型总是很棘手。如果你创建了一个功能组件，并且需要一个<strong class="ka ir">本地状态</strong>或者任何一个<strong class="ka ir">生命周期方法</strong>来<strong class="ka ir">获取数据</strong>怎么办？(componentDidMount，componentWillUnmount等。)很烦。</p><p id="7dab" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">同样，类组件也有缺点；</p><ul class=""><li id="4f52" class="ma mb iq ka b kb kc kf kg kj mc kn md kr me kv mf mg mh mi bi translated"><strong class="ka ir">令人困惑的</strong>(无论是人还是机器，尤其是在<strong class="ka ir">绑定</strong>和<strong class="ka ir">这个</strong>关键字)</li><li id="6ba8" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><strong class="ka ir">生命周期方法，</strong>逻辑遍布不同的生命周期方法</li><li id="39f9" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><strong class="ka ir">与功能组件相比，难以测试</strong></li><li id="71c6" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated"><strong class="ka ir">编译代码大小</strong>和<strong class="ka ir">编译时间</strong></li></ul><h1 id="576e" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">解决方案= &gt;挂钩一览</h1><blockquote class="mo mp mq"><p id="ede8" class="jy jz mr ka b kb kc kd ke kf kg kh ki ms kk kl km mt ko kp kq mu ks kt ku kv ij bi translated">钩子是一个新的特性提议，让你不用写类就可以使用状态和其他React特性。他们目前在<strong class="ka ir">React v 16 . 7 . 0-α0</strong></p></blockquote><p id="b453" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在官方文档中，钩子被解释为:</p><blockquote class="mv"><p id="aa45" class="mw mx iq bd my mz na nb nc nd ne kv dk translated">允许您从功能组件“挂钩”反应状态和生命周期特性的功能。钩子在类内部不起作用——它们让你在没有类的情况下使用React。</p></blockquote><figure class="ng nh ni nj nk jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nf"><img src="../Images/bd7ea3ecbb5195f4ac76d99913725b87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GtEHjZtgw8oYXykJTHGU5Q.jpeg"/></div></div></figure><h1 id="5bb4" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">📌状态挂钩</h1><p id="c073" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">状态挂钩允许在功能组件上使用本地状态。</p><h2 id="4fe1" class="nl ky iq bd kz nm nn dn ld no np dp lh kj nq nr ll kn ns nt lp kr nu nv lt nw bi translated">如何使用它</h2><figure class="ny nz oa ob gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nx"><img src="../Images/7553077bdfdff5823f455f7293849d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GwRYJzeOEdTOJE9L4cdeUw.png"/></div></div></figure><p id="038d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe oc od oe of b">useState();</code>这里是一个<strong class="ka ir">钩子</strong>。我们调用这个钩子向组件添加一些本地状态。</p><p id="ddc5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe oc od oe of b">useState();</code>返回一对值:<em class="mr">当前状态值</em>和一个让你更新它的<em class="mr">函数</em>。</p><p id="cdd1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">也可以增加多个<strong class="ka ir">挂钩</strong>，</p><pre class="ny nz oa ob gt og of oh oi aw oj bi"><span id="33e4" class="nl ky iq of b gy ok ol l om on">const [age, setAge] = useState(33);</span><span id="a1fd" class="nl ky iq of b gy oo ol l om on">const [location, setLocation] = useState('Amsterdam');</span></pre><p id="488e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是我们在当前的React版本中的做法，因此您可以看到不同之处，</p><figure class="ny nz oa ob gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi op"><img src="../Images/33c86a5dd3c8125bf2df0795ff99db6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5EDHsQxpZcN7QrQSmbvBvw.png"/></div></div></figure><p id="181a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">欲了解更多详细信息，您可以查看<a class="ae kw" href="https://reactjs.org/docs/hooks-state.html" rel="noopener ugc nofollow" target="_blank">反应钩</a>文档页面。</p></div><div class="ab cl oq or hu os" role="separator"><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov"/></div><div class="ij ik il im in"><h1 id="9c63" class="kx ky iq bd kz la ox lc ld le oy lg lh li oz lk ll lm pa lo lp lq pb ls lt lu bi translated">⚡️效应钩</h1><p id="a58e" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">效果挂钩<code class="fe oc od oe of b">useEffect</code>，增加了在功能组件中执行<code class="fe oc od oe of b">componentDidMount</code>、<code class="fe oc od oe of b">componentDidUpdate</code>和<code class="fe oc od oe of b">componentWillUnmount</code>的能力。</p><h2 id="0465" class="nl ky iq bd kz nm nn dn ld no np dp lh kj nq nr ll kn ns nt lp kr nu nv lt nw bi translated">如何使用它</h2><p id="c759" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">下面是《星球大战》Api 中<strong class="ka ir">效果挂钩</strong>和<strong class="ka ir">状态挂钩</strong>的用法示例</p><figure class="ny nz oa ob gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi pc"><img src="../Images/0d852d49cbe5ceb6c711b57eb2d9ee54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k0p4zQDPcwvpmU8cePyQPA.png"/></div></div></figure><p id="2241" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以在单个功能组件中使用<strong class="ka ir">多个效果挂钩</strong>用于不同目的。</p><p id="9f34" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">有关更多详细信息，您可以查看<a class="ae kw" href="https://reactjs.org/docs/hooks-effect.html" rel="noopener ugc nofollow" target="_blank">效果挂钩</a>文档。</p></div><div class="ab cl oq or hu os" role="separator"><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov"/></div><div class="ij ik il im in"><h1 id="59f3" class="kx ky iq bd kz la ox lc ld le oy lg lh li oz lk ll lm pa lo lp lq pb ls lt lu bi translated">结论</h1><p id="a32e" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">类组件不是死的。React团队解释说，</p><blockquote class="mo mp mq"><p id="41e9" class="jy jz mr ka b kb kc kd ke kf kg kh ki ms kk kl km mt ko kp kq mu ks kt ku kv ij bi translated">没有从React中移除类的计划——我们都需要继续发布产品，并且负担不起重写。</p></blockquote><p id="5e2b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但是他们建议尝试新代码/项目的钩子。</p><figure class="ny nz oa ob gt jr"><div class="bz fp l di"><div class="pd pe l"/></div></figure><p id="9a57" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">使用钩子的好处:</strong></p><ul class=""><li id="bb67" class="ma mb iq ka b kb kc kf kg kj mc kn md kr me kv mf mg mh mi bi translated">组件更轻，并且在组件之间共享一些逻辑</li><li id="88c1" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">捆绑尺寸将会减小</li><li id="a291" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">你不需要仅仅为了传递数据而使用hoc和渲染道具</li><li id="67d8" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">在大多数情况下，额外的挂钩会让你的生活更轻松</li></ul></div><div class="ab cl oq or hu os" role="separator"><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov"/></div><div class="ij ik il im in"><h1 id="2c22" class="kx ky iq bd kz la ox lc ld le oy lg lh li oz lk ll lm pa lo lp lq pb ls lt lu bi translated">下一步是什么？</h1><p id="98f4" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">关于钩子还有更多要查。你可以在<a class="ae kw" href="https://reactjs.org/docs/hooks-reference.html" rel="noopener ugc nofollow" target="_blank"> API文档</a>中找到关于<strong class="ka ir">钩子</strong>的所有细节</p><p id="6161" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以查看<strong class="ka ir">挂钩</strong>页面<a class="ae kw" href="https://reactjs.org/docs/hooks-faq.html" rel="noopener ugc nofollow" target="_blank">常见问题解答</a></p><p id="8c5e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可以在<strong class="ka ir"> React Conf 2018 </strong>上观看<a class="ae kw" href="https://twitter.com/sophiebits" rel="noopener ugc nofollow" target="_blank">苏菲</a>和<a class="ae kw" href="https://twitter.com/dan_abramov" rel="noopener ugc nofollow" target="_blank">丹</a>关于<strong class="ka ir">钩子</strong>的完整对话</p><figure class="ny nz oa ob gt jr"><div class="bz fp l di"><div class="pf pe l"/></div></figure></div><div class="ab cl oq or hu os" role="separator"><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov"/></div><div class="ij ik il im in"><p id="d668" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="mr">我是</em><a class="ae kw" href="https://www.linkit.nl/en/what-we-do/services/javascript-squad" rel="noopener ugc nofollow" target="_blank"><em class="mr">JavaScript Squad</em></a><em class="mr">at</em><a class="ae kw" href="https://www.linkit.nl/en/" rel="noopener ugc nofollow" target="_blank"><em class="mr">LINKIT</em></a><em class="mr">的一名开发人员，是一家荷兰IT公司的成员，为荷兰的大客户工作。我们正在寻找开发者加入我们的团队。感兴趣吗？给我写封短信。</em></p><h2 id="804f" class="nl ky iq bd kz nm nn dn ld no np dp lh kj nq nr ll kn ns nt lp kr nu nv lt nw bi translated">如果您觉得这篇文章有帮助，请点击👏按钮。</h2><h1 id="c7ab" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">请跟着我🔽在<a class="ae kw" href="https://twitter.com/altinilker" rel="noopener ugc nofollow" target="_blank">推特上</a>👍</h1></div></div>    
</body>
</html>