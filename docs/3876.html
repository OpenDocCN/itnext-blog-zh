<html>
<head>
<title>(Un)ordered lists on Android</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Android上的(不)有序列表</h1>
<blockquote>原文：<a href="https://itnext.io/un-ordered-lists-on-android-20defac6b156?source=collection_archive---------1-----------------------#2020-03-17">https://itnext.io/un-ordered-lists-on-android-20defac6b156?source=collection_archive---------1-----------------------#2020-03-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/2073dbdcbd96d5a175a342d75065470a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2ZP-SwDl_epxIH9EV-Yn4A.png"/></div></div></figure><div class=""/><p id="5f21" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">项目符号列表或编号列表是总结内容的常见方式，但是我们如何在Android中实现它们呢？让我们快速看看如何在一个简单的文本视图中实现这些列表！</p><h1 id="1ef8" class="la lb je bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">项目符号列表</h1><p id="c395" class="pw-post-body-paragraph kb kc je kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">所以让我们从“简单的”开始:一个项目符号列表。假设你知道我在说什么是安全的，但这里有一个例子只是为了记录:</p><ul class=""><li id="3f70" class="md me je kd b ke kf ki kj km mf kq mg ku mh ky mi mj mk ml bi translated">项目1</li><li id="fcf8" class="md me je kd b ke mm ki mn km mo kq mp ku mq ky mi mj mk ml bi translated">项目2</li><li id="553f" class="md me je kd b ke mm ki mn km mo kq mp ku mq ky mi mj mk ml bi translated">项目3</li></ul><p id="7280" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">假设我们有一个简单的内容列表:</p><pre class="mr ms mt mu gt mv mw mx my aw mz bi"><span id="f125" class="na lb je mw b gy nb nc l nd ne">val items = ["Item 1", "Item 2", "Item 3"]</span></pre><p id="733b" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们希望为每个项目添加一个项目符号，但也要确保每当内容有多行时，项目符号会对齐到<code class="fe nf ng nh mw b">TextView</code>的顶部。为了实现这一点，我们将看看如何使用跨度！</p><p id="2d4f" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">从一个简单的<code class="fe nf ng nh mw b">SpannableStringBuilder</code>开始，我们将以此为起点，一行一行地添加我们的代码:</p><pre class="mr ms mt mu gt mv mw mx my aw mz bi"><span id="8a07" class="na lb je mw b gy nb nc l nd ne">val builder =  SpannableStringBuilder()</span></pre><p id="5b33" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">因此，一旦我们有了构建器，我们将简单地遍历我们的列表，添加一些换行符，并使用<code class="fe nf ng nh mw b">BulletSpan</code>来实现实际的要点:</p><figure class="mr ms mt mu gt iv"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="ca47" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe nf ng nh mw b">BulletSpan</code>实现<code class="fe nf ng nh mw b">LeadingMarginSpan</code>，基本上是把你的文字偏移一定的量。在<code class="fe nf ng nh mw b">BulletSpan</code>的情况下，它会在偏移区域内添加一个项目符号。</p><blockquote class="nk nl nm"><p id="5be4" class="kb kc kz kd b ke kf kg kh ki kj kk kl nn kn ko kp no kr ks kt np kv kw kx ky im bi translated">如果您想手动设置偏移区域或设置项目符号的颜色，只需使用<code class="fe nf ng nh mw b">BulletSpan</code>的可选<code class="fe nf ng nh mw b">gapWidth</code>和<code class="fe nf ng nh mw b">color</code>参数！</p></blockquote><p id="2e5a" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在你需要做的就是将<code class="fe nf ng nh mw b">builder</code>设置为<code class="fe nf ng nh mw b">TextView</code>的文本，然后就完成了！<code class="fe nf ng nh mw b">TextView</code>中的项目符号列表😄</p><h1 id="6b3e" class="la lb je bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">编号列表</h1><p id="c51c" class="pw-post-body-paragraph kb kc je kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">所以首先:我们对一个编号列表有什么意义？它基本上是一个项目符号列表，但我们将为每个项目符号编号，而不是项目符号。如果您熟悉HTML，请将其与有序列表进行比较:</p><ol class=""><li id="2e55" class="md me je kd b ke kf ki kj km mf kq mg ku mh ky nq mj mk ml bi translated">项目1</li><li id="a617" class="md me je kd b ke mm ki mn km mo kq mp ku mq ky nq mj mk ml bi translated">项目2</li><li id="4b6a" class="md me je kd b ke mm ki mn km mo kq mp ku mq ky nq mj mk ml bi translated">项目3</li></ol><p id="d8c7" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">实现编号列表的基础和项目符号列表是一样的，但是我们需要一个不同的跨度。Android没有任何现成的跨度来支持这一点，但幸运的是，创建我们自己的跨度非常容易！我们可以简单地自己实现<code class="fe nf ng nh mw b">LeadingMarginSpan</code>并在其中添加我们需要的行为。<br/>通过实现，我们将获得两个要覆盖的方法:<code class="fe nf ng nh mw b">drawLeadingMargin</code>和<code class="fe nf ng nh mw b">getLeadingMargin</code>:</p><ul class=""><li id="1d17" class="md me je kd b ke kf ki kj km mf kq mg ku mh ky mi mj mk ml bi translated"><code class="fe nf ng nh mw b">drawLeadingMargin</code>负责呈现前导边距</li><li id="e5a2" class="md me je kd b ke mm ki mn km mo kq mp ku mq ky mi mj mk ml bi translated"><code class="fe nf ng nh mw b">getLeadingMargin</code>简单返回前导边距的宽度。</li></ul><p id="7bdc" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们将向span传递2个东西:前导边距的宽度和我们希望在前导边距内绘制的文本(在本例中为:数字):</p><figure class="mr ms mt mu gt iv"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="68c2" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">就这些了！现在，我们可以简单地使用这个跨度，就像我们对项目符号列表所做的一样，我们唯一需要传递的是前导边距的宽度和我们想要显示的数字:</p><figure class="mr ms mt mu gt iv"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="6312" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">作为最后一笔，将它隐藏在一个好的扩展方法后面，你将很快实现有序和无序列表！</p><p id="68b2" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">就这样，伙计们！Android上文本视图中的有序或无序列表😄<em class="kz">有问题吗？这里是</em> <a class="ae nr" href="https://pinch.nl/en" rel="noopener ugc nofollow" target="_blank"> <em class="kz">捏</em> </a> <em class="kz">，我们很高兴能帮到人，就打我一下吧。祝大家编码愉快！</em></p></div></div>    
</body>
</html>