<html>
<head>
<title>Reactjs — Emotion For Styling Components</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">react js——用于设计组件的情感</h1>
<blockquote>原文：<a href="https://itnext.io/reactjs-emotion-for-styling-components-5c82e58910fe?source=collection_archive---------5-----------------------#2019-06-14">https://itnext.io/reactjs-emotion-for-styling-components-5c82e58910fe?source=collection_archive---------5-----------------------#2019-06-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1cee" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">情感主题和组件简介</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ad813c41bbb2ac94172249cab3f50369.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E7fYmZE_98Lkq-X0DLnW1w.png"/></div></div></figure><blockquote class="ku"><p id="3804" class="kv kw it bd kx ky kz la lb lc ld le dk translated">创新是把两个已经存在的东西以一种新的方式组合在一起</p></blockquote><p id="33da" class="pw-post-body-paragraph lf lg it lh b li lj ju lk ll lm jx ln lo lp lq lr ls lt lu lv lw lx ly lz le im bi translated">从一开始，react就一直在质疑前端web开发的传统理念。在web出现后不久，开发人员和思想工程师注意到有组织的代码可以提高生产率和减少错误。这带来了关注点分离的想法，将样式从html中分离出来，放在可以单独加载的样式表中。</p><p id="fc04" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">我们在样式领域不断创新，增加了SASS和其他样式语言。</p><p id="557c" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">随着react的推出，facebook决定html和javascript真的不应该分开。随之而来的问题是，我们是否真的应该分离造型。尤其是因为有太多的样式决定需要用javascript来做出。</p><h2 id="3b34" class="mf mg it bd mh mi mj dn mk ml mm dp mn lo mo mp mq ls mr ms mt lw mu mv mw mx bi translated">为什么是情感？</h2><p id="529b" class="pw-post-body-paragraph lf lg it lh b li my ju lk ll mz jx ln lo na lq lr ls nb lu lv lw nc ly lz le im bi translated">本文将尝试给出一些事实，说明如何利用情绪来帮助决定情绪是否适合react项目。我使用Emotion大约有一年了，我发现用组件进行造型有很多好处。我将回顾情绪的基本关键特征，包括:</p><ul class=""><li id="06ae" class="nd ne it lh b li ma ll mb lo nf ls ng lw nh le ni nj nk nl bi translated">样式组件</li><li id="ee50" class="nd ne it lh b li nm ll nn lo no ls np lw nq le ni nj nk nl bi translated">主题</li><li id="4813" class="nd ne it lh b li nm ll nn lo no ls np lw nq le ni nj nk nl bi translated">插入文字</li></ul><h2 id="e501" class="mf mg it bd mh mi mj dn mk ml mm dp mn lo mo mp mq ls mr ms mt lw mu mv mw mx bi translated">装置</h2><p id="dafa" class="pw-post-body-paragraph lf lg it lh b li my ju lk ll mz jx ln lo na lq lr ls nb lu lv lw nc ly lz le im bi translated">首先，我们需要确保我们有一个react项目设置。我不打算详细介绍这些步骤，因为本文假设您对如何在react中使用和编写代码有一个大致的了解。但作为参考，您可以<a class="ae nr" href="https://reactjs.org/docs/create-a-new-react-app.html" rel="noopener ugc nofollow" target="_blank">点击此处</a>开始遵循逐步指南。</p><p id="a22f" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">为了开始使用情感，我们需要安装软件包</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="c4e2" class="mf mg it nt b gy nx ny l nz oa">npm i @emotion/core</span></pre><p id="0d3d" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">安装emotion核心包只是针对react的用户。我个人更喜欢使用带情感的风格化api，所以我们也需要将情感/风格化包与核心一起安装。</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="2fc5" class="mf mg it nt b gy nx ny l nz oa">npm i @emotion/styled</span></pre><p id="6aa7" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">另一个要安装的情感包是主题化。</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="bbd9" class="mf mg it nt b gy nx ny l nz oa">npm i emotion-theming</span></pre><p id="e392" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">我们现在应该都准备好了。</p><h2 id="ba84" class="mf mg it bd mh mi mj dn mk ml mm dp mn lo mo mp mq ls mr ms mt lw mu mv mw mx bi translated">主题</h2><p id="a46d" class="pw-post-body-paragraph lf lg it lh b li my ju lk ll mz jx ln lo na lq lr ls nb lu lv lw nc ly lz le im bi translated">让我们从设置好主题开始。</p><p id="1667" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">这是我们将要使用的文件的一个例子。首先，我们将把我们的主题放在App.js里面。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="165a" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">好的，我们将开始创建一个新页面，作为我们的登录页面。我将创建一个名为Pages的新文件夹。以下文件:</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="d5e5" class="mf mg it nt b gy nx ny l nz oa">Pages/Landing.jsx<br/>theme.js</span></pre><p id="5906" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">同样值得注意的是，我更喜欢把我的主题文件从应用程序中分离出来，这样更容易定位。在大多数情况下，我喜欢把我需要的所有东西放在同一个文件中，或者至少放在同一个文件夹中，这样我就不必到处寻找我需要的东西。</p><p id="ba61" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">下面是我的App.js now的一个例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="e2b6" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">主题. js</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="deed" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">我们现在可以在应用程序的任何地方访问我们的主题。</p><p id="39ef" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">我们可以在样式组件中的任何地方访问主题，或者使用withTheme。之后，主题只是传递给组件的另一个道具。</p><p id="fba3" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">在样式化组件中:</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="f1fb" class="mf mg it nt b gy nx ny l nz oa">const Header = styled.div(({theme}) =&gt; ({ color: theme.color }))</span></pre><p id="4016" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">或者</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="85bd" class="mf mg it nt b gy nx ny l nz oa">const Headline = styled.h1`<br/>  color: ${props =&gt; props.theme.color};<br/>  font-family: sans-serif;<br/>`</span></pre><p id="289d" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">与主题一起使用:</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="7768" class="mf mg it nt b gy nx ny l nz oa">class TellMeTheColor extends React.Component {<br/>  render() {<br/>    const { theme } = this.props;<br/>    return &lt;div&gt;The color is { theme.color}.&lt;/div&gt;<br/>  }<br/>}<br/><br/>const TellMeTheColorWithTheme = withTheme(TellMeTheColor)</span></pre><p id="424d" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">这里不再讨论项目的具体细节，而是专门讨论组件的样式。</p><h2 id="84bd" class="mf mg it bd mh mi mj dn mk ml mm dp mn lo mo mp mq ls mr ms mt lw mu mv mw mx bi translated">样式组件</h2><p id="6fbf" class="pw-post-body-paragraph lf lg it lh b li my ju lk ll mz jx ln lo na lq lr ls nb lu lv lw nc ly lz le im bi translated">实际上有两种方法可以设计情感中的组件。一种叫做字符串样式，另一种叫做对象样式。你真的可以使用任何一个，两个都支持。我个人更喜欢对象样式，因为我觉得它更像javascripty。</p><p id="166f" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">下面是一个对象样式的例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="72fb" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">如你所见，你可以传入道具。如果你使用主题，那么其中一个道具就是主题道具。</p><p id="d07e" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">现在，您可以像使用任何其他组件一样使用该组件。</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="ef8c" class="mf mg it nt b gy nx ny l nz oa">&lt;Container paddingLeft={10} &gt;&lt;/Container&gt;</span></pre><p id="5b40" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">这些组件不包含任何业务逻辑，只包含样式所需的逻辑。</p><p id="d092" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">下面是一个使用css api的字符串样式示例:</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="010d" class="mf mg it nt b gy nx ny l nz oa">const paragraph = css`<br/>  padding: 10px;<br/>  background-color: turquoise;<br/>`;</span><span id="bd18" class="mf mg it nt b gy od ny l nz oa">&lt;div css={paragraph}&gt;<br/> This is a paragraph<br/>&lt;/div&gt;</span></pre><p id="27bc" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">为了在组件上使用css属性，你必须做两件事。首先需要导入jsx，其次需要在文件顶部添加一个jsx pragma。您也不再需要导入react。</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="fe49" class="mf mg it nt b gy nx ny l nz oa"><em class="oe">/** @jsx jsx *</em><br/>import { jsx, css, } from '@emotion/core'</span></pre><h2 id="e425" class="mf mg it bd mh mi mj dn mk ml mm dp mn lo mo mp mq ls mr ms mt lw mu mv mw mx bi translated">插入文字</h2><p id="c33e" class="pw-post-body-paragraph lf lg it lh b li my ju lk ll mz jx ln lo na lq lr ls nb lu lv lw nc ly lz le im bi translated">字符串样式很酷的一点是，你可以用插值来覆盖不同的css属性。</p><p id="ecdc" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">这很好，因为你不再需要使用！重要的地方。</p><p id="ad4f" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">例子</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="02d0" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">现在你可以看到这个div将不再有青绿色的背景色。它现在应该是粉红色的。</p><p id="80d3" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">你也可以将两个字符串样式合并成一个，并向css属性传递一个列表。</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="e318" class="mf mg it nt b gy nx ny l nz oa">&lt;div className="r-test" css={[bouncingTitle, paragraph]}&gt;<br/>     This should be bouncing<br/>&lt;/div&gt;</span></pre><p id="a408" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">这将合并两种风格在一起。</p><h2 id="9242" class="mf mg it bd mh mi mj dn mk ml mm dp mn lo mo mp mq ls mr ms mt lw mu mv mw mx bi translated">结论</h2><p id="bb2d" class="pw-post-body-paragraph lf lg it lh b li my ju lk ll mz jx ln lo na lq lr ls nb lu lv lw nc ly lz le im bi translated">现在你有了一个以情感和主题化开始的项目，以及开始使用情感的基本知识。情感使得css的许多痛苦变得更容易处理。如果你有更多的问题，你可以访问情感网站<a class="ae nr" href="https://emotion.sh/docs/introduction" rel="noopener ugc nofollow" target="_blank">阅读更多</a>。</p><p id="d51c" class="pw-post-body-paragraph lf lg it lh b li ma ju lk ll mb jx ln lo mc lq lr ls md lu lv lw me ly lz le im bi translated">祝你好运！还有快乐编码！！！！</p></div></div>    
</body>
</html>