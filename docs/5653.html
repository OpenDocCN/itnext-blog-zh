<html>
<head>
<title>8 Extremely Useful Python One-liners for your Next Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为您的下一个项目准备的8个非常有用的Python一行程序</h1>
<blockquote>原文：<a href="https://itnext.io/8-extremely-useful-python-one-liners-for-your-next-project-7fdb01b4ee23?source=collection_archive---------1-----------------------#2021-04-26">https://itnext.io/8-extremely-useful-python-one-liners-for-your-next-project-7fdb01b4ee23?source=collection_archive---------1-----------------------#2021-04-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e502" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">这些Python代码片段可以为您的下一个项目节省大量时间，所以请务必继续阅读！</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5c63acf00277c662fb96b2ff7fafea0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1X0-98EiQNkwBJj2vnTTqQ.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">克里斯里德在<a class="ae kv" href="https://unsplash.com/s/photos/python?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="8a93" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有时候当你写代码时，你会发现自己需要做一些琐碎的事情，但是你不知道如何去做，当你最终找到一个解决方案时，它可能不是你能想到的最有效或最漂亮的东西。这就是为什么今天我整理了一个非常有用的Python命令行程序列表，它可以帮助你完成那些琐碎的任务。没有必要为这些代码片段安装任何第三方库，因为它们都使用内置模块。</p><p id="b700" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是我们今天要讨论的话题:</p><ol class=""><li id="6799" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">根据字典的值对字典进行排序</li><li id="1b3a" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">以易读的格式打印任何数据</li><li id="03a0" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">使用f字符串打印变量值</li><li id="3ec3" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">生成随机十六进制字符串</li><li id="c68c" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">返回一个可迭代的所有排列的列表</li><li id="caa2" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">测量计算的精确执行时间</li><li id="fe60" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">从文件中读取JSON数据并将其提取到字典中</li><li id="0643" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">获取字符串格式的当前数据和时间</li></ol><p id="f0af" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，让我们开始吧。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="fb28" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">根据字典的值对字典进行排序:</h1><p id="3920" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">通常，您可能会遇到这样一种情况，您有一个字典，您需要根据字典的值对它进行排序。例如，这可能是一个包含玩家及其高分的字典，您希望根据他们的分数获得前10名玩家。</p><p id="1f8b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这可以通过创建一个新字典并遍历原始字典中的值的排序列表来轻松完成，然后我们可以将键值对添加到新字典中。这可以使用字典理解在一行中完成:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="6bc5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">输出:</p><pre class="kg kh ki kj gt nm nn no np aw nq bi"><span id="a337" class="nr mo iq nn b gy ns nt l nu nv">{'a': 1, 'd': 5, 'b': 6, 'c': 7, 'e': 9}</span></pre><h1 id="4d0e" class="mn mo iq bd mp mq nw ms mt mu nx mw mx jw ny jx mz jz nz ka nb kc oa kd nd ne bi translated">以易读的格式打印任何数据:</h1><p id="9fef" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">您是否有时拥有大量数据或不同类型的数据，并希望将其全部打印到终端以供进一步检查，但它们都打印在一大行中，您什么也看不到？为此，你可以使用Python中内置的pprint模块，它会自动格式化你的数据并很好地打印到你的终端上。这里我有一个包含随机值的字典，并使用pprint模块中的pprint函数将其打印出来:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="07b0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">输出:</p><pre class="kg kh ki kj gt nm nn no np aw nq bi"><span id="dc2e" class="nr mo iq nn b gy ns nt l nu nv">{'ahead': {'between': 'boy',<br/>            'blew': 'allow',<br/>            'fly': 'throat',<br/>            'inside': False,<br/>            'path': 1972198692,<br/>            'toward': -1359495784.298975}}</span></pre><h1 id="32c9" class="mn mo iq bd mp mq nw ms mt mu nx mw mx jw ny jx mz jz nz ka nb kc oa kd nd ne bi translated">使用f字符串打印变量值:</h1><p id="008a" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">调试时，打印出变量的值是非常有用的，但是如果你有一堆变量和它们的值要打印，你怎么知道哪个变量等于哪个值呢？为此，我们可以使用python中的f字符串来打印出变量值和变量本身的名称。我们所需要做的就是在f字符串中的变量名末尾附加一个等号' = '，如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="a615" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">输出:</p><pre class="kg kh ki kj gt nm nn no np aw nq bi"><span id="b97c" class="nr mo iq nn b gy ns nt l nu nv">x=5<br/>y='hello world!'</span></pre><h1 id="56d1" class="mn mo iq bd mp mq nw ms mt mu nx mw mx jw ny jx mz jz nz ka nb kc oa kd nd ne bi translated">生成随机十六进制字符串:</h1><p id="0286" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">随机字符串在很多情况下都很有用，你可能需要它们来创建一个安全的密码或者创建一个随机的用户名。在python中，通过内置的secrets模块，并提供十六进制字符串中使用的字节数，我们可以非常容易地做到这一点:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="93ae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">输出:</p><pre class="kg kh ki kj gt nm nn no np aw nq bi"><span id="a9b6" class="nr mo iq nn b gy ns nt l nu nv">2957eeade5b13b6d</span></pre><p id="e64f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ob">您可以在这里</em>  <em class="ob">了解更多秘境模块</em> <a class="ae kv" href="https://dev.to/1blademaster/the-python-secrets-module-1c3" rel="noopener ugc nofollow" target="_blank"> <em class="ob">。</em></a></p><h1 id="2faf" class="mn mo iq bd mp mq nw ms mt mu nx mw mx jw ny jx mz jz nz ka nb kc oa kd nd ne bi translated">返回一个iterable的所有排列的列表:</h1><p id="700b" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">如果您有一个iterable，比如一个string或list，并且您想知道从这个iterable可以创建多少种排列，那么您可以使用Python中itertools模块的内置permutations函数。当您调用permutations函数并将对象转换成一个列表时，将返回一个元组列表，每个值都是一个字母。我们可以遍历这些元组，将所有字母连接成一个字符串，并将其附加到一个列表中，如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="e531" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">输出:</p><pre class="kg kh ki kj gt nm nn no np aw nq bi"><span id="7568" class="nr mo iq nn b gy ns nt l nu nv">['abcd', 'abdc', 'acbd', 'acdb', 'adbc', 'adcb', 'bacd', 'badc', 'bcad', 'bcda', 'bdac', 'bdca', 'cabd', 'cadb', 'cbad', 'cbda', 'cdab', 'cdba', 'dabc', 'dacb', 'dbac', 'dbca', 'dcab', 'dcba']</span></pre><h1 id="fd4b" class="mn mo iq bd mp mq nw ms mt mu nx mw mx jw ny jx mz jz nz ka nb kc oa kd nd ne bi translated">测量计算的精确执行时间:</h1><p id="3644" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">测量算法计算某些数据的时间是非常重要的，因为您可以看到算法的缺陷，并估计处理更大数据需要多长时间。我们可以使用time模块中的perf_counter函数来打印出您的计算机运行某些代码所用的秒数。我们首先需要创建一个保存开始时间的对象，然后当我们的计算完成时，我们可以从当前时间中减去开始时间并打印结果:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="0df0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">输出:</p><pre class="kg kh ki kj gt nm nn no np aw nq bi"><span id="3252" class="nr mo iq nn b gy ns nt l nu nv">0001505000000000048</span></pre><p id="16f1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ob">是的，我知道这不是严格意义上的一行程序，但它仍然非常有用！</em></p><h1 id="2d34" class="mn mo iq bd mp mq nw ms mt mu nx mw mx jw ny jx mz jz nz ka nb kc oa kd nd ne bi translated">从文件中读取JSON数据并将其提取到字典中:</h1><p id="c8cb" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">JSON在存储任何类型的数据时都非常有用，因为它可以很容易地在互联网上发送并存储在文件中。在Python中处理json数据时，我们必须首先导入内置的JSON库。然后我们可以使用loads函数并传入一个包含所有未解析的JSON数据的字符串。在这里，我们可以从文件中读取数据，并使用loads函数将其转换为Python字典:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="f7b4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">输出:</p><pre class="kg kh ki kj gt nm nn no np aw nq bi"><span id="890f" class="nr mo iq nn b gy ns nt l nu nv">{'userId': 1, 'id': 1, 'title': 'delectus aut autem', 'completed': False}</span></pre><h1 id="b941" class="mn mo iq bd mp mq nw ms mt mu nx mw mx jw ny jx mz jz nz ka nb kc oa kd nd ne bi translated">获取字符串格式的当前日期和时间:</h1><p id="14b2" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">您可能会发现自己需要获得字符串格式的当前日期或时间，这可能是为了访问API，在请求中您需要提交一些日期时间信息。我们可以使用datetime模块获取当前时间，然后使用strftime方法将时间格式化为使用特殊格式字符的字符串:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="efae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">输出:</p><pre class="kg kh ki kj gt nm nn no np aw nq bi"><span id="8e2b" class="nr mo iq nn b gy ns nt l nu nv">25-04-21 15:21:08</span></pre></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="e99f" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">最终想法:</h1><p id="e052" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">几乎在我的每一个项目中，我都会用到一些这样的一行程序，事实证明它们非常容易记忆。我希望你今天学到了一些新东西，并确保将这篇文章保存在某个地方以供将来参考。</p><p id="7d27" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢您的阅读！💖</p></div></div>    
</body>
</html>