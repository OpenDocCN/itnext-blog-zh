<html>
<head>
<title>How to use Go Workspace</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Go工作区</h1>
<blockquote>原文：<a href="https://itnext.io/how-to-use-go-workspace-edf3c3e73974?source=collection_archive---------0-----------------------#2022-08-10">https://itnext.io/how-to-use-go-workspace-edf3c3e73974?source=collection_archive---------0-----------------------#2022-08-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="fd1f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">改善您的开发环境</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ffec2a550333c1da17cf5a25f2fd9cba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dgiXTLG_LCoSnb7F43q1gQ.png"/></div></div></figure><p id="9b42" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">工作区是Go 1.18中的新功能之一，在这篇文章中，我将展示如何使用它。</p><p id="ab18" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">首先，让我们创建一个新文件夹作为我们的工作区。为了方便起见，我将该文件夹命名为<code class="fe lq lr ls lt b">workspace</code>。这里有一点要注意，文件夹的名字可以是你想要的任何名字。</p><p id="c500" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在工作区文件夹中，创建另一个名为<code class="fe lq lr ls lt b">hello</code>的文件夹。在这个文件夹中，我们将创建一个小程序。</p><p id="2da5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在<code class="fe lq lr ls lt b">hello</code>文件夹中，启动一个运行命令<code class="fe lq lr ls lt b">go mod init github.com/aprendagolang/hello</code>的go模块，用以下内容创建一个新的<strong class="kw iu"> main.go </strong>文件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="b634" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如你所见，我们使用了一个名为<em class="lw"> strutil的外部包。</em>因此，我们需要更新模块的依赖关系。为此，运行命令<code class="fe lq lr ls lt b">go mod tidy</code>。现在<code class="fe lq lr ls lt b">hello</code>目录有三个文件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="f0d0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了确保我们的程序一切正常，让我们运行命令<code class="fe lq lr ls lt b">go run main.go</code>。很好，你好这个词被印上了。</p><p id="4e45" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，让我们回到我们的工作区文件夹，克隆包<em class="lw"> strutil </em>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="db99" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">有了我们机器上的包，让我们添加一个名为<em class="lw"> Reverse的新函数。</em>该函数的目标是接收一个字符串并返回它的反向。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="dc9d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在我们的hello应用程序中，我们将把对ToUpper 函数的调用改为新的<em class="lw"> Reverse </em>函数，然后再次运行突击队<code class="fe lq lr ls lt b">go run main.go</code>。</p><p id="4085" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">结果将是这样一个错误:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="7633" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">出现错误是因为我们的程序使用的是GitHub上的软件包版本。</p><p id="85a8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">使用包的本地版本的最简单方法是使用新的go工作空间。</p><p id="d1a3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为此，我们需要返回到我们的工作区文件夹，并运行初始命令到<code class="fe lq lr ls lt b">go work init ./hello</code>。在这个命令中。/hello是我们要添加到go工作区的第一个文件夹的名称。</p><p id="ada3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如我们所见，我们有一个新的go.work文件，其内容如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="5919" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了确保万无一失，现在我们有了这样一个文件夹结构:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="04fb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们可以使用命令<code class="fe lq lr ls lt b">go run github.com/aprendagolang/hello</code>从工作区文件夹运行我们的程序。</p><p id="dc4d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您运行该命令，您会看到发生了同样的错误。这是因为我们也需要将strutil文件夹添加到我们的工作区中。</p><p id="339d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为此，在工作区文件夹中，运行<code class="fe lq lr ls lt b">go work use ./strutil</code>。现在，如果你看一下go.work文件，你会看到这样的东西。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="a344" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，如果我们再次尝试<code class="fe lq lr ls lt b">go run github.com/aprendagolang/hello</code>命令，结果将是:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="ba32" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">就是这个！如有疑问，欢迎留言评论。</p><p id="0885" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">谢谢大家！</p></div></div>    
</body>
</html>