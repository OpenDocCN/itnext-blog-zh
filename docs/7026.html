<html>
<head>
<title>Internal Developer Platform In Plain English</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用简单的英语介绍内部开发人员平台</h1>
<blockquote>原文：<a href="https://itnext.io/internal-developer-platform-in-plain-english-4d9059acc2fd?source=collection_archive---------0-----------------------#2022-05-20">https://itnext.io/internal-developer-platform-in-plain-english-4d9059acc2fd?source=collection_archive---------0-----------------------#2022-05-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6c75" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在云计算世界中使用内部开发平台的利弊</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/70663dec8e523f0fd47813fbda369388.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ys2f1Y9mvpV_ngZGf2Jqtg.jpeg"/></div></div></figure><h1 id="bc4a" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">介绍</h1><p id="8cfa" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">内部开发平台(IDP)是DevOps和产品开发中的一个全新词汇。在这篇文章中，我将解释:</p><ul class=""><li id="19c7" class="mi mj it lo b lp mk ls ml lv mm lz mn md mo mh mp mq mr ms bi translated">IDP到底是什么</li><li id="1101" class="mi mj it lo b lp mt ls mu lv mv lz mw md mx mh mp mq mr ms bi translated">如何让it融入您的组织</li><li id="cc4e" class="mi mj it lo b lp mt ls mu lv mv lz mw md mx mh mp mq mr ms bi translated">概述市场上现有的IDP平台及其优缺点</li><li id="9f67" class="mi mj it lo b lp mt ls mu lv mv lz mw md mx mh mp mq mr ms bi translated">基于Azure云的IDP架构示例</li></ul><h1 id="5412" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">什么是内部开发者平台？</h1><p id="f611" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">作为一名软件架构师，我设计DevOps流程，花费大量时间选择DevOps工具集，构建管道，并与DevOps团队沟通，为开发团队实现一些过程。我们可以用内部开发平台(IDP)来解决这个问题。</p><p id="3701" class="pw-post-body-paragraph lm ln it lo b lp mk ju lr ls ml jx lu lv my lx ly lz mz mb mc md na mf mg mh im bi translated">内部开发人员平台(IDP)是开发和DevOps团队之间的附加层。IDP背后的主要思想是消除开发人员和开发人员之间的依赖性。</p><p id="6c9a" class="pw-post-body-paragraph lm ln it lo b lp mk ju lr ls ml jx lu lv my lx ly lz mz mb mc md na mf mg mh im bi translated">让我们看看您应该在IDP中包括哪些功能和组件。IDP平台应提供以下功能:</p><ul class=""><li id="4531" class="mi mj it lo b lp mk ls ml lv mm lz mn md mo mh mp mq mr ms bi translated">RBAC管理</li><li id="dd9f" class="mi mj it lo b lp mt ls mu lv mv lz mw md mx mh mp mq mr ms bi translated">基础设施管理</li><li id="8232" class="mi mj it lo b lp mt ls mu lv mv lz mw md mx mh mp mq mr ms bi translated">结构管理</li><li id="f91c" class="mi mj it lo b lp mt ls mu lv mv lz mw md mx mh mp mq mr ms bi translated">部署管理</li></ul><p id="80db" class="pw-post-body-paragraph lm ln it lo b lp mk ju lr ls ml jx lu lv my lx ly lz mz mb mc md na mf mg mh im bi translated">让我们看看什么是来自insights的IDP，以及它如何与DevOps工具和云提供商相联系。</p><h1 id="ccbe" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">IDP和DevOps</h1><p id="183a" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">如前面的例子所示，IDP就像是构建在DevOps工具、资源和云提供商之上的框架。一些开发人员平台可能包括一个与众多DevOps工具和云提供商合作的选项，如上图所示。其他国内流离失所者侧重于具体的问题。</p><p id="a163" class="pw-post-body-paragraph lm ln it lo b lp mk ju lr ls ml jx lu lv my lx ly lz mz mb mc md na mf mg mh im bi translated">下图显示了IDP组件的示例，以及它们如何将DevOps工具和云提供商结合在一起。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nb"><img src="../Images/070f3b920596a46a2eeb68aae5fa485f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fMWlCcd5ZZfSB3GGukREuQ.jpeg"/></div></div></figure><p id="253e" class="pw-post-body-paragraph lm ln it lo b lp mk ju lr ls ml jx lu lv my lx ly lz mz mb mc md na mf mg mh im bi translated"><em class="nc">图1 </em></p><p id="9af3" class="pw-post-body-paragraph lm ln it lo b lp mk ju lr ls ml jx lu lv my lx ly lz mz mb mc md na mf mg mh im bi translated">我们来看看市面上有哪些开发者平台的选项。例如，<a class="ae nd" href="https://github.com/gimlet-io" rel="noopener ugc nofollow" target="_blank"> Gimplet。IO </a>是一个开源的IDP，主要致力于运营Kubernetes部署。Gimlet包含管理图表、部署、机密和GitOps的CLI。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/5f1473b28eddbd7fe822da370d7c7dc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BSGIXmS1Zp8XnVUj"/></div></div></figure><p id="37c7" class="pw-post-body-paragraph lm ln it lo b lp mk ju lr ls ml jx lu lv my lx ly lz mz mb mc md na mf mg mh im bi translated">Gimlet不包含应用程序配置管理，这使它成为部分IDP。我喜欢IDP专注于特定平台的想法。比如Kubernetes。这使得它比其他试图覆盖所有知名平台和云提供商的平台更加稳定。覆盖太多平台才能适合营销。然而，拥有多个平台和云提供商的适当支持需要付出巨大的努力，因为它们有不同的API、标准，甚至命名约定。</p><p id="2a44" class="pw-post-body-paragraph lm ln it lo b lp mk ju lr ls ml jx lu lv my lx ly lz mz mb mc md na mf mg mh im bi translated">另一个很好的例子是<a class="ae nd" href="https://www.upbound.io" rel="noopener ugc nofollow" target="_blank">上行</a>。Upbound是一个强大的IDP，允许您在Kubernetes集群中部署和构建应用程序。它支持GCP、AWS和谷歌云。我喜欢向上绑定的团队如何支持文档，并提供架构示例和架构参考。下面你可以看到Kubernetes 的<a class="ae nd" href="https://github.com/upbound/platform-ref-azure" rel="noopener ugc nofollow" target="_blank"> Azure参考架构。</a></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/5ee2a0a588b71978ebf24ef22ac65111.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HXJvy4vx8CNsPkOS"/></div></div></figure><p id="8933" class="pw-post-body-paragraph lm ln it lo b lp mk ju lr ls ml jx lu lv my lx ly lz mz mb mc md na mf mg mh im bi translated"><em class="nc">图二</em></p><p id="0a53" class="pw-post-body-paragraph lm ln it lo b lp mk ju lr ls ml jx lu lv my lx ly lz mz mb mc md na mf mg mh im bi translated">有类似<a class="ae nd" href="https://github.com/backstage/backstage" rel="noopener ugc nofollow" target="_blank">后台</a>的产品在支持不同平台上取得了不错的进步。Backstage是Spotify做的开源平台，由<a class="ae nd" href="https://www.cncf.io" rel="noopener ugc nofollow" target="_blank">云原生计算基金会(CNCF) </a>支持。后台是一个旨在构建开发者门户的平台。它包括以下组件:</p><ul class=""><li id="87a9" class="mi mj it lo b lp mk ls ml lv mm lz mn md mo mh mp mq mr ms bi translated"><a class="ae nd" href="https://backstage.io/docs/features/software-catalog/software-catalog-overview" rel="noopener ugc nofollow" target="_blank">后台软件目录</a>用于管理微服务、库、数据管道、网站、ML模型。</li><li id="be62" class="mi mj it lo b lp mt ls mu lv mv lz mw md mx mh mp mq mr ms bi translated"><a class="ae nd" href="https://backstage.io/docs/features/software-templates/software-templates-index" rel="noopener ugc nofollow" target="_blank">后台软件模板</a>用于快速创建新项目。</li><li id="3fbf" class="mi mj it lo b lp mt ls mu lv mv lz mw md mx mh mp mq mr ms bi translated">用于生成项目文档的后台技术文档</li></ul><p id="0343" class="pw-post-body-paragraph lm ln it lo b lp mk ju lr ls ml jx lu lv my lx ly lz mz mb mc md na mf mg mh im bi translated"><a class="ae nd" href="https://www.devopsbox.io/profit-calculator" rel="noopener ugc nofollow" target="_blank"> DevOpsBox </a>是一个支持众多DevOps平台的平台示例，云提供商提供应用配置管理、基础设施协调、环境管理和足够的RBAC。然而，许多云提供商和工具仍处于实施阶段——例如，<a class="ae nd" href="https://www.devopsbox.io/profit-calculator" rel="noopener ugc nofollow" target="_blank"> Azure和Google Cloud </a>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/cf8d8b21a940b3a4fa89a08a17887ca3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MuGxPcFS5S5OVcvl"/></div></div></figure><p id="c2b8" class="pw-post-body-paragraph lm ln it lo b lp mk ju lr ls ml jx lu lv my lx ly lz mz mb mc md na mf mg mh im bi translated">最后但同样重要的是一个人工机器人。它是一个连接多个GitOps工具和云平台的平台。我喜欢Humanitec带来的概念。例如，您可以通过Azure和AWS<a class="ae nd" href="https://docs.humanitec.com/introduction/how-does-humanitec-integrate" rel="noopener ugc nofollow" target="_blank">连接</a>一个或多个Kubernetes集群。连接Datadog和Grafana。您甚至可以重用现有的Terraform和Pulumi脚本。您可以通过CLI、API和面向开发人员的UI来操作所有这些基础设施。开发人员可以快速供应Kubernetes集群、启动数据库和VM实例，而无需编写管道、清单和Terraform脚本。</p><p id="8d27" class="pw-post-body-paragraph lm ln it lo b lp mk ju lr ls ml jx lu lv my lx ly lz mz mb mc md na mf mg mh im bi translated">他们提供这个就不用等DevOps团队了。然而，开发运维专家仍应在以下方面花费时间:</p><ul class=""><li id="7f2d" class="mi mj it lo b lp mk ls ml lv mm lz mn md mo mh mp mq mr ms bi translated">选择DevOps工具</li><li id="a688" class="mi mj it lo b lp mt ls mu lv mv lz mw md mx mh mp mq mr ms bi translated">迁移现有脚本、管道和清单</li><li id="7cfa" class="mi mj it lo b lp mt ls mu lv mv lz mw md mx mh mp mq mr ms bi translated">连接环境</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/824e1cc6e72bbb3a3d1a203ad176242e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SlF8c8cHwqE4MMTX"/></div></div></figure><p id="604e" class="pw-post-body-paragraph lm ln it lo b lp mk ju lr ls ml jx lu lv my lx ly lz mz mb mc md na mf mg mh im bi translated"><em class="nc">图3 </em></p><p id="ea89" class="pw-post-body-paragraph lm ln it lo b lp mk ju lr ls ml jx lu lv my lx ly lz mz mb mc md na mf mg mh im bi translated">Humanitec还支持围绕IDP和DevOps主题的<a class="ae nd" href="https://platformcon.com/" rel="noopener ugc nofollow" target="_blank"> PlatformCON </a>社区。</p><h1 id="35b3" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">内部开发平台示例</h1><p id="f454" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">许多像Spotify这样的企业公司正在建立自己的IDP。他们已经有了一个庞大的DevOps代码库，包括脚本和模板、大多数可用平台的管道和云提供商。</p><p id="897b" class="pw-post-body-paragraph lm ln it lo b lp mk ju lr ls ml jx lu lv my lx ly lz mz mb mc md na mf mg mh im bi translated">几年前，我在一家企业公司工作，该公司有500多个正在进行的项目，他们需要为新项目快速组建团队。所有项目都需要尽快提供基础设施。开发者没有时间做DevOps的东西。该公司要求构建内部开发人员平台(IDP)来调配和管理基础架构。这个想法很简单。当一个新项目出现时，算法应该如下:</p><ul class=""><li id="a034" class="mi mj it lo b lp mk ls ml lv mm lz mn md mo mh mp mq mr ms bi translated">加入开发团队。</li><li id="335b" class="mi mj it lo b lp mt ls mu lv mv lz mw md mx mh mp mq mr ms bi translated">支持工程师提供所有必需的基础架构。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/8e1e3287c2b8ab7d6495c43387e87a4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oczaJY_34Bib_uug"/></div></div></figure><p id="ba15" class="pw-post-body-paragraph lm ln it lo b lp mk ju lr ls ml jx lu lv my lx ly lz mz mb mc md na mf mg mh im bi translated"><em class="nc">图4 </em></p><p id="72ad" class="pw-post-body-paragraph lm ln it lo b lp mk ju lr ls ml jx lu lv my lx ly lz mz mb mc md na mf mg mh im bi translated">如你所见，该架构主要基于Azure堆栈。但是，您可以轻松地将其扩展到AWS、GoogleCloud或任何其他云提供商。IDP可以提供以下资源和应用程序:</p><ul class=""><li id="6913" class="mi mj it lo b lp mk ls ml lv mm lz mn md mo mh mp mq mr ms bi translated">Azure开发测试实验室、虚拟机和扩展</li><li id="c944" class="mi mj it lo b lp mt ls mu lv mv lz mw md mx mh mp mq mr ms bi translated">库伯内特星团</li><li id="6e81" class="mi mj it lo b lp mt ls mu lv mv lz mw md mx mh mp mq mr ms bi translated">数据库</li><li id="70aa" class="mi mj it lo b lp mt ls mu lv mv lz mw md mx mh mp mq mr ms bi translated">应用服务</li></ul><p id="de45" class="pw-post-body-paragraph lm ln it lo b lp mk ju lr ls ml jx lu lv my lx ly lz mz mb mc md na mf mg mh im bi translated">开发人员门户是一个使用内部API的简单ReactJs应用程序。该API基于Azure API管理，包含几个代表单个API调用的函数。例如，触发部署或接收部署状态。API层连接到Azure DevOps API。Azure DevOps包含YAML管道、Terraform、Bash和PowerShell脚本。</p><h1 id="923c" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">利弊</h1><p id="ada4" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">IDP为您提供以下优势:</p><ul class=""><li id="3c7d" class="mi mj it lo b lp mk ls ml lv mm lz mn md mo mh mp mq mr ms bi translated">开发者的生产力。开发人员可以交付代码，减少对DevOps任务的关注。</li><li id="d7de" class="mi mj it lo b lp mt ls mu lv mv lz mw md mx mh mp mq mr ms bi translated">DevOps团队自由。IDP减少了基础架构配置工作量，并专注于构建基线配置和模板。</li></ul><p id="ae99" class="pw-post-body-paragraph lm ln it lo b lp mk ju lr ls ml jx lu lv my lx ly lz mz mb mc md na mf mg mh im bi translated">IDP可以为产品带来价值。然而，IDP也有一些缺点。下面我列出了其中的一些:</p><ul class=""><li id="e98d" class="mi mj it lo b lp mk ls ml lv mm lz mn md mo mh mp mq mr ms bi translated">成本和复杂性。构建开发者平台需要公司提供额外的资源来构建、支持和更新平台。我们可以通过购买外部开发平台来部分解决这个问题。我将在下面描述几个现有的平台。</li><li id="9015" class="mi mj it lo b lp mt ls mu lv mv lz mw md mx mh mp mq mr ms bi translated">文化变迁。涉及一个开发者平台需要开发和DevOps团队改变他们的文化和工作方式。这可能会导致团队损失时间。</li></ul><p id="6efc" class="pw-post-body-paragraph lm ln it lo b lp mk ju lr ls ml jx lu lv my lx ly lz mz mb mc md na mf mg mh im bi translated">这个列表可能是无穷无尽的，可能需要自己的文章。在文章:“<a class="ae nd" href="https://www.bunnyshell.com/blog/companies-build-internal-dev-platforms-pitfalls" rel="noopener ugc nofollow" target="_blank">为什么构建内部开发平台的公司不会再这样做</a>”中，你可以找到更多反对在内部构建IDP的理由。</p><h1 id="fa89" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">结论</h1><p id="c6cf" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">在这里，我试图阐明什么是内部开发人员平台，以及您和您的组织如何从参与IDP中获益。此外，我还补充了为什么使用IDP可能不合理。此外，我还分享了一个架构示例，该示例展示了一个组织如何构建其IDP，并节省管理公司内多个开发运维团队的时间。</p></div></div>    
</body>
</html>