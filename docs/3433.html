<html>
<head>
<title>How to migrate from Vue 2.0 to Vue 3.0 Composition API with TS (Part 1: integration)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用TS从Vue 2.0迁移到Vue 3.0组合API(第1部分:集成)</h1>
<blockquote>原文：<a href="https://itnext.io/how-to-migrate-from-vue-2-0-to-vue-3-0-composition-api-with-ts-part-1-integration-b4bb74d2bcd8?source=collection_archive---------2-----------------------#2019-12-15">https://itnext.io/how-to-migrate-from-vue-2-0-to-vue-3-0-composition-api-with-ts-part-1-integration-b4bb74d2bcd8?source=collection_archive---------2-----------------------#2019-12-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/e05c07f72292fbfe52966b3ddd74b4f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RSAMMS_XYU7Q8g89M7QKzQ.png"/></div></div></figure><p id="79aa" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">2019年10月，Vue 3.0 pre-alpha终于发布。所以用Vue 3.0做生产是迟早的事。</p><p id="9c0a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">为了做好准备，我想分享一下如何从Vue 2.0迁移到Vue 3.0。因为现在大量的Vue用户已经引入了TypeScript，所以本文也使用TypeScript。</p><p id="fb96" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">迁移有3个步骤，如下所示。</p><ol class=""><li id="3470" class="kz la it kd b ke kf ki kj km lb kq lc ku ld ky le lf lg lh bi translated"><a class="ae li" href="https://medium.com/@egctoru/how-to-migrate-from-vue-2-0-to-vue-3-0-composition-api-with-ts-part-1-integration-b4bb74d2bcd8" rel="noopener">将Vue 3.0注入Vue 2.0 </a></li><li id="235d" class="kz la it kd b ke lj ki lk km ll kq lm ku ln ky le lf lg lh bi translated"><a class="ae li" href="https://medium.com/@egctoru/how-to-properly-use-vue-3-0-composition-api-with-typescript-part-2-usage-73606fb1b296" rel="noopener">将Vue 2.0代码替换为Vue 3.0 </a></li><li id="b3cb" class="kz la it kd b ke lj ki lk km ll kq lm ku ln ky le lf lg lh bi translated"><a class="ae li" href="https://medium.com/@egctoru/how-to-migrate-from-vue-2-0-to-vue-3-0-composition-api-with-ts-part-3-create-a-global-store-aabdfa45a687" rel="noopener">使用Vue 3.0组合API创建全球商店</a></li></ol><p id="f726" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">因为这个话题有点长，我把它分成了3篇文章。如果您想从特定部分开始，请随意进入页面。</p><h1 id="ffc0" class="lo lp it bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">如何将Vue 3.0注入Vue 2.0</h1><p id="e681" class="pw-post-body-paragraph kb kc it kd b ke mm kg kh ki mn kk kl km mo ko kp kq mp ks kt ku mq kw kx ky im bi translated">到目前为止，由于Vue 3.0没有迁移到Vue包中，</p><h2 id="4210" class="mr lp it bd lq ms mt dn lu mu mv dp ly km mw mx mc kq my mz mg ku na nb mk nc bi translated">让我们先设置Vue 2.0代码</h2><p id="c557" class="pw-post-body-paragraph kb kc it kd b ke mm kg kh ki mn kk kl km mo ko kp kq mp ks kt ku mq kw kx ky im bi translated">我已经用TypeScript创建了用Vue 2.0编写的简单的todo应用程序。</p><p id="f296" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">想在你学习的时候编码的人，请克隆这个回购，直接运行即可。可以看到下面这样的小应用。</p><pre class="nd ne nf ng gt nh ni nj nk aw nl bi"><span id="6ade" class="mr lp it ni b gy nm nn l no np">git clone <a class="ae li" href="https://github.com/egurinko/vue3.0-composition-api-demo.git" rel="noopener ugc nofollow" target="_blank">https://github.com/egurinko/vue3.0-composition-api-demo.git</a><br/>yarn serve</span></pre><figure class="nd ne nf ng gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nq"><img src="../Images/479ff9f1a0ccd9daf93e538c517fa3cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MY-MxtWY3xmVB-THwaNDJg.png"/></div></div><figcaption class="nr ns gj gh gi nt nu bd b be z dk translated">Vue 2.0待办事宜应用</figcaption></figure><h2 id="01a8" class="mr lp it bd lq ms mt dn lu mu mv dp ly km mw mx mc kq my mz mg ku na nb mk nc bi translated">将Vue 3.0组合API注入Vue 2.0</h2><p id="73ac" class="pw-post-body-paragraph kb kc it kd b ke mm kg kh ki mn kk kl km mo ko kp kq mp ks kt ku mq kw kx ky im bi translated">当你现在想用Vue 3.0的时候，你要安装Vue 3.0，把它当插件用。但是这很简单。</p><p id="fe15" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">首先，只需将<code class="fe nv nw nx ni b">@vue/composition-api</code>安装到依赖项中。</p><pre class="nd ne nf ng gt nh ni nj nk aw nl bi"><span id="e217" class="mr lp it ni b gy nm nn l no np">yarn add <!-- -->@vue/composition-api</span></pre><p id="100f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">其次，在您的utils目录中创建组合api插件文件。当然换目录是免费的。</p><pre class="nd ne nf ng gt nh ni nj nk aw nl bi"><span id="16fe" class="mr lp it ni b gy nm nn l no np">// src/utils/compositionPlugin.ts</span><span id="42dd" class="mr lp it ni b gy ny nn l no np">import CompositionApi from "@vue/composition-api";<br/>import Vue from "vue";<br/>Vue.use(CompositionApi);</span></pre><p id="642a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe nv nw nx ni b">compositionPlugin.ts</code>做的是声明使用Vue 3.0 composition api作为插件。用vue-router也差不多。声明后，只需将合成插件导入<code class="fe nv nw nx ni b">main.ts</code>。</p><pre class="nd ne nf ng gt nh ni nj nk aw nl bi"><span id="6337" class="mr lp it ni b gy nm nn l no np">// src/main.ts<br/>import Vue from "vue";<br/>import router from "./router/index";<br/>import "./assets/styles/index.css";</span><span id="20fc" class="mr lp it ni b gy ny nn l no np">import "./utils/compositionPlugin";</span><span id="63db" class="mr lp it ni b gy ny nn l no np">import App from "./App.vue";</span></pre><p id="bcfb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">看起来很容易，哈？但是这里有一个导入的事情是<strong class="kd iu">导入合成插件必须在导入App.vue </strong>之前。因为你会在App.vue里面写Vue 3.0代码，所以在使用之前一定要准备好Vue 3.0。</p><p id="02b4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">那就是Vue 3.0对Vue 2.0的注入结束了。</p></div><div class="ab cl nz oa hx ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="im in io ip iq"><p id="6ccf" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这篇文章中，我解释了如何将Vue 3.0注入Vue 2.0。如果你想知道更多，请随意阅读下面的文章。非常感谢！</p><ol class=""><li id="3cc2" class="kz la it kd b ke kf ki kj km lb kq lc ku ld ky le lf lg lh bi translated"><a class="ae li" href="https://medium.com/@egctoru/how-to-migrate-from-vue-2-0-to-vue-3-0-composition-api-with-ts-part-1-integration-b4bb74d2bcd8" rel="noopener">将Vue 3.0注入Vue 2.0 </a></li><li id="c2bc" class="kz la it kd b ke lj ki lk km ll kq lm ku ln ky le lf lg lh bi translated"><a class="ae li" href="https://medium.com/@egctoru/how-to-properly-use-vue-3-0-composition-api-with-typescript-part-2-usage-73606fb1b296" rel="noopener">将Vue 2.0代码替换为Vue 3.0 </a></li><li id="d0ff" class="kz la it kd b ke lj ki lk km ll kq lm ku ln ky le lf lg lh bi translated"><a class="ae li" href="https://medium.com/@egctoru/how-to-migrate-from-vue-2-0-to-vue-3-0-composition-api-with-ts-part-3-create-a-global-store-aabdfa45a687" rel="noopener">使用Vue 3.0组合API创建全球商店</a></li></ol></div></div>    
</body>
</html>