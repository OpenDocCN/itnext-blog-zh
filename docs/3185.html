<html>
<head>
<title>AWS Amplify + React Native / Authentication 🔐 FULL SETUP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AWS放大+反应本地/认证🔐完整设置</h1>
<blockquote>原文：<a href="https://itnext.io/aws-amplify-react-native-authentication-full-setup-7764b452a138?source=collection_archive---------0-----------------------#2019-10-20">https://itnext.io/aws-amplify-react-native-authentication-full-setup-7764b452a138?source=collection_archive---------0-----------------------#2019-10-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/5916e2fff71437acf43ed8e2e72a0e3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dBpy1mmzUrJX7ZNscBFBLQ.png"/></div></div></figure><div class=""/><p id="8f17" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我的渠道订户中请求最多的话题之一是React本机应用程序中的身份验证和授权。因此，我决定专门为这个问题写一篇文章，但是在我们开始编码之前，有必要处理一下身份验证/授权的定义。</p><figure class="kw kx ky kz gt is"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="73ea" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka jc">认证</strong>是使用一些独特的信息(指纹、虹膜颜色、声音等)来验证主体与其试图冒充的人的一致性。)，在最简单的情况下——借助邮件和密码。</p><p id="73d5" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka jc">授权</strong>是根据先前执行的认证来验证和确定执行特定动作的权限</p><p id="ed30" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在本文的最后，我们将制作这个移动应用程序:</p><figure class="kw kx ky kz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi lc"><img src="../Images/195ca464e5b55096867d0d44ce02ab9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jQ1EtYtQQzlHg_NkGoi4Fg.png"/></div></div></figure><p id="7089" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">身份验证几乎是任何应用程序不可或缺的一部分。知道用户是谁、用户的唯一标识符、用户拥有什么权限以及他们是否登录，允许您的应用程序显示正确的视图并返回当前登录用户的正确数据。</p><p id="2db6" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">大多数应用程序需要注册用户、登录、处理加密和更新密码以及许多其他与身份管理相关的任务的机制。现代应用程序通常需要OAUTH(开放式身份验证)、MFA(多因素身份验证)和TOTP(基于时间的时间密码)。</p><p id="0e43" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">过去，开发人员必须从头开始手动构建所有这些身份认证功能。光是这项任务就可能花费开发团队几周甚至几个月的时间来做好每一件事并保证它的安全。在本文中，您将了解如何使用Amazon Cognito和AWS Amplify在React本地应用程序中正确安全地实现身份验证。</p><p id="b409" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Amazon Cognito是AWS的完全托管身份服务。Cognito提供简单安全的用户注册、登录、访问控制、令牌更新和用户身份管理。Cognito可以扩展到数百万用户，还支持登录脸书、谷歌和亚马逊等社交网络提供商。</p><h1 id="7f85" class="ld le jb bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated"><strong class="ak"> Cognito由两个主要部分组成:用户池和身份池。</strong></h1><p id="f054" class="pw-post-body-paragraph jy jz jb ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated"><strong class="ka jc">用户池</strong> —用户池提供了一个安全的用户目录，可存储您的所有用户，并可扩展至数亿用户。这是一项全面管理的服务。像无服务器技术一样，用户池易于配置，无需担心支持任何基础设施。用户池是管理所有注册和登录帐户的用户的，也是我们将在本文中关注的主要部分。</p><p id="eaf3" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka jc">身份池</strong> —身份池允许您授权登录到您的应用程序的用户访问各种其他AWS服务。假设您想让一个用户访问一个lambda函数，这样他就可以从另一个API接收数据。您可以在创建身份池时指定这一点。用户池包括这样一个事实，即Cognito甚至脸书或谷歌用户池可以是这些标识符的来源。</p><h1 id="99c7" class="ld le jb bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">Amazon Cognito用户池和身份池一起使用的场景。</h1><p id="f436" class="pw-post-body-paragraph jy jz jb ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated">参见通用Amazon Cognito脚本的图表。这里的目标是验证您的用户，然后让他访问另一个AWS服务。</p><figure class="kw kx ky kz gt is gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/71d560002a714e4f0f8c51dc0cbd5c91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*oqCiR0qgrR_Yu_I26MIx8A.png"/></div></figure><p id="4fce" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">1.在第一阶段，应用程序的用户通过用户池进入系统，并在成功认证后接收用户池的令牌。</p><p id="1255" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">2.然后，您的应用程序通过身份池将用户池令牌交换为AWS凭证。</p><p id="87ed" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">3.最后，您的应用程序用户可以使用这些AWS凭证来访问其他AWS服务，如亚马逊S3或DynamoDB。</p><p id="cdc8" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Cognito用户池允许您的应用程序调用服务的各种方法来管理用户身份验证的各个方面，包括:</p><ul class=""><li id="cfa5" class="mh mi jb ka b kb kc kf kg kj mj kn mk kr ml kv mm mn mo mp bi translated">用户注册</li><li id="999e" class="mh mi jb ka b kb mq kf mr kj ms kn mt kr mu kv mm mn mo mp bi translated">用户登录</li><li id="539a" class="mh mi jb ka b kb mq kf mr kj ms kn mt kr mu kv mm mn mo mp bi translated">用户注销</li><li id="1b52" class="mh mi jb ka b kb mq kf mr kj ms kn mt kr mu kv mm mn mo mp bi translated">更改用户密码</li><li id="8328" class="mh mi jb ka b kb mq kf mr kj ms kn mt kr mu kv mm mn mo mp bi translated">重置用户密码</li><li id="cdcb" class="mh mi jb ka b kb mq kf mr kj ms kn mt kr mu kv mm mn mo mp bi translated">MFA代码验证</li><li id="b5db" class="mh mi jb ka b kb mq kf mr kj ms kn mt kr mu kv mm mn mo mp bi translated">Amazon Cognito与AWS Amplify的集成</li></ul><p id="9632" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">AWS Amplify以多种方式支持Amazon Cognito。首先，您可以直接从AWS Amplify命令行界面创建和配置Amazon Cognito服务。通过CLI创建认证服务，您可以使用Amplify JavaScript客户端库从JavaScript应用程序调用各种方法(例如，注册、登录和注销)。<br/> Amplify还具有预配置的用户界面组件，允许您仅用几行代码为React、React Native、Vue和Angular等环境构建完整的认证流程。</p><p id="61cf" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你问这一切要花多少钱？</p><p id="c962" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka jc">只为您使用的东西付费。没有最低费用。</strong></p><p id="1a9a" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用Amazon Cognito Identity创建用户池，您只需为每月活跃用户数(MAU)付费。mau是在一个日历月内至少执行过一次身份验证操作的用户:注册、授权、令牌续订或密码更改。活跃用户和非活跃用户在本日历月的后续会话不支付费用。</p><figure class="kw kx ky kz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mv"><img src="../Images/d3d76397b61c5adacae4323e2e9842d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oVslr3eNAEzzRPRDNYlWMA.png"/></div></div></figure><p id="7b37" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">编码时间👨🏼‍💻👩🏻‍💻</p><figure class="kw kx ky kz gt is"><div class="bz fp l di"><div class="mw lb l"/></div></figure><h1 id="40d9" class="ld le jb bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">第一部分</h1><p id="48d4" class="pw-post-body-paragraph jy jz jb ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated">这部分的所有代码都可以在<a class="ae mx" href="https://github.com/react-native-village/messaga/tree/Part1" rel="noopener ugc nofollow" target="_blank"> Github </a>上找到。</p><figure class="kw kx ky kz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi my"><img src="../Images/81e709e244d9c63060d5a93f9964f596.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dbFzVVHRemOjKL0VK2kFEg.png"/></div></div></figure><h1 id="edde" class="ld le jb bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">第一步</h1><p id="c82b" class="pw-post-body-paragraph jy jz jb ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated"><strong class="ka jc">创建新项目⚛️ </strong></p><pre class="kw kx ky kz gt mz na nb nc aw nd bi"><span id="534b" class="ne le jb na b gy nf ng l nh ni">react-native init <a class="ae mx" href="https://github.com/react-native-village/messaga" rel="noopener ugc nofollow" target="_blank">messaga</a></span></pre><p id="2ad3" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们开始这个项目🚀</p><p id="a5e5" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ios</p><pre class="kw kx ky kz gt mz na nb nc aw nd bi"><span id="5605" class="ne le jb na b gy nf ng l nh ni">cd <a class="ae mx" href="https://github.com/react-native-village/messaga" rel="noopener ugc nofollow" target="_blank">messaga</a> &amp;&amp; react-native run-ios</span></pre><p id="64be" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">机器人</p><pre class="kw kx ky kz gt mz na nb nc aw nd bi"><span id="688e" class="ne le jb na b gy nf ng l nh ni">cd <a class="ae mx" href="https://github.com/react-native-village/messaga" rel="noopener ugc nofollow" target="_blank">messaga</a> &amp;&amp; react-native run-android</span></pre><h1 id="dd8e" class="ld le jb bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">第二步</h1><p id="57a5" class="pw-post-body-paragraph jy jz jb ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated"><strong class="ka jc">我们连接图标👾</strong></p><p id="f8e2" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">由于图标由AWS Amplify框架使用，因此我们根据<a class="ae mx" href="https://github.com/oblador/react-native-vector-icons#installation" rel="noopener ugc nofollow" target="_blank">指令</a>连接它们📃。<br/>检查错误。添加到<strong class="ka jc"> App.js </strong></p><pre class="kw kx ky kz gt mz na nb nc aw nd bi"><span id="8d5a" class="ne le jb na b gy nf ng l nh ni">import Icon from 'react-native-vector-icons/FontAwesome5'</span><span id="628a" class="ne le jb na b gy nj ng l nh ni">const App = () =&gt; {<br/>  return (<br/>    &lt;&gt;<br/>      &lt;Icon name="comments" size={30} color="#900" /&gt;<br/>    &lt;/&gt;<br/>  )<br/>}</span></pre><h1 id="71e6" class="ld le jb bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">第三步</h1><p id="dc08" class="pw-post-body-paragraph jy jz jb ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated"><strong class="ka jc">注册您的AWS帐户</strong></p><p id="128f" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们根据<a class="ae mx" href="https://aws-amplify.github.io/docs/" rel="noopener ugc nofollow" target="_blank">这个指令</a>进行注册📃并根据视频教程检查所有5个步骤..<br/>注意！！！你需要一张银行卡💳，哪里应该超过1个亿💵<br/>在这里，我们看到并放置了Amplify命令行界面(CLI)</p><h1 id="6213" class="ld le jb bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">第四步</h1><p id="d46c" class="pw-post-body-paragraph jy jz jb ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated">在React本地项目中初始化AWS Amplify</p><p id="630e" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在React本地项目的根目录中初始化我们的后端。</p><pre class="kw kx ky kz gt mz na nb nc aw nd bi"><span id="112b" class="ne le jb na b gy nf ng l nh ni">amplify init</span></pre><p id="f95e" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们回答这些问题:</p><figure class="kw kx ky kz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nk"><img src="../Images/4ba62f61f1f677b7a2d6cdd30f01ff86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-dhY1viIsQ50ih-HKj2trg.png"/></div></div></figure><p id="347c" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">接下来是项目的初始化。🚀<br/> ⠧在云端初始化项目… <br/>您的项目已成功初始化并连接到云端！</p><h1 id="0fd8" class="ld le jb bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">第五步</h1><p id="ca7f" class="pw-post-body-paragraph jy jz jb ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated"><strong class="ka jc">连接认证插件— Auth🔐</strong></p><p id="68d2" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在应用程序已经在云中了，您可以添加一些特性，比如允许用户注册我们的应用程序并登录。</p><p id="2fc6" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们连接认证插件。</p><pre class="kw kx ky kz gt mz na nb nc aw nd bi"><span id="9217" class="ne le jb na b gy nf ng l nh ni">amplify add auth</span></pre><p id="3358" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">选择默认配置。这将在本地将授权资源配置添加到您的<strong class="ka jc"> amplify/backend/auth </strong>目录中。</p><p id="ca3f" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka jc">选择我们想要使用的配置文件。默认。输入用户将如何登录。邮件(短信注销钱)。</strong></p><figure class="kw kx ky kz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nl"><img src="../Images/a4b5800f80facd4f2b68a4ff3a6323b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KD6KyPjd9Ac3REpgsTC9CQ.png"/></div></div></figure><p id="d964" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">已成功在本地添加资源yourname</p><p id="a6c2" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka jc">向云发送更改💭</strong></p><pre class="kw kx ky kz gt mz na nb nc aw nd bi"><span id="280d" class="ne le jb na b gy nf ng l nh ni">amplify push</span></pre><p id="6544" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">✔所有的资源都在云中更新</p><h1 id="6a39" class="ld le jb bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">第六步</h1><p id="54b9" class="pw-post-body-paragraph jy jz jb ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated"><strong class="ka jc">连接AWS放大器以对⚛️本地项目做出反应</strong></p><p id="b88c" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">本<a class="ae mx" href="https://aws-amplify.github.io/docs/js/react" rel="noopener ugc nofollow" target="_blank">手册</a>中的详细信息📃简单地说，像这样的一条直线:</p><pre class="kw kx ky kz gt mz na nb nc aw nd bi"><span id="d2c1" class="ne le jb na b gy nf ng l nh ni">yarn add aws-amplify @aws-amplify/core aws-amplify-react-native amazon-cognito-identity-js @react-native-community/netinfo</span></pre><p id="5efd" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">安装后，请务必转到ios文件夹并设置pod</p><pre class="kw kx ky kz gt mz na nb nc aw nd bi"><span id="9695" class="ne le jb na b gy nf ng l nh ni">cd ios &amp;&amp; pod install &amp;&amp; cd ..</span></pre><h1 id="61a0" class="ld le jb bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">第七步</h1><p id="d54a" class="pw-post-body-paragraph jy jz jb ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated"><strong class="ka jc">编辑项目结构</strong></p><p id="dcb5" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">创建<strong class="ka jc"> /src </strong>目录，并将<strong class="ka jc"> App.js </strong>文件转移到该目录，重命名为<strong class="ka jc"> index.js </strong>，在根目录<strong class="ka jc"> /yourname/index.js </strong>中包含以下内容<br/>编辑导入</p><pre class="kw kx ky kz gt mz na nb nc aw nd bi"><span id="546c" class="ne le jb na b gy nf ng l nh ni">- import App from './App'<br/>+ import App from './src'</span></pre><h1 id="6058" class="ld le jb bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">第八步</h1><p id="c723" class="pw-post-body-paragraph jy jz jb ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated">最小项目配置和认证器模块</p><p id="cbad" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Amplify.configure —项目配置</p><p id="df4b" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">认证器—<a class="ae mx" href="https://aws-amplify.github.io/docs/js/authentication#using-components-in-react--react-native" rel="noopener ugc nofollow" target="_blank">AWS Amplify认证模块</a>为想要创建用户认证功能的开发人员提供认证API和构建块。</p><figure class="kw kx ky kz gt is"><div class="bz fp l di"><div class="nm lb l"/></div></figure><p id="fd26" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">运行模拟器</p><h1 id="dc8a" class="ld le jb bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">第九步</h1><p id="9d7e" class="pw-post-body-paragraph jy jz jb ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated">编辑App.js中的输入</p><figure class="kw kx ky kz gt is"><div class="bz fp l di"><div class="nm lb l"/></div></figure><h1 id="2af1" class="ld le jb bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">第十步</h1><p id="4d9a" class="pw-post-body-paragraph jy jz jb ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated"><strong class="ka jc">改变UI🖌的主题</strong></p><p id="fe7c" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们为未来的components/src/components/index . js创建一个导出点</p><pre class="kw kx ky kz gt mz na nb nc aw nd bi"><span id="8e62" class="ne le jb na b gy nf ng l nh ni">export * from './AmplifyTheme'</span></pre><p id="e544" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">并据此用内容创建/src/components/amplify theme/index . js<strong class="ka jc">T5】文件本身</strong></p><figure class="kw kx ky kz gt is"><div class="bz fp l di"><div class="nm lb l"/></div></figure><p id="bacd" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">并将主题插入Authenticator src/index . js<strong class="ka jc"/>组件</p><figure class="kw kx ky kz gt is"><div class="bz fp l di"><div class="nm lb l"/></div></figure><h1 id="dd47" class="ld le jb bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">步骤11</h1><p id="bfbc" class="pw-post-body-paragraph jy jz jb ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated"><strong class="ka jc">连接语言支持</strong></p><p id="eb0f" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">将导出添加到/src/components/index.js</p><pre class="kw kx ky kz gt mz na nb nc aw nd bi"><span id="e647" class="ne le jb na b gy nf ng l nh ni">export * from './Localei18n'</span></pre><p id="f1c8" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">创建/src/components/localei 18n/index . js文件，其中包含以下内容</p><figure class="kw kx ky kz gt is"><div class="bz fp l di"><div class="nm lb l"/></div></figure><p id="c3ee" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">并且我们连接src/index.js中的Localei18n组件</p><figure class="kw kx ky kz gt is"><div class="bz fp l di"><div class="nm lb l"/></div></figure><p id="8472" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">第一部分完成✅</p><h1 id="4c1f" class="ld le jb bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">第二部分</h1><p id="e211" class="pw-post-body-paragraph jy jz jb ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated">这部分的所有代码都可以在<a class="ae mx" href="https://github.com/react-native-village/messaga/tree/Part2" rel="noopener ugc nofollow" target="_blank"> Github </a>上找到。</p><figure class="kw kx ky kz gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nn"><img src="../Images/ae4e5dd3dff99a7862828a5b37499580.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XvC2-mTu0aRQtIF2FCpeig.png"/></div></div></figure><p id="2af6" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">首先，在官方文件<a class="ae mx" href="https://docs.amplify.aws/lib/auth/manageusers/q/platform/js#managing-security-tokens" rel="noopener ugc nofollow" target="_blank">中</a> Amplify说</p><blockquote class="no np nq"><p id="cc8e" class="jy jz nr ka b kb kc kd ke kf kg kh ki ns kk kl km nt ko kp kq nu ks kt ku kv ij bi translated"><em class="jb">使用标准存储适配器(浏览器中的</em> <code class="fe nv nw nx na b"><em class="jb">localStorage</em></code> <em class="jb">和React Native上的</em> <code class="fe nv nw nx na b"><em class="jb">AsyncStorage</em></code> <em class="jb">)时，数据以不加密方式存储。Amplify让您可以选择使用自己的存储对象来保存数据。有了这个，你可以编写一个类似于</em>的简单的库包装器</p><p id="ad54" class="jy jz nr ka b kb kc kd ke kf kg kh ki ns kk kl km nt ko kp kq nu ks kt ku kv ij bi translated"><code class="fe nv nw nx na b"><em class="jb">react-native-keychain</em></code></p><p id="0585" class="jy jz nr ka b kb kc kd ke kf kg kh ki ns kk kl km nt ko kp kq nu ks kt ku kv ij bi translated"><code class="fe nv nw nx na b"><em class="jb">react-native-secure-storage</em></code></p><p id="a79b" class="jy jz nr ka b kb kc kd ke kf kg kh ki ns kk kl km nt ko kp kq nu ks kt ku kv ij bi translated">世博会的安全商店</p></blockquote><p id="8602" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">数据以未加密的形式存储，这是🕷信息安全的一个风险，可能会给🕸.带来负面影响</p><p id="479a" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">其次，来自Amplify的标准UI并不总是满足来自客户的UX，所以我们将在这一部分解决这两个问题。</p><p id="6271" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">👉🏻<a class="ae mx" href="https://www.jscamp.app/docs/auth1-02" rel="noopener ugc nofollow" target="_blank">未完待续</a></p></div></div>    
</body>
</html>