<html>
<head>
<title>5 Browser APIs You Should Know About in 2022</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">2022年你应该知道的5个浏览器API</h1>
<blockquote>原文：<a href="https://itnext.io/5-browser-apis-you-should-know-about-in-2022-6a5ecda20350?source=collection_archive---------0-----------------------#2022-07-05">https://itnext.io/5-browser-apis-you-should-know-about-in-2022-6a5ecda20350?source=collection_archive---------0-----------------------#2022-07-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/65229c41ccb5d22661d4a1472cc14bb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3jpul7LgdpZ-ghhr"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">约瑟夫·巴里恩托斯在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="63bb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">应用程序编程接口(API)是预定义的编程语言结构，允许开发人员以较少的努力构建复杂的功能。它们向程序员“隐藏”了更复杂的代码，提供了易用性。</p><p id="49ca" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">浏览器API内置于web浏览器中，能够使用来自浏览器和计算机环境的数据来对该数据执行更复杂的操作。例如，地理定位API提供了易于使用的JavaScript结构来操作位置数据，因此，比方说，您可以在Google地图上标记您的位置。</p><p id="f6b7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将考虑一些我认为最有趣的API，这些API你可能还不知道。</p><h1 id="9e87" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">交叉点观察器API</h1><p id="4802" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">交叉点观察器API允许web应用程序异步监视元素与其父级或视口文档范围的交叉点的变化。</p><p id="d282" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">历史上，检测单个元素的可见性或两个元素相对于彼此的可见性是一项困难的任务。解决这个问题的方法并不可靠，而且会降低浏览器的速度。然而，随着web的发展，解决这个问题的必要性也在增加，原因有很多，例如:</p><ul class=""><li id="db35" class="me mf iq kf b kg kh kk kl ko mg ks mh kw mi la mj mk ml mm bi translated">当滚动页面时，不及时加载图片或其他内容。</li><li id="1d8c" class="me mf iq kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">“无限滚动”网站的实现，其中内容是在向下滚动页面时加载的，而无需在页面之间切换。</li><li id="5718" class="me mf iq kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">广告可见性的报告，以便从中计算收入。</li><li id="40fd" class="me mf iq kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">根据用户是否看到结果来决定是否运行某个过程或动画。</li></ul><p id="8ec6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在过去，实现元素交集检测涉及到使用事件处理程序和循环，调用像<em class="ms">element . getboundingclientrect</em>这样的方法来收集关于每个受影响元素的必要信息。只要这些代码运行在主线程上，就会出现不同的性能问题。</p><p id="da42" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用示例:</p><p id="93f4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">暂停正在播放的视频，然后根据视频是否进入视口再次开始播放。</p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="2d95" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">结果:只要视频在视窗中，它就会播放。</p><h1 id="af64" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">剪贴板API</h1><p id="d60c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">有一个新的JavaScript API用于异步剪贴板访问，它使用的规范仍在开发中。到目前为止，在web开发中，将文本复制到剪贴板的标准方法是document.execCommand方法。这种方法的主要缺点是它是一种同步阻塞操作。异步剪贴板API是基于承诺的，它的目标之一就是解决这个缺点。它的目标是给web开发者一个更容易使用的统一剪贴板API。此外，这个API被设计为支持许多数据类型，而不仅仅是文本/纯文本。</p><p id="f341" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将数据写入剪贴板是一个简单的操作，通过调用clipboard对象的writeText方法并向其传递适当的文本来实现。</p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="5b8f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">readText方法用于从剪贴板中读取数据。为了提高安全性，除了从剪贴板读取数据的页面必须在活动的浏览器选项卡中打开这一事实之外，用户还必须授予它额外的权限。第一次调用readText时，浏览器将自动请求此权限。</p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mx my l"/></div></figure><h1 id="b8ae" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">地理定位API</h1><p id="60fe" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">地理定位API允许用户向web应用提供他们的位置，如果用户选择提供的话。出于隐私原因，将要求用户提供位置信息的许可。</p><p id="dfdc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，使用Geolocation.getCurrentPosition()方法来确定用户的位置。</p><p id="83c1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该方法采用一个必需参数和两个可选参数:success是一个回调函数，在授予权限时接收一个Position对象error是一个回调函数，在拒绝访问时接收一个PositionError对象options是一个带有设置的对象。下面是它在代码中的样子:</p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mx my l"/></div></figure><h1 id="b556" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">性能API</h1><p id="a4f6" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">测量执行一个函数所花费的时间是证明一个机制的实现比另一个更有性能的好方法。这允许您确保函数的性能不会受到对代码所做的某些更改的影响。它还有助于发现应用程序的性能瓶颈。</p><p id="f367" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Performance接口通过performance.now()方法提供对DOMHighResTimeStamp类型值的访问。该方法返回一个时间戳，指示文档开始存在以来的时间(毫秒)。此外，该指示器的精度约为5微秒(毫秒的几分之一)。</p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mx my l"/></div></figure><h1 id="652d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">历史API</h1><p id="bff7" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">Window DOM对象通过history对象提供对当前浏览器会话历史的访问(不要与浏览器扩展的历史混淆)。它提供了有用的方法和属性，允许您在用户故事中来回导航并操作其内容。</p><p id="c832" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要回顾历史:</p><pre class="mt mu mv mw gt mz na nb nc aw nd bi"><span id="21f1" class="ne lc iq na b gy nf ng l nh ni">window.history.back();</span></pre><p id="7b5d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">类似地，您可以向前移动(就像用户点击了“前进”按钮一样):</p><pre class="mt mu mv mw gt mz na nb nc aw nd bi"><span id="ff57" class="ne lc iq na b gy nf ng l nh ni">window.history.forward();</span></pre><p id="c534" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">可以像这样向后移动2页:</p><pre class="mt mu mv mw gt mz na nb nc aw nd bi"><span id="e90a" class="ne lc iq na b gy nf ng l nh ni">window.history.go(-2);</span></pre><p id="2553" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">看起来你可以前进两页:</p><pre class="mt mu mv mw gt mz na nb nc aw nd bi"><span id="379a" class="ne lc iq na b gy nf ng l nh ni">window.history.go(2);</span></pre><h1 id="6634" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="4ad1" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">在本文中，我们只考虑了浏览器API的一小部分。要更详细地了解，我建议去看这些api的文档。祝你项目发展成功！</p></div></div>    
</body>
</html>