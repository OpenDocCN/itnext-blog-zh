# Angular:保护您的应用程序路线

> 原文：<https://itnext.io/angular-secure-your-application-routes-a7f71a87e97f?source=collection_archive---------2----------------------->

![](img/2562a005115a37a2642b77c5c9ee9587.png)

于是，你写了几十个几十个路由，加了参数，用数据左轮手枪黑了，现在，任何人都可以访问任何页面，但是你真的不想要，你想通过权限提供访问。

您的第一步将是创建`CanActivateGuard.`

但是守卫如何知道哪个组件需要哪个许可。

建议两种方式:

## **路线数据:**

对于**您的任何**路线，我们将定义包含所需权限的数据对象。

路由配置将如下所示:

警卫看起来会像这样:

## 2.**组件装饰器**

路由保护将只定义一次。在根路由中，使用`canActivateChild` 使其也与子路由相关。

然后，任何路由组件都将使用我们将创建特殊装饰器来定义所需的权限。

Guard 将读取组件装饰器，获取其定义的权限，并调用安全服务(或任何其他逻辑)来检查用户是否可以访问该页面。

*   路线配置:

*   装饰者:

这是 decorator 函数，它向组件添加一个包含所需权限的字段。(这不会添加到组件实例中，只是在组件构造函数中)

下面是我们如何在某个组件上使用装饰器:

*   警卫:

# 什么比较好？

在第二个选项中，我们可以为根路由仅定义一次**保护**，这将影响任何将要添加的子根。
没有人需要记住这个保护，在一个大型应用程序中，开发人员每天都会添加一个路由，很容易忘记还需要将保护及其数据添加到配置中。
I **在这种方法中，您只需添加装饰器，就完成了**，**不需要在路线配置中进行修改**。