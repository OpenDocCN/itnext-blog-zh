<html>
<head>
<title>SSH: RSA keys, and ssh-agent for SSH keys and their passwords management</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ssh: RSA密钥和SSH代理，用于SSH密钥及其密码管理</h1>
<blockquote>原文：<a href="https://itnext.io/ssh-rsa-keys-and-ssh-agent-for-ssh-keys-and-their-passwords-management-61c68001f54b?source=collection_archive---------3-----------------------#2019-12-01">https://itnext.io/ssh-rsa-keys-and-ssh-agent-for-ssh-keys-and-their-passwords-management-61c68001f54b?source=collection_archive---------3-----------------------#2019-12-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/b36c576a88ddd8dfeff43b74a96dcf73.png" data-original-src="https://miro.medium.com/v2/resize:fit:260/format:webp/0*YuRvXYw74sohTYan.jpg"/></div></figure><p id="b517" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在对Nextcloud客户端进行<code class="fe ks kt ku kv b">keyring</code>配置的过程中(参见<a class="ae kw" href="https://rtfm.co.ua/en/linux-the-nextcloud-client-qtkeychain-and-the-the-name-org-freedesktop-secrets-was-not-provided-by-any-service-files-error/" rel="noopener ugc nofollow" target="_blank">Linux:next cloud客户端、qtkeychain和“org.freedesktop.secrets”名称未被任何人提供。服务文件”错误【T4邮报】——我决定清理我的SSH密钥中的混乱，因为我有很多这样的密钥，有时认证变得很痛苦。</a></p><p id="abac" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">一般来说，为了使这个更简单，可以使用系统级存储，比如<code class="fe ks kt ku kv b">gnome-keyring</code>或KeeyPassXC，但是我们将在下一篇文章中讨论它们。</p><p id="29d7" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">今天，让我们讨论一下<code class="fe ks kt ku kv b">ssh-agent</code>，以及如何使用它来管理密码保护的RSA密钥，以便在没有这样的后端的情况下进行SSH验证。</p><p id="fee9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">下面的例子是在一个Arch Linux系统上执行的，还做了一些额外的测试。</p><ul class=""><li id="7b9a" class="kx ky iq jw b jx jy kb kc kf kz kj la kn lb kr lc ld le lf bi translated"><a class="ae kw" href="https://rtfm.co.ua/en/ssh-rsa-keys-and-ssh-agent-for-ssh-keys-and-their-passwords-management/#ssh-agent" rel="noopener ugc nofollow" target="_blank"> ssh-agent </a></li><li id="77ff" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr lc ld le lf bi translated"><a class="ae kw" href="https://rtfm.co.ua/en/ssh-rsa-keys-and-ssh-agent-for-ssh-keys-and-their-passwords-management/#Running_the_agent" rel="noopener ugc nofollow" target="_blank">运行代理</a></li><li id="fa8b" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr lc ld le lf bi translated"><a class="ae kw" href="https://rtfm.co.ua/en/ssh-rsa-keys-and-ssh-agent-for-ssh-keys-and-their-passwords-management/#Examples" rel="noopener ugc nofollow" target="_blank">例题</a></li><li id="a644" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr lc ld le lf bi translated"><a class="ae kw" href="https://rtfm.co.ua/en/ssh-rsa-keys-and-ssh-agent-for-ssh-keys-and-their-passwords-management/#A_key_generation" rel="noopener ugc nofollow" target="_blank">密钥生成</a></li><li id="808b" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr lc ld le lf bi translated"><a class="ae kw" href="https://rtfm.co.ua/en/ssh-rsa-keys-and-ssh-agent-for-ssh-keys-and-their-passwords-management/#Checking_SSH-keys_password" rel="noopener ugc nofollow" target="_blank">检查SSH-key的密码</a></li><li id="5613" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr lc ld le lf bi translated"><a class="ae kw" href="https://rtfm.co.ua/en/ssh-rsa-keys-and-ssh-agent-for-ssh-keys-and-their-passwords-management/#ssh-copy-id_copy_a_key_to_a_remote_host" rel="noopener ugc nofollow" target="_blank"> ssh-copy-id —将密钥复制到远程主机</a></li><li id="5006" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr lc ld le lf bi translated"><a class="ae kw" href="https://rtfm.co.ua/en/ssh-rsa-keys-and-ssh-agent-for-ssh-keys-and-their-passwords-management/#ssh-add" rel="noopener ugc nofollow" target="_blank"> ssh-add </a></li><li id="8014" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr lc ld le lf bi translated"><a class="ae kw" href="https://rtfm.co.ua/en/ssh-rsa-keys-and-ssh-agent-for-ssh-keys-and-their-passwords-management/#Could_not_open_a_connection_to_your_authentication_agent" rel="noopener ugc nofollow" target="_blank">无法打开到您的身份验证代理的连接</a></li><li id="1d1e" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr lc ld le lf bi translated"><a class="ae kw" href="https://rtfm.co.ua/en/ssh-rsa-keys-and-ssh-agent-for-ssh-keys-and-their-passwords-management/#Adding_a_key" rel="noopener ugc nofollow" target="_blank">添加一个键</a></li><li id="c7fa" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr lc ld le lf bi translated"><a class="ae kw" href="https://rtfm.co.ua/en/ssh-rsa-keys-and-ssh-agent-for-ssh-keys-and-their-passwords-management/#Checking_keys" rel="noopener ugc nofollow" target="_blank">检查按键</a></li><li id="8231" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr lc ld le lf bi translated"><a class="ae kw" href="https://rtfm.co.ua/en/ssh-rsa-keys-and-ssh-agent-for-ssh-keys-and-their-passwords-management/#Deleting_keys" rel="noopener ugc nofollow" target="_blank">删除键</a></li><li id="9726" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr lc ld le lf bi translated"><a class="ae kw" href="https://rtfm.co.ua/en/ssh-rsa-keys-and-ssh-agent-for-ssh-keys-and-their-passwords-management/#Automatically_adding_keys_to_ssh-agent" rel="noopener ugc nofollow" target="_blank">自动向ssh-agent添加密钥</a></li><li id="d9ff" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr lc ld le lf bi translated"><a class="ae kw" href="https://rtfm.co.ua/en/ssh-rsa-keys-and-ssh-agent-for-ssh-keys-and-their-passwords-management/#Running_ssh-agent_with_multitype_terminals" rel="noopener ugc nofollow" target="_blank">使用多种类型的终端运行ssh-agent】</a></li><li id="3d41" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr lc ld le lf bi translated"><a class="ae kw" href="https://rtfm.co.ua/en/ssh-rsa-keys-and-ssh-agent-for-ssh-keys-and-their-passwords-management/#bashrc" rel="noopener ugc nofollow" target="_blank"> ~/。bashrc </a></li><li id="edd1" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr lc ld le lf bi translated"><a class="ae kw" href="https://rtfm.co.ua/en/ssh-rsa-keys-and-ssh-agent-for-ssh-keys-and-their-passwords-management/#systemd" rel="noopener ugc nofollow" target="_blank">系统d </a></li><li id="b7af" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr lc ld le lf bi translated"><a class="ae kw" href="https://rtfm.co.ua/en/ssh-rsa-keys-and-ssh-agent-for-ssh-keys-and-their-passwords-management/#xinitrc" rel="noopener ugc nofollow" target="_blank"> ~/。xinitrc </a></li></ul><h1 id="4147" class="ll lm iq bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated"><code class="fe ks kt ku kv b">ssh-agent</code></h1><p id="5ef6" class="pw-post-body-paragraph ju jv iq jw b jx mj jz ka kb mk kd ke kf ml kh ki kj mm kl km kn mn kp kq kr ij bi translated"><a class="ae kw" href="https://rtfm.co.ua/goto/https://www.ssh.com/ssh/agent" rel="noopener ugc nofollow" target="_blank"> ssh-agent </a>旨在管理用户的<a class="ae kw" href="https://rtfm.co.ua/goto/https://www.ssh.com/ssh/identity-key" rel="noopener ugc nofollow" target="_blank"> SSH密钥</a>及其密码，以避免每次您需要使用密钥登录远程主机进行身份验证时都必须输入密钥密码。</p><h2 id="cbc1" class="mo lm iq bd ln mp mq dn lr mr ms dp lv kf mt mu lz kj mv mw md kn mx my mh mz bi translated">运行代理</h2><p id="5d60" class="pw-post-body-paragraph ju jv iq jw b jx mj jz ka kb mk kd ke kf ml kh ki kj mm kl km kn mn kp kq kr ij bi translated">只需执行:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="0cdf" class="mo lm iq kv b gy ni nj l nk nl">$ ssh-agent<br/>SSH_AUTH_SOCK=/tmp/ssh-dMDE5mED77tM/agent.436347; export SSH_AUTH_SOCK;<br/>SSH_AGENT_PID=436348; export SSH_AGENT_PID;<br/>echo Agent pid 436348;</span></pre><p id="2b5f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">对于客户机，比如ssh-client或git，它们需要知道以下变量:</p><ul class=""><li id="0a9d" class="kx ky iq jw b jx jy kb kc kf kz kj la kn lb kr lc ld le lf bi translated"><code class="fe ks kt ku kv b">SSH_AGENT_PID</code> : a启动了<code class="fe ks kt ku kv b">ssh-agent</code> PID，例如用<code class="fe ks kt ku kv b">ssh-agent -k</code>将其杀死</li><li id="95d0" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr lc ld le lf bi translated"><code class="fe ks kt ku kv b">SSH_AUTH_SOCK</code>:UNIX套接字文件的路径，该文件将用于从客户端(<code class="fe ks kt ku kv b">ssh</code>、<code class="fe ks kt ku kv b">git</code>等)与<code class="fe ks kt ku kv b">ssh-agent</code>通信</li></ul><p id="1c96" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">要运行代理而不显示这些变量并应用它们，请执行以下操作:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="c8e0" class="mo lm iq kv b gy ni nj l nk nl">$ eval $(ssh-agent) &gt; /dev/null</span></pre><p id="4768" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">运行代理的方式有很多种，我们将仔细看看<a class="ae kw" href="https://rtfm.co.ua/en/ssh-rsa-keys-and-ssh-agent-for-ssh-keys-and-their-passwords-management/#Running_ssh-agent_with_multitype_terminals" rel="noopener ugc nofollow" target="_blank"> <em class="nm">运行ssh-agent with multi type terminals</em></a>部分。</p><h2 id="a966" class="mo lm iq bd ln mp mq dn lr mr ms dp lv kf mt mu lz kj mv mw md kn mx my mh mz bi translated">例子</h2><p id="4fcb" class="pw-post-body-paragraph ju jv iq jw b jx mj jz ka kb mk kd ke kf ml kh ki kj mm kl km kn mn kp kq kr ij bi translated">下面我们来概述一下<code class="fe ks kt ku kv b">ssh-agent</code>的基本用法。</p><p id="f236" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">密钥生成</strong></p><p id="e95e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">创建新密钥:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="ad6d" class="mo lm iq kv b gy ni nj l nk nl">$ ssh-keygen -t rsa -b 2048 -f /home/setevoy/.ssh/test-key -C “Testing key” -P pass<br/>Generating public/private rsa key pair.<br/>Your identification has been saved in /home/setevoy/.ssh/test-key.<br/>Your public key has been saved in /home/setevoy/.ssh/test-key.pub.<br/>...</span></pre><p id="a477" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">此处的选项:</p><ul class=""><li id="67c8" class="kx ky iq jw b jx jy kb kc kf kz kj la kn lb kr lc ld le lf bi translated"><code class="fe ks kt ku kv b">-b</code>:密钥的长度，以比特为单位(RSA默认为3072)</li><li id="73d5" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr lc ld le lf bi translated"><code class="fe ks kt ku kv b">-f</code>:密钥文件的路径(默认为<code class="fe ks kt ku kv b">~/.ssh/id_rsa</code>)</li><li id="bead" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr lc ld le lf bi translated"><code class="fe ks kt ku kv b">-C</code>:密钥的注释(默认为<em class="nm">用户名@主机名</em>)</li><li id="d70a" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr lc ld le lf bi translated"><code class="fe ks kt ku kv b">-P</code>:钥匙的密码</li></ul><p id="858b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">检查SSH-key的密码</strong></p><p id="1a05" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">要检查钥匙的密码，您可以使用<code class="fe ks kt ku kv b">ssh-keygen</code>和<code class="fe ks kt ku kv b">-y</code>来显示有关该钥匙的信息，这将要求您输入该钥匙的密码:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="21cb" class="mo lm iq kv b gy ni nj l nk nl">$ ssh-keygen -y -f /home/setevoy/.ssh/test-key<br/>Enter passphrase:<br/>ssh-rsa AAAAB***gud2vedL/V Testing key</span></pre><p id="7cd0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><code class="fe ks kt ku kv b"><strong class="jw ir">ssh-copy-id</strong></code> <strong class="jw ir"> -将密钥复制到远程主机</strong></p><p id="84f0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">您可以通过从<em class="nm"> test-key.pub </em>文件中获取密钥的公共部分来手动复制密钥:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="40e6" class="mo lm iq kv b gy ni nj l nk nl">$ cat .ssh/test-key.pub<br/>ssh-rsa AAAAB***gud2vedL/V Testing key</span></pre><p id="0029" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">并将其添加到目标主机上的~/ <code class="fe ks kt ku kv b">.ssh/authorized_keys</code>。</p><p id="8de0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">另一种方法，也是推荐的方法，是使用一个<code class="fe ks kt ku kv b">ssh-copy-id</code>实用程序，它可以做同样的事情，但也可以监视文件夹/文件权限——这是基于SSH RSA的认证过程中最常见的问题:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="3054" class="mo lm iq kv b gy ni nj l nk nl">$ ssh-copy-id -i /home/setevoy/.ssh/test-key setevoy@rtfm.co.ua<br/>/usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: “/home/setevoy/.ssh/test-key.pub”<br/>/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed<br/>/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed — if you are prompted now it is to install the new keys</span><span id="afe5" class="mo lm iq kv b gy nn nj l nk nl">setevoy@rtfm.co.ua’s password:</span><span id="9036" class="mo lm iq kv b gy nn nj l nk nl">Number of key(s) added: 1<br/>Now try logging into the machine, with: “ssh ‘setevoy@rtfm.co.ua’”<br/>and check to make sure that only the key(s) you wanted were added.</span></pre><p id="a9a6" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在，您可以使用以下密钥登录:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="36e9" class="mo lm iq kv b gy ni nj l nk nl">$ ssh setevoy@rtfm.co.ua -i .ssh/test-key<br/>Enter passphrase for key ‘.ssh/test-key’:<br/>Linux rtfm-do-production 4.9.0–8-amd64 #1 SMP Debian 4.9.144–3.1 (2019–02–19) x86_64<br/>…<br/>setevoy@rtfm-do-production:~$</span></pre><h1 id="91eb" class="ll lm iq bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated"><code class="fe ks kt ku kv b">ssh-add</code></h1><p id="5a22" class="pw-post-body-paragraph ju jv iq jw b jx mj jz ka kb mk kd ke kf ml kh ki kj mm kl km kn mn kp kq kr ij bi translated">好了，现在我们有一个密码保护的RSA密钥用于SSH验证。</p><p id="bef3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">但是在每次SSH登录期间，你必须一次又一次地输入密码，当使用大量的连接和密钥时，这将是一个真正的痛苦。</p><p id="412e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">为了避免这个问题——使用<code class="fe ks kt ku kv b">ssh-add</code>给<code class="fe ks kt ku kv b">ssh-agent</code>添加一个键。</p><p id="8c11" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">检查它是否正在运行:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="c395" class="mo lm iq kv b gy ni nj l nk nl">$ ps aux | grep ssh-agent<br/>setevoy 1322 0.0 0.0 5796 456 ? Ss Nov30 0:00 ssh-agent -s<br/>setevoy 1324 0.0 0.0 5796 2160 ? Ss Nov30 0:00 ssh-agent -s<br/>…</span></pre><h2 id="132d" class="mo lm iq bd ln mp mq dn lr mr ms dp lv kf mt mu lz kj mv mw md kn mx my mh mz bi translated">无法打开到您的身份验证代理的连接</h2><p id="557d" class="pw-post-body-paragraph ju jv iq jw b jx mj jz ka kb mk kd ke kf ml kh ki kj mm kl km kn mn kp kq kr ij bi translated">最常见的问题是当<code class="fe ks kt ku kv b">ssh-add</code>无法连接到代理时:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="d37b" class="mo lm iq kv b gy ni nj l nk nl">$ ssh-add<br/>Could not open a connection to your authentication agent.</span></pre><p id="baa3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">首先—检查其PID是否是从<code class="fe ks kt ku kv b">SSH_AGENT_PID</code>设置的，或者通过检查<code class="fe ks kt ku kv b">$SSH_AUTH_SOCK</code>变量，因为所有通信都是通过该变量指定的套接字文件进行的:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="aa9a" class="mo lm iq kv b gy ni nj l nk nl">$ test -z $SSH_AGENT_PID; echo $?<br/>0</span></pre><p id="9ad3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这里是空的，因为<code class="fe ks kt ku kv b">ssh-agent</code>是在另一个终端实例中启动的(我们很快会谈到如何处理它)。</p><p id="da09" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在—终止所有已经运行的实例:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="6c80" class="mo lm iq kv b gy ni nj l nk nl">$ killall ssh-agent</span></pre><p id="4182" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">并重新运行代理实例:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="5de9" class="mo lm iq kv b gy ni nj l nk nl">$ eval $(ssh-agent -s)<br/>Agent pid 452333</span></pre><p id="7884" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们使用<code class="fe ks kt ku kv b">-s</code>选项，因为并不是每个人都会在<code class="fe ks kt ku kv b">bash</code> shell和<code class="fe ks kt ku kv b">eval</code>中执行上述步骤，以应用代理输出的字符串(<code class="fe ks kt ku kv b">export SSH_AUTH_SOCK</code>)。</p><p id="59a2" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">再次检查:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="0ba7" class="mo lm iq kv b gy ni nj l nk nl">$ test -z $SSH_AGENT_PID; echo $?<br/>1</span></pre><p id="857c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">和<code class="fe ks kt ku kv b">ssh-add</code>:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="4ca4" class="mo lm iq kv b gy ni nj l nk nl">$ ssh-add -l<br/>The agent has no identities.</span></pre><p id="2e8b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这里都搞定了。</p><h2 id="d9f0" class="mo lm iq bd ln mp mq dn lr mr ms dp lv kf mt mu lz kj mv mw md kn mx my mh mz bi translated">添加密钥</h2><p id="df11" class="pw-post-body-paragraph ju jv iq jw b jx mj jz ka kb mk kd ke kf ml kh ki kj mm kl km kn mn kp kq kr ij bi translated">运行:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="fd72" class="mo lm iq kv b gy ni nj l nk nl">$ ssh-add /home/setevoy/.ssh/test-key<br/>Enter passphrase for /home/setevoy/.ssh/test-key:<br/>Identity added: /home/setevoy/.ssh/test-key (Testing key)</span></pre><h2 id="00cf" class="mo lm iq bd ln mp mq dn lr mr ms dp lv kf mt mu lz kj mv mw md kn mx my mh mz bi translated">检查钥匙</h2><p id="8373" class="pw-post-body-paragraph ju jv iq jw b jx mj jz ka kb mk kd ke kf ml kh ki kj mm kl km kn mn kp kq kr ij bi translated">使用<code class="fe ks kt ku kv b">-l</code>选项检查哪些键已经加载到代理实例中:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="8c5f" class="mo lm iq kv b gy ni nj l nk nl">$ ssh-add -l<br/>2048 SHA256:pTyrGtk1hnNHB6b8ilp5jRe1+K4KrLHg50yUGilApLY Testing key (RSA)</span></pre><h2 id="80da" class="mo lm iq bd ln mp mq dn lr mr ms dp lv kf mt mu lz kj mv mw md kn mx my mh mz bi translated">正在删除密钥</h2><p id="9b6e" class="pw-post-body-paragraph ju jv iq jw b jx mj jz ka kb mk kd ke kf ml kh ki kj mm kl km kn mn kp kq kr ij bi translated">使用<code class="fe ks kt ku kv b">-d</code>删除一个键:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="5bc1" class="mo lm iq kv b gy ni nj l nk nl">$ ssh-add -d .ssh/test-key<br/>Identity removed: .ssh/test-key (Testing key)</span></pre><p id="26f7" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">和<code class="fe ks kt ku kv b">-D</code>一次删除所有键:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="b361" class="mo lm iq kv b gy ni nj l nk nl">$ ssh-add -D<br/>All identities removed.</span></pre><h2 id="bce5" class="mo lm iq bd ln mp mq dn lr mr ms dp lv kf mt mu lz kj mv mw md kn mx my mh mz bi translated">自动将钥匙添加到<code class="fe ks kt ku kv b">ssh-agent</code></h2><p id="2ead" class="pw-post-body-paragraph ju jv iq jw b jx mj jz ka kb mk kd ke kf ml kh ki kj mm kl km kn mn kp kq kr ij bi translated">为了使<code class="fe ks kt ku kv b">ssh</code>(例如<code class="fe ks kt ku kv b">git</code>)在不需要手动运行<code class="fe ks kt ku kv b">ssh-add</code>的情况下将用过的钥匙添加到<code class="fe ks kt ku kv b">ssh-agent</code>中，您可以将<code class="fe ks kt ku kv b"><a class="ae kw" href="https://rtfm.co.ua/goto/https://man.openbsd.org/ssh_config#AddKeysToAgent" rel="noopener ugc nofollow" target="_blank">AddKeysToAgent</a> </code>参数添加到в <code class="fe ks kt ku kv b">~/.ssh/config</code>中，并指定以下选项之一- <em class="nm">是</em>、<em class="nm">确认</em>或<em class="nm">询问</em>(参见<code class="fe ks kt ku kv b"><a class="ae kw" href="https://rtfm.co.ua/goto/https://man.openbsd.org/ssh-add.1#DISPLAY_and_SSH_ASKPASS" rel="noopener ugc nofollow" target="_blank">SSH_ASKPASS</a></code>):</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="b480" class="mo lm iq kv b gy ni nj l nk nl">$ head -1 .ssh/config<br/>AddKeysToAgent yes</span></pre><p id="7ce5" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们检查一下——目前没有添加任何内容:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="e551" class="mo lm iq kv b gy ni nj l nk nl">$ ssh-add -l<br/>The agent has no identities.</span></pre><p id="dbd9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">建立连接，输入密钥密码:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="c31d" class="mo lm iq kv b gy ni nj l nk nl">$ ssh -i .ssh/test-key setevoy@rtfm.co.ua<br/>Enter passphrase for key ‘.ssh/test-key’:<br/>…<br/>setevoy@rtfm-do-production:~$</span></pre><p id="115e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">断开连接，并立即检查代理中的密钥:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="97b7" class="mo lm iq kv b gy ni nj l nk nl">setevoy@rtfm-do-production:~$ logout<br/>Connection to rtfm.co.ua closed.<br/>$ ssh-add -l<br/>2048 SHA256:pTyrGtk1hnNHB6b8ilp5jRe1+K4KrLHg50yUGilApLY Testing key (RSA)</span></pre><p id="f56e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在下一次连接时—<code class="fe ks kt ku kv b">ssh</code>客户端将使用来自代理的密钥，并且不会再次要求您输入密钥的密码:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="585d" class="mo lm iq kv b gy ni nj l nk nl">$ ssh -i .ssh/test-key setevoy@rtfm.co.ua<br/>…<br/>setevoy@rtfm-do-production:~$</span></pre><h1 id="42be" class="ll lm iq bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">使用多种端子运行<code class="fe ks kt ku kv b">ssh-agent</code></h1><p id="523e" class="pw-post-body-paragraph ju jv iq jw b jx mj jz ka kb mk kd ke kf ml kh ki kj mm kl km kn mn kp kq kr ij bi translated">另一个大问题是当bash会话很少时该怎么办，例如在各种终端的选项卡中，因为它没有设置<code class="fe ks kt ku kv b">$SSH_AUTH_SOCK</code>变量，ssh客户端将无法与已经运行的<code class="fe ks kt ku kv b">ssh-agent</code>实例通信。</p><p id="9446" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">也就是说，当您在新终端中运行<code class="fe ks kt ku kv b">ssh-add</code>时，您将会看到已经提到的“<em class="nm">无法打开到您的身份验证代理</em>的连接”错误:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="8377" class="mo lm iq kv b gy ni nj l nk nl">$ ssh-add -l<br/>Could not open a connection to your authentication agent.</span></pre><p id="c84a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">有几种方法可以在新的bash会话初始化期间初始化变量，例如，您可以将以下内容添加到您的<code class="fe ks kt ku kv b">~/.bashrc</code>中:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="f338" class="mo lm iq kv b gy ni nj l nk nl">if [ -z "$SSH_AUTH_SOCK" ] ; then <br/>  eval `ssh-agent -s` <br/>  ssh-add /home/setevoy/.ssh/test-key <br/>fi</span></pre><p id="373c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">但是在这种情况下，每个bash-sessions都有自己的ssh-agent在运行，这不是问题，但是可能不是您想要的。</p><p id="bd0d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">另一种方法是将以下代码添加到<code class="fe ks kt ku kv b">~/.bashrc</code>:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="539f" class="mo lm iq kv b gy ni nj l nk nl">ssh-add -l &amp;&gt;/dev/null <br/>if [ "$?" == 2 ]; then<br/>  test -r ~/.ssh-agent-env &amp;&amp; eval "$(&lt;~/.ssh-agent-env)" &gt;/dev/null </span><span id="59ea" class="mo lm iq kv b gy nn nj l nk nl">  ssh-add -l &amp;&gt;/dev/null<br/>  if [ "$?" == 2 ]; then<br/>    (umask 066; ssh-agent &gt; ~/.ssh-agent-env)<br/>    eval "$(&lt;~/.ssh-agent-env)" &gt;/dev/null<br/>    ssh-add /home/setevoy/.ssh/test-key <br/>  fi<br/>fi</span></pre><p id="614f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">此处(参见<code class="fe ks kt ku kv b">ssh-agent</code> <a class="ae kw" href="https://linux.die.net/man/1/ssh-add" rel="noopener ugc nofollow" target="_blank">文档</a>中的响应代码):</p><ol class=""><li id="bdfc" class="kx ky iq jw b jx jy kb kc kf kz kj la kn lb kr no ld le lf bi translated">尝试执行<code class="fe ks kt ku kv b">ssh-add -l</code>，并将输出重定向到<code class="fe ks kt ku kv b">/dev/null</code></li><li id="16f3" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr no ld le lf bi translated">检查上一个命令返回的代码:</li><li id="ece2" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr no ld le lf bi translated">检查<code class="fe ks kt ku kv b">~/.ssh-agent-env</code>是否存在并可供读取，读取并将其输出传递给<code class="fe ks kt ku kv b">bash</code></li><li id="ffff" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr no ld le lf bi translated">重试<code class="fe ks kt ku kv b">ssh-add -l</code></li><li id="419b" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr no ld le lf bi translated">如果代码仍然为2:</li><li id="09f3" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr no ld le lf bi translated">创建具有660权限的<code class="fe ks kt ku kv b">~/.ssh-agent-env</code>文件(仅针对所有者读写)</li><li id="afcd" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr no ld le lf bi translated">启动<code class="fe ks kt ku kv b">ssh-agent</code>并将其输出重定向到<code class="fe ks kt ku kv b">.ssh-agent-env</code>文件中</li><li id="6ec2" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr no ld le lf bi translated">读取<code class="fe ks kt ku kv b">.ssh-agent-env</code>内容，并通过管道将其传递给<code class="fe ks kt ku kv b">bash</code></li><li id="5768" class="kx ky iq jw b jx lg kb lh kf li kj lj kn lk kr no ld le lf bi translated">运行<code class="fe ks kt ku kv b">ssh-add /home/setevoy/.ssh/test-key</code></li></ol><p id="0fb0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这是一个不错的解决方案，通过这种方式，我们所有的会议将使用相同的代理，尽管一些指南建议为个人和工作使用不同的代理。</p><h2 id="c3c6" class="mo lm iq bd ln mp mq dn lr mr ms dp lv kf mt mu lz kj mv mw md kn mx my mh mz bi translated"><code class="fe ks kt ku kv b">systemd</code></h2><p id="f3dc" class="pw-post-body-paragraph ju jv iq jw b jx mj jz ka kb mk kd ke kf ml kh ki kj mm kl km kn mn kp kq kr ij bi translated">另一个解决方案是通过添加一个单元文件并作为<code class="fe ks kt ku kv b">systemd</code>服务运行<code class="fe ks kt ku kv b">ssh-agent</code>来创建一个专用的<code class="fe ks kt ku kv b">systemd</code>服务，详情请参见。</p><p id="b2d4" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果尚未添加，则创建一个目录:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="6ff1" class="mo lm iq kv b gy ni nj l nk nl">$ mkdir -p .config/systemd/user/</span></pre><p id="de60" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">并在那里创建一个<code class="fe ks kt ku kv b">~/.config/systemd/user/ssh-agent.service</code>文件:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="47f6" class="mo lm iq kv b gy ni nj l nk nl">[Unit]<br/>Description=SSH key agent </span><span id="df87" class="mo lm iq kv b gy nn nj l nk nl">[Service]<br/>Type=simple<br/>Environment=SSH_AUTH_SOCK=%t/ssh-agent.socket<br/>ExecStart=/usr/bin/ssh-agent -D -a $SSH_AUTH_SOCK </span><span id="3884" class="mo lm iq kv b gy nn nj l nk nl">[Install] WantedBy=default.target</span></pre><p id="d2ba" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">接下来，theWiki讲述了变量的<code class="fe ks kt ku kv b">~/.pam_environment</code>文件，但在我目前的情况下，我有Openbox，通常通过<code class="fe ks kt ku kv b">.config/openbox/autostart</code>文件设置变量:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="dd09" class="mo lm iq kv b gy ni nj l nk nl">$ head -2 .config/openbox/autostart<br/># ssh-agent.service<br/>SSH_AUTH_SOCK=”${XDG_RUNTIME_DIR}/ssh-agent.socket”</span></pre><p id="5c19" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="nm">顺便回忆一下关于BASH中设置默认值的事情—</em><a class="ae kw" href="https://rtfm.co.ua/bash-peremennye-peredacha-znachenij-po-umolchaniyu-var-defaultvalue-zamena-znachenij-varalternatevalue-i-soobshhenij-varmessage/" rel="noopener ugc nofollow" target="_blank"><em class="nm">bash:переменные—передачазначенийпо-умолчанию$ { var:-default value }、заменазначений—$ { var:+alternate value }исообщений—$ { var:？</em></a><em class="nm">【Rus】</em></p><p id="c497" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在，停止所有代理运行:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="298c" class="mo lm iq kv b gy ni nj l nk nl">$ killall ssh-agent</span></pre><p id="8282" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">检查<code class="fe ks kt ku kv b"><a class="ae kw" href="https://rtfm.co.ua/goto/https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html" rel="noopener ugc nofollow" target="_blank">$XDG_RUNTIME_DIR</a></code>变量值:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="9f33" class="mo lm iq kv b gy ni nj l nk nl">$ echo $XDG_RUNTIME_DIR<br/>/run/user/1000</span></pre><p id="4fb8" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在，手动设置<code class="fe ks kt ku kv b">$SSH_AUTH_SOCK</code>变量:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="c712" class="mo lm iq kv b gy ni nj l nk nl">$ SSH_AUTH_SOCK=”${XDG_RUNTIME_DIR}/ssh-agent.socket”</span></pre><p id="d446" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">并通过<code class="fe ks kt ku kv b">systemctl --user</code>运行代理:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="30f6" class="mo lm iq kv b gy ni nj l nk nl">$ systemctl — user start ssh-agent</span></pre><p id="2f6c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">检查一下:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="bfa7" class="mo lm iq kv b gy ni nj l nk nl">$ systemctl — user status ssh-agent<br/>● ssh-agent.service — SSH key agent<br/>Loaded: loaded (/home/setevoy/.config/systemd/user/ssh-agent.service; disabled; vendor preset: enabled)<br/>Active: active (running) since Sun 2019–12–01 09:15:18 EET; 2s ago<br/>Main PID: 497687 (ssh-agent)<br/>CGroup: /user.slice/user-1000.slice/user@1000.service/ssh-agent.service<br/>└─497687 /usr/bin/ssh-agent -D -a /run/user/1000/ssh-agent.socket<br/>Dec 01 09:15:18 setevoy-arch-pc systemd[670]: Started SSH key agent.<br/>Dec 01 09:15:19 setevoy-arch-pc ssh-agent[497687]: SSH_AUTH_SOCK=/run/user/1000/ssh-agent.socket; export SSH_AUTH_SOCK;<br/>Dec 01 09:15:19 setevoy-arch-pc ssh-agent[497687]: echo Agent pid 497687;</span></pre><p id="9157" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">套接字的变量:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="1f49" class="mo lm iq kv b gy ni nj l nk nl">$ echo $SSH_AUTH_SOCK<br/>/run/user/1000/ssh-agent.socket</span></pre><p id="da47" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">并尝试<code class="fe ks kt ku kv b">ssh-add</code>:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="20b6" class="mo lm iq kv b gy ni nj l nk nl">$ ssh-add -l<br/>The agent has no identities.</span></pre><p id="7cc3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">“管用！”</p><p id="43b6" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">您现在可以添加到autostart:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="10dd" class="mo lm iq kv b gy ni nj l nk nl">$ systemctl — user enable ssh-agent<br/>Created symlink /home/setevoy/.config/systemd/user/default.target.wants/ssh-agent.service → /home/setevoy/.config/systemd/user/ssh-agent.service.</span></pre><h2 id="ea8f" class="mo lm iq bd ln mp mq dn lr mr ms dp lv kf mt mu lz kj mv mw md kn mx my mh mz bi translated"><code class="fe ks kt ku kv b">~/.xinitrc</code></h2><p id="0766" class="pw-post-body-paragraph ju jv iq jw b jx mj jz ka kb mk kd ke kf ml kh ki kj mm kl km kn mn kp kq kr ij bi translated">你可以使用的另一种方法是将代理的开始添加到<code class="fe ks kt ku kv b">~/.xinitrc</code>。</p><p id="4420" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在这种情况下，当您将执行<code class="fe ks kt ku kv b">startx</code>(例如，在我的情况下，当我没有任何登录管理器，并且通过在控制台中输入<code class="fe ks kt ku kv b">startx</code>手动启动X.Org)时，首先，将启动一个代理和一个Openbox会话，参见<a class="ae kw" href="https://rtfm.co.ua/goto/https://wiki.archlinux.org/index.php/Xinit" rel="noopener ugc nofollow" target="_blank">文档</a>:</p><pre class="na nb nc nd gt ne kv nf ng aw nh bi"><span id="41c4" class="mo lm iq kv b gy ni nj l nk nl">$ cat ~/.xinitrc<br/>eval $(ssh-agent) &amp;<br/>exec openbox-session</span></pre><p id="1f8a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">此外，正如在本文开始时已经提到的，键的后端还有其他实现，可以与<code class="fe ks kt ku kv b">ssh-agent</code>一起使用，或者代替【】——一种从ssh客户端到<code class="fe ks kt ku kv b">ssh-agent</code>实例的“包装器”或“代理”请求，或者完全代替ssh代理本身，并且自己存储键和密码，但是我们将在后面的文章中讨论它们。).</p></div><div class="ab cl np nq hu nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="ij ik il im in"><p id="ab91" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="nm">原载于2019年12月1日</em><a class="ae kw" href="https://rtfm.co.ua/en/ssh-rsa-keys-and-ssh-agent-for-ssh-keys-and-their-passwords-management/" rel="noopener ugc nofollow" target="_blank"><em class="nm">https://rtfm.co.ua</em></a><em class="nm">。</em></p></div></div>    
</body>
</html>