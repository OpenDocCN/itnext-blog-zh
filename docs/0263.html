<html>
<head>
<title>Build a Progressive Web App using React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React构建渐进式Web应用程序</h1>
<blockquote>原文：<a href="https://itnext.io/build-a-progressive-web-app-using-react-d9784251e07e?source=collection_archive---------4-----------------------#2018-02-01">https://itnext.io/build-a-progressive-web-app-using-react-d9784251e07e?source=collection_archive---------4-----------------------#2018-02-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/46936071069f23996a4037348e5f95d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XpoxJqEJoKbYq1dKnx3JMQ.jpeg"/></div></figure><p id="bf0e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">使用React的渐进式Web应用程序！</strong>当我读到这里时，我想，为什么不自己造一个呢。如果你熟悉React，并对它的生态系统有所了解，比如Create-React-App utility，那么这个指南就是为你准备的。</p><p id="7ead" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果你一天中至少有三分之一的时间是在互联网上度过的，那么你就会到处看到或读到进步的网络应用。<em class="ks">没有？</em> PWA是专注于性能的web应用程序，特别适合移动设备。它们可以保存在设备的主屏幕上，并且往往由原生应用程序的感觉和外观组成。我在移动设备上使用的第一个PWA应用程序是几个月前发布的Lite Twitter。如果你想试试的话，下面是链接:<a class="ae kt" href="https://lite.twitter.com/" rel="noopener ugc nofollow" target="_blank">https://lite.twitter.com/</a>。现在他们甚至支持推送通知和离线支持。</p><h1 id="4637" class="ku kv iq bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">入门指南</h1><p id="f1e1" class="pw-post-body-paragraph ju jv iq jw b jx ls jz ka kb lt kd ke kf lu kh ki kj lv kl km kn lw kp kq kr ij bi translated">让我们使用<em class="ks">Create-React-App</em>generator创建一个基本的React app，这是一个官方搭建工具，用于生成由<em class="ks">脸书</em>发布和维护的<em class="ks"> Reactjs </em> <em class="ks"> App </em>。要安装它，我们将使用我们的命令行工具:</p><figure class="lx ly lz ma gt jr"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="b7fd" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">安装过程完成后，转到所需的目录并创建一个空项目。从命令行界面运行:</p><figure class="lx ly lz ma gt jr"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="7861" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">继续，看看目录结构和<strong class="jw ir"> package.json </strong>文件。看看这个搭建工具有哪些依赖关系。</p><p id="6220" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">CRA或Create React App是我目前用来用React构建应用程序和原型的最省事的工具之一。它在幕后运行着所有那些巴别塔、网络包之类的东西。如果您想了解更多信息或想要定制流程，请阅读此处的<a class="ae kt" href="https://github.com/facebookincubator/create-react-app/blob/master/packages/react-scripts/template/README.md#npm-run-eject" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="0b4c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我希望，不管时间表如何，您的package.json文件看起来像这样:</p><figure class="lx ly lz ma gt jr"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="8bf1" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们还需要一个依赖项，那就是React-Router:回到您的终端:</p><figure class="lx ly lz ma gt jr"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="e137" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在，您可以尝试从终端运行应用程序，看看是否一切正常:</p><figure class="lx ly lz ma gt jr"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="ff37" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">样板代码如下所示:</p><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi md"><img src="../Images/542009b15b1c3aad3f58f034a6d41f9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xXq22kL5K08_ksMi.png"/></div></div></figure><h1 id="c1aa" class="ku kv iq bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">构建PWA应用程序</h1><p id="3b66" class="pw-post-body-paragraph ju jv iq jw b jx ls jz ka kb lt kd ke kf lu kh ki kj lv kl km kn lw kp kq kr ij bi translated">因为本指南的唯一目的是让您熟悉构建过程，所以我不打算开发一个复杂的应用程序。为了简单和您的宝贵时间，我们将构建一个简单的应用程序。转到<code class="fe mi mj mk ml b">src/App.js</code>文件，进行如下修改:</p><figure class="lx ly lz ma gt jr"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="b4c9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在上面我们包含了两个使用<code class="fe mi mj mk ml b">react-router-dom.</code>的页面，我们进一步定义了<code class="fe mi mj mk ml b">src/components/</code>目录中关于组件的<strong class="jw ir"> Home </strong>和<strong class="jw ir">。使用这种方法并确保react组件简短易读始终是最佳实践。</strong></p><p id="1952" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">对于<code class="fe mi mj mk ml b">Home.js</code>:</p><figure class="lx ly lz ma gt jr"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="d772" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">对于<code class="fe mi mj mk ml b">About.js</code>:</p><figure class="lx ly lz ma gt jr"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="2f51" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在看看是否一切正常，从你的终端窗口运行<code class="fe mi mj mk ml b">npm start</code>，你会得到类似的结果:</p><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/642783209bcb52a9d0466101ffa99c1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:798/format:webp/0*SE5B6rftfSPJcp1r.png"/></div></figure><p id="65a8" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果点击<strong class="jw ir">关于</strong>按钮/超链接，<code class="fe mi mj mk ml b">react-router-dom</code>将呈现<strong class="jw ir">关于</strong>页面，而不改变在<code class="fe mi mj mk ml b">App.js</code>中定义的公共标题部分。这是一个最简单的单页应用程序。</p><p id="83cb" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们的主要工作还没有完成。让我们将这个简单的React应用程序转换成PWA。</p><h1 id="ca4a" class="ku kv iq bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">安装灯塔</h1><p id="b22b" class="pw-post-body-paragraph ju jv iq jw b jx ls jz ka kb lt kd ke kf lu kh ki kj lv kl km kn lw kp kq kr ij bi translated">Lighthouse是谷歌的一款免费工具，可以根据他们的PWA清单评估你的应用。从<a class="ae kt" href="https://developers.google.com/web/tools/lighthouse/" rel="noopener ugc nofollow" target="_blank">这里</a>添加到你的Chrome浏览器。作为一个扩展安装后，我们可以通过点击右上角的灯塔来开始审核过程，在那里你的浏览器中可能存在其他扩展。点击图标，然后检查灯塔弹出窗口中显示的URL，确保您在右边的选项卡上。此外，确保从终端创建-反应-应用程序的开发服务器正在运行。否则Lighthouse将无法生成报告。Lighthouse生成的报告基于一个清单，可在此处查看<a class="ae kt" href="https://developers.google.com/web/progressive-web-apps/checklist" rel="noopener ugc nofollow" target="_blank"/>。</p><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi mn"><img src="../Images/717bc258668851dcaaca2a0f5f78e945.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8SEBZU5Y9QznNSIQ.png"/></div></div></figure><p id="a02b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">点击生成报告按钮。该过程完成后，将会打开一个新窗口，Lighthouse在其中生成了一个报告。从表面上看，它并不讨灯塔的喜欢，也不像一个进步的网络应用。</p><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi mo"><img src="../Images/bfdaa9903d7a684054a610fa03d28891.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Ook8Izy0ZTGkSlUh.png"/></div></div></figure><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi mp"><img src="../Images/9ddd9cf7aa00b991e21a23ba90b0b3d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*7UtyUGjJlxP-hfXX.png"/></div></div></figure><p id="a50a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们将逐一解决这些问题。</p><h1 id="b958" class="ku kv iq bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">设置服务人员</h1><p id="35f7" class="pw-post-body-paragraph ju jv iq jw b jx ls jz ka kb lt kd ke kf lu kh ki kj lv kl km kn lw kp kq kr ij bi translated">让我们先设置一个服务人员。这是灯塔审计的第一件事。你会问，什么是服务人员？嗯，它是一个代理服务器，位于web应用程序、浏览器和网络之间。我们可以用它来让React应用离线工作(还记得我们之前讨论的那一点吗？渐进式的网络应用注重性能)。你肯定能在谷歌的网络基础文档上读到关于它的细节。</p><p id="0315" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这是一个分两步走的过程。首先我们将创建一个<code class="fe mi mj mk ml b">service-worker.js</code>文件(服务工作者，毕竟是JavaScript代码)，然后在我们的<code class="fe mi mj mk ml b">index.html</code>中注册该工作者。</p><p id="0db9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在我们app strucutre的<code class="fe mi mj mk ml b">public</code>目录下，创建一个文件<code class="fe mi mj mk ml b">service-worker.js</code>。我将使用Addy Osmani的服务人员配置，并且我将推荐您这样做，至少对于这个配置。你可以在这里找到完整的细节。要继续，请确保在<code class="fe mi mj mk ml b">service-worker.js</code>文件中添加以下代码:</p><figure class="lx ly lz ma gt jr"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="5494" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们的下一步是通过加载我们刚刚在<code class="fe mi mj mk ml b">service-worker.js</code>中编写的服务工作者来注册我们的服务工作者。在<code class="fe mi mj mk ml b">index.html</code>中的结束<code class="fe mi mj mk ml b">&lt;/body&gt;</code>标签前添加此内容。</p><figure class="lx ly lz ma gt jr"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="10a2" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">确保通过从终端运行<code class="fe mi mj mk ml b">npm run start</code>来重启dev服务器。如果你打开Chrome的DevTools &gt;控制台，你一定会看到这一行:</p><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi mq"><img src="../Images/10312fbe4ab7cefbc51548a42befabb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*oejtKDY7k0TG1mX5.png"/></div></div></figure><p id="905d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果我们再次运行灯塔审计流程，我希望我们会得到一个更好的结果。</p><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi mr"><img src="../Images/e76c19a40c718ad5711bf6b31bab5409.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Iwa1NpJVNqoBNisC.png"/></div></div></figure><p id="4804" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">是的，您可以清楚地将上述内容与我们之前的审计进行比较。它已经改进了，我们之前的第一期现在已经通过了审核。现在让我们移动并添加一些增强。</p><h1 id="8bd0" class="ku kv iq bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">添加渐进式增强</h1><p id="273b" class="pw-post-body-paragraph ju jv iq jw b jx ls jz ka kb lt kd ke kf lu kh ki kj lv kl km kn lw kp kq kr ij bi translated">渐进式改进是改善应用程序/网站的方法，因为它无需加载任何JavaScript即可工作。现在，我们希望在React应用程序初始化DOM之前显示一条加载消息和一些CSS或无(您的选择)。让我们将所需的CSS和加载消息添加到我们的<code class="fe mi mj mk ml b">index.html</code>中。为了提高性能，我还将我们所有的CSS(即包含在<code class="fe mi mj mk ml b">App.css</code>和<code class="fe mi mj mk ml b">index.css</code>中的CSS)添加到我们的<code class="fe mi mj mk ml b">index.html</code>文件中。</p><figure class="lx ly lz ma gt jr"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="04ea" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们现在可以从我们的项目目录中删除<code class="fe mi mj mk ml b">App.css</code>和<code class="fe mi mj mk ml b">index.css</code>文件，并从<code class="fe mi mj mk ml b">App.js</code>和<code class="fe mi mj mk ml b">index.js</code>中删除它们的导入引用。</p><p id="e7ba" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">上述过程将我们的应用程序的性能提高了10个点。尽管总体PWA分数是相同的:</p><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi ms"><img src="../Images/17641df3b796c1bdfd9a9553cbdc2c31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5DNjvcDw_2dyFeqr.png"/></div></div></figure><h1 id="01d5" class="ku kv iq bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">将它添加到设备的主屏幕</h1><p id="aadd" class="pw-post-body-paragraph ju jv iq jw b jx ls jz ka kb lt kd ke kf lu kh ki kj lv kl km kn lw kp kq kr ij bi translated">create-react-app的创建者对我们非常好，他们已经在<code class="fe mi mj mk ml b">public</code>目录中包含了一个<code class="fe mi mj mk ml b">manifest.json</code>文件，并做了一些基本的配置。我们目前增加的这个功能允许用户在他们设备的主屏幕上保存我们的PWA网站页面。在未来，如果用户希望打开应用程序，他们可以通过使用PWA作为一个正常的应用程序，它将在手机的默认浏览器中打开。</p><p id="35da" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">为此，我们将编辑<code class="fe mi mj mk ml b">public/manifest.json</code>:</p><figure class="lx ly lz ma gt jr"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="da48" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们稍微讨论一下这个文件。<code class="fe mi mj mk ml b">short_name</code>是将出现在设备主屏幕上的应用程序名称。<code class="fe mi mj mk ml b">name</code>将出现在启动画面上。<code class="fe mi mj mk ml b">icons</code>很重要，是我们应用程序的主要图标，将出现在主屏幕上的<code class="fe mi mj mk ml b">short_name</code>旁边，就像一个本地移动应用程序一样。图标的大小必须是<code class="fe mi mj mk ml b">192x192</code>。我没有尝试过其他图像格式，但是你可以。<a class="ae kt" href="https://i.imgur.com/RaN7Qey.png" rel="noopener ugc nofollow" target="_blank">这里的</a>是我们正在制作的这个演练的虚拟徽标的链接。将其添加到<code class="fe mi mj mk ml b">public</code>目录中。512设置用于闪屏，是审计过程中的一项要求。所以这里有<a class="ae kt" href="https://i.imgur.com/TmblrhM.png" rel="noopener ugc nofollow" target="_blank">链接</a>来下载。</p><p id="c23c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">接下来是<code class="fe mi mj mk ml b">start_url</code>，通知应用程序从主屏幕启动。在它下面还有三个属性。<code class="fe mi mj mk ml b">display</code>是应用程序的外观，我让<code class="fe mi mj mk ml b">theme_color</code>和<code class="fe mi mj mk ml b">background_color</code>相同，因为我想让应用程序匹配标题背景。</p><p id="ad06" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们现在将解决之前审计中的一个问题。我们只剩下一些问题需要解决。</p><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi mt"><img src="../Images/a12c2204daf87fd5cdd591cccbe24d07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*52QWSRvTQbPulbsP.png"/></div></div></figure><h1 id="e8fd" class="ku kv iq bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">部署</h1><p id="842e" class="pw-post-body-paragraph ju jv iq jw b jx ls jz ka kb lt kd ke kf lu kh ki kj lv kl km kn lw kp kq kr ij bi translated">首先，让我们打开缓存。在<code class="fe mi mj mk ml b">service-worker.js</code>中，编辑第一行并将现有布尔值更改为<code class="fe mi mj mk ml b">true</code>。</p><figure class="lx ly lz ma gt jr"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="8851" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我将在这里使用<a class="ae kt" href="https://firebase.google.com/" rel="noopener ugc nofollow" target="_blank"> Firebase </a>进行部署，因为它很容易与一个web/移动应用程序连接，用于IMO原型开发。首先，在Firebase控制台中，创建一个新项目<code class="fe mi mj mk ml b">pwa-example-1</code>。现在，安装我们部署PWA应用程序所需的firebase工具。我们将把这个依赖项作为一个全局模块来安装。</p><figure class="lx ly lz ma gt jr"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="563e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在，CLI工具将提示一些问题。为了清楚起见，我添加了一系列图像，请确保在提示时选择相同的答案。</p><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/697bb2e2bf7ab4a35d7107694e75637f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/0*ttYQKO2zGZ2y9tPw.png"/></div></figure><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/9cf364f47664dcfc4fc16dcf3d7fd040.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/0*VDnBEn27Y1CwrgIK.png"/></div></figure><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/a35f64991bc3def1c3a045b445e20a92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/0*3_GpBVHfkuuB80KX.png"/></div></figure><p id="fe8d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">最后一次按回车键，您将得到一条成功消息和在您的项目目录中生成的两个firebase配置文件:<code class="fe mi mj mk ml b">.firebaserec</code>和<code class="fe mi mj mk ml b">firebase.json</code>。</p><p id="d497" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在，是时候部署我们的应用程序了。从终端运行:</p><figure class="lx ly lz ma gt jr"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="def8" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">上面的命令告诉create-react-app将我们的项目构建到build/文件夹中，然后Firebase CLI工具将部署该文件夹。Firebase CLI工具会返回一个URL，保存后在Chrome中打开，然后最后一次运行我们的Lighthouse审计。托管url将类似于以下内容:</p><figure class="lx ly lz ma gt jr"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="3e81" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这解决了我们关于在HTTP上使用https的主要问题。这样，我们所有的问题都解决了，我们的PWA应用程序得到了100/100分。</p><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi mx"><img src="../Images/e95dd8423566676c7f0d7c8c5cc008bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6yUY_04x-HofVmwz.png"/></div></div></figure><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi my"><img src="../Images/a706fa0457930404ae22a7d5c05d32f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uPXMbvXc7jcmv6wI.png"/></div></div></figure><p id="6386" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我觉得我们第一次申请的分数不错。我们的应用程序的上述性能指标可以改进，但有几种方法可以做到这一点。我不会深入讨论这个问题，因为这个应用程序的范围是为了学习。</p></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><p id="138a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">你可以在<a class="ae kt" href="https://github.com/amandeepmittal/react-pwa-app" rel="noopener ugc nofollow" target="_blank">Github库</a>找到完整的代码。继续克隆回购，不要忘记在项目目录中进行一次<code class="fe mi mj mk ml b">npm install</code>，然后尝试前面提到的PWA技巧和技术。</p><p id="508b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">说👋对我来说<a class="ae kt" href="https://twitter.com/amanhimself" rel="noopener ugc nofollow" target="_blank">推特</a>。</p><blockquote class="ng"><p id="19fd" class="nh ni iq bd nj nk nl nm nn no np kr dk translated"><a class="ae kt" href="https://www.zeolearn.com/magazine/an-introduction-to-progressive-web-apps-pwa" rel="noopener ugc nofollow" target="_blank">这篇文章最初发表在Zeolearn博客上</a></p></blockquote></div></div>    
</body>
</html>