<html>
<head>
<title>3D Touch Peek &amp; Pop in Swift. With Kanye.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Swift中的3D触摸Peek &amp; Pop。和坎耶一起。</h1>
<blockquote>原文：<a href="https://itnext.io/3d-touch-peek-pop-in-swift-with-kanye-86dad6fb1bcd?source=collection_archive---------3-----------------------#2019-02-05">https://itnext.io/3d-touch-peek-pop-in-swift-with-kanye-86dad6fb1bcd?source=collection_archive---------3-----------------------#2019-02-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><h1 id="eae9" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">今天，您将轻松学习没有故事板的3D TOUCH PEEK &amp; POP。5个快速步骤。</h1><p id="ceb9" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">首先，确保你正在构建一个真实的设备，它不能在模拟器中工作。如果你以某种方式让原力触摸在模拟器中工作，告诉我，因为你是神。</p><p id="9fb7" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated"><a class="ae lo" href="https://youtu.be/MLPHGz_Rh8Q" rel="noopener ugc nofollow" target="_blank">如果你喜欢视频格式，我在YouTube上为这篇文章制作了一个视频，我在这里把它分解成几个步骤。</a></p><h2 id="9b45" class="lp jo iq bd jp lq lr dn jt ls lt dp jx kw lu lv kb la lw lx kf le ly lz kj ma bi translated">第一步——不要使用故事板，而是把它放在AppDelegate.swift中。✅</h2><p id="3a3d" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">将这四行代码放在didFinishLaunchingWithOptions中。嘭，我们设置好了，本文的其余部分将变得非常清楚。开始编码吧。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi mb"><img src="../Images/f66eeff9301ee250b39cef516a46f85a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y50CAzMLePF0JKSRvxmwQg.png"/></div></div><figcaption class="mn mo gj gh gi mp mq bd b be z dk translated">app delegate . swift did finishlaunchingwithoptions方法</figcaption></figure><h2 id="6de6" class="lp jo iq bd jp lq lr dn jt ls lt dp jx kw lu lv kb la lw lx kf le ly lz kj ma bi translated">步骤2-注册预览✅</h2><p id="1b9f" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">为了实现Peek &amp; Pop，我们需要调用一个名为<strong class="kn ir"><em class="mr">registerforpreview的方法。</em> </strong> <a class="ae lo" href="https://developer.apple.com/documentation/uikit/peek_and_pop/implementing_peek_and_pop" rel="noopener ugc nofollow" target="_blank">直接引用Apple Docs文章实现Peek和Pop: </a></p><blockquote class="ms mt mu"><p id="c70a" class="kl km mr kn b ko lj kq kr ks lk ku kv mv ll ky kz mw lm lc ld mx ln lg lh li ij bi translated">调用<code class="fe my mz na nb b"><a class="ae lo" href="https://developer.apple.com/documentation/uikit/uiviewcontroller/1621463-registerforpreviewing" rel="noopener ugc nofollow" target="_blank">registerForPreviewing(with:sourceView:)</a></code>来注册一个实现<code class="fe my mz na nb b"><a class="ae lo" href="https://developer.apple.com/documentation/uikit/uiviewcontrollerpreviewingdelegate" rel="noopener ugc nofollow" target="_blank">UIViewControllerPreviewingDelegate</a></code>协议的类，然后传入一个响应3D触摸的视图。</p></blockquote><p id="19bd" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">这个方法将允许我们在ViewController中使用或者说注册一个要呈现的视图，这个view controller实现了来自UIViewControllerPreviewingDelegate的Peek和Pop所需的方法。</p><p id="0d49" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">如果这没有意义，只要继续阅读并写下我写的代码，运行几次后，它最终会在你的脑海中出现。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/d4ccab1eb4b101435eea8ad2014d3d00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*Ws9jFUiiTPRDJKH8RJSUQQ.png"/></div><figcaption class="mn mo gj gh gi mp mq bd b be z dk translated">把这个放到你的视图控制器里。</figcaption></figure><h2 id="3ce6" class="lp jo iq bd jp lq lr dn jt ls lt dp jx kw lu lv kb la lw lx kf le ly lz kj ma bi translated">步骤3-利用所需的UIViewControllerPreviewingDelegate协议方法。✅</h2><p id="90ae" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">让您的ViewController采用UIViewControllerPreviewingDelegate Swift协议，如下所示。你会得到一个严重的错误。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi nd"><img src="../Images/3c7fa18e1b966e79fd82f305c7cf314b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2EHmQ1RGUedbbBd4V3J71g.png"/></div></div><figcaption class="mn mo gj gh gi mp mq bd b be z dk translated">专业人员/代表</figcaption></figure><p id="0e4d" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated"><strong class="kn ir">步骤3继续——实施所需的方法</strong></p><p id="56e6" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">一旦你做到了这一点，通过实现所需的方法来遵守协议。您可以通过单击红圈或手动输入来完成此操作。无论哪种方式，只要把这些方法放到你的代码中就行了。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/0fcbfd33d8ca47637533d858951a7939.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*KnceA7n6Z0jD6_5xjxvrkQ.gif"/></div></figure><h2 id="7875" class="lp jo iq bd jp lq lr dn jt ls lt dp jx kw lu lv kb la lw lx kf le ly lz kj ma bi translated">步骤4——创建一个视图控制器来呈现。和坎耶一起。✅</h2><p id="fdc0" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">现在我们必须创建一个可以呈现的UIViewController类。顺便把Kanye的UIImageView也放进去。我用了一张Kanye的照片，我把它命名为“iloveit ”,我把这个文件放在了我的项目的xcassets文件夹中。<strong class="kn ir"> <em class="mr">没有图像也可以做到这一点，你只需要一个单独的UIViewController来呈现。</em>T3】</strong></p><div class="mc md me mf gt ab cb"><figure class="ne mg nf ng nh ni nj paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><img src="../Images/54eeace73fb2ee7eef8a93d5e1ed4e34.png" data-original-src="https://miro.medium.com/v2/resize:fit:798/format:webp/1*h9g2YV6noUP5O6etj62yjQ.jpeg"/></div></figure><figure class="ne mg nk ng nh ni nj paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><img src="../Images/05387d0dd10fc8c2f0e203ac0eed988a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*1GZEoOoz4TvXL1qp1INXmg.png"/></div><figcaption class="mn mo gj gh gi mp mq bd b be z dk nl di nm nn translated">要呈现的ViewController。</figcaption></figure></div><h2 id="6d6e" class="lp jo iq bd jp lq lr dn jt ls lt dp jx kw lu lv kb la lw lx kf le ly lz kj ma bi translated">步骤5——使用我们刚刚实现的协议方法呈现视图控制器。✅</h2><p id="d7bc" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">将下面的代码放入这些方法中。我们在这里所做的就是告诉UIViewControllerPreviewingDelegate，正在显示什么视图控制器，以及在屏幕上的什么位置，在本例中，是第一个视图控制器视图的中心，或者是我们之前注册的预览源视图。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi no"><img src="../Images/041f0884bd763716d576216a30949047.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X3HOH0HRH4mxmExsyfpJ9Q.png"/></div></div></figure><h1 id="0162" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">这是所有的乡亲。😱</h1><p id="c743" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">继续运行您的代码，它应该工作。<a class="ae lo" href="https://youtu.be/MLPHGz_Rh8Q" rel="noopener ugc nofollow" target="_blank">如果它不起作用，看看我在YouTube上用同样的代码制作的视频</a>。我将带你通过视频格式完成这项工作，视频格式的解释可能比本文对你更有帮助。</p><p id="3e89" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">如果你想第一个听说有限的免费课程优惠券(每月10张)，请随时订阅我的<a class="ae lo" href="https://www.maxcodes.io" rel="noopener ugc nofollow" target="_blank"> <strong class="kn ir">每周开发内容电子邮件列表。</strong>T9】</a></p><h1 id="2afe" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated"><strong class="ak"> Outro。🔥</strong></h1><p id="0fa8" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">非常感谢你的支持。一如既往，每一次浏览，阅读，鼓掌，推特和YouTube订阅，都帮助我发布这种内容，并帮助世界各地的其他开发者掌握他们的技术，就像我掌握我的一样。</p><p id="33ee" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">继续吧，把你的要求发推特给我，我会把一个中型故事和YouTube视频放在一起。</p><p id="c752" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">再次感谢，下次再见！</p></div></div>    
</body>
</html>