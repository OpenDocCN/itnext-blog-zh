<html>
<head>
<title>Use this technique to automatically update your Kubernetes app configuration</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用这种技术来自动更新您的Kubernetes应用程序配置</h1>
<blockquote>原文：<a href="https://itnext.io/how-to-automatically-update-your-kubernetes-app-configuration-d750e0ca79ab?source=collection_archive---------0-----------------------#2019-10-05">https://itnext.io/how-to-automatically-update-your-kubernetes-app-configuration-d750e0ca79ab?source=collection_archive---------0-----------------------#2019-10-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="68cf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kl" rel="noopener ugc nofollow" target="_blank" href="/learn-how-to-configure-your-kubernetes-apps-using-the-configmap-object-d8f30f99abeb">“实践指南:使用ConfigMap对象配置您的Kubernetes应用程序”</a>博文介绍了如何使用Kubernetes中的<code class="fe km kn ko kp b">ConfigMap</code>对象将配置与代码分离。</p><p id="2a74" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通过<code class="fe km kn ko kp b">ConfigMap</code>在应用程序中使用环境变量(<code class="fe km kn ko kp b">Pod</code>或<code class="fe km kn ko kp b">Deployment</code>)带来了一个挑战——万一<code class="fe km kn ko kp b">ConfigMap</code>被更新，你的应用程序将如何获取新的值？显然，您可以删除并重新创建<code class="fe km kn ko kp b">Deployment</code>，但这在大多数情况下是不可取的。</p><p id="92a0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一种可能的方法是将<code class="fe km kn ko kp b">ConfigMap</code>内容作为<code class="fe km kn ko kp b">Volume</code>加载。在这种情况下，Kubernetes确保如果<code class="fe km kn ko kp b">ConfigMap</code>被更新，那么<code class="fe km kn ko kp b">Volume</code>的内容(包含配置值的文件)被刷新。</p><blockquote class="kq kr ks"><p id="3195" class="jn jo kt jp b jq jr js jt ju jv jw jx ku jz ka kb kv kd ke kf kw kh ki kj kk ij bi translated">我非常希望得到您的反馈和建议！不要害羞，就 <a class="ae kl" href="https://twitter.com/abhi_tweeter" rel="noopener ugc nofollow" target="_blank"> <em class="iq">推文</em> </a> <em class="iq">或者掉个评论。</em></p></blockquote><p id="994e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们用一个实际的例子来学习这个吧！</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi kx"><img src="../Images/dc426662b9b2ac16e02cba0002aad0fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*RpokdUifeqMo_0BF.gif"/></div></figure><p id="8c2c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该代码可在<a class="ae kl" href="https://github.com/abhirockzz/kubernetes-configmap-auto-update" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上获得</p><h1 id="a581" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">先决条件</h1><p id="7cc9" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">首先，您需要一个Kubernetes集群。这可能是一个简单的使用<code class="fe km kn ko kp b"><a class="ae kl" href="https://kubernetes.io/docs/setup/learning-environment/minikube/" rel="noopener ugc nofollow" target="_blank">minikube</a></code>、<code class="fe km kn ko kp b"><a class="ae kl" href="https://blog.docker.com/2018/01/docker-mac-kubernetes/" rel="noopener ugc nofollow" target="_blank">Docker for Mac</a></code>等的单节点本地集群。或者来自<a class="ae kl" href="https://docs.microsoft.com/azure/aks/?WT.mc_id=medium-blog-abhishgu" rel="noopener ugc nofollow" target="_blank">Azure</a><a class="ae kl" href="https://cloud.google.com/kubernetes-engine/" rel="noopener ugc nofollow" target="_blank">Google</a><a class="ae kl" href="https://aws.amazon.com/eks/" rel="noopener ugc nofollow" target="_blank">AWS</a>等的托管Kubernetes服务。</p><p id="1f84" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要访问您的Kubernetes集群，您将需要<code class="fe km kn ko kp b"><a class="ae kl" href="https://kubernetes.io/docs/reference/kubectl/overview/" rel="noopener ugc nofollow" target="_blank">kubectl</a></code>，它很容易安装。</p><blockquote class="kq kr ks"><p id="ae50" class="jn jo kt jp b jq jr js jt ju jv jw jx ku jz ka kb kv kd ke kf kw kh ki kj kk ij bi translated"><em class="iq">本例使用</em> <code class="fe km kn ko kp b"><a class="ae kl" href="https://kubernetes.io/docs/setup/learning-environment/minikube/" rel="noopener ugc nofollow" target="_blank"><em class="iq">minikube</em></a></code></p></blockquote><h1 id="d810" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">部署应用程序</h1><p id="fc26" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">先造出<code class="fe km kn ko kp b">ConfigMap</code>。</p><pre class="ky kz la lb gt mi kp mj mk aw ml bi"><span id="bde8" class="mm lg iq kp b gy mn mo l mp mq">kubectl apply -f <a class="ae kl" href="https://raw.githubusercontent.com/abhirockzz/kubernetes-configmap-auto-update/master/config.yaml" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/abhirockzz/kubernetes-configmap-auto-update/master/config.yaml</a></span></pre><blockquote class="kq kr ks"><p id="a2b9" class="jn jo kt jp b jq jr js jt ju jv jw jx ku jz ka kb kv kd ke kf kw kh ki kj kk ij bi translated"><em class="iq">为了简单起见，直接从</em><a class="ae kl" href="https://github.com/abhirockzz/kubernetes-configmap-auto-update" rel="noopener ugc nofollow" target="_blank"><em class="iq">GitHub repo</em></a><em class="iq">中引用YAML文件，但是您也可以将文件下载到您的本地机器上，并以同样的方式使用它。</em></p></blockquote><p id="7f8f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面是<code class="fe km kn ko kp b">ConfigMap</code>的内容——它包含三个键值对，作为<code class="fe km kn ko kp b">data</code>部分的一部分</p><pre class="ky kz la lb gt mi kp mj mk aw ml bi"><span id="b14a" class="mm lg iq kp b gy mn mo l mp mq">apiVersion: v1<br/>kind: ConfigMap<br/>metadata:<br/>  name: app-config<br/>  namespace: default<br/>data:<br/>  foo: bar<br/>  hello: world<br/>  john: doe</span></pre><p id="6f74" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">创建使用<code class="fe km kn ko kp b">ConfigMap</code>的应用程序(作为Kubernetes <code class="fe km kn ko kp b">Deployment</code></p><pre class="ky kz la lb gt mi kp mj mk aw ml bi"><span id="17ba" class="mm lg iq kp b gy mn mo l mp mq">kubectl apply -f <a class="ae kl" href="https://raw.githubusercontent.com/abhirockzz/kubernetes-configmap-auto-update/master/app.yaml" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/abhirockzz/kubernetes-configmap-auto-update/master/app.yaml</a></span></pre><p id="414b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们看看<code class="fe km kn ko kp b">Pod</code>规格部分:</p><pre class="ky kz la lb gt mi kp mj mk aw ml bi"><span id="1be8" class="mm lg iq kp b gy mn mo l mp mq">spec:<br/>  containers:<br/>  - name: configmaptestapp<br/>    image: abhirockzz/configmaptestapp<br/>    volumeMounts:<br/>    - mountPath: /config<br/>      name: appconfig-data-volume<br/>    ports:<br/>    - containerPort: 8080<br/>  volumes:<br/>    - name: appconfig-data-volume<br/>      configMap:<br/>        name: app-config</span></pre><p id="3c09" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如<a class="ae kl" rel="noopener ugc nofollow" target="_blank" href="/learn-how-to-configure-your-kubernetes-apps-using-the-configmap-object-d8f30f99abeb">之前的一篇文章</a>中所解释的那样，<code class="fe km kn ko kp b">ConfigMap</code>中的每个键都作为一个文件添加到规范中指定的目录中，即<code class="fe km kn ko kp b">spec.containers.volumeMount.mountPath</code>，其值就是文件的内容。</p><p id="44a7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通过使用这种方法，您可以受益于这样一个事实，即如果<code class="fe km kn ko kp b">ConfigMap</code>发生变化，卷会自动更新。</p><h2 id="1e5d" class="mm lg iq bd lh mr ms dn ll mt mu dp lp jy mv mw lt kc mx my lx kg mz na mb nb bi translated">快速说明该应用程序的功能</h2><p id="5115" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">这是一个简单的<a class="ae kl" href="https://raw.githubusercontent.com/abhirockzz/kubernetes-configmap-auto-update/master/src/main.go" rel="noopener ugc nofollow" target="_blank"> Go应用程序</a>，它:</p><ul class=""><li id="2bc4" class="nc nd iq jp b jq jr ju jv jy ne kc nf kg ng kk nh ni nj nk bi translated">加载内存中的配置数据<code class="fe km kn ko kp b">map</code></li><li id="de6f" class="nc nd iq jp b jq nl ju nm jy nn kc no kg np kk nh ni nj nk bi translated">并允许您使用REST端点获取特定配置键的值</li></ul><p id="7346" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">两个休息终点:</p><ul class=""><li id="ad53" class="nc nd iq jp b jq jr ju jv jy ne kc nf kg ng kk nh ni nj nk bi translated"><code class="fe km kn ko kp b">/readconfig</code>:获取配置键的值</li><li id="45f4" class="nc nd iq jp b jq nl ju nm jy nn kc no kg np kk nh ni nj nk bi translated"><code class="fe km kn ko kp b">/reload</code>:强制app从磁盘读取(刷新)配置数据到内存</li></ul><p id="d507" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了访问REST端点，让我们使用一个<code class="fe km kn ko kp b">NodePort</code>服务来公开应用程序，并获取随机端口值</p><pre class="ky kz la lb gt mi kp mj mk aw ml bi"><span id="2730" class="mm lg iq kp b gy mn mo l mp mq">kubectl expose deployment configmaptestapp --type=NodePort<br/>PORT=$(kubectl get service configmaptestapp -o=jsonpath='{.spec.ports[0].nodePort}')</span></pre><blockquote class="kq kr ks"><p id="b4f3" class="jn jo kt jp b jq jr js jt ju jv jw jx ku jz ka kb kv kd ke kf kw kh ki kj kk ij bi translated"><em class="iq">不知道什么是</em> <code class="fe km kn ko kp b"><em class="iq">NodePort</em></code> <em class="iq">服务也不用担心。目前，jsut认为这是一种在Kubernetes </em>中提供应用程序访问的方式</p></blockquote><h1 id="f8c7" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">测试一下…</h1><p id="1c9b" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">获取您的<code class="fe km kn ko kp b">minikube</code>主机的IP地址</p><pre class="ky kz la lb gt mi kp mj mk aw ml bi"><span id="e212" class="mm lg iq kp b gy mn mo l mp mq">MINIKUBE_IP=$(minikube ip)</span></pre><p id="9a03" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">自省app的REST端点。在这种情况下，<code class="fe km kn ko kp b">foo</code>和<code class="fe km kn ko kp b">john</code>对应于配置密钥——它们只是目录<code class="fe km kn ko kp b">/config</code>中的文件</p><pre class="ky kz la lb gt mi kp mj mk aw ml bi"><span id="cb17" class="mm lg iq kp b gy mn mo l mp mq">curl http://$MINIKUBE_IP:$PORT/readconfig/foo<br/>//output - bar </span><span id="1c0e" class="mm lg iq kp b gy nq mo l mp mq">curl http://$MINIKUBE_IP:$PORT/readconfig/john<br/>//output - doe</span><span id="9cbf" class="mm lg iq kp b gy nq mo l mp mq">curl http://$MINIKUBE_IP:$PORT/readconfig/junk<br/>// output - Configuration 'junk' does not exist</span></pre><p id="6ea6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">可以直接自省<code class="fe km kn ko kp b">Pod</code>来(加倍)检查。从获得<code class="fe km kn ko kp b">Pod</code>名称开始</p><pre class="ky kz la lb gt mi kp mj mk aw ml bi"><span id="57a4" class="mm lg iq kp b gy mn mo l mp mq">POD_NAME=$(kubectl get pods -l=app=configmaptestapp -o=jsonpath='{.items[0].metadata.name}')</span></pre><p id="322e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">查看<code class="fe km kn ko kp b">/config</code>目录—列出所有文件(配置密钥)</p><pre class="ky kz la lb gt mi kp mj mk aw ml bi"><span id="3933" class="mm lg iq kp b gy mn mo l mp mq">kubectl exec $POD_NAME -- ls /config/</span><span id="a37c" class="mm lg iq kp b gy nq mo l mp mq">//output<br/>foo<br/>hello<br/>john</span></pre><p id="f1a7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">看特定的键</p><pre class="ky kz la lb gt mi kp mj mk aw ml bi"><span id="182f" class="mm lg iq kp b gy mn mo l mp mq">kubectl exec $POD_NAME -- cat /config/foo<br/>//output - bar</span><span id="650e" class="mm lg iq kp b gy nq mo l mp mq">kubectl exec $POD_NAME -- cat /config/john<br/>//output - bar</span><span id="ccda" class="mm lg iq kp b gy nq mo l mp mq">kubectl exec $POD_NAME -- cat /config/junk<br/>//output - cat: can't open '/config/junk': No such file or directory</span></pre><p id="8c5f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">好吧，这只是一个理智测试…</p><h1 id="a829" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">…自动更新怎么样？</h1><p id="735f" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">获取<code class="fe km kn ko kp b">config.yaml</code> ( <code class="fe km kn ko kp b">ConfigMap</code>)文件</p><pre class="ky kz la lb gt mi kp mj mk aw ml bi"><span id="6de1" class="mm lg iq kp b gy mn mo l mp mq">curl https://raw.githubusercontent.com/abhirockzz/kubernetes-configmap-auto-update/master/config.yaml -o config.yaml</span></pre><p id="5fec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">更改数值(例如将<code class="fe km kn ko kp b">foo</code>的数值更改为<code class="fe km kn ko kp b">baz</code>并将<code class="fe km kn ko kp b">hello</code>的数值更改为<code class="fe km kn ko kp b">universe</code>)并更新<code class="fe km kn ko kp b">ConfigMap</code></p><pre class="ky kz la lb gt mi kp mj mk aw ml bi"><span id="2a6a" class="mm lg iq kp b gy mn mo l mp mq">kubectl apply -f config.yaml</span></pre><p id="5ba1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您立即检查<code class="fe km kn ko kp b">Pod</code>文件系统，您将<strong class="jp ir">而不是</strong>看到更新。</p><pre class="ky kz la lb gt mi kp mj mk aw ml bi"><span id="c5d9" class="mm lg iq kp b gy mn mo l mp mq">kubectl exec $POD_NAME -- cat /config/foo</span></pre><p id="97ad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是怎么回事？？</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/5c5f31e7d917cccb9e17b5930a0f972a.png" data-original-src="https://miro.medium.com/v2/resize:fit:852/0*nx7vANPCNyQIXa7Y.gif"/></div></figure><p id="8b8b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一种最终一致的机制，其中包含延迟—原因是这由<code class="fe km kn ko kp b">kubelet</code>同步过程的频率和<code class="fe km kn ko kp b">kubelet</code> <code class="fe km kn ko kp b">ConfigMap</code>缓存的TTL(生存时间)来处理。几秒钟后，您应该会看到更新后的值。</p><p id="a2ba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们确认REST API也以同样的方式运行</p><pre class="ky kz la lb gt mi kp mj mk aw ml bi"><span id="cd6f" class="mm lg iq kp b gy mn mo l mp mq">curl <a class="ae kl" href="http://$MINIKUBE_IP:$PORT/readconfig/foo" rel="noopener ugc nofollow" target="_blank">http://$MINIKUBE_IP:$PORT/readconfig/foo</a></span></pre><p id="9a76" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为什么我们会看到旧值？这是因为在这个特定的例子中，我们的应用程序从文件系统中读取数据(在启动阶段)并将其保存在<code class="fe km kn ko kp b">map</code>中。它还通过REST端点提供了一个<code class="fe km kn ko kp b">reload</code>工具——调用它</p><pre class="ky kz la lb gt mi kp mj mk aw ml bi"><span id="2619" class="mm lg iq kp b gy mn mo l mp mq">curl <a class="ae kl" href="http://$MINIKUBE_IP:$PORT/reload/" rel="noopener ugc nofollow" target="_blank">http://$MINIKUBE_IP:$PORT/reload/</a></span></pre><p id="e963" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您现在应该会看到更新后的值</p><pre class="ky kz la lb gt mi kp mj mk aw ml bi"><span id="0f50" class="mm lg iq kp b gy mn mo l mp mq">curl http://$MINIKUBE_IP:$PORT/readconfig/hello<br/>//output - universe</span><span id="ab71" class="mm lg iq kp b gy nq mo l mp mq">curl http://$MINIKUBE_IP:$PORT/readconfig/foo<br/>//output - baz</span></pre><p id="d901" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">就是这样。您看到了我们的应用程序如何能够在不重启的情况下使用更新后的ConfigMap。</p><h1 id="11a7" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">结束语…</h1><p id="2d41" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">这种方法有其优点、缺点(和警告)</p><p id="96ed" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">优点</strong></p><p id="d696" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最大的好处是，你不需要重启你的应用程序(<code class="fe km kn ko kp b">Deployment</code>)，他们就可以开始使用<code class="fe km kn ko kp b">ConfigMap</code>中的更新数据。</p><p id="b46e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">缺点</strong></p><ul class=""><li id="fcfc" class="nc nd iq jp b jq jr ju jv jy ne kc nf kg ng kk nh ni nj nk bi translated">代码变化:如果你使用环境变量(大多数应用程序都是这样)，你需要更新你的代码来从文件系统中读取，你还需要提供一个重新加载的能力</li><li id="39e8" class="nc nd iq jp b jq nl ju nm jy nn kc no kg np kk nh ni nj nk bi translated">最终一致:你必须考虑实际的<code class="fe km kn ko kp b">ConfigMap</code>更新和批量数据同步之间的时间延迟——你的应用程序是否对此敏感是你需要考虑的事情。</li></ul><blockquote class="kq kr ks"><p id="7565" class="jn jo kt jp b jq jr js jt ju jv jw jx ku jz ka kb kv kd ke kf kw kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="iq">注意事项</em> </strong> <em class="iq"> —如果您将</em> <code class="fe km kn ko kp b"><em class="iq">ConfigMap</em></code> <em class="iq">作为</em> <code class="fe km kn ko kp b"><em class="iq">subPath</em></code> <em class="iq">卷</em>加载，此功能将不起作用</p></blockquote><p id="ed3a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个博客到此为止。如果你觉得这篇文章有用，请点赞并关注😃😃</p><blockquote class="kq kr ks"><p id="9e64" class="jn jo kt jp b jq jr js jt ju jv jw jx ku jz ka kb kv kd ke kf kw kh ki kj kk ij bi translated"><em class="iq">如果你有兴趣学习Kubernetes和Containers使用</em><a class="ae kl" href="https://azure.microsoft.com/services/kubernetes-service/?WT.mc_id=medium-blog-abhishgu" rel="noopener ugc nofollow" target="_blank"><em class="iq">Azure</em></a><em class="iq">，只需</em> <a class="ae kl" href="https://azure.microsoft.com/en-us/free/?WT.mc_id=medium-blog-abhishgu" rel="noopener ugc nofollow" target="_blank"> <em class="iq">创建一个</em> <strong class="jp ir"> <em class="iq">免费</em> </strong> <em class="iq">账号</em> </a> <em class="iq">就可以开始了！一个好的起点是使用文档中的</em> <a class="ae kl" href="https://docs.microsoft.com/azure/aks/?WT.mc_id=medium-blog-abhishgu" rel="noopener ugc nofollow" target="_blank"> <em class="iq">快速入门、教程和代码示例</em> </a> <em class="iq">来熟悉该服务。我也强烈推荐查看一下</em> <a class="ae kl" href="https://azure.microsoft.com/resources/kubernetes-learning-path/?WT.mc_id=medium-blog-abhishgu" rel="noopener ugc nofollow" target="_blank"> <em class="iq"> 50天Kubernetes学习路径</em> </a> <em class="iq">。高级用户可能希望参考</em> <a class="ae kl" href="https://docs.microsoft.com/azure/aks/best-practices?WT.mc_id=medium-blog-abhishgu" rel="noopener ugc nofollow" target="_blank"> <em class="iq"> Kubernetes最佳实践</em> </a> <em class="iq">或观看一些</em> <a class="ae kl" href="https://azure.microsoft.com/resources/videos/index/?services=kubernetes-service&amp;WT.mc_id=medium-blog-abhishgu" rel="noopener ugc nofollow" target="_blank"> <em class="iq">视频</em> </a> <em class="iq">以了解演示、主要功能和技术会议。</em></p></blockquote></div></div>    
</body>
</html>