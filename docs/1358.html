<html>
<head>
<title>Controlling .NET Core’s SDK Version</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">控制欲强。NET Core的SDK版本</h1>
<blockquote>原文：<a href="https://itnext.io/controlling-net-cores-sdk-version-5330c5472689?source=collection_archive---------2-----------------------#2018-09-23">https://itnext.io/controlling-net-cores-sdk-version-5330c5472689?source=collection_archive---------2-----------------------#2018-09-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="1999" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最近，我在构建一个示例应用程序时，注意到一个构建警告，说我正在使用。NET Core SDK。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/6be1f4db06a82c51d145e34194f255b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ipDoo4wd_dLRGbjd.png"/></div></div></figure><p id="4987" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可以从屏幕显示中看到，构建显示零警告和零错误，但是如果您阅读完整的构建文本，您会注意到以下消息。</p><blockquote class="kx ky kz"><p id="6c33" class="jn jo la jp b jq jr js jt ju jv jw jx lb jz ka kb lc kd ke kf ld kh ki kj kk ij bi translated">NETSDK1057:您正在使用的是。NET Core SDK。您可以通过当前项目中的global.json文件来定义SDK版本。更多信息请访问<a class="ae le" href="https://go.microsoft.com/fwlink/?linkid=869452" rel="noopener ugc nofollow" target="_blank">https://go.microsoft.com/fwlink/?linkid=869452</a>[C:\ SDK test \ SDK test . csproj]</p></blockquote><p id="d7b1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将教会我不要只看构建的最终结果。我没有明确安装我一直不小心使用的预览版，但我很确定它是和我安装的<a class="ae le" href="https://docs.microsoft.com/en-us/visualstudio/releasenotes/vs2017-Preview-relnotes" rel="noopener ugc nofollow" target="_blank"> Visual Studio预览版</a>一起安装的。</p><h2 id="15f8" class="lf lg iq bd lh li lj dn lk ll lm dp ln jy lo lp lq kc lr ls lt kg lu lv lw lx bi translated">为项目设置SDK版本</h2><p id="1a2c" class="pw-post-body-paragraph jn jo iq jp b jq ly js jt ju lz jw jx jy ma ka kb kc mb ke kf kg mc ki kj kk ij bi translated">点击上面消息中的链接，你将进入<a class="ae le" href="https://docs.microsoft.com/en-us/dotnet/core/tools/global-json" rel="noopener ugc nofollow" target="_blank"> global.json </a>的文档页面，在这里你可以指定你想要使用的SDK版本。使用下面的命令将给出您已经安装的SDK版本的列表。</p><pre class="km kn ko kp gt md me mf mg aw mh bi"><span id="111f" class="lf lg iq me b gy mi mj l mk ml">dotnet --list-sdks</span></pre><p id="055a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我的机器上，我安装了以下5个SDK。</p><pre class="km kn ko kp gt md me mf mg aw mh bi"><span id="7cdf" class="lf lg iq me b gy mi mj l mk ml">2.1.201 [C:\Program Files\dotnet\sdk]<br/>2.1.202 [C:\Program Files\dotnet\sdk]<br/>2.1.302 [C:\Program Files\dotnet\sdk]<br/>2.1.400-preview-009063 [C:\Program Files\dotnet\sdk]<br/>2.1.400-preview-009171 [C:\Program Files\dotnet\sdk]</span></pre><p id="dcaf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于这个项目，我真的想使用版本2.1.302，这是最新的非预览版本。使用以下内容。NET CLI命令将创建一个针对我们想要的版本的<strong class="jp ir"> global.json </strong>文件。</p><pre class="km kn ko kp gt md me mf mg aw mh bi"><span id="e205" class="lf lg iq me b gy mi mj l mk ml">dotnet new globaljson --sdk-version 2.1.302</span></pre><p id="9146" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你打开新的<strong class="jp ir"> global.json </strong>文件，你会看到下面的内容，其中SDK版本被设置为我们指定的值。如果您使用上述命令而没有指定版本，它将使用您计算机上安装的最新版本，包括预览版本。</p><pre class="km kn ko kp gt md me mf mg aw mh bi"><span id="a519" class="lf lg iq me b gy mi mj l mk ml">{<br/>  "sdk": {<br/>    "version": "2.1.302"<br/>  }<br/>}</span></pre><p id="8f68" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，如果您运行build命令，您将看到警告已经消失。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/9cff0d0d667556078d11083cf00ac837.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/0*TftnQzwgz8FF3tix.png"/></div></figure><h2 id="5759" class="lf lg iq bd lh li lj dn lk ll lm dp ln jy lo lp lq kc lr ls lt kg lu lv lw lx bi translated">global.json位置</h2><p id="7e58" class="pw-post-body-paragraph jn jo iq jp b jq ly js jt ju lz jw jx jy ma ka kb kc mb ke kf kg mc ki kj kk ij bi translated">到目前为止，我们一直在项目目录中使用<strong class="jp ir"> global.json </strong>,但这并不是其位置的唯一选项。例如，如果我将<strong class="jp ir"> global.json </strong>从<strong class="jp ir"> C:\sdkTest </strong>目录移动到<strong class="jp ir"> C:\ </strong>目录，那么any。C盘上的基于. NET Core的应用程序将使用在那个顶级<strong class="jp ir"> global.json </strong>中指定的版本，除非他们指定了他们自己的版本(或者在它到达C盘的根目录之前，在项目文件夹结构中有另一个<strong class="jp ir"> global.json </strong>)。</p><p id="2957" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">详情请参见正式文件中的<a class="ae le" href="https://docs.microsoft.com/en-us/dotnet/core/tools/global-json#matching-rules" rel="noopener ugc nofollow" target="_blank">匹配规则</a>。</p><h2 id="b28d" class="lf lg iq bd lh li lj dn lk ll lm dp ln jy lo lp lq kc lr ls lt kg lu lv lw lx bi translated">包扎</h2><p id="796b" class="pw-post-body-paragraph jn jo iq jp b jq ly js jt ju lz jw jx jy ma ka kb kc mb ke kf kg mc ki kj kk ij bi translated">我不确定是否还有其他人在这条船上，但直到我看到上面的构建警告，我才意识到需要控制SDK版本。令人欣慰的是，微软团队已经使锁定SDK版本的能力变得简单。如果你被要求坚持使用SDK的<a class="ae le" href="https://www.microsoft.com/net/download/archives" rel="noopener ugc nofollow" target="_blank">长期支持版本</a>，我可以看到这一点特别有用，目前需要你使用1.0或1.1版本。</p></div><div class="ab cl mn mo hu mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ij ik il im in"><p id="d365" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="la">原载于</em><a class="ae le" href="https://elanderson.net/2018/09/controlling-net-cores-sdk-version/" rel="noopener ugc nofollow" target="_blank"><em class="la"/></a><em class="la">。</em></p></div></div>    
</body>
</html>