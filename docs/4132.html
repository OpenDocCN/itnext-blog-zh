<html>
<head>
<title>useTranslation React hook</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用翻译反应挂钩</h1>
<blockquote>原文：<a href="https://itnext.io/usetranslation-react-hook-6abcd96a80ee?source=collection_archive---------5-----------------------#2020-05-03">https://itnext.io/usetranslation-react-hook-6abcd96a80ee?source=collection_archive---------5-----------------------#2020-05-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/924120496fa82844bb3eb5923e9d49d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YlXcyS1mKZD-lMKgqHXufA.png"/></div></div></figure><div class=""/><p id="3c88" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是一个列表字典的基本钩子。它可以用于其他目的，在这个例子中，我们用它来翻译。</p><h2 id="fe04" class="kw kx jb bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">1.定义字典</h2><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="d138" class="kw kx jb lu b gy ly lz l ma mb">const dictionary = {<br/>  <strong class="lu jc">en</strong>: { login: 'Login', register: 'Register' },<br/>  <strong class="lu jc">nl</strong>: { login: 'Inloggen', register: 'Registreren' },<br/>  <strong class="lu jc">fr</strong>: { login: 'Se connecter', register: 'Enregistrer' }<br/>};</span></pre><h2 id="3311" class="kw kx jb bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">2.使用useState创建自定义挂钩</h2><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="90bd" class="kw kx jb lu b gy ly lz l ma mb">import translation from './dictionary';</span><span id="fea8" class="kw kx jb lu b gy mc lz l ma mb">let currentLanguage = 'en';</span><span id="753e" class="kw kx jb lu b gy mc lz l ma mb">export const <strong class="lu jc">useTranslation</strong> = () =&gt; {<br/>  const [language, setLanguage] = React.useState(currentLanguage);<br/>  const languages = Object.keys(translation);</span><span id="5d73" class="kw kx jb lu b gy mc lz l ma mb">React.useEffect(() =&gt; {<br/>    currentLanguage = language || 'en';<br/>  }, [language]);</span><span id="e6a9" class="kw kx jb lu b gy mc lz l ma mb">const translate = key =&gt; translation?.[language]?.[key];<br/>  return { <strong class="lu jc">translate</strong>, <strong class="lu jc">setLanguage</strong>, <strong class="lu jc">language</strong>, <strong class="lu jc">languages</strong> };<br/>};</span></pre><p id="8284" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们使用了<strong class="ka jc"> useEffect </strong>来保存setLanguage state设置的当前语言，只使用了一个<strong class="ka jc"> let </strong>变量。</p><h2 id="3474" class="kw kx jb bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">3.如何使用</h2><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="1ad4" class="kw kx jb lu b gy ly lz l ma mb">// get current language - default is <strong class="lu jc">en</strong> for <strong class="lu jc">English</strong><br/>- <strong class="lu jc">language</strong></span><span id="3cbe" class="kw kx jb lu b gy mc lz l ma mb">// get available dictionary languages<br/>- <strong class="lu jc">languages</strong></span><span id="b60a" class="kw kx jb lu b gy mc lz l ma mb">// set another language based on available languages<br/>- <strong class="lu jc">setLanguage('nl')</strong></span><span id="b4d1" class="kw kx jb lu b gy mc lz l ma mb">// get dictionary language value based on key<br/>- <strong class="lu jc">translate('login')</strong> will return <strong class="lu jc">Login</strong></span></pre><p id="3105" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我喜欢这种方法的简单性，因为我们使用了基本的React钩子:<strong class="ka jc">使用状态</strong>和<strong class="ka jc">使用效果</strong></p></div></div>    
</body>
</html>