<html>
<head>
<title>Introducing Code Capsules</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">介绍代码胶囊</h1>
<blockquote>原文：<a href="https://itnext.io/introducing-code-capsules-1d282eb3aa9a?source=collection_archive---------6-----------------------#2021-03-15">https://itnext.io/introducing-code-capsules-1d282eb3aa9a?source=collection_archive---------6-----------------------#2021-03-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><h1 id="59e7" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">背景</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/6a0e79f648f1cc6e90ba434566e39e09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qjF3jBHPUm8xNUCVktoC9g.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">代码胶囊</figcaption></figure><p id="9e04" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated"><em class="lz">多年来，我们一直是无服务器的忠实粉丝。该术语以多种形式存在，如PaaS(平台即服务)或FaaS(功能即服务)，每个主要的云都有某种形式的无服务器服务，这允许我们作为开发人员持续集成和部署我们的最新代码，而不用担心基础设施。</em></p><p id="0ba4" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated"><em class="lz">在过去的几年里，我们很高兴将我们的后端应用程序部署到</em> <a class="ae ma" href="https://www.heroku.com/" rel="noopener ugc nofollow" target="_blank"> <em class="lz"> Heroku </em> </a> <em class="lz">，将我们的静态前端应用程序部署到</em><a class="ae ma" href="https://www.netlify.com/" rel="noopener ugc nofollow" target="_blank"><em class="lz">Netlify</em></a><em class="lz">。我们发现开发人员的体验令人难以置信，我的许多项目仍然可以很容易地从</em> <code class="fe mb mc md me b"><em class="lz">git push</em></code> <em class="lz">部署，甚至在最初设置它的几年后。</em></p><p id="6850" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated"><em class="lz">这篇文章最初发表于https://codecapsules.io/docs/introducing-code-capsules/</em>T21</p><h1 id="047b" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">我们作为开发者面临的主要问题</h1><p id="6523" class="pw-post-body-paragraph lb lc iq ld b le mf lg lh li mg lk ll lm mh lo lp lq mi ls lt lu mj lw lx ly ij bi translated">我们公司在<a class="ae ma" href="https://appstrax.tech/" rel="noopener ugc nofollow" target="_blank"> Appstrax </a>的项目通常在各种云提供商处部署和维护，从<a class="ae ma" href="http://aws.amazon.com/" rel="noopener ugc nofollow" target="_blank"> AWS </a>或Heroku到更小的本地(到南非)共享服务器环境。随着时间的推移，这给我们这样的公司带来了一些问题。</p><h1 id="9254" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">管理客户端基础设施计费</h1><p id="2298" class="pw-post-body-paragraph lb lc iq ld b le mf lg lh li mg lk ll lm mh lo lp lq mi ls lt lu mj lw lx ly ij bi translated">我们需要管理每个月所有客户项目基础设施的账单。</p><p id="f0cb" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">我们过去从各种云提供商那里收集所有发票，并将其分配给相关客户，最终重新开具发票以收回成本。</p><p id="53c1" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">这取决于客户，对我们来说，大多数非技术客户希望我们代表他们管理基础设施。</p><p id="2d42" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">如果我们可以让那些非技术客户根据相关的云资源输入他们的支付方式，并直接获得发票，那就太好了，这样可以节省我们一些管理时间。</p><h1 id="dde1" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">知识转移</h1><p id="cb6b" class="pw-post-body-paragraph lb lc iq ld b le mf lg lh li mg lk ll lm mh lo lp lq mi ls lt lu mj lw lx ly ij bi translated">当一个团队成员离开公司时，有一个漫长而复杂的过程来移交所有正确的项目信息。</p><p id="f3d1" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">我们需要确保我们有正确的私钥、云帐户登录、文档和流程来维护和部署到相关的服务器。</p><p id="bed3" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">需要一种解决方案来避免交换私钥和帐户登录的需要，以维护项目的完整性。</p><h1 id="6ed4" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">管理SSL证书</h1><p id="57bb" class="pw-post-body-paragraph lb lc iq ld b le mf lg lh li mg lk ll lm mh lo lp lq mi ls lt lu mj lw lx ly ij bi translated">根据项目所使用的云或平台，管理SSL证书和私钥是一场噩梦。</p><p id="52f8" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">我们希望完全避免接触任何私钥或服务器终端，只是让每个项目通过类似LetsEncrypt的东西来自动化它们的SSL。</p><h1 id="7166" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">上下文切换</h1><p id="4cc1" class="pw-post-body-paragraph lb lc iq ld b le mf lg lh li mg lk ll lm mh lo lp lq mi ls lt lu mj lw lx ly ij bi translated">当需要维护或修复部署和基础设施时，团队成员通常会根据项目所在的位置在不同的云提供商之间进行上下文切换。</p><p id="9072" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">如果我们有一个每个团队成员都熟悉的统一仪表板，我们公司的生产力将会大大提高。</p><h1 id="db14" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">缺少南非PaaS</h1><p id="8b76" class="pw-post-body-paragraph lb lc iq ld b le mf lg lh li mg lk ll lm mh lo lp lq mi ls lt lu mj lw lx ly ij bi translated">南非的本地服务器在CI/CD(持续集成和部署)方面缺乏开发经验，Heroku和Netlify只针对美国或欧盟的服务器。</p><p id="cfac" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">我们认为，如果我们能够拥有一个平台，将我们最喜欢的PaaS功能整合到一个平台中，同时为我们解决上述一些问题，特别是到南非本地服务器的CI/CD，那将是一件了不起的事情。</p><p id="2884" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">我们在2019年通过使用各种云原生和开源技术开始原型制作<a class="ae ma" href="https://codecapsules.io" rel="noopener ugc nofollow" target="_blank">代码胶囊</a>，这导致该应用程序现在处于开放测试状态。</p><h1 id="8f51" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">部署静态前端应用程序</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mk"><img src="../Images/7399cab74eb9d48305e477fdb1784f64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*EnvsmKqkVWAhWcEj3vcuQw.gif"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">创建前端胶囊</figcaption></figure><p id="acfd" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">在将我们的<a class="ae ma" href="https://github.com/" rel="noopener ugc nofollow" target="_blank"> Github </a>应用程序安装到您的Code Capsules用户帐户和团队中后，您可以通过几个简单的步骤轻松创建一个<a class="ae ma" href="https://codecapsules.io/docs/faq/what-is-a-capsule/" rel="noopener ugc nofollow" target="_blank">前端Capsule </a>。</p><ol class=""><li id="1a55" class="ml mm iq ld b le lf li lj lm mn lq mo lu mp ly mq mr ms mt bi translated">选择您的Github存储库和分支</li><li id="b251" class="ml mm iq ld b le mu li mv lm mw lq mx lu my ly mq mr ms mt bi translated">选择Github存储库中包含静态应用程序的文件夹(Angular、React或Vue)</li><li id="67ba" class="ml mm iq ld b le mu li mv lm mw lq mx lu my ly mq mr ms mt bi translated">输入<strong class="ld ir">构建命令</strong>，它将告诉Code Capsules使用哪个命令来生成静态HTML和JavaScript内容</li><li id="e707" class="ml mm iq ld b le mu li mv lm mw lq mx lu my ly mq mr ms mt bi translated">输入产生的<strong class="ld ir">静态内容文件夹路径</strong>(构建命令的结果)</li></ol><p id="d17d" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">如果您输入Build命令，您会注意到它会在Capsule详细信息屏幕上的构建日志中运行:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mk"><img src="../Images/7f58867b788ab05fbe5d554afed37a73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*UAOLYqWW5KXs-0hBc8F6Vw.gif"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">前端封装构建日志</figcaption></figure><p id="3d23" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">如果你有一个普通的HTML和JavaScript应用程序，你可能不需要构建命令。您可以简单地输入包含<code class="fe mb mc md me b">index.html</code>文件的Github存储库中的文件夹路径，代码胶囊将在部署后提供该文件。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mz"><img src="../Images/51d6129decb1b33482c00421c24c075b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vLaK9tpvX6liTB8RYRKfDA.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">React在代码胶囊上运行</figcaption></figure><h1 id="661f" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">部署后端应用程序</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mk"><img src="../Images/8c0e5ae59270a7cdfb3df669fa37490d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*b5x487uKm4eN5L_GzCRaLA.gif"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">创建后端胶囊</figcaption></figure><p id="425d" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">类似于<a class="ae ma" href="https://codecapsules.io/docs/faq/what-is-a-capsule/" rel="noopener ugc nofollow" target="_blank">前端胶囊</a>的工作流程，只需几个简单的步骤就能让你的后端应用上线:</p><ol class=""><li id="a535" class="ml mm iq ld b le lf li lj lm mn lq mo lu mp ly mq mr ms mt bi translated">选择您的Github存储库和分支</li><li id="c832" class="ml mm iq ld b le mu li mv lm mw lq mx lu my ly mq mr ms mt bi translated">选择Github存储库中包含静态应用程序的文件夹(Node、Python、Java或。网络核心)</li><li id="0c22" class="ml mm iq ld b le mu li mv lm mw lq mx lu my ly mq mr ms mt bi translated">输入<strong class="ld ir">运行命令</strong>，这将告诉代码胶囊使用哪个命令来启动您的服务器(确保您的应用程序绑定到一个<code class="fe mb mc md me b">PORT</code>环境变量)</li></ol><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mk"><img src="../Images/0314c5b0f36575c93bf942cd9481122b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*X44GZW1IKt26z3TAHA17Kw.gif"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">后端胶囊构建日志</figcaption></figure><p id="183b" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated"><a class="ae ma" href="https://codecapsules.io/docs/faq/what-is-a-capsule/" rel="noopener ugc nofollow" target="_blank">后端胶囊</a>将把你的代码构建到一个容器中，并尝试为你的应用服务。</p><p id="00f2" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">它还会在每次将新代码推送到Github分支时自动创建一个新的构建和部署。如果您喜欢手动创建构件，可以关闭此选项。</p><p id="863e" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">您可以查看下面的服务器日志:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mk"><img src="../Images/d1e54b23bbc2c96c92a1f7a67b2765bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*E2Axcf21vB7qUkFv3eLj1w.gif"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">胶囊详细信息屏幕</figcaption></figure><p id="9a7a" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated"><a class="ae ma" href="https://codecapsules.io/docs/faq/what-is-a-capsule/" rel="noopener ugc nofollow" target="_blank">前端和后端胶囊</a>将自动创建一个安装了SSL证书的免费子域。您可以选择<a class="ae ma" href="https://codecapsules.io/docs/customising-your-domain-on-code-capsules/" rel="noopener ugc nofollow" target="_blank">通过CNAME或您可能使用的任何DNS提供商的记录将一个自定义域指向您的capsule </a>。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mz"><img src="../Images/74fe16ae04a12b71a28b12c07ace90f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*46eu5tIZvqkePTJbs9DMZQ.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">运行在代码胶囊上的Node express.js</figcaption></figure><h1 id="983e" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">小组管理</h1><p id="13bc" class="pw-post-body-paragraph lb lc iq ld b le mf lg lh li mg lk ll lm mh lo lp lq mi ls lt lu mj lw lx ly ij bi translated">我们对解决方案进行了分解，以允许开发人员<a class="ae ma" href="https://codecapsules.io/docs/faq/teams-spaces-and-capsules/" rel="noopener ugc nofollow" target="_blank">管理他们的应用程序和云资源</a>来最好地满足他们的需求。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi na"><img src="../Images/7d05a2a061d55e1b6b7a319f9ee638b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cLbYhIK55pJazBUAb71zJA.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">代码胶囊团队，空间和胶囊</figcaption></figure><ul class=""><li id="048a" class="ml mm iq ld b le lf li lj lm mn lq mo lu mp ly nb mr ms mt bi translated">您可以创建任意多的<a class="ae ma" href="https://codecapsules.io/docs/faq/what-is-a-team/" rel="noopener ugc nofollow" target="_blank">团队</a></li><li id="bac1" class="ml mm iq ld b le mu li mv lm mw lq mx lu my ly nb mr ms mt bi translated">您可以在团队中创建任意数量的<a class="ae ma" href="https://codecapsules.io/docs/faq/what-is-a-space/" rel="noopener ugc nofollow" target="_blank">空间</a></li><li id="3317" class="ml mm iq ld b le mu li mv lm mw lq mx lu my ly nb mr ms mt bi translated">您可以邀请用户加入您的团队</li><li id="a70c" class="ml mm iq ld b le mu li mv lm mw lq mx lu my ly nb mr ms mt bi translated">您可以为不同的团队添加不同的支付方式，如果您希望将客户的信用卡直接与团队关联，这将非常有用</li><li id="24c6" class="ml mm iq ld b le mu li mv lm mw lq mx lu my ly nb mr ms mt bi translated">您可以查看按团队细分的发票</li><li id="f587" class="ml mm iq ld b le mu li mv lm mw lq mx lu my ly nb mr ms mt bi translated">您可以管理每个团队的Github存储库</li></ul><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mk"><img src="../Images/9b09ed006543edfd142c4bedb56ad81b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*yRuBKg5viNHBVrxLcKAyKg.gif"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">代码胶囊团队管理</figcaption></figure><p id="2203" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">如果你想尝试一下，请查看我们的<a class="ae ma" href="https://codecapsules.io/docs/" rel="noopener ugc nofollow" target="_blank">文档</a>和<a class="ae ma" href="https://codecapsules.io/docs/topic/tutorials/" rel="noopener ugc nofollow" target="_blank">教程</a>。每个个人团队都可以享受一个免费的前端胶囊来<a class="ae ma" href="https://codecapsules.io/" rel="noopener ugc nofollow" target="_blank">试试我们的新平台</a>。</p><p id="66eb" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">我们很乐意听到任何和所有的反馈(加入我们的<a class="ae ma" href="https://codecapsules.io/slack" rel="noopener ugc nofollow" target="_blank"> Slack团队</a>)，这样我们可以改进我们的解决方案，并希望为其他开发者增加价值🚀。</p></div></div>    
</body>
</html>