<html>
<head>
<title>Opportunistic Testing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">机会测试</h1>
<blockquote>原文：<a href="https://itnext.io/opportunistic-testing-28bfd2ca5572?source=collection_archive---------2-----------------------#2020-08-15">https://itnext.io/opportunistic-testing-28bfd2ca5572?source=collection_archive---------2-----------------------#2020-08-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="721d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">软件工程是最年轻的工程学科之一。与其他的相比，它还不够成熟；因此，实践、流程和工具仍在发展。</p><p id="6760" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">机会性测试<strong class="js iu"> </strong>是我几年前受<a class="ae ko" href="https://martinfowler.com/bliki/OpportunisticRefactoring.html" rel="noopener ugc nofollow" target="_blank">机会性重构</a>方法的启发而创造并信奉的一个概念。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi kp"><img src="../Images/3b8ef498f0b983c8ee61657c23720495.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*E9mCxVMNO4eUjMQD.png"/></div></div></figure><h2 id="62e1" class="lb lc it bd ld le lf dn lg lh li dp lj kb lk ll lm kf ln lo lp kj lq lr ls lt bi translated">技术债务</h2><p id="5be2" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">在我看来，技术债务是加速开发过程以缩短学习周期的预期副作用。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/7b1f2311917703b4a38c2cff0538c067.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*LE2WZH8UtFJyhlm3.jpg"/></div></figure><p id="9313" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">作为开发人员，尽管有技术债务，我们在交付和更快迭代之间的选择处于一个不舒服的境地；或者交付更好的代码，尽管减缓了迭代过程。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ma"><img src="../Images/39ad781e166a6bce9abaa18c4274f4f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*7U2y3r_JK69o0ocl.png"/></div></div></figure><p id="7622" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在某种程度上，我们需要在利息变得不可持续之前开始偿还技术债务。</p><h2 id="3ef1" class="lb lc it bd ld le lf dn lg lh li dp lj kb lk ll lm kf ln lo lp kj lq lr ls lt bi translated">机会性重构</h2><p id="0ac0" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">在一个敏捷的世界里，我们希望交付持续的价值并迭代结果，在大型重构上花费太多时间是不可行的。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi mb"><img src="../Images/20d247edb9b8838148c1f2ea06875c9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*CbtzmP6SLU15deXe.png"/></div></div></figure><p id="6a8e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">机会性重构是指在依赖scout规则的开发周期中重构代码。</p><blockquote class="mc md me"><p id="37c6" class="jq jr mf js b jt ju jv jw jx jy jz ka mg kc kd ke mh kg kh ki mi kk kl km kn im bi translated">永远要让露营地比你发现的时候干净</p></blockquote><p id="9c93" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在软件开发中，我们可以把它重新表述为:</p><blockquote class="mc md me"><p id="2bad" class="jq jr mf js b jt ju jv jw jx jy jz ka mg kc kd ke mh kg kh ki mi kk kl km kn im bi translated">总是让代码比你发现时更干净</p></blockquote><p id="e41c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这种方法侧重于重构大多数开发人员在特性维护和开发过程中接触到的代码，这是与业务和开发人员更相关的代码。以更有意义的方式帮助减少技术债务和提高代码质量。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi mj"><img src="../Images/bce054abd9fec1a12565c5663fa175fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qhV-SdgHzqMWtI3D.jpg"/></div></div></figure><p id="9d50" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然而，良好的测试覆盖对于重构而言是必要的，不会引入破坏性的变化或更多的副作用。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi mk"><img src="../Images/a1825572bb851d960f52a864545c7271.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*yUdGzwes7eBrM_Pe.png"/></div></div></figure><h2 id="bd6f" class="lb lc it bd ld le lf dn lg lh li dp lj kb lk ll lm kf ln lo lp kj lq lr ls lt bi translated">测试驱动开发(TDD)</h2><p id="4c53" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">我喜欢<a class="ae ko" href="https://martinfowler.com/bliki/TestDrivenDevelopment.html" rel="noopener ugc nofollow" target="_blank"> TDD </a>，因为我们首先关注功能，而不是实现细节。</p><p id="e4b0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然而，TDD依赖于清晰的业务需求和一定的业务知识，以确保我们覆盖正确的场景。</p><blockquote class="ml"><p id="ad5a" class="mm mn it bd mo mp mq mr ms mt mu kn dk translated">开发人员如何知道他们驱动开发的测试是正确的测试？</p></blockquote><figure class="mv mw mx my mz ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi mb"><img src="../Images/222998940db59f2657c00b46fb40dae7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gvb8EMtWVDjIMIOj.png"/></div></div></figure><p id="4ae4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">作为第一种测试方法，TDD需要评估在早期迭代中不断更新测试和逻辑的成本值，并注意不要影响迭代过程和开发人员的体验。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi mk"><img src="../Images/1694a5b2f5751f2e417c81523006c9bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*AAc9S1K1_RJ5SaBE.png"/></div></div></figure><h2 id="6e94" class="lb lc it bd ld le lf dn lg lh li dp lj kb lk ll lm kf ln lo lp kj lq lr ls lt bi translated">机会测试</h2><p id="3295" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">测试覆盖率是一个度量标准，可以帮助理解测试了多少代码和功能。期望的覆盖率取决于团队目标，但合理的百分比范围是70-80%。</p><p id="70e5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然而，很难确保最相关的功能已经被覆盖，在最坏的情况下，它们是剩余的30–20%的一部分。</p><p id="c4b2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="mf">机会测试</em> <strong class="js iu"> </strong>方法是关于调整测试和重构工作，在早期迭代中关注最相关和最清晰的功能。</p><p id="d432" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">测试覆盖率低也没关系，比如说30-50%，重要的是我们覆盖了80-100%最相关和最重要的功能。</p><p id="dfad" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，作为开发周期的一部分，我们将在接下来的迭代中继续实践这一点，以增加覆盖率和代码质量以及相关的功能。</p><blockquote class="mc md me"><p id="ae27" class="jq jr mf js b jt ju jv jw jx jy jz ka mg kc kd ke mh kg kh ki mi kk kl km kn im bi translated">总是让<strong class="js iu">代码</strong>和<strong class="js iu">测试</strong>比你发现的更好</p></blockquote><h2 id="7871" class="lb lc it bd ld le lf dn lg lh li dp lj kb lk ll lm kf ln lo lp kj lq lr ls lt bi translated">利益</h2><ul class=""><li id="b821" class="na nb it js b jt lu jx lv kb nc kf nd kj ne kn nf ng nh ni bi translated">确保测试覆盖面集中在影响业务的最相关的功能上。</li><li id="2d06" class="na nb it js b jt nj jx nk kb nl kf nm kj nn kn nf ng nh ni bi translated">启用机会性重构。</li><li id="729b" class="na nb it js b jt nj jx nk kb nl kf nm kj nn kn nf ng nh ni bi translated">加速开发周期和迭代过程。</li><li id="bf16" class="na nb it js b jt nj jx nk kb nl kf nm kj nn kn nf ng nh ni bi translated">避免为不清楚的功能编写测试</li><li id="901f" class="na nb it js b jt nj jx nk kb nl kf nm kj nn kn nf ng nh ni bi translated">避免对可以在后续迭代中删除的特性进行详尽的测试(特性实验)</li></ul><p id="4093" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">挑战</strong></p><ul class=""><li id="9272" class="na nb it js b jt ju jx jy kb no kf np kj nq kn nf ng nh ni bi translated">找出最相关的功能。</li><li id="e7b9" class="na nb it js b jt nj jx nk kb nl kf nm kj nn kn nf ng nh ni bi translated">实施左移测试，与QA工程师合作，以确保相关功能得到很好的识别。</li></ul><h2 id="e55f" class="lb lc it bd ld le lf dn lg lh li dp lj kb lk ll lm kf ln lo lp kj lq lr ls lt bi translated"><strong class="ak">最终想法</strong></h2><p id="d3b1" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">您可以在您的团队中试验这种方法，并测量结果。这在我之前的团队中行得通，但是我们的环境可能与你的不同。</p><p id="009c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">感谢阅读！我真的很感激你的想法，请随意评论。</p></div></div>    
</body>
</html>