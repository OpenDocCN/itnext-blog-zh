<html>
<head>
<title>Weave Scope + Minikube for Local Development (Mac OSX)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">当地发展的编织范围+迷你库贝(麦克·OSX)</h1>
<blockquote>原文：<a href="https://itnext.io/weave-scope-minikube-for-local-development-mac-osx-be6019a819a0?source=collection_archive---------7-----------------------#2018-05-02">https://itnext.io/weave-scope-minikube-for-local-development-mac-osx-be6019a819a0?source=collection_archive---------7-----------------------#2018-05-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="deeb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">定义</p><ul class=""><li id="ab1c" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk kq kr ks kt bi translated"><a class="ae ku" href="https://kubernetes.io/docs/getting-started-guides/minikube/" rel="noopener ugc nofollow" target="_blank"> Minikube </a> —在笔记本电脑上的虚拟机中运行单节点Kubernetes集群，供希望尝试Kubernetes或使用它进行日常开发的用户使用。</li><li id="b5d0" class="kl km iq jp b jq kv ju kw jy kx kc ky kg kz kk kq kr ks kt bi translated"><a class="ae ku" href="https://www.weave.works/oss/scope/" rel="noopener ugc nofollow" target="_blank">Weave Scope</a>—Docker和Kubernetes的可视化和监控工具。它提供了对您的应用以及整个基础架构的自上而下的视图，并允许您在将分布式容器化应用部署到云提供商时，实时诊断其存在的任何问题。</li></ul><p id="c3bf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">步骤1 —安装kubectl。</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="6508" class="lq lr iq lm b gy ls lt l lu lv">$ brew install kubectl<br/><br/>Verify<br/>$ ls -la /usr/local/Cellar/ | grep kubernetes<br/>drwxr-xr-x   3 sai   admin  102 Jan 21 17:26 kubernetes-cli</span></pre><p id="8288" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">步骤2 —安装Minikube。</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="06c4" class="lq lr iq lm b gy ls lt l lu lv">$ brew cask install minikube<br/><br/>==&gt; Downloading https://storage.googleapis.com/minikube/releases/v0.26.1/minikube-darwin-amd64<br/>######################################################################## 100.0%<br/>==&gt; Verifying checksum for Cask minikube<br/>==&gt; Installing Cask minikube<br/>==&gt; Linking Binary 'minikube-darwin-amd64' to '/usr/local/bin/minikube'.<br/>🍺  minikube was successfully installed!<br/><br/>$ ls -la /usr/local/Caskroom/minikube/<br/>total 0<br/>drwxr-xr-x  4 sai  admin  136 Apr 20 01:51 .<br/>drwxrwxr-x  4 sai  admin  136 Apr 20 01:51 ..<br/>drwxr-xr-x  3 sai  admin  102 Apr 20 01:51 .metadata<br/>drwxr-xr-x  3 sai  admin  102 Apr 20 01:51 0.26.1<br/><br/>$ ls -la /usr/local/bin/ | grep mini<br/>lrwxr-xr-x    1 sai   admin        57 Apr 20 01:51 minikube -&gt; /usr/local/Caskroom/minikube/0.26.1/minikube-darwin-amd64<br/>lrwxr-xr-x    1 sai   admin        76 Apr 19 00:52 minishift -&gt; /usr/local/Caskroom/minishift/1.15.1/minishift-1.15.1-darwin-amd64/minishift<br/><br/>$ minikube version<br/>minikube version: v0.26.1<br/><br/>$ ls -la .minikube<br/>ls: .minikube: No such file or directory</span></pre><p id="ed93" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">步骤3 —启动Minikube(请确保已经安装并启动了虚拟箱)</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="a9ed" class="lq lr iq lm b gy ls lt l lu lv">$ minikube start<br/>Starting local Kubernetes v1.10.0 cluster...<br/>Starting VM...<br/>Downloading Minikube ISO<br/> 150.53 MB / 150.53 MB [============================================] 100.00% 0s<br/>Getting VM IP address...<br/>Moving files into cluster...<br/>Downloading kubeadm v1.10.0<br/>Downloading kubelet v1.10.0<br/>Finished Downloading kubelet v1.10.0<br/>Finished Downloading kubeadm v1.10.0<br/>Setting up certs...<br/>Connecting to cluster...<br/>Setting up kubeconfig...<br/>Starting cluster components...<br/>Kubectl is now configured to use the cluster.<br/>Loading cached images from config file.</span></pre><p id="18d3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">步骤4 —验证我们的集群总体健康的好方法。</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="34e6" class="lq lr iq lm b gy ls lt l lu lv">$ kubectl get componentstatuses<br/>NAME                 STATUS    MESSAGE              ERROR<br/>controller-manager   Healthy   ok                  <br/>scheduler            Healthy   ok                  <br/>etcd-0               Healthy   {"health": "true"}  <br/><br/>$ kubectl get nodes<br/>NAME       STATUS    ROLES     AGE       VERSION<br/>minikube   Ready     master    9m        v1.10.0</span></pre><p id="748f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">注意:</p><p id="559c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">控制器管理器确保服务的所有副本都是可用和健康的。schedular负责将不同的pod放在集群中的不同节点上。etcd服务器是存储所有API对象的集群的存储器。</p><p id="7a71" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">步骤5 —验证名称空间(默认，kube-public，kube-system)</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="014a" class="lq lr iq lm b gy ls lt l lu lv">$ kubectl get namespaces<br/>NAME          STATUS    AGE<br/>default       Active    12m<br/>kube-public   Active    12m<br/>kube-system   Active    12m</span></pre><p id="119f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">步骤6 —验证所有名称空间中的所有资源(ds、deploy、rs、po、svc)。</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="77cd" class="lq lr iq lm b gy ls lt l lu lv">$ kubectl get all --all-namespaces<br/>NAMESPACE     NAME            DESIRED   CURRENT   READY     UP-TO-DATE   AVAILABLE   NODE SELECTOR   AGE<br/>kube-system   ds/kube-proxy   1         1         1         1            1           &lt;none&gt;          15m<br/><br/>NAMESPACE     NAME                          DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE<br/>kube-system   deploy/kube-dns               1         1         1            1           15m<br/>kube-system   deploy/kubernetes-dashboard   1         1         1            1           15m<br/><br/>NAMESPACE     NAME                                 DESIRED   CURRENT   READY     AGE<br/>kube-system   rs/kube-dns-86f4d74b45               1         1         1         15m<br/>kube-system   rs/kubernetes-dashboard-5498ccf677   1         1         1         15m<br/><br/>NAMESPACE     NAME                                       READY     STATUS    RESTARTS   AGE<br/>kube-system   po/etcd-minikube                           1/1       Running   0          14m<br/>kube-system   po/kube-addon-manager-minikube             1/1       Running   0          15m<br/>kube-system   po/kube-apiserver-minikube                 1/1       Running   0          15m<br/>kube-system   po/kube-controller-manager-minikube        1/1       Running   0          14m<br/>kube-system   po/kube-dns-86f4d74b45-rn77t               3/3       Running   0          15m<br/>kube-system   po/kube-proxy-54grl                        1/1       Running   0          15m<br/>kube-system   po/kube-scheduler-minikube                 1/1       Running   0          14m<br/>kube-system   po/kubernetes-dashboard-5498ccf677-76m4p   1/1       Running   0          15m<br/>kube-system   po/storage-provisioner                     1/1       Running   0          15m<br/><br/>NAMESPACE     NAME                       TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)         AGE<br/>default       svc/kubernetes             ClusterIP   10.96.0.1      &lt;none&gt;        443/TCP         15m<br/>kube-system   svc/kube-dns               ClusterIP   10.96.0.10     &lt;none&gt;        53/UDP,53/TCP   15m<br/>kube-system   svc/kubernetes-dashboard   NodePort    10.100.206.6   &lt;none&gt;        80:30000/TCP    15m</span></pre><p id="7cf7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">步骤7 —让我们探索kubernetes组件的细节。</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="2b74" class="lq lr iq lm b gy ls lt l lu lv">$ kubectl get nodes<br/>NAME       STATUS    ROLES     AGE       VERSION<br/>minikube   Ready     master    19m       v1.10.0<br/><br/>$ kubectl describe nodes minikube<br/>Name:               minikube<br/>Roles:              master<br/>Labels:             beta.kubernetes.io/arch=amd64<br/>                    beta.kubernetes.io/os=linux<br/>                    kubernetes.io/hostname=minikube<br/>                    node-role.kubernetes.io/master=<br/>Annotations:        node.alpha.kubernetes.io/ttl=0<br/>                    volumes.kubernetes.io/controller-managed-attach-detach=true<br/>Taints:             &lt;none&gt;<br/>CreationTimestamp:  Fri, 20 Apr 2018 02:05:02 +0800<br/>Conditions:<br/>  Type             Status  LastHeartbeatTime                 LastTransitionTime                Reason                       Message<br/>  <em class="lw">----             ------  -----------------                 ------------------                ------                       -------</em><br/>  OutOfDisk        False   Fri, 20 Apr 2018 02:24:25 +0800   Fri, 20 Apr 2018 02:04:44 +0800   KubeletHasSufficientDisk     kubelet has sufficient disk space available<br/>  MemoryPressure   False   Fri, 20 Apr 2018 02:24:25 +0800   Fri, 20 Apr 2018 02:04:44 +0800   KubeletHasSufficientMemory   kubelet has sufficient memory available<br/>  DiskPressure     False   Fri, 20 Apr 2018 02:24:25 +0800   Fri, 20 Apr 2018 02:04:44 +0800   KubeletHasNoDiskPressure     kubelet has no disk pressure<br/>  PIDPressure      False   Fri, 20 Apr 2018 02:24:25 +0800   Fri, 20 Apr 2018 02:04:44 +0800   KubeletHasSufficientPID      kubelet has sufficient PID available<br/>  Ready            True    Fri, 20 Apr 2018 02:24:25 +0800   Fri, 20 Apr 2018 02:04:44 +0800   KubeletReady                 kubelet is posting ready status<br/>Addresses:<br/>  InternalIP:  <br/>  Hostname:    minikube<br/>Capacity:<br/> cpu:                2<br/> ephemeral-storage:  16888216Ki<br/> hugepages-2Mi:      0<br/> memory:             2048052Ki<br/> pods:               110<br/>Allocatable:<br/> cpu:                2<br/> ephemeral-storage:  15564179840<br/> hugepages-2Mi:      0<br/> memory:             1945652Ki<br/> pods:               110<br/>System Info:<br/> Machine ID:                 43326e10eee04511b72c5b8e937483b3<br/> System UUID:                1A90BACA-DC70-4DFB-9540-A38C5C37A12B<br/> Boot ID:                    2101ef66-2569-4f84-a2c4-9bba07e07614<br/> Kernel Version:             4.9.64<br/> OS Image:                   Buildroot 2017.11<br/> Operating System:           linux<br/> Architecture:               amd64<br/> Container Runtime Version:  docker://17.12.1-ce<br/> Kubelet Version:            v1.10.0<br/> Kube-Proxy Version:         v1.10.0<br/>ExternalID:                  minikube<br/>Non-terminated Pods:         (9 in total)<br/>  Namespace                  Name                                     CPU Requests  CPU Limits  Memory Requests  Memory Limits<br/>  <em class="lw">---------                  ----                                     ------------  ----------  ---------------  -------------</em><br/>  kube-system                etcd-minikube                            0 (0%)        0 (0%)      0 (0%)           0 (0%)<br/>  kube-system                kube-addon-manager-minikube              5m (0%)       0 (0%)      50Mi (2%)        0 (0%)<br/>  kube-system                kube-apiserver-minikube                  250m (12%)    0 (0%)      0 (0%)           0 (0%)<br/>  kube-system                kube-controller-manager-minikube         200m (10%)    0 (0%)      0 (0%)           0 (0%)<br/>  kube-system                kube-dns-86f4d74b45-rn77t                260m (13%)    0 (0%)      110Mi (5%)       170Mi (8%)<br/>  kube-system                kube-proxy-54grl                         0 (0%)        0 (0%)      0 (0%)           0 (0%)<br/>  kube-system                kube-scheduler-minikube                  100m (5%)     0 (0%)      0 (0%)           0 (0%)<br/>  kube-system                kubernetes-dashboard-5498ccf677-76m4p    0 (0%)        0 (0%)      0 (0%)           0 (0%)<br/>  kube-system                storage-provisioner                      0 (0%)        0 (0%)      0 (0%)           0 (0%)<br/>Allocated resources:<br/>  (Total limits may be over 100 percent, i.e., overcommitted.)<br/>  CPU Requests  CPU Limits  Memory Requests  Memory Limits<br/>  <em class="lw">------------  ----------  ---------------  -------------</em><br/>  815m (40%)    0 (0%)      160Mi (8%)       170Mi (8%)<br/>Events:<br/>  Type    Reason                   Age                From                  Message<br/>  <em class="lw">----    ------                   ----               ----                  -------</em><br/>  Normal  NodeHasSufficientPID     19m (x5 over 19m)  kubelet, minikube     Node minikube status is now: NodeHasSufficientPID<br/>  Normal  NodeAllocatableEnforced  19m                kubelet, minikube     Updated Node Allocatable limit across pods<br/>  Normal  NodeHasSufficientDisk    19m (x6 over 19m)  kubelet, minikube     Node minikube status is now: NodeHasSufficientDisk<br/>  Normal  NodeHasSufficientMemory  19m (x6 over 19m)  kubelet, minikube     Node minikube status is now: NodeHasSufficientMemory<br/>  Normal  NodeHasNoDiskPressure    19m (x6 over 19m)  kubelet, minikube     Node minikube status is now: NodeHasNoDiskPressure<br/>  Normal  Starting                 19m                kube-proxy, minikube  Starting kube-proxy</span></pre><p id="3201" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">注意:</p><p id="ad2a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">kubernetes系统组件有两种类型:</p><ol class=""><li id="f516" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk lx kr ks kt bi translated"><strong class="jp ir">那些运行在容器中的</strong>(例如:kubernetes调度程序和kube-proxy运行在容器中)</li><li id="f3ba" class="kl km iq jp b jq kv ju kw jy kx kc ky kg kz kk lx kr ks kt bi translated"><strong class="jp ir">那些不在容器中运行的</strong>(比如:kubelet和容器运行时，比如Docker，不在容器中运行。)</li></ol><ul class=""><li id="b093" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk kq kr ks kt bi translated">Kubernetes的一个有趣的方面是，构成Kubernetes集群的许多组件实际上都是使用Kubernetes本身部署的。</li><li id="f149" class="kl km iq jp b jq kv ju kw jy kx kc ky kg kz kk kq kr ks kt bi translated">所有这些组件都运行在kube-system名称空间中。</li><li id="23eb" class="kl km iq jp b jq kv ju kw jy kx kc ky kg kz kk kq kr ks kt bi translated">Kubernetes中的名称空间是组织Kubernetes资源的实体。你可以把它想象成文件系统中的一个文件夹。</li><li id="7667" class="kl km iq jp b jq kv ju kw jy kx kc ky kg kz kk kq kr ks kt bi translated">集群组件(kube-proxy、kube-dns、kubernetes-dashboard)</li></ul><p id="a88b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请注意步骤7输出中的以下内容:</p><ul class=""><li id="0ad9" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk kq kr ks kt bi translated">内部IP。</li><li id="ebbe" class="kl km iq jp b jq kv ju kw jy kx kc ky kg kz kk kq kr ks kt bi translated">我们能处理多少个豆荚。</li><li id="decf" class="kl km iq jp b jq kv ju kw jy kx kc ky kg kz kk kq kr ks kt bi translated">容器运行时。</li><li id="02c0" class="kl km iq jp b jq kv ju kw jy kx kc ky kg kz kk kq kr ks kt bi translated">Kubelet版本:v1.10.0</li><li id="7d69" class="kl km iq jp b jq kv ju kw jy kx kc ky kg kz kk kq kr ks kt bi translated">kube-代理版本:v1.10.0</li></ul><p id="0360" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">步骤8-探索Kubernetes Docker容器图像和流程。</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="e6b0" class="lq lr iq lm b gy ls lt l lu lv">$ eval $(minikube docker-env)</span><span id="25fe" class="lq lr iq lm b gy ly lt l lu lv">$ docker images<br/>REPOSITORY                                 TAG                 IMAGE ID            CREATED             SIZE<br/>k8s.gcr.io/kube-proxy-amd64                v1.10.0             bfc21aadc7d3        3 weeks ago         97MB<br/>k8s.gcr.io/kube-controller-manager-amd64   v1.10.0             ad86dbed1555        3 weeks ago         148MB<br/>k8s.gcr.io/kube-apiserver-amd64            v1.10.0             af20925d51a3        3 weeks ago         225MB<br/>k8s.gcr.io/kube-scheduler-amd64            v1.10.0             704ba848e69a        3 weeks ago         50.4MB<br/>k8s.gcr.io/etcd-amd64                      3.1.12              52920ad46f5b        5 weeks ago         193MB<br/>k8s.gcr.io/kube-addon-manager              v8.6                9c16409588eb        8 weeks ago         78.4MB<br/>k8s.gcr.io/k8s-dns-dnsmasq-nanny-amd64     1.14.8              c2ce1ffb51ed        3 months ago        41MB<br/>k8s.gcr.io/k8s-dns-sidecar-amd64           1.14.8              6f7f2dc7fab5        3 months ago        42.2MB<br/>k8s.gcr.io/k8s-dns-kube-dns-amd64          1.14.8              80cc5ea4b547        3 months ago        50.5MB<br/>k8s.gcr.io/pause-amd64                     3.1                 da86e6ba6ca1        4 months ago        742kB<br/>k8s.gcr.io/kubernetes-dashboard-amd64      v1.8.1              e94d2f21bc0c        4 months ago        121MB<br/>k8s.gcr.io/kube-addon-manager              v6.5                d166ffa9201a        5 months ago        79.5MB<br/>gcr.io/k8s-minikube/storage-provisioner    v1.8.0              4689081edb10        5 months ago        80.8MB<br/>gcr.io/k8s-minikube/storage-provisioner    v1.8.1              4689081edb10        5 months ago        80.8MB<br/>k8s.gcr.io/k8s-dns-sidecar-amd64           1.14.4              38bac66034a6        9 months ago        41.8MB<br/>k8s.gcr.io/k8s-dns-kube-dns-amd64          1.14.4              a8e00546bcf3        9 months ago        49.4MB<br/>k8s.gcr.io/k8s-dns-dnsmasq-nanny-amd64     1.14.4              f7f45b9cb733        9 months ago        41.4MB<br/>k8s.gcr.io/etcd-amd64                      3.0.17              243830dae7dd        14 months ago       169MB<br/>k8s.gcr.io/pause-amd64                     3.0                 99e59f495ffa        23 months ago       747kB<br/><br/>$ docker ps<br/>CONTAINER ID        IMAGE                                     COMMAND                  CREATED             STATUS              PORTS               NAMES<br/>a27093ed58ff        k8s.gcr.io/k8s-dns-sidecar-amd64          "/sidecar --v=2 --lo…"   9 hours ago         Up 9 hours                              k8s_sidecar_kube-dns-86f4d74b45-rn77t_kube-system_36757013-43fc-11e8-9bdc-0800276018ee_0<br/>93e87edc11c1        k8s.gcr.io/k8s-dns-dnsmasq-nanny-amd64    "/dnsmasq-nanny -v=2…"   9 hours ago         Up 9 hours                              k8s_dnsmasq_kube-dns-86f4d74b45-rn77t_kube-system_36757013-43fc-11e8-9bdc-0800276018ee_0<br/>80b0fbcebc0a        gcr.io/k8s-minikube/storage-provisioner   "/storage-provisioner"   9 hours ago         Up 9 hours                              k8s_storage-provisioner_storage-provisioner_kube-system_37b1857a-43fc-11e8-9bdc-0800276018ee_0<br/>b86a2fc20271        k8s.gcr.io/k8s-dns-kube-dns-amd64         "/kube-dns --domain=…"   9 hours ago         Up 9 hours                              k8s_kubedns_kube-dns-86f4d74b45-rn77t_kube-system_36757013-43fc-11e8-9bdc-0800276018ee_0<br/>c66159f7bbb1        e94d2f21bc0c                              "/dashboard --insecu…"   9 hours ago         Up 9 hours                              k8s_kubernetes-dashboard_kubernetes-dashboard-5498ccf677-76m4p_kube-system_379d25df-43fc-11e8-9bdc-0800276018ee_0<br/>9655a81c4774        k8s.gcr.io/pause-amd64:3.1                "/pause"                 9 hours ago         Up 9 hours                              k8s_POD_storage-provisioner_kube-system_37b1857a-43fc-11e8-9bdc-0800276018ee_0<br/>181c18376710        k8s.gcr.io/pause-amd64:3.1                "/pause"                 9 hours ago         Up 9 hours                              k8s_POD_kubernetes-dashboard-5498ccf677-76m4p_kube-system_379d25df-43fc-11e8-9bdc-0800276018ee_0<br/>059dbffd77a8        bfc21aadc7d3                              "/usr/local/bin/kube…"   9 hours ago         Up 9 hours                              k8s_kube-proxy_kube-proxy-54grl_kube-system_36602bab-43fc-11e8-9bdc-0800276018ee_0<br/>e01bd0019c54        k8s.gcr.io/pause-amd64:3.1                "/pause"                 9 hours ago         Up 9 hours                              k8s_POD_kube-dns-86f4d74b45-rn77t_kube-system_36757013-43fc-11e8-9bdc-0800276018ee_0<br/>c228bc6a08f2        k8s.gcr.io/pause-amd64:3.1                "/pause"                 9 hours ago         Up 9 hours                              k8s_POD_kube-proxy-54grl_kube-system_36602bab-43fc-11e8-9bdc-0800276018ee_0<br/>13c7ead58a8a        k8s.gcr.io/kube-addon-manager             "/opt/kube-addons.sh"    9 hours ago         Up 9 hours                              k8s_kube-addon-manager_kube-addon-manager-minikube_kube-system_3afaf06535cc3b85be93c31632b765da_0<br/>8d107a49bb35        k8s.gcr.io/etcd-amd64                     "etcd --trusted-ca-f…"   9 hours ago         Up 9 hours                              k8s_etcd_etcd-minikube_kube-system_81863d536a89394bba50bb73a89a992c_0<br/>8e024c415b10        ad86dbed1555                              "kube-controller-man…"   9 hours ago         Up 9 hours                              k8s_kube-controller-manager_kube-controller-manager-minikube_kube-system_c99e025a9909fa42937a981a5e853e43_0<br/>e97902f55311        704ba848e69a                              "kube-scheduler --ad…"   9 hours ago         Up 9 hours                              k8s_kube-scheduler_kube-scheduler-minikube_kube-system_31cf0ccbee286239d451edb6fb511513_0<br/>de13a6d9497b        af20925d51a3                              "kube-apiserver --ad…"   9 hours ago         Up 9 hours                              k8s_kube-apiserver_kube-apiserver-minikube_kube-system_c194f2aea396d3629dd959cab3a6d123_0<br/>cfc209637a86        k8s.gcr.io/pause-amd64:3.1                "/pause"                 9 hours ago         Up 9 hours                              k8s_POD_kube-scheduler-minikube_kube-system_31cf0ccbee286239d451edb6fb511513_0<br/>8bcebf96710a        k8s.gcr.io/pause-amd64:3.1                "/pause"                 9 hours ago         Up 9 hours                              k8s_POD_kube-controller-manager-minikube_kube-system_c99e025a9909fa42937a981a5e853e43_0<br/>a49adb604fb4        k8s.gcr.io/pause-amd64:3.1                "/pause"                 9 hours ago         Up 9 hours                              k8s_POD_kube-addon-manager-minikube_kube-system_3afaf06535cc3b85be93c31632b765da_0<br/>4229e0627458        k8s.gcr.io/pause-amd64:3.1                "/pause"                 9 hours ago         Up 9 hours                              k8s_POD_kube-apiserver-minikube_kube-system_c194f2aea396d3629dd959cab3a6d123_0<br/>40ad04db4e4b        k8s.gcr.io/pause-amd64:3.1                "/pause"                 9 hours ago         Up 9 hours                              k8s_POD_etcd-minikube_kube-system_81863d536a89394bba50bb73a89a992c_</span></pre><p id="bfbb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">步骤9-访问minikube仪表板。</p><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="77f0" class="lq lr iq lm b gy ls lt l lu lv">$ kubectl get pods -n kube-system -o wide | grep dashboard<br/>kubernetes-dashboard-5498ccf677-76m4p   1/1       Running   0          9h        172.17.0.3   minikube<br/><br/>$ kubectl get svc -o wide<br/>NAME         TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE       SELECTOR<br/>kubernetes   ClusterIP   10.96.0.1    &lt;none&gt;        443/TCP   9h        &lt;none&gt;<br/><br/>$ kubectl get svc -n kube-system -o wide<br/>NAME                   TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)         AGE       SELECTOR<br/>kube-dns               ClusterIP   10.96.0.10     &lt;none&gt;        53/UDP,53/TCP   9h        k8s-app=kube-dns<br/>kubernetes-dashboard   NodePort    10.100.206.6   &lt;none&gt;        80:30000/TCP    9h        app=kubernetes-dashboard<br/><br/>$ minikube dashboard<br/>Opening kubernetes dashboard in default browser...</span></pre><figure class="lh li lj lk gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi lz"><img src="../Images/9fe03a88581f1a5943cae238f28321f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gwBRFcVG7x7y_UsFc08RfQ.png"/></div></div></figure><p id="9dd2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">步骤10——让我们在Minikube上部署Weave Scope。</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="5250" class="lq lr iq lm b gy ls lt l lu lv">$ kubectl apply -f 'https://cloud.weave.works/k8s/scope.yaml' -n weave<br/>Warning: kubectl apply should be used on resource created by either kubectl create --save-config or kubectl apply<br/>namespace "weave" configured<br/>serviceaccount "weave-scope" created<br/>clusterrole "weave-scope" created<br/>clusterrolebinding "weave-scope" created<br/>deployment "weave-scope-app" created<br/>service "weave-scope-app" created<br/>daemonset "weave-scope-agent” created<br/><br/>$ kubectl get all -n weave<br/>NAME                   DESIRED   CURRENT   READY     UP-TO-DATE   AVAILABLE   NODE SELECTOR   AGE<br/>ds/weave-scope-agent   1         1         1         1            1           &lt;none&gt;          2m<br/><br/>NAME                     DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE<br/>deploy/weave-scope-app   1         1         1            1           2m<br/><br/>NAME                            DESIRED   CURRENT   READY     AGE<br/>rs/weave-scope-app-69f8c6745d   1         1         1         2m<br/><br/>NAME                                  READY     STATUS    RESTARTS   AGE<br/>po/weave-scope-agent-wjdbb            1/1       Running   0          2m<br/>po/weave-scope-app-69f8c6745d-m959f   1/1       Running   0          2m<br/><br/>NAME                  TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)   AGE<br/>svc/weave-scope-app   ClusterIP   10.97.176.123.   &lt;none&gt;        80/TCP    2m<br/><br/>Change “ClusterIP” to “NodePort”<br/>$ kubectl edit svc weave-scope-app -n weave<br/><br/>$ kubectl get svc  -n weave<br/>NAME              TYPE       CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE<br/>weave-scope-app   NodePort   10.97.176.123.   &lt;none&gt;        80:32766/TCP   40</span></pre><p id="8e06" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">步骤11-通过浏览器访问Weave范围。</p><figure class="lh li lj lk gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi lz"><img src="../Images/cde42b71c4c1af4cadbf2a9d5a5e6d7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tRvbnzYiFb1VwBybQRrB3Q.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">编织范围</figcaption></figure><p id="e5fc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">恭喜你！！！享受开发容器化的微服务应用程序，并通过Weave Scope控制它们。</p><p id="741f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请看:</p><ul class=""><li id="67bb" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk kq kr ks kt bi translated"><a class="ae ku" href="https://www.weave.works/" rel="noopener ugc nofollow" target="_blank">编织作品</a></li><li id="e06b" class="kl km iq jp b jq kv ju kw jy kx kc ky kg kz kk kq kr ks kt bi translated"><a class="ae ku" href="http://kubernetes.io/" rel="noopener ugc nofollow" target="_blank"> Kubernetes </a></li></ul></div></div>    
</body>
</html>