<html>
<head>
<title>Angular life: Server Status Codes with Angular Universal</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Angular life:带Angular Universal的服务器状态代码</h1>
<blockquote>原文：<a href="https://itnext.io/angular-life-server-status-codes-with-angular-universal-8b2b8f0163ff?source=collection_archive---------0-----------------------#2021-07-27">https://itnext.io/angular-life-server-status-codes-with-angular-universal-8b2b8f0163ff?source=collection_archive---------0-----------------------#2021-07-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="70e5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">显然，<em class="kl">浏览器</em>和<em class="kl">服务器</em>没有那么相似😅。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/8779dd63383ba4e7b04e5390a1fd3cdb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nLpNXqhMcS2EDvqKKJgmew.png"/></div></div></figure></div><div class="ab cl ky kz hu la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ij ik il im in"><h1 id="dc02" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">#问题</h1><p id="e093" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">既然您已经成功地为您的项目设置了<strong class="jp ir"><em class="kl">Angular Universal</em></strong>，为了利用那种<em class="kl">甜美</em>和<em class="kl">快速</em>的服务器端渲染，您可以开始了🐾起来，你对自己说🧠:</p><blockquote class="mi mj mk"><p id="813f" class="jn jo kl jp b jq jr js jt ju jv jw jx ml jz ka kb mm kd ke kf mn kh ki kj kk ij bi translated">我受够了。我可以专注于客户，有趣的部分！</p></blockquote><h1 id="25ab" class="lf lg iq bd lh li mo lk ll lm mp lo lp lq mq ls lt lu mr lw lx ly ms ma mb mc bi translated">#大约两周后</h1><p id="fb7a" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">谷歌总部的人🏢给了你一个提示。如果你的服务器在试图访问一部不存在的<em class="kl">电影</em> / <em class="kl">汽车</em> / <em class="kl">书籍</em>时返回<strong class="jp ir"> 404 </strong>，你的<strong class="jp ir"> SEO </strong>会变得更好，因为谷歌会停止抓取那些<em class="kl">坏的网址👎</em>(存在于互联网某处)。</p><p id="6065" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">同样，现在你发布了你网站的<strong class="jp ir"> v2 </strong>，你想从<code class="fe mt mu mv mw b">movies?category=drama</code>重定向到<code class="fe mt mu mv mw b">movies/drama</code>，但是你也不想失去街头信誉💰这些网页已经与谷歌。同一个好朋友👆告诉你，如果你做一个<strong class="jp ir"> 301永久重定向</strong>，谷歌会变得更聪明，重新分配已经赢得的信用到新的页面。</p><blockquote class="mi mj mk"><p id="2064" class="jn jo kl jp b jq jr js jt ju jv jw jx ml jz ka kb mm kd ke kf mn kh ki kj kk ij bi translated">听起来棒极了！⭐️</p></blockquote><p id="2d07" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你对自己说。</p><blockquote class="mi mj mk"><p id="feac" class="jn jo kl jp b jq jr js jt ju jv jw jx ml jz ka kb mm kd ke kf mn kh ki kj kk ij bi translated">但是等等，我如何在我的<strong class="jp ir"> Angular </strong>代码中使用不同的<strong class="jp ir">服务器</strong>状态代码？我不想让我的服务器突然知道我网站上的所有逻辑。嗯…🤔</p></blockquote><h1 id="d2a6" class="lf lg iq bd lh li mo lk ll lm mp lo lp lq mq ls lt lu mr lw lx ly ms ma mb mc bi translated">#解决方案</h1><p id="9287" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">嗯，没那么难。显然，你可以<em class="kl">注入</em>来自<code class="fe mt mu mv mw b">express</code>的<strong class="jp ir">响应</strong>，并根据你的喜好使用它。</p><p id="8924" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">解决方案的第一部分:<strong class="jp ir">状态响应服务</strong>:</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="8f5d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是面包和黄油🍞我们设置的🧈。一些🔑这里的要点是:</p><ul class=""><li id="a748" class="mz na iq jp b jq jr ju jv jy nb kc nc kg nd kk ne nf ng nh bi translated">该响应是@ <strong class="jp ir">可选的</strong>注入参数</li><li id="1d6e" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk ne nf ng nh bi translated">我们可以在响应上使用<code class="fe mt mu mv mw b">statusCode</code>、<code class="fe mt mu mv mw b">statusMessage</code>、<code class="fe mt mu mv mw b">finished</code>和<code class="fe mt mu mv mw b">end() </code></li><li id="a2a4" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk ne nf ng nh bi translated"><strong class="jp ir">响应</strong>是一个<code class="fe mt mu mv mw b">express-engine/token</code>。因此，请确保您使用的是正确的导入</li></ul><p id="18b7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，为了让这个工作，我们必须确保在我们的<strong class="jp ir">应用模块</strong>或<strong class="jp ir">核心模块</strong>或<em class="kl">中提供这个服务，不管你的提供策略是什么</em>。沿着这条线的东西可能是:</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mx my l"/></div></figure><h1 id="c80c" class="lf lg iq bd lh li mo lk ll lm mp lo lp lq mq ls lt lu mr lw lx ly ms ma mb mc bi translated">#怎么用？</h1><p id="135a" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">现在，你如何使用它？好吧，随你怎么想。它可以设置<strong class="jp ir"> 404s </strong>，它可以设置<strong class="jp ir"> 301s </strong>，它可以设置<strong class="jp ir"> 500s </strong>，它可以吠叫🐶…等等，它还不能这么做…还不行！</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="8380" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一个非常简单的例子，说明如何在<strong class="jp ir"> 404 </strong>场景中使用该服务。这将使一切短路，并将向浏览器返回一个简单的<strong class="jp ir"> 404 </strong>和消息<code class="fe mt mu mv mw b">Movie does not exist...yet!</code>。</p><p id="bdba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这不是最好的解决办法。理想地💡，您可能希望让<strong class="jp ir">某个组件</strong>也听到这个消息，可能会在发布<strong class="jp ir"> 404 </strong>时显示一个漂亮的<strong class="jp ir"> UI </strong>，但是您明白这一点。世界是你的！🐚</p><h1 id="9556" class="lf lg iq bd lh li mo lk ll lm mp lo lp lq mq ls lt lu mr lw lx ly ms ma mb mc bi translated">#想要更多？</h1><p id="f9cc" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">如果你想看到更多关于这个的高级用例，请告诉我，这样我就可以做一些漂亮的UI处理之类的后续工作。</p><p id="60e3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">此外，如果你有问题，你知道在哪里可以找到我…在互联网上！🤓</p><p id="5efb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">再见。👋</p><h1 id="ace3" class="lf lg iq bd lh li mo lk ll lm mp lo lp lq mq ls lt lu mr lw lx ly ms ma mb mc bi translated">#延伸阅读？</h1><p id="7243" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">一些其他角通用提示🖥:</p><ol class=""><li id="cb0f" class="mz na iq jp b jq jr ju jv jy nb kc nc kg nd kk nn nf ng nh bi translated"><a class="ae no" href="https://catalincodes.com/posts/user-preferred-language-with-angular" rel="noopener ugc nofollow" target="_blank">角度寿命:用户首选语言带角度通用</a></li></ol><p id="46f3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一些笔记📓我拍的:</p><ol class=""><li id="32e5" class="mz na iq jp b jq jr ju jv jy nb kc nc kg nd kk nn nf ng nh bi translated"><a class="ae no" rel="noopener ugc nofollow" target="_blank" href="/notes-nativescript-angular-5ae7dbe18672?source=friends_link&amp;sk=30e20b23026b8cf15fbabaed268f4687">注释:NativeScript + Angular </a></li><li id="1875" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk nn nf ng nh bi translated"><a class="ae no" rel="noopener ugc nofollow" target="_blank" href="/notes-react-redux-e0c7a4d62e69">备注:React + Redux </a></li></ol><p id="ffd7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">另外，如果你对🧪测试驱动开发感兴趣:</p><ol class=""><li id="316b" class="mz na iq jp b jq jr ju jv jy nb kc nc kg nd kk nn nf ng nh bi translated">角度世界中的测试驱动开发:第1部分</li><li id="8a9a" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk nn nf ng nh bi translated"><a class="ae no" href="https://catalincodes.com/posts/test-driven-development-in-an-angular-world-part-2" rel="noopener ugc nofollow" target="_blank">角度世界中的测试驱动开发:第二部分</a></li><li id="40d1" class="mz na iq jp b jq ni ju nj jy nk kc nl kg nm kk nn nf ng nh bi translated"><a class="ae no" href="https://catalincodes.com/posts/test-driven-development-in-an-angular-world-part-3" rel="noopener ugc nofollow" target="_blank">角度世界中的测试驱动开发:第3部分</a></li></ol><div class="np nq gp gr nr ns"><a href="https://twitter.com/c5n_c8u" rel="noopener  ugc nofollow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ir gy z fp nx fr fs ny fu fw ip bi translated">JavaScript不可用。</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">编辑描述</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">twitter.com</p></div></div><div class="ob l"><div class="oc l od oe of ob og kw ns"/></div></div></a></div><h1 id="3af6" class="lf lg iq bd lh li mo lk ll lm mp lo lp lq mq ls lt lu mr lw lx ly ms ma mb mc bi translated">#结束通话</h1></div></div>    
</body>
</html>