<html>
<head>
<title>Connecting Angular 6 to WordPress</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将Angular 6连接到WordPress</h1>
<blockquote>原文：<a href="https://itnext.io/connecting-angular-6-to-wordpress-ee0055686a70?source=collection_archive---------2-----------------------#2018-05-30">https://itnext.io/connecting-angular-6-to-wordpress-ee0055686a70?source=collection_archive---------2-----------------------#2018-05-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/1d4f10ff9c5555f4def9c21b91aeb9ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EfMYu3d00zeR3qFjI5iWTA.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">Angular和WordPress</figcaption></figure><p id="351f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们爱Angular，也爱WordPress。所以让我们永远做他们的朋友。</p><p id="259d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在本教程中，我们将创建一个新的Angular 6应用程序，将其连接到一个WordPress网站，并制作一个漂亮的材料设计博客列表页面。</p><p id="6db5" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">因此，让我们开始使用<a class="ae la" href="https://cli.angular.io/" rel="noopener ugc nofollow" target="_blank"> Angular CLI </a>来创建一个新的应用程序。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h2 id="117a" class="li lj iq bd lk ll lm dn ln lo lp dp lq kn lr ls lt kr lu lv lw kv lx ly lz ma bi translated">创建角度应用程序</h2><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="a410" class="li lj iq mg b gy mk ml l mm mn">ng new angular-wordpress-api --style scss</span></pre><p id="a2de" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这将为我们创建一个新的闪亮的应用程序，使用Sass的造型！但是我们仍然需要安装<a class="ae la" href="https://material.angular.io/" rel="noopener ugc nofollow" target="_blank">角状材料</a>，这样我们就可以让我们的应用看起来更好，幸运的是，从角状6开始，使用命令行界面非常简单。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="b49a" class="li lj iq mg b gy mk ml l mm mn">ng add @angular/material</span></pre><p id="a346" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">接下来，我们将添加<a class="ae la" href="https://github.com/angular/flex-layout" rel="noopener ugc nofollow" target="_blank">角度灵活布局</a>，这样我们就可以为我们的帖子制作一个漂亮的网格。<em class="mo">截至2018年5月29日，Flex布局尚未准备好进行ng添加，因此我们将暂时使用旧的NPM</em></p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="b9e1" class="li lj iq mg b gy mk ml l mm mn">npm i --save <a class="ae la" href="http://twitter.com/angular/flex-layout" rel="noopener ugc nofollow" target="_blank">@angular/flex-layout</a>@6.0.0-beta.15</span></pre><p id="cbd1" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在我们已经打下了基础，我们可以开始创建一些代码。所以，在你最喜欢的代码编辑器中打开新的应用程序，让我们开始破解吧。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h2 id="9e1d" class="li lj iq bd lk ll lm dn ln lo lp dp lq kn lr ls lt kr lu lv lw kv lx ly lz ma bi translated">导入物料模块。</h2><p id="0382" class="pw-post-body-paragraph kc kd iq ke b kf mp kh ki kj mq kl km kn mr kp kq kr ms kt ku kv mt kx ky kz ij bi translated">让我们导入一些可以用来使应用程序看起来很棒的材料组件。在src/app文件夹中创建一个新文件，并将其命名为app-material.module.ts</p><figure class="mb mc md me gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="cce7" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">然后转到app.module.ts文件，将该模块添加到应用程序导入中。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="2ddc" class="li lj iq mg b gy mk ml l mm mn">imports: [<br/>  BrowserModule,<br/>  BrowserAnimationsModule,<br/>  AppMaterialModule  <br/>],</span></pre></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h2 id="00b2" class="li lj iq bd lk ll lm dn ln lo lp dp lq kn lr ls lt kr lu lv lw kv lx ly lz ma bi translated">导入Flex模块</h2><p id="b198" class="pw-post-body-paragraph kc kd iq ke b kf mp kh ki kj mq kl km kn mr kp kq kr ms kt ku kv mt kx ky kz ij bi translated">我们还应该将Flex布局模块导入app.module.ts，这将帮助我们创建帖子的网格。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="c961" class="li lj iq mg b gy mk ml l mm mn">import { FlexModule } from ‘@angular/flex-layout’;</span></pre><p id="2d49" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">请确保将此添加到您的应用导入中</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="ba42" class="li lj iq mg b gy mk ml l mm mn">imports: [<br/>  BrowserModule,<br/>  BrowserAnimationsModule,<br/>  AppMaterialModule,<br/>  FlexModule<br/>],</span></pre></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h2 id="3c82" class="li lj iq bd lk ll lm dn ln lo lp dp lq kn lr ls lt kr lu lv lw kv lx ly lz ma bi translated">从WordPress获取一些内容</h2><p id="5bfb" class="pw-post-body-paragraph kc kd iq ke b kf mp kh ki kj mq kl km kn mr kp kq kr ms kt ku kv mt kx ky kz ij bi translated">为了从WordPress获取一些数据，我们首先需要为我们的应用程序添加HTTP功能，我们可以通过添加Angular HttpClient模块来实现。</p><p id="5cd0" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">打开app.module.ts并添加以下内容</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="73cc" class="li lj iq mg b gy mk ml l mm mn">import { HttpClientModule } from '@angular/common/http';</span></pre><p id="9ef3" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">然后将此添加到您的导入中</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="3dc8" class="li lj iq mg b gy mk ml l mm mn">imports: [<br/>  BrowserModule,<br/>  BrowserAnimationsModule,<br/>  AppMaterialModule,<br/>  FlexModule,<br/>  HttpClientModule<br/>],</span></pre><p id="df67" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">接下来，我们将创建一个处理获取post数据的服务，这也通过使用Angular CLI得以简化</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="6dda" class="li lj iq mg b gy mk ml l mm mn">ng generate service wordpress</span></pre><p id="060a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这将生成一个新的服务文件。</p><figure class="mb mc md me gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="9fec" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在这个文件中，我们创建了一个简单的函数getPosts，它将使用HttpClient从我们的一个<a class="ae la" href="http://www.oxygenna.com" rel="noopener ugc nofollow" target="_blank"> WordPress站点</a>获取帖子，这个函数将返回一个可观察到的帖子。我们添加了一个per_page参数，只抓取最近的6篇文章，并添加了？_嵌入到url，这确保了WordPress API也将包含帖子特色图片的url。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h2 id="352c" class="li lj iq bd lk ll lm dn ln lo lp dp lq kn lr ls lt kr lu lv lw kv lx ly lz ma bi translated">使用我们的文章数据创建博客列表</h2><p id="adbc" class="pw-post-body-paragraph kc kd iq ke b kf mp kh ki kj mq kl km kn mr kp kq kr ms kt ku kv mt kx ky kz ij bi translated">接下来，我们希望将这个闪亮的新服务投入使用并显示结果。</p><p id="d6d0" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">因此，让我们更改主要的应用程序组件，以显示来自WordPress服务的帖子的3x2网格。</p><p id="4a76" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">首先，让我们更改app.component.ts文件以使用我们的服务。</p><figure class="mb mc md me gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="64b4" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这到底是怎么回事？</p><p id="f771" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们创建了一个名为posts$的新的可观察变量，它将存储我们使用WordpressService从API获取的帖子列表。</p><p id="9e5f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们将使用异步管道在我们的app.component.html视图文件中订阅这个可观察对象。</p><figure class="mb mc md me gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="40cb" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在这里，您可以看到我们使用Material组件构建了一个简单的博客列表页面。我们首先添加一个以博客列表为标题的工具栏。接下来，我们添加一个页面包装器div来添加一些填充。接下来是Flexy部分，我们使用Angular Flex创建一个行布局，在每个元素之间添加16px的间隙。</p><p id="28e0" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在Flex Layout div中，我们使用角形材质卡片，循环遍历每个帖子，为每个帖子创建一个卡片。</p><p id="2578" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">结果看起来是这样的。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/78b2f9f685139ab63e752f2df3908a57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VT9ljAQ2xhkdHUlVjzV0KA.png"/></div></div></figure><p id="7b62" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">你可以<a class="ae la" href="https://github.com/oxygenna/angular-wordpress-api" rel="noopener ugc nofollow" target="_blank">在GitHub </a>上查看这里的所有源代码。</p><p id="d5cd" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">请在下面的评论中告诉我们你的想法，如果你喜欢这个，那么一定要看看我们最新的管理模板门户网站<a class="ae la" href="https://themeforest.net/item/portal-angular-react-html-material-admin-template/21513258?ref=oxygenna" rel="noopener ugc nofollow" target="_blank">！</a>包括Angular、React和HTML管理面板模板。</p></div></div>    
</body>
</html>