<html>
<head>
<title>Docker Development Environment: Angular — Full Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Docker开发环境:Angular —完整指南</h1>
<blockquote>原文：<a href="https://itnext.io/docker-development-environment-angular-full-guide-a38ee34fb651?source=collection_archive---------1-----------------------#2021-10-18">https://itnext.io/docker-development-environment-angular-full-guide-a38ee34fb651?source=collection_archive---------1-----------------------#2021-10-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/51457f6d314662ef9629aaba047590d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RZzluYzFCaB0T8mlnn0pCg.png"/></div></div></figure><p id="f057" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们假设您刚刚格式化了您的windows笔记本电脑，并且在下载Nodejs LTS版本之前享受了您的全新安装。另一个有趣的旅程是在本地机器上安装Docker、VSCode、enable WSL。当然，事实上，我们使用Windows而不是Unix的替代品将“花费”更多的步骤，但最终的外观和感觉将是完美的，笔记本电脑比以往任何时候都干净。</p><p id="1727" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这些步骤如下:</p><ul class=""><li id="5006" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated">[x]全新Windows安装</li><li id="1f9a" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">[x]咖啡</li><li id="331f" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">[ ]下载&amp;ιinstall Docker(启用WSL 2)、Git、WSL、VSCode</li><li id="b440" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">[ ]配置WSL、Docker、Git、VSCode</li><li id="f5fa" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">[ ]最后步骤和奖励</li></ul><p id="da22" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lk">我们开始吧！</em></p><h1 id="9d96" class="ll lm iq bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated"><strong class="ak">下载&amp;安装提示</strong></h1><p id="4b82" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated"><strong class="ka ir">码头工人</strong></p><ul class=""><li id="e6e3" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated">在Docker安装期间，您应该检查<em class="lk">安装WSL 2所需的Windows组件</em></li><li id="41c8" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">确保在<em class="lk"> Docker &gt;设置&gt; General </em>中选择<strong class="ka ir">使用基于WSL 2的引擎</strong></li></ul><p id="a711" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">饭桶</strong></p><ul class=""><li id="4ceb" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated">安装Git for windows并设置所需的凭据，以便从/向您的存储库克隆/拉/推。使用<strong class="ka ir">个人访问令牌</strong>并将其存储在<strong class="ka ir"> Windows凭证</strong>中</li></ul><p id="c582" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> VSCode </strong></p><ul class=""><li id="8d96" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated">将VSCode添加到Windows路径</li><li id="a5a3" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">打开VSCode安装<strong class="ka ir"> Remote — WSL扩展(微软)</strong></li></ul><p id="4750" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> WSL </strong></p><ul class=""><li id="0430" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated">以管理员身份运行CMD或PowerShell并键入<code class="fe mo mp mq mr b">wsl -l -o</code>。您将看到可用的发行版</li><li id="1cb8" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">通过运行<code class="fe mo mp mq mr b">wsl --install -d Ubuntu-20.04</code>安装一个，例如Ubuntu-20.04</li></ul><h1 id="f630" class="ll lm iq bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated"><strong class="ak">配置</strong></h1><p id="02c9" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated"><strong class="ka ir"> WSL </strong></p><ul class=""><li id="9c8e" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated">运行<code class="fe mo mp mq mr b">wsl -l -v</code>你会注意到Ubuntu发行版的版本是1，默认子系统是docker-desktop。</li><li id="f771" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">用<code class="fe mo mp mq mr b">wsl --set-version Ubuntu-20.04 2</code>升级v2中的发行版</li><li id="71a9" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">将v2设置为furure安装的默认版本<code class="fe mo mp mq mr b">wsl --set-default-version 2</code></li><li id="c373" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">为Docker <code class="fe mo mp mq mr b">wsl --set-default Ubuntu-20.04</code>设置默认发行版</li></ul><p id="84c1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">码头工人</strong></p><ul class=""><li id="7003" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated">导航到<em class="lk">Docker&gt;Settings&gt;Resources&gt;WSL INTEGRATION</em>并通过点击切换开关启用您的新发行版，然后点击<em class="lk"> Apply &amp; Restart </em></li><li id="280e" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">运行<code class="fe mo mp mq mr b">docker build -t angular12 .</code>这是我的Docker文件，用Angular创建一个Docker图像:</li></ul><pre class="ms mt mu mv gt mw mr mx my aw mz bi"><span id="e8d8" class="na lm iq mr b gy nb nc l nd ne">FROM node:14-alpine</span><span id="196c" class="na lm iq mr b gy nf nc l nd ne">RUN npm install -g @angular/cli</span><span id="8256" class="na lm iq mr b gy nf nc l nd ne">USER node</span><span id="0a84" class="na lm iq mr b gy nf nc l nd ne">WORKDIR /app</span><span id="c50d" class="na lm iq mr b gy nf nc l nd ne">EXPOSE 4200 49153</span><span id="131e" class="na lm iq mr b gy nf nc l nd ne">CMD npm start</span></pre><ul class=""><li id="973d" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated">打开cmd并运行<code class="fe mo mp mq mr b">wsl</code>。您可以在主目录中为您的项目创建一个文件夹</li><li id="ef65" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">现在用<code class="fe mo mp mq mr b">docker run -it -v $(pwd):/app -p 4200:4200 -p 49153:49153 --name ng angular12 sh</code>创建一个Docker容器(在linux发行版的项目文件夹中)</li><li id="5aa0" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">运行<code class="fe mo mp mq mr b">ng new my-app --skip-git</code>和<code class="fe mo mp mq mr b">chmod -R 777 ./*</code></li><li id="5ba2" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">打开一个新的cmd，键入<code class="fe mo mp mq mr b">wsl</code>，导航到新项目的文件夹并运行<code class="fe mo mp mq mr b">code .</code>(如果您的路径中没有VSCode，请按照Remote-WSL扩展中的步骤操作，以便在上面的位置打开它)</li></ul><h1 id="4f7c" class="ll lm iq bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated"><strong class="ak">最终步骤&amp;奖金</strong></h1><ul class=""><li id="7ef7" class="kw kx iq ka b kb mj kf mk kj ng kn nh kr ni kv lb lc ld le bi translated">打开<strong class="ka ir"> package.json </strong>文件，将<code class="fe mo mp mq mr b">”start”: “ng serve”,</code>替换为<code class="fe mo mp mq mr b">”start”: “ng serve --host 0.0.0.0 --poll”,</code></li><li id="8382" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">从容器内部运行<code class="fe mo mp mq mr b">npm start</code>并导航至<code class="fe mo mp mq mr b">http://localhost:4200</code></li><li id="f4fd" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">通过运行以下命令在WSL中配置git:</li></ul><pre class="ms mt mu mv gt mw mr mx my aw mz bi"><span id="c942" class="na lm iq mr b gy nb nc l nd ne">git config --global user.name “Your Name”</span><span id="4f62" class="na lm iq mr b gy nf nc l nd ne">git config --global user.email “youremail@domain.com”</span><span id="245c" class="na lm iq mr b gy nf nc l nd ne">git config --global credential.helper “/mnt/c/Program\ Files/Git/mingw64/libexec/git-core/git-credential-manager-core.exe”</span></pre><ul class=""><li id="9d10" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated">运行<code class="fe mo mp mq mr b">git init</code>，<strong class="ka ir">提交</strong>项目中的变更，并<strong class="ka ir">将</strong>推至远程</li></ul><h1 id="a3c6" class="ll lm iq bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated"><strong class="ak">奖金</strong></h1><ul class=""><li id="a84c" class="kw kx iq ka b kb mj kf mk kj ng kn nh kr ni kv lb lc ld le bi translated">当WSL运行时，您可以使用windows资源管理器在<code class="fe mo mp mq mr b">\\WSL$</code>位置导航</li><li id="94d4" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">更新自动生成的<em class="lk">。编辑器配置</em>文件。找到<code class="fe mo mp mq mr b">[*]</code>，在它下面增加一条新规则:<code class="fe mo mp mq mr b">end_of_line=crlf</code>。还包括一个新的类别<code class="fe mo mp mq mr b">[*.sh]</code>并将<code class="fe mo mp mq mr b">end_of_line=lf</code>放在其下</li></ul><blockquote class="nj nk nl"><p id="df83" class="jy jz lk ka b kb kc kd ke kf kg kh ki nm kk kl km nn ko kp kq no ks kt ku kv ij bi translated">如果你更喜欢带有Dockerfile和README的git repo，而不是这篇文章，请在此处查看<a class="ae np" href="https://github.com/stavrosdro/angular-docker-guide" rel="noopener ugc nofollow" target="_blank"><em class="iq"/></a>。</p></blockquote><p id="67ab" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lk">享受</em>🚀🚀🚀</p></div></div>    
</body>
</html>