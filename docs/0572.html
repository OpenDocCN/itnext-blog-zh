<html>
<head>
<title>Serializing/deserializing JSON in the OutSystems Platform</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在外部系统平台中序列化/反序列化JSON</h1>
<blockquote>原文：<a href="https://itnext.io/serializing-deserializing-json-in-the-outsystems-platform-ae08f2f6b5b4?source=collection_archive---------2-----------------------#2018-04-03">https://itnext.io/serializing-deserializing-json-in-the-outsystems-platform-ae08f2f6b5b4?source=collection_archive---------2-----------------------#2018-04-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="1c93" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从版本10开始，<a class="ae kl" href="https://www.outsystems.com/" rel="noopener ugc nofollow" target="_blank"> OutSystems </a>平台现在在visual IDE (Service Studio)中提供内置的JSON序列化/反序列化。与以前的版本相比，这是一个很大的改进，在以前的版本中，您必须自己进行序列化/反序列化操作，或者从外部系统<a class="ae kl" href="https://www.outsystems.com/forge/" rel="noopener ugc nofollow" target="_blank"> Forge </a>(一个免费的社区模块库，用于加速应用交付)安装现有的操作。</p><p id="4ff0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最近我试图在OutSystems论坛上帮助某人，我自己在尝试使用这些新的内置动作时也遇到了一些问题。</p></div><div class="ab cl km kn hu ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="ij ik il im in"><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi kt"><img src="../Images/32d027eca3e44d70e81294de52a41d59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rtpGna0eRM-MiiqgEWQwmg.png"/></div></div></figure><p id="6ede" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">可用的新操作是JSON Serialize和JSON Deserialize。您可以在Service Studio的工具箱中找到它们。</p><p id="5769" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">回到我提到的问题…这个案例很简单。有人试图反序列化serialize的输出(困惑了吗？😕)但是没有价值出来。</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi lf"><img src="../Images/c4d3ce0c5048121c3f8971a4505c74c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rumwNsh0_li2woCq_cHqkg.png"/></div></div></figure><p id="cd14" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">流程大概是这样的:</p><ol class=""><li id="c7fe" class="lg lh iq jp b jq jr ju jv jy li kc lj kg lk kk ll lm ln lo bi translated">从实体获取一些记录(水果)</li><li id="1b9f" class="lg lh iq jp b jq lp ju lq jy lr kc ls kg lt kk ll lm ln lo bi translated">将水果列表序列化为JSON</li><li id="afb8" class="lg lh iq jp b jq lp ju lq jy lr kc ls kg lt kk ll lm ln lo bi translated">将所述JSON反序列化回一个列表</li></ol><p id="bac4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，在第一个LogMessage之前，一切都很好。您将获得以下JSON:</p><pre class="ku kv kw kx gt lu lv lw lx aw ly bi"><span id="969b" class="lz ma iq lv b gy mb mc l md me">[{"Fruit":{"Id":1,"Label":"Bananas","Order":1,"Is_Active":true}},{"Fruit":{"Id":2,"Label":"Oranges","Order":2,"Is_Active":true}},{"Fruit":{"Id":3,"Label":"Apples","Order":3,"Is_Active":true}}]</span></pre><p id="5cba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是，在反序列化上述JSON之后，没有记录任何内容。</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi mf"><img src="../Images/c7900cfba2c04f41dd7153f4b1c3a5be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9vcClnecdAS3J4O104rOTA.png"/></div></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk translated">空行反序列化。</figcaption></figure><p id="da98" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">建议:试着给自己做同样的例子，看看是否得到同样的结果。😁</p></div><div class="ab cl km kn hu ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="ij ik il im in"><p id="143f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">问题出在一个小细节上。在选择反序列化的数据类型时，Service Studio建议使用GetFruits " <strong class="jp ir"> List </strong>"类型，这在这个场景中不适用。</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi mk"><img src="../Images/7a6c1aeb493aad75bb748aedb9990c33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HDVKH77Vs1_SYskB78SPjw.png"/></div></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk translated">注意，数据类型是“<strong class="bd ml">水果列表</strong>”。</figcaption></figure><p id="e18c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">事情是这样的，你连载了一个“<strong class="jp ir">记录列表</strong>”(又糊涂了？😆).</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi mm"><img src="../Images/6d22764bf12fcb985634e8f91deb68f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MDqT83MGYF2kO0e451qeDQ.png"/></div></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk translated">注意，查询的输出是一个“<strong class="bd ml">水果记录列表</strong>”。</figcaption></figure><p id="6163" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，为了从反序列化中得到一些东西，您必须“纠正”IDE的建议，并说您想要反序列化的是“水果”的“<strong class="jp ir">记录列表</strong>”(而不是水果的“<strong class="jp ir">列表</strong>)。</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi mn"><img src="../Images/3583f9d2a366998e7c4a8b66c3cb0297.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ga6vsmUmjrJbNLUioFZQEg.png"/></div></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk translated">注意，数据类型现在是“<strong class="bd ml">水果记录列表</strong>”。</figcaption></figure><p id="e083" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">经过这个小的大的变化，你现在得到你的美味水果记录！</p><p id="db06" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这一切都是为了匹配被序列化/反序列化的类型。</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi mo"><img src="../Images/3ef555897364f0024c9c74ec58e02d33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tEt5upTsAQaaL7_v9UdxAA.png"/></div></div></figure></div><div class="ab cl km kn hu ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="ij ik il im in"><p id="2d4a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一头雾水的“<strong class="jp ir">列表</strong>”和“<strong class="jp ir">记录列表</strong>”？别担心。一切都在<a class="ae kl" href="https://www.outsystems.com/forums/discussion/14342/from-record-lists-to-lists/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">这个</strong> </a>帖子里解释。</p><p id="f89a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我希望你不要(像我一样)在想为什么反序列化不起作用的时候纠结…</p></div><div class="ab cl km kn hu ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="ij ik il im in"><p id="e5de" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">献给日本🤘</p></div></div>    
</body>
</html>