<html>
<head>
<title>Clio Programming Language: Gradual Typing and More in v0.12!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Clio编程语言:v0.12中的渐进打字等！</h1>
<blockquote>原文：<a href="https://itnext.io/clio-programming-language-gradual-typing-and-more-in-v0-12-1ba1083703b3?source=collection_archive---------3-----------------------#2021-10-11">https://itnext.io/clio-programming-language-gradual-typing-and-more-in-v0-12-1ba1083703b3?source=collection_archive---------3-----------------------#2021-10-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="0fbe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Clio是一种快速的多线程函数式编程语言，可以编译成JavaScript。Clio 0.12是最近发布的，它为该语言本身带来了许多新特性。在这些新特性中，有一个简单而有效的类型系统，以及一个渐进的类型检查系统。查看我们的<a class="ae kl" href="https://clio-lang.org/" rel="noopener ugc nofollow" target="_blank">网站</a>以了解更多关于Clio的信息，或者继续阅读以了解更多新功能！</p><h1 id="91af" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">装修工</h1><p id="4afc" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">装饰者是Clio编程语言的最新成员！根据定义，装饰器是包装另一个函数并对其进行适当修改的函数。它们在许多情况下非常有用，例如，看看下面用Clio编写的Express hello world应用程序:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/5e09ae91b05241c578b6c6d7462d324c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L8Y6Acvm6kWqRxLFhXGYpg.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">用Clio编写的一个简单的hello world web应用程序</figcaption></figure><p id="ea23" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它们也可以用来记录你的功能，以一种<a class="ae kl" href="https://jsdoc.app/" rel="noopener ugc nofollow" target="_blank"> JSDoc </a>的方式:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/3ba021e264b27bd2094f58408b845f8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FeKKfDffRlutKAZBdc9JXA.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">JSDoc启发的类型注释</figcaption></figure><p id="dc9e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可以使用<code class="fe mf mg mh mi b">clio docs</code>命令来检查Clio项目的文档:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi mj"><img src="../Images/2a12058afa0daf1c23bd4f11c9cca9aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*pb8wF__tpEImO7pxtjZmdA.gif"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">Clio docs命令</figcaption></figure><p id="5e0d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">很酷，不是吗？？</p><h1 id="5a0a" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">渐进静态和动态分型</h1><p id="6e88" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">Clio 0.12给语言增加了一个渐进的打字系统！想静态地对代码的某些部分进行类型检查，而对其他部分只在运行时进行检查吗？没问题，只在对你有意义的地方添加类型信息，跳过其他的！你会问，静态类型的语法是什么？你已经看过了！Clio使用<code class="fe mf mg mh mi b">@decorators</code>进行函数类型注释！</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/19cc1ec4628df5d0d107a3cab0757470.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S5-KhQxeVfrSDHFRq1evCg.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">Clio类型注释</figcaption></figure><p id="1166" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">类型注释也可以应用于常量和赋值:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/486a5964d3ca6250ada02f66a51c834c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZnqF6tuc7x5ZeMdCT5HSTQ.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">常数上的Clio类型注释</figcaption></figure><p id="fc5e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">给你的函数添加动态类型检查也非常简单，只需给你的函数加注释，最后添加<code class="fe mf mg mh mi b">@check</code>装饰器:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/141fcd948bc44fc79f8607e707bec3b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MbmYHMINoxO2PBeno6Rluw.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">函数的动态类型检查</figcaption></figure><p id="8193" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mf mg mh mi b">@check</code> decorator在运行时强制执行函数的类型正确性:它包装函数，如果传递给函数的返回值或参数与您定义的类型签名不匹配，它将抛出类型错误。</p><h1 id="cbb3" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">自定义类型</h1><p id="f0ee" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">Clio 0.12为类型声明添加了两个关键字:<code class="fe mf mg mh mi b">type</code>和<code class="fe mf mg mh mi b">list</code>关键字。第一个用于声明自定义类型。要定义自定义类型，您可以:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/a85a43bdadcf53c150403e92f98f1981.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iNrrDMoHT2c6vyCy1v47xw.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">Clio自定义类型</figcaption></figure><p id="3623" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您还可以为自定义类型的成员添加类型信息:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/5d08c387e6d07b9c2507939b728d58c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lLOm55ElKZ54LUzOglDU7g.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">自定义类型成员的类型信息</figcaption></figure><p id="2cab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，<code class="fe mf mg mh mi b">list</code>用于定义一个数组类型，其中包含某种类型的项:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/0b2053895a27e6da98e73887b0ee4ed0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-jYR9BO4QgmGzpUEWDbpSQ.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">在Clio中创建数组类型</figcaption></figure><h1 id="a6e5" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">不再有隐含的强制</h1><p id="5ea5" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">如果你试图在JavaScript中将一个<code class="fe mf mg mh mi b">Number</code>和一个<code class="fe mf mg mh mi b">String</code>加在一起，那么，你会大吃一惊的！你可以！以下代码是有效的JavaScript代码:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div class="ab gu cl mk"><img src="../Images/2435d173085b6947f6cd475e5c8eb4a9.png" data-original-src="https://miro.medium.com/v2/format:webp/1*U-XiB8Wft6XH8CgeEKDKBQ.png"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">JavaScript中的隐式强制</figcaption></figure><p id="5c98" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">上面的代码在第一行打印数字<code class="fe mf mg mh mi b">6</code>，在第二行打印字符串<code class="fe mf mg mh mi b">"42"</code>。很困惑，不是吗？Clio编译器现在遇到这种情况时会抛出错误。</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div class="ab gu cl mk"><img src="../Images/c956ba271d275e0b0d6207e40e53386c.png" data-original-src="https://miro.medium.com/v2/format:webp/1*N1-1FDOM07ydbf9tXlSWcA.png"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">使用Clio 0.12进行编译时类型检查</figcaption></figure><h1 id="a069" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">绝对进口</h1><p id="a19b" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">JavaScript中的相对导入会导致非常混乱的语句，如下所示:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/ec85a6dbb2e60fde550ff32c6503d027.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YwwaOEAtDR6TrOYHlniMTw.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">JavaScript混淆了相对导入</figcaption></figure><p id="200e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这对于编译器或代码编辑器来说可能很容易理解和解决，但是对于开发人员来说就不那么容易了。为什么我们不能使用绝对导入，从项目的根开始？Clio 0.12现在允许:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/d9084b811f9b779a2a3aeabbd403038f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kh53UZ62Wymuz7Zq40bnEg.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">绝对进口</figcaption></figure><p id="d07f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">看起来干净多了，不是吗？</p><h1 id="98ba" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">更快，更好的编译！</h1><p id="4d10" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">在0.12版本之前，Clio曾经编译项目的源目录中的每个Clio文件！这种行为改变了，而且变得更好了！现在Clio跟踪您的导入，并且只编译您导入到项目中的文件。编译器现在缓存结果，如果文件没有被修改就不会重新编译！</p><p id="c2c3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">编译器现在知道环境、声明以及函数和变量的范围了！这允许它执行准确的类型检查，并向第三方工具(如VSCode)提供附加信息:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi ml"><img src="../Images/a2d8ec13468ddaf1736da4dbba594686.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KaVEeqMDCtdOLX0fE8Gtzw.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">Clio VSCode扩展</figcaption></figure></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><p id="2b8d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你觉得你读的东西有趣吗？通过查看我们的<a class="ae kl" href="https://clio-lang.org/" rel="noopener ugc nofollow" target="_blank">网站</a>或我们的<a class="ae kl" href="https://github.com/clio-lang/clio" rel="noopener ugc nofollow" target="_blank"> GitHub资源库</a>来了解更多关于Clio的信息。你也可以在Telegram上加入我们的<a class="ae kl" href="https://t.me/clio_lang" rel="noopener ugc nofollow" target="_blank">社区聊天</a>，我们很友好！</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/6034fb6460541cf04cc73b8d449a420d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*z3p4-BG50woRTMJFIclJ8Q.png"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">Clio编程语言</figcaption></figure></div></div>    
</body>
</html>