<html>
<head>
<title>Creating and publishing VS Code extensions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建和发布VS代码扩展</h1>
<blockquote>原文：<a href="https://itnext.io/creating-and-publishing-vs-code-extensions-912b5b8b529?source=collection_archive---------0-----------------------#2018-12-30">https://itnext.io/creating-and-publishing-vs-code-extensions-912b5b8b529?source=collection_archive---------0-----------------------#2018-12-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="4c6a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">好了，我们在我们系列的第一篇文章中创建了一个片段<a class="ae kl" href="https://medium.com/@noringc/snippets-for-vs-code-6b36fc4ef11f" rel="noopener">片段创建</a>。</p><p id="0d47" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">是时候迈出下一步了，让我们与世界分享我们的创造。那么我们如何着手去做呢？嗯，实际上只有三个主要步骤:</p><ul class=""><li id="a7a1" class="km kn iq jp b jq jr ju jv jy ko kc kp kg kq kk kr ks kt ku bi translated"><strong class="jp ir">脚手架</strong>扩建工程</li><li id="ee06" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated"><strong class="jp ir">编写一个扩展</strong>，在这里，它是关于编写代码片段的</li><li id="0b53" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated"><strong class="jp ir">将</strong>扩展发布到Visual Studio市场</li></ul><p id="f68c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当然，这些步骤中的每一步都有很多子步骤，但是不要担心，我会详细地解释它们，所以在这篇文章结束时，你可以像这样站起来庆祝:</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div class="gh gi la"><img src="../Images/120e9866e73a09fabe38380843b28411.png" data-original-src="https://miro.medium.com/v2/resize:fit:712/format:webp/1*qv0-H055kg5nQplv7Q074A.jpeg"/></div></figure><h1 id="316c" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">为扩建工程搭建脚手架</h1><p id="27e2" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">有一个架子工可以让你在一秒钟内完成一个项目。要安装架子工，只需输入:</p><pre class="lb lc ld le gt ml mm mn mo aw mp bi"><span id="1724" class="mq lj iq mm b gy mr ms l mt mu">npm install -g yo generator-code</span></pre><p id="980c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要搭建一个扩展项目，我们只需键入:</p><pre class="lb lc ld le gt ml mm mn mo aw mp bi"><span id="4f43" class="mq lj iq mm b gy mr ms l mt mu">yo code</span></pre><p id="0bb6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以上将引发一个对话，你需要在其中做出一些选择。让我们展示每个屏幕，看看我们需要选择什么:</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi mv"><img src="../Images/f6800e05c177d434b10dbfc18f0e2ca7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GR7O6A3lHmfbPCyfMnqCfA.png"/></div></div><figcaption class="na nb gj gh gi nc nd bd b be z dk translated">约曼发电机安装在脚手架上</figcaption></figure><p id="1499" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们在上面有很多选择，但是让我们选择<em class="ne">新的代码片段</em></p><p id="2daa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，我们会看到一个对话框，要求我们选择是从文件夹中导入现有片段还是创建新片段:</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nf"><img src="../Images/ed3378979683dce28fed5865af1de27b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4AQIBojPThHuWud4hbS9wQ.png"/></div></div><figcaption class="na nb gj gh gi nc nd bd b be z dk translated">新导入或从文件夹创建</figcaption></figure><p id="2927" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们选择创建新的，因此我们只需点击<em class="ne">返回</em>键。接下来的步骤是给我们的扩展命名。这是它在Visual Studio marketplace中的显示方式，所以让我们给它起个好名字，例如:</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi ng"><img src="../Images/3c7a034e5dd243195e1aca513a67c2d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ajw6BIkRbkavAoJgs5Jhug.png"/></div></div><figcaption class="na nb gj gh gi nc nd bd b be z dk translated">键入扩展的名称</figcaption></figure><p id="3453" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">之后的问题是<code class="fe nh ni nj mm b">identifier</code>。我们只要按下<em class="ne">返回</em>键。这意味着<em class="ne">名称</em>和<em class="ne">标识符</em>将是同一个东西:</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nk"><img src="../Images/b128af33c271497c062ba5b59138f0b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jt0yKX5KA_u6sxrylAxnmw.png"/></div></div></figure><p id="436a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">还有更多问题，你以为你说完了:傻笑:？下一个问题是要求您对您的扩展进行<em class="ne">描述</em>。这将出现在用户面前，所以要确保它是有吸引力的，这样他们才会想安装它。但是，您可以在以后更改它:</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nl"><img src="../Images/23e877e84f1316aff459b55b63202816.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0N2gy8TBuXFecHjbjU9Irw.png"/></div></div></figure><p id="a1fa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下一步是键入<em class="ne">出版商</em>。现在你可能在想。我对出版商一无所知，它想从我这里得到什么？现在为发布者想一个聪明的名字，稍后我们将创建一个发布者，我们将在Visual Studio marketplace中注册，一切都会好起来的:)</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nm"><img src="../Images/23ad39ac84dd79caf0c031b399de76fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6cT-EvidFJrDvkl6eDPvnQ.png"/></div></div></figure><p id="d315" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">上面你可以看到它已经输入了值<em class="ne"> chris noring </em>作为发布者，这是因为我之前已经创建了一个发布者，因为你还没有，现在只需在这里输入一些东西。</p><p id="6485" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对话流中的下一步是输入语言id，这意味着这个片段是什么语言。让我们输入<em class="ne"> javascript </em>或<em class="ne"> typescript </em>，记得按说明用小型大写字母输入:</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nn"><img src="../Images/5318089f36cba9a272c4429680d85e43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tN1gGap73-RFXkk6940o0w.png"/></div></div></figure><p id="7ac7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这之后，你实际上完成了。它应该列出需要为您的扩展搭建的所有文件，如下所示:</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi no"><img src="../Images/26681dff3e005ef6f8db3bb557f1592a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Nmopa-ymjsK1nnPgvJkwpg.png"/></div></div></figure><h1 id="9d57" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">扩展项目剖析</h1><p id="9f5c" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">好了，现在我们有了我们的项目，让我们看看我们实际得到了什么:</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div class="gh gi np"><img src="../Images/427919ffcfd1781ce2f05682e5146e6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*ucep51uP7YVordIKTxaSXA.png"/></div></figure><p id="384d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们的项目自上而下包括以下内容:</p><ul class=""><li id="c32c" class="km kn iq jp b jq jr ju jv jy ko kc kp kg kq kk kr ks kt ku bi translated">这里是我们创建代码片段的地方，也是我们花费大部分时间的地方</li><li id="0e04" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated"><strong class="jp ir"> README.md </strong>，这包含了关于你的项目的信息。您需要更改此处的信息才能将扩展发布到Visual Studio marketplace。那么我在这里输入什么信息呢？好吧，你应该告诉用户在安装了这个扩展之后，用户可以使用什么命令。如果你能为用户提供所有不同版本的历史记录以及它们包含的内容，那就更好了。这将向用户表明，随着时间的推移，您非常致力于改进扩展</li><li id="7eee" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated"><strong class="jp ir">../.yo-rc.json </strong>，现在这个文件在项目之外，它包含了相当多的发布者名称，不需要修改它</li><li id="86cc" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated"><strong class="jp ir"> package.json </strong>，它包含了一些关于项目的元信息。这里重要的是改变“版本”属性，并在您随着时间的推移改进并重新发布项目时增加它。</li></ul><p id="e533" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">好了，现在我们对哪些文件是重要的，以及如果需要，我们应该在哪里进行更改有了更多的了解。</p><h1 id="5e47" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">创建我们的片段</h1><p id="d6cd" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">信不信由你，但这是最简单的部分。我们已经在本系列的第一篇文章中解释了如何创建代码片段，这里再次提供链接作为待办事项链接的提示。我们将满足于只显示一些片段的屏幕转储，如下所示:</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nq"><img src="../Images/5614792b02d182f3b40b396d7e3f333f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HMp-gQOuBo6v8oBj2USjTg.png"/></div></div></figure><p id="e950" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">好了，现在我们有了一个片段。接下来我们来试试。</p><h1 id="4ef9" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">测试我们的片段</h1><p id="6c13" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">要试用一个代码片段，我们需要安装它。要安装它，我们需要做以下工作:</p><ul class=""><li id="1660" class="km kn iq jp b jq jr ju jv jy ko kc kp kg kq kk kr ks kt ku bi translated"><strong class="jp ir">运行</strong> `package `命令</li><li id="1c66" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">从命令窗口安装</li><li id="ee35" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated"><strong class="jp ir">在合适的文件中尝试</strong></li></ul><p id="b397" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">好了，让我们从在终端中运行<em class="ne"> package </em>命令开始。等等，我们首先需要一个依赖项来完成这项工作:</p><pre class="lb lc ld le gt ml mm mn mo aw mp bi"><span id="0442" class="mq lj iq mm b gy mr ms l mt mu">npm install -g vsce</span></pre><p id="62d6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通过运行上面的命令，我们安装了<em class="ne"> vsce </em>，它安装了我们需要的可执行文件。我们需要可执行文件来运行命令，如<em class="ne">打包</em>和<em class="ne">发布</em>。</p><h2 id="2d8a" class="mq lj iq bd lk nr ns dn lo nt nu dp ls jy nv nw lw kc nx ny ma kg nz oa me ob bi translated"><strong class="ak">打包安装</strong></h2><p id="fe6b" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">好了，我们已经运行了上面的命令，并准备好<em class="ne">打包</em>，即创建一个安装文件:</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi oc"><img src="../Images/6780efc846929ba782268856bd9683b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6Y3DoAuLtHXqoC7ruJub2A.png"/></div></div></figure><p id="837d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">啊，一个错误，开始不好还是？嗯，这实际上是很有帮助的，它告诉我们这个扩展的用户应该得到更好的，他们应该得到一个精心设计的自述文件，它将告诉我关于这个扩展的所有信息。所以，让我们来看看README.md，给它一些爱吧。</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi od"><img src="../Images/9f6816cacf15b6c16f4b50c31df10e0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uDy-xjtfAGATApbmWlf6hg.png"/></div></div></figure><p id="9fb1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里写了很多东西，但你实际上需要改变的是像这样的文本<em class="ne">这是自述文件</em>，就在顶部。一旦它消失了，我们可以尝试重新运行我们的“包”命令。在编辑自述文件时，简单说一下。我的看法是，给它一个最初的描述并保留一个标题是有意义的，比如<em class="ne">功能</em>和<em class="ne">发布说明</em>。<em class="ne">功能</em>在我心目中应该描述所有可用的命令以及它们的作用。<em class="ne">发布说明</em>应该包含每个版本发布的历史日志和影响，比如纠正错误或添加片段。</p><p id="c8d3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦我们对自述文件满意，让我们再次尝试运行<code class="fe nh ni nj mm b">package</code>命令:</p><pre class="lb lc ld le gt ml mm mn mo aw mp bi"><span id="4b8a" class="mq lj iq mm b gy mr ms l mt mu">vsce package</span></pre><p id="ba01" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这会抱怨我们在<em class="ne"> package.json </em>中缺少<em class="ne">存储库</em>属性。我们实际上并不需要一个库来完成这项工作，但是有一个库是很好的。我们可以点击<em class="ne"> y </em>继续。现在应该说它已经创建了一个安装文件，如下所示:</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi oe"><img src="../Images/4d7c3745e677624c26328c0dd6d5e514.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1QZ6FHmyXnisv_V7RDOa9Q.png"/></div></div></figure><p id="ccff" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦我们有了这样的文件，我们就可以在我们的环境中本地安装我们的扩展了。这将让我们尝试我们的扩展，以确保一切工作如预期。要安装它，我们必须打开一个命令窗口。为此，进入<em class="ne">视图/命令面板</em>。然后开始输入“VSIX”。它应该向您显示以下内容:</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi of"><img src="../Images/316210df86ac8d8624a4c52f15964c08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H4-QclHl0KcUz6P8DY7smw.png"/></div></div></figure><p id="7a15" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们选择该命令。应出现文件选择对话框，提示您选择最近创建的<em class="ne"> vsix </em>文件。之后，VS代码会在你的窗口底部显示一条信息消息，询问你是否想重新加载VS代码。点击<em class="ne"> yes </em>之后，你的IDE就可以测试了。</p><h2 id="42c2" class="mq lj iq bd lk nr ns dn lo nt nu dp ls jy nv nw lw kc nx ny ma kg nz oa me ob bi translated"><strong class="ak">试一试</strong></h2><p id="facf" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">我们刚刚将代码片段安装到VS代码中。因为这个代码片段是为TypeScript准备的，所以我们需要创建一个<em class="ne">。ts </em>文件来看。因此，让我们创建一个例子<em class="ne"> app.ts </em>，结果应该是这样的:</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi og"><img src="../Images/96ce1f034b8e8a13d4cc0cf56d654fb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R-DPo1c7-dZ1whe4OVAA5Q.png"/></div></div></figure><p id="e43e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你看到上面的内容，这意味着你的代码片段在给自己一个<em class="ne">击掌</em>的时候按预期工作了。我们离Visual Studio市场和开发者名声越来越近；)</p><h1 id="1d6f" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">发布我们的片段</h1><p id="acee" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">好了，我们现在到了期待已久的时刻。是时候发布这个扩展并开始在Visual Studio marketplace的<em class="ne">霓虹灯</em>中看到你的名字了:)</p><h2 id="2804" class="mq lj iq bd lk nr ns dn lo nt nu dp ls jy nv nw lw kc nx ny ma kg nz oa me ob bi translated"><strong class="ak">注册出版商</strong></h2><p id="a33c" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">还记得我们在搭建扩展项目的开始时，系统提示我们输入发布者名称吗？好了，现在是实际创建发布者的时候了。那么我们该怎么做呢？</p><p id="2cba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们需要创建一个与Visual Studio团队服务<a class="ae kl" href="https://visualstudio.microsoft.com/team-services/" rel="noopener ugc nofollow" target="_blank">链接到VSTS </a>的帐户。一旦我们在这里创建了一个帐户，我们需要得到一个<em class="ne">访问令牌</em></p><p id="be54" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">访问令牌创建</strong></p><p id="e099" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当我们在终端中使用<em class="ne"> vsce </em>发布我们的扩展时，需要一个访问令牌。我们可以创建一个访问令牌，方法是转到我们的VSTS页面，单击右上角的配置文件，然后选择菜单选项<code class="fe nh ni nj mm b">Security</code>。到达目的地后，我们需要:</p><ul class=""><li id="1ea4" class="km kn iq jp b jq jr ju jv jy ko kc kp kg kq kk kr ks kt ku bi translated"><strong class="jp ir">选择</strong>“个人访问令牌”。</li><li id="1dfb" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated"><strong class="jp ir">下一步</strong>是选择创建一个新的此类令牌。</li></ul><p id="ab1e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">-给它一个合适的<em class="ne">名称</em>和<em class="ne">截止日期</em>，这一点很重要，在<em class="ne">组织</em>下拉菜单中，您需要选择<em class="ne">所有可访问的组织</em>，否则它将无法工作。下一个重要的字段是<em class="ne">范围</em>。这里你可以选择<em class="ne">自定义</em>或<em class="ne">完全访问</em>。如果你只是尝试一下，现在尝试使用<em class="ne">完全访问权</em>，但是确保稍后撤销该令牌，选择<code class="fe nh ni nj mm b">custom defined</code>，并将其设置为你可以获得的最少权限。通常，你只是希望它能够有<em class="ne">扩展</em>和<em class="ne">市场</em>访问。</p><p id="957a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，在经历了整个访问令牌创建过程之后，我们应该有一个可以复制到剪贴板的访问令牌。</p><blockquote class="oh oi oj"><p id="38ee" class="jn jo ne jp b jq jr js jt ju jv jw jx ok jz ka kb ol kd ke kf om kh ki kj kk ij bi translated">请确保将其复制到一个合适的位置，以便以后检索，关闭对话框后，它不会再次显示。</p></blockquote><p id="cb02" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">更新令牌</strong></p><p id="663c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你的令牌迟早会用完数据。发生这种情况时，重新生成您的令牌并在终端中运行:</p><pre class="lb lc ld le gt ml mm mn mo aw mp bi"><span id="6fb8" class="mq lj iq mm b gy mr ms l mt mu">vsce publish -p &lt;token&gt;</span></pre><p id="e2d3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将使用您的新令牌，因此下次发布时，您只需输入:</p><pre class="lb lc ld le gt ml mm mn mo aw mp bi"><span id="ca69" class="mq lj iq mm b gy mr ms l mt mu">vsce publish</span></pre><h2 id="f572" class="mq lj iq bd lk nr ns dn lo nt nu dp ls jy nv nw lw kc nx ny ma kg nz oa me ob bi translated"><strong class="ak">发布</strong></h2><p id="4a9d" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">好了，最后我们准备运行发布命令。该跑了:</p><pre class="lb lc ld le gt ml mm mn mo aw mp bi"><span id="7684" class="mq lj iq mm b gy mr ms l mt mu">vsce publish</span></pre><p id="aef7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这应该会将我们的扩展发送到Visual Studio Marketplace。在终端中运行该命令，应该会显示如下内容:</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi on"><img src="../Images/0f35777a6713e8dc9e4b1decc20c6502.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7xy70pHccwwQRCp-ykkJiQ.png"/></div></div></figure><h2 id="d703" class="mq lj iq bd lk nr ns dn lo nt nu dp ls jy nv nw lw kc nx ny ma kg nz oa me ob bi translated"><strong class="ak">享受你的劳动成果</strong></h2><p id="b906" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">Visual Studio市场更新需要几分钟时间。假设几分钟过去了，让我们转到Visual Studio Marketplace的URL。如果你等不及，去<em class="ne">https://marketplace.visualstudio.com/manage/publishers/&lt;出版商名称&gt; </em>它应该有一个与你的扩展名称的条目，并说它正在验证你的扩展。好了，让我们来看看我们的作品:</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi oo"><img src="../Images/51eb8393b6aab59917f3c150d4f1f43f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sSxuTe3khBTiWxyrpVc2Lw.png"/></div></div></figure><p id="6d15" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你现在应该很自豪。这就是你的扩展，<em class="ne">在它所有的荣耀中</em>，对整个世界开放。让我们通过在Visual Studio代码中的extensions选项卡下搜索来证明这一点:</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div class="gh gi op"><img src="../Images/9d8d6efd0002d61045ac96eec196a3dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1308/format:webp/1*5xgMLLNJDV5s1cGl6ii6Sw.png"/></div></figure><p id="1dda" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这就是了，你输入了你的扩展名，Visual Studio代码显示给你看。你是你的延伸的骄傲父母。让我们看看详细信息页面，即我们在自述文件中写了什么:</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi oq"><img src="../Images/73dda4005c9256ea33f4a9de85827125.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ejUZ0zf0HJF3OYt7bFBXZw.png"/></div></div></figure><p id="d843" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">就在那里。这只是开始。现在出去，创建扩展，我知道<strong class="jp ir">你能做到！！！</strong></p><h2 id="6a34" class="mq lj iq bd lk nr ns dn lo nt nu dp ls jy nv nw lw kc nx ny ma kg nz oa me ob bi translated"><strong class="ak">改进扩展</strong></h2><p id="14a5" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">你需要做两件事来改善人们对你的延伸的看法，那就是:</p><ul class=""><li id="fdf9" class="km kn iq jp b jq jr ju jv jy ko kc kp kg kq kk kr ks kt ku bi translated"><strong class="jp ir">添加</strong>一个存储库，这将允许用户提交拉请求，并帮助修复代码可能存在的任何问题</li><li id="887b" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">添加一个预览gif，这会给用户一种使用你的扩展的感觉</li></ul><p id="1ef2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">添加存储库</strong></p><p id="36bc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要添加存储库，请在Github上创建一个。完成后，让我们像这样添加到我们的<em class="ne"> package.json </em>文件中:</p><pre class="lb lc ld le gt ml mm mn mo aw mp bi"><span id="6858" class="mq lj iq mm b gy mr ms l mt mu">"repository": {</span><span id="341e" class="mq lj iq mm b gy or ms l mt mu">  "type": "git",</span><span id="d6be" class="mq lj iq mm b gy or ms l mt mu">  "url”: “https://github.com/softchris/node-snippets.git"</span><span id="dc4d" class="mq lj iq mm b gy or ms l mt mu">}</span></pre><p id="1013" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">就是这样，它现在将显示在扩展页面上，人们将能够点击进入您的回购，并查看您是如何构建的，如果您想通过提交PRs来帮助您</p><p id="8da6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">添加预览GIF </strong></p><p id="59ab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你以前下载过扩展，你可能会注意到其中一些是如何通过展示片段的介绍视频变得非常专业的。这个视频实际上是一个GIF，将GIF添加到减价中非常简单:</p><pre class="lb lc ld le gt ml mm mn mo aw mp bi"><span id="0b80" class="mq lj iq mm b gy mr ms l mt mu">![alt text](images/node-snippets.gif “Using the snippet”)</span></pre><p id="b488" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">注意上面我们是如何引用目录<em class="ne">图像</em>的。它将能够通过查看您的存储库并期望找到“图像”目录来解决这个问题。因此，这就是为什么您需要存储库集来完成这项工作。没有存储库，没有预览图像。</p><p id="9a00" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您的市场现在看起来会像这样:</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi os"><img src="../Images/d8e037af0fa264f4950bfb4fb5d3db88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lM3X34_O08c6K4uskcPqaw.png"/></div></div></figure><p id="71f5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">上面是一张<em class="ne">静止图像</em>，所以在这篇博文中它不会以动画的形式展示，但它会真实地工作。</p><p id="2da9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我建议用Camtasia或一些免费选项制作所需的视频，然后在完成录制后将其转换为gif。</p><h1 id="f6f6" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">摘要</h1><p id="a362" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">总之，我们了解到以下情况:</p><ul class=""><li id="6146" class="km kn iq jp b jq jr ju jv jy ko kc kp kg kq kk kr ks kt ku bi translated">使用架子工创建一个扩展项目</li><li id="7eaf" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">给我们的项目添加一些片段</li><li id="c676" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">在本地测试我们的代码片段，以确保在我们发布之前能够正常工作</li><li id="45f0" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated"><strong class="jp ir">通过安装<em class="ne"> vsce </em>并生成<em class="ne">访问令牌</em>来设置发布</strong></li><li id="a008" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated"><strong class="jp ir">凝视</strong>我们在Visual Studio市场的美丽创造</li><li id="75d9" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated"><strong class="jp ir"> Mic掉了</strong>，通过VS代码搜索找到我们的扩展</li></ul><p id="a9a0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">走出去，向社区展示你的实力。想跟我说说吗？只需发微博给<a class="ae kl" href="https://twitter.com/chris_noring" rel="noopener ugc nofollow" target="_blank"> @chris_noring </a></p><h2 id="a299" class="mq lj iq bd lk nr ns dn lo nt nu dp ls jy nv nw lw kc nx ny ma kg nz oa me ob bi translated"><strong class="ak">延伸阅读</strong></h2><p id="02aa" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">我们刚刚为代码片段创建了一个非常简单的扩展。你可以创建更多的扩展来真正提升VS代码。以下是了解更多信息的一些链接:</p><ul class=""><li id="36b8" class="km kn iq jp b jq jr ju jv jy ko kc kp kg kq kk kr ks kt ku bi translated"><a class="ae kl" href="https://css-tricks.com/what-i-learned-by-building-my-own-vs-code-extension/" rel="noopener ugc nofollow" target="_blank">我在构建自己的扩展时学到了什么</a></li><li id="9eb4" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated"><a class="ae kl" href="https://code.visualstudio.com/docs/extensions/overview?WT.mc_id=vscode-gitbook-chnoring" rel="noopener ugc nofollow" target="_blank">扩展创作</a></li><li id="ea53" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated"><a class="ae kl" href="https://code.visualstudio.com/docs/extensions/yocode?WT.mc_id=vscode-gitbook-chnoring" rel="noopener ugc nofollow" target="_blank">安装分机发电机</a></li><li id="9054" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated"><a class="ae kl" href="https://code.visualstudio.com/docs/extensions/themes-snippets-colorizers?WT.mc_id=vscode-medium-chnoring" rel="noopener ugc nofollow" target="_blank">建一个彩色的他们</a> e</li><li id="2923" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated"><a class="ae kl" href="https://code.visualstudio.com/docs/extensions/publish-extension?WT.mc_id=vscode-medium-chnoring" rel="noopener ugc nofollow" target="_blank">发布您的扩展</a></li></ul><h2 id="7e7c" class="mq lj iq bd lk nr ns dn lo nt nu dp ls jy nv nw lw kc nx ny ma kg nz oa me ob bi translated"><strong class="ak">我的片段</strong></h2><p id="1459" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">我目前正在维护几个代码片段扩展。欢迎所有反馈:</p><p id="4158" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kl" href="https://marketplace.visualstudio.com/publishers/chris-noring" rel="noopener ugc nofollow" target="_blank">我的扩展</a></p></div></div>    
</body>
</html>