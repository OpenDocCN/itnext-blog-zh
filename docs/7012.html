<html>
<head>
<title>Flutter Custom Error Message — Flash Message</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">颤振自定义错误信息—闪光信息</h1>
<blockquote>原文：<a href="https://itnext.io/flutter-custom-error-message-flash-message-c2ea430c595?source=collection_archive---------0-----------------------#2022-05-16">https://itnext.io/flutter-custom-error-message-flash-message-c2ea430c595?source=collection_archive---------0-----------------------#2022-05-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/5c12fee1b5f0161591b3c1c1ee8e4832.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QzlJxgWw91EOWYWzFJR_ow.png"/></div></div></figure><p id="1389" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我将向你展示如何创建一个自定义的flash消息，或者在Flutter上，它被称为小吃店。非常方便地向用户显示错误、成功或任何警告消息。</p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="la lb l"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">录像</figcaption></figure><h2 id="aeaa" class="lg lh iq bd li lj lk dn ll lm ln dp lo kj lp lq lr kn ls lt lu kr lv lw lx ly bi translated">项目设置</h2><p id="3926" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">如果你喜欢跟随我，下载<a class="ae me" href="https://cutt.ly/bHld9X0" rel="noopener ugc nofollow" target="_blank">开始项目</a> (c <a class="ae me" href="https://cutt.ly/YHwNBh2" rel="noopener ugc nofollow" target="_blank">完成项目</a>)。assets目录包含我们所有的资产&amp;lib目录包含main.dart和flash_message_screen.dart</p><h2 id="3c2f" class="lg lh iq bd li lj lk dn ll lm ln dp lo kj lp lq lr kn ls lt lu kr lv lw lx ly bi translated">开始编码</h2><p id="c7b9" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">FlashMessageScreen什么都不是，只是一个简单的屏幕，有一个中心按钮。</p><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mf"><img src="../Images/0062295a5d2132fc3edc69e01dd1e907.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WgNwuNpNMx5OcUqdEv7OaA.png"/></div></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">FlashMessageScreen.dart</figcaption></figure><p id="f081" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们在Flutter上已经有了一个<code class="fe mg mh mi mj b">SnackBar</code>小部件来显示这样的错误或警告消息。使用<code class="fe mg mh mi mj b">ScaffoldMessenger</code>显示。在SnackBar中，内容是一个简单的文本。</p><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mk"><img src="../Images/278c988403d84f21ed586391ec3c4361.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RvlNnzH09TXSdIwEa8l3Sw.png"/></div></div></figure><p id="6217" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你点击显示消息按钮。在底部，它显示了一个小吃店。我知道这看起来很简单，但是别担心，我们会做得很好的。</p><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ml"><img src="../Images/a9c68208dcdfe166bc1eaf87fe4f6dd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*dPSkMJa3QyaSjA7LaB9g3w.gif"/></div></div></figure><p id="e354" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">首先，让我们把行为改为<code class="fe mg mh mi mj b">SnackBarBehavior.floating</code>。用<code class="fe mg mh mi mj b">Container</code>包裹<code class="fe mg mh mi mj b">Text</code>小工具，然后设置高度为90，颜色为红色。向容器中添加16的填充物。要使角变圆，应用20边界半径。</p><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mm"><img src="../Images/b61014c6a92d8dc040bdc2557628f0a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eQA_uPgKZsOXwfazL2NLGg.png"/></div></div></figure><p id="5be8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">点击按钮预览，但这不是我们所期望的！</p><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ml"><img src="../Images/a5eb78cf339056538efcea96738bc5a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*4kMprG4ubecV3uB90CmKNg.gif"/></div></div></figure><p id="d336" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">要解决这个问题，需要将SnackBar <code class="fe mg mh mi mj b">background</code>颜色设置为透明，并将<code class="fe mg mh mi mj b">elevation</code>设置为0。</p><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mm"><img src="../Images/b33714974b4d9b5e3d08ec282f8d6e5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bUUaTDCpEj4W5rkEMoOL2w.png"/></div></div></figure><p id="8316" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一切都没了。现在没有阴影或白色边框。</p><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ml"><img src="../Images/ee59c642f5027b9e6cc5c8941cc309af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*g9lwMCF66DLU6A5GTUJ7ag.gif"/></div></div></figure><p id="0d16" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在用一个<code class="fe mg mh mi mj b">Column</code>包装文本小部件，添加另一个文本，将<code class="fe mg mh mi mj b">fontSize</code>设置为18，将<code class="fe mg mh mi mj b">color</code>设置为白色。下一个也一样，字体颜色是白色的&amp;字体大小是12最后但并非最不重要的是，将有2行文本的最大值。另外，将溢出设置为<code class="fe mg mh mi mj b">TextOverflow.ellipsis</code>。将<code class="fe mg mh mi mj b">crossAxisAlignment</code>设置为<code class="fe mg mh mi mj b">CrossAxisAlignment.start</code>。</p><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mn"><img src="../Images/f5e6ebe2974f16b37387fb3ac61e1193.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6epr2Cb_Zb2Yf4UjoEnWtQ.png"/></div></div></figure><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ml"><img src="../Images/47ecefe918dced6c5e2113f2dd9481e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*W0IgbvGpUxQuOrToM-AACw.gif"/></div></div></figure><p id="54c2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们需要在左侧的自由空间放置气泡和关闭图标。用一个<code class="fe mg mh mi mj b">Row</code>包住<code class="fe mg mh mi mj b">Column</code>，定义一个<code class="fe mg mh mi mj b">SizedBox</code>并将宽度设置为48。此外，用一个<code class="fe mg mh mi mj b">Expanded</code>小部件包装该列。</p><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mo"><img src="../Images/d8c418321d5a9e46dfd68cdb7fe6805d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fB25AAQW4zGRyfR3RHmyrg.png"/></div></div></figure><p id="acce" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在我们在左侧有了大量的空闲空间。</p><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ml"><img src="../Images/32c1b8239e6f55d5425775e0baa60b0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*xKFx7vhCb0Dox8bHdSrHpw.gif"/></div></div></figure><p id="9f44" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">要放置气泡，用一个<code class="fe mg mh mi mj b">Stack</code>小部件包裹整个<code class="fe mg mh mi mj b">Container</code>。气泡是一个简单的SVG图像，但是Flutter默认不支持SVG。我已经将<a class="ae me" href="https://pub.dev/packages/flutter_svg" rel="noopener ugc nofollow" target="_blank"> flutter_svg </a>包添加到起始项目中。现在复制图像路径，然后将其添加到<code class="fe mg mh mi mj b">Container</code>小部件之后。</p><p id="4d78" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">将高度设置为48，宽度设置为40，颜色设置为更深的红色。我们希望我们的气泡在底部左侧，用<code class="fe mg mh mi mj b">Positioned</code>小部件包裹它，并将底部设置为0。让我们通过设置左下角的边界半径为20来使它变圆。</p><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mp"><img src="../Images/e4d18be59695e7133e79b01ea39c9c34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pd9Op3Z-W2dz_Ziy3-EKLw.png"/></div></div></figure><p id="89a7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">太好了，我们快到了！</p><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ml"><img src="../Images/d6d11755a3dc6f66a7dbc9db63682a77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*jUlXWLKz5NVr5MzMZ8g4Jg.gif"/></div></div></figure><p id="24b6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最后，添加另一个名为failed的SVG图像。SVG，并将高度设置为40。我们希望它在左上角。为了让它发生，用<code class="fe mg mh mi mj b">Positioned</code>小部件包装图像，并将顶部设置为-20 &amp; left 0。还将堆栈clipBehavior设置为<code class="fe mg mh mi mj b">Clip.none</code>。</p><p id="c991" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">要在这个顶部气泡上放置一个关闭图标，用一个<code class="fe mg mh mi mj b">Stack</code>小部件将它包裹起来。在里面，孩子们添加了一个名为close的SVG图像。SVG，并将高度设置为16。右上角的关闭图标使其居中，将堆栈对齐设置为<code class="fe mg mh mi mj b">Alignment.center</code>。尽管如此，它还是不居中，现在用<code class="fe mg mh mi mj b">Position</code>小部件包装关闭的SVG图像，然后set top等于10。</p><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mq"><img src="../Images/289c5c99107de708de5c7c1ef21ffcad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EbzfR2MLpesu_eg3mU79pg.png"/></div></div></figure><p id="715e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们差不多完成了。</p><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mr"><img src="../Images/0bf4701097601934dc8e4e0d87b992a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*9cuRE5sYHhaZr9p9EOTOoQ.gif"/></div></div></figure><p id="28d2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们已经在Flutter上完成了自定义的flash消息。你需要在任何应用程序的许多地方使用这个flash消息。为了使其可重用，让我们提取小吃店的内容。我准备叫它<code class="fe mg mh mi mj b">CustomSnackBarContent</code>。为错误文本创建一个必需的参数，然后传递错误。</p><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ms"><img src="../Images/1293bd7332a62dd94a113be563f11ee0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NsAyWckH2KDAEb9o_u-oeQ.png"/></div></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">CustomSnackBarContent</figcaption></figure><p id="0b8c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，我们可以很容易地在我们的应用程序中的任何地方使用它！</p><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mt"><img src="../Images/f3e0dda2c790d580a23f55497d4a08e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D4_PeETTWApArzCOt21r7Q.png"/></div></div></figure><p id="304f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">源代码:</strong> <a class="ae me" href="https://cutt.ly/YHwNBh2" rel="noopener ugc nofollow" target="_blank">颤振自定义错误信息</a> (Patreon)</p><p id="515c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">🔥奖金🔥Flutter UI套件— 100多个屏幕|明暗主题</p><div class="mu mv gp gr mw mx"><a href="https://cutt.ly/jHVvcLC" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd ir gy z fp nc fr fs nd fu fw ip bi translated">Flutter shop-Flutter的高级电子商务UI套件</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">Chrome或Brave浏览器推荐预览Live预览FlutterShop是一个高级电子商务UI套件，您可以使用…</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">切切地</p></div></div><div class="ng l"><div class="nh l ni nj nk ng nl jw mx"/></div></div></a></div><p id="058b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">谢谢，祝您愉快！</p></div></div>    
</body>
</html>