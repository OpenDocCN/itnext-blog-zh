<html>
<head>
<title>Part 1: Building a Progressive Web Application (PWA) with Angular Material and AWS Amplify.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">第1部分:用Angular Material和AWS Amplify构建渐进式Web应用程序(PWA)。</h1>
<blockquote>原文：<a href="https://itnext.io/part-1-building-a-progressive-web-application-pwa-with-angular-material-and-aws-amplify-5c741c957259?source=collection_archive---------1-----------------------#2018-11-02">https://itnext.io/part-1-building-a-progressive-web-application-pwa-with-angular-material-and-aws-amplify-5c741c957259?source=collection_archive---------1-----------------------#2018-11-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/e6f8d0a3d65b4a35045b03e42bb402be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YI8HiGMqFR_ylGd8ZqAWRg.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">卡斯帕·鲁宾在<a class="ae kc" href="https://unsplash.com/search/photos/programming?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="6a26" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是概述如何构建支持移动和桌面环境的多平台渐进式Web应用程序(PWA)的系列文章的第一篇。</p><ul class=""><li id="7484" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated"><strong class="kf ir">第1部分</strong> <strong class="kf ir">(你在这里)</strong>:使用Angular/Material、web应用程序清单、服务工人、图标引导应用程序，并使用AWS Amplify CLI将iOS (Safari)、Android (Chrome)和桌面的功能添加到主屏幕。</li><li id="22e6" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><a class="ae kc" href="https://medium.com/@michaellabieniec/part-2-adding-authentication-to-your-angular-material-aws-amplify-powered-pwa-2a9d0fbd305a" rel="noopener"> <strong class="kf ir">第2部分</strong>:使用Amazon Cognito添加身份验证和授权，支持个人用户资料和私人内容。</a></li></ul><blockquote class="lp"><p id="e8f0" class="lq lr iq bd ls lt lu lv lw lx ly la dk translated">" PWAs结合了web的灵活性和本地应用程序的体验."— <a class="ae kc" href="https://en.wikipedia.org/wiki/Progressive_web_applications" rel="noopener ugc nofollow" target="_blank">维基百科</a></p></blockquote><p id="dc11" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">渐进式网络应用程序(PWA)是一种可通过网络浏览器(Chrome或Safari)安装在(受支持的)移动设备上的网络应用程序。主要特性和优势如下:</p><ul class=""><li id="175b" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated"><strong class="kf ir">可靠性和网络不可知</strong> —即时加载，甚至在不确定的网络条件下加载。</li><li id="b9f6" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><strong class="kf ir">可安装</strong> —可在移动设备上安装，可通过设备主屏幕使用。PWA就像是设备上的一个本地应用程序，具有身临其境的用户体验。</li><li id="f545" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><strong class="kf ir">可搜索的</strong> —因为PWA是一个网络应用程序，因此存在于互联网上。它可以被搜索引擎索引，并且不需要应用商店来安装。</li><li id="8d31" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><strong class="kf ir">离线— </strong>在应用缓存和服务人员的帮助下，PWA可以在离线和低连接环境中使用。它还支持使用web <a class="ae kc" href="https://developer.mozilla.org/en-US/docs/Web/API/Push_API" rel="noopener ugc nofollow" target="_blank">推送API </a>的推送通知。</li></ul><p id="4757" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在第一篇文章中，我们将构建一个PWA，它可以在Android和桌面(Mac、Windows和Chrome OS)设备上使用Chrome浏览器，在iOS (11.3以上)设备上使用Safari浏览器。应用程序将使用Angular 7和Angular Material构建。就PWA功能而言，与Android/Chrome相比，iOS Safari (Webkit)有一些需要特别考虑的注意事项。</p><p id="8078" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">2018年3月30日，苹果发布了iOS 11.3更新，其中包括对iPhones和iPads上pwa的基本支持。在撰写本文时，这种支持仍然是基本的，还在开发中。Webkit时间表概述了关键浏览器支持的状态，包括<a class="ae kc" href="https://webkit.org/status/#specification-web-app-manifest" rel="noopener ugc nofollow" target="_blank"> Web应用程序清单</a>和服务工作人员。</p><ul class=""><li id="27f1" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated">清单中的图标大小并非都与iOS兼容。你可以在index.html文件中使用<meta/>标签，就像我们下面要做的那样，以便在Safari中添加到主屏幕时正确显示图标。</li><li id="68c6" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">在撰写本文时，Webkit对web应用程序清单的支持仍在开发中。可以使用<a class="ae kc" href="https://developers.google.com/web/updates/2018/07/pwacompat" rel="noopener ugc nofollow" target="_blank">pwa compat . js</a>；在这里下载<a class="ae kc" href="https://raw.githubusercontent.com/GoogleChromeLabs/pwacompat/master/pwacompat.js" rel="noopener ugc nofollow" target="_blank">。这将为图标、主屏幕、闪屏等添加丰富的PWA支持。在许多其他浏览器中，包括Safari。</a></li><li id="e1e0" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">外部链接在Safari中不能开箱即用。对于像登录谷歌这样的事情，你可以将<code class="fe me mf mg mh b"><a class="ae kc" href="https://developers.google.com/identity/sign-in/web/reference#gapiauth2clientconfig" rel="noopener ugc nofollow" target="_blank">ux_mode</a></code>设置为“重定向”,而对于其他人，你可以直接设置<code class="fe me mf mg mh b">window.location</code>。然而，请记住，Safari没有显示后退按钮，所以一旦你离开，就没有办法有效地回到你的应用程序。</li><li id="c99d" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">iOS上的Safari PWAs目前没有深度链接。在web应用程序清单中，你可以提供<code class="fe me mf mg mh b">intent_filters</code>和一个<code class="fe me mf mg mh b">scope</code>，它只能在Android/Chrome上运行。详见<a class="ae kc" href="https://developers.google.com/web/fundamentals/integration/webapks" rel="noopener ugc nofollow" target="_blank">此处</a>。</li><li id="501d" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">Chrome提供了一个自动弹出窗口，提示用户安装PWA。Safari目前不支持这一功能。您可以通过检测平台并显示自定义通知来实现这一点，这将在下面描述。</li></ul><h2 id="3943" class="mi mj iq bd mk ml mm dn mn mo mp dp mq ko mr ms mt ks mu mv mw kw mx my mz na bi translated">入门指南</h2><p id="b010" class="pw-post-body-paragraph kd ke iq kf b kg nb ki kj kk nc km kn ko nd kq kr ks ne ku kv kw nf ky kz la ij bi translated">我们将使用Angular CLI (v7)引导应用程序，这将需要Node.js (v8.11+)。然后，我们将使用Angular Material UI库来设计用户界面的样式，并使其对移动和桌面都有响应。最后，我们将使用AWS Amplify CLI将应用程序部署到亚马逊S3和CloudFront。</p><h2 id="50af" class="mi mj iq bd mk ml mm dn mn mo mp dp mq ko mr ms mt ks mu mv mw kw mx my mz na bi translated">要求</h2><ul class=""><li id="de1d" class="lb lc iq kf b kg nb kk nc ko ng ks nh kw ni la lg lh li lj bi translated"><a class="ae kc" href="https://nodejs.org" rel="noopener ugc nofollow" target="_blank"> Node.js 8.11+ </a></li><li id="70f5" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><a class="ae kc" href="https://aws-amplify.github.io/media/get_started" rel="noopener ugc nofollow" target="_blank"> AWS放大JS 1.x </a></li><li id="56e3" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><a class="ae kc" href="https://aws-amplify.github.io/media/get_started" rel="noopener ugc nofollow" target="_blank"> AWS放大CLI 0.1.x </a></li><li id="ffad" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><a class="ae kc" href="https://angular.io/" rel="noopener ugc nofollow" target="_blank">角度7.x </a></li><li id="4cf4" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><a class="ae kc" href="https://cli.angular.io" rel="noopener ugc nofollow" target="_blank"> Angular CLI 7.x </a></li><li id="2e1b" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><a class="ae kc" href="https://material.angular.io" rel="noopener ugc nofollow" target="_blank">角材7.x </a></li></ul><blockquote class="nj nk nl"><p id="2ec6" class="kd ke nm kf b kg kh ki kj kk kl km kn nn kp kq kr no kt ku kv np kx ky kz la ij bi translated">源代码可在<a class="ae kc" href="https://github.com/mlabieniec/AngularMaterialPWA" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上获得。</p></blockquote><p id="335b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们开始吧。使用Angular CLI生成新的应用程序。这将生成一个锅炉板角度项目，并安装所有需要的依赖关系。它还将连接路由，并允许您选择自己喜欢的CSS框架。对于这个应用程序，我们将使用SCSS，但你可以使用任何你喜欢的。</p><blockquote class="nj nk nl"><p id="c236" class="kd ke nm kf b kg kh ki kj kk kl km kn nn kp kq kr no kt ku kv np kx ky kz la ij bi translated">如果您的机器上没有安装node.js(和npm ),请遵循此处的操作系统安装说明。</p></blockquote><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="9242" class="mi mj iq mh b gy ny nz l oa ob">$ npm install -g @angular/cli<br/>$ ng new AngularPwaPostOne<br/>$ ? <strong class="mh ir">Would you like to add Angular routing?</strong> Yes<br/>$ ? <strong class="mh ir">Which stylesheet format would you like to use?</strong> SCSS</span></pre><p id="8ade" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将<a class="ae kc" href="https://material.angular.io" rel="noopener ugc nofollow" target="_blank">角形材料</a>组件添加到应用中。该命令将连接角形材料并安装必要的附件。</p><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="1dc1" class="mi mj iq mh b gy ny nz l oa ob">$ cd AngularPwaPostOne<br/>$ ng add @angular/material<br/>$ <!-- -->? <strong class="mh ir">Enter a prebuilt theme name, or "custom" for a custom theme:</strong> indigo-pink<br/>$ ? <strong class="mh ir">Set up HammerJS for gesture recognition?</strong> Yes<br/>$ ? <strong class="mh ir">Set up browser animations for Angular Material?</strong> Yes</span></pre><p id="fdea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这将引导你的应用程序依赖角度材料，更新配置，并执行初始化代码(更多细节见<a class="ae kc" href="https://material.angular.io/guide/getting-started#alternative-2-angular-devkit-6-" rel="noopener ugc nofollow" target="_blank">此处</a>)。Angular开箱即用<a class="ae kc" href="https://hammerjs.github.io" rel="noopener ugc nofollow" target="_blank"> Hammer.js </a>，这是(<a class="ae kc" href="https://hammerjs.github.io/getting-started/" rel="noopener ugc nofollow" target="_blank">正如他们的医生所说</a>)一个“可以识别触摸、鼠标和指针事件所做手势的开源库。它没有任何依赖性，而且很小，只有7.34 kB minified + gzipped！”</p><blockquote class="nj nk nl"><p id="dfac" class="kd ke nm kf b kg kh ki kj kk kl km kn nn kp kq kr no kt ku kv np kx ky kz la ij bi translated">Angular动画系统是基于CSS构建的，这意味着您可以将浏览器认为可以动画化的任何属性动画化。这包括位置、大小、变换、颜色、边框等等。更多详情<a class="ae kc" href="https://angular.io/guide/animations" rel="noopener ugc nofollow" target="_blank">此处</a>。</p></blockquote><p id="c498" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，您将生成一个新的角度模块，该模块将加载角度材料组件。这有助于在不污染应用程序模块的同时，分离加载和实例化所有材料组件的关注点。</p><blockquote class="nj nk nl"><p id="08d1" class="kd ke nm kf b kg kh ki kj kk kl km kn nn kp kq kr no kt ku kv np kx ky kz la ij bi translated">这个模块将会加载所有的组件，但是，你也可以只加载你想在你的模块中使用的组件。</p></blockquote><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="ea5c" class="mi mj iq mh b gy ny nz l oa ob">$ ng generate module material</span></pre><p id="b5eb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">打开<code class="fe me mf mg mh b">src/app/material/material.module.ts</code>文件，用这个<a class="ae kc" href="https://gist.github.com/mlabieniec/821356ddc5cbf19124601981a23b12e3#file-material-module-ts" rel="noopener ugc nofollow" target="_blank">要点</a>的内容更新内容。这个模块将加载所有的材质UI组件。</p><blockquote class="nj nk nl"><p id="c1ab" class="kd ke nm kf b kg kh ki kj kk kl km kn nn kp kq kr no kt ku kv np kx ky kz la ij bi translated">在生产场景中，您可能希望将这个列表缩减为您正在使用的组件，这将减少JS包的整体大小。</p></blockquote><p id="97c5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，将材料模块导入到您的应用程序模块中。编辑<code class="fe me mf mg mh b">app.module.ts</code>文件，添加粗体部分:</p><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="87e8" class="mi mj iq mh b gy ny nz l oa ob"><em class="nm">import</em> { BrowserModule } <em class="nm">from</em> '@angular/platform-browser';<br/><em class="nm">import</em> { NgModule } <em class="nm">from</em> '@angular/core';<br/><em class="nm">import</em> { AppComponent } <em class="nm">from</em> './app.component';<br/><em class="nm">import</em> { BrowserAnimationsModule } <em class="nm">from</em> '@angular/platform-browser/animations';<br/><strong class="mh ir"><em class="nm">import</em> { MaterialModule } <em class="nm">from</em> './material/material.module';</strong></span><span id="c53e" class="mi mj iq mh b gy oc nz l oa ob">@NgModule({<br/>  declarations: [ AppComponent ],<br/>  <strong class="mh ir">imports</strong>: [<br/>    BrowserModule,<br/>    BrowserAnimationsModule,<br/>    <strong class="mh ir">MaterialModule</strong><br/>  ],<br/>  providers: [],<br/>  bootstrap: [AppComponent]<br/>});</span><span id="817f" class="mi mj iq mh b gy oc nz l oa ob"><em class="nm">export</em> class AppModule { }</span></pre><p id="d341" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们将创建一些路由和一个新的home组件，它们最终将由一个<a class="ae kc" href="https://angular.io/guide/router#guard-the-admin-feature" rel="noopener ugc nofollow" target="_blank"> AuthGuard </a>保护。</p><ul class=""><li id="c1dc" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated">用此<a class="ae kc" href="https://gist.github.com/mlabieniec/821356ddc5cbf19124601981a23b12e3#file-app-component-html" rel="noopener ugc nofollow" target="_blank">要点</a>替换<code class="fe me mf mg mh b">src/app.component.html</code>的内容。</li><li id="4af0" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">用此<a class="ae kc" href="https://gist.github.com/mlabieniec/821356ddc5cbf19124601981a23b12e3#file-app-component-ts" rel="noopener ugc nofollow" target="_blank">要点</a>替换<code class="fe me mf mg mh b">src/app.component.ts</code>的内容。</li></ul><p id="701c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我们继续之前，让我们概述一下在<code class="fe me mf mg mh b">app.component.html</code>文件中找到的html元素上的【括号】(圆括号)和(*星号)是怎么回事。</p><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="4593" class="mi mj iq mh b gy ny nz l oa ob">&lt;app-element #myElement<br/> directiveName<br/> [prop]="value"<br/> [class.className]="cssClass"<br/> [style.fontSize]="50%"<br/> [style.stylePropertyName.px]="8"<br/> [attr.type]="(hide) ? 'password' : 'text'"<br/> [role.button]="{{myAriaRole}}"<br/> (click)="onClickEvent()"&gt;<br/>&lt;/app-element&gt;</span></pre><ul class=""><li id="9a6e" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated"><strong class="kf ir"> directiveName — </strong>在结构指令中，长格式只能应用于&lt;模板&gt;标签。简写形式在&lt;模板&gt;中应用元素的地方包装元素</li><li id="9b97" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><strong class="kf ir"> [prop]="value" </strong>用于绑定到属性的对象(角度组件或指令的@Input()或DOM元素的属性)。</li></ul><p id="8517" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有一些特殊的形式:</p><ul class=""><li id="4dff" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated"><strong class="kf ir">【class . class name】</strong>绑定到css类以启用/禁用它</li><li id="3978" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><strong class="kf ir">【style . style property name】</strong>绑定到一个样式属性</li><li id="b47f" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><strong class="kf ir">【style . stylepropertyname . px】</strong>绑定到带有预设单位的样式属性</li><li id="0994" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><strong class="kf ir">【attr . attributename】</strong>将值绑定到属性(在DOM中可见，而属性不可见)</li><li id="491e" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><strong class="kf ir">【role . rolename】</strong>绑定到ARIA角色属性(尚不可用)<br/> prop="{{value}} "将值绑定到属性。该值是字符串化的(也称为插值)</li><li id="a8d2" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><strong class="kf ir"> (event)="expr" </strong>将事件处理程序绑定到@Output()或DOM even</li><li id="f1f9" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><strong class="kf ir"> #myElement </strong>根据上下文有不同的功能。<br/>在<code class="fe me mf mg mh b">*ngFor=”#x in y; #i=index”</code>中，为迭代创建作用域变量(在beta.17中，这被改为<code class="fe me mf mg mh b">*ngFor=”let x in y; let i=index”</code> ) <br/> -在DOM元素上<code class="fe me mf mg mh b">&lt;div #mydiv&gt;</code>是对元素<br/>的引用-在角度组件上是对组件<br/>的引用-在定义了<code class="fe me mf mg mh b">exportAs:”ngForm”</code>的角度组件或具有角度指令的元素上，<code class="fe me mf mg mh b">#myVar=”ngForm”</code>创建对该组件或指令的引用。</li></ul><p id="c7be" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">更多细节可在角度文档<a class="ae kc" href="https://angular.io/docs/ts/latest/guide/template-syntax.html" rel="noopener ugc nofollow" target="_blank">中找到，此处</a>。</p><p id="d425" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">生成一个home组件，作为我们应用程序的主视图:</p><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="b656" class="mi mj iq mh b gy ny nz l oa ob">$ ng generate component home</span></pre><p id="6c53" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，在<code class="fe me mf mg mh b">src/app/app-routing-module.ts</code>文件中创建默认路线(添加粗体部分):</p><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="eb6e" class="mi mj iq mh b gy ny nz l oa ob"><em class="nm">import</em> { NgModule } <em class="nm">from</em> '@angular/core';<br/><em class="nm">import</em> { Routes, RouterModule } <em class="nm">from</em> '@angular/router';<br/><strong class="mh ir"><em class="nm">import</em> { HomeComponent } <em class="nm">from</em> './home/home.component';</strong></span><span id="5986" class="mi mj iq mh b gy oc nz l oa ob"><strong class="mh ir">const routes: Routes = [<br/>  { path: '', component: HomeComponent }<br/>];</strong></span><span id="0111" class="mi mj iq mh b gy oc nz l oa ob">@NgModule({<br/>  imports: [RouterModule.forRoot(routes)],<br/>  exports: [RouterModule]<br/>});</span><span id="d34e" class="mi mj iq mh b gy oc nz l oa ob"><em class="nm">export</em> class AppRoutingModule { }</span></pre><blockquote class="nj nk nl"><p id="f1b4" class="kd ke nm kf b kg kh ki kj kk kl km kn nn kp kq kr no kt ku kv np kx ky kz la ij bi translated">在这个<a class="ae kc" href="https://gist.github.com/mlabieniec/821356ddc5cbf19124601981a23b12e3#file-styles-scss" rel="noopener ugc nofollow" target="_blank">要点</a>中有可用的素材主题样式，你也可以在你的<code class="fe me mf mg mh b">styles.scss</code>文件中添加/定制。</p></blockquote><p id="2c00" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在在你的终端中运行<code class="fe me mf mg mh b">ng serve</code>来启动你的PWA。您应该会看到移动和桌面环境的响应视图。桌面侧边栏将在宽度超过600像素的视图上可见，而在小于600像素的显示器上，可折叠菜单图标将显示在菜单栏中，单击该图标将显示左侧模式菜单。</p><figure class="nq nr ns nt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi od"><img src="../Images/3859263af36100123c1cc7cbef2a780f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3CHNOcmCNHZKeVcIMO5DvQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">桌面视图(宽于600像素)</figcaption></figure><figure class="nq nr ns nt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oe"><img src="../Images/0002b587ad167371e2c9c6c65f3c867f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*opviUSmqV6N_I7UNYIWPzw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">移动视图(小于600像素宽)</figcaption></figure><p id="2a5c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">菜单项在<code class="fe me mf mg mh b">app.component.ts</code>文件中动态填充。</p><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="4bcf" class="mi mj iq mh b gy ny nz l oa ob"><strong class="mh ir">//--&gt; </strong><a class="ae kc" href="https://gist.github.com/mlabieniec/821356ddc5cbf19124601981a23b12e3#file-app-component-ts-L17-L26" rel="noopener ugc nofollow" target="_blank"><strong class="mh ir">app.component.ts</strong></a><br/>nav = [<br/>  {<br/>    'title': 'Home',<br/>    'path': '/'<br/>  },<br/>  {<br/>    'title': 'My Account (part 2)',<br/>    'path': '/auth' //&lt;-- not yet used<br/>  }<br/>];</span><span id="b7c1" class="mi mj iq mh b gy oc nz l oa ob"><strong class="mh ir">//--&gt; </strong><a class="ae kc" href="https://gist.github.com/mlabieniec/821356ddc5cbf19124601981a23b12e3#file-app-component-html-L9-L13" rel="noopener ugc nofollow" target="_blank"><strong class="mh ir">app.component.html</strong></a><br/>&lt;mat-list&gt;<br/>  &lt;mat-list-item <em class="nm">*ngFor</em>="let route of nav"&gt;<br/>    &lt;a <em class="nm">mat-button</em> <br/>       <em class="nm">routerLink</em>="{{route.path}}" <br/>       <em class="nm">routerLinkActive</em>="active" <br/>       <em class="nm">(click)</em>="toggleMobileNav(lnav)"&gt;{{route.title}}&lt;/a&gt;<br/>  &lt;/mat-list-item&gt;<br/>&lt;/mat-list&gt;</span></pre><h2 id="e049" class="mi mj iq bd mk ml mm dn mn mo mp dp mq ko mr ms mt ks mu mv mw kw mx my mz na bi translated">PWA设置</h2><p id="e495" class="pw-post-body-paragraph kd ke iq kf b kg nb ki kj kk nc km kn ko nd kq kr ks ne ku kv kw nf ky kz la ij bi translated">在本节中，我们将概述以下各项的配置和设置:</p><ul class=""><li id="8b7d" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated">Web应用程序清单</li><li id="e65d" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">服务人员</li><li id="239a" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">闪屏</li><li id="e69d" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">pwacompat.js脚本</li><li id="5e00" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">iOS特定的<meta/>标签</li></ul><p id="4c3c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Angular为生成和管理服务人员提供一流的支持。实现是自以为是的，如果你愿意，你可以选择使用你自己的服务人员。对于本教程，我们将使用Angular service worker生成和管理。更多详情请参见<a class="ae kc" href="https://angular.io/guide/service-worker-getting-started" rel="noopener ugc nofollow" target="_blank">此处</a>。</p><blockquote class="nj nk nl"><p id="8122" class="kd ke nm kf b kg kh ki kj kk kl km kn nn kp kq kr no kt ku kv np kx ky kz la ij bi translated">目前最新版本的Chrome、Firefox、Edge、Safari、Opera、UC浏览器(安卓版)和三星互联网都支持服务工作者。像IE和Opera Mini这样的浏览器不提供这种支持。要了解更多有关服务人员可用的其他浏览器的信息，请参见<a class="ae kc" href="https://caniuse.com/#feat=serviceworkers" rel="noopener ugc nofollow" target="_blank">我可以使用</a>页面和<a class="ae kc" href="https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API" rel="noopener ugc nofollow" target="_blank"> MDN文档</a>。</p></blockquote><p id="aa45" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将服务人员添加到您的项目中:</p><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="4df4" class="mi mj iq mh b gy ny nz l oa ob">$ ng add @angular/pwa --project AngularPwaPostOne</span><span id="eb4a" class="mi mj iq mh b gy oc nz l oa ob">...</span><span id="7162" class="mi mj iq mh b gy oc nz l oa ob">CREATE <strong class="mh ir">ngsw-config.json</strong> (441 bytes)<br/>CREATE src/<strong class="mh ir">manifest.json</strong> (1091 bytes)<br/>CREATE src/assets/icons/icon-128x128.png (1253 bytes)<br/>CREATE src/assets/icons/icon-144x144.png (1394 bytes)<br/>CREATE src/assets/icons/icon-152x152.png (1427 bytes)<br/>CREATE src/assets/icons/icon-192x192.png (1790 bytes)<br/>CREATE src/assets/icons/icon-384x384.png (3557 bytes)<br/>CREATE src/assets/icons/icon-512x512.png (5008 bytes)<br/>CREATE src/assets/icons/icon-72x72.png (792 bytes)<br/>CREATE src/assets/icons/icon-96x96.png (958 bytes)<br/>UPDATE angular.json (4229 bytes)<br/>UPDATE package.json (1557 bytes)<br/>UPDATE src/app/app.module.ts (1205 bytes)<br/>UPDATE src/index.html (660 bytes)</span></pre><p id="b075" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该命令将:</p><ul class=""><li id="39d8" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated">将<code class="fe me mf mg mh b">@angular/service-worker</code>包添加到您的项目中，并启用服务人员构建对您的angular CLI的支持。</li><li id="be97" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">在您的应用模块<code class="fe me mf mg mh b">app.module.ts</code>文件中导入并注册服务人员。</li><li id="b9f0" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">更新<code class="fe me mf mg mh b">index.html</code>文件并包含<code class="fe me mf mg mh b">manifest.json</code>文件，并为<code class="fe me mf mg mh b">theme-color</code>添加适当的&lt;元&gt;标签。</li><li id="9c52" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">安装示例图标文件。</li><li id="e129" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">创建一个名为<code class="fe me mf mg mh b">ngsw-config.json</code>的服务工作者配置，它指定了缓存行为。</li></ul><p id="04de" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">运行该命令后，您需要构建带有<code class="fe me mf mg mh b">--prod</code>标志的应用程序，并且您的项目将被设置为使用Angular service worker。</p><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="07cc" class="mi mj iq mh b gy ny nz l oa ob">$ ng build --prod</span></pre><p id="45ec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用服务工作者和Angular进行开发的一个警告是,<code class="fe me mf mg mh b">ng serve</code>命令目前不适用于服务工作者。因此，您需要安装并使用单独的HTTP服务器来本地测试您的应用程序。您可以使用任何HTTP服务器，在本教程中，我们将使用Mac OS内置的<code class="fe me mf mg mh b">python SimpleHTTPServer</code>。</p><blockquote class="nj nk nl"><p id="fd45" class="kd ke nm kf b kg kh ki kj kk kl km kn nn kp kq kr no kt ku kv np kx ky kz la ij bi translated">您也可以使用NPM的http-server或任何其他本地http服务器。</p></blockquote><p id="521c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在在本地为您的新PWA服务:</p><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="bc5e" class="mi mj iq mh b gy ny nz l oa ob">$ pushd dist/AngularPwaPostOne; python -m SimpleHTTPServer; popd</span></pre><blockquote class="nj nk nl"><p id="d902" class="kd ke nm kf b kg kh ki kj kk kl km kn nn kp kq kr no kt ku kv np kx ky kz la ij bi translated">如果你在Python 3+上，省略<code class="fe me mf mg mh b">-m</code>参数:<code class="fe me mf mg mh b">python SimpleHTTPServer</code>。</p></blockquote><p id="b758" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">默认情况下，应用程序将在<a class="ae kc" href="http://localhost:8000." rel="noopener ugc nofollow" target="_blank"> http://localhost:8000上运行。</a>将这个(或您使用的任何http服务器)命令添加到您的<code class="fe me mf mg mh b">package.json</code> <strong class="kf ir"> start </strong>脚本中，并更新<strong class="kf ir"> build </strong>脚本以包含<code class="fe me mf mg mh b">--prod</code>参数。</p><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="2ead" class="mi mj iq mh b gy ny nz l oa ob">"scripts": {<br/>  "ng": "ng",<br/>  <strong class="mh ir">"start": "pushd dist/AngularPwaPostOne; python -m SimpleHTTPServer; popd",</strong><br/>  "build": "ng build <strong class="mh ir">--prod</strong>",<br/>  "test": "ng test",<br/>  "lint": "ng lint",<br/>  "e2e": "ng e2e"<br/>},</span></pre><p id="136f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，您可以通过从命令行运行<code class="fe me mf mg mh b">npm start</code>来本地服务您的应用程序。请记住，在调试或开发您的服务人员时，您需要在调试对本地缓存文件的任何更改之前运行<code class="fe me mf mg mh b">ng build --prod</code>。让我们通过Chrome开发工具来看看我们的注册服务人员。在Mac上按<code class="fe me mf mg mh b">cmd + shift + i</code>或者选择查看菜单、开发者、开发者工具选项。选择“应用程序”选项卡。</p><figure class="nq nr ns nt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oe"><img src="../Images/befc2876b9472ddb1d2b4bd274977e5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aE8ODq6N_tdXx4FzIU4kJQ.png"/></div></div></figure><p id="9bb0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">注意，不用编辑一行代码，我们现在就注册了一个服务人员。确保选中“重新加载时更新”标志；当新的服务人员可用时，这将自动重新加载服务人员。点击左边的“Manifest”链接，你也会注意到自动生成的图标。这些可以用你自己的图标编辑/重新保存。在清单部分，点击“添加到主屏幕”。这将提示您添加快捷方式；注意，名称和图标是用生成的<code class="fe me mf mg mh b">src/manifest.json</code>文件中的值填充的。如果您在Android设备上启动PWA，您还可以添加到主屏幕，主屏幕将使用清单中引用的生成图标(或您创建的图标)。</p><figure class="nq nr ns nt gt jr gh gi paragraph-image"><div class="gh gi of"><img src="../Images/575f8e36e388f4cb207b77ab6a92b214.png" data-original-src="https://miro.medium.com/v2/resize:fit:918/format:webp/1*InZ5JNfXrDdJXBwt1nGBSQ.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">Android添加到主屏幕</figcaption></figure><figure class="nq nr ns nt gt jr gh gi paragraph-image"><div class="gh gi og"><img src="../Images/5ebafb8dba21d2f24dd9039f98ec8d67.png" data-original-src="https://miro.medium.com/v2/resize:fit:814/format:webp/1*yXNwkQmnOhYCYWcipicYJg.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">Android主屏幕图标</figcaption></figure><h2 id="1320" class="mi mj iq bd mk ml mm dn mn mo mp dp mq ko mr ms mt ks mu mv mw kw mx my mz na bi translated">iOS上的图标</h2><p id="4b27" class="pw-post-body-paragraph kd ke iq kf b kg nb ki kj kk nc km kn ko nd kq kr ks ne ku kv kw nf ky kz la ij bi translated">如果你现在尝试用Safari在iOS设备上加载你的PWA，它看起来就不那么好看了。您可以将它添加到主屏幕，但是您会注意到图标显示不正确。</p><blockquote class="nj nk nl"><p id="37ab" class="kd ke nm kf b kg kh ki kj kk kl km kn nn kp kq kr no kt ku kv np kx ky kz la ij bi translated">通过访问端口8000上的本地IP地址，您可以在iOS设备上访问您的应用程序(确保您运行的是iOS 11.3+)。在Mac上，您可以访问“系统偏好设置”,选取“网络”,然后记下列出的IP地址，比如192.168.10.11。然后通过iOS设备访问这个地址<a class="ae kc" href="http://192.168.10.11:8000/" rel="noopener ugc nofollow" target="_blank">http://192 . 168 . 10 . 11:8000/</a>你的PWA应该加载了。在模拟器上，您可以通过<a class="ae kc" href="http://localhost:8000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:8000/ </a>访问它</p></blockquote><figure class="nq nr ns nt gt jr gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/0225911d8a9296aaf228b85f72203c87.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*jOvnvABY466FXgWUhZ0T8w.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">运行iPhone 8和iOS 12.0的iOS模拟器</figcaption></figure><p id="64b2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了解决这个问题，我们需要在<code class="fe me mf mg mh b">&lt;head&gt;</code>标签内的<code class="fe me mf mg mh b">index.html</code>文件中添加一些新图标和一些meta标签:</p><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="52e9" class="mi mj iq mh b gy ny nz l oa ob">&lt;meta <em class="nm">name</em>="apple-mobile-web-app-capable" <em class="nm">content</em>="yes"&gt;</span><span id="48e9" class="mi mj iq mh b gy oc nz l oa ob">&lt;link <em class="nm">rel</em>="apple-touch-icon" <em class="nm">href</em>="assets/icons/icon-512x512.png"&gt;</span><span id="dfff" class="mi mj iq mh b gy oc nz l oa ob">&lt;link <em class="nm">rel</em>="apple-touch-icon" <em class="nm">sizes</em>="152x152" <em class="nm">href</em>="assets/icons/icon-152x152.png"&gt;</span><span id="e117" class="mi mj iq mh b gy oc nz l oa ob">&lt;link <em class="nm">rel</em>="apple-touch-icon" <em class="nm">sizes</em>="180x180" <em class="nm">href</em>="assets/icons/icon-192x192.png"&gt;</span><span id="efc7" class="mi mj iq mh b gy oc nz l oa ob">&lt;link <em class="nm">rel</em>="apple-touch-icon" <em class="nm">sizes</em>="167x167" <em class="nm">href</em>="assets/icons/icon-192x192.png"&gt;</span></pre><blockquote class="nj nk nl"><p id="6baa" class="kd ke nm kf b kg kh ki kj kk kl km kn nn kp kq kr no kt ku kv np kx ky kz la ij bi translated">关于iOS上网络应用程序的大小和功能的更多详细信息，请点击这里<a class="ae kc" href="https://developer.apple.com/library/archive/documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/ConfiguringWebApplications.html" rel="noopener ugc nofollow" target="_blank">。请注意，这些大小实际上并不指向匹配的iOS大小。你可以，也应该，为这些创造新的图标。由于长宽比是相同的，引用的图标实际上比要求的要大，为了简单起见，我使用它们。</a></p></blockquote><p id="7b54" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了查看对缓存资源的更改，您需要清除本地数据，因为服务工作者将缓存资产。默认情况下，服务人员将缓存以下内容:</p><ul class=""><li id="30a7" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated"><code class="fe me mf mg mh b">index.html</code></li><li id="efe2" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><code class="fe me mf mg mh b">favicon.ico</code></li><li id="4991" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">构建工件(JS和CSS包)</li><li id="5295" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">在<code class="fe me mf mg mh b">assets</code>下的任何东西</li></ul><p id="ce15" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在模拟器中，您可以使用硬件，擦除所有内容和设置…选项来重新启动和加载。为了在开发过程中更好地处理这个问题，我们可以在<code class="fe me mf mg mh b">ngsw-config.json</code>文件中添加一个“version”属性，以便服务人员知道从服务器中重新加载缓存的内容。更新<code class="fe me mf mg mh b">ngsw-config.json</code>并添加版本属性。</p><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="69b4" class="mi mj iq mh b gy ny nz l oa ob">{<br/>  "index": "/index.html",<br/>  <strong class="mh ir">"version": 1,</strong><br/>...</span></pre><p id="50a2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下次您想要查看缓存资源的任何更改时，您可以删除此版本并重新运行服务器:</p><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="bd3b" class="mi mj iq mh b gy ny nz l oa ob">$ ng build --prod<br/>$ npm start</span></pre><p id="ee76" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，再次尝试添加到主屏幕，当使用Safari时，您会看到iOS上显示的正确图标。</p><figure class="nq nr ns nt gt jr gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/598b4df2a1ac016e1d315a6b84d083e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*9B7_kbw0I8q-kWF7hxWbJQ.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">iOS添加到主屏幕</figcaption></figure><figure class="nq nr ns nt gt jr gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/02b8d5f781b07e6a5c38a807291d00b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*uw7imwYurRprZNYUb3mU7w.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">iOS主屏幕图标</figcaption></figure><h2 id="19de" class="mi mj iq bd mk ml mm dn mn mo mp dp mq ko mr ms mt ks mu mv mw kw mx my mz na bi translated">安装标准</h2><p id="1d25" class="pw-post-body-paragraph kd ke iq kf b kg nb ki kj kk nc km kn ko nd kq kr ks ne ku kv kw nf ky kz la ij bi translated">为了使应用程序“可安装”,您的PWA需要尚未安装在设备上，并且包括至少提供以下内容的web应用程序清单:</p><ul class=""><li id="cedc" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated"><code class="fe me mf mg mh b">short_name</code>或<code class="fe me mf mg mh b">name</code></li><li id="b440" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><code class="fe me mf mg mh b">icons</code>包括至少192像素和512像素大小的图标</li><li id="8ff7" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><code class="fe me mf mg mh b">start_url</code></li><li id="c4bc" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><code class="fe me mf mg mh b">display</code>是<code class="fe me mf mg mh b">fullscreen</code>、<code class="fe me mf mg mh b">standalone</code>或<code class="fe me mf mg mh b">minimal-ui</code>中的一种</li></ul><blockquote class="nj nk nl"><p id="7f6e" class="kd ke nm kf b kg kh ki kj kk kl km kn nn kp kq kr no kt ku kv np kx ky kz la ij bi translated">你可以在这里了解更多关于web应用清单选项<a class="ae kc" href="https://developer.mozilla.org/en-US/docs/Web/Manifest" rel="noopener ugc nofollow" target="_blank">的信息。</a></p></blockquote><h2 id="9e99" class="mi mj iq bd mk ml mm dn mn mo mp dp mq ko mr ms mt ks mu mv mw kw mx my mz na bi translated">闪屏</h2><p id="cda4" class="pw-post-body-paragraph kd ke iq kf b kg nb ki kj kk nc km kn ko nd kq kr ks ne ku kv kw nf ky kz la ij bi translated">在应用程序加载和缓存之前，会显示一个闪屏。这可以在web应用程序清单中定义，但是iOS/Safari目前不支持从清单中生成它，而是只显示一个白屏(当这些值未定义时，Chrome也会显示白屏)。Chrome会根据清单属性自动创建一个闪屏:</p><ul class=""><li id="7258" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated"><code class="fe me mf mg mh b">name</code></li><li id="2ab1" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><code class="fe me mf mg mh b">background_color</code></li><li id="51eb" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><code class="fe me mf mg mh b">icons</code></li></ul><blockquote class="nj nk nl"><p id="d830" class="kd ke nm kf b kg kh ki kj kk kl km kn nn kp kq kr no kt ku kv np kx ky kz la ij bi translated">你的<code class="fe me mf mg mh b">background_color</code>应该和你的加载屏幕颜色相同，这样用户从splash到你的应用程序就可以平滑过渡。</p></blockquote><p id="12b8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Chrome将选择与该设备的128dpi图标最接近的图标。大多数情况下，提供192像素和512像素的图标就可以了，但是您也可以提供额外的图标。</p><p id="c3ed" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">iOS设备上的Safari支持自定义meta标签来指定闪屏<code class="fe me mf mg mh b">apple-touch-startup-image</code>。启动屏幕的大小在iOS人机界面指南的图形部分中指定，可以在<a class="ae kc" href="https://developer.apple.com/design/human-interface-guidelines/ios/icons-and-images/launch-screen/" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><figure class="nq nr ns nt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oj"><img src="../Images/660905db1302b2d04f264f9c3530ac90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V1EwcRiMSCbeHihx0TEnXQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae kc" href="https://developer.apple.com/design/human-interface-guidelines/ios/icons-and-images/launch-screen/" rel="noopener ugc nofollow" target="_blank">https://developer . apple . com/design/human-interface-guidelines/IOs/icons-and-images/launch-screen/</a></figcaption></figure><p id="a853" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了这个启动画面，我从unsplash.com下载了一张<a class="ae kc" href="https://unsplash.com/photos/KYdqNRMF8f8" rel="noopener ugc nofollow" target="_blank">照片，并在这里</a>使用了一个草图模板<a class="ae kc" href="https://github.com/applification/pwa-splash-screens/blob/master/assets/PWA-Splash-Screens.sketch?raw=true" rel="noopener ugc nofollow" target="_blank">。一旦图像被创建，添加下面的元标签到你的<code class="fe me mf mg mh b">src/index.html</code>:</a></p><figure class="nq nr ns nt gt jr"><div class="bz fp l di"><div class="ok ol l"/></div></figure><p id="4bf3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，在模拟器或设备中加载您的应用程序，添加到主屏幕，在应用程序加载之前，您应该会看到您的闪屏显示。</p><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="2ac1" class="mi mj iq mh b gy ny nz l oa ob">$ ng build --prod<br/>$ npm start</span></pre><figure class="nq nr ns nt gt jr gh gi paragraph-image"><div class="gh gi om"><img src="../Images/3ea44a243560929b42ca01d7477cfb88.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/1*_7aDSYNRD6gyPvdUjkSOcA.gif"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">自定义iOS闪屏</figcaption></figure><p id="dce6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">自定义iOS安装横幅<br/> </strong>当符合PWA的所有标准时，Android/Chrome将显示友好的安装通知，询问用户是否要安装该应用程序。</p><figure class="nq nr ns nt gt jr gh gi paragraph-image"><div class="gh gi of"><img src="../Images/0e9390b588e4afcacce090a011ed0e5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:918/format:webp/1*axL5nfQ4sRzrBpv8wte0rA.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">Android PWA安装通知</figcaption></figure><blockquote class="nj nk nl"><p id="27dc" class="kd ke nm kf b kg kh ki kj kk kl km kn nn kp kq kr no kt ku kv np kx ky kz la ij bi translated">提示:打开您的<code class="fe me mf mg mh b">src/manifest.json</code>文件，将<code class="fe me mf mg mh b">"short_name"</code>更改为12个字符以下的内容，<a class="ae kc" href="https://developer.chrome.com/apps/manifest/name#short_name" rel="noopener ugc nofollow" target="_blank">这是推荐的长度</a>，这样主屏幕就不会将其截断。</p></blockquote><p id="453e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在iOS/Safari上不存在此功能，但我们可以在Angular/Material中创建一个，并使用Angular Material<a class="ae kc" href="https://material.angular.io/components/snack-bar/overview" rel="noopener ugc nofollow" target="_blank">snack bar</a>显示一个自定义组件。</p><p id="f9a3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先生成SnackBar将显示的自定义组件:</p><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="6c42" class="mi mj iq mh b gy ny nz l oa ob">$ ng generate component iosInstall</span></pre><p id="430e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因为我们将在material SnackBar中使用该组件，所以我们需要执行一个额外的步骤，以便Angular将强制加载该组件(这意味着它不会显示在模板中)。更新<code class="fe me mf mg mh b">src/app.module.ts</code>文件，向<code class="fe me mf mg mh b">@NgModule</code>指令添加一个附加属性:</p><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="e708" class="mi mj iq mh b gy ny nz l oa ob">@<strong class="mh ir">NgModule</strong>({<br/>declarations: [<br/>  AppComponent,<br/>  HomeComponent,<br/>  <strong class="mh ir">IosInstallComponent</strong><br/>],<br/>imports: [<br/>  BrowserModule,<br/>  AppRoutingModule,<br/>  BrowserAnimationsModule,<br/>  MaterialModule,<br/>  ServiceWorkerModule.register('ngsw-worker.js', { enabled: environment.production })<br/>],<br/>  providers: [AppSyncService],<br/>  bootstrap: [AppComponent],<br/>  <strong class="mh ir">entryComponents: [IosInstallComponent]</strong><br/>})</span></pre><p id="74c6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">打开<code class="fe me mf mg mh b">src/app.component.ts</code>文件，实现<code class="fe me mf mg mh b">OnInit</code>生命周期事件。</p><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="8ecf" class="mi mj iq mh b gy ny nz l oa ob"><em class="nm">export</em> class AppComponent <strong class="mh ir">implements OnInit</strong></span></pre><blockquote class="nj nk nl"><p id="ddb8" class="kd ke nm kf b kg kh ki kj kk kl km kn nn kp kq kr no kt ku kv np kx ky kz la ij bi translated">在你的类的顶端，如果你的IDE没有自动完成，你也需要<code class="fe me mf mg mh b">import { OnInit } from '@angular/core';</code>。</p></blockquote><p id="f8ee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">更新构造函数方法以注入<code class="fe me mf mg mh b">MatSnackBar</code>组件，该组件将在iOS设备上显示我们的通知。</p><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="10ca" class="mi mj iq mh b gy ny nz l oa ob">constructor( changeDetectorRef: ChangeDetectorRef, media: MediaMatcher, <strong class="mh ir">private toast: MatSnackBar</strong> )</span></pre><p id="81f8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，在组件类的主体中，直接在<code class="fe me mf mg mh b">constructor</code>方法之后插入<code class="fe me mf mg mh b">ngOnInit</code>生命周期方法。</p><figure class="nq nr ns nt gt jr"><div class="bz fp l di"><div class="ok ol l"/></div></figure><blockquote class="nj nk nl"><p id="7411" class="kd ke nm kf b kg kh ki kj kk kl km kn nn kp kq kr no kt ku kv np kx ky kz la ij bi translated">不要忘了在你的类的顶部使用<code class="fe me mf mg mh b">import { IosInstallComponent } from './ios-install/ios-install.component';</code>，或者在<code class="fe me mf mg mh b">openFromComponent</code>方法中在<code class="fe me mf mg mh b">IosInstallComponent</code>字符串的末尾按<code class="fe me mf mg mh b">ctrl+space</code>。</p></blockquote><p id="f8ab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了让我们的组件能够被解除，我们将更新组件构造函数。打开<code class="fe me mf mg mh b">ios-install/ios-install.component.ts</code>文件并更新<code class="fe me mf mg mh b">constructor</code>方法。</p><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="d644" class="mi mj iq mh b gy ny nz l oa ob">constructor( <strong class="mh ir">private snackBarRef:MatSnackBarRef&lt;IosInstallComponent&gt; </strong>){}</span></pre><p id="bfe3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这将添加对启动该组件的MatSnackBar的引用。这将使我们能够添加一个关闭功能。</p><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="a36a" class="mi mj iq mh b gy ny nz l oa ob">close() {<br/>  <em class="nm">this</em>.snackBarRef.dismiss();<br/>}</span></pre><p id="131c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用自定义消息更新<code class="fe me mf mg mh b">src/ios-install/ios-install.component.html</code>视图，该消息将要求我们的用户将我们的PWA安装到他们的主屏幕上。</p><figure class="nq nr ns nt gt jr"><div class="bz fp l di"><div class="ok ol l"/></div></figure><p id="2c8f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，让我们添加一些css样式，以便关闭按钮正确地显示在通知的右侧。更新<code class="fe me mf mg mh b">src/ios-install/ios-install.component.css</code>文件。</p><figure class="nq nr ns nt gt jr"><div class="bz fp l di"><div class="ok ol l"/></div></figure><p id="8978" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">构建并启动PWA(记得清空缓存、重置模拟器或更新版本)。</p><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="9a67" class="mi mj iq mh b gy ny nz l oa ob">$ ng build --prod<br/>$ npm start</span></pre><figure class="nq nr ns nt gt jr gh gi paragraph-image"><div class="gh gi on"><img src="../Images/202d513b0d262e20c8fadcc9ab00870e.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*YpN-wvx-OPnO5cPrZixDcQ.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">自定义iOS安装通知</figcaption></figure><p id="4d62" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此通知将仅在iOS设备上显示，并且仅在浏览器中运行时显示，例如非<code class="fe me mf mg mh b">standalone</code>模式/已安装。</p><h2 id="3085" class="mi mj iq bd mk ml mm dn mn mo mp dp mq ko mr ms mt ks mu mv mw kw mx my mz na bi translated">在亚马逊S3和CloudFront上托管</h2><p id="dc95" class="pw-post-body-paragraph kd ke iq kf b kg nb ki kj kk nc km kn ko nd kq kr ks ne ku kv kw nf ky kz la ij bi translated"><a class="ae kc" href="https://github.com/aws-amplify/cli" rel="noopener ugc nofollow" target="_blank"> AWS Amplify CLI </a>提供了一个可插拔的分类工具链，用于使用AWS CloudFormation管理您的AWS后端。它只需要一个AWS账户，该账户可以是<a class="ae kc" href="https://aws.amazon.com/free/" rel="noopener ugc nofollow" target="_blank">自由层账户</a>。您可以通过NPM安装CLI(CLI要求节点版本为8.11以上)。</p><blockquote class="nj nk nl"><p id="030b" class="kd ke nm kf b kg kh ki kj kk kl km kn nn kp kq kr no kt ku kv np kx ky kz la ij bi translated">如果您没有AWS帐户，请从这里开始使用<a class="ae kc" href="https://aws-amplify.github.io/media/get_started" rel="noopener ugc nofollow" target="_blank">。</a></p></blockquote><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="67fa" class="mi mj iq mh b gy ny nz l oa ob">$ npm install -g @aws-amplify/cli</span></pre><p id="c2bd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于新的安装，首先运行<code class="fe me mf mg mh b">amplify configure</code>来设置您的AWS IAM用户和配置。如果您已经配置了您的帐户，您可以跳过configure命令。</p><p id="8852" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦您的AWS帐户凭证和用户被配置，从您的根项目目录运行<code class="fe me mf mg mh b">amplify init</code>。</p><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="f542" class="mi mj iq mh b gy ny nz l oa ob">$ <strong class="mh ir">amplify init <br/></strong>? Enter a name for the project: <strong class="mh ir">AngularPwaPostOne</strong> <br/>? Enter a name for for the environment: <strong class="mh ir">development</strong><br/>? Choose your default editor: <strong class="mh ir">&lt;choose your preferred editor&gt;</strong><br/>? Choose the type of app that you're building <strong class="mh ir">javascript <br/></strong>? What javascript framework are you using (Use arrow keys): <br/><strong class="mh ir">❯ angular</strong></span><span id="7b5a" class="mi mj iq mh b gy oc nz l oa ob">? What javascript framework are you using <strong class="mh ir">angular</strong><br/>? Source Directory Path:  <strong class="mh ir">src</strong><br/>? Distribution Directory Path: <strong class="mh ir">dist/AmplifyPwaPostOne</strong><br/>? Build Command: <strong class="mh ir">ng build --prod</strong><br/>? Start Command: <strong class="mh ir">npm start</strong></span><span id="d10d" class="mi mj iq mh b gy oc nz l oa ob">Using default provider awscloudformation</span><span id="b0b6" class="mi mj iq mh b gy oc nz l oa ob">For more information on AWS Profiles, see:<br/><a class="ae kc" href="https://docs.aws.amazon.com/cli/latest/userguide/cli-multiple-profiles.html" rel="noopener ugc nofollow" target="_blank">https://docs.aws.amazon.com/cli/latest/userguide/cli-multiple-profiles.html</a></span><span id="5b26" class="mi mj iq mh b gy oc nz l oa ob">? Do you want to use an AWS profile?<strong class="mh ir"> (choose if you have CLI profiles on your machine)</strong><br/>? Please choose the profile you want to use &lt;your-profile&gt;</span></pre><blockquote class="nj nk nl"><p id="c6fd" class="kd ke nm kf b kg kh ki kj kk kl km kn nn kp kq kr no kt ku kv np kx ky kz la ij bi translated">确保在dist目录中用您的项目名称更新<strong class="kf ir">发行目录路径</strong>选项。例如，如果您在本教程中将项目命名为“AngularPwaPostOne ”,该选项将被设置为<code class="fe me mf mg mh b"><em class="iq">dist/AngularPwaPostOne</em></code>。您总是可以通过运行<code class="fe me mf mg mh b"><em class="iq">amplify configure project</em></code>来重新配置您的项目。</p></blockquote><p id="24e3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">项目环境配置完成后，下一步是为应用程序添加宿主。服务人员需要一个安全的来源。对于HTTPs服务，您有两种选择:</p><ol class=""><li id="2fd7" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la oo lh li lj bi translated">使用CloudFront在HTTPs托管中启用PROD模式</li><li id="eef2" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la oo lh li lj bi translated">用Route53和Amazon Certificate Manager设置你自己的自定义域，并将其指向你的S3桶</li></ol><p id="6aac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本教程中，我们将在主机中使用PROD模式，因此我们可以通过Amplify CLI和Amazon CloudFront获得HTTPs。从项目的根目录运行:</p><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="8969" class="mi mj iq mh b gy ny nz l oa ob">$ <strong class="mh ir">amplify add hosting</strong><br/>? Select the environment setup: (Use arrow keys)<br/>❯ DEV (S3 only with HTTP)<br/><strong class="mh ir">❯ PROD (S3 with CloudFront using HTTPS)</strong></span><span id="bfd2" class="mi mj iq mh b gy oc nz l oa ob">? Select the environment setup: <strong class="mh ir">PROD (S3 with CloudFront using HTTPS)</strong><br/>? hosting bucket name <strong class="mh ir">angularpwapostone</strong><br/>? index doc for the website <strong class="mh ir">index.html</strong><br/>? error doc for the website <strong class="mh ir">index.html</strong></span><span id="1673" class="mi mj iq mh b gy oc nz l oa ob">You can now publish your app using the following command:<br/>Command: amplify publish</span><span id="36fd" class="mi mj iq mh b gy oc nz l oa ob">$ <strong class="mh ir">amplify publish</strong></span></pre><p id="8db5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于这一步将使用Amazon CloudFront创建一个全球内容交付分发，因此需要一些时间来完成(有时长达10分钟)。一旦完成，您就可以在您的终端上显示的CloudFront发行版的HTTPs端点上访问您的PWA。</p><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="1119" class="mi mj iq mh b gy ny nz l oa ob">✔ All resources are updated in the cloud</span><span id="99f4" class="mi mj iq mh b gy oc nz l oa ob">Hosting endpoint: <strong class="mh ir">https://********.cloudfront.net</strong></span></pre><p id="b85d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当部署应用程序的另一个版本时，您可能希望使CloudFront缓存无效，以便立即显示新版本。为此，运行带有<code class="fe me mf mg mh b">-c</code>参数的公共命令。</p><pre class="nq nr ns nt gt nu mh nv nw aw nx bi"><span id="eef3" class="mi mj iq mh b gy ny nz l oa ob">$ amplify publish -c</span></pre><p id="2ce5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这将使您的CloudFront缓存无效，并用来自源的最新数据填充它，在我们的例子中，源是亚马逊S3存储桶。部署时，您可能还想通过上述的<code class="fe me mf mg mh b">ngsw-confg.json</code>“version”属性更新您的服务人员的版本。这将通知系统有新版本的服务工作程序和静态文件可用。这将提示用户重新安装应用程序，下载/安装新的服务人员，并缓存新的静态文件。</p><p id="92a5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您的应用程序现在托管在CloudFront上，通过全球CDN分发，并由服务人员在浏览器中本地缓存。web应用程序清单和HTML meta标记将为iOS和Android提供图标和独立模式安装。请继续关注下一篇文章，我们将添加一个带有Amazon Cognito和AWS Amplify Auth类别的自定义多因素身份验证系统。</p></div></div>    
</body>
</html>