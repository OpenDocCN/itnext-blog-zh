<html>
<head>
<title>Restify-Gen, a restify api generator</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Restify-Gen，一个restify api生成器</h1>
<blockquote>原文：<a href="https://itnext.io/restify-gen-4e140ec346d2?source=collection_archive---------2-----------------------#2018-03-01">https://itnext.io/restify-gen-4e140ec346d2?source=collection_archive---------2-----------------------#2018-03-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="7c2f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kl" href="https://www.linkedin.com/cws/share?url=https%3A%2F%2Fitnext.io%2Frestify-gen-4e140ec346d2" rel="noopener ugc nofollow" target="_blank"> <em class="km">点击这里在LinkedIn </em>上分享这篇文章</a></p><p id="644f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于最后两个项目，我们使用<a class="ae kl" href="http://restify.com/" rel="noopener ugc nofollow" target="_blank"> Restify </a>作为后端api。</p><p id="f92b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了简化restify的工作，我实现了一个类似express的生成器，这样目录结构就可以标准化了。今天我想分享这个和它的用法。</p><p id="fafa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Restify-Gen 是一个非常简单易用的npm包，可以通过MIT许可公开获得。我希望你也能发现它对你的项目有用。</p></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><p id="1d5b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们来看看它的用法。express generator使用的方法几乎类似。所以如果你熟悉express，你就会知道它的用法。</p><p id="1e9f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我建议全球安装。</p><figure class="ku kv kw kx gt ky"><div class="bz fp l di"><div class="kz la l"/></div></figure><p id="14b0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在shell上执行上述命令后，目录结构如下所示。</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div class="gh gi lb"><img src="../Images/9bf05b391c699f0d0ee9fd5945f05e14.png" data-original-src="https://miro.medium.com/v2/resize:fit:786/format:webp/1*kM6sul8qLtgkJnl8WElrig.png"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">文件夹结构</figcaption></figure><p id="b3fb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">默认情况下，您将拥有节点应用程序(app.js)的主条目、一个基本的<a class="ae kl" href="https://www.npmjs.com/package/bunyan" rel="noopener ugc nofollow" target="_blank"> bunyan </a>记录器和routes文件夹，其中包含一个到<em class="km"> /api/ </em>路径的示例路由。</p><p id="3b14" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">默认情况下，应用程序将在端口8080上运行。当应用程序生成时，我将使用不同的命令行选项来配置此定义和其他定义。</p><p id="33fc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="km"> index.js </em> </strong>内含好帮手，供你参考如何写路线。</p><figure class="ku kv kw kx gt ky"><div class="bz fp l di"><div class="kz la l"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">默认路由器</figcaption></figure><p id="fdb3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在routes文件夹中，您可以定义新的路线，并将每条路线分成不同的文件。让我们举个例子，让你看看这有多简单。</p><p id="6e3a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我将在routes下的一个单独的文件users.js中为用户定义一个简单的get。内容大概是这样的:</p><figure class="ku kv kw kx gt ky"><div class="bz fp l di"><div class="kz la l"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">用户路线示例</figcaption></figure><p id="909e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我们实现了简单的用户路径之后，你需要做的就是在<em class="km"> app.js </em>下定义它，这样restify服务器就能理解了。下面是我们定义的示例用户路线和<em class="km"> app.js </em></p><p id="9522" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">基本上是找到回家的路线，要求新定义的路线，然后将其添加到您选择的路线中。</p><figure class="ku kv kw kx gt ky"><div class="bz fp l di"><div class="kz la l"/></div></figure><p id="d9db" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要启动您的应用程序，请转到restify-gen创建的应用程序文件夹，并执行<strong class="jp ir"> <em class="km"> npm安装；npm在你的shell上启动</em> </strong>。</p><p id="c1cc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，让我们看看restify-gen中当前可用的命令行选项。</p><blockquote class="li lj lk"><p id="19cc" class="jn jo km jp b jq jr js jt ju jv jw jx ll jz ka kb lm kd ke kf ln kh ki kj kk ij bi translated">更新05/03/2018:集群模式实施</p></blockquote><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div class="gh gi lo"><img src="../Images/8ed8aca537a46bd7b3d9dd18154ce917.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*20t_KP6nFDvzF3SclrBiwQ.png"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">使用选项—更新</figcaption></figure><p id="073a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们有了另一个选项c，集群。当提供时，我们的生成器将在根文件夹中提供另一个实现<a class="ae kl" href="https://nodejs.org/api/cluster.html" rel="noopener ugc nofollow" target="_blank"> Node.js的集群模式</a>的文件。</p><p id="c6da" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该模式将根据服务器上CPU的数量，使用多个工作线程执行node。</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div class="gh gi lp"><img src="../Images/17e9a9d008be997edc9477fb8d270cfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:862/format:webp/1*YWCCgWSxSJrlt5LgyJ-Lfg.png"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">集群模式执行</figcaption></figure><p id="54b9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我希望这个包能让你轻松开始restify。</p><p id="85b6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">谢谢你读到这里。如果你喜欢你所读的，请拍我，并提供你的意见。</p></div></div>    
</body>
</html>