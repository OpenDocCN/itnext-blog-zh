<html>
<head>
<title>How to connect React components to any backend ?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将React组件连接到任何后端？</h1>
<blockquote>原文：<a href="https://itnext.io/how-to-connect-react-components-to-any-backend-1c1a1d530882?source=collection_archive---------1-----------------------#2018-02-19">https://itnext.io/how-to-connect-react-components-to-any-backend-1c1a1d530882?source=collection_archive---------1-----------------------#2018-02-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/cf505b75e109abf0dfae7f1c9621b2e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qne2eND1LLBKN6oPf1ToZg.png"/></div></div></figure><p id="a9b5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://www.linkedin.com/cws/share?url=https%3A%2F%2Fitnext.io%2Fhow-to-connect-react-components-to-any-backend-1c1a1d530882" rel="noopener ugc nofollow" target="_blank"> <em class="kx">点击这里在LinkedIn </em>上分享这篇文章</a></p><p id="5367" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"> React </a>缺乏一个核心特性来轻松地将UI组件连接到一些后端，如数据库(在服务器端)或REST服务(在客户端或在服务器端)。当我们在Hextrakt 开始开发UI组件时，我们考虑了不同的解决方案来解决这个问题。有一个不必要的<a class="ae kw" href="https://redux.js.org/" rel="noopener ugc nofollow" target="_blank"> Redux </a>，旨在管理UI状态和响应用户动作。Redux在客户端非常有用，但是对于服务器端的渲染帮助不大，因为服务器端的初始状态是不可变的。</p><p id="45e1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在服务器端，我们希望能够:</p><p id="504f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">1-呈现一个完整的DOM树，带有从数据库后端获取的标签和初始值(属性和内容);</p><p id="565d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">2-向DOM中注入一个javascript变量，以便在客户端呈现时向React组件或Redux store提供初始状态。</p><p id="c4d0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所以我们决定构建一个简单(但完整)的框架，名为<a class="ae kw" href="https://github.com/Hextrakt/react-backend" rel="noopener ugc nofollow" target="_blank"> react-backend </a>，这使得:</p><p id="29c6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">1-声明哪个应用程序路径需要哪些数据。例如，为了告知导航到/user时需要“getUserInfo ”,我们使用了React Route和一个NeedsData组件:</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="1b77" class="lh li iq ld b gy lj lk l ll lm">&lt;Route path='/user' render={() =&gt; (<br/>  &lt;NeedsData needs="getUserInfo"/&gt;<br/>  )}/&gt;<br/>&lt;/Route&gt;</span></pre><p id="6a36" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">2-向表示组件提供所有已解决的数据(或错误)。WithData组件对此负责。</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="0446" class="lh li iq ld b gy lj lk l ll lm">&lt;WithData dataProvider={dataProvider}&gt;<br/>  &lt;UserForm/&gt;<br/>&lt;/WithData&gt;</span></pre><p id="55e1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">用户表单UI组件可以这样编写</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="2048" class="lh li iq ld b gy lj lk l ll lm">class _UserForm extends React.Component {<br/>  render() {<br/>    const {dataProvider} = this.props<br/>    if (!dataProvider.hasErrors()) {<br/>      const userInfo = dataProvider.getData("getUserInfo")<br/>      // add here your rendering logic<br/>    }<br/>    else if (dataProvider.getError("getUserInfo")) {<br/>      // show specific error<br/>    }<br/>  }<br/>}<br/>const UserForm = withDataProvider(_UserForm)</span></pre><p id="b8b2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">经过几个月的工作，看到它运行良好，我们决定分享它，并将其公之于众，以便社区可以提供反馈并帮助改进它。</p><p id="a700" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">https://github.com/Hextrakt/react-backend<a class="ae kw" href="https://github.com/Hextrakt/react-backend" rel="noopener ugc nofollow" target="_blank">的更多信息</a></p></div></div>    
</body>
</html>