<html>
<head>
<title>I18n messages manage by golang</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">由golang管理的I18n消息</h1>
<blockquote>原文：<a href="https://itnext.io/i18n-messages-manage-by-golang-5c6b60532a0?source=collection_archive---------6-----------------------#2019-12-12">https://itnext.io/i18n-messages-manage-by-golang-5c6b60532a0?source=collection_archive---------6-----------------------#2019-12-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="adeb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kl" href="https://github.com/gookit/i18n" rel="noopener ugc nofollow" target="_blank"> Gookit/i18n </a>是一个简单的i18n消息管理器，使用<code class="fe km kn ko kp b">INI</code>文件。</p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="gh gi kq"><img src="../Images/61d551070c8af2ead106cc3b7db724bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iuTrcpBPop7HM0_UbSuLRA.jpeg"/></div></div></figure><h1 id="b4e5" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">特征</h1><ul class=""><li id="4ce8" class="ma mb iq jp b jq mc ju md jy me kc mf kg mg kk mh mi mj mk bi translated">易于使用，支持加载多种语言，多种文件</li><li id="6cc7" class="ma mb iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">两种数据加载方式:单个文件<code class="fe km kn ko kp b">FileMode</code>，文件夹<code class="fe km kn ko kp b"> DirMode</code>；默认为文件夹模式</li><li id="bf87" class="ma mb iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">支持设置默认语言和后备语言；当找不到默认语言数据时，它会自动尝试查找备用语言</li><li id="16b1" class="ma mb iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">支持参数替换，有两种方式:<code class="fe km kn ko kp b">SprintfMode</code>通过<code class="fe km kn ko kp b"> fmt.Sprintf</code>替换参数，<code class="fe km kn ko kp b">ReplaceMode</code>使用<code class="fe km kn ko kp b"> strings.Replacer</code></li></ul><h1 id="b355" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">安装</h1><pre class="kr ks kt ku gt mq kp mr ms aw mt bi"><span id="81f3" class="mu ld iq kp b gy mv mw l mx my">go get github.com/gookit/i18n</span></pre><h1 id="f694" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">使用</h1><pre class="kr ks kt ku gt mq kp mr ms aw mt bi"><span id="8434" class="mu ld iq kp b gy mv mw l mx my">lang/<br/>    en/<br/>        default.ini<br/>        ...<br/>    zh-CN/<br/>        default.ini<br/>        ...</span></pre><h1 id="1827" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">初始化i18n</h1><pre class="kr ks kt ku gt mq kp mr ms aw mt bi"><span id="6c5c" class="mu ld iq kp b gy mv mw l mx my">import "github/gookit/i18n"</span><span id="437b" class="mu ld iq kp b gy mz mw l mx my">    languages := map[string]string{<br/>        "en": "English",<br/>        "zh-CN": "简体中文",<br/>        // "zh-TW": "繁体中文",<br/>    }</span><span id="5287" class="mu ld iq kp b gy mz mw l mx my">    // The default instance initialized directly here<br/>    i18n.Init("conf/lang", "en", languages)<br/>    <br/>    // Create a custom new instance<br/>    // i18n.New(langDir string, defLang string, languages)<br/>    // i18n.NewEmpty()</span></pre><h1 id="241f" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">翻译</h1><pre class="kr ks kt ku gt mq kp mr ms aw mt bi"><span id="c9b5" class="mu ld iq kp b gy mv mw l mx my">    // translate from special language<br/>    msg := i18n.Tr("en", "key")</span><span id="2cc4" class="mu ld iq kp b gy mz mw l mx my">    // translate from default language<br/>    msg = i18n.DefTr("key")<br/>    // with arguments. <br/>    msg = i18n.DefTr("key1", "arg1", "arg2")</span></pre><h1 id="812d" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">参数替换模式</h1><p id="c72a" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy na ka kb kc nb ke kf kg nc ki kj kk ij bi translated"><strong class="jp ir">使用</strong> <code class="fe km kn ko kp b"><strong class="jp ir">SprintfMode</strong></code> <strong class="jp ir">(默认):</strong></p><pre class="kr ks kt ku gt mq kp mr ms aw mt bi"><span id="9e83" class="mu ld iq kp b gy mv mw l mx my"># en.ini<br/>desc = I am %s, age is %d</span></pre><p id="10bf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">带参数的用法:</p><pre class="kr ks kt ku gt mq kp mr ms aw mt bi"><span id="5a65" class="mu ld iq kp b gy mv mw l mx my">msg := i18n.Tr("en", "desc", "name", "tom", "age", 22)<br/>// Output: "I am tom, age is 22"</span></pre><p id="9ac8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">使用</strong> <code class="fe km kn ko kp b"><strong class="jp ir">ReplaceMode</strong></code> <strong class="jp ir"> : </strong></p><pre class="kr ks kt ku gt mq kp mr ms aw mt bi"><span id="9429" class="mu ld iq kp b gy mv mw l mx my"># en.ini<br/>desc = I am {name}, age is {age}</span></pre><p id="71d2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用<code class="fe km kn ko kp b">map[string]interface{}</code>参数:</p><pre class="kr ks kt ku gt mq kp mr ms aw mt bi"><span id="5aa4" class="mu ld iq kp b gy mv mw l mx my">i18n.TransMode = i18n.ReplaceMode</span><span id="82f0" class="mu ld iq kp b gy mz mw l mx my">msg := i18n.Tr("en", "desc", "desc", map[string]interface{}{<br/>    "name": "tom",<br/>    "age": 22,<br/>})<br/>// Output: "I am tom, age is 22"</span></pre><h1 id="c526" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">试验</h1><pre class="kr ks kt ku gt mq kp mr ms aw mt bi"><span id="b316" class="mu ld iq kp b gy mv mw l mx my">go test -cover</span></pre><h1 id="8230" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">Dep包</h1><ul class=""><li id="1343" class="ma mb iq jp b jq mc ju md jy me kc mf kg mg kk mh mi mj mk bi translated">Google kit/ini是一个INI配置文件/数据管理器</li></ul><h1 id="753c" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">许可证</h1><p id="5a5b" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy na ka kb kc nb ke kf kg nc ki kj kk ij bi translated"><a class="ae kl" href="https://github.com/gookit/i18n/blob/master/LICENSE" rel="noopener ugc nofollow" target="_blank">麻省理工</a></p><div class="nd ne gp gr nf ng"><a href="https://github.com/gookit/i18n" rel="noopener  ugc nofollow" target="_blank"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ir gy z fp nl fr fs nm fu fw ip bi translated">gookit/i18n</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk">Use INI file, simple i18n manager implement. 使用INI文件，实现的简单方便的语言加载与管理 - gookit/i18n</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">github.com</p></div></div><div class="np l"><div class="nq l nr ns nt np nu la ng"/></div></div></a></div></div></div>    
</body>
</html>