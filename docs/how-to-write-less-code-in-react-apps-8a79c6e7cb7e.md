# 如何在 React 应用中编写更少的代码🎯🎯🎯

> 原文：<https://itnext.io/how-to-write-less-code-in-react-apps-8a79c6e7cb7e?source=collection_archive---------9----------------------->

你有两个选择:

1.  不要用 React 写应用😢
2.  使用下面解释的技术😁

## **言归正传**

每个 react 应用程序都有使用状态控制子组件的组件。这种子组件也称为受控组件。典型的例子是控制模式对话框可见性的布局组件。

在真实的应用程序中，toggle 函数的实现是开发人员必须避免的。

**为什么？**因为模态对话框可能会出现在不止一个地方。这意味着重复的代码。这意味着很难维护和扩展应用程序。

在这篇文章中，我想分享一个我用来使我的组件清晰可维护的功能。

## Toggle HOC 带来了救援！

下面是它的使用方法:

`withToggle({ showModal: false })(Layout)`

它消耗道具物体。在内部，将道具复制到内部组件的状态。之后，为内部组件状态中的每个值创建更新函数。在最后一步中，将状态和更新程序传递给 BaseComponent。

Layout.js 收到的内容如下:

现在，BaseComponent 使用 withToggle 中的状态更新器来控制 modal 的可见性。

这种方法的优点是公共逻辑位于一个单独的文件中，并通过导入导出在应用程序间共享。不需要在每个需要模态的组件中实现切换功能。

这里是这个特设的源代码。确保你理解其中的逻辑。

我在我的应用程序中使用这个 HOC，发现它很方便。告诉我你对这种方法的看法。如果你有另一个如何避免重复代码和复制粘贴“技术”的好例子，写在评论区，让我们一起讨论吧！

感谢你的阅读，安德鲁·✋