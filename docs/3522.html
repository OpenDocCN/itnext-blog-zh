<html>
<head>
<title>HTML: Underrated API’s</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">HTML:被低估的API</h1>
<blockquote>原文：<a href="https://itnext.io/html-underrated-apis-7a156607608d?source=collection_archive---------7-----------------------#2020-01-02">https://itnext.io/html-underrated-apis-7a156607608d?source=collection_archive---------7-----------------------#2020-01-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d769" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">本地API没有被广泛使用</h2></div><p id="855c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正如我们已经看到的<a class="ae le" rel="noopener ugc nofollow" target="_blank" href="/html-underrated-tags-119ef3e45b94">被低估的html标签</a>，现在我将向你展示一些在web应用中没有被广泛使用的API。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/41915a17349745e360b531142373f2f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w50umx6FZ2COHmY5RMI_0g.png"/></div></div></figure><h1 id="9eb1" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">颤动</h1><p id="6209" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">老实说，你最后一次使用<a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/API/Vibration_API" rel="noopener ugc nofollow" target="_blank">振动API </a>是什么时候？。这个API可以给用户体验带来如此强大的力量，但不幸的是，我最后一次看到它的使用是在那些欺诈性的虚假广告页面上，据说谷歌会给你一些礼物。</p><p id="36b6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在许多情况下，当用户与你的应用程序交互或者发生重要事情时，你可以非常依赖这个API来给用户更好的反馈。当一个进度条被加载，一些东西被上传，一个点击被完成时，你可以在界面中使用它。</p><pre class="lg lh li lj gt mo mp mq mr aw ms bi"><span id="805a" class="mt ls it mp b gy mu mv l mw mx">window.navigator.vibrate(milliseconds);</span></pre><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="1937" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">【https://codepen.io/adrian-legaspi/pen/yLyzPRG T4】</p><p id="28bc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">vibrate方法只接收一个参数，这个参数可以是一个数字或数字数组，用来表示振动持续的毫秒数，或者用数组来表示振动的完整模式。这个例子只能在支持振动的设备上测试，也许你的鼠标和键盘不能振动，但如果不能，你最好在你的手机上试试。</p><p id="e8c7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">记住要给出一个真实而重要的用途，如果你的首要任务之一是节省电池，也许你应该跳过这个API的使用，因为它会反映额外的电池使用。</p><h1 id="308f" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">设备方向和运动</h1><p id="2c4f" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">我不认为你不知道这些API，但我肯定你从来没有花时间去了解更多。你必须有基本的几何知识，这实际上不是一个问题相比，UX的好处，这个API可以给你的网页应用程序或网页游戏。</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="my mz l"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk translated">设备方向演示</figcaption></figure><p id="4e76" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae le" href="https://codepen.io/adrian-legaspi/pen/gObGZbX" rel="noopener ugc nofollow" target="_blank">https://codepen.io/adrian-legaspi/pen/gObGZbX</a></p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="my mz l"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk translated">方位和运动API的详细信息</figcaption></figure><p id="154c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae le" href="https://codepen.io/bantic/pen/qbxgBd" rel="noopener ugc nofollow" target="_blank">https://codepen.io/bantic/pen/qbxgBd</a></p><p id="92a2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">设备<a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/API/Detecting_device_orientation" rel="noopener ugc nofollow" target="_blank">方向</a>和<a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/API/DeviceMotionEvent" rel="noopener ugc nofollow" target="_blank">运动</a>有一个很大的问题，那就是没有通过浏览器以100%标准化<a class="ae le" href="https://caniuse.com/#search=device%20orientation" rel="noopener ugc nofollow" target="_blank">，所以编写相同的代码可能不会在所有显示中产生相同的结果。这一点被低估了，因为它甚至对初创公司也有潜力。想象一下，你创建了一个虚拟现实应用程序，用家具装饰虚拟空间，用户自己位于一座大楼内，并帮助他在里面导航，或者许多游戏可以利用这种输入。许多想法可能会成为现实，当这成为最终完全适应。</a></p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="my mz l"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk translated">真正的指南针笔</figcaption></figure><p id="653a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae le" href="https://codepen.io/barzik/pen/WpbJWM" rel="noopener ugc nofollow" target="_blank">https://codepen.io/barzik/pen/WpbJWM</a></p><h1 id="e497" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">电池</h1><p id="6f74" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">假设您的用户已经将设备电池电量耗尽，那么<a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/getBattery" rel="noopener ugc nofollow" target="_blank">这个API </a>可以让您知道状态，现在您知道用户的电池电量即将耗尽，您可以动态加载一个使用更少电池的低电量电池模板，或者终止一些稍后可能会恢复的后台进程，甚至您可以抛出一条消息来提醒用户为他们的设备充电。这个API非常有用，可以提供更好的用户体验，你的想象力是极限。</p><pre class="lg lh li lj gt mo mp mq mr aw ms bi"><span id="2759" class="mt ls it mp b gy mu mv l mw mx">navigator.getBattery().then(function(battery){<br/>    console.log(battery);<!-- --> <br/>})<!-- --> </span></pre><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="7695" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae le" href="https://codepen.io/Donyagholiha/pen/vwwPJa" rel="noopener ugc nofollow" target="_blank">https://codepen.io/Donyagholiha/pen/vwwPJa</a></p><p id="d004" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是最被低估的一个，因为它在Firefox或Safari等许多浏览器中不可用。对于一些糟糕的开发者对API的滥用，好消息是你仍然可以在Chrome或Samsung浏览器中使用它，至少在最大市场份额的浏览器中可用。</p><h1 id="1cf3" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">索引b</h1><p id="5c7e" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">当我们谈到web本地数据时，我们所有人首先想到的是用于持久化的<a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage" rel="noopener ugc nofollow" target="_blank"> localStorage </a>或用于会话的<a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage" rel="noopener ugc nofollow" target="_blank"> sessionStorage </a>，这两者都很棒，也很简单，也许比它更简单。当我们有复杂的数据库和数据模式，而每个数据只有一个键无法管理时，我们该怎么办？，调用<a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API" rel="noopener ugc nofollow" target="_blank"> IndexedDB API </a>来拯救我们。</p><pre class="lg lh li lj gt mo mp mq mr aw ms bi"><span id="b8c8" class="mt ls it mp b gy mu mv l mw mx">var idb = <!-- -->window.indexedDB;</span></pre><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="0535" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae le" href="https://codepen.io/adrian-legaspi/pen/QWwqQRv?editors=1010" rel="noopener ugc nofollow" target="_blank">https://codepen.io/adrian-legaspi/pen/QWwqQRv?editors=1010</a></p><p id="656c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">本地数据库的存在是我们应该高兴的，因为它让我们以一种标准化的方式管理整个数据库。创建PWA可以有一个数据库，而不需要连接到服务器，甚至更好的是，您可以在应用程序中本地存储数据，以便在用户恢复连接时进行同步。</p><p id="f1b2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在Chrome中，如果你进入DevTools (F12) &gt; Application选项卡&gt; Storage section &gt; IndexedDB，你会看到该域下的所有数据库。在那里，您甚至可以检查另一个API接口，如通知或服务人员。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/c19837d8745336fffccf461e1b1d74a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7H7SXoAyXfeZO62vWm1cvw.png"/></div></div><figcaption class="na nb gj gh gi nc nd bd b be z dk translated">存储在Codepen浏览器中的数据库</figcaption></figure><p id="6f6b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我知道为什么它被低估了，它是一个<a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API" rel="noopener ugc nofollow" target="_blank">大而复杂的API </a>，仍然没有太多的开发人员熟悉管理数据的<a class="ae le" href="https://www.mongodb.com/nosql-explained" rel="noopener ugc nofollow" target="_blank"> NoSQL </a>概念，然而这似乎是一个糟糕的借口，因为今天我们有非常好的包装器，为我们提供了一种更好更容易的方式来与API交互，如<a class="ae le" href="https://dexie.org/" rel="noopener ugc nofollow" target="_blank"> Dexie.js </a>或<a class="ae le" href="https://pouchdb.com/" rel="noopener ugc nofollow" target="_blank"> PouchDB </a>，它们可以更快地配置和使用来与服务器同步本地数据。</p><p id="86be" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">无论您的情况如何，下次需要在本地存储数据时，请考虑使用IndexedDB，而不是使用localStorage键创建完整的数据库。</p><h1 id="ed8f" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">结论</h1><p id="eb7e" class="pw-post-body-paragraph ki kj it kk b kl mj ju kn ko mk jx kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">Web技术每天都在发展，最近我们在标准中加入了新的语言，新的API也不断出现，所以下一次当你有新的API的时候，试一试吧。你能创造的所有新事物都受到你想象力的限制。</p><blockquote class="ne nf ng"><p id="e5ae" class="ki kj nh kk b kl km ju kn ko kp jx kq ni ks kt ku nj kw kx ky nk la lb lc ld im bi translated"><em class="it">参考文献:</em></p><p id="b9c0" class="ki kj nh kk b kl km ju kn ko kp jx kq ni ks kt ku nj kw kx ky nk la lb lc ld im bi translated">网络今天能做什么→【https://whatwebcando.today/ T4】</p><p id="39f2" class="ki kj nh kk b kl km ju kn ko kp jx kq ni ks kt ku nj kw kx ky nk la lb lc ld im bi translated"><em class="it"> MDN网络文档</em>→<a class="ae le" href="https://developer.mozilla.org/" rel="noopener ugc nofollow" target="_blank"><em class="it">https://developer.mozilla.org/</em></a></p><p id="e5da" class="ki kj nh kk b kl km ju kn ko kp jx kq ni ks kt ku nj kw kx ky nk la lb lc ld im bi translated"><em class="it">我自己</em>→<a class="ae le" href="https://twitter.com/ImLuyou" rel="noopener ugc nofollow" target="_blank">https://twitter.com/ImLuyou</a></p></blockquote></div></div>    
</body>
</html>