# PHP 中保存枚举数据类型的一种方法

> 原文：<https://itnext.io/an-approach-to-saving-enum-data-types-in-php-d8a4963259ca?source=collection_archive---------0----------------------->

对于任何用 PHP 编写的应用程序，通常会发生这样的情况，一些类具有 enum 属性，比如 Status、Type 和 publish status。可能有几种方法可以将这些值保存到数据库中，或者从数据库中获取这些值，但是，为了获得清晰的代码和项目范围的数据结构约定，最好在整个项目中使用一种方法。

假设我们有一个名为 Post 的类，它有一个名为 status 的属性。我们需要一种简单的方法来确定和使用编码时的状态。在本文中，我假设我们不需要动态状态。

想到的第一个方法是以字符串格式保存和使用它们(就像 WordPress 保存文章状态的方式一样):

虽然这看起来是一个好方法，但我不认为这是非常优化的，主要是因为在字符串中处理 post 状态可能会导致我们在编码过程中不能快速发现拼写错误。

我将在本文中介绍的方法非常简单直接:在您的类中声明常量:

与前面的方法不同，静态声明每种状态更加安全。此外，如果需要访问基于文本的状态(例如，出于翻译目的)，我们可以简单地添加一个方法。将所有状态存储在一个静态数组中以便整体访问它们也是一个好主意。当涉及到验证、列表或选择时，这通常很有用。

根据 [Reddit 帖子](https://www.reddit.com/r/PHP/comments/fi2bd8/an_approach_to_saving_enum_data_types_in_php/?utm_source=share&utm_medium=web2x)上的建议，您可以使用诗篇来防止您的内部呼叫者设置无效状态。同样，如果给 **setStatus** 函数一个无效的值，抛出一个异常也是一个好主意。

如你所见，现在可以在需要时获取文章的文本状态。在本例中，它用于翻译。

在数据库中存储数据时，您可以将状态存储在比字符串格式小得多的 Tinyint 中，但是，只有当数据库中有大量记录时，这种情况才会变得很严重。

整个想法是有一个合理的项目部分流程，可能有其他有效的方式来使用和保存每个项目及其要求的枚举。如果你读了这篇文章，我将非常感激听到你对此的想法和意见。