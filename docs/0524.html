<html>
<head>
<title>How to make Ethereum Decentralized Application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何做以太坊去中心化应用</h1>
<blockquote>原文：<a href="https://itnext.io/untitled-document-md-ecaac75e2bf?source=collection_archive---------4-----------------------#2018-03-25">https://itnext.io/untitled-document-md-ecaac75e2bf?source=collection_archive---------4-----------------------#2018-03-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/4cac215c5793fd1022d9102831f45fb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zVsF1ubYJe36dmJiRC7FBw.png"/></div></div></figure><blockquote class="jy jz ka"><p id="162f" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><a class="ae la" rel="noopener ugc nofollow" target="_blank" href="/untitled-document-md-ecaac75e2bf?utm_source=medium_sharelink&amp;utm_medium=social&amp;utm_campaign=buffer"> <em class="iq">点击这里在LinkedIn上分享这篇文章</em> </a></p></blockquote><p id="b92c" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">以太坊分散式应用程序是与以太坊区块链交互的任何类型的客户端应用程序。这篇文档为你提供了如何在以太坊区块链上创建一个分布式应用程序和测试的指导</p><p id="0e19" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated"><strong class="ke ir">工具和框架</strong></p><p id="2de8" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">我在windows平台上为这个应用程序使用了以下工具和框架。</p><ul class=""><li id="53ba" class="le lf iq ke b kf kg kj kk lb lg lc lh ld li kz lj lk ll lm bi translated">诺杰斯和NPM公司</li><li id="a16b" class="le lf iq ke b kf ln kj lo lb lp lc lq ld lr kz lj lk ll lm bi translated"><a class="ae la" href="http://truffleframework.com/" rel="noopener ugc nofollow" target="_blank">块菌</a> —作为开发工具。</li><li id="147a" class="le lf iq ke b kf ln kj lo lb lp lc lq ld lr kz lj lk ll lm bi translated"><a class="ae la" href="http://truffleframework.com/ganache/" rel="noopener ugc nofollow" target="_blank"> Ganache </a> —作为以太坊开发测试网络。</li><li id="4291" class="le lf iq ke b kf ln kj lo lb lp lc lq ld lr kz lj lk ll lm bi translated"><a class="ae la" href="https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn" rel="noopener ugc nofollow" target="_blank">元掩码</a> —作为Web3 Api注入器</li><li id="b0c7" class="le lf iq ke b kf ln kj lo lb lp lc lq ld lr kz lj lk ll lm bi translated">angular-cli  —作为web客户端应用程序的框架。</li></ul><p id="b985" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">这些步骤是</p><ul class=""><li id="fbff" class="le lf iq ke b kf kg kj kk lb lg lc lh ld li kz lj lk ll lm bi translated">下载并安装Ganache</li><li id="1cd4" class="le lf iq ke b kf ln kj lo lb lp lc lq ld lr kz lj lk ll lm bi translated">安装松露</li><li id="1db2" class="le lf iq ke b kf ln kj lo lb lp lc lq ld lr kz lj lk ll lm bi translated">创建truffle项目结构</li><li id="5736" class="le lf iq ke b kf ln kj lo lb lp lc lq ld lr kz lj lk ll lm bi translated">创建智能合同</li><li id="2587" class="le lf iq ke b kf ln kj lo lb lp lc lq ld lr kz lj lk ll lm bi translated">编译和部署智能合同</li><li id="43ab" class="le lf iq ke b kf ln kj lo lb lp lc lq ld lr kz lj lk ll lm bi translated">创建角度5应用程序</li><li id="f25f" class="le lf iq ke b kf ln kj lo lb lp lc lq ld lr kz lj lk ll lm bi translated">通过智能合同方法调用与区块链交互</li></ul><p id="acdc" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">1.安装Ganache</p><p id="9d7f" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">基于您的操作系统下载并安装ganache。ganache提供GUI和CLI模式。现在让我们使用GUI one。</p><div class="ls lt gp gr lu lv"><a href="http://truffleframework.com/ganache/" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">加纳切|松露套房</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">你的以太坊瑞士军刀</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">truffleframework.com</p></div></div><div class="me l"><div class="mf l mg mh mi me mj jw lv"/></div></div></a></div><p id="71f5" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">如果安装后打开ganache，可以看到10个假以太坊账号，每个账号余额100以太。</p><p id="e899" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">2.松露项目</p><p id="e79d" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">使用<code class="fe mk ml mm mn b">npm install -g truffle</code>安装块菌</p><p id="025a" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">创建一个目录‘ethereumdapp’<code class="fe mk ml mm mn b">mkdir ethereumdapp</code></p><p id="6956" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">使用<code class="fe mk ml mm mn b">truffle init</code>创建松露项目。</p><p id="2385" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated"><code class="fe mk ml mm mn b">D:\blockchain\ethereum&gt;npm install -g truffle<br/>D:\blockchain\ethereum&gt;mkdir ethereumdapp<br/>D:\blockchain\ethereum&gt;cd ethereumdapp<br/>D:\blockchain\ethereum\ethereumdapp&gt;truffle init<br/>Downloading...<br/>Unpacking...<br/>Setting up...<br/>Unbox successful. Sweet!<br/>Commands:<br/> Compile: truffle compile<br/> Migrate: truffle migrate<br/> Test contracts: truffle test<br/>D:\blockchain\ethereum\ethereumdapp&gt;dir<br/>03/24/2018 05:15 PM &lt;DIR&gt; .<br/>03/24/2018 05:15 PM &lt;DIR&gt; ..<br/>03/24/2018 05:15 PM &lt;DIR&gt; contracts<br/>03/24/2018 05:15 PM &lt;DIR&gt; migrations<br/>03/24/2018 05:15 PM &lt;DIR&gt; test<br/>03/24/2018 05:15 PM 135 truffle-config.js<br/>03/24/2018 05:15 PM 135 truffle.js<br/> 2 File(s) 270 bytes<br/> 5 Dir(s) 222,028,505,088 bytes free</code></p><p id="6277" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">3.创建简单的智能合同</p><p id="c35b" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">现在，我们将创建智能合同文件。我们使用solidity作为合同编程语言版本0.4.19。该契约的目的是在区块链中启动一个名为“name”的状态变量，并通过从dapp调用我们的智能契约方法来操纵该变量的值。用户更改名称变量值，并在页面上显示更改。</p><p id="88ad" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">合同名称为“名称变更”</p><p id="1d3a" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">视图名称方法是“showName()</p><p id="f48d" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">更改名称的方法是Change name(字符串)</p><p id="9b4c" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">让我们在项目文件夹(ethereumdapp)中的“contracts”文件夹下创建“NameChange.sol”文件。将此内容添加到NameChange.sol中</p><pre class="mo mp mq mr gt ms mn mt mu aw mv bi"><span id="3869" class="mw mx iq mn b gy my mz l na nb">pragma solidity ^0.4.19;<br/><br/>contract NameChange{<br/>	string name;<br/>	function NameChange(string initialname) public {<br/>		name = initialname;<br/>	}<br/>	function showName() public constant returns(string) {<br/>		return name;<br/>	}	<br/>	function changename(string newname)public { <br/>		name = newname;<br/>    }<br/>}</span></pre><p id="3705" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">4.编制合同</p><p id="e6a7" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">使用“truffle compile”来编译合同</p><pre class="mo mp mq mr gt ms mn mt mu aw mv bi"><span id="3b49" class="mw mx iq mn b gy my mz l na nb">D:\blockchain\ethereum\ethereumdapp&gt;truffle compile<br/>Compiling .\contracts\Migrations.sol...<br/>Compiling .\contracts\NameChange.sol...<br/>Writing artifacts to .\build\contracts</span></pre><p id="b2c0" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">它在/build文件夹中创建了一个NameChange.json，这个文件包含契约的ABI细节，意味着应用程序二进制接口。应用程序二进制接口(ABI)是以太坊中使用的一种数据编码方案，用于智能合约。这可以在该过程的后期使用。</p><p id="414a" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">5.部署合同</p><p id="f316" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">到目前为止，我们已经创建了智能合同和编制。现在是把合同部署到区块链的时候了，这是加纳切，是对区块链的考验。为此，我们需要用ganache设置中提供的区块链地址和端口号来配置这个项目。</p><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div class="ab gu cl nc"><img src="../Images/acf11511c8c3a804b9693e4ed13756a1.png" data-original-src="https://miro.medium.com/v2/format:webp/1*X8lq0G-95EmQSyIY13_wug.png"/></div></figure><p id="b2b2" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">我们可以在项目文件夹中提供这些信息truffle.js或truffle-config.js。</p><pre class="mo mp mq mr gt ms mn mt mu aw mv bi"><span id="f87c" class="mw mx iq mn b gy my mz l na nb">module.exports = {<br/>  networks: {<br/>    development: {<br/>      host: '127.0.0.1',<br/>      port: 7545,<br/>      network_id: '*' // Match any network id<br/>    }<br/>  }};</span></pre><p id="7bf6" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">上面的配置告诉这个deploy命令将契约部署到ganache。要部署，请使用“truffle migrate”命令来迁移/部署合同。我们需要告诉如何为契约创建实例，并向契约构造函数发送初始参数(如果需要的话)。为此，我们需要在项目的migrations文件夹中创建2_deploy_namechange.js</p><pre class="mo mp mq mr gt ms mn mt mu aw mv bi"><span id="8796" class="mw mx iq mn b gy my mz l na nb">var NameChange = artifacts.require("./NameChange.sol");<br/>module.exports = function(deployer) {<br/>  deployer.deploy(NameChange,"initial name from chain");<br/>};</span></pre><p id="4cc5" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">一切准备就绪，部署合同。</p><pre class="mo mp mq mr gt ms mn mt mu aw mv bi"><span id="312f" class="mw mx iq mn b gy my mz l na nb">D:\blockchain\ethereum\ethereumdapp&gt; truffle migrate<br/>Using network 'development'.<br/>Running migration: 1_initial_migration.js<br/>  Replacing Migrations...<br/>  ... 0xd0b495e94047c454c62eaa31533491d559de11c84914b5d4a9ce0f7b5703ef57<br/>  Migrations: 0x8cdaf0cd259887258bc13a92c0a6da92698644c0<br/>Saving successful migration to network...<br/>  ... 0xd7bc86d31bee32fa3988f1c1eabce403a1b5d570340a3a9cdba53a472ee8c956<br/>Saving artifacts...<br/>Running migration: 2_deploy_namechange.js<br/>  Replacing NameChange...<br/>  ... 0x4dcf9df45f91b76d204eb86f3e839d9257c7b15008fc5efb6b14abbe0bbdfdf2<br/>  NameChange: 0x345ca3e014aaf5dca488057592ee47305d9b3e10<br/>Saving successful migration to network...<br/>  ... 0xf36163615f41ef7ed8f4a8f192149a0bf633fe1a2398ce001bf44c43dc7bdda0<br/>Saving artifacts...</span></pre><p id="95ed" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">在这个阶段，契约被部署到ganache并生成一个契约地址。</p><p id="8a03" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">这可以在ganache交易清单中确认</p><p id="f60f" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">6.Dapp</p><p id="b0b8" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">这是angular 5应用程序，我们为用户提供用户界面，以便与区块链t进行交互。我们使用<strong class="ke ir"> angular-cli </strong>命令来创建/运行应用程序。</p><p id="b5a3" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">将目录改回上一级并执行“ng new ethereumdapp”</p><pre class="mo mp mq mr gt ms mn mt mu aw mv bi"><span id="d0df" class="mw mx iq mn b gy my mz l na nb">D:\blockchain\ethereum\ethereumdapp&gt;cd..<br/>D:\blockchain\ethereum&gt;ng new ethereumdapp</span></pre><p id="c269" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">让我们添加用于在页面上查看区块链州变量值的UI，以及更改该值的规定。</p><p id="bbab" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">将以下代码添加到src\app\app.component.html中</p><pre class="mo mp mq mr gt ms mn mt mu aw mv bi"><span id="3033" class="mw mx iq mn b gy my mz l na nb">&lt;section class="hero is-medium is-info is-bold"&gt;<br/>  &lt;div class="hero-body"&gt;<br/>    &lt;div class="container"&gt;<br/>      &lt;h1 class="title is-1"&gt;<br/>        Name change dapp<br/>      &lt;/h1&gt;<br/>      &lt;h2 class="title"&gt;<br/>        Your Name is: &lt;span class="is-medium has-underline"&gt;{{name}}&lt;/span&gt;<br/>      &lt;/h2&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/section&gt;<br/>&lt;br&gt;<br/>&lt;div class="container"&gt;<br/>  &lt;h1 class="title"&gt;Change Name&lt;/h1&gt;<br/>  &lt;h1 class="title is-4 is-info help"&gt;{{status}}&lt;/h1&gt;<br/><br/>  &lt;form #nameForm="ngForm"&gt;<br/>    &lt;div class="field"&gt;<br/>      &lt;label class="label"&gt;New Name&lt;/label&gt;<br/>      &lt;p class="control"&gt;<br/>        &lt;input<br/>          [(ngModel)]="NewName"<br/>          class="input"<br/>          type="text"<br/>          placeholder="New Name"<br/>          name="NewName"<br/>          required<br/>          #nameChangeModel="ngModel"&gt;<br/>      &lt;/p&gt;<br/>      &lt;div *ngIf="nameChangeModel.errors &amp;&amp; (nameChangeModel.dirty || nameChangeModel.touched)"<br/>           class="help is-danger"&gt;<br/>          &lt;p [hidden]="!nameChangeModel.errors.required"&gt;<br/>            This field is required<br/>          &lt;/p&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>    <br/>    &lt;div class="field is-grouped"&gt;<br/>      &lt;p class="control"&gt;<br/>        &lt;button<br/>          [disabled]="!nameForm.valid"<br/>          (click)="changeName()"<br/>          class="button is-primary"&gt;<br/>          Send<br/>        &lt;/button&gt;<br/>      &lt;/p&gt;<br/>    &lt;/div&gt;<br/>  &lt;/form&gt;<br/>&lt;/div&gt;</span></pre><p id="b7a2" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">src\app\app.component.ts中的UI组件/控制器代码</p><pre class="mo mp mq mr gt ms mn mt mu aw mv bi"><span id="c2e8" class="mw mx iq mn b gy my mz l na nb">import { Component, HostListener, NgZone } from '@angular/core';<br/>const Web3 = require('web3');<br/>const contract = require('truffle-contract');<br/>const nameChangeArtifacts = require('../../build/contracts/NameChange.json');<br/><br/>declare var window: any;<br/><br/>@Component({<br/>  selector: 'app-root',<br/>  templateUrl: './app.component.html',<br/>  styleUrls: ['./app.component.css']<br/>})<br/>export class AppComponent {<br/>  name = 'Initial name from component';<br/>  NewName : string;<br/>  nameChange = contract(nameChangeArtifacts);<br/><br/>  account: any;<br/>  accounts: any;<br/>  web3: any;<br/>  status: string;<br/>  constructor(private _ngZone: NgZone) {<br/><br/>  }<br/>  @HostListener('window:load')<br/>  windowLoaded() {<br/>    this.checkAndInstantiateWeb3();<br/>    this.onReady();<br/>  }<br/><br/>  checkAndInstantiateWeb3 = () =&gt; {<br/>    // Checking if Web3 has been injected by the browser (Mist/MetaMask)<br/>    if (typeof window.web3 !== 'undefined') {<br/>      console.warn(<br/>        'Using web3 detected from external source. If you find that your accounts don\'t appear or you have 0 MetaCoin, ensure you\'ve configured that source properly. If using MetaMask, see the following link. Feel free to delete this warning. :) http://truffleframework.com/tutorials/truffle-and-metamask'<br/>      );<br/>      // Use Mist/MetaMask's provider<br/>      this.web3 = new Web3(window.web3.currentProvider);<br/>    } else {<br/>      console.warn(<br/>        'No web3 detected. Falling back to http://127.0.0.1:8545. You should remove this fallback when you deploy live, as it\'s inherently insecure. Consider switching to Metamask for development. More info here: http://truffleframework.com/tutorials/truffle-and-metamask'<br/>      );<br/>      // fallback - use your fallback strategy (local node / hosted node + in-dapp id mgmt / fail)<br/>      this.web3 = new Web3(<br/>        new Web3.providers.HttpProvider('http://127.0.0.1:7545')<br/>      );<br/>    }<br/>  };<br/><br/>  onReady = () =&gt; {<br/>    // Bootstrap the MetaCoin abstraction for Use.<br/>    this.nameChange.setProvider(this.web3.currentProvider);<br/><br/>    // Get the initial account balance so it can be displayed.<br/>    this.web3.eth.getAccounts((err, accs) =&gt; {<br/>      if (err != null) {<br/>        alert('There was an error fetching your accounts.');<br/>        return;<br/>      }<br/><br/>      if (accs.length === 0) {<br/>        alert(<br/>          'Couldn\'t get any accounts! Make sure your Ethereum client is configured correctly.' <br/>        );<br/>        return;<br/>      }<br/>      console.log(accs);<br/>      this.accounts = accs;<br/>      this.account = this.accounts[0];<br/><br/>      // This is run from window:load and ZoneJS is not aware of it we<br/>      // need to use _ngZone.run() so that the UI updates on promise resolution<br/>      this._ngZone.run(() =&gt;<br/>        this.refreshName()<br/>      );<br/>    });<br/>  };<br/><br/>  refreshName = () =&gt; {<br/>    let nc;<br/>    this.nameChange<br/>      .deployed()<br/>      .then(instance =&gt; {<br/>        nc = instance;<br/>        return nc.showName.call({<br/>          from: this.account<br/>        });<br/>      })<br/>      .then(value =&gt; {<br/>        this.name = value;<br/>      })<br/>      .catch(e =&gt; {<br/>        console.log(e);<br/>        this.setStatus('Error getting name; see log.');<br/>      });<br/>  };<br/><br/>  changeName = () =&gt; {<br/>    const nawname = this.NewName;<br/>    let nc;<br/><br/>    this.setStatus('Initiating transaction... (please wait)');<br/><br/>    this.nameChange<br/>      .deployed()<br/>      .then(instance =&gt; {<br/>        nc = instance;<br/>        return nc.changename(nawname,{from: this.account})<br/>      })<br/>      .then(() =&gt; {<br/>        this.setStatus('Transaction complete!');<br/>        this.refreshName();<br/>      })<br/>      .catch(e =&gt; {<br/>        console.log(e);<br/>        this.setStatus('Error changing name; see log.');<br/>      });<br/>  };<br/>  setStatus = message =&gt; {<br/>    this.status = message;<br/>  };<br/>}</span></pre><p id="1089" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">7.元掩码</p><p id="161a" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">Metamask充当我们页面的web3注入器。</p><ul class=""><li id="149b" class="le lf iq ke b kf kg kj kk lb lg lc lh ld li kz lj lk ll lm bi translated">给你的chrome浏览器添加扩展</li><li id="c167" class="le lf iq ke b kf ln kj lo lb lp lc lq ld lr kz lj lk ll lm bi translated">使用您的ganache rpc url添加自定义RPC，这将<a class="ae la" href="http://localhost:7545" rel="noopener ugc nofollow" target="_blank"> http://localhost:7545 </a></li></ul><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div class="ab gu cl nc"><img src="../Images/acf11511c8c3a804b9693e4ed13756a1.png" data-original-src="https://miro.medium.com/v2/format:webp/1*X8lq0G-95EmQSyIY13_wug.png"/></div><figcaption class="nd ne gj gh gi nf ng bd b be z dk translated">Ganache设置</figcaption></figure><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/2bc12a558f628971e7bfc3d08b223a59.png" data-original-src="https://miro.medium.com/v2/resize:fit:656/format:webp/1*DVQccK5rOtmBv-WmJOA3BQ.png"/></div><figcaption class="nd ne gj gh gi nf ng bd b be z dk translated">单击自定义RPC</figcaption></figure><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/15b75859bed5e08c09af23b661e31636.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*nn-GNcK7fMFgcW6tS9W0YA.png"/></div></figure><ul class=""><li id="4e69" class="le lf iq ke b kf kg kj kk lb lg lc lh ld li kz lj lk ll lm bi translated">您可以在metamask帐户列表中看到您的ganache生成的第一个帐户</li><li id="c038" class="le lf iq ke b kf ln kj lo lb lp lc lq ld lr kz lj lk ll lm bi translated">用户提交调用合同方法的“更改姓名自”页面。</li><li id="c0ff" class="le lf iq ke b kf ln kj lo lb lp lc lq ld lr kz lj lk ll lm bi translated">元掩码要求确认，单击元掩码确认上的提交。</li></ul><p id="2443" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">现在准备将应用程序更改目录到ethereumdapp</p><pre class="mo mp mq mr gt ms mn mt mu aw mv bi"><span id="74ae" class="mw mx iq mn b gy my mz l na nb">D:\blockchain\ethereum&gt;cd ethereumdapp<br/>D:\blockchain\ethereum\ethereumdapp&gt;ng serve -o</span></pre><p id="6749" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">它用<a class="ae la" href="http://localhost:4200" rel="noopener ugc nofollow" target="_blank"> http://localhost:4200 </a>打开浏览器并显示我们的页面。</p><p id="230a" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">在<strong class="ke ir">新名字</strong>文本框中输入名字，点击发送按钮。Metamask确认将事务提交给区块链，然后单击“提交”。</p><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nj"><img src="../Images/b7f4cdac54861e9aeee4e34a4238b08e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4TVpzwX9xNmR7WDjQNc2ZQ.png"/></div></div></figure><p id="16cf" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">提交后，您的页面会显示新名称</p><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/2da8f4a3788258e867e71baea190499b.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/1*hdE4_JgNUNDP-mEOYF1cDg.png"/></div></figure><p id="4c58" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">8.结论</p><p id="a14c" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">谢谢你</p><p id="2d27" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">从https://github.com/cnu-online/ethereum-dapp<a class="ae la" href="https://github.com/cnu-online/ethereum-dapp" rel="noopener ugc nofollow" target="_blank">下载源代码</a></p><p id="909c" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">如需帮助，请联系</p><ul class=""><li id="d0f4" class="le lf iq ke b kf kg kj kk lb lg lc lh ld li kz lj lk ll lm bi translated">斯里尼瓦斯·钦尼</li><li id="81d4" class="le lf iq ke b kf ln kj lo lb lp lc lq ld lr kz lj lk ll lm bi translated">schinni.vija@gmail.com</li></ul></div></div>    
</body>
</html>