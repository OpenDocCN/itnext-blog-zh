<html>
<head>
<title>Anyway, should I nest data or should I not in Vue JS?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">不管怎样，我应该嵌套数据还是不应该在Vue JS中？</h1>
<blockquote>原文：<a href="https://itnext.io/anyway-should-i-nest-data-or-should-i-not-in-vue-js-8536c86a612f?source=collection_archive---------0-----------------------#2018-07-21">https://itnext.io/anyway-should-i-nest-data-or-should-i-not-in-vue-js-8536c86a612f?source=collection_archive---------0-----------------------#2018-07-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="4bc4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我在<strong class="jp ir"> Vue.js开发者脸书小组</strong>中看到一个非常有趣的问题，我想把这个问题分解给你，如果你想知道在Vue实例数据选项中，嵌套数据和扁平化数据哪个更好的话。</p><p id="6eb9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">简而言之，问题是:</p><h2 id="0a79" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">在Vue数据中使用模型的最佳实践是什么？嵌套与否？</h2><p id="1bed" class="pw-post-body-paragraph jn jo iq jp b jq le js jt ju lf jw jx jy lg ka kb kc lh ke kf kg li ki kj kk ij bi translated">下面是一个截图，可以更好的理解这个问题。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi lj"><img src="../Images/b5573fd5a59363230a6cb9a072c58b52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M-T5jHxRqVPTYCzQcMSWZw.png"/></div></div></figure><p id="ea25" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在成为Vue问题之前，这首先是一个JavaScript问题。</p><p id="210c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们来分析一下这里发生了什么:</p><ul class=""><li id="389f" class="lv lw iq jp b jq jr ju jv jy lx kc ly kg lz kk ma mb mc md bi translated">当JavaScript看到一个<strong class="jp ir">对象文字</strong>时，它创建<br/>一个对象函数/类的<strong class="jp ir">实例</strong></li><li id="e0e5" class="lv lw iq jp b jq me ju mf jy mg kc mh kg mi kk ma mb mc md bi translated">当您将一个<strong class="jp ir">对象嵌套在另一个对象</strong>中时，就像<strong class="jp ir">创建两个实例</strong>，即使嵌套的对象是父对象的一部分</li></ul><p id="0d21" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你知道我要去哪里吗？更多的对象实例附加到一个<strong class="jp ir">变量</strong>或<strong class="jp ir">属性</strong>意味着:更多的对象在内存中被引用。</p><p id="4d0a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">点击此处了解更多信息:</p><div class="mj mk gp gr ml mm"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Memory_Management#Reference-counting_garbage_collection" rel="noopener  ugc nofollow" target="_blank"><div class="mn ab fo"><div class="mo ab mp cl cj mq"><h2 class="bd ir gy z fp mr fr fs ms fu fw ip bi translated">内存管理</h2><div class="mt l"><h3 class="bd b gy z fp mr fr fs ms fu fw dk translated">低级语言，如C，有低级内存管理原语，如malloc()和free()。另一方面…</h3></div><div class="mu l"><p class="bd b dl z fp mr fr fs ms fu fw dk translated">developer.mozilla.org</p></div></div><div class="mv l"><div class="mw l mx my mz mv na lt mm"/></div></div></a></div><p id="d019" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个也适用于Vue，因为<strong class="jp ir"> Vue是用:JavaScript </strong>做的。</p><p id="3689" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您必须使用嵌套对象，知道它意味着什么内存使用。</p><h2 id="efd0" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">让我们看看它是如何直接影响Vue的:反应性和观察者</h2><p id="ee4d" class="pw-post-body-paragraph jn jo iq jp b jq le js jt ju lf jw jx jy lg ka kb kc lh ke kf kg li ki kj kk ij bi translated">Vue基于<strong class="jp ir">反应性</strong>。为此，Vue在data 中返回的<strong class="jp ir">对象的每个属性和嵌套属性上添加了一个带有JS setters </strong>的<strong class="jp ir"> observer。</strong></p><p id="6fcd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">嵌套的对象越多，Vue创建的观察者就越多，性能就越低。更多的观察者Vue的更多工作。<br/><a class="ae nb" href="https://github.com/Akryum/vue-perf-tests/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"/></a><strong class="jp ir"><br/></strong>业绩回购的纪尧姆周某Vue团队核心成员。</p><p id="5fc3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是否意味着我们不应该筑巢？不，不一定。</p><h2 id="8cb9" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">现在，让我们进入有趣的部分:最佳实践是什么？</h2><p id="9622" class="pw-post-body-paragraph jn jo iq jp b jq le js jt ju lf jw jx jy lg ka kb kc lh ke kf kg li ki kj kk ij bi translated">你看到了嵌套如何影响你的代码，这并不意味着你不应该嵌套对象，这意味着:<strong class="jp ir">嵌套解决正确的问题</strong>。</p><p id="282d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在以下情况下使用嵌套对象:</p><ul class=""><li id="2d49" class="lv lw iq jp b jq jr ju jv jy lx kc ly kg lz kk ma mb mc md bi translated"><strong class="jp ir">您计划稍后单独使用嵌套对象</strong></li><li id="2513" class="lv lw iq jp b jq me ju mf jy mg kc mh kg mi kk ma mb mc md bi translated"><strong class="jp ir">嵌套对象代表不同于其兄弟对象的东西</strong></li></ul><p id="3558" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在下列情况下，尽可能避免嵌套:</p><ul class=""><li id="2e9f" class="lv lw iq jp b jq jr ju jv jy lx kc ly kg lz kk ma mb mc md bi translated">你只是想要更多的可读性</li><li id="2fe7" class="lv lw iq jp b jq me ju mf jy mg kc mh kg mi kk ma mb mc md bi translated"><strong class="jp ir">你在某处看到的，所以你只是复制了一下</strong></li></ul><p id="2c51" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">记住:更多的嵌套=更多的Vue观察者=更低的性能<br/>根据你的应用程序的大小来考虑这个问题。</p><p id="b8ec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了可读性，我相信，<strong class="jp ir">山茶案</strong>和<strong class="jp ir">蛇案</strong>绰绰有余。</p><h2 id="d167" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">结论</h2><p id="785f" class="pw-post-body-paragraph jn jo iq jp b jq le js jt ju lf jw jx jy lg ka kb kc lh ke kf kg li ki kj kk ij bi translated">两者都是很好的实践，但是要在正确的原因和用例中使用。</p><h2 id="21d5" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated"><strong class="ak">编辑:2018年7月24日</strong></h2><p id="90f4" class="pw-post-body-paragraph jn jo iq jp b jq le js jt ju lf jw jx jy lg ka kb kc lh ke kf kg li ki kj kk ij bi translated">人们在评论中似乎把注意力集中在记忆上，但正如我所说:</p><blockquote class="nc nd ne"><p id="d2c0" class="jn jo nf jp b jq jr js jt ju jv jw jx ng jz ka kb nh kd ke kf ni kh ki kj kk ij bi translated">您必须使用嵌套对象，知道它意味着什么内存使用。</p></blockquote><p id="0258" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我从没说过“不要用嵌套对象，你的内存会炸”——所以如果你只想说这个，就不要费心评论了。</p><p id="82b4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你喜欢这个，<strong class="jp ir">拍一拍</strong>。<br/>如果你喜欢说唱或者想要一种<strong class="jp ir">发现音乐的新方式</strong>:<a class="ae nb" href="https://foreignrap.com/" rel="noopener ugc nofollow" target="_blank">https://foreignrap.com</a><br/>如果你想要一种<strong class="jp ir">发现旅行地点的新方式</strong>:<a class="ae nb" href="http://mustsee.earth/" rel="noopener ugc nofollow" target="_blank">http://mustsee . earth</a></p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi nj"><img src="../Images/e7fa55d025c3c2dfc5e9a791ba9515d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wqhFoU9pa0HfPS7fCTACaA.png"/></div></div></figure></div></div>    
</body>
</html>