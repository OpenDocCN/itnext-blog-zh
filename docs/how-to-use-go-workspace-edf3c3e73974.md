# 如何使用 Go 工作区

> 原文：<https://itnext.io/how-to-use-go-workspace-edf3c3e73974?source=collection_archive---------0----------------------->

## 改善您的开发环境

![](img/ffec2a550333c1da17cf5a25f2fd9cba.png)

工作区是 Go 1.18 中的新功能之一，在这篇文章中，我将展示如何使用它。

首先，让我们创建一个新文件夹作为我们的工作区。为了方便起见，我将该文件夹命名为`workspace`。这里有一点要注意，文件夹的名字可以是你想要的任何名字。

在工作区文件夹中，创建另一个名为`hello`的文件夹。在这个文件夹中，我们将创建一个小程序。

在`hello`文件夹中，启动一个运行命令`go mod init github.com/aprendagolang/hello`的 go 模块，用以下内容创建一个新的 **main.go** 文件。

如你所见，我们使用了一个名为 *strutil 的外部包。*因此，我们需要更新模块的依赖关系。为此，运行命令`go mod tidy`。现在`hello`目录有三个文件。

为了确保我们的程序一切正常，让我们运行命令`go run main.go`。很好，你好这个词被印上了。

现在，让我们回到我们的工作区文件夹，克隆包 *strutil* 。

有了我们机器上的包，让我们添加一个名为 *Reverse 的新函数。*该函数的目标是接收一个字符串并返回它的反向。

在我们的 hello 应用程序中，我们将把对 ToUpper 函数的调用改为新的 *Reverse* 函数，然后再次运行突击队`go run main.go`。

结果将是这样一个错误:

出现错误是因为我们的程序使用的是 GitHub 上的软件包版本。

使用包的本地版本的最简单方法是使用新的 go 工作空间。

为此，我们需要返回到我们的工作区文件夹，并运行初始命令到`go work init ./hello`。在这个命令中。/hello 是我们要添加到 go 工作区的第一个文件夹的名称。

如我们所见，我们有一个新的 go.work 文件，其内容如下:

为了确保万无一失，现在我们有了这样一个文件夹结构:

我们可以使用命令`go run github.com/aprendagolang/hello`从工作区文件夹运行我们的程序。

如果您运行该命令，您会看到发生了同样的错误。这是因为我们也需要将 strutil 文件夹添加到我们的工作区中。

为此，在工作区文件夹中，运行`go work use ./strutil`。现在，如果你看一下 go.work 文件，你会看到这样的东西。

现在，如果我们再次尝试`go run github.com/aprendagolang/hello`命令，结果将是:

就是这个！如有疑问，欢迎留言评论。

谢谢大家！