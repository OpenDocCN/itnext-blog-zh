<html>
<head>
<title>‘No way to prevent this’, Says Only Development Community Where This Regularly Happens</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">“没有办法防止这种情况”，只有经常发生这种情况的开发社区这样说</h1>
<blockquote>原文：<a href="https://itnext.io/no-way-to-prevent-this-says-only-development-community-where-this-regularly-happens-8ef59e6836de?source=collection_archive---------0-----------------------#2019-07-30">https://itnext.io/no-way-to-prevent-this-says-only-development-community-where-this-regularly-happens-8ef59e6836de?source=collection_archive---------0-----------------------#2019-07-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/0af46c18bf16c1d2e342e4d0c8736663.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*iWvrrsRTbv_CB-xM.jpg"/></div></div></figure><p id="d913" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">NPM pure script——在NPM上的另一场软件包灾难发生后的几个小时内，据报道，唯一一个经常发生这种灾难的社区的开发人员得出结论，没有办法阻止灾难的发生。在这场灾难中，一个单独的开发人员杀死了几十个CI版本，并导致数千个其他版本受到严重警告。“这是一个可怕的悲剧，但有时这些事情就是发生了，没有人能阻止它们，”fullstack开发者Bob Dynald在Reddit上说，呼应了数千万参与编程社区的个人表达的观点，在过去9年中，世界上超过一半最令人愤怒的软件包管理灾难都发生在这个社区，其成员经历意外软件包更新的可能性是其他现有社区的200倍。“真可惜，但我们能做什么呢？如果这是他们真正想要的，那么真的没有什么可以阻止这些人破坏和毁掉很多人的一天。”在记者发稿时，世界上唯一一个大型发展社区的居民称他们自己和他们的情况“无助”，在过去的四年里，每个月大约都会发生两次包管理灾难。</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><p id="5e13" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ld">这篇文章的灵感来自洋葱网发布的“</em>”<a class="ae le" href="https://www.theonion.com/no-way-to-prevent-this-says-only-nation-where-this-r-1835173950" rel="noopener ugc nofollow" target="_blank">没有办法阻止这种事情发生，“只有经常发生这种事情的国家”</a><em class="ld">的文章。可能含有讽刺意味。</em></p><p id="e56f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">编辑</strong>:除了我收到的一些针对这个恶搞/讽刺笑话的人身威胁之外，我还被要求就如何解决这个问题提出建议，以下是我个人认为npm有问题的不完整列表:</p><ul class=""><li id="a2be" class="lf lg iq ka b kb kc kf kg kj lh kn li kr lj kv lk ll lm ln bi translated">npm(客户端和注册管理机构)是一个有缺陷的系统，需要彻底更换，新系统应具备以下功能，以减少此类事件的可能性:</li><li id="8981" class="lf lg iq ka b kb lo kf lp kj lq kn lr kr ls kv lk ll lm ln bi translated">没有未包装的包裹</li><li id="33b3" class="lf lg iq ka b kb lo kf lp kj lq kn lr kr ls kv lk ll lm ln bi translated">范围一对一地绑定到单个用户/组织</li><li id="a524" class="lf lg iq ka b kb lo kf lp kj lq kn lr kr ls kv lk ll lm ln bi translated">发布包需要2FA，包必须通过GPG签名</li><li id="0c0f" class="lf lg iq ka b kb lo kf lp kj lq kn lr kr ls kv lk ll lm ln bi translated">除了注册表维护人员之外，任何人都不允许取消发布软件包(Rust的cargo就是这样做的，这是另一种可能的解决方案)</li><li id="5793" class="lf lg iq ka b kb lo kf lp kj lq kn lr kr ls kv lk ll lm ln bi translated">模糊依赖版本(^2.0.0和类似的)在最终版本中不应该被允许。我多次目睹npm在新的克隆后运行<code class="fe lt lu lv lw b">npm install</code>时修改项目的包锁文件，下载比锁文件中指定的版本更新的可传递依赖项版本</li></ul><p id="0594" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">关于整个生态系统:TC39应该考虑给JS本身添加一个更好的标准库，这将减少一行程序包的数量。有一个<a class="ae le" href="https://github.com/tc39/proposal-javascript-standard-library" rel="noopener ugc nofollow" target="_blank">活动提案</a>，但是遭到了许多JS社区成员的蔑视。</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><p id="9350" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你对导致这篇文章的事件感兴趣，这里列出了最近和过去的npm事件，无论是npm的安全措施的错误，糟糕的架构，有趣的轶事，还是在注册表上发布软件包所需的低门槛:</p><ul class=""><li id="8a10" class="lf lg iq ka b kb kc kf kg kj lh kn li kr lj kv lk ll lm ln bi translated"><a class="ae le" href="https://harry.garrood.me/blog/malicious-code-in-purescript-npm-installer/" rel="noopener ugc nofollow" target="_blank">pure script NPM安装程序中的恶意代码</a></li><li id="b9db" class="lf lg iq ka b kb lo kf lp kj lq kn lr kr ls kv lk ll lm ln bi translated"><a class="ae le" href="https://npm.community/t/npm-6-9-1-is-broken-due-to-git-folder-in-published-tarball/8454" rel="noopener ugc nofollow" target="_blank"> npm 6.9.1因。发布的tarball中的git文件夹</a></li><li id="b8a3" class="lf lg iq ka b kb lo kf lp kj lq kn lr kr ls kv lk ll lm ln bi translated"><a class="ae le" href="https://twitter.com/seldo/status/1105153287718723584" rel="noopener ugc nofollow" target="_blank">一家大型国际银行意外地向公共npm注册中心发布了他们自己的私有包</a></li><li id="401c" class="lf lg iq ka b kb lo kf lp kj lq kn lr kr ls kv lk ll lm ln bi translated"><a class="ae le" href="https://github.com/dominictarr/event-stream/issues/116?source=post_page---------------------------#issuecomment-440927400" rel="noopener ugc nofollow" target="_blank">我不知道该说什么:流行软件包的作者把它交给一个未知的开发者，然后他给它添加恶意代码</a></li><li id="617f" class="lf lg iq ka b kb lo kf lp kj lq kn lr kr ls kv lk ll lm ln bi translated"><a class="ae le" href="https://github.com/npm/npm/issues/20791" rel="noopener ugc nofollow" target="_blank"> NPM突然以“呃！418我是茶壶”的错误。</a></li><li id="5cd3" class="lf lg iq ka b kb lo kf lp kj lq kn lr kr ls kv lk ll lm ln bi translated"><a class="ae le" href="https://github.com/npm/npm/issues/19883" rel="noopener ugc nofollow" target="_blank">NPM v 5 . 7 . 0中的严重错误破坏了Linux服务器</a></li><li id="a5cb" class="lf lg iq ka b kb lo kf lp kj lq kn lr kr ls kv lk ll lm ln bi translated"><a class="ae le" href="https://www.theregister.co.uk/2016/03/23/npm_left_pad_chaos/" rel="noopener ugc nofollow" target="_blank">左键盘</a></li></ul></div></div>    
</body>
</html>