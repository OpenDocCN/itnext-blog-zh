<html>
<head>
<title>5-ish Reasons why you should wrap your asynchronous requests</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么应该包装异步请求的5个理由</h1>
<blockquote>原文：<a href="https://itnext.io/5-ish-reasons-why-you-should-wrap-fetch-bbd072012536?source=collection_archive---------5-----------------------#2018-07-24">https://itnext.io/5-ish-reasons-why-you-should-wrap-fetch-bbd072012536?source=collection_archive---------5-----------------------#2018-07-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/848afd802590cfdbd0833a4abb233e46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*21rzWgR4TqWxnb6y"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae kc" href="https://unsplash.com/@mongbillablog?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">蒙贝</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="4c91" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当您的应用程序扩展时，越来越多您可以做得更好、让您的生活更舒适的事情正在展现出来。</p><p id="3ed0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当然，你不能一开始就预测一切，也不应该在每个方面都格外小心。然而，当几率很高，成本很低时，我们应该从一开始就把事情做好。</p><p id="fe0e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，无论您是使用本机fetch还是其他什么库来触发您的异步请求，您都应该从第一天起就包装它并从一个集中的位置执行所有请求。以下是五个原因:</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h2 id="1bb7" class="li lj iq bd lk ll lm dn ln lo lp dp lq ko lr ls lt ks lu lv lw kw lx ly lz ma bi translated">1.更好的日志记录体验</h2><p id="de05" class="pw-post-body-paragraph kd ke iq kf b kg mb ki kj kk mc km kn ko md kq kr ks me ku kv kw mf ky kz la ij bi translated">有没有发现自己陷入了异步请求中？我想几乎每次都是这样。让我们在全新的获取包装中免费获得它:</p><p id="03c8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们不要每次都提到<code class="fe mg mh mi mj b">GET</code>了。</p><h2 id="2a27" class="li lj iq bd lk ll lm dn ln lo lp dp lq ko lr ls lt ks lu lv lw kw lx ly lz ma bi translated">2.避免重复提取选项</h2><p id="ac58" class="pw-post-body-paragraph kd ke iq kf b kg mb ki kj kk mc km kn ko md kq kr ks me ku kv kw mf ky kz la ij bi translated">您的异步请求可能会在整个应用程序中共享一些公共设置。让我们通过将它们嵌入到我们的fetch包装中来停止一次又一次地复制和粘贴它们。例如:</p><h2 id="3b31" class="li lj iq bd lk ll lm dn ln lo lp dp lq ko lr ls lt ks lu lv lw kw lx ly lz ma bi translated">3.预加载器</h2><p id="487a" class="pw-post-body-paragraph kd ke iq kf b kg mb ki kj kk mc km kn ko md kq kr ks me ku kv kw mf ky kz la ij bi translated">嗯，你可能迟早需要一个，而且每次照顾它都不是一件愉快的事。</p><h2 id="70b5" class="li lj iq bd lk ll lm dn ln lo lp dp lq ko lr ls lt ks lu lv lw kw lx ly lz ma bi translated">4.实现一次错误处理</h2><p id="3d4e" class="pw-post-body-paragraph kd ke iq kf b kg mb ki kj kk mc km kn ko md kq kr ks me ku kv kw mf ky kz la ij bi translated">实现一次错误处理。例如，让我们来处理API错误:</p><h2 id="5adf" class="li lj iq bd lk ll lm dn ln lo lp dp lq ko lr ls lt ks lu lv lw kw lx ly lz ma bi translated">5.面向未来</h2><p id="548c" class="pw-post-body-paragraph kd ke iq kf b kg mb ki kj kk mc km kn ko md kq kr ks me ku kv kw mf ky kz la ij bi translated">每当您想要开始使用或更改异步请求库时，或者每当出现与异步请求相关的新需求时(例如，实现CSRF支持)，您宝贵的fetch包装器都会让您的生活变得轻松。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h2 id="1649" class="li lj iq bd lk ll lm dn ln lo lp dp lq ko lr ls lt ks lu lv lw kw lx ly lz ma bi translated">还有一些额外的好处:</h2><ul class=""><li id="a83a" class="mk ml iq kf b kg mb kk mc ko mm ks mn kw mo la mp mq mr ms bi translated">将fetch包装器实现为单例或使用全局变量作为助手，可以让您对异步请求进行排队，以实现负载平衡、优先级排序等。</li><li id="38b9" class="mk ml iq kf b kg mt kk mu ko mv ks mw kw mx la mp mq mr ms bi translated">对于取消冗余请求也是如此(例如:在autocomplete中)。</li><li id="8f8d" class="mk ml iq kf b kg mt kk mu ko mv ks mw kw mx la mp mq mr ms bi translated">增加了一个延迟选项，这可能对自动保存功能有用。</li><li id="eec4" class="mk ml iq kf b kg mt kk mu ko mv ks mw kw mx la mp mq mr ms bi translated">使用fetch包装器作为后端和前端之间的适配器。</li></ul><p id="55e9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">灵感来了？请随意提及一些其他可以使用fetch包装器实现的疯狂的东西。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><p id="628d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您觉得这篇文章有帮助，请点击👏按钮。欢迎在下面评论或给我发电子邮件到orenykb@gmail.com。</p></div></div>    
</body>
</html>