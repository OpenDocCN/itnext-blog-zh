<html>
<head>
<title>Building Your First Reusable Widget with Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Flutter构建第一个可重用的小部件</h1>
<blockquote>原文：<a href="https://itnext.io/building-your-first-reusable-widget-with-flutter-cadb54c3c253?source=collection_archive---------1-----------------------#2019-09-16">https://itnext.io/building-your-first-reusable-widget-with-flutter-cadb54c3c253?source=collection_archive---------1-----------------------#2019-09-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/2a10a8ff08aff1b97e55c9cb32d2e31b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*AnME06k6BEIGHAMW.png"/></div></div></figure><h1 id="af94" class="kb kc it bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">介绍</h1><p id="3580" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">在本指南中，我将向您展示如何使用<strong class="lb iu"> Flutter </strong>和<strong class="lb iu"> Dart </strong>构建一个可重用的小部件。</p><p id="c003" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">Dart语言是由Google创建的强类型语言。它与JavaScript、Java和c有相似之处。因此，如果您正在使用其中一种语言，那么您应该会很快熟悉Dart。</p><p id="425b" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">Flutter是一个用Dart编写的框架，可以轻松快速地编写跨平台的原生应用。你编写一个应用程序，可以构建到Android (Java或Kotlin)或iOS (Objective-C或Swift)移动应用程序中。</p><p id="d99d" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">为了继续这篇文章并实现我们的可重用小部件，建议使用；</p><ul class=""><li id="cb85" class="mc md it lb b lc lx lg ly lk me lo mf ls mg lw mh mi mj mk bi translated">基本编程技能</li><li id="6051" class="mc md it lb b lc ml lg mm lk mn lo mo ls mp lw mh mi mj mk bi translated">Flutter SDK 1.7+版</li><li id="03b9" class="mc md it lb b lc ml lg mm lk mn lo mo ls mp lw mh mi mj mk bi translated">Android/iOS模拟器或真实设备</li></ul><h1 id="6a5e" class="kb kc it bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">小部件</h1><p id="1dd7" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">在Flutter中，一切都是一个小部件。它是一个Dart类，其行为基本上与组件相同。您有两种小部件:</p><ul class=""><li id="dd76" class="mc md it lb b lc lx lg ly lk me lo mf ls mg lw mh mi mj mk bi translated">无状态小部件—它没有状态</li><li id="8292" class="mc md it lb b lc ml lg mm lk mn lo mo ls mp lw mh mi mj mk bi translated">有状态小部件—它有一个状态</li></ul><p id="2b38" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">对于可重用的小部件示例，我将只展示无状态小部件:</p><h2 id="ad71" class="mq kc it bd kd mr ms dn kh mt mu dp kl lk mv mw kp lo mx my kt ls mz na kx nb bi translated">可重用的无状态小部件</h2><p id="1813" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">我们不是每次都制作一个全新的屏幕，而是制作一个可重复使用的屏幕(见下图)，我们可以在其中更改以下内容:</p><ul class=""><li id="bd0e" class="mc md it lb b lc lx lg ly lk me lo mf ls mg lw mh mi mj mk bi translated">首页标题</li><li id="88ed" class="mc md it lb b lc ml lg mm lk mn lo mo ls mp lw mh mi mj mk bi translated">卡片标题</li><li id="d2a6" class="mc md it lb b lc ml lg mm lk mn lo mo ls mp lw mh mi mj mk bi translated">卡片字幕</li><li id="6f47" class="mc md it lb b lc ml lg mm lk mn lo mo ls mp lw mh mi mj mk bi translated">卡片图标</li><li id="5b30" class="mc md it lb b lc ml lg mm lk mn lo mo ls mp lw mh mi mj mk bi translated">“取消”按钮的操作</li><li id="f246" class="mc md it lb b lc ml lg mm lk mn lo mo ls mp lw mh mi mj mk bi translated">“继续”按钮的操作</li></ul><p id="f80c" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">在这个新屏幕上，我们可以导航并传递所有自定义数据。</p><figure class="nd ne nf ng gt ju gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/d746fd2f48debc85e17c0ca18a0364a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/format:webp/1*o6N_PMMhC-x1X7NNKbzAcg.png"/></div></figure><h2 id="959c" class="mq kc it bd kd mr ms dn kh mt mu dp kl lk mv mw kp lo mx my kt ls mz na kx nb bi translated">编码可重复使用的屏幕</h2><p id="29e3" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">对于我们的例子，我们使用了<code class="fe nh ni nj nk b">material</code>样式的小部件。先做一个新的屏幕，是一个叫<code class="fe nh ni nj nk b">ReusableScreen</code>的类。我们扩展了<code class="fe nh ni nj nk b">StatelessWidget</code>,因为我们的屏幕中没有任何状态。</p><p id="aa46" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">下图显示了我们添加的六个属性，它们都有自己的类型。</p><ul class=""><li id="3f08" class="mc md it lb b lc lx lg ly lk me lo mf ls mg lw mh mi mj mk bi translated"><code class="fe nh ni nj nk b">screenTitle</code>、<code class="fe nh ni nj nk b">tileTitle</code>和<code class="fe nh ni nj nk b">tileSubtitle</code>三种<code class="fe nh ni nj nk b">String</code>类型</li><li id="ad25" class="mc md it lb b lc ml lg mm lk mn lo mo ls mp lw mh mi mj mk bi translated">一个<code class="fe nh ni nj nk b">IconData</code>型号为我们的<code class="fe nh ni nj nk b">titleIcon</code></li><li id="d239" class="mc md it lb b lc ml lg mm lk mn lo mo ls mp lw mh mi mj mk bi translated"><code class="fe nh ni nj nk b">cancelButtonAction</code>和<code class="fe nh ni nj nk b">proceedButtonAction</code>两种<code class="fe nh ni nj nk b">Function</code>类型</li></ul><p id="9811" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">我们所有的属性都是<code class="fe nh ni nj nk b">final</code>，因为我们只想在屏幕上传递一次数据。</p><p id="864b" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">在<code class="fe nh ni nj nk b">ReusableScreen</code>构造函数中，我们引用我们的本地属性，并通过在它前面添加<code class="fe nh ni nj nk b">@required</code>使它们成为必需的。</p><figure class="nd ne nf ng gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nl"><img src="../Images/ad3dd89ea01632574da2c7c6dfd6437a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c-Uffdbr08_Hj7ofdlBT9Q.png"/></div></div></figure><p id="72ed" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">接下来我们覆盖<code class="fe nh ni nj nk b">StatelessWidget</code> <code class="fe nh ni nj nk b">build</code>方法。我们返回一个脚手架，在那里我们把我们的<code class="fe nh ni nj nk b">screenTitle</code>传递到<code class="fe nh ni nj nk b">AppBar</code>。</p><p id="a391" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">在主体中，我们有一个<code class="fe nh ni nj nk b">Card</code>，它有一个子节点<code class="fe nh ni nj nk b">Column</code>。我们将<code class="fe nh ni nj nk b">mainAxisSize</code>设置为最小值，并传递多个子部件。</p><p id="a99d" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">在卡片的顶部，我们想要一个<code class="fe nh ni nj nk b">ListTile</code>小部件，在那里我们可以传递我们的<code class="fe nh ni nj nk b">tileIcon</code>、<code class="fe nh ni nj nk b">tileTitle</code>和<code class="fe nh ni nj nk b">tileSubtitle</code>。</p><p id="49b7" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">在卡片的底部，我们想要包含一个动作的按钮。当某个按钮被按下时，<code class="fe nh ni nj nk b">cancelButtonAction</code>和<code class="fe nh ni nj nk b">proceedButtonAction</code>都打开。</p><figure class="nd ne nf ng gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nl"><img src="../Images/e28231c86970469ee57db2c4d9aaf8f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZuuR8T5aOFjDeQ154gZM7A.png"/></div></div></figure><h2 id="c9c8" class="mq kc it bd kd mr ms dn kh mt mu dp kl lk mv mw kp lo mx my kt ls mz na kx nb bi translated">实现可重复使用的屏幕</h2><p id="ef52" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">在我们应用程序的某个地方，我们想要导航到我们的<code class="fe nh ni nj nk b">ReusableScreen</code>。在这种情况下，我们有一个<code class="fe nh ni nj nk b">onTap</code>方法(可以在一个按钮中找到)。在这个方法中，我们使用Flutter的<code class="fe nh ni nj nk b">Navigator</code>小部件，并希望<code class="fe nh ni nj nk b">push</code>我们的屏幕，这样我们就可以访问它。导航可以按照你想要的方式进行。</p><p id="2f32" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">接下来，我们将我们的<code class="fe nh ni nj nk b">ReusableScreen</code>小部件放在<code class="fe nh ni nj nk b">push</code>方法中。现在我们可以传递我们的自定义参数，见下图。</p><p id="c35a" class="pw-post-body-paragraph kz la it lb b lc lx le lf lg ly li lj lk lz lm ln lo ma lq lr ls mb lu lv lw im bi translated">我们现在可以通过应用程序重用这个小部件了！</p><figure class="nd ne nf ng gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nm"><img src="../Images/488605a464c915603dc10944c2420c12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dms-mFt9-B6Gd5HrgA-FEw.png"/></div></div></figure></div><div class="ab cl nn no hx np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="im in io ip iq"><h2 id="58b7" class="mq kc it bd kd mr ms dn kh mt mu dp kl lk mv mw kp lo mx my kt ls mz na kx nb bi translated">感谢您的阅读！<code class="fe nh ni nj nk b">ReusableScreen</code>的最终代码可以在这里找到<a class="ae nu" href="https://gist.github.com/jeroenouw/a35e208c3d6e4977f6b12ce02964f7c3" rel="noopener ugc nofollow" target="_blank">。如果你觉得这篇文章有用，请点击👏关注button，并考虑阅读我的其他文章:</a></h2><div class="nv nw gp gr nx ny"><a href="https://levelup.gitconnected.com/how-to-use-push-notifications-with-flutter-23bed9e47e52" rel="noopener  ugc nofollow" target="_blank"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd iu gy z fp od fr fs oe fu fw is bi translated">如何在Flutter中使用推送通知</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">开始以最简单的方式在本地向您的用户推送通知</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="oh l"><div class="oi l oj ok ol oh om jz ny"/></div></div></a></div><div class="nv nw gp gr nx ny"><a href="https://levelup.gitconnected.com/learn-dart-for-flutter-by-comparing-it-to-typescript-3078ca18fe8f" rel="noopener  ugc nofollow" target="_blank"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd iu gy z fp od fr fs oe fu fw is bi translated">通过与TypeScript进行比较来学习Dart(用于颤振)</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">Dart代码与TypeScript代码比较的基本示例</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="oh l"><div class="on l oj ok ol oh om jz ny"/></div></div></a></div><div class="nv nw gp gr nx ny"><a href="https://medium.com/mr-frontend-community/10-advanced-typescript-questions-for-an-interview-with-answers-6f0513b1688e" rel="noopener follow" target="_blank"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd iu gy z fp od fr fs oe fu fw is bi translated">面试中的10个高级打字问题及答案</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">检查你的候选人是否有能力回答这些更高级的打字问题</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">medium.com</p></div></div><div class="oh l"><div class="oo l oj ok ol oh om jz ny"/></div></div></a></div></div></div>    
</body>
</html>