<html>
<head>
<title>Named urls in react-router</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">react-router中的命名URL</h1>
<blockquote>原文：<a href="https://itnext.io/named-urls-in-react-router-7949ff71f41d?source=collection_archive---------3-----------------------#2018-08-22">https://itnext.io/named-urls-in-react-router-7949ff71f41d?source=collection_archive---------3-----------------------#2018-08-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/edf876da7a4d79cd2433e3ecbd1f8d4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K9PQeoZ_c0hOVQS1oMQITQ.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/photos/CgSeT8__Wgw?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Einar H. Reynis </a>在<a class="ae kc" href="https://unsplash.com/search/photos/signpost?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="c902" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">react-router是我最喜欢的react路由器组件，但是我真的错过了Django的一个特性:命名url模式。它们是什么，如何有用？</p><p id="a547" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">看看react-router文档中的任何例子:</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="7628" class="lk ll iq lg b gy lm ln l lo lp">import { Switch, Route } from 'react-router'<br/><br/>&lt;Switch&gt;<br/>  &lt;Route exact path="/" component={Home}/&gt;<br/>  &lt;Route path="/about" component={About}/&gt;<br/>  &lt;Route path="/:user" component={User}/&gt;<br/>  &lt;Route component={NoMatch}/&gt;<br/>&lt;/Switch&gt;</span></pre><p id="5939" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">路径被定义为字符串，当我们想要呈现一个链接时，例如到<code class="fe lq lr ls lg b">About</code>页面的链接，我们需要再次写入路径:</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="ebbe" class="lk ll iq lg b gy lm ln l lo lp">&lt;Link to="/about"&gt;About&lt;/Link&gt;</span></pre><p id="d201" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">拼错URL很容易出错，重构URL很难，因为URL在几个文件中是重复的。</p><p id="0baa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里是命名的URL。我们在一个地方定义所有的URL，然后使用标识符而不是字符串。</p><p id="db2f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先我们需要一个<code class="fe lq lr ls lg b">routes.js</code>文件来定义所有的URL:</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="4240" class="lk ll iq lg b gy lm ln l lo lp">export default {<br/>  home: "/",<br/>  about: "/about",<br/>  user: "/:user"<br/>}</span></pre><p id="84ac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用此配置来定义路由:</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="38c5" class="lk ll iq lg b gy lm ln l lo lp">import { Switch, Route } from 'react-router'<br/>import routes from './routes.js'</span><span id="e5fd" class="lk ll iq lg b gy lt ln l lo lp">&lt;Switch&gt;<br/>  &lt;Route exact path={routes.home} component={Home}/&gt;<br/>  &lt;Route path={routes.about} component={About}/&gt;<br/>  &lt;Route path={routes.user} component={User}/&gt;<br/>  &lt;Route component={NoMatch}/&gt;<br/>&lt;/Switch&gt;</span></pre><p id="d054" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">和相同的配置来创建链接:</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="06fe" class="lk ll iq lg b gy lm ln l lo lp">&lt;Link to={route.about}&gt;About&lt;/Link&gt;</span></pre><p id="44bb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">静态分析工具可以检查我们使用的是有效的路线，而且也是干的。</p><p id="0967" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">唯一的问题是带参数的路线，比如<code class="fe lq lr ls lg b">/:user</code>。当创建链接时，我们需要向这个模式传递参数。这就是命名url库发挥作用的地方:</p><div class="lu lv gp gr lw lx"><a href="https://github.com/tricoder42/named-urls" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">tricoder 42/命名网址</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">命名url——Javascript中简单的命名URL模式</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">github.com</p></div></div><div class="mg l"><div class="mh l mi mj mk mg ml jw lx"/></div></div></a></div><p id="c569" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">named-urls库导出<code class="fe lq lr ls lg b">reverse</code>函数，该函数使用给定的参数将url模式转换为特定的url:</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="8409" class="lk ll iq lg b gy lm ln l lo lp">&lt;Link to={reverse(route.user, { user: "tricoder42" })}&gt;About&lt;/Link&gt;</span><span id="7613" class="lk ll iq lg b gy lt ln l lo lp">// <!-- -->reverse("/:user", { user: "tricoder42" }) === "/tricoder42"</span></pre><p id="2adb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">就是这样！它很简单，完全独立于react-router，但给你安全和干燥的url模式。这个库本身不到100行，所以没什么大不了的。如果你想知道代码分解是如何工作的，那么它不是。<code class="fe lq lr ls lg b">routes.js</code>文件通常很小，考虑到这项任务的复杂性，保存的包大小不会很大。</p><p id="13c6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您如何在React或express应用程序中管理路线？</p></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><p id="79b7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">嘿！我是一名全栈开发人员，在我的空闲时间里，我正在开发用于JavaScript的i18n库<a class="ae kc" href="https://github.com/lingui/js-lingui" rel="noopener ugc nofollow" target="_blank"> jsLingui </a>。该库从头到尾解决了i18n，提供了用于翻译的组件、用于管理消息目录的CLI以及离线编译消息以节省包大小。它是react-intl的替代方案，但也适用于普通JS。看看<a class="ae kc" href="https://lingui.github.io/js-lingui/tutorials/react.html" rel="noopener ugc nofollow" target="_blank"> React教程</a>或者说<a class="ae kc" href="https://lingui.github.io/js-lingui/misc/react-intl.html" rel="noopener ugc nofollow" target="_blank">和react-intl </a>有什么不同。</p><p id="aaea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">以下是您可能感兴趣的其他文章:</p><div class="lu lv gp gr lw lx"><a rel="noopener  ugc nofollow" target="_blank" href="/react-patterns-lambda-components-and-render-props-c4dce3903a52"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">反应模式—lambda组件和渲染道具</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">观察开发人员如何在React中不断发现新的组件组合模式是很棒的。一些…</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">itnext.io</p></div></div><div class="mg l"><div class="mt l mi mj mk mg ml jw lx"/></div></div></a></div><div class="lu lv gp gr lw lx"><a rel="noopener  ugc nofollow" target="_blank" href="/react-patterns-lambda-components-and-render-props-c4dce3903a52"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">反应模式—lambda组件和渲染道具</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">观察开发人员如何在React中不断发现新的组件组合模式是很棒的。一些…</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">itnext.io</p></div></div><div class="mg l"><div class="mt l mi mj mk mg ml jw lx"/></div></div></a></div><p id="d5f4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你对我做的事情和写的文章感兴趣，请在Twitter上关注我:</p><div class="lu lv gp gr lw lx"><a href="https://twitter.com/tomas_ehrlich" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">托马斯·埃利希(@托马斯_埃利希)|推特</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">托马斯·埃利希的最新推文(@托马斯_埃利希)。#铁人三项运动员，网站和移动应用程序开发人员，著有……</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">twitter.com</p></div></div></div></a></div></div></div>    
</body>
</html>