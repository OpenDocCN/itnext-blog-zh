<html>
<head>
<title>Android Notification Channel As Deep As Possible</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">尽可能深入的Android通知通道</h1>
<blockquote>原文：<a href="https://itnext.io/android-notification-channel-as-deep-as-possible-1a5b08538c87?source=collection_archive---------1-----------------------#2020-05-03">https://itnext.io/android-notification-channel-as-deep-as-possible-1a5b08538c87?source=collection_archive---------1-----------------------#2020-05-03</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><figure class="gm go js jt ju jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj jr"><img src="../Images/fcf4854ba2aa0745166c36ec73fbe0f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SQy-aKEXu_WSoRd-.png"/></div></div></figure><p id="1576" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi la translated"><span class="l lb lc ld bm le lf lg lh li di"> N </span>用户可以为每个<code class="fe lj lk ll lm b">NotificationChannel</code>下的所有通知设置不同的设置(如振动、LED通知&amp;铃声)。这是对管理通知的一个很好的改进。</p><p id="e9e7" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">此外，可以将几个<code class="fe lj lk ll lm b">NotificationChannel</code>分组为一个<code class="fe lj lk ll lm b">NotificationChannelGroup</code>，以允许用户启用/禁用从该组接收通知。<code class="fe lj lk ll lm b">NotificationChannel</code>设置提交到<code class="fe lj lk ll lm b">NotificationManager</code>后不能更改。</p><p id="d36c" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">在这篇文章中，我将介绍<code class="fe lj lk ll lm b">NotificationChannel</code>和<code class="fe lj lk ll lm b">NotificationChannelGroup</code>的所有属性，并强调我之前开发应用程序时的一些重要注意事项。以下是内容列表:</p><ol class=""><li id="6734" class="ln lo iu ke b kf kg kj kk kn lp kr lq kv lr kz ls lt lu lv bi translated">频道id</li><li id="7018" class="ln lo iu ke b kf lw kj lx kn ly kr lz kv ma kz ls lt lu lv bi translated">频道名称</li><li id="c418" class="ln lo iu ke b kf lw kj lx kn ly kr lz kv ma kz ls lt lu lv bi translated">描述文本</li><li id="d061" class="ln lo iu ke b kf lw kj lx kn ly kr lz kv ma kz ls lt lu lv bi translated">组</li><li id="650f" class="ln lo iu ke b kf lw kj lx kn ly kr lz kv ma kz ls lt lu lv bi translated">重要</li><li id="6643" class="ln lo iu ke b kf lw kj lx kn ly kr lz kv ma kz ls lt lu lv bi translated">LED通知</li><li id="7246" class="ln lo iu ke b kf lw kj lx kn ly kr lz kv ma kz ls lt lu lv bi translated">自定义声音(铃声)</li><li id="ea71" class="ln lo iu ke b kf lw kj lx kn ly kr lz kv ma kz ls lt lu lv bi translated">震动</li><li id="d647" class="ln lo iu ke b kf lw kj lx kn ly kr lz kv ma kz ls lt lu lv bi translated">锁屏可视性</li><li id="38de" class="ln lo iu ke b kf lw kj lx kn ly kr lz kv ma kz ls lt lu lv bi translated">标记</li><li id="7fbf" class="ln lo iu ke b kf lw kj lx kn ly kr lz kv ma kz ls lt lu lv bi translated">绕过“请勿打扰”模式</li></ol></div><div class="ab cl mb mc hy md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="in io ip iq ir"><h1 id="a552" class="mi mj iu bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">启动前)Android通知设置</h1><figure class="nh ni nj nk gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj ng"><img src="../Images/b9435bed83f3d283d4c611042031553a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H5UikahdxRUj5ddbRE6NXw.png"/></div></div><figcaption class="nl nm gk gi gj nn no bd b be z dk translated">运行于Android 10 (API 29)的Pixel 3的通知设置页面截图</figcaption></figure><p id="eb9c" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">在详细了解<code class="fe lj lk ll lm b">NotificationChannel</code>之前，我们应该了解用户可以通过进入系统设置应用程序的通知设置页面来覆盖所有<code class="fe lj lk ll lm b">NotificationChannel</code>设置。步骤见上文。</p><figure class="nh ni nj nk gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj np"><img src="../Images/5a74b7d16c8ce506d35c59c230598168.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rUyKhFqvdEpHldvEOg1jwA.png"/></div></div><figcaption class="nl nm gk gi gj nn no bd b be z dk translated">通知设置页面(左)和通知通道设置页面(右)</figcaption></figure><p id="eb39" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">在应用程序设置页面有3个“显示通知”按钮(A，B &amp; C ),它们很容易混淆。</p><p id="4843" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated"><code class="fe lj lk ll lm b">A</code>“显示通知”按钮控制应用程序级别的通知设置，并启用/禁用应用程序显示任何通知。</p><p id="b955" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated"><code class="fe lj lk ll lm b">B</code>“显示通知”按钮在<code class="fe lj lk ll lm b">NotificationChannelGroup</code>层下，控制整个组<code class="fe lj lk ll lm b">NotificationChannel</code>成员是否可以显示通知。</p><p id="3705" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated"><code class="fe lj lk ll lm b">C</code>“显示通知”按钮控制特定的<code class="fe lj lk ll lm b">NotificationChannel</code>。</p></div><div class="ab cl mb mc hy md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="in io ip iq ir"><h1 id="f512" class="mi mj iu bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">NotificationChannelGroups</h1><figure class="nh ni nj nk gu jv"><div class="bz fq l di"><div class="nq nr l"/></div></figure><p id="6657" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated"><code class="fe lj lk ll lm b">NotificationChannelGroups</code>是将<code class="fe lj lk ll lm b">NotificationChannel</code>列表组合在一起的对象。用户只需点击一下，即可阻止/解除阻止整组<code class="fe lj lk ll lm b">NotificationChannel</code> s。如果您错过了，请参见之前的“Android通知设置”部分。</p><p id="27ca" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated"><code class="fe lj lk ll lm b">NotificationChannelGroups</code>的描述只是向用户显示信息的简单文本。可以在通知类别页面找到它。</p><figure class="nh ni nj nk gu jv gi gj paragraph-image"><div class="gi gj ns"><img src="../Images/550eca01082029623817c04510ec4dd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*uftBUQW2AIuUEn70Xi_hNA.png"/></div><figcaption class="nl nm gk gi gj nn no bd b be z dk translated">设置应用程序中通知类别页面上的NotificationChannelGroup名称的位置</figcaption></figure></div><div class="ab cl mb mc hy md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="in io ip iq ir"><h1 id="4ac4" class="mi mj iu bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">属性1) ChannelId</h1><figure class="nh ni nj nk gu jv"><div class="bz fq l di"><div class="nq nr l"/></div></figure><p id="3850" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated"><code class="fe lj lk ll lm b">ChannelId</code>是标识每个<code class="fe lj lk ll lm b">NotificationChannel</code>的唯一的<code class="fe lj lk ll lm b">String</code>，在构造<code class="fe lj lk ll lm b">Notification</code>对象时用于<code class="fe lj lk ll lm b">Notification.Builder</code>(第7行)。</p><p id="ada3" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated"><code class="fe lj lk ll lm b">NotificationChannel</code>除了<strong class="ke iv">频道名称</strong>和<strong class="ke iv">描述文本</strong>之外的设置，在提交到第5行<code class="fe lj lk ll lm b">NotificationManager</code>后不可更改。<code class="fe lj lk ll lm b">NotificationManager</code>使用该字段检查其记录中是否已经有一个<code class="fe lj lk ll lm b">NotificationChannel</code>。</p></div><div class="ab cl mb mc hy md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="in io ip iq ir"><h1 id="3a74" class="mi mj iu bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">属性2 + 3)频道名称和描述文本</h1><figure class="nh ni nj nk gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj nt"><img src="../Images/f9499c4444ced0b339d238679c0f40c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1174/format:webp/1*spixgBDijccLjsZQSq1l7w.png"/></div></div><figcaption class="nl nm gk gi gj nn no bd b be z dk translated">通知通道设置页面</figcaption></figure><p id="e392" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">通道名称和描述文本都是简单的显示字符串，便于用户了解<code class="fe lj lk ll lm b">NotificationChannel</code>的详细信息。频道名称的最大长度为40个字符，描述文本的最大长度为300个字符。</p><blockquote class="nu nv nw"><p id="a963" class="kc kd nx ke b kf kg kh ki kj kk kl km ny ko kp kq nz ks kt ku oa kw kx ky kz in bi translated">与<code class="fe lj lk ll lm b"><em class="iu">NotificationChannel</em></code>的其他属性不同，这两个属性可以更新，即使频道被提交给<code class="fe lj lk ll lm b"><em class="iu">NotificationManager</em></code>。当应用程序是多语言的时，它是有用的。</p></blockquote></div><div class="ab cl mb mc hy md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="in io ip iq ir"><h1 id="5ba4" class="mi mj iu bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">属性4)组</h1><figure class="nh ni nj nk gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj ob"><img src="../Images/dc78fb86eeb782396b82c94629ad7112.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zPwEhLNU9NzIR1NbXdXuzQ.png"/></div></div><figcaption class="nl nm gk gi gj nn no bd b be z dk translated">显示NotificationChannelGroup列表的应用程序通知设置页面的屏幕截图</figcaption></figure><figure class="nh ni nj nk gu jv"><div class="bz fq l di"><div class="nq nr l"/></div></figure><p id="6051" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">正如在上面的会话中提到的，有一个<code class="fe lj lk ll lm b">NotificationChannelGroup</code>对象用于将一些<code class="fe lj lk ll lm b">NotificationChannel</code>组合在一起。<code class="fe lj lk ll lm b">group</code>属性是通过唯一id将<code class="fe lj lk ll lm b">NotificationChannel</code>与<code class="fe lj lk ll lm b">NotificationChannelGroup</code>链接起来的属性。</p></div><div class="ab cl mb mc hy md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="in io ip iq ir"><h1 id="cca4" class="mi mj iu bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">属性5)重要性</h1><figure class="nh ni nj nk gu jv"><div class="bz fq l di"><div class="nq nr l"/></div></figure><p id="8468" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">每个<code class="fe lj lk ll lm b">NotificationChannel</code>有5个可用的通知重要性。</p><ol class=""><li id="20d1" class="ln lo iu ke b kf kg kj kk kn lp kr lq kv lr kz ls lt lu lv bi translated"><strong class="ke iv"> IMPORTANCE_NONE = 0 </strong> <br/>用户已禁用该<code class="fe lj lk ll lm b">NotificationChannel</code>的通知。</li></ol><figure class="nh ni nj nk gu jv gi gj paragraph-image"><div class="gi gj oc"><img src="../Images/e4f4227cf09d72709cc2414966e4ad6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/format:webp/1*4HwluMz467iG2NlKY2nrEg.png"/></div><figcaption class="nl nm gk gi gj nn no bd b be z dk translated">用户已禁用整个通知通道的通知</figcaption></figure><p id="3b43" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">2.<strong class="ke iv"> IMPORTANCE_MIN = 1 </strong></p><figure class="nh ni nj nk gu jv gi gj paragraph-image"><div class="gi gj oc"><img src="../Images/52d39feb46c5b744d90f5b37a092ba86.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/format:webp/1*0fro8mdwCkn_fVwY9KAmow.png"/></div><figcaption class="nl nm gk gi gj nn no bd b be z dk translated">启用“静音”和“最小化”</figcaption></figure><p id="057d" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">3.<strong class="ke iv"> IMPORTANCE_LOW = 2 </strong></p><figure class="nh ni nj nk gu jv gi gj paragraph-image"><div class="gi gj oc"><img src="../Images/a30285b559148c8abf0674e1d82b9112.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/format:webp/1*2BwI5ijWGrg9Bf5ct-a_LQ.png"/></div><figcaption class="nl nm gk gi gj nn no bd b be z dk translated">“静音”已启用，但“最小化”已禁用</figcaption></figure><p id="994e" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">4.<strong class="ke iv"> IMPORTANCE_DEFAULT = 3 </strong></p><figure class="nh ni nj nk gu jv gi gj paragraph-image"><div class="gi gj oc"><img src="../Images/2a3e0fb83de5b5043c2de6664911da50.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/format:webp/1*WHfETxzDGi1R1t-nn9JZqw.png"/></div><figcaption class="nl nm gk gi gj nn no bd b be z dk translated">“报警”已启用，但“屏幕弹出”已禁用</figcaption></figure><p id="2c44" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">5.<strong class="ke iv"> IMPORTANCE_HIGH = 4 </strong></p><figure class="nh ni nj nk gu jv gi gj paragraph-image"><div class="gi gj oc"><img src="../Images/7aac383be83dcaa4f0bde72cd6d270d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/format:webp/1*Nb_yAT_JBQvhKw00smHtCA.png"/></div><figcaption class="nl nm gk gi gj nn no bd b be z dk translated">启用“报警”和“屏幕弹出”</figcaption></figure></div><div class="ab cl mb mc hy md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="in io ip iq ir"><h1 id="b76c" class="mi mj iu bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">属性6) LED通知</h1><figure class="nh ni nj nk gu jv gi gj paragraph-image"><div class="gi gj od"><img src="../Images/f66d2a5feb4dc8b3d05f373d6b7ef8cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*bnt2WI0Gnqp-wKIqWyLaWg.png"/></div><figcaption class="nl nm gk gi gj nn no bd b be z dk translated">三星Galaxy J5中的通知LED</figcaption></figure><figure class="nh ni nj nk gu jv"><div class="bz fq l di"><div class="nq nr l"/></div></figure><p id="fc79" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">一些Android设备(如三星Galaxy J5)有一个LED，用于通知用户新的通知。开发者可以定制每个<code class="fe lj lk ll lm b">NotificationChannel</code>的颜色。默认情况下，LED功能处于禁用状态。因此，<code class="fe lj lk ll lm b">enableLights(true)</code>必须在<code class="fe lj lk ll lm b">lightColor</code>置位后调用。</p><p id="dd88" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">然而，<strong class="ke iv">并不是</strong>现在每部安卓手机(比如2018年的Pixel 3&amp;2019年的Pixel 4)都有嵌入式LED。因此，单纯依靠LED颜色来区分不同类型的通知并不是一个好办法。UX设计师在开发时应该记住这一点！</p></div><div class="ab cl mb mc hy md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="in io ip iq ir"><h1 id="75da" class="mi mj iu bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">属性7)自定义声音(铃声)</h1><figure class="nh ni nj nk gu jv"><div class="bz fq l di"><div class="nq nr l"/></div></figure><p id="2dcb" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">不同的安卓手机都有自己默认的通知铃声。要统一或定制特定通知通道的铃声，开发者可以通过上述代码加载和设置铃声。音频(<code class="fe lj lk ll lm b">mp3</code>)文件可以放在<code class="fe lj lk ll lm b">res</code>文件夹下的<code class="fe lj lk ll lm b">raw</code>文件夹中。</p><figure class="nh ni nj nk gu jv gi gj paragraph-image"><div class="gi gj oe"><img src="../Images/bd87c8bcb46babf0fdf4792f795f4f68.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/1*nYB9EnPQL2nU6vXxBSZBsg.png"/></div><figcaption class="nl nm gk gi gj nn no bd b be z dk translated">Android项目结构中mp3文件的位置</figcaption></figure><blockquote class="nu nv nw"><p id="08b7" class="kc kd nx ke b kf kg kh ki kj kk kl km ny ko kp kq nz ks kt ku oa kw kx ky kz in bi translated">互联网上有一些免费的铃声。你可以从这个<a class="ae of" href="https://www.prokerala.com/downloads/ringtones/" rel="noopener ugc nofollow" target="_blank">网站</a>找到一些测试铃声。</p></blockquote></div><div class="ab cl mb mc hy md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="in io ip iq ir"><h1 id="7435" class="mi mj iu bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">属性8)振动</h1><figure class="nh ni nj nk gu jv"><div class="bz fq l di"><div class="nq nr l"/></div></figure><p id="1b98" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">默认情况下，显示通知不会导致手机振动。它必须由上面的代码显式启用。</p><p id="0858" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated"><code class="fe lj lk ll lm b">vibrationPattern</code>是<code class="fe lj lk ll lm b">Long</code>的数组。它的奇数索引元素代表沉默的持续时间，偶数索引元素代表振动的持续时间。上述示例代码(第6–8行)将导致手机以下列模式振动(静音2s &amp;振动1s):</p><figure class="nh ni nj nk gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj og"><img src="../Images/10276701c8eabd767d641a649c344175.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N1i1Tm2NGMK8fzz1p6H9tQ.png"/></div></div></figure></div><div class="ab cl mb mc hy md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="in io ip iq ir"><h1 id="435d" class="mi mj iu bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">属性9)锁屏可见性</h1><figure class="nh ni nj nk gu jv"><div class="bz fq l di"><div class="nq nr l"/></div></figure><p id="2fae" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">以下是3个可能的<code class="fe lj lk ll lm b">lockscreenVisibility</code>选项:</p><figure class="nh ni nj nk gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj oh"><img src="../Images/fc60dc74c6661b1417cfe491cf585b85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_SAs-RyP6E958oF8FoSg_Q.png"/></div></div><figcaption class="nl nm gk gi gj nn no bd b be z dk translated">left—VISIBILITY _ PUBLIC；右-可见性_私有</figcaption></figure><ol class=""><li id="505e" class="ln lo iu ke b kf kg kj kk kn lp kr lq kv lr kz ls lt lu lv bi translated"><strong class="ke iv">可见性_秘密</strong> <br/>安全等级最高。属于这个<code class="fe lj lk ll lm b">NotificationChannel</code>的通知全部隐藏在锁屏。</li><li id="6760" class="ln lo iu ke b kf lw kj lx kn ly kr lz kv ma kz ls lt lu lv bi translated"><strong class="ke iv">VISIBILITY _ PRIVATE<br/></strong>通知中的敏感信息被另一组公开信息替代(上图右侧)。参见示例代码:</li></ol><figure class="nh ni nj nk gu jv"><div class="bz fq l di"><div class="nq nr l"/></div></figure><p id="b8a4" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">3.<strong class="ke iv"> VISIBILITY_PUBLIC </strong> <br/>所有信息自由显示。锁定屏幕的外观与平视横幅通知完全相同。见上图左侧。</p></div><div class="ab cl mb mc hy md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="in io ip iq ir"><h1 id="1173" class="mi mj iu bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">酒店10)徽章</h1><figure class="nh ni nj nk gu jv gi gj paragraph-image"><div class="gi gj oi"><img src="../Images/8cdb7e034aa1a802edec044c9de49734.png" data-original-src="https://miro.medium.com/v2/resize:fit:786/format:webp/1*Qcqt7Il0l1oWKP67grVnsg.png"/></div></figure><figure class="nh ni nj nk gu jv"><div class="bz fq l di"><div class="nq nr l"/></div></figure><p id="4e4b" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">徽章是应用程序图标右上角的一个小圆点。它通知用户在通知抽屉里有一些通知。默认情况下，所有<code class="fe lj lk ll lm b">NotificationChannel</code>都会显示徽章。但是，在某些情况下，徽章应该隐藏，例如，正在进行的电话不应该显示徽章。</p></div><div class="ab cl mb mc hy md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="in io ip iq ir"><h1 id="7687" class="mi mj iu bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">酒店11)绕过“请勿打扰”</h1><figure class="nh ni nj nk gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj oj"><img src="../Images/a305a315702dad2a1876fdb26cb42522.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IEOd64TS6idCdGWat3b-Gg.png"/></div></div><figcaption class="nl nm gk gi gj nn no bd b be z dk translated">下拉菜单中的“请勿打扰”切换按钮</figcaption></figure><p id="955d" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">“请勿打扰”(DND)模式主要通过禁止所有通知提供任何视觉和声音效果来为用户提供安静的环境。然而，可以有一些紧急通知，即在任何情况下都应该通知用户，例如地震疏散通知。因此，Android提供此选项来覆盖用户设置的免打扰模式。</p></div><div class="ab cl mb mc hy md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="in io ip iq ir"><h1 id="b04d" class="mi mj iu bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">摘要</h1><ol class=""><li id="c276" class="ln lo iu ke b kf ok kj ol kn om kr on kv oo kz ls lt lu lv bi translated"><code class="fe lj lk ll lm b">NotificationChannel</code>将通知分组在一起，<code class="fe lj lk ll lm b">NotificationChannelGroup</code>将<code class="fe lj lk ll lm b">NotificationChannel</code>分组在一起。用户可以更容易地将设置应用于一组通知。</li><li id="13c4" class="ln lo iu ke b kf lw kj lx kn ly kr lz kv ma kz ls lt lu lv bi translated"><code class="fe lj lk ll lm b">NotificationChannel</code>提交到<code class="fe lj lk ll lm b">NotificationManager</code>后，设置不可更改。</li><li id="9f0f" class="ln lo iu ke b kf lw kj lx kn ly kr lz kv ma kz ls lt lu lv bi translated">开发者可以通过设置<code class="fe lj lk ll lm b">NotificationChannel</code>的重要性、锁屏可见性、群组、振动模式、铃声、LED通知、徽章显示和“请勿打扰”模式来定制。</li><li id="9f14" class="ln lo iu ke b kf lw kj lx kn ly kr lz kv ma kz ls lt lu lv bi translated">重要性级别取决于用户是否限制通知显示，例如声音、振动、抬头方式。</li><li id="2b0b" class="ln lo iu ke b kf lw kj lx kn ly kr lz kv ma kz ls lt lu lv bi translated">Android手机中的嵌入式LED很可能在未来被淘汰。请慎重考虑，以确保良好的UX。</li></ol></div><div class="ab cl mb mc hy md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="in io ip iq ir"><h1 id="4be3" class="mi mj iu bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">推荐读物</h1><ol class=""><li id="bdbf" class="ln lo iu ke b kf ok kj ol kn om kr on kv oo kz ls lt lu lv bi translated"><a class="ae of" href="https://developer.android.com/reference/android/app/NotificationChannel" rel="noopener ugc nofollow" target="_blank">安卓官方文档—通知渠道</a></li><li id="4215" class="ln lo iu ke b kf lw kj lx kn ly kr lz kv ma kz ls lt lu lv bi translated"><a class="ae of" href="https://developer.android.com/reference/android/app/NotificationChannelGroup" rel="noopener ugc nofollow" target="_blank"> Android官方文档— NotificationChannelGroup </a></li><li id="ff57" class="ln lo iu ke b kf lw kj lx kn ly kr lz kv ma kz ls lt lu lv bi translated"><a class="ae of" href="https://developer.android.com/reference/android/app/NotificationManager" rel="noopener ugc nofollow" target="_blank">安卓官方文档—通知管理器</a></li><li id="e5f2" class="ln lo iu ke b kf lw kj lx kn ly kr lz kv ma kz ls lt lu lv bi translated"><a class="ae of" href="https://stackoverflow.com/questions/4896223/how-to-get-an-uri-of-an-image-resource-in-android" rel="noopener ugc nofollow" target="_blank"> StackOverflow —从媒体资源中获取Uri</a></li></ol></div><div class="ab cl mb mc hy md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="in io ip iq ir"><h1 id="7d65" class="mi mj iu bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">通知相关的媒体发布</h1><h2 id="913e" class="op mj iu bd mk oq or dn mo os ot dp ms kn ou ov mw kr ow ox na kv oy oz ne pa bi translated"><strong class="ak"> 1。自定义通知</strong></h2><div class="pb pc gq gs pd pe"><a rel="noopener  ugc nofollow" target="_blank" href="/android-custom-notification-in-6-mins-c2e7e2ddadab"><div class="pf ab fp"><div class="pg ab ph cl cj pi"><h2 class="bd iv gz z fq pj fs ft pk fv fx it bi translated">Android自定义通知在6分钟内完成</h2><div class="pl l"><h3 class="bd b gz z fq pj fs ft pk fv fx dk translated">定制通知可以包含比默认通知样式提供的更多奇特的小部件。让我们点击…</h3></div><div class="pm l"><p class="bd b dl z fq pj fs ft pk fv fx dk translated">itnext.io</p></div></div><div class="pn l"><div class="po l pp pq pr pn ps ka pe"/></div></div></a></div><h2 id="4d3c" class="op mj iu bd mk oq or dn mo os ot dp ms kn ou ov mw kr ow ox na kv oy oz ne pa bi translated"><strong class="ak"> 2。安卓通知一体机</strong></h2><div class="pb pc gq gs pd pe"><a rel="noopener  ugc nofollow" target="_blank" href="/android-notification-all-in-one-8df3e1218e0e"><div class="pf ab fp"><div class="pg ab ph cl cj pi"><h2 class="bd iv gz z fq pj fs ft pk fv fx it bi translated">安卓通知一体机</h2><div class="pl l"><h3 class="bd b gz z fq pj fs ft pk fv fx dk translated">在21世纪，通知已经成为每个人日常生活的一部分。作为一个Android开发者，最好多了解一些…</h3></div><div class="pm l"><p class="bd b dl z fq pj fs ft pk fv fx dk translated">itnext.io</p></div></div><div class="pn l"><div class="pt l pp pq pr pn ps ka pe"/></div></div></a></div><h2 id="b575" class="op mj iu bd mk oq or dn mo os ot dp ms kn ou ov mw kr ow ox na kv oy oz ne pa bi translated">3.消息样式通知</h2><figure class="nh ni nj nk gu jv gi gj paragraph-image"><div class="gi gj pu"><img src="../Images/87b8ac1ba5a8d6e06db22adb379579e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/0*qxBi_TwEwoF_vE2f.gif"/></div></figure><h2 id="26d9" class="op mj iu bd mk oq or dn mo os ot dp ms kn ou ov mw kr ow ox na kv oy oz ne pa bi translated"><strong class="ak"> 4。</strong> <a class="ae of" rel="noopener ugc nofollow" target="_blank" href="/android-notification-bigtextstyle-bd35f7530eae"> <strong class="ak"> BigTextSytle通知</strong> </a></h2><figure class="nh ni nj nk gu jv gi gj paragraph-image"><div class="gi gj pu"><img src="../Images/07fe5c7c3289785564c2c3c854cf005b.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/0*puP0OJoMUc-r0ty4.gif"/></div></figure><h2 id="0a06" class="op mj iu bd mk oq or dn mo os ot dp ms kn ou ov mw kr ow ox na kv oy oz ne pa bi translated">5.<a class="ae of" rel="noopener ugc nofollow" target="_blank" href="/android-notification-bigpicturestyle-1f293e6cabaf"><strong class="ak">BigPictureStyleNotification</strong></a></h2><figure class="nh ni nj nk gu jv gi gj paragraph-image"><div class="gi gj pv"><img src="../Images/657016cc4d0fa83eff194f1c442153f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/0*hhaNoV0zDF3RXo-C.gif"/></div></figure><h2 id="ad5c" class="op mj iu bd mk oq or dn mo os ot dp ms kn ou ov mw kr ow ox na kv oy oz ne pa bi translated">6.<a class="ae of" rel="noopener ugc nofollow" target="_blank" href="/android-inboxstyle-notification-as-deep-as-possible-4d74c0c725f1"><strong class="ak">inbox style notification</strong></a></h2><figure class="nh ni nj nk gu jv gi gj paragraph-image"><div class="gi gj pw"><img src="../Images/2013766de6578debac5405d553317dd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*C8qpAeJDAXzFIbB5.gif"/></div></figure><h2 id="12cd" class="op mj iu bd mk oq or dn mo os ot dp ms kn ou ov mw kr ow ox na kv oy oz ne pa bi translated">7.<a class="ae of" rel="noopener ugc nofollow" target="_blank" href="/android-notification-styling-cc6b0bb86021"> <strong class="ak">安卓通知样式</strong> </a></h2><figure class="nh ni nj nk gu jv gi gj paragraph-image"><div class="gi gj od"><img src="../Images/7b67d9399cd806f7f9d6e266344af60d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/0*awQHeExnM1fV5mts.png"/></div></figure></div><div class="ab cl mb mc hy md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="in io ip iq ir"><p id="09cb" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">欢迎您在<a class="ae of" href="https://twitter.com/myrick_chow" rel="noopener ugc nofollow" target="_blank">Twitter @ my rik _ chow</a>关注我，了解更多信息和文章。感谢您阅读这篇文章。祝您愉快！😄</p></div></div>    
</body>
</html>