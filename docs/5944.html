<html>
<head>
<title>Builder Design Pattern with a Swift Real-World Example</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有Swift真实示例的构建器设计模式</h1>
<blockquote>原文：<a href="https://itnext.io/builder-design-pattern-with-a-swift-real-world-example-6adbfc2a4fd8?source=collection_archive---------2-----------------------#2021-07-06">https://itnext.io/builder-design-pattern-with-a-swift-real-world-example-6adbfc2a4fd8?source=collection_archive---------2-----------------------#2021-07-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/6ffa39c510db8141be6b88d7016c02cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*th2qB0lePbHQZEMr"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">何塞·平托在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="3e4f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当你在谷歌上搜索“Builder Pattern”时，你可以找到许多旧的学校资料，你的思维可能会更加混乱，所以我想给你一个真实世界的例子，并用我的一个项目中的真实代码进行解释，以获得一些实践。</p><p id="5b6b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，在写代码之前，让我们先看看这个类比。如果我们理解了这个概念，那么编写代码将会很有趣，也不容易出错。</p><p id="d4dd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们想象一下，你是一个电视频道的制作人，召集了一个节目的所有工作人员，让节目变得生动起来。<br/>你需要制作一个体育节目，制作一个基本的体育节目需要什么？也许我们可以用这些做如下。</p><ul class=""><li id="9eb7" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated">x型照相机</li><li id="61ae" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">兴奋的版主</li><li id="df30" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">体育评论员</li><li id="a402" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">彩色桌子</li></ul><p id="3732" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那做新闻呢？可能需要相同的材料，但类型不同。</p><ul class=""><li id="ad1a" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated">y型照相机</li><li id="d529" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">扑克脸版主</li><li id="b607" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">政治评论家</li><li id="06d0" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">灰色表(好像比较严重吧？)</li></ul><p id="4ab7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">好的，你拿到这些材料，然后坐在你的工作区，一步一步地制作你的电视节目新闻或体育等。</p><p id="cef6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">没有人不关心你，你是怎么做到的。</p><p id="6ffd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你是一个很酷的制作人，你只是向你的老板(app)和观察者(client)汇报。如果你想改变评论者或桌子的颜色，这又会是新闻，但会是不同概念的不同新闻，或者改变桌子等等。</p><p id="d573" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">构建器模式在这个类比中做了类似的事情。<strong class="kf ir"> Builder </strong>是一个创造性的设计模式，让你构建复杂的对象(体育节目，新闻)。您可以将这种创造性的设计模式用于构造代码。每当您想要更改构造代码的内容时，您将会以不同的样式再次构造一个结构。</p><p id="78c7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">请暂时记住这个类比。我猜你已经明白了，让我们回到Swift world。</p></div><div class="ab cl lp lq hu lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ij ik il im in"><p id="66b7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Builder在Swift world中非常受欢迎，尤其是如果你想使用VIP或VIPER设计模式，这种模式会变得非常方便。编程世界中没有灵丹妙药，当它适合您的情况时就使用它。我将以MVVM设计模式为例，这是iOS项目中更常见的设计模式——至少在过去的5年里。</p><p id="e861" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我想建立一个NewsViewController，这将是用户在应用程序启动时看到的第一个屏幕。NewsViewController需要知道用户的位置状态来根据用户位置处理新闻。因此，这个视图控制器有LocationAuthorizationHandler，它有一个视图模型，作为MVVM的一个特性，应该在所有业务逻辑中完成。</p><p id="a9a7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以制作一个如下的构建器模式。</p><figure class="lw lx ly lz gt jr"><div class="bz fp l di"><div class="ma mb l"/></div></figure><p id="13a8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们创建我们的构建器实例，并在AppDelegate中调用它的“makeNewsViewController”方法。</p><figure class="lw lx ly lz gt jr"><div class="bz fp l di"><div class="ma mb l"/></div></figure><figure class="lw lx ly lz gt jr"><div class="bz fp l di"><div class="mc mb l"/></div></figure><p id="4602" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这太酷了！由于构建器模式和注入依赖，您的代码非常整洁。你没有重复你自己，你分离了关注点，你也有了更多可测试的复杂对象。</p><p id="8089" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下期帖子再见！</p></div></div>    
</body>
</html>