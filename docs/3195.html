<html>
<head>
<title>Github: SAML Okta and Github Enterprise Cloud — Organization SSO configuration</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Github: SAML Okta和Github企业云—组织单点登录配置</h1>
<blockquote>原文：<a href="https://itnext.io/github-saml-okta-and-github-enterprise-cloud-organization-sso-configurartion-f09f2727196d?source=collection_archive---------7-----------------------#2019-10-21">https://itnext.io/github-saml-okta-and-github-enterprise-cloud-organization-sso-configurartion-f09f2727196d?source=collection_archive---------7-----------------------#2019-10-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/321b97c294bb96923635b7e4f5ac58f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:260/format:webp/0*XyAk_DmcwUrySv2p.jpg"/></div></figure><p id="6e42" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">作为SSO、Okta和SAML的后续。</p><p id="4b21" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们已经为我们的Jenkins做了一切(参见<a class="ae ks" href="https://rtfm.co.ua/en/jenkins-saml-okta-users-groups-and-role-based-security-plugin/" rel="noopener ugc nofollow" target="_blank"> Jenkins: SAML、Okta、用户组和基于角色的安全插件帖子</a>)——现在是时候对我们的Github组织做同样的事情了。</p><p id="5b92" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这个想法与Jenkins的设置相同:在Github(我们的服务提供商，<em class="kt"> SP </em>)登录期间，将所有用户保留在Okta中——它必须要求我们的身份提供商，<em class="kt"> IDP </em>(本例中为Okta)使用SAML对该用户进行身份验证。</p><p id="6e2d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们使用<a class="ae ks" href="https://www.okta.com/integrations/github-enterprise-cloud-organization/" rel="noopener ugc nofollow" target="_blank"> Okta Github企业云—组织</a>应用程序。</p><p id="f59e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">文档:</p><ul class=""><li id="009c" class="ku kv iq jw b jx jy kb kc kf kw kj kx kn ky kr kz la lb lc bi translated"><a class="ae ks" href="https://saml-doc.okta.com/SAML_Docs/How-to-Configure-SAML-2.0-for-Github-com.html" rel="noopener ugc nofollow" target="_blank">如何为GitHub企业云—组织配置SAML 2.0</a></li><li id="396f" class="ku kv iq jw b jx ld kb le kf lf kj lg kn lh kr kz la lb lc bi translated"><a class="ae ks" href="https://help.github.com/en/github/authenticating-to-github/about-authentication-with-saml-single-sign-on" rel="noopener ugc nofollow" target="_blank">关于SAML单点登录认证</a></li></ul><p id="039b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我还没有找到如何实现从Okta用户帐户到Github的分组，但我相信这是可以做到的。</p><h2 id="4aad" class="li lj iq bd lk ll lm dn ln lo lp dp lq kf lr ls lt kj lu lv lw kn lx ly lz ma bi translated">试用Github企业云—组织</h2><p id="5bf1" class="pw-post-body-paragraph ju jv iq jw b jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr ij bi translated">为了能够在Github的组织中使用SAML，需要拥有<a class="ae ks" href="https://help.github.com/articles/githubs-products" rel="noopener ugc nofollow" target="_blank"> Github企业云—组织</a>。</p><p id="99c0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">去你的Github的组织，<em class="kt">设置&gt;安全</em>:</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi mg"><img src="../Images/f73e274bb4d76953f2e02e98fdf10b18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*yLScLHWUv8ezGgnN.png"/></div></div></figure><p id="c0c6" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在没有可用的SAML。</p><p id="bc14" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">出于测试目的，让我们用企业试用订阅创建一个新的Github组织。</p><p id="5f26" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">转到<a class="ae ks" href="https://github.com/enterprise" rel="noopener ugc nofollow" target="_blank"> GitHub企业云</a>:</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi mp"><img src="../Images/e69d90dffd84aee26a0f711a91a56b35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tMS-m5a4iXyiGDUO.png"/></div></div></figure><p id="4232" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">点击试用，创建新组织:</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/51ebbe5d9359aa51740198e6aa87a491.png" data-original-src="https://miro.medium.com/v2/resize:fit:1188/format:webp/0*ca_WH8KPCK3wqN7E.png"/></div></figure><p id="47cf" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">可以从这里添加用户:</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/d0d00625c7b68ce621f2b4188a59c6f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/format:webp/0*Rj1I1guEvVedSec9.png"/></div></figure><p id="c337" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在，我的用户(在组织创建期间使用)可以访问三个组织——工作、RTFM和刚刚创建的测试:</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi ms"><img src="../Images/1b7c06b8c896dd4ef52c928acafe3260.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*vB6c6t3U3qs1LnC5.png"/></div></div></figure><p id="3e24" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在，转到组织创建的<em class="kt">设置—安全性，</em>您可以看到现在SAML在此处可用:</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi mt"><img src="../Images/ee7ce7acc6f32e8c1cd2d598c536e73d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cHhyrK7C-DLtH2Lu.png"/></div></div></figure><h2 id="6af0" class="li lj iq bd lk ll lm dn ln lo lp dp lq kf lr ls lt kj lu lv lw kn lx ly lz ma bi translated">Okta SAML — Github企业云—组织配置</h2><p id="1ca2" class="pw-post-body-paragraph ju jv iq jw b jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr ij bi translated">进入Okta <em class="kt"> —应用—添加应用</em>，找到<em class="kt"> Github企业云—组织</em>:</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/75014793297dbdf7f79fc9104bebd2d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/0*foGoZZkcxaTpl43V.png"/></div></figure><p id="4f85" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在与Github相同的视图中设置组织名称:</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/e585246150c287833b3decd627f7dcfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/0*yG4PiP0i50qv_aEn.png"/></div></figure><p id="4812" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">转到标签上的<em class="kt">标志:</em></p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi mv"><img src="../Images/86e84ab47cbd387c91f8f05e8b781040.png" data-original-src="https://miro.medium.com/v2/resize:fit:1362/format:webp/0*EhR4oa01JKan_Yjx.png"/></div></div></figure><p id="d3f5" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">点击<em class="kt">查看设置说明</em> —您将被重定向到一个页面，该页面已经为您的SAML定义了设置:</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi mw"><img src="../Images/331520c70f44e42ccf9b31f51500c60f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*QhzRCC6WSCTdECZ3.png"/></div></div></figure><h2 id="74be" class="li lj iq bd lk ll lm dn ln lo lp dp lq kf lr ls lt kj lu lv lw kn lx ly lz ma bi translated">Github组织中的SAML配置</h2><p id="3312" class="pw-post-body-paragraph ju jv iq jw b jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr ij bi translated">转到Github，点击<em class="kt"> Enable SAML authentication </em>，用来自<em class="kt">查看设置说明</em>页面的数据填充字段，这里有三个字段需要复制粘贴:</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi mw"><img src="../Images/1d3efe933780b6cb4a07ac70ca6c9bf6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*WgfBV8_onCSzvI7x.png"/></div></div></figure><p id="159e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">回到Okta中的Github应用程序，切换到<em class="kt">分配</em>选项卡，分配一个用户:</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/0f5eb986d1e0196cba429d5976884607.png" data-original-src="https://miro.medium.com/v2/resize:fit:1368/format:webp/0*sBBiqbcpS6s9TkEp.png"/></div></figure><p id="925f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在Github中，单击<em class="kt">测试SAML配置</em> —您将被重定向到Okta进行身份验证:</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi my"><img src="../Images/45fe5cddcbbdedac494b529b9cba53bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:956/format:webp/0*JMUXL7M-h1T8gCAw.png"/></div></figure><p id="bca4" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">使用<em class="kt">测试</em>用户登录—测试通过:</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi mz"><img src="../Images/0246cf2d5c8fab2a006bb6770094a436.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ZZr2rD5I1i4kDJ9W.png"/></div></div></figure><p id="6d69" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">不要忘记按下底部的<em class="kt">保存</em>。</p><h2 id="a2e0" class="li lj iq bd lk ll lm dn ln lo lp dp lq kf lr ls lt kj lu lv lw kn lx ly lz ma bi translated">SAML检查</h2><p id="7ce3" class="pw-post-body-paragraph ju jv iq jw b jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr ij bi translated">查找您的单点登录URL:</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi na"><img src="../Images/5fc2ab7e21b370d8d93cc64965cc3767.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Oj_9HFLpgNJnGzXu.png"/></div></div></figure><p id="c58a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">隐姓埋名地打开它:</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi nb"><img src="../Images/d8601e08f15a9d0213a95c2897385ea5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*nGynvBUfR6HwBM63.png"/></div></div></figure><p id="f311" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">点击<em class="kt">继续</em>按钮—必须重定向到Okta:</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/bdb98c9aa86c1020516f45a3cabb18b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/0*cMw-F4Zb-0ZW_-UL.png"/></div></figure><p id="bffc" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在这里你可以创建一个新的Github用户——或者用一个已经存在的用户登录。</p><p id="f497" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在任何情况下— Okta将使用Just In Time ( <em class="kt"> JIT </em>)供应将该用户添加到Github的组织中:</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi nd"><img src="../Images/499a288d940fa71d44740a9587df3ebc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KPBIaUokR22XdQQY.png"/></div></div></figure><p id="a78f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">登录:</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/a5d2408354e301e410e2250c4eeafca4.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/format:webp/0*WTU32_SvcktuemA5.png"/></div></figure><p id="4bee" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在，您可以看到该组织的数据:</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi nf"><img src="../Images/b0ea151738cdb85d876525145ac45f8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8hY8PNpQYiJxu85G.png"/></div></div></figure><p id="2ef7" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">完成了。</p></div><div class="ab cl ng nh hu ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ij ik il im in"><p id="5407" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="kt">最初发表于</em> <a class="ae ks" href="https://rtfm.co.ua/en/github-saml-okta-and-github-enterprise-cloud-organization-sso-configurartion/" rel="noopener ugc nofollow" target="_blank"> <em class="kt"> RTFM: Linux、DevOps和系统管理</em> </a> <em class="kt">。</em></p></div></div>    
</body>
</html>