<html>
<head>
<title>Do you really need microservices?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">真的需要微服务吗？</h1>
<blockquote>原文：<a href="https://itnext.io/do-you-really-need-microservices-e85d7711c78b?source=collection_archive---------3-----------------------#2019-07-01">https://itnext.io/do-you-really-need-microservices-e85d7711c78b?source=collection_archive---------3-----------------------#2019-07-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/82adeddbb7686aa3fb0d740f184d4b3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6VuMyWZXvEm-4JS24ocTAQ.jpeg"/></div></div></figure><p id="c477" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">十多年来，我们一直在<a class="ae kw" href="https://www.browserlondon.com/services/design-development/" rel="noopener ugc nofollow" target="_blank">设计和构建</a>软件，其中大部分时间我们都在使用出色的Symfony框架。Symfony是一个传统的整体PHP组件集，大致受Java Spring的启发，我们发现它非常适合我们赖以生存的<a class="ae kw" href="https://www.browserlondon.com/case-study/insights/" rel="noopener ugc nofollow" target="_blank">企业web应用</a>和<a class="ae kw" href="https://www.browserlondon.com/case-study/twine/" rel="noopener ugc nofollow" target="_blank">数字产品</a>的快速开发。</p><p id="b475" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然而，去年Symfony 4的发布代表了框架焦点的逐渐变化；远离其单一的基础，走向<a class="ae kw" href="https://en.wikipedia.org/wiki/Microservices" rel="noopener ugc nofollow" target="_blank">微服务方法</a>，这是一种在过去几年中日益流行的方法。</p><p id="13c9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了说明这一转变，新版本被宣传为“默认为微”，Symfony基金会大谈其新的<a class="ae kw" href="https://en.wikipedia.org/wiki/Microkernel" rel="noopener ugc nofollow" target="_blank">微内核</a>设计，声称与Symfony 3相比，启动应用程序所需的代码减少了70%。</p><p id="63bb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">除其他优势外，这一变化意味着运行单个应用程序的开销要小得多，这使得Symfony在微服务架构中的使用更具吸引力。</p><h1 id="d2ed" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">什么是单片和微服务？</h1><p id="2868" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">微服务设计的概念是将传统的大型应用程序分割成几个不同的小型应用程序。每个应用程序都将处理单一领域的业务功能，并与其他组件协作，就像它们是第三方应用程序一样。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ma"><img src="../Images/fe04baa513b8d5f2af76f2e9a1ab310f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*C87oUwGUqX4txRST.png"/></div></div></figure><p id="5935" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，这真的是一个新事物吗，或者这仅仅是<a class="ae kw" href="https://en.wikipedia.org/wiki/Service-oriented_architecture" rel="noopener ugc nofollow" target="_blank">面向服务的架构</a>的一个现代名称？好吧，我们不打算在这里讨论这个问题——毕竟，Slashdot和Hacker News可以很好地处理这个问题。我们要说的是，微服务方法(或者你想叫它什么)主要对大组织有益。这是因为非常大的应用程序可以分解成几个不同的服务，每个服务由他们自己独立的开发团队管理。</p><p id="c885" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">微服务架构的另一个好处是允许灵活扩展一个特定组件的容量，而不是整个应用程序。这非常适合弹性云计算的世界，但是在大多数情况下，我认为这种效率的提高被一个大的、突出的问题淹没了。</p><h1 id="ea4e" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">真的需要微服务吗？</h1><p id="d937" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">我的观点是，除非你为谷歌或网飞这样有数百名软件开发人员的公司工作，否则你可能不需要微服务。事实上，对于大多数中小型企业来说，采用这种设计路线可能是非常不合适的。</p><p id="6585" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我将谈到一些例外情况，但是最大的问题是这种方法的开发和维护成本。我们可以通过一个简单的问题大致确定微服务是否应该成为您的起点:</p><blockquote class="mf mg mh"><p id="1937" class="jy jz mi ka b kb kc kd ke kf kg kh ki mj kk kl km mk ko kp kq ml ks kt ku kv ij bi translated"><em class="iq">‘你的系统的一个单独的组件，比如用户管理，大到需要一个以上的开发人员全职不断开发吗？’</em></p></blockquote><p id="3cf8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果答案是否定的，微服务的方法可能是浪费时间和金钱。相反，如果你足够幸运，以后达到了那个规模，你可能有能力慢慢地把那些需要个人关注的部分分开。</p><h1 id="1fed" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">为什么微服务的开发和管理成本更高？</h1><p id="f797" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">单片应用程序通常是一个便宜得多的提议，因为你不需要处理大量的分布式系统问题。使用Symfony这样的框架的Monoliths提供了许多好处，它提供了开箱即用的集成特性，可以很容易地从应用程序的各个方面进行访问。您可以在很大程度上避免处理以下问题:</p><ul class=""><li id="e6aa" class="mm mn iq ka b kb kc kf kg kj mo kn mp kr mq kv mr ms mt mu bi translated">分布式系统上的认证和授权。</li><li id="5d8c" class="mm mn iq ka b kb mv kf mw kj mx kn my kr mz kv mr ms mt mu bi translated">通过多个独立的系统跟踪复杂的交易问题。</li><li id="4ea9" class="mm mn iq ka b kb mv kf mw kj mx kn my kr mz kv mr ms mt mu bi translated">分布式锁定。</li><li id="2212" class="mm mn iq ka b kb mv kf mw kj mx kn my kr mz kv mr ms mt mu bi translated">服务之间的通信。</li><li id="b131" class="mm mn iq ka b kb mv kf mw kj mx kn my kr mz kv mr ms mt mu bi translated">针对多个应用程序的附加配置管理。</li></ul><h1 id="c036" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">规则的例外(也称为混合方法)</h1><p id="97ed" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">有些时候微服务是合适的，但根据我的经验，这些情况下扩展需求或容错需求超过了必须设计和管理分布式系统的缺点。一个很好的例子是像<a class="ae kw" href="https://monzo.com/blog/2016/09/19/building-a-modern-bank-backend/" rel="noopener ugc nofollow" target="_blank"> Monzo Bank </a>这样的企业，他们需要能够立即根据需求进行扩展，并且能够确保系统中一个领域的故障不会影响到另一个领域。</p><p id="6ff7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们在Browser重复了几次的一个好方法是采用混合方法进行系统设计。这涉及到一个由支持微服务包围的中心整体，但只有在有充分理由让它们存在的地方。例如，当<a class="ae kw" href="https://www.browserlondon.com/blog/2019/04/08/textrazor-nlp-ai-save-client-money-time/" rel="noopener ugc nofollow" target="_blank">将NLP处理集成到应用</a>中时，我们最近使用了这种方法。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ma"><img src="../Images/8da5375212c758483de94c43ef5fc2eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uSm9RVOksGNlvWHo.png"/></div></div></figure><p id="e855" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们已经构建了几个系统，其中核心业务应用构建为一个整体(通常在Symfony中),繁重的数据处理由单独的微服务管道处理。这不仅使我们能够在不影响核心应用性能的情况下处理海量数据，而且我们可以在需要时将这些组件脱机，而不会影响平台的日常运营。</p><p id="bef3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一个经过深思熟虑的方法——最好是对规模和未来发展需求有一个清晰的理解——对于架构决策是至关重要的。你想快速上市吗？要不要支持几百万用户？你需要<a class="ae kw" href="https://www.browserlondon.com/blog/2017/07/13/divide-conquer-manage-multiple-data-streams/" rel="noopener ugc nofollow" target="_blank">处理大量的数据流吗</a>？</p><p id="6a10" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在早期做出正确的决定会让你的产品有最大的机会在最短的时间内提供投资回报，而不排除你将来想要探索的选择。稍后计划将组件分离到微服务中通常比在最初的MVP开发中更具成本效益。</p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h2 id="c403" class="nh ky iq bd kz ni nj dn ld nk nl dp lh kj nm nn ll kn no np lp kr nq nr lt ns bi translated">关于浏览器</h2><p id="a621" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">我们为更好、更高效的工作场所创建企业网络应用。我们已经帮助壳牌、英国航空公司和英国政府等客户提高效率，简化业务。访问我们在<a class="ae kw" href="http://www.browserlondon.com" rel="noopener ugc nofollow" target="_blank">浏览器伦敦</a>。</p><p id="ef93" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="mi">原载于2019年7月1日</em><a class="ae kw" href="https://www.browserlondon.com/blog/2019/07/01/do-you-need-microservices/" rel="noopener ugc nofollow" target="_blank"><em class="mi">https://www.browserlondon.com</em></a><em class="mi">。</em></p></div></div>    
</body>
</html>