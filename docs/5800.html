<html>
<head>
<title>Using Kepler GL to Visualise over 35,000 Earthquakes near Christchurch, New Zealand</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用开普勒GL观测新西兰克赖斯特彻奇附近的35，000多次地震</h1>
<blockquote>原文：<a href="https://itnext.io/using-kepler-gl-to-visualise-over-35-000-earthquakes-near-christchurch-new-zealand-d207a760e000?source=collection_archive---------5-----------------------#2021-05-27">https://itnext.io/using-kepler-gl-to-visualise-over-35-000-earthquakes-near-christchurch-new-zealand-d207a760e000?source=collection_archive---------5-----------------------#2021-05-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="59dc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一个循序渐进的教程，展示了我如何使用开普勒GL来可视化在新西兰克赖斯特彻奇或其周围14年左右的时间里发生的35，000次地震。</p><p id="4361" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">开普勒。<em class="kl"> gl </em>是一款数据不可知、支持WebGL的高性能web应用，用于地理空间分析可视化。”。对我来说，这是一种以独特或有趣的方式查看数据的方式，这引起了我的注意。所以我坐下来玩了一个晚上，看看我是否能想象新西兰的地震——特别是过去10年里坎特伯雷的克赖斯特彻奇和凯库拉。对于那些不知道的人，<a class="ae km" href="https://en.wikipedia.org/wiki/2011_Christchurch_earthquake" rel="noopener ugc nofollow" target="_blank">克赖斯特彻奇在2010-2011年</a>发生了一些毁灭性的地震，随后发生了数千次余震，而沿海的凯库拉在2016年也发生了自己的野蛮地震。</p><p id="4709" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">首先，科技:</strong></p><p id="103a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Kepler.gl使用Deck.gl构建，利用WebGL快速高效地渲染大型数据集。</p><p id="9de9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">—您可以轻松地拖放数据集、添加过滤器、应用比例以及动态聚合。</p><p id="fec3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Kepler.gl基于React &amp; Redux构建，可以嵌入到您自己的地图应用程序中。</p><p id="2d3b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">入门</strong></p><p id="bf8c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">数据，我们需要数据。为了获得所有的地震数据，<a class="ae km" href="https://geonet.org.nz/" rel="noopener ugc nofollow" target="_blank"> Geonet </a>是政府提供的地震数据源(以及火山警报和其他类似警报)。他们提供了一个<a class="ae km" href="https://quakesearch.geonet.org.nz/" rel="noopener ugc nofollow" target="_blank">地震搜索</a>，可以让你生成一个特定地区、特定时期以及该时期所有地震的CSV文件。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi kn"><img src="../Images/cb592118b32cea048d54f88c77fcf4d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Metx2l4rUCU9Bu_k8XaETA.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">使用地震搜索过滤坎特伯雷地震</figcaption></figure><p id="28e5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这提供了一个CSV文件的下载链接，其示例内容如下所示:</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi ld"><img src="../Images/187a79b3a01e54ee501896c4d1cc7fbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M3V6u9KFg4mUj_i1zPBZ_Q.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">这么多地震</figcaption></figure><p id="3af9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">上传数据</p><p id="e1d3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">点击开普勒上的“开始”会将你带到<a class="ae km" href="https://kepler.gl/demo" rel="noopener ugc nofollow" target="_blank">这个页面</a>，它允许你加载可视化数据。这是我们加载CSV文件的地方:</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi le"><img src="../Images/bd05469ccb6056183182033df1de319d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9Ao-fitr6sYyqH0qdLJonA.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">数据存取时间</figcaption></figure><p id="4a6c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请注意，这一切都发生在客户端——你的数据没有被共享——他们很小心地说“加载”而不是“上传”。</p><p id="fb31" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在它被载入了，你将会看到一张…加利福尼亚的地图。这有点烦人，直到你意识到数据并没有真正被使用，它只是被载入。为了做好准备，我们将地图移到新西兰，并将底图设置为卫星图，这样它就不只是一张深色地图了:</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi lf"><img src="../Images/620c005dc1fa18c036c6932382a5fc7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A4uapj-SeAM3MsdplojBBg.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">从太空监视霍比特人</figcaption></figure><p id="edc1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在layers选项卡下，我们可以看到csv文件已加载，有31k+行(想想看，每一行都是抖动！).</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi lg"><img src="../Images/9e44b1d77554df274975e39835d5e543.png" data-original-src="https://miro.medium.com/v2/resize:fit:694/format:webp/1*BhFZeo3BbI5v-hd0G2AW7A.png"/></div></figure><p id="3034" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">向上分层</strong></p><p id="65fb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这个阶段，我们有一个地图，我们已经加载了数据，现在我们需要地图上的数据。作为一层。所以我们点击“添加图层”，给它一个名字(“shakes”)，选择一个基本点类型。Kepler GL现在可以帮助您将csv文件中的字段映射到它们自己的纬度、经度和高度字段。csv文件中的字段显示方便:</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi lh"><img src="../Images/ba0d3568f24f5e349616f344cab47611.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*967PgrtiaVtjhTAxQGeHLg.png"/></div></figure><p id="49bb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">绕道而行。</strong></p><p id="e160" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这一点上，你可能会注意到其他基本类型，并希望发挥。例如，hex bins给我们提供了地震的即时热图:</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi li"><img src="../Images/b74a7d32b6974d4f7611364d68cf6f44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GIVm5QspOmUkG7PsZaS98Q.png"/></div></div></figure><p id="9719" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是我们将坚持使用基本的点类型。值得注意的是，当我们看上面的图片时，它看起来像一些边界的硬线，但这是因为从Geonet我只要求坎特伯雷的地震，所以它们停在奥塔哥，西海岸，马尔伯勒等的边界。看到它们能在多远的海上被探测到也很酷！</p><p id="49d6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">回到要点，看起来简单一点:</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi lj"><img src="../Images/097889f256fc5e7983379ebb26adb964.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AiIO0AUyAuCB-KHmnwYRhA.png"/></div></div></figure><p id="2f4f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">时间到了！</strong></p><p id="9d46" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">太好了！但是这并没有真正告诉我们它是什么时候发生的，只是…在哪里发生的。所以我们需要时间。这就是“过滤器”的用武之地。在“过滤器”下添加一个过滤器，选择“起始时间”,然后……哇，现在我们有一个时间线了！</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi lk"><img src="../Images/a81a3552c7b0dffde822ea0395c002ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SyyRh7BlXezI-UcKuw9WQQ.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">即使在这一点上，这两个大事件在时间轴上非常明显</figcaption></figure><p id="aa82" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可以清楚地看到主要事件的时间顺序，随着时间的推移余震逐渐减弱。</p><p id="ea2b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">穿越时间</strong></p><p id="f814" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这很棒，如果你看时间线，你可以看到两个条形。您可以移动它们来设置时间窗宽度:</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi ll"><img src="../Images/9b7332479bccad889409ee7793334c7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vKOPPnkurd4p_t4MqFid8Q.png"/></div></div></figure><p id="0625" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后点击播放，看看它的动画播放时间！</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi lm"><img src="../Images/9f5ad796f71acb55e70449468a15f440.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*du8dwKzQJ3899ZYjnQn-jg.gif"/></div></div></figure><p id="1901" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">很酷，但是很难区分地震。哪一次是九月的“大”地震？凯库拉游泳从哪里开始？</p><p id="68d4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">基于幅度的着色</strong></p><p id="c417" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这就是点的自定义特性发挥作用的地方。您可以指定要基于某个场改变的颜色—为此，我将选择“幅度”,并基于该场调整半径，尽管由于种类繁多(一些“大”抖动太深而无法感觉)，我将在此使用magnitude类型:</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi ln"><img src="../Images/755a39a204e39f2a887e09a76e631977.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/1*DtPMFlt3y2SJ3tlgvze7Hg.png"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">哦，颜色！</figcaption></figure><p id="e940" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">是时候再次点击play并看看它看起来怎么样了！</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi lm"><img src="../Images/be852bb601559a0980cbd99453269e6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*4FbBQKsFORaIYK836pAl-g.gif"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">动画，带有颜色和相对半径调整</figcaption></figure><p id="eb85" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们有了。整个过程花了我几个小时，因为我在玩所有的设置和写这个。但是，如果你知道你在做什么，你可以在5分钟内将10年的地震数据制作成动画，而且做起来很棒！</p><p id="73d5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">最终想法</strong></p><p id="8476" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一个强大的平台，我才刚刚开始使用，但美丽的数据有太多的机会轻松清晰地显示大量信息。例如，看看英格兰和威尔士通勤的弧形图:</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi lo"><img src="../Images/3f2b5843b68552085f97564bb0e9e3cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HfCDvrzET4qKdG0EOQV-pg.png"/></div></div></figure><p id="a6d8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你的城市/城镇的议会像我的一样，他们可能有一些公共数据就在那里，等待被可视化。为什么现在不试一试呢？</p><p id="9266" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">注:作者与开普勒GL或GeoNet没有关联，但确实非常欣赏它们的内容。</em></p></div></div>    
</body>
</html>