<html>
<head>
<title>What’s new in upcoming Kubernetes 1.14 and Rook EdgeFS 1.0?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">即将到来的Kubernetes 1.14和Rook EdgeFS 1.0有什么新内容？</h1>
<blockquote>原文：<a href="https://itnext.io/whats-new-in-upcoming-kubernetes-1-14-and-rook-edgefs-1-0-7aa1865e018a?source=collection_archive---------4-----------------------#2019-03-07">https://itnext.io/whats-new-in-upcoming-kubernetes-1-14-and-rook-edgefs-1-0-7aa1865e018a?source=collection_archive---------4-----------------------#2019-03-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="daab" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Kuberentes 1.14现在处于功能冻结阶段。由于Kubernetes发布了流程透明度，我们可以预览<a class="ae ko" href="https://docs.google.com/spreadsheets/d/116X6E-lmDJG5UZPlqDAFw8hN9vS6SNY4qRNZ9fKtsMU/edit#gid=0" rel="noopener ugc nofollow" target="_blank">即将到来的</a>。</p><p id="c481" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我从我的角度给你一个简短的总结，什么是酷和重要的。</p><h2 id="8229" class="kp kq it bd kr ks kt dn ku kv kw dp kx kb ky kz la kf lb lc ld kj le lf lg lh bi translated">支持Windows Server工作节点</h2><p id="8299" class="pw-post-body-paragraph jq jr it js b jt li jv jw jx lj jz ka kb lk kd ke kf ll kh ki kj lm kl km kn im bi translated">这项工作从1.5版本开始，我可以看到它将在1.14中逐渐稳定下来。有了这个稳定的，现在可以配置双Linux + Windows集群，其中一些节点将被指定运行Windows应用程序，由Kubernetes 协调<a class="ae ko" href="https://github.com/kubernetes/website/blob/264f4ed83ceb4338c73743be19ba3612c5c82017/content/en/docs/getting-started-guides/windows/_index.md" rel="noopener ugc nofollow" target="_blank">。EdgeFS提供了出色的横向扩展iSCSI数据块支持，有了它，Kubernetes CSI provisioner现在可以为Windows pods协调iSCSI数据块设备分配。感兴趣吗？现在把手弄脏...:)</a></p><h2 id="9567" class="kp kq it bd kr ks kt dn ku kv kw dp kx kb ky kz la kf lb lc ld kj le lf lg lh bi translated">永久本地卷现在稳定</h2><p id="44b6" class="pw-post-body-paragraph jq jr it js b jt li jv jw jx lj jz ka kb lk kd ke kf ll kh ki kj lm kl km kn im bi translated">这项工作从1.8版本开始，现在的目标是在1.14中正式发布。借助该功能，Kubernetes用户可以轻松地将本地可用存储配置到pod的容器中，从而简化分布式高性能和低延迟集群(如<a class="ae ko" href="http://edgefs.io" rel="noopener ugc nofollow" target="_blank"> EdgeFS </a>)的配置。特别是，对<a class="ae ko" href="https://github.com/kubernetes/enhancements/blob/master/keps/sig-storage/20190124-local-persistent-volumes.md#block-devices-and-raw-partitions" rel="noopener ugc nofollow" target="_blank">可发现的原始块</a>特性的支持是Rook运营商将受益的事情，现在它已经升级到稳定，这应该不会花很长时间！</p><h2 id="6a5b" class="kp kq it bd kr ks kt dn ku kv kw dp kx kb ky kz la kf lb lc ld kj le lf lg lh bi translated">CSI拓扑支持</h2><p id="1b91" class="pw-post-body-paragraph jq jr it js b jt li jv jw jx lj jz ka kb lk kd ke kf ll kh ki kj lm kl km kn im bi translated">这个特性<a class="ae ko" href="https://github.com/kubernetes/community/blob/master/contributors/design-proposals/storage/container-storage-interface.md#topology-representation-in-node-objects" rel="noopener ugc nofollow" target="_blank">升级到Beta版使得所有1.14用户都可以使用它，而不需要在kubeadm部署期间特别启用任何东西。借助该功能，即将推出的</a><a class="ae ko" href="https://github.com/Nexenta/edgefs-csi" rel="noopener ugc nofollow" target="_blank"> EdgeFS CSI Block插件</a>将能够通过在已配置的拓扑中平均分配I/O来提高多路径iSCSI、多头横向扩展NFS的性能和可用性。这是一个令人兴奋的发展，并期待看到行动！</p><h2 id="85e0" class="kp kq it bd kr ks kt dn ku kv kw dp kx kb ky kz la kf lb lc ld kj le lf lg lh bi translated">不需要PV/PVC的CSI临时本地卷</h2><p id="6219" class="pw-post-body-paragraph jq jr it js b jt li jv jw jx lj jz ka kb lk kd ke kf ll kh ki kj lm kl km kn im bi translated">这个特性将会在alpha版本中推出。本地临时卷是其生命周期与单个pod的生命周期相关联的卷。然而，每次需要时，都必须提供PV/PVC定义，这使得该功能的使用变得复杂。通过内联定义，pod的容器可以访问空的或预填充的临时卷，而不需要PV/PVC。使用完全不可变的设计，可以通过CSI provisioner命令EdgeFS在几秒钟内创建一个非常大的数据集的服务器端临时克隆，从而以无状态的方式按需提供给pod。</p><h1 id="8476" class="ln kq it bd kr lo lp lq ku lr ls lt kx lu lv lw la lx ly lz ld ma mb mc lg md bi translated">Rook EdgeFS 1.0功能预览</h1><p id="8e4e" class="pw-post-body-paragraph jq jr it js b jt li jv jw jx lj jz ka kb lk kd ke kf ll kh ki kj lm kl km kn im bi translated">什么是EdgeFS？这是CNCF鲁克项目的一个新的存储提供商，你可以在https://rook.io/docs/rook/master/edgefs-storage.html的<a class="ae ko" href="https://rook.io/docs/rook/master/edgefs-storage.html" rel="noopener ugc nofollow" target="_blank">了解更多信息。</a></p><p id="4cb7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">EdgeFS的优势在于它能够将底层基础架构虚拟化为可扩展、高可用性的分布式存储系统。它的工作方式类似于“git ”,其中所有的修改都是全局不可变的、完全版本化的、自我验证的、分布式的，因此是容错的。因此，它支持对对象、文件和数据块常用存储协议的跨云和地理透明的高性能分布式访问。</p><p id="d3e3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我对Rook社区迄今为止在EdgeFS operator上取得的进展感到满意。</p><h2 id="a28a" class="kp kq it bd kr ks kt dn ku kv kw dp kx kb ky kz la kf lb lc ld kj le lf lg lh bi translated">网段间网关链接</h2><p id="b6e6" class="pw-post-body-paragraph jq jr it js b jt li jv jw jx lj jz ka kb lk kd ke kf ll kh ki kj lm kl km kn im bi translated"><a class="ae ko" href="https://rook.io/docs/rook/master/edgefs-isgw-crd.html" rel="noopener ugc nofollow" target="_blank"> EdgeFS段间网关链接</a>是EdgeFS跨站点、跨云全局名称空间同步功能的构建块。</p><p id="33bb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它异步分发已修改的数据块，并实现对文件、对象和块设备的无缝和地理上透明的访问。值得注意的是，文件或块设备由一个或多个对象组成，因此，在EdgeFS范围内，最终所有东西都是对象，全局不可变且自我验证。</p><p id="93ca" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">打个比方，EdgeFS对修改的全局不变性的概念非常类似于“git”对存储库提交和分支的操作方式。因此，这种技术使EdgeFS用户能够构建和操作广泛分布的全局名称空间，同时大大简化了管理开销。ISGW端点链接会立即注意到在设置了ISGW链接的源站点上修改的文件或对象，从而传播更改。最终，所有连接的站点都将收到文件修改，其中只传输修改过的数据块。</p><h2 id="7e25" class="kp kq it bd kr ks kt dn ku kv kw dp kx kb ky kz la kf lb lc ld kj le lf lg lh bi translated">普罗米修斯仪表板</h2><p id="3b97" class="pw-post-body-paragraph jq jr it js b jt li jv jw jx lj jz ka kb lk kd ke kf ll kh ki kj lm kl km kn im bi translated">现在<a class="ae ko" href="https://rook.io/docs/rook/master/edgefs-monitoring.html" rel="noopener ugc nofollow" target="_blank">为EdgeFS设置</a> Prometheus监控非常简单。它甚至能够聚合、呈现基于每个租户或每个服务的I/O指标、智能统计、故障计数器等。存储集群的可观察性和管理从未如此简单。</p><h2 id="bfe6" class="kp kq it bd kr ks kt dn ku kv kw dp kx kb ky kz la kf lb lc ld kj le lf lg lh bi translated">管理GUI</h2><p id="9aad" class="pw-post-body-paragraph jq jr it js b jt li jv jw jx lj jz ka kb lk kd ke kf ll kh ki kj lm kl km kn im bi translated">配置完成后，<a class="ae ko" href="https://rook.io/docs/rook/master/edgefs-ui.html" rel="noopener ugc nofollow" target="_blank">管理GUI </a>将在端口3000或3443上自动可用。现代化且直观的设计应能简化存储基础架构管理流程。它与Rook EdgeFS CRDs紧密集成，因此您无需手动编辑CRDs，它可以通过浏览器界面完成:</p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi me"><img src="../Images/71fd2eaa93c9e849e0806cb48048084c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MXKIbyqnYQ9mX-oSbshiyQ.png"/></div></div></figure><h2 id="560c" class="kp kq it bd kr ks kt dn ku kv kw dp kx kb ky kz la kf lb lc ld kj le lf lg lh bi translated">支持块CSI集成</h2><p id="89c4" class="pw-post-body-paragraph jq jr it js b jt li jv jw jx lj jz ka kb lk kd ke kf ll kh ki kj lm kl km kn im bi translated">这项工作<a class="ae ko" href="https://github.com/rook/rook/issues/2507" rel="noopener ugc nofollow" target="_blank">现在正在审查中</a>，用户将能够通过持久卷横向扩展iSCSI数据块接口协调pod的供应。这是对<a class="ae ko" href="https://github.com/Nexenta/edgefs-csi" rel="noopener ugc nofollow" target="_blank"> EdgeFS CSI块插件</a>的新添加，它完全支持CSI snapshotter，并将很快提供与Linux I/O多路径子系统的无缝集成。与EdgeFS中的任何其他逻辑构造一样，它的快照可以在MxN I/O网状拓扑中跨段间网关链路传输。也就是说，同步目的位置将自动接收它订阅的快照。我希望Crossplane、Federation v2、Kasten等多种云协调层能够从这项技术中受益，因为它将简化整体用户体验，并在许多地理上分散的站点之间提供急需的数据一致性。</p><h1 id="ae6b" class="ln kq it bd kr lo lp lq ku lr ls lt kx lu lv lw la lx ly lz ld ma mb mc lg md bi translated">摘要</h1><p id="d7ee" class="pw-post-body-paragraph jq jr it js b jt li jv jw jx lj jz ka kb lk kd ke kf ll kh ki kj lm kl km kn im bi translated">我希望我对未来的回顾是有用的。Kubernetes space即将推出一些令人兴奋的新功能，这些功能将释放构建跨云、跨站点全球命名空间作为软件定义的存储层的真正潜力。</p><p id="4f45" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">今天就加入我们的<a class="ae ko" href="http://rook.io" rel="noopener ugc nofollow" target="_blank"> Rook </a>和<a class="ae ko" href="http://edgefs.io" rel="noopener ugc nofollow" target="_blank"> EdgeFS </a>社区吧！</p></div></div>    
</body>
</html>