<html>
<head>
<title>Building An End-to-end Application with LoopBack &amp; React.js — Part 4: Build a simple React.js application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用LoopBack &amp; React.js构建端到端应用程序—第4部分:构建一个简单的React.js应用程序</h1>
<blockquote>原文：<a href="https://itnext.io/building-an-end-to-end-application-with-loopback-react-js-62b2315bda17?source=collection_archive---------3-----------------------#2021-09-29">https://itnext.io/building-an-end-to-end-application-with-loopback-react-js-62b2315bda17?source=collection_archive---------3-----------------------#2021-09-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/3054cac5048d3564db7554586fb04555.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5lLGYJXaxAKqdevef94-QQ.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">HalGatewood.com在<a class="ae kc" href="https://unsplash.com/s/photos/website?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae kc" href="https://unsplash.com/@halacious?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">的照片</a></figcaption></figure><p id="444e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我之前的博文中，我展示了如何创建与GitHub APIs交互的REST APIs。我们的API是通过指定GitHub repo和一个标签来返回一个开放问题列表。现在是时候创建一个前端应用程序来显示结果集，作为我们的第一个hello world端到端场景。我将使用<code class="fe lb lc ld le b"><a class="ae kc" href="https://www.npmjs.com/package/openapi-typescript-codegen" rel="noopener ugc nofollow" target="_blank">openapi-typescript-codegen</a></code>来生成将在React.js应用程序中使用的模型和服务。如果你不熟悉React.js，我建议你浏览一下<a class="ae kc" href="https://reactjs.org/docs/getting-started.html" rel="noopener ugc nofollow" target="_blank"> React.js入门页面</a>。</p><p id="ab4f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">以下是我对这个博客系列的GitHub回复:</p><ul class=""><li id="1c4a" class="lf lg iq kf b kg kh kk kl ko lh ks li kw lj la lk ll lm ln bi translated"><a class="ae kc" href="https://github.com/dhmlau/loopback4-example-github" rel="noopener ugc nofollow" target="_blank">loopback 4-example-GitHub</a>:loopback 4应用程序，它拥有调用GitHub APIs的REST APIs</li><li id="f887" class="lf lg iq kf b kg lo kk lp ko lq ks lr kw ls la lk ll lm ln bi translated"><a class="ae kc" href="https://github.com/dhmlau/loopback4-example-github-react" rel="noopener ugc nofollow" target="_blank">loopback 4-example-github-react</a>:调用REST APIs的React.js应用程序</li></ul><p id="0694" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lt">注:我不是React.js专家。我选择React.js只是因为我想学习这个UI框架，并分享我是如何做到的。如果你找到了更好的方法来创建/设计React.js应用程序，请在这里发表评论！</em></p></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h1 id="7083" class="mb mc iq bd md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my bi translated">对我们将要构建的应用程序做出反应</h1><p id="7b99" class="pw-post-body-paragraph kd ke iq kf b kg mz ki kj kk na km kn ko nb kq kr ks nc ku kv kw nd ky kz la ij bi translated">我们正在构建的前端应用程序非常简单。它将GitHub repo和一个标签作为输入，然后它将显示带有指定标签的所有未解决的问题。下面是它的样子:</p><figure class="nf ng nh ni gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ne"><img src="../Images/362c9d786e57b19ee1507ed1b33c1dd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wSBR-_YKDJK5OGKsXIL-kg.png"/></div></div></figure><p id="3d98" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们开始吧！</p></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h1 id="cf3f" class="mb mc iq bd md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my bi translated">环回应用程序的OpenAPI 3.0规范</h1><p id="238a" class="pw-post-body-paragraph kd ke iq kf b kg mz ki kj kk na km kn ko nb kq kr ks nc ku kv kw nd ky kz la ij bi translated">在开始创建React应用程序之前，让我们先来看看LoopBack应用程序的OpenAPI规范。通过运行<code class="fe lb lc ld le b">npm start</code>启动LoopBack应用程序，并在浏览器中转至<a class="ae kc" href="http://localhost:3000," rel="noopener ugc nofollow" target="_blank">http://localhost:3000/openapi . JSON</a>，您将看到该应用程序的open API规范。</p><p id="a25f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">保持应用程序运行，因为我们将需要这个OpenAPI规范用于React应用程序中的模型和服务生成。</p><p id="4de9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lt">提示:你不一定需要记住网址。你可以简单的进入</em><a class="ae kc" href="http://localhost:3000" rel="noopener ugc nofollow" target="_blank"><em class="lt">http://localhost:3000</em></a><em class="lt">，首页会显示2个链接——一个是API explorer，一个是OpenAPI spec。</em></p><h1 id="b3b4" class="mb mc iq bd md me nj mg mh mi nk mk ml mm nl mo mp mq nm ms mt mu nn mw mx my bi translated">创建React.js应用程序</h1><p id="2da0" class="pw-post-body-paragraph kd ke iq kf b kg mz ki kj kk na km kn ko nb kq kr ks nc ku kv kw nd ky kz la ij bi translated">假设您已经全局安装了<code class="fe lb lc ld le b">create-react-app</code> Node.js模块，您可以使用下面的命令创建一个React.js应用程序，其中<code class="fe lb lc ld le b">loopback4-example-github-react</code>是项目名称:</p><p id="4a95" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">npx create-react-app loopback4-example-github-react</code></p><h1 id="0f7f" class="mb mc iq bd md me nj mg mh mi nk mk ml mm nl mo mp mq nm ms mt mu nn mw mx my bi translated">在React.js应用程序中生成模型</h1><p id="b3dd" class="pw-post-body-paragraph kd ke iq kf b kg mz ki kj kk na km kn ko nb kq kr ks nc ku kv kw nd ky kz la ij bi translated">我们将使用<code class="fe lb lc ld le b"><a class="ae kc" href="https://www.npmjs.com/package/openapi-typescript-codegen" rel="noopener ugc nofollow" target="_blank">openapi-typescript-codegen</a></code>在React应用程序中生成模型和服务，因此我们将运行2个命令。</p><ul class=""><li id="843f" class="lf lg iq kf b kg kh kk kl ko lh ks li kw lj la lk ll lm ln bi translated">第一个命令是安装<code class="fe lb lc ld le b">openapi-typescript-codegen</code>作为React应用程序的开发依赖项。</li><li id="4464" class="lf lg iq kf b kg lo kk lp ko lq ks lr kw ls la lk ll lm ln bi translated">第二个命令是运行codegen命令，其中输入是我们前面检查过的OpenAPI规范，输出是React应用程序的<code class="fe lb lc ld le b">src</code>文件夹。</li></ul><pre class="nf ng nh ni gt no le np nq aw nr bi"><span id="4d0e" class="ns mc iq le b gy nt nu l nv nw">$ npm install openapi-typescript-codegen --save-dev<br/>$ npx openapi-typescript-codegen --input http://localhost:3000/openapi.json --output ./src/services/openapi</span></pre><p id="a7d6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">之后，你会看到在<code class="fe lb lc ld le b">src/services/openapi</code> — <code class="fe lb lc ld le b">core</code>、<code class="fe lb lc ld le b">models</code>和<code class="fe lb lc ld le b">services</code>下创建了3个文件夹。您的React组件将与这些模型和服务进行交互，以调用我们之前使用LoopBack创建的REST APIs。</p><h1 id="467e" class="mb mc iq bd md me nj mg mh mi nk mk ml mm nl mo mp mq nm ms mt mu nn mw mx my bi translated">创建React组件</h1><p id="7c1c" class="pw-post-body-paragraph kd ke iq kf b kg mz ki kj kk na km kn ko nb kq kr ks nc ku kv kw nd ky kz la ij bi translated">在本文的开头，它展示了React应用程序的样子。顶部有一个输入组件，接受GitHub repo名称和标签。在它下面，有一个结果表。</p><p id="f669" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将创建3个组件，如图所示。</p><figure class="nf ng nh ni gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nx"><img src="../Images/88e218ac708b4bc3502665d50919189a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dysKHVldnX7dMRfrvGJjIg.png"/></div></div></figure><p id="4be0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我不想详细介绍创建每个组件的细节，而是想把您指向<a class="ae kc" href="https://github.com/dhmlau/loopback4-example-github-react/tree/master/src/components" rel="noopener ugc nofollow" target="_blank">我的报告</a>的组件文件夹。毕竟不是React教程；-).</p><h1 id="3261" class="mb mc iq bd md me nj mg mh mi nk mk ml mm nl mo mp mq nm ms mt mu nn mw mx my bi translated">运行应用程序</h1><p id="5794" class="pw-post-body-paragraph kd ke iq kf b kg mz ki kj kk na km kn ko nb kq kr ks nc ku kv kw nd ky kz la ij bi translated">创建组件后，让我们试着运行它。在此之前，默认的端点基础url被设置为<code class="fe lb lc ld le b">http://localhost:3000</code>。如果REST APIs运行在不同的主机名或端口上，请确保更新了<a class="ae kc" href="https://github.com/dhmlau/loopback4-example-github-react/blob/master/src/services/openapi/core/OpenAPI.ts#L20" rel="noopener ugc nofollow" target="_blank"> OpenAPI.ts </a>中的<code class="fe lb lc ld le b">BASE</code>属性。</p><p id="13ad" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，确保环回应用程序正在运行，然后通过运行<code class="fe lb lc ld le b">npm start</code>命令启动React应用程序。</p><p id="3059" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">输入你感兴趣的GitHub回购，格式为<github org=""> %2F <github repo="">。<code class="fe lb lc ld le b">%2F</code>是<code class="fe lb lc ld le b">/</code>的html编码值。(将在下一次迭代中使其更加用户友好)。</github></github></p></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h1 id="5691" class="mb mc iq bd md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my bi translated">结论</h1><p id="488a" class="pw-post-body-paragraph kd ke iq kf b kg mz ki kj kk na km kn ko nb kq kr ks nc ku kv kw nd ky kz la ij bi translated">就是这个！在本文中，我们创建了一个React.js应用程序，它调用来自我们之前创建的回送应用程序的REST APIs。</p><ul class=""><li id="33cb" class="lf lg iq kf b kg kh kk kl ko lh ks li kw lj la lk ll lm ln bi translated"><a class="ae kc" href="https://mobilediana.medium.com/building-an-end-to-end-application-with-loopback-react-js-7a22d726c35d" rel="noopener">第1部分:为GitHub API创建数据源</a></li><li id="ec12" class="lf lg iq kf b kg lo kk lp ko lq ks lr kw ls la lk ll lm ln bi translated"><a class="ae kc" href="https://mobilediana.medium.com/building-an-end-to-end-application-with-loopback-react-js-part-2-creating-service-proxy-7ffac2bd7980" rel="noopener">第2部分:创建服务代理</a></li><li id="1dd6" class="lf lg iq kf b kg lo kk lp ko lq ks lr kw ls la lk ll lm ln bi translated"><a class="ae kc" href="https://mobilediana.medium.com/building-an-end-to-end-application-with-loopback-react-js-90cfd7a4813c" rel="noopener">第3部分:GitHub API结果中的分页</a></li></ul></div></div>    
</body>
</html>