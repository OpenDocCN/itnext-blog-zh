# 打开对“测试>类型”的响应

> 原文：<https://itnext.io/open-response-to-tests-types-71e6c88b344b?source=collection_archive---------1----------------------->

## TypeScript 相对于 JavaScript 的优势是显而易见的。

![](img/62175047e8307f4e1acf8fe58abaa280.png)

照片由[布伦丹·丘奇](https://unsplash.com/@bdchu614?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄

下面是我写给一个开发人员的回复，他对类型化和非类型化 JavaScript 应用程序(以及一般的静态和动态类型化语言)有一些大胆的主张。

虽然我不会试图重复开发人员的观点，但主要观点大致如下:

*   任何花在向 JavaScript 代码添加类型上的时间都不如花在编写测试上。
*   对于开发 JavaScript 应用程序来说，类型没有任何价值，除非通过其他方式才能更好地实现。
*   库作者和社区不会从为他们的库发布类型定义中受益。

我信的前两段直接提到了这篇文章，这篇文章证明了静态类型语言并不比动态语言优越。你可以在这里阅读文章:【https://danluu.com/empirical-pl/】。

我希望你会发现这个开放的回答很有见地或者很有帮助。我欢迎你的想法或回应！

# 嗨，

我花了一点时间通读了你发来的文章。作者写这篇文章是为了回应关于打字语言绝对优势的“强烈声明”。文章的主体只是回顾了作为这一主张的“证据”的每个例子，出于各种原因对每个例子进行了争论。

文章指出，静态类型语言与动态类型语言相比，没有足够的科学证据。从表面上接受这一点，结论是无论哪种方式都无法确定。最适合居住的位置是一种不可知的冷漠:“没有一个比另一个更好。”这完全符合我的立场——关于静态或动态语言优越性的绝对陈述是不合理的。

## 错误的二分法

像任何其他软件工程工具一样，类型有可能为我们的代码和开发/维护它的人增加价值。声称“类型不如测试”和“任何花在编写类型上的时间都应该花在更多的测试上”在两种更好地使用并被认为是相互协调的工具之间制造了一个错误的二分法。两者都有能力使我们的代码更容易理解、开发和维护。对于特定的项目和团队，知道如何/何时利用这两个工具(以及其他工具)来最大化这些效果，是一个优秀软件工程师的工作之一。

## 错误的高风险

虽然在静态语言和动态语言之间达成科学共识是不可能的，但我觉得这并不妨碍人们认识到类型化 JavaScript(尤其是 TypeScript)给 JavaScript 应用程序开发带来的价值。我写 JavaScript 已经很多年了，在大型部门和团队中构建大型应用程序。创建非常大的 JavaScript 应用程序是完全可能的。

然而，在错误投入生产之前捕捉所有错误(尤其是来自初级同事的错误)也极具挑战性。从历史上看，这种情况基本上是可以避免的——只不过是控制台某处的一个错误。然而，在 React 本机或服务器端 JavaScript 的世界中，一个错误意味着您的应用程序或服务器崩溃！防止这种情况发生应该是软件工程师的首要目标，实现这一目标需要专业知识和熟练利用工程师所掌握的每一种工具，包括测试和类型。

## TypeScript 让开源变得更好

展望未来，如果不利用或受益于 TypeScript，我再也不会编写另一个 JavaScript 应用程序。

首先，我将极大地受益于上帝的恩赐，那是我所有依赖关系的类型定义。这种简单、零成本的东西客观上让我的应用程序更好，让我的开发人员更有效率，不管我是否选择在自己的 JavaScript 代码中添加类型。

我的项目没有额外的成本，但好处包括更好的工具和防止所有类型的错误(这些错误很难或不可能通过编写测试来捕获，除非您计划从不嘲笑您的依赖项)。虽然作者或社区可能不得不为编写和维护这些类型付出代价，但整个世界会因为他们这样做而受益一百万倍。

我无法告诉你在我的职业生涯中，我浪费了多少时间翻阅文档(如果有的话)，找出函数的参数和返回值，并在运行时捕捉使用错误。完全消除这种努力(或者至少大大减少)是 TypeScript 带来的一份真正的礼物——而我总是选择利用这一点。

我打算向我的 JavaScript 代码的消费者提供类型，这样他们也能同样受益。无论这个消费者是在开源社区中，在我的团队中，还是在两年后调试我的代码的可怜灵魂——拥有类型对于理解、使用和更改大型不透明的 JavaScript 代码库有很大的帮助。

## 更平衡的立场

我希望你考虑采取新的立场:认识到类型化 JavaScript 给应用程序、团队和整个社区带来的真正好处，尤其是在早期错误检测、开发人员生产力和工具方面。考试是一把锤子，打字是一把螺丝刀——不是每个问题都是钉子，也不是每个问题都是螺丝钉——你需要把两种工具都放在腰带上。作为软件工程师，一个人需要知道他/她所掌握的每种工具的优缺点，包括在不同的项目/团队中何时/如何使用每种工具。

我希望你能仔细考虑选择类型化 JavaScript 能给你未来的项目带来的好处(和成本)。

圣经》和《古兰经》传统中）亚当（人类第一人的名字