<html>
<head>
<title>Still setting up local servers in 2021? Meet Docker.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">2021年还在设置本地服务器？见见码头工人。</h1>
<blockquote>原文：<a href="https://itnext.io/still-setting-up-local-servers-in-2021-meet-docker-c832d79c962?source=collection_archive---------1-----------------------#2021-01-22">https://itnext.io/still-setting-up-local-servers-in-2021-meet-docker-c832d79c962?source=collection_archive---------1-----------------------#2021-01-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="bf13" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">2021年，你还在使用XAMPP或其他本地网络服务器吗？继续读下去，找出为什么你现在应该停止这样做。有一种更好的方法来设置您的环境。这是前进的方向。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/91ea48f34950ac80290def8b0c254106.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OHTcNw50tddBUExCtpimGA.png"/></div></div></figure><p id="38ad" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本文中，我们将介绍Docker并展示如何为PHP设置Docker。虽然我们的示例展示了一个PHP服务器，但这种方法适用于大多数(如果不是所有)服务器，比如NodeJS、Java、C#等。</p><h1 id="ed48" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">我的本地web服务器有什么问题？</h1><p id="022d" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">当然，XAMPP或任何其他本地web服务器本身就是一个有用的工具箱，允许你在你的机器上轻松运行PHP服务器。虽然有多个问题，让我们看看下面。</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><ul class=""><li id="2b13" class="mk ml it js b jt ju jx jy kb mm kf mn kj mo kn mp mq mr ms bi translated">需要在每台机器上安装一个本地web服务器<strong class="js iu"/></li></ul><p id="f3d5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">没错，你必须<strong class="js iu">手动</strong>在<strong class="js iu">每台</strong>机器上安装你的本地网络服务器，而每台机器都应该有相同的配置。</p><ul class=""><li id="58ec" class="mk ml it js b jt ju jx jy kb mm kf mn kj mo kn mp mq mr ms bi translated">本地web服务器<strong class="js iu">只支持一个web服务器</strong>配置</li></ul><p id="9859" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你需要更多的配置，你必须安装和运行<strong class="js iu">多个本地web服务器配置和实例</strong>。考虑到这是一个手动设置，这一点都不好玩。</p><ul class=""><li id="79e2" class="mk ml it js b jt ju jx jy kb mm kf mn kj mo kn mp mq mr ms bi translated">本地服务器设置<strong class="js iu">没有保存在您的代码库中</strong></li></ul><p id="7f78" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">没错，如果你丢失了你的配置，你将不得不从头再来。</p><ul class=""><li id="c2a8" class="mk ml it js b jt ju jx jy kb mm kf mn kj mo kn mp mq mr ms bi translated"><strong class="js iu">手动数据库设置</strong></li></ul><p id="a320" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您是否正在将您的PHP应用程序安装到另一台服务器上？您还必须重新进行整个数据库的设置和准备。有更好的方法。</p><ul class=""><li id="6315" class="mk ml it js b jt ju jx jy kb mm kf mn kj mo kn mp mq mr ms bi translated"><strong class="js iu">手动升级</strong></li></ul><p id="fd11" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本地web服务器上升级PHP版本是一项人工工作。这能不更快吗？</p><ul class=""><li id="f7e4" class="mk ml it js b jt ju jx jy kb mm kf mn kj mo kn mp mq mr ms bi translated">对于本地服务器，<strong class="js iu">新开发人员需要向</strong>询问设置或阅读文档</li></ul><p id="2fb0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">难道不应该有一种只需点击一下就能在本地设置环境的方法，从而为每个人节省时间吗？</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><p id="4993" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所有这些问题都有解决方案。那是码头集装箱。</p><p id="21e7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果您正在处理小型原型，并且这些问题似乎都不可识别，那么您在本地服务器设置上工作会更好。如果没有，请继续阅读，了解我们如何一起解决这些问题并继续前进。</p><h1 id="5e17" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">Docker是什么？它是做什么的？</h1><p id="60a4" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">Docker允许您以一致的方式运行您的应用程序。配置一次，随时随地运行。开发人员编写简单的配置文件，指导Docker如何启动应用程序。在幕后，Docker旋转虚拟容器，这是可以在你的机器上独立运行的轻量级软件镜像。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mu"><img src="../Images/80131529759d4dfa76ecaef02ca178a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K7dupBkkceREPzSfybANPw.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk translated">典型的Docker配置文件</figcaption></figure><p id="fe4b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这些配置文件被提交到代码库中。新开发人员只需克隆存储库并运行Docker。瞧，服务器会自动启动，并带有所有必需的依赖项。</p><p id="388c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您还记得必须运行composer install、在本地设置数据库、填充表、设置配置文件等等吗？那都是过去的事了。</p><p id="3bb8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">相反，我们可以在Docker中编写一个脚本，首先安装所需的composer依赖项，运行MySQL服务器，自动插入来自预先存在的SQL文件的数据库数据，最后运行PHP服务器。只需一次简单的点击，这一切就能完成。新开发人员甚至不需要知道它是如何运行的，它就是工作。我们将在本文的下一节讨论这个问题。</p><p id="38b1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Docker容器本身于2013年出现，但在实践中，有很多开发人员还不知道如何使用它们。让我们在2021年左右改变这种情况，并为正确的应用程序设置欢呼吧！虽然Docker配置会占用一些时间，但从长远来看，在许多情况下这是值得的。设置Docker配置也非常有趣。令人高兴的是，看到它们运行起来是多么容易，以及将来您将节省多少时间。在科技界，效率是王道。</p><h1 id="5573" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">Docker图像</h1><p id="63cf" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">首先，我们需要了解<em class="mt">图片</em>的概念。Docker与软件的<em class="mt">映像</em>一起工作，这些映像与<em class="mt">虚拟机映像</em>类似，但不包含完整的操作系统(占用空间，使其与轻量级相反)，映像只包含软件。</p><p id="10f5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae mz" href="https://hub.docker.com/" rel="noopener ugc nofollow" target="_blank"> <em class="mt"> Docker Hub </em> </a>包含了很多免费使用的镜像，比如php服务器等等。如果我们要搜索<a class="ae mz" href="https://hub.docker.com/_/php" rel="noopener ugc nofollow" target="_blank"> <em class="mt"> php </em> </a>，我们会发现很多不同的php图片可以使用，比如<em class="mt"> php-8-alpine </em>(是PHP 8的轻量级版本)<em class="mt"> </em>等等。</p><p id="0d97" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所有这些图像都可以在您的配置中使用。设置一个php-8和mysql服务器？在您的配置中使用这两个映像。想用php-7测试你的应用程序吗？只需在配置文件中切换php版本，真的很简单。</p><p id="5a7e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">既然你已经理解了我们为什么需要Docker，它是做什么的，它是如何工作的，让我们直接进入代码吧！</p><h1 id="782e" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">Docker配置文件的类型</h1><p id="94dd" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">Docker通常有三个配置文件。让我们回顾一下这些是如何工作的。</p><ul class=""><li id="57bd" class="mk ml it js b jt ju jx jy kb mm kf mn kj mo kn mp mq mr ms bi translated">docker-compose.yml</li><li id="831d" class="mk ml it js b jt na jx nb kb nc kf nd kj ne kn mp mq mr ms bi translated">Dockerfile文件</li><li id="b6c4" class="mk ml it js b jt na jx nb kb nc kf nd kj ne kn mp mq mr ms bi translated">。dockerignore</li></ul><h2 id="4b00" class="nf lb it bd lc ng nh dn lg ni nj dp lk kb nk nl lo kf nm nn ls kj no np lw nq bi translated">docker-compose.yml</h2><p id="2212" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">这个文件指示Docker，哪些服务需要运行，以及如何运行。例如，如果我们需要一个PHP和MySQL服务器，我们需要定义一个名为<em class="mt"> php </em>的服务和另一个名为<em class="mt"> mysql </em>的服务。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nr"><img src="../Images/96a97a28715e020ec38087eea6e295a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P8w_P4w5p2EgtdCLln9vZA.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk translated">docker-compose.yml文件示例</figcaption></figure><p id="0afa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后，我们可以配置一些运行选项。如果服务关闭，是否应该重新启动？它应该在哪个端口上运行？PHP服务器的根文件夹是什么？</p><h2 id="14f5" class="nf lb it bd lc ng nh dn lg ni nj dp lk kb nk nl lo kf nm nn ls kj no np lw nq bi translated">Dockerfile文件</h2><p id="747b" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">Docker文件使您能够创建自己的Docker软件映像。例如，默认的php-8-alpine不包括PDO、MySQL或ZipArchive类。为了给php映像添加这个功能，我们需要创建自己的docker映像。</p><h2 id="5e4c" class="nf lb it bd lc ng nh dn lg ni nj dp lk kb nk nl lo kf nm nn ls kj no np lw nq bi translated">。dockerignore</h2><p id="f4a9" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">此文件允许您定义哪些本地文件不应该复制到您的Docker映像。它帮助你使构建更加轻量级和快速。</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><p id="8809" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这三个文件:<em class="mt"> docker-compose.yml </em>、<em class="mt"> Dockerfile、</em>和<em class="mt">。dockerignore </em>对你的Docker设置至关重要。确保在代码库中提交并安全地存储这些内容。</p><p id="6b62" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在下一节中，我们将看看如何使用docker-compose.yml配置文件来设置Docker。在我们的下一篇文章中，我们将深入创建一个定制的Docker图像，以获得更多的定制选项。</p><h1 id="febb" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">在Docker中设置一个简单的php服务器</h1><p id="0d6f" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">在我们继续之前，请确保将<a class="ae mz" href="https://www.docker.com/get-started" rel="noopener ugc nofollow" target="_blank"> <em class="mt"> Docker桌面</em> </a> <em class="mt"> </em>下载并安装到您的机器上。</p><p id="2fd5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们在新文件夹中创建一个新项目。姑且称之，简单——PHP。让我们创建一个示例<em class="mt">index.php</em>文件。</p><pre class="kp kq kr ks gt ns nt nu nv aw nw bi"><span id="e136" class="nf lb it nt b gy nx ny l nz oa">mkdir simple-php &amp;&amp; cd simple-php<br/>touch index.php</span></pre><p id="e9d1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">添加以下<em class="mt">index.php</em>文件内容</p><pre class="kp kq kr ks gt ns nt nu nv aw nw bi"><span id="d4d6" class="nf lb it nt b gy nx ny l nz oa">&lt;?php echo "Hello Docker!";</span></pre><p id="7fc8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，我们想在PHP 8服务器上运行它。让我们在<a class="ae mz" href="https://hub.docker.com/" rel="noopener ugc nofollow" target="_blank"> <em class="mt"> Docker Hub </em> </a>上找到一个合适的图像。通过搜索php，我们可以找到<em class="mt"> php </em> Docker图片。这个图像有多个标签，比如8-alpine，表示版本8，还有轻量级alpine版本。这正是我们所需要的。标签可以用冒号加在图像名后面。</p><pre class="kp kq kr ks gt ns nt nu nv aw nw bi"><span id="6b9d" class="nf lb it nt b gy nx ny l nz oa">php:8-alpine</span></pre><p id="a349" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们建立一个<em class="mt"> docker-compose.yml </em>文件，并使用<em class="mt"> php:8-alpine </em>图像。</p><pre class="kp kq kr ks gt ns nt nu nv aw nw bi"><span id="4816" class="nf lb it nt b gy nx ny l nz oa"># Create the docker-compose.yml file<br/>touch docker-compose.yml</span><span id="3533" class="nf lb it nt b gy ob ny l nz oa"># Let's enter the contents for the docker-compose file below:</span><span id="1e82" class="nf lb it nt b gy ob ny l nz oa"><strong class="nt iu"># First, indicate the </strong><a class="ae mz" href="https://docs.docker.com/compose/compose-file/" rel="noopener ugc nofollow" target="_blank"><strong class="nt iu">version of Docker compose</strong></a><strong class="nt iu"> we want to use</strong><br/>version: '3'</span><span id="e56f" class="nf lb it nt b gy ob ny l nz oa"><strong class="nt iu"># Create a section for all the services/images we need</strong><br/>services:<br/>    <strong class="nt iu"># Create a PHP service, call it however you'd like</strong><br/>    php:<br/>        <strong class="nt iu"># Optionally, choose a container name</strong><br/>        container_name: "php"</span><span id="0ed4" class="nf lb it nt b gy ob ny l nz oa">        <strong class="nt iu"># Select the Docker image to use for this service</strong><br/>        image: "php:8-alpine"<br/>        <br/><strong class="nt iu">        # Set up to automatically restart in case the container goes down</strong><br/>        restart: always</span><span id="1d73" class="nf lb it nt b gy ob ny l nz oa">        <strong class="nt iu"># Map your local PC port</strong> to the container's port, so you can get access to the container this way<br/><strong class="nt iu">        # Format local:docker</strong><br/>        ports:<br/>            - 8080:8080</span><span id="17b5" class="nf lb it nt b gy ob ny l nz oa">        <strong class="nt iu"># The command to be run</strong>, this command sets up a local PHP development server on port 8080<br/>        command: php -S 0.0.0.0:8080</span><span id="bdc8" class="nf lb it nt b gy ob ny l nz oa"><strong class="nt iu">        # Select which files</strong> should be copied over to the PHP server<br/>        volumes:<br/>            - .:/var/www</span><span id="01c4" class="nf lb it nt b gy ob ny l nz oa"><strong class="nt iu">        # Set up hostname and file locations inside the image</strong><br/>        hostname: "www"<br/>        working_dir: "/var/www"</span></pre><p id="e7f5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，让我们通过让Docker发挥它的魔力来运行服务器！</p><pre class="kp kq kr ks gt ns nt nu nv aw nw bi"><span id="7914" class="nf lb it nt b gy nx ny l nz oa"><strong class="nt iu">$ docker-compose up</strong></span><span id="d360" class="nf lb it nt b gy ob ny l nz oa">Creating network "app_default" with the default driver<br/>Pulling php (php:8-alpine)...<br/>8-alpine: Pulling from library/php<br/>596ba82af5aa: Pull complete<br/>af74f285bb27: Pull complete<br/>2ab8440e5667: Pull complete<br/>64889fa545ec: Pull complete<br/>94168e648735: Pull complete<br/>3898f14298ef: Pull complete<br/>c3747e5f2167: Pull complete<br/>7c3df0f80888: Pull complete<br/>e1f6ddeaf0bd: Pull complete<br/>Digest: sha256:0a4250b174dc6a1f1949f48b2ac56c9a5491a8329d0dc9b139668a968da0bdc7<br/>Status: Downloaded newer image for php:8-alpine<br/>Creating php ... done<br/>Attaching to php<br/>php    | PHP 8.0.1 Development Server (<a class="ae mz" href="http://0.0.0.0:8080" rel="noopener ugc nofollow" target="_blank">http://0.0.0.0:8080</a>) started</span></pre><p id="8566" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果您随后浏览到<a class="ae mz" href="http://localhost:8080/" rel="noopener ugc nofollow" target="_blank"><em class="mt">http://localhost:8080/</em></a>您应该能够发现您的Docker服务正在运行。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oc"><img src="../Images/9d3c8cd33d5c4d5f386ccd82d7a55ab4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uHkVnOwGOg8nhbnqw_HDqg.png"/></div></div></figure><p id="f2fb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">非常好的是，PHP服务器将像任何常规的PHP服务器一样工作。如果您更改了项目目录中的任何文件(如docker-compose.yml的volumes部分中所定义的)，这些更改将会自动反映出来。这是因为Docker使用一种符号链接指向卷中定义的文件夹。</p><p id="8340" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">通过添加<em class="mt"> -d </em>参数，您还可以选择在后台运行docker服务。</p><pre class="kp kq kr ks gt ns nt nu nv aw nw bi"><span id="5ba5" class="nf lb it nt b gy nx ny l nz oa"><strong class="nt iu">$ docker-compose up <em class="mt">-d</em></strong><br/>Creating network "app_default" with the default driver<br/>Creating php ... done</span></pre><p id="b83f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果您希望关闭它，可以运行下面的命令。</p><pre class="kp kq kr ks gt ns nt nu nv aw nw bi"><span id="64ea" class="nf lb it nt b gy nx ny l nz oa"><strong class="nt iu">$ docker-compose down</strong><br/>Stopping php ... done<br/>Removing php ... done<br/>Removing network app_default</span></pre><p id="f1ee" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，尝试将它安装到另一台机器上。只需克隆您的存储库，然后运行</p><pre class="kp kq kr ks gt ns nt nu nv aw nw bi"><span id="05fa" class="nf lb it nt b gy nx ny l nz oa">$ docker-compose up</span></pre><p id="2c33" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">瞧，您的应用程序完全运行，完全可移植，不需要任何本地服务器。多棒啊。</p><p id="1015" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">注意，在这个例子中，我们通过使用PHP的本地web服务器功能(而不是必须配置apache/nginx)使它变得简单。这对于开发服务器来说很好，并且节省了我们一些配置。但是，如果您希望使用相同的docker配置将容器部署到生产环境中，请确保使用apache或另一个web服务器进行设置。请随意尝试使用apache来设置它。我们将在下一篇文章中讨论这个问题。</p><h1 id="cdf3" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">下一步是什么？</h1><p id="cfae" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">现在您已经了解了如何使用Docker设置一个简单的服务器，尝试为MySQL服务器添加第二个服务。转到Docker Hub，找到合适的映像和配置，并进行设置。</p><p id="19c7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在我们的下一篇文章中，我们将指导您完成将MySQL设置添加到当前配置的过程，以及自动将数据添加到MySQL服务器并自动运行composer install。</p><h1 id="ff50" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">概述</h1><p id="7d6f" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">我们已经看到码头集装箱有很多优点</p><ul class=""><li id="6d90" class="mk ml it js b jt ju jx jy kb mm kf mn kj mo kn mp mq mr ms bi translated">便携式设置，环境备份在配置文件中</li><li id="ae94" class="mk ml it js b jt na jx nb kb nc kf nd kj ne kn mp mq mr ms bi translated">一个命令就可以启动并运行整个应用程序。)</li><li id="856f" class="mk ml it js b jt na jx nb kb nc kf nd kj ne kn mp mq mr ms bi translated">不需要任何本地配置，除了安装Docker</li><li id="e0b7" class="mk ml it js b jt na jx nb kb nc kf nd kj ne kn mp mq mr ms bi translated">新开发人员可以立即开始工作，不必花费太多时间在本地设置环境</li><li id="23d5" class="mk ml it js b jt na jx nb kb nc kf nd kj ne kn mp mq mr ms bi translated">坚固的设置。对于本地服务器，它总是会由于配置或其他原因而中断。有了容器，你可以简单地重启Docker。</li></ul><p id="8e16" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">还有更多优势，有些我们还没看到。举个例子，</p><ul class=""><li id="1e36" class="mk ml it js b jt ju jx jy kb mm kf mn kj mo kn mp mq mr ms bi translated">可以部署本地运行的docker映像，保证部署的环境将与您的本地环境行为相同。</li><li id="8797" class="mk ml it js b jt na jx nb kb nc kf nd kj ne kn mp mq mr ms bi translated">这同样适用于与您的开发伙伴共享软件映像的特定版本，他们应该能够重现相同的行为。</li></ul><p id="1de6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们还看到了Docker如何使用三个重要的配置文件。</p><ul class=""><li id="f99f" class="mk ml it js b jt ju jx jy kb mm kf mn kj mo kn mp mq mr ms bi translated">docker-compose.yml(我们曾经用它一起建立了一个php服务器)</li><li id="64bb" class="mk ml it js b jt na jx nb kb nc kf nd kj ne kn mp mq mr ms bi translated">Dockerfile(将在我们的下一篇文章中用于设置)</li><li id="c65c" class="mk ml it js b jt na jx nb kb nc kf nd kj ne kn mp mq mr ms bi translated">。dockerignore(也将在我们的下一篇文章中使用)</li></ul><p id="6fbd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，我们一起搭建了一个本地Docker容器开发的php服务器。</p><p id="f14e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">不要忘记，尝试将MySQL设置为一个额外的服务，我们将在下一篇文章中再次见面，向您展示如何做到这一点，同时还有一些额外的功能，如自动填充SQL数据。</p><h1 id="b8c4" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">下一步是什么？</h1><p id="622d" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">虽然Docker自2013年就已经存在，但它是2021年配置环境的一个非常可靠的选择，无论是用于本地开发还是生产部署。</p><p id="d536" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有些替代方案是存在的，比如Kubernetes，我们将在Docker文章系列完成后讨论它。</p><p id="3e45" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">请在评论中告诉我们，你对Docker有什么看法？设置简单吗？现在运行你的php服务器有多容易？我们很想知道，请给我们展示你的作品！</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><p id="a075" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae mz" href="https://kevinvr.medium.com/membership" rel="noopener">订阅我的媒介</a>到<strong class="js iu">解锁</strong> <strong class="js iu">所有</strong> <strong class="js iu">文章</strong>。通过使用我的链接订阅，你是支持我的工作，没有额外的费用。你会得到我永远的感激。</p></div></div>    
</body>
</html>