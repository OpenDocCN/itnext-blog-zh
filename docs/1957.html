<html>
<head>
<title>BatPadJS: API Testing Quick Start Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">BatPadJS: API测试快速入门指南</h1>
<blockquote>原文：<a href="https://itnext.io/batpadjs-api-testing-quick-start-guide-5dc4a7c11791?source=collection_archive---------1-----------------------#2019-03-02">https://itnext.io/batpadjs-api-testing-quick-start-guide-5dc4a7c11791?source=collection_archive---------1-----------------------#2019-03-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b1cd5b7f2699666abd1809f25eb14d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D253iTaNkUykEB_Bgex9eA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">BatPadJS快速入门指南</figcaption></figure><h1 id="7aa8" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">为什么是BatPadJs？</h1><p id="59c8" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">假设您有一个测试微服务的项目，其中请求体是一个巨大的JSON。您需要在JSON请求中发送不同的输入组合，并相应地验证结果JSON。</p><p id="9051" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">为此，您有几种选择:</p><ul class=""><li id="64c4" class="md me iq lc b ld ly lh lz ll mf lp mg lt mh lx mi mj mk ml bi translated"><em class="mm">创建大规模JSON的新副本，并在每个场景中更改某个值</em></li><li id="d3f3" class="md me iq lc b ld mn lh mo ll mp lp mq lt mr lx mi mj mk ml bi translated"><em class="mm">通过指定基本JSON(理想情况下只有必填字段)动态生成JSON请求体</em> <strong class="lc ir"> <em class="mm">并根据每个场景的需要注入/更新字段</em></strong></li></ul><p id="cccd" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">上面的选项1可以很容易地在任何测试自动化框架之上完成。然而，我认为这将是一场维护噩梦。</p><p id="c8e2" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">想象一下，在几周或几个月内，当您已经创建了几百个测试场景时，开发团队突然决定改变模式。您将最终更新您为所有场景创建的每个JSON文件。#哎唷#糟透了</p><p id="0266" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">选项2绝对是正确的选择。通过为每个场景动态生成JSON主体，您将最大限度地降低维护成本。而这正是<a class="ae ms" href="https://www.npmjs.com/package/batpadjs" rel="noopener ugc nofollow" target="_blank"> BatPadJs </a>大放异彩的地方。</p><p id="af4a" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">BatPadJS提供了一种简单易行的方法，以声明的方式指定您的测试，包括您希望如何构建JSON请求体以及如何断言您期望的API响应。</p><h1 id="d6d5" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated"><strong class="ak">样本测试套件</strong></h1><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="mx my l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">BatPadJS示例测试套件</figcaption></figure><p id="74a6" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">引起你的注意了吗？然后让我们深入了解如何使用BatPadJS快速创建和执行您自己的API测试自动化框架。</p><h1 id="39b1" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">装置</h1><pre class="mt mu mv mw gt mz na nb nc aw nd bi"><span id="4910" class="ne kd iq na b gy nf ng l nh ni"># Install BatPadJS Globally to take advantage of the built-in CLI</span><span id="7dfe" class="ne kd iq na b gy nj ng l nh ni">npm install -g batpadjs</span><span id="d034" class="ne kd iq na b gy nj ng l nh ni"># Alternatively, install it locally in the project</span><span id="eecc" class="ne kd iq na b gy nj ng l nh ni">npm install --save batpadjs</span></pre><h1 id="d11b" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">BatPadJS CLI</h1><p id="fe87" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">创建自己的API测试自动化框架最简单的方法是使用BatPadJS内置CLI。超级简单！</p><ol class=""><li id="668d" class="md me iq lc b ld ly lh lz ll mf lp mg lt mh lx nk mj mk ml bi translated">首先，确保您的机器中有<a class="ae ms" href="https://nodejs.org/en/download/" rel="noopener ugc nofollow" target="_blank"> NodeJS </a>和<a class="ae ms" href="https://code.visualstudio.com/download" rel="noopener ugc nofollow" target="_blank"> VSCode </a>。</li><li id="1abd" class="md me iq lc b ld mn lh mo ll mp lp mq lt mr lx nk mj mk ml bi translated">为您的项目创建一个文件夹</li><li id="af07" class="md me iq lc b ld mn lh mo ll mp lp mq lt mr lx nk mj mk ml bi translated">打开终端，并导航到项目文件夹</li><li id="de7f" class="md me iq lc b ld mn lh mo ll mp lp mq lt mr lx nk mj mk ml bi translated">在终端中发送以下命令</li></ol><pre class="mt mu mv mw gt mz na nb nc aw nd bi"><span id="a7df" class="ne kd iq na b gy nf ng l nh ni"># Initialize a BatPadJS Project</span><span id="f5cf" class="ne kd iq na b gy nj ng l nh ni">batpad init</span></pre><p id="4fa9" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">BatPadJs将生成样本测试文件来启动您的项目。</p><h1 id="d0fc" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">文件夹结构</h1><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/53832545d9a9290ddc8a7a31b9c882bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:458/format:webp/1*c_1DkvzmUQdifrxutIkjLw.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">BatPadJS文件夹结构</figcaption></figure><p id="8850" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">典型的BatPadJS项目包含以下文件/文件夹:</p><ol class=""><li id="edf0" class="md me iq lc b ld ly lh lz ll mf lp mg lt mh lx nk mj mk ml bi translated"><strong class="lc ir">数据</strong> —该文件夹可能包含测试数据，如基本JSON文件(应仅包含必填字段)或您可能在任何场景中使用的其他文件</li><li id="12da" class="md me iq lc b ld mn lh mo ll mp lp mq lt mr lx nk mj mk ml bi translated"><strong class="lc ir">报告</strong> —当测试完成时，该文件夹将包含BatPadJs报告(注意:报告在每次测试运行中都会被覆盖)</li><li id="2c0b" class="md me iq lc b ld mn lh mo ll mp lp mq lt mr lx nk mj mk ml bi translated"><strong class="lc ir">脚本</strong> —该文件夹包含您可能想要在测试之前或之后执行的脚本</li><li id="1060" class="md me iq lc b ld mn lh mo ll mp lp mq lt mr lx nk mj mk ml bi translated"><strong class="lc ir">测试</strong> —该文件夹包含所有的测试套件</li><li id="c243" class="md me iq lc b ld mn lh mo ll mp lp mq lt mr lx nk mj mk ml bi translated"><strong class="lc ir"> settings.json </strong> —这是BatPadJS测试运行器中使用的全局配置文件</li></ol><h1 id="3aa7" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">测试执行</h1><pre class="mt mu mv mw gt mz na nb nc aw nd bi"><span id="ed99" class="ne kd iq na b gy nf ng l nh ni"># Execute BatPadJS Tests</span><span id="59e7" class="ne kd iq na b gy nj ng l nh ni">batpad test</span><span id="e182" class="ne kd iq na b gy nj ng l nh ni"># You can also pass a filter based on test names</span><span id="5d47" class="ne kd iq na b gy nj ng l nh ni">batpad test --filter "Sample Scenario"</span></pre><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nm"><img src="../Images/5621b78cac9116ce16b55e15bb207092.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LjtToSi1C3T06HAqZVyuZQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">BatPadJS执行</figcaption></figure><p id="f7e0" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">就是这样！您已经使用BatPadJS创建并执行了您自己的API测试自动化框架。</p><p id="d1aa" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">当然，除此之外，还有很多其他的东西不能挤进这个快速入门指南中。我肯定会再写几篇文章，深入探讨BatPadJS是如何工作的，以及它的许多特性。同时，您可以前往GitHub 中的<a class="ae ms" href="https://github.com/marcdacz/BatPadJS/tree/master/examples/tests" rel="noopener ugc nofollow" target="_blank">示例文件夹，查看更多您可以参考的测试套件示例。</a></p><p id="b751" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">暂时就这样了。希望这对有相同需求的团队有所帮助！本指南的完整源代码可以在<a class="ae ms" href="https://github.com/marcdacz/api-test-batpadjs" rel="noopener ugc nofollow" target="_blank">这里</a>找到，而BatPadJS源代码可以在<a class="ae ms" href="https://github.com/marcdacz/BatPadJS" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="8b75" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">保持牛逼，下集再见！</p><p id="3865" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">马尔达茨</p></div></div>    
</body>
</html>