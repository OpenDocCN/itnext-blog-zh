<html>
<head>
<title>4 Alarming Mistakes Which Will Doom Your React Applications</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">4个惊人的错误，它们将毁灭你的React应用程序</h1>
<blockquote>原文：<a href="https://itnext.io/4-alarming-mistakes-which-will-doom-your-react-applications-cc216541accd?source=collection_archive---------9-----------------------#2020-04-06">https://itnext.io/4-alarming-mistakes-which-will-doom-your-react-applications-cc216541accd?source=collection_archive---------9-----------------------#2020-04-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="ad58" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你想让你的react应用程序陷入一个糟糕的管理，错误滋生，耗费时间的代码黑洞，那么做下面列出的四件事…告别任何新功能和利润，因为开发人员的时间都花在修复错误上了。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/891c5853a17c9608417270490add509a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C0SPaaTIvrDZMjYfzFhc7A.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">照片由<a class="ae lb" href="https://unsplash.com/@caleb_woods?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">凯勒·伍兹</a>在<a class="ae lb" href="https://unsplash.com/s/photos/shame?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h2 id="860b" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">在组件中嵌套组件</h2><p id="b82b" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">不要将组件嵌套在使用变量或函数来渲染JSX的组件中，这是有条件的或需要插值的。与组成成分反应。当某个东西足够复杂，以至于内联JSX三元组不够用，额外的处理和复杂的条件要求它被提取到自己的函数中时，只需创建一个新的组件。</p><blockquote class="ma"><p id="8875" class="mb mc iq bd md me mf mg mh mi mj kk dk translated">不要将JSX放在变量或函数中进行条件渲染。使用具有描述性名称的组件。</p></blockquote><p id="557e" class="pw-post-body-paragraph jn jo iq jp b jq mk js jt ju ml jw jx jy mm ka kb kc mn ke kf kg mo ki kj kk ij bi translated">使用<code class="fe mp mq mr ms b">&lt;Components /&gt;</code>代替渲染函数(如<code class="fe mp mq mr ms b">renderComponent</code>)。不要将JSX放在变量或函数中进行条件渲染。使用具有描述性名称的组件。例如:</p><p id="78cc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mp mq mr ms b">renderBottomFooterConditions() { ...</code> ❌</p><p id="6f24" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mp mq mr ms b">&lt;MyComponentBottomFooterConditions</code> ✅</p><p id="d57b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">将每个组件分割成更小的单元允许将条件和插值分割到文件中，从而减少组件的大小和复杂性。</p><h2 id="2840" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">玩嵌套对象</h2><p id="4af3" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">当不使用类型系统时，停止通过组件属性传递嵌套对象。当您使用类型系统时，这可能更容易被忽略，但是这样做仍然会将特定的对象结构耦合到组件。</p><blockquote class="ma"><p id="878a" class="mb mc iq bd md me mf mg mh mi mj kk dk translated">展平您的组件道具</p></blockquote><p id="26b3" class="pw-post-body-paragraph jn jo iq jp b jq mk js jt ju ml jw jx jy mm ka kb kc mn ke kf kg mo ki kj kk ij bi translated">在某些情况下，您可能希望将一个对象作为组件属性传递，例如<em class="mt">“您有一组公共的数据处理逻辑，需要在应用程序的多个地方发生</em>，但这种情况很少见，通常与列表有关，请参见<a class="ae lb" href="https://medium.com/@lukebrandonfarrell/component-composition-for-dummies-cd94515a360e" rel="noopener">我的文章</a>。</p><p id="516d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您有一个组件，它呈现来自服务器的图像并计算适合容器的纵横比，您需要传递两个属性；<code class="fe mp mq mr ms b">authToken</code>、<code class="fe mp mq mr ms b">imageUrl</code>，你要拉平属性:</p><pre class="km kn ko kp gt mu ms mv mw aw mx bi"><span id="b486" class="lc ld iq ms b gy my mz l na nb">&lt;AuthImage<br/>  authToken={...} ✅<br/>  imageUrl={...} ✅</span></pre><p id="fa6f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">不应将整个对象传递给组件，而是将组件绑定到该对象结构:</p><pre class="km kn ko kp gt mu ms mv mw aw mx bi"><span id="796d" class="lc ld iq ms b gy my mz l na nb">&lt;AuthImage<br/>  imageStuff={{ authToken: ..., imageUrl: ... }} ❌</span></pre><p id="3648" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用对象比使用单值变量更复杂，也更容易出错；布尔值，数字，字符串。</p><h2 id="04ec" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">不使用描述性命名</h2><p id="cbfb" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">这不是Twitter，你没有字符数限制…停止给你的变量和函数取简短的通用名称，这会让其他开发人员在阅读你的代码时毫无头绪。文件、变量和函数应该有表达性和描述性的名字。你的代码应该被其他人理解。例如</p><p id="5a19" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mp mq mr ms b">let messageForTheWarningBanner = messages?.message_for_banner</code> ✅</p><p id="7728" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mp mq mr ms b">let message = messages?.message_for_banner</code> ❌</p><p id="8083" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第一个变量立即告诉我们更多关于它包含的信息。</p><p id="af5f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在JavaScript中解构对象和数组时，应该重新分配变量名以匹配当前上下文。例如</p><pre class="km kn ko kp gt mu ms mv mw aw mx bi"><span id="2529" class="lc ld iq ms b gy my mz l na nb">const { name: companyName } = useSelector(<br/>     state =&gt; getOrganisation(state)<br/>); <br/>const { email: currentEmail } = useSelector(<br/>     state =&gt; getUser(state)<br/>);</span></pre><blockquote class="ma"><p id="1e2a" class="mb mc iq bd md me nc nd ne nf ng kk dk translated">代码是给人类的，不是给计算机的</p></blockquote><h2 id="b651" class="lc ld iq bd le lf nh dn lh li ni dp lk jy nj lm ln kc nk lp lq kg nl ls lt lu bi translated">不解释“为什么”</h2><blockquote class="ma"><p id="3138" class="mb mc iq bd md me mf mg mh mi mj kk dk translated">请…评论你的代码。</p></blockquote><p id="7d1b" class="pw-post-body-paragraph jn jo iq jp b jq mk js jt ju ml jw jx jy mm ka kb kc mn ke kf kg mo ki kj kk ij bi translated">注释极大地增加了项目的健壮性，不注释代码就像卖一本没有说明的“自己构建”书架。如果你不知道如何注释代码，这里有一个简单的秘密… 🥁🥁🥁</p><blockquote class="ma"><p id="f9e7" class="mb mc iq bd md me mf mg mh mi mj kk dk translated">解释“为什么”,而不是“如何”</p></blockquote><p id="abad" class="pw-post-body-paragraph jn jo iq jp b jq mk js jt ju ml jw jx jy mm ka kb kc mn ke kf kg mo ki kj kk ij bi translated">注释用于解释代码背后的“为什么”。“如何做”可以从代码中推断出来。谈谈你选择编写这部分代码的原因。下面是一个真实应用程序中单个变量的注释:</p><pre class="km kn ko kp gt mu ms mv mw aw mx bi"><span id="cb25" class="lc ld iq ms b gy my mz l na nb">/** <br/>* Used so the rebrand alert does not appear multiple times, <br/>* as if the user exits the app, this will trigger new user data <br/>* to be fetched, which will trigger new organisation data to be <br/>* fetched, which will lead to multiple FETCH_ORGANISATION_RESPONSE <br/>* and multiple instances of this generator function waiting at <br/>* <!-- -->call(waitUntilStack...<!-- -->. <br/>*/ <br/>let isRebrandAlertShowed = false;</span></pre><p id="1a90" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">“如何”可以从代码中推断出来…“为什么”永远消失了</p></div><div class="ab cl nm nn hu no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="ij ik il im in"><p id="eb7d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">将这些原则应用到您的应用程序中，以赢回代码库的稳定性，并利用干净代码的力量来构建功能并影响更多的人。</p></div></div>    
</body>
</html>