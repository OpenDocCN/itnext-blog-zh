<html>
<head>
<title>Ionic: Fullscreen Modal &amp; Menu Popover</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Ionic:全屏模式和菜单弹出窗口</h1>
<blockquote>原文：<a href="https://itnext.io/ionic-fullscreen-modal-menu-popover-545c66d8e17b?source=collection_archive---------2-----------------------#2020-08-04">https://itnext.io/ionic-fullscreen-modal-menu-popover-545c66d8e17b?source=collection_archive---------2-----------------------#2020-08-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="69e0" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何让离子模式变成全屏，弹出窗口充当菜单</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7812ba3599934f8d10820622f2fb53e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v93pK6K7hTbHnVI3dqzhyA.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae ky" href="https://unsplash.com/@dinoreichmuth?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Dino Reichmuth </a>拍摄的照片</figcaption></figure><p id="2322" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Ionic 不仅是一款为移动设备打造的令人惊叹的设计系统，在桌面上也能发挥出色的作用。因为这个原因，我们在DeckDeckGo 使用它。</p><p id="76cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我们开发我们的演示编辑器时，我们实现了下面两个技巧，我将与你分享，我希望有一天对你也有用。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="e247" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">全屏模式</h1><p id="9ed4" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">开箱即用，无论应用哪个平台的风格，只要你的浏览器达到768x600像素的大小，离子模态就不再全屏显示，而是作为一个居中的弹出窗口。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/f4a21d80cf0d56db666b900fb763ca18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*iFK9OeqLfVNQPERmhKMDww.gif"/></div></figure><p id="a1a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然这可能适合几乎所有的用例，但可能有一个用例需要全屏模式。事实上，您可能希望向用户显示多个信息，因此需要空间，但可能不希望在历史堆栈中添加页面。</p><p id="d493" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，使用我们的编辑器编辑幻灯片的用户可以将幻灯片作为渐进式网络应用程序发布。根据要求，我们将他们的演示文稿打包到PWAs中，并在网上发布。因为这是一个用户必须明确触发的过程，所以我们决定用模态而不是导航来呈现所有信息，避免可能的来回错误😇。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/4c76b40e9eead3a4abb8cefd2f8bf65f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*QteGvwweJXOOrG63Qid7gA.gif"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="7ac0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设你不想让所有的模态都全屏显示，而只是一些模态，我建议我们在CSS类选择器的帮助下设置模态样式，我们可以应用CSS类选择器，如<a class="ae ky" href="https://ionicframework.com/docs/api/modal" rel="noopener ugc nofollow" target="_blank">文档</a>所示。</p><p id="9af6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">角度:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="7840" class="nf md it nb b gy ng nh l ni nj">async presentModal() {<br/>  const modal = await this.modalController.create({<br/>    component: ModalPage,<br/>    cssClass: 'fullscreen'<br/>  });<br/>  await modal.present();<br/>}</span></pre><p id="caab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">模具:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="601b" class="nf md it nb b gy ng nh l ni nj">async presentModal() {<br/>  const modal = await modalController.create({<br/>    component: 'app-page-modal',<br/>    cssClass: 'fullscreen'<br/>  });<br/>  await modal.present();<br/>}</span></pre><p id="35b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">反应:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="e475" class="nf md it nb b gy ng nh l ni nj">&lt;IonModal isOpen={showModal} cssClass="fullscreen"&gt;<br/> &lt;PageModal&gt;&lt;/PageModal&gt;<br/>&lt;/IonModal&gt;</span></pre><p id="2be5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Vue:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="e5f3" class="nf md it nb b gy ng nh l ni nj">&lt;script&gt;<br/>import Modal from './modal.vue'<br/><br/>export default {<br/>  methods: {<br/>    openModal() {<br/>      return this.$ionic.modalController<br/>        .create({<br/>          component: Modal,<br/>          cssClass: 'fullscreen'<br/>        })<br/>        .then(m =&gt; m.present())<br/>    },<br/>  },<br/>}<br/>&lt;/script&gt;</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="2596" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">样式<code class="fe nk nl nm nb b">.fullscreen</code>应该在应用程序级别定义，并且在层次结构中不能高于<code class="fe nk nl nm nb b">ion-app</code>，因为模态将被注入到DOM中的<code class="fe nk nl nm nb b">ion-modal</code>元素中，这些元素是应用程序容器的直接后代。例如，在我们的模板应用程序中，我在<code class="fe nk nl nm nb b">app.css</code>中定义了它，或者在React应用程序中，我在<code class="fe nk nl nm nb b">App.tsx</code>中导入的样式表中定义了它。</p><p id="7a26" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它应包含应用全屏尺寸(宽度/高度)的信息，并指示不应使用圆角显示模态。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="3d30" class="nf md it nb b gy ng nh l ni nj">ion-modal.fullscreen {<br/>  --width: 100%;<br/>  --height: 100%;<br/>  --border-radius: 0;<br/>}</span></pre><p id="bb2e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就这样，不多不少😄。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="b113" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">弹出式菜单</h1><p id="7eea" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">不确定其他人是否真的会有下面的需求，但是你可能需要一个菜单，就像我们在DeckDeckGo中做的那样，这个菜单不依赖于导航，也不依赖于<code class="fe nk nl nm nb b">ion-menu</code>。</p><p id="87b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，当用户编辑幻灯片时，我们必须找到一个显示选项而不隐藏所有内容的解决方案。尽管我们可以为此开发一个自定义弹出窗口，但我们认为重用Ionic popover会更好。我是说，看看开场时引发的流汗动画🤩。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/4ab26c157deda2b14bc9062baad5a37d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*m7NWUeN_E-Rdw78SKuDrzA.gif"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="00ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如上一章关于模态的内容一样，我假设我们可能只想在应用程序的特定popovers上应用这种效果，这就是我们再次使用CSS样式类的原因。此外，我们还想明确地使用模式<code class="fe nk nl nm nb b">md</code>来给弹出窗口一个“平面”风格，并避免显示背景。这最后一点不是强制性的，但是如果你希望你的用户仍然能够清楚地看到“弹出菜单”旁边的内容，这一点是有意义的。</p><p id="a74f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">角度:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="2350" class="nf md it nb b gy ng nh l ni nj">async presentPopover() {<br/>  const popover = await this.popoverController.create({<br/>    component: PopoverPage,<br/>    cssClass: 'menu',<br/>    <!-- -->mode: 'md',<br/>    showBackdrop: false<br/>  });<br/>  await popover.present();<br/>}</span></pre><p id="22ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">模具:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="dead" class="nf md it nb b gy ng nh l ni nj">async presentPopover() {<br/>  const popover = await popoverController.create({<br/>    component: 'app-page-popover',<br/>    cssClass: 'menu',<br/>    <!-- -->mode: 'md',<br/>    showBackdrop: false<br/>  });<br/>  await popover.present();<br/>}</span></pre><p id="859a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">反应:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="51cd" class="nf md it nb b gy ng nh l ni nj">&lt;IonPopover<br/>    isOpen={showPopover}<br/>    cssClass="menu"<br/>    mode="md"<br/>    showBackdrop={false}&gt;<br/> &lt;PagePopover&gt;&lt;/PagePopover&gt;<br/>&lt;/IonPopover&gt;</span></pre><p id="be8f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Vue:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="e6ba" class="nf md it nb b gy ng nh l ni nj">&lt;script&gt;<br/>import Popover from './popover.vue'</span><span id="7ab2" class="nf md it nb b gy nn nh l ni nj">export default {<br/>  methods: {<br/>    openPopover() {<br/>      return this.$ionic.popoverController<br/>        .create({<br/>          component: Popover,<br/>          cssClass: 'menu',<br/>          mode: 'md',<br/>          showBackdrop: true<br/>        })<br/>        .then(m =&gt; m.present())<br/>    },<br/>  },<br/>}<br/>&lt;/script&gt;</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="2366" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们在应用程序的根级别定义样式，因为<code class="fe nk nl nm nb b">ion-popover</code>元素是作为主<code class="fe nk nl nm nb b">ion-app</code>元素的直接子元素添加的。</p><p id="815e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们设置一个宽度，例如<code class="fe nk nl nm nb b">540px</code>，和一个最大值，因为我们也想适合更小的设备。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="07c3" class="nf md it nb b gy ng nh l ni nj">ion-popover.menu {<br/>  --width: 540px;<br/>  --max-width: 100%;<br/>}</span></pre><p id="18a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于这个定义，我们能够改变弹出窗口的宽度，但是，我们还不能设置正确的位置，屏幕的右侧，并指定一个覆盖所有窗口的高度。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/569723393ff24212778fad9c2cbfa79a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*YE9aSnlYYPZBceTmSe0eDA.gif"/></div></figure><p id="6bf4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尽管我们将要实现我们的目标，但我不得不说，不幸的是，这只有在臭名昭著的<code class="fe nk nl nm nb b">!important</code>选择器的帮助下才有可能。不久前，我打开了一个关于它的<a class="ae ky" href="https://github.com/ionic-team/ionic-framework/issues/15036" rel="noopener ugc nofollow" target="_blank">功能请求</a>，这是很少使用的建议之一，解决方案应该来自社区，在我看来是有意义的。不幸的是，我还没有时间提供一个拉请求，也许有一天。</p><p id="63d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同时，让我们使用下面的样式。首先，我们将popover设置在右上方，我们还变换了它的原点来匹配这个位置。此外，我们将默认高度设置为<code class="fe nk nl nm nb b">100%</code>以匹配屏幕，并添加一些严格的样式，如定义背景和灯箱阴影。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="133d" class="nf md it nb b gy ng nh l ni nj">ion-popover.menu div.popover-content {<br/>  top: 0 <strong class="nb iu">!important</strong>;<br/>  left: inherit <strong class="nb iu">!important</strong>;<br/>  right: 0;<br/><br/>  transform-origin: right top <strong class="nb iu">!important</strong>;<br/><br/>  --min-height: 100%;<br/><br/>  background: white;<br/><br/>  box-shadow: -8px 0 16px rgba(0, 0, 0, 0.12);<br/>  border-radius: 0;<br/>}</span></pre><p id="b516" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就是这样，我们的popover可以作为一个菜单😃。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/8303d51947794df0e105305374b45340.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*4djCKLd9CV0lWLmcGnH-YQ.gif"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="74d7" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="a32c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">为您的下一个演示尝试一下<a class="ae ky" href="https://deckdeckgo.com" rel="noopener ugc nofollow" target="_blank"> DeckDeckGo </a>，如果您准备改进这些风格或有任何其他建议，请与我们在<a class="ae ky" href="https://github.com/deckgo/deckdeckgo/" rel="noopener ugc nofollow" target="_blank"> GitHub </a>的项目合作，我们欢迎任何贡献和想法。</p><p id="7406" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">到无限和更远的地方！</p><p id="630c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">大卫</p></div></div>    
</body>
</html>