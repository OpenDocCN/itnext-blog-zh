<html>
<head>
<title>Using Docker for local development environment</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在本地开发环境中使用Docker</h1>
<blockquote>原文：<a href="https://itnext.io/using-docker-for-local-development-environment-f090bbe6d41d?source=collection_archive---------7-----------------------#2020-06-21">https://itnext.io/using-docker-for-local-development-environment-f090bbe6d41d?source=collection_archive---------7-----------------------#2020-06-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/6aacfefa694f2d5d9d3ed7987e8f19dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yTfTqJGKi75jzPZjC9Peug.jpeg"/></div></div></figure><p id="5a17" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Docker改变了我们部署应用的方式，即使您没有直接使用Docker，也有可能被您的云提供商用来交付您的应用。例如，Google Cloud函数和FIrebase函数都是由Docker支持的，即使你只是使用部署到Firebase的简单Node.js应用程序，它也是在Docker容器中运行的！</p><p id="85a9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">但是没有一个开发人员会把Docker作为开发环境的主要驱动程序，因为作为一个开发环境的设置，开始使用Docker是相当复杂的。当您必须决定使用哪个卷或者如何映射网络端口属性来连接多个项目之间的容器时，大多数问题就会出现。</p><p id="8ca5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当然，如果你学会了如何做，这并不复杂，但是首先，这并不简单，这就是为什么大多数开发人员只进行原始的开发环境设置，而不是容器化的设置。</p><p id="c3e5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">但是有一个混合动力模式！这意味着你可以让一些项目直接在你的机器上运行和编码，其中一些只是作为一个容器运行，正如我们所知，大多数有用的东西只是在黄金中间🙂</p><h1 id="c6d1" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">混合开发环境</h1><p id="8a34" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">Docker容器只是一个孤立的环境，作为一名软件开发人员，我获得的最大价值是，我可以安装一些工具，并在不需要的时候删除它们，只需删除一个实际的容器，而不用担心外部依赖和存储清理！</p><p id="ea9e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我认为这是最重要的用例，你需要为你的开发环境准备一个Docker容器。</p><p id="6627" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">例如</strong>当我需要一个Cassandra数据库时，这是我的Node.js应用程序开发过程的一部分，我不需要担心安装正确的JVM版本和Cassandra二进制文件！我可以取出Cassandra的Docker映像，并将其用于我的本地开发，然后当我完成时，我可以删除一个实际的Docker映像，而不是从Cassandra的依赖项中清理我的机器！</p><p id="3cec" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当然，当您需要保存数据时，使用持久数据库并不理想，但是在这种情况下，您可以在您的机器上安装一个特定的目录，即使删除了一个实际的数据库Docker映像，也可以保存您的数据！</p><p id="7f3a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">另一个例子</strong>是有时我需要Nginx服务器的一些生产环境模拟，但我不想有一个复杂的安装过程或定制模块的复杂性。为此，我可以取出Nginx容器，使用我的本地确认在本地测试代理服务器，当我完成时，我可以删除一个图像。再次强调，重点是保持我的笔记本电脑远离我不需要的外部软件包和依赖项！</p><p id="780c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">其余的开发，比如我在没有Docker容器的情况下运行的活动编码或Node.js或Pythong应用程序，因为在99%的情况下，我需要完全控制它们，比如调试、目录访问甚至特定环境的用户访问！这就是为什么我称这种处理为“混合开发环境”。</p><h1 id="a0d5" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">作为图像的开发环境</h1><p id="f623" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">如果你和我一样，很可能你每年至少要改变一次你的开发环境，比如升级你的笔记本电脑，甚至只是格式化你的硬盘来更新你的机器！</p><p id="ecab" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">对于这种情况，我只是将我开发环境保存为一个Docker-compose配置文件，并将我的映像托管在<a class="ae mc" href="https://treescale.com" rel="noopener ugc nofollow" target="_blank">treescale.com</a>。这样，我可以在几分钟内启动我的开发环境。</p><p id="eac7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当你在一个团队中工作并想与其他队友分享你的服务时，这变得非常有用。他们只需调出特定的映像并在几分钟内运行，就可以设置好他们的环境。</p><h1 id="469d" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">结论</h1><p id="ae6d" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">开发环境设置对于从事实际工作的人来说是非常特殊的事情，因此没有什么可以作为“最佳实践”，但是如果您喜欢我，您可能会避免所有不必要的依赖，比如在您的本地开发环境中安装实际的DB或Nginx。相反，只需提取一个特定的Docker图像，然后在完成后将其删除。对我来说，这只是帮助我保持我的笔记本电脑干净，我的开发环境更容易预测变化。</p><p id="81c7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我每天主要使用3-4种不同的语言和环境，我已经适应灵活的开发环境设置有一段时间了，这种混合Docker设置帮助我保持我的笔记本电脑整洁和非常灵活，即使当我决定花一些时间从Mac切换到Linux时，我也可以在一个小时左右的时间内完成所有工作并运行！</p><p id="4cf6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果你有不同的开发环境设置，请告诉我，我会很高兴听到更多的选择！</p></div></div>    
</body>
</html>