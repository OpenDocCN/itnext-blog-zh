# 用于本地 Web 组件的 EZWC

> 原文：<https://itnext.io/ezwc-for-native-web-components-e574a6f39de?source=collection_archive---------7----------------------->

![](img/3b543c3094931421e1cc18583e0d1bac.png)

图片来自 Pexels:[https://www . Pexels . com/photo/book-computer-design-development-326424/](https://www.pexels.com/photo/book-computer-design-development-326424/)

在我的职业生涯和个人项目中，我越来越多地使用原生 web 组件。在 2019 年年中的这一点上，浏览器支持相当广泛，使其更容易完成任务，所需的 polyfills 更少。

同时，在过去的几个月里，我一直在学习和使用 [Vue](https://vuejs.org/) 。我喜欢使用它，它是小型/轻型项目的一个很好的库。几年前当 Polymer 第一次出现时，我使用了它，我马上注意到的一件事是[单列组件。vue 文件](https://vuejs.org/v2/guide/single-file-components.html)的结构类似于早期 Polymer 版本中的组件风格。我喜欢单文件组件格式的结构和组织，因为它允许我看到何时需要更快地分解，从而迫使我保持组件更小、更简洁。

在更多地使用原生组件时，我发现自己希望以一种更容易阅读的方式组织组件代码。这种愿望与我更好地编写基于节点的应用程序的目标相结合，给了我一个想法:为什么不自己创造这种能力呢？

# EZWC 简介

[EZWC](https://github.com/pynklynn/ezwc) 是 easy web components 的简称。它由一个 CLI 和文件结构组成，类似于带有文件扩展名`.ezwc`的 Vue 单文件组件。我想让它尽可能的有用，所以它也支持用 Typescript、Sass 和一些模板引擎编写脚本代码，并把组件分成它们自己的文件，类似于 Angular 2+组件。

一个非常基本的 EZWC 组件示例:

要将其转换为本机 web 组件，请通过 CLI 运行它:

输出文件(在本例中为`dist/hello-world.js`)是一个 JavaScript 文件，包含一个本地 web 组件(ES2015+格式)，可以立即导入到其余的代码库中，由您的工具链构建，并在页面中使用！

您可能会注意到，在 EZWC 文件中，没有附加阴影根，没有用浏览器定义自定义元素，也没有为组件设置渲染。这些由 CLI 负责。CLI 将查找每个容器标签上的`lang`属性，以执行适当的操作，并为模板引擎添加导入。脚本标签还有一个必需的`selector`属性。CLI 使用`selector`属性和类名为最终输出生成`createElement.define()`代码。

# 其他功能

其他一些功能包括:

*   生成新 EZWC 组件的生成器命令(如果使用了适当的标志，则包括导入)
*   能够通过`<script>`标签上的`no-shadow`属性创建一个没有影子根的组件
*   向项目添加一个配置文件，以消除每次运行时传递选项的需要，包括 generate 等命令的默认选项
*   监视标志，以自动传输组件的变化-包括导入的源文件！

# 这个项目的走向

我把这个放到世界上，看看它对其他人是否有用。完全有可能不会，但这没关系，因为这对我来说是一次很好的学习经历。

我计划的下一个任务是使用 EZWC 初始化项目的`new`命令。该命令将运行一个向导，询问创建配置文件的默认选项，并为项目、源代码和编译代码创建目录。这将使得使用 EZWC 创建项目和在生成新组件时使用配置文件中的缺省值变得更加容易。

我很乐意为一些计划中的功能提供帮助，包括:

*   支持较少
*   手写笔支架
*   web pack loader——一旦存在，我计划进一步增强`new`命令，比如包含一个路由器库
*   面向编辑器/ide(如 Visual Studio 代码)的语法高亮和智能感知

随着时间的推移，我还试图找出是否有任何其他语法糖可以添加到 CLI 中，例如:

*   当属性改变时，生成用于更有效的模板呈现的无效方法
*   为属性创建 getter/setter 以及是否监视属性的简写

这仍然是这个项目的早期，所以它可能还没有准备好生产。如果您碰巧使用它并发现了一个错误，请随时在 GitHub 上提交一个错误报告，或者打开一个 pull 请求，如果您愿意修复它的话。

感谢您的阅读，如果您觉得 EZWC 在项目中有用，请告诉我！