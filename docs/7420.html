<html>
<head>
<title>Journey Of A Microservice Application In The Kubernetes World</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Kubernetes世界的微服务应用之旅</h1>
<blockquote>原文：<a href="https://itnext.io/journey-of-a-microservice-application-in-the-kubernetes-world-876f72ce1681?source=collection_archive---------3-----------------------#2022-09-18">https://itnext.io/journey-of-a-microservice-application-in-the-kubernetes-world-876f72ce1681?source=collection_archive---------3-----------------------#2022-09-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7855" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Loki堆栈的可观测性</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e886d5c65ceed252ff640bb09917c9f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wsx1dSiuDuwPDaqXmEC1tQ.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/es/@davynben?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">达文本</a>在<a class="ae ky" href="https://unsplash.com/s/photos/observe?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="1dd6" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">TL；速度三角形定位法(dead reckoning)</h2><p id="1840" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">在<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/journey-of-a-microservice-application-in-the-kubernetes-world-d9493b19edff">之前的文章</a>中，我们解释了如何使用<a class="ae ky" href="https://www.weave.works/technologies/gitops/" rel="noopener ugc nofollow" target="_blank"> GitOps </a>和<a class="ae ky" href="https://argoproj.github.io/" rel="noopener ugc nofollow" target="_blank"> Argo CD </a>来设置CI/CD管道的持续部署部分。我们现在将部署Loki堆栈来获取应用程序日志和指标。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="e5cd" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">本系列文章</h2><ul class=""><li id="5a94" class="mv mw it me b mf mg mi mj lp mx lt my lx mz mu na nb nc nd bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/journey-of-a-microservice-application-in-the-kubernetes-world-bdfe795532ef">web hooks . app展示</a></li><li id="87a5" class="mv mw it me b mf ne mi nf lp ng lt nh lx ni mu na nb nc nd bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/journey-of-a-microservice-application-in-the-kubernetes-world-3c2a9e701e9f">使用Helm在本地单节点Kubernetes上运行应用</a></li><li id="aa4c" class="mv mw it me b mf ne mi nf lp ng lt nh lx ni mu na nb nc nd bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/journey-of-a-microservice-application-in-the-kubernetes-world-e800579f0be3#0174-87b0e3c1fcd3">在Civo Kubernetes集群上运行应用</a></li><li id="8029" class="mv mw it me b mf ne mi nf lp ng lt nh lx ni mu na nb nc nd bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/journey-of-a-microservice-application-in-the-kubernetes-world-d9493b19edff">使用GitOps和Argo CD进行连续部署</a></li><li id="c5c3" class="mv mw it me b mf ne mi nf lp ng lt nh lx ni mu na nb nc nd bi translated">使用Loki堆栈的可观察性(本文)</li><li id="db1c" class="mv mw it me b mf ne mi nf lp ng lt nh lx ni mu na nb nc nd bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/journey-of-a-microservice-application-in-the-kubernetes-world-e2f6475ddde1">使用Acorn定义应用</a></li><li id="b727" class="mv mw it me b mf ne mi nf lp ng lt nh lx ni mu na nb nc nd bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/journey-of-a-microservice-application-in-the-kubernetes-world-6abd625c60fe">安全注意事项:安全相关工具</a></li><li id="7bea" class="mv mw it me b mf ne mi nf lp ng lt nh lx ni mu na nb nc nd bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/journey-of-a-microservice-application-in-the-kubernetes-world-eb0fb52e1bf0">安全考虑:修复错误配置</a></li><li id="3c61" class="mv mw it me b mf ne mi nf lp ng lt nh lx ni mu na nb nc nd bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/journey-of-a-microservice-application-in-the-kubernetes-world-f760cba7600f">安全考虑:策略实施</a></li><li id="24c3" class="mv mw it me b mf ne mi nf lp ng lt nh lx ni mu na nb nc nd bi translated">安全考虑:漏洞扫描(即将推出)</li></ul></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><p id="63df" class="pw-post-body-paragraph mc md it me b mf nj ju mh mi nk jx mk lp nl mm mn lt nm mp mq lx nn ms mt mu im bi translated">简而言之，Grafana Labs的Loki stack是一个多组件应用程序，可以安装到Kubernetes集群中，允许用户使用Grafana查看日志和指标。在这篇短文中，我们不会深入讨论这个堆栈的细节，但是我们将展示如何简单地安装和使用它来监控webhooks应用程序。</p><p id="5152" class="pw-post-body-paragraph mc md it me b mf nj ju mh mi nk jx mk lp nl mm mn lt nm mp mq lx nn ms mt mu im bi translated">正如Kubernetes世界中的许多应用一样，Loki stack可作为舵图使用:</p><div class="kj kk kl km gt ab cb"><figure class="no kn np nq nr ns nt paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/7c8e792e5b2ae7915d5495d81e96d71e.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*_8_PR5Su9knLc_8OZo4Oxw.png"/></div></figure><figure class="no kn np nq nr ns nt paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/4484f502bc66af474782637112509bca.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*cfbUX2aGOHETr4qDZjIOmA.png"/></div></figure><figure class="no kn np nq nr ns nt paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/3c510e558164cdf506a1c35667163a36.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*UK3HnOdYUyDJwXIfCc-qBQ.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk nu di nv nw translated">洛基堆栈头盔图可从<a class="ae ky" href="https://artifacthub.io/" rel="noopener ugc nofollow" target="_blank"> artifacthub </a>获得</figcaption></figure></div><p id="0b15" class="pw-post-body-paragraph mc md it me b mf nj ju mh mi nk jx mk lp nl mm mn lt nm mp mq lx nn ms mt mu im bi translated">使用<em class="nx"> helm </em>二进制文件，可以使用以下命令安装堆栈:</p><pre class="kj kk kl km gt ny nz oa ob aw oc bi"><span id="bcd3" class="lg lh it nz b gy od oe l of og"># Adding grafana repo<br/>$ helm repo add grafana <a class="ae ky" href="https://grafana.github.io/helm-charts" rel="noopener ugc nofollow" target="_blank">https://grafana.github.io/helm-charts</a></span><span id="a7e9" class="lg lh it nz b gy oh oe l of og"># Installing the stack<br/>$ helm install my-loki grafana/loki --version 3.0.7 --set grafana.enabled=true --set prometheus.enabled=true</span></pre><p id="281b" class="pw-post-body-paragraph mc md it me b mf nj ju mh mi nk jx mk lp nl mm mn lt nm mp mq lx nn ms mt mu im bi translated">在本例中，我们启用了<em class="nx"> grafana </em>和<em class="nx"> prometheus </em>，因为默认情况下它们在堆栈中没有启用(默认情况下只安装与日志管理相关的组件)。如果需要，还可以启用其他组件:fluent-bit、logstash和filebeat。</p><p id="a3f9" class="pw-post-body-paragraph mc md it me b mf nj ju mh mi nk jx mk lp nl mm mn lt nm mp mq lx nn ms mt mu im bi translated">我通常更喜欢使用Helmfile表示，而不是使用helm二进制文件来执行安装，因为这是一种更具声明性的指定方式。为此，在配置存储库中创建了一个新的<em class="nx"> apps/loki </em>文件夹，并在其中添加了下面的<em class="nx"> helmfile.yaml </em>。</p><pre class="kj kk kl km gt ny nz oa ob aw oc bi"><span id="0a49" class="lg lh it nz b gy od oe l of og"># config/apps/loki/helmfile.yaml</span><span id="4f08" class="lg lh it nz b gy oh oe l of og">repositories:<br/>- name: grafana<br/>  url: https://grafana.github.io/helm-charts</span><span id="426e" class="lg lh it nz b gy oh oe l of og">releases:<br/>- name: loki<br/>  namespace: loki<br/>  labels:<br/>    app: loki<br/>  chart: grafana/loki-stack<br/>  version: ~2.8.2<br/>  values:<br/>  - grafana:<br/>      enabled: true<br/>  - prometheus:<br/>      enabled: true</span></pre><p id="24b6" class="pw-post-body-paragraph mc md it me b mf nj ju mh mi nk jx mk lp nl mm mn lt nm mp mq lx nn ms mt mu im bi translated">接下来，我们使用以下命令安装应用程序:</p><pre class="kj kk kl km gt ny nz oa ob aw oc bi"><span id="16c7" class="lg lh it nz b gy od oe l of og">$ helmfile apply</span></pre><p id="3471" class="pw-post-body-paragraph mc md it me b mf nj ju mh mi nk jx mk lp nl mm mn lt nm mp mq lx nn ms mt mu im bi translated">然后，我们确保一切运行正常(所有pod启动并运行只需几十秒钟):</p><pre class="kj kk kl km gt ny nz oa ob aw oc bi"><span id="e24c" class="lg lh it nz b gy od oe l of og"><strong class="nz iu">$ kubectl get po -n loki</strong><br/>NAME                                     READY STATUS  RESTARTS AGE<br/>loki-prometheus-node-exporter-66hqz      1/1   Running 0        93s<br/>loki-prometheus-node-exporter-x4sd4      1/1   Running 0        93s<br/>loki-kube-state-metrics-5c6b9ddd4f-grv4c 1/1   Running 0        93s<br/>loki-grafana-cbf7c8c47-8dh6k             2/2   Running 0        93s<br/>loki-promtail-q8c9x                      1/1   Running 0        93s<br/>loki-promtail-hsbpb                      1/1   Running 0        93s<br/>loki-prometheus-pushgateway-7cd55958-... 1/1   Running 0        92s<br/>loki-0                                   1/1   Running 0        93s<br/>loki-prometheus-server-757c887449-7wz44  2/2   Running 0        93s<br/>loki-prometheus-alertmanager-588df97-... 2/2   Running 0        93s</span></pre><p id="564e" class="pw-post-body-paragraph mc md it me b mf nj ju mh mi nk jx mk lp nl mm mn lt nm mp mq lx nn ms mt mu im bi translated">正如我们从这个结果中看到的，现在有几个组件在<em class="nx"> loki </em>名称空间中运行:</p><p id="db32" class="pw-post-body-paragraph mc md it me b mf nj ju mh mi nk jx mk lp nl mm mn lt nm mp mq lx nn ms mt mu im bi translated">一些组件用于管理应用和系统指标:</p><ul class=""><li id="6cd5" class="mv mw it me b mf nj mi nk lp oi lt oj lx ok mu na nb nc nd bi translated"><strong class="me iu">节点导出器</strong>是一个DaemonSet，它的每个Pod负责收集与它正在运行的节点相关的指标，并将这些指标暴露给Prometheus。当前集群有2个节点，然后我们在集群中运行2个节点导出器单元</li><li id="19f0" class="mv mw it me b mf ne mi nf lp ng lt nh lx ni mu na nb nc nd bi translated"><strong class="me iu"> kube-state-metrics </strong>根据集群资源的状态生成指标，并将这些指标公开给Prometheus</li><li id="314e" class="mv mw it me b mf ne mi nf lp ng lt nh lx ni mu na nb nc nd bi translated">prometheus-pushgateway 允许短暂的批处理作业向prometheus发送它们的度量</li><li id="9ccd" class="mv mw it me b mf ne mi nf lp ng lt nh lx ni mu na nb nc nd bi translated"><strong class="me iu"> prometheus-server </strong>定期从上述导出器获取指标</li><li id="1521" class="mv mw it me b mf ne mi nf lp ng lt nh lx ni mu na nb nc nd bi translated">prometheus-alertmanager 可以处理来自prometheus服务器的警报，并将它们路由到指定的后端(电子邮件、slack等)</li></ul><p id="b2ba" class="pw-post-body-paragraph mc md it me b mf nj ju mh mi nk jx mk lp nl mm mn lt nm mp mq lx nn ms mt mu im bi translated">其他组件用于管理日志:</p><ul class=""><li id="9612" class="mv mw it me b mf nj mi nk lp oi lt oj lx ok mu na nb nc nd bi translated">promtail 是一个DeamonSet，它的每个pod都负责收集它正在运行的节点上的日志，并将它们发送到loki</li><li id="d481" class="mv mw it me b mf ne mi nf lp ng lt nh lx ni mu na nb nc nd bi translated"><strong class="me iu"> loki </strong>存储从promtail收到的日志</li></ul><p id="28b5" class="pw-post-body-paragraph mc md it me b mf nj ju mh mi nk jx mk lp nl mm mn lt nm mp mq lx nn ms mt mu im bi translated">grafana 也部署在这些组件之上。这是一个web界面，我们将使用它来可视化存储在Loki中的日志和存储在Prometheus中的指标。Grafana有一个很棒的插件集合，允许它连接到许多其他数据源。</p><p id="539d" class="pw-post-body-paragraph mc md it me b mf nj ju mh mi nk jx mk lp nl mm mn lt nm mp mq lx nn ms mt mu im bi translated">因为我们的集群运行在Civo Kubernetes上，所以我们可以访问默认的StorageClass，这可以从以下命令的结果中看出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/0197bc5a9fc6892e13004e8eeb30ddfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QlU19h94NyHrslTOYiAN2w.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">Civo中的默认存储类</figcaption></figure><p id="5412" class="pw-post-body-paragraph mc md it me b mf nj ju mh mi nk jx mk lp nl mm mn lt nm mp mq lx nn ms mt mu im bi translated">这个StorageClass用于为需要持久存储的组件提供持久卷:对于Loki堆栈，<em class="nx"> prometheus-server </em>和<em class="nx"> prometheus-alertmanager </em>。以下命令显示了创建的PVC和PV:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/56529dd073d81ec760b99aec77f8aa5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*efPCykx17yo69WumbMX2RQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">创建PVC和PV以保持普罗米修斯指标</figcaption></figure><p id="4d45" class="pw-post-body-paragraph mc md it me b mf nj ju mh mi nk jx mk lp nl mm mn lt nm mp mq lx nn ms mt mu im bi translated">从Civo dashboard中，我们可以看到“Volumes”部分中的这两个存储项目:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/15cfa330cc1b7cd3280027c44b0a0806.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sLl03b1MKymfNs4oHf3Suw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">PV是使用Civo的默认存储类自动创建的</figcaption></figure><p id="43a2" class="pw-post-body-paragraph mc md it me b mf nj ju mh mi nk jx mk lp nl mm mn lt nm mp mq lx nn ms mt mu im bi translated">要访问Grafana，我们首先检索在安装步骤中自动生成的密码:</p><pre class="kj kk kl km gt ny nz oa ob aw oc bi"><span id="6491" class="lg lh it nz b gy od oe l of og">$ kubectl get secret loki-grafana --namespace=loki -o jsonpath="{.data.admin-password}" | base64 --decode ; echo</span></pre><p id="f3e6" class="pw-post-body-paragraph mc md it me b mf nj ju mh mi nk jx mk lp nl mm mn lt nm mp mq lx nn ms mt mu im bi translated">接下来，我们通过端口转发暴露grafana pod:</p><pre class="kj kk kl km gt ny nz oa ob aw oc bi"><span id="88e2" class="lg lh it nz b gy od oe l of og">$ kubectl port-forward --namespace loki service/loki-grafana 3000:80</span></pre><p id="7c19" class="pw-post-body-paragraph mc md it me b mf nj ju mh mi nk jx mk lp nl mm mn lt nm mp mq lx nn ms mt mu im bi translated">然后，我们可以从本地浏览器访问<em class="nx"> localhost:3000 </em>上的仪表板，并使用<em class="nx"> admin </em>作为用户名和之前获取的密码登录</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/a7f74015e707d2c9803c6eb3d98be19c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jx3y2Djt_BIuQ5Zcc_HLfw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">Grafana登录屏幕</figcaption></figure><p id="a107" class="pw-post-body-paragraph mc md it me b mf nj ju mh mi nk jx mk lp nl mm mn lt nm mp mq lx nn ms mt mu im bi translated">从主页，我们进入“浏览”菜单:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/279545e02f4b8cde104cac952af67d7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E-JU6_3jg6KMU0MhT_ggqQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">格拉夫纳家园</figcaption></figure><p id="7241" class="pw-post-body-paragraph mc md it me b mf nj ju mh mi nk jx mk lp nl mm mn lt nm mp mq lx nn ms mt mu im bi translated">浏览控制面板允许我们选择不同的数据源:</p><ul class=""><li id="dbcf" class="mv mw it me b mf nj mi nk lp oi lt oj lx ok mu na nb nc nd bi translated">洛基为了让日志可视化</li><li id="90e7" class="mv mw it me b mf ne mi nf lp ng lt nh lx ni mu na nb nc nd bi translated">普罗米修斯为了形象化度量</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/03a83c3924cc516605f0670ab016bf91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t0h0CRuGzs3TNnJ3YxOQaw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">Grafana中的可用数据源</figcaption></figure><p id="9a69" class="pw-post-body-paragraph mc md it me b mf nj ju mh mi nk jx mk lp nl mm mn lt nm mp mq lx nn ms mt mu im bi translated">使用Loki数据源，我们可以使用<strong class="me iu">日志浏览器</strong>过滤日志。由于Loki用诸如Pod的名称、名称空间等标签索引每个日志条目，所以只显示我们对标签选择感兴趣的日志变得非常容易。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/3d1b379f0f0db87ac7e89cfc9071e704.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_RR8OHXTDpntDEAWT4zN3g.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">日志可以从洛基贴在上面的标签中检索到</figcaption></figure><p id="1dac" class="pw-post-body-paragraph mc md it me b mf nj ju mh mi nk jx mk lp nl mm mn lt nm mp mq lx nn ms mt mu im bi translated">下面的截图显示了从运行在<em class="nx"> webhooks </em>名称空间中的<em class="nx"> mongo </em> Pod中检索到的日志。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/d5da73889055065f26bd51748b170efb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4eT7zduh5cy5n0RvPFQnOg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">查看mongo容器的日志</figcaption></figure><p id="ab52" class="pw-post-body-paragraph mc md it me b mf nj ju mh mi nk jx mk lp nl mm mn lt nm mp mq lx nn ms mt mu im bi translated">使用Prometheus数据源，我们可以使用<strong class="me iu">指标浏览器</strong>过滤指标。由于Prometheus使用Pod名称、名称空间等标签为每个指标条目编制了索引，因此只显示我们对标签选择感兴趣的指标变得非常容易。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/542f24206666f673e586be860f96ad7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*df8fcgv7HmJU7m0Fc7y73w.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">查看节点指标(例如:空闲内存的演变)</figcaption></figure><p id="24f2" class="pw-post-body-paragraph mc md it me b mf nj ju mh mi nk jx mk lp nl mm mn lt nm mp mq lx nn ms mt mu im bi translated">几分钟后，我们在集群中安装了Loki堆栈，并开始可视化简单的日志和指标。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="6fa1" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">关键外卖</h2><p id="33d6" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">对于任何类型的应用程序来说，监视和日志堆栈都是必不可少的，即使对于附带项目来说，它也是非常有用的。在本文中，我们只是触及了这个提供许多配置选项和功能的堆栈的表面。试着发挥它的全部潜力。</p><p id="4975" class="pw-post-body-paragraph mc md it me b mf nj ju mh mi nk jx mk lp nl mm mn lt nm mp mq lx nn ms mt mu im bi translated">在<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/journey-of-a-microservice-application-in-the-kubernetes-world-e2f6475ddde1">下一篇文章</a>中，我们将后退一步，使用<a class="ae ky" href="https://acorn.io" rel="noopener ugc nofollow" target="_blank"> Acorn </a>，一个用于Kubernetes的应用部署框架来指定、打包和运行webhooks应用。</p></div></div>    
</body>
</html>