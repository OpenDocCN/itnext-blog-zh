<html>
<head>
<title>How to write better conditional expressions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何写出更好的条件表达式</h1>
<blockquote>原文：<a href="https://itnext.io/how-to-write-better-conditional-expressions-712c3dd014db?source=collection_archive---------0-----------------------#2021-03-24">https://itnext.io/how-to-write-better-conditional-expressions-712c3dd014db?source=collection_archive---------0-----------------------#2021-03-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/733d99fc40b7d977255df056a81f9e4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wha7iuU9kD5Kj1VRnVfGmA.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@jontyson?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">乔恩·泰森</a>在<a class="ae kf" href="/s/photos/left-or-right?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="b7fd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">编写条件代码可以被视为非常简单明了的事情，您只需学习一次，然后就一直这样做。</p><p id="e55f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，即使是最简单的事情也可以改进。</p><p id="488b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是一些可以用来编写更好的条件表达式的小技巧:</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="1b8b" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">用简单的If替换If/Else</h1><figure class="mk ml mm mn gt ju gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/e34d036706c3c9b4824d3679394d4ca0.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/1*utCg6pa_3JJbwOSYNReIOA.png"/></div></figure><p id="a511" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">上面的代码说明了当我们有一个函数根据给定的条件返回不同的结果时的情况。</p><p id="1e6c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mo mp mq mr b">return</code>语句停止一个函数的执行，并从该函数返回一个值。这意味着return语句之后的代码将不会被执行。</p><p id="7740" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，我们可以像这样轻松地重写上面的代码:</p><figure class="mk ml mm mn gt ju gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/f6aadc9fd2ffa0134e1366265925f16e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*a2A82d0RjTx-cbl7NqeWog.png"/></div></figure><p id="ecd0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这种情况下，不需要其他条件分支，因为如果第一个条件被评估为<strong class="ki iu">真</strong>，则返回值<strong class="ki iu">偶数</strong>，并且函数执行停止。</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="2403" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">将大部分代码放在条件分支之外</h1><figure class="mk ml mm mn gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mt"><img src="../Images/133996065d19d132eb1ded3445045cb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WE2bjagqdyfDgMn-miFmFQ.png"/></div></div></figure><p id="7294" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">上面的代码说明了只有在满足条件的情况下我们才必须运行某个代码的情况。</p><p id="72eb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这种方法的问题是，函数的执行可能变得难以理解，尤其是如果<strong class="ki iu"> if </strong>分支中的代码很长。</p><p id="b4ac" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">更明确的方法如下:</p><figure class="mk ml mm mn gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mt"><img src="../Images/e7c893848c110f11b03a0977538ae754.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5juSSM6N9GIY_LNrXqU8jA.png"/></div></div></figure></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><p id="1b79" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们不是将整个代码放在一个条件分支中，如果鼠标没有越界，这个分支就会运行，而是检查鼠标位置是否无效，如果是，我们就停止函数的执行，否则，我们就让它继续执行。</p><h1 id="595d" class="ll lm it bd ln lo mu lq lr ls mv lu lv lw mw ly lz ma mx mc md me my mg mh mi bi translated">当有太多条件时，使用开关</h1><figure class="mk ml mm mn gt ju gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/6399066ff6da6f3bef135396ed383bb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/1*mTDfO7Xeyu9G1T2H-e9kMA.png"/></div></figure><p id="097c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当我们必须处理多个条件分支时，就像上面的例子一样，编写<strong class="ki iu"> If/Else </strong>对并不是最好的选择。</p><p id="fe8c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因为我们检查同一个变量的值，所以我们可以使用<strong class="ki iu">开关轻松地将其转换为更清晰的形式。</strong></p><figure class="mk ml mm mn gt ju gh gi paragraph-image"><div class="gh gi na"><img src="../Images/37907f236210675d6774dfb5895b5c16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/format:webp/1*U1J_mwO8UL9RfBX00Mq_lA.png"/></div></figure></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="627b" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">当条件分支中的代码只是一行时，使用字典</h1><p id="5c7e" class="pw-post-body-paragraph kg kh it ki b kj nb kl km kn nc kp kq kr nd kt ku kv ne kx ky kz nf lb lc ld im bi translated">当我们只需要在满足某个条件的情况下执行一个函数时，就像上面的代码一样，我们可以进一步改进，我们可以使用字典来代替<strong class="ki iu"> Switch语句。</strong></p><figure class="mk ml mm mn gt ju gh gi paragraph-image"><div class="gh gi na"><img src="../Images/814916a172f5812840a458e05597abb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/format:webp/1*OXuwCnWk4VbyzuB79O8Bug.png"/></div></figure><p id="6649" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">就书面代码而言，该词典提供了最清晰、最短的版本。</p><p id="c0d3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里，我们将函数引用保存在一个对象中，然后基于<code class="fe mo mp mq mr b">key </code>值调用所需的函数，但前提是该键有值。</p><p id="8842" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mo mp mq mr b">dic['a']</code>将返回<code class="fe mo mp mq mr b">moveLeft</code>，<code class="fe mo mp mq mr b">dic['w']</code>将返回<code class="fe mo mp mq mr b">moveTop</code>以此类推。</p><p id="a53c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是，如果没有与<code class="fe mo mp mq mr b">key</code>值匹配的属性，那么它将返回<code class="fe mo mp mq mr b">undefined</code>，因此我们需要在尝试调用该函数之前检查该键是否有值。</p><p id="e098" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是通过<code class="fe mo mp mq mr b">dic[key] &amp;&amp; dic[key]();</code>完成的，这与</p><pre class="mk ml mm mn gt ng mr nh ni aw nj bi"><span id="8110" class="nk lm it mr b gy nl nm l nn no">if(dic[key]){<br/>  dic[key]();<br/>}</span></pre><h1 id="c105" class="ll lm it bd ln lo mu lq lr ls mv lu lv lw mw ly lz ma mx mc md me my mg mh mi bi translated">结论</h1><p id="2868" class="pw-post-body-paragraph kg kh it ki b kj nb kl km kn nc kp kq kr nd kt ku kv ne kx ky kz nf lb lc ld im bi translated">即使是最小的事情也可以改进，写条件表达式就是其中之一。关键是要一直寻找更好更新的解决老问题的方法，谁知道呢，也许有时候你会有所发现。</p></div></div>    
</body>
</html>