<html>
<head>
<title>Build Your First Blockchain Application in 5 Quick Steps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过5个快速步骤构建您的第一个区块链应用</h1>
<blockquote>原文：<a href="https://itnext.io/build-your-first-blockchain-application-in-5-quick-steps-89ebb96adbfe?source=collection_archive---------1-----------------------#2018-02-21">https://itnext.io/build-your-first-blockchain-application-in-5-quick-steps-89ebb96adbfe?source=collection_archive---------1-----------------------#2018-02-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/8aeb4cb2aff5209fab311d253db67b6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kL2WvCe-a0TfznenEUnIUw.jpeg"/></div></div></figure><p id="3299" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://www.linkedin.com/cws/share?url=https%3A%2F%2Fitnext.io%2Fbuild-your-first-blockchain-application-in-5-quick-steps-89ebb96adbfe" rel="noopener ugc nofollow" target="_blank"> <em class="kx">点击这里在LinkedIn </em>上分享这篇文章</a></p><p id="b37e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">说区块链有炒作是一种保守的说法。但是为了让这场革命继续前进，我们需要更多的工程师！最近，<a class="ae kw" href="https://techcrunch.com/2018/02/14/blockchain-engineers-are-in-demand/" rel="noopener ugc nofollow" target="_blank">宣布</a>每个区块链工程师有14个职位空缺。</p><p id="d0f3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">很明显，这里人才匮乏，本教程的目标是提供一个区块链基础，在这里你可以快速构建你的第一个全栈分散式应用(DApp)。</p><p id="23eb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们将建立一个作为投票系统的DApp，代码可以在这里找到<a class="ae kw" href="https://github.com/benstew/voting-blockchain-dapp" rel="noopener ugc nofollow" target="_blank"/>。本教程将介绍如何在本地区块链网络上创建、编译和部署合同。然后，您将能够通过nodejs cosole或网页GUI与合同进行交互。</p><p id="7397" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">请记住，这可以用有限的技术知识来完成，但它是为那些有一点编码经验的人设计的。在我们进行这些步骤时，将会有一个简短的流程背景，作为高级概述。如果你对某个特定的领域感兴趣，不要犹豫去谷歌搜索更多的信息。</p><p id="d9de" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是一种轻量级的方法，允许您使用完整的堆栈项目立即投入运行。本教程的特点是没有框架，有限的依赖，没有废话。</p><p id="030c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们直接进入…</p><h1 id="59cb" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">步骤1:克隆存储库并安装依赖项</h1><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="f3ac" class="mf kz iq mb b gy mg mh l mi mj"><em class="kx"># Clone the source repository</em><br/>git clone <a class="ae kw" href="https://github.com/benstew/voting-blockchain-dapp.git" rel="noopener ugc nofollow" target="_blank">https:<em class="kx">//github.com/benstew/voting-blockchain-dapp.git</em></a><br/></span><span id="6445" class="mf kz iq mb b gy mk mh l mi mj"><em class="kx"># Check that npm and node are installed</em><br/><em class="kx"># The tutorial was created with the below versions</em><br/>created with the below versions)<br/>$ npm -v<br/>v7.10.1</span><span id="966f" class="mf kz iq mb b gy mk mh l mi mj">$ node -v<br/>4.2.0</span></pre><p id="88a1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Ganache是一个在本地内存中运行的区块链模拟器。我们将用它来测试我们的应用程序以太坊区块链:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="e1f9" class="mf kz iq mb b gy mg mh l mi mj">$ npm install ganache-cli web3@0.20.2</span></pre><p id="c853" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">必须编译坚固性代码。我们将使用“solc”来编译我们的solidity代码:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="17ea" class="mf kz iq mb b gy mg mh l mi mj">$ npm install solc</span></pre><h1 id="e340" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">步骤2:运行Ganache CLI</h1><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="7024" class="mf kz iq mb b gy mg mh l mi mj">$ node_modules/.bin/ganache-cli</span></pre><p id="1c9b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">预期产出:</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ml"><img src="../Images/2c68300efbd02bad2d9f7acb67c62628.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Hewf5lWLl7XB-ebq.png"/></div></div></figure><h1 id="e1f7" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">第三步:编辑合同</h1><p id="2e41" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">我们将在nodejs控制台中编译契约:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="33c2" class="mf kz iq mb b gy mg mh l mi mj">~/voting-blockchain-app $ node<br/>&gt; Web3 = require('web3')<br/>&gt; web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));</span></pre><p id="f0f5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以确保web3对象已初始化，并且可以通过对该对象使用“accounts”方法与区块链进行通信:</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mr"><img src="../Images/9d25930c315f7e740f6eaf7ee054a469.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cNSxLjEks4XvX-Dk.png"/></div></div></figure><p id="fa6f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">要编译合同，将solidity代码从voting.sol加载到一个字符串变量中，然后编译(也将在nodejs控制台中运行):</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="4845" class="mf kz iq mb b gy mg mh l mi mj">&gt; code = fs.readFileSync('voting.sol').toString()<br/>&gt; solc = require('solc')<br/>&gt; compiledCode = solc.compile(code)</span></pre><h1 id="1ee7" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">步骤4:部署合同</h1><p id="9722" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">创建合同对象并部署合同:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="3e68" class="mf kz iq mb b gy mg mh l mi mj">&gt; abiDefinition = JSON.parse(compiledCode.contracts[':voting'].interface)<br/>&gt; VotingContract = web3.eth.contract(abiDefinition)<br/>&gt; byteCode = compiledCode.contracts[':voting'].bytecode<br/>&gt; deployedContract = VotingContract.new(['Bill','Tom','Janice'],{data: byteCode, from: web3.eth.accounts[0], gas: 4700000})<br/>&gt; deployedContract.address<br/>&gt; contractInstance = VotingContract.at(deployedContract.address)</span></pre><p id="7b14" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">仅供参考——与区块链互动需要花钱。我们通过上面的<strong class="ka ir"> gas </strong>金额来指定我们愿意为包含在区块链中的代码支付多少费用。这个数额将给予矿工，使我们的代码可以包括在区块链。</p><h1 id="1533" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">步骤5:与合同互动</h1><p id="a316" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">首先，我们将通过节点控制台与契约进行交互:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="0c13" class="mf kz iq mb b gy mg mh l mi mj">&gt; contractInstance.totalVotesFor.call('Bill')<br/>Output: { [String: '0'] s: 1, e: 0, c: [ 0 ] }</span><span id="a611" class="mf kz iq mb b gy mk mh l mi mj">&gt; contractInstance.voteForCandidate('Bill', {from: web3.eth.accounts[0]})<br/>Output: '0xdedc7ae544c3dde74ab5a0b07422c5a51b5240603d31074f5b75c0ebc786bf53'</span><span id="1128" class="mf kz iq mb b gy mk mh l mi mj">&gt; contractInstance.voteForCandidate('Tom', {from: web3.eth.accounts[0]})<br/>Output:'0x02c054d238038d68b65d55770fabfca592a5cf6590229ab91bbe7cd72da46de9'</span><span id="ade5" class="mf kz iq mb b gy mk mh l mi mj">&gt; contractInstance.voteForCandidate('Tom', {from: web3.eth.accounts[0]})<br/>Output:'0x3da069a09577514f2baaa11bc3015a16edf26aad28dffbcd126bde2e71f2b76f'</span><span id="9cdf" class="mf kz iq mb b gy mk mh l mi mj">$ contractInstance.totalVotesFor.call('Janice').toLocaleString()<br/>Output:'3'</span></pre><p id="d086" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们还可以通过轻量级的web GUI与合同进行交互。</p><p id="2b90" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了使用GUI，您需要为您的合同更新<a class="ae kw" href="https://github.com/benstew/voting-blockchain-dapp/blob/master/index.js#L6" rel="noopener ugc nofollow" target="_blank">~/voting-区块链-app/index.js </a>中的合同实例地址</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="303e" class="mf kz iq mb b gy mg mh l mi mj"><em class="kx"># In your nodejs console, execute contractInstance.address to </em><br/><em class="kx"># get the address at which the contract is deployed and change </em><br/><em class="kx"># the line below to use your deployed address</em><br/>contractInstance = ScoringContract.at('0xe46c0742867695226bdacc9b821d7f26dbdd294e');</span></pre><p id="f971" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在浏览器中打开~/voting-区块链-app/index.html。您应该会看到下面的内容，并且能够通过输入候选人的姓名(Bill、Tom、Janice)并单击“投票”进行交互:</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ms"><img src="../Images/0e362bab394ab5e839250588a46d61c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*v7HzeCf9f_XsHvvF.png"/></div></div></figure><p id="dcd4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">本教程的目标是为构建您的第一个区块链应用程序提供一个快速、简洁的介绍。通过理解完整的堆栈流，很容易调整这个玩具应用程序或构建一些全新的东西。</p><p id="175b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一个很好的下一步是在这里深入研究以太坊文档。在那里，您可以学习构建任何东西，从更高级的DApps到众卖，再到构建您自己的加密货币！</p><p id="4ec5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你真诚的，</p><p id="2edf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">本·斯图尔特</p></div></div>    
</body>
</html>