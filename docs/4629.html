<html>
<head>
<title>SwiftUI Keyboard Shortcuts and macOS Menu Bar.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI键盘快捷键和macOS菜单栏。</h1>
<blockquote>原文：<a href="https://itnext.io/swiftui-keyboard-shortcuts-and-menu-bar-be22abbb3791?source=collection_archive---------1-----------------------#2020-08-08">https://itnext.io/swiftui-keyboard-shortcuts-and-menu-bar-be22abbb3791?source=collection_archive---------1-----------------------#2020-08-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/c5d338cebf0b18bebfcee4a0522f928d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ontl7EuMLsi0uYqjus2ojg.png"/></div></div></figure><div class=""/><p id="d1ff" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">使用SwiftUI 2，向操作添加键盘快捷键和向应用程序的菜单栏添加按钮非常容易。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="9e73" class="lg lh je bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">键盘快捷键</h1><p id="f9c5" class="pw-post-body-paragraph kb kc je kd b ke me kg kh ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky im bi translated">您可以简单地通过将<code class="fe mj mk ml mm b">.keyboardShortcut(_:)</code>添加到按钮来为动作添加键盘快捷键:</p><figure class="mn mo mp mq gt iv"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="f7c0" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您几乎可以将每个角色设置为<code class="fe mj mk ml mm b">KeyEquivalent</code>。但是请注意，你不能通过简单地按“B”来切换按钮。当使用像“v”这样的字母时，你需要按“⌘⇧V”，当使用像“6”这样的数字时，你需要按“⌘6".”你也可以指定你自己的修饰键，把它们传递给<code class="fe mj mk ml mm b">modifier</code>参数。</p><figure class="mn mo mp mq gt iv"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="6926" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您可以定义一个，甚至多个。</p><figure class="mn mo mp mq gt iv"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="e9f1" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">苹果开发者网站上有所有事件修改器的列表。</p><p id="e6b5" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在访问<code class="fe mj mk ml mm b">KeyEquivalent</code>属性时，您不仅可以将字母和数字设置为快捷方式，还可以设置其他按钮，如space或page up。</p><figure class="mn mo mp mq gt iv"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="4789" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">苹果开发者网站上有一份所有等同物的列表。您也可以通过按下escape按钮或enter按钮来切换按钮:</p><figure class="mn mo mp mq gt iv"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="db89" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">或者</p><figure class="mn mo mp mq gt iv"><div class="bz fp l di"><div class="mr ms l"/></div></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="428c" class="lg lh je bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">。命令()</h1><p id="c494" class="pw-post-body-paragraph kb kc je kd b ke me kg kh ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky im bi translated">使用SwiftUI 2，您还可以向应用程序的菜单栏添加按钮。您可以在工具栏中添加新菜单，也可以在现有菜单中添加按钮。在app协议中，命令被直接传递到场景。</p><figure class="mn mo mp mq gt iv"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="5544" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">有两种选择，要么将命令直接传递给<code class="fe mj mk ml mm b">.commands()</code>修饰符，要么将它们放在一个单独的结构中。</p><figure class="mn mo mp mq gt iv"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="3537" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后你用<code class="fe mj mk ml mm b">.commands { AppCommands() }</code>把命令传到现场。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="0eac" class="lg lh je bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">命令菜单</h1><p id="80e6" class="pw-post-body-paragraph kb kc je kd b ke me kg kh ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky im bi translated">命令菜单在菜单栏中创建新菜单。</p><figure class="mn mo mp mq gt iv"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="49af" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这将创建一个名为“menu”的菜单，它有两个按钮，用于执行一个操作。您还可以向按钮添加键盘快捷键，该快捷键显示在标签旁边。<code class="fe mj mk ml mm b">Divider()</code>可用于将动作分组在一起。当然你也可以在命令菜单中添加一个<code class="fe mj mk ml mm b">Picker()</code>。但是您需要将<code class="fe mj mk ml mm b">@State</code>作为<code class="fe mj mk ml mm b">@Binding</code>传递给<code class="fe mj mk ml mm b">AppCommands</code>结构。当你想添加子菜单时，添加一个<code class="fe mj mk ml mm b">Menu()</code>。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="b252" class="lg lh je bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">命令组</h1><p id="4b3a" class="pw-post-body-paragraph kb kc je kd b ke me kg kh ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky im bi translated">可以使用命令组向现有菜单添加按钮。您可以将它们添加到现有按钮之前或之后，也可以替换现有按钮。</p><figure class="mn mo mp mq gt iv"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="128f" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">用您想要的按钮替换<code class="fe mj mk ml mm b">CommandGroupPlacement</code>。一些例子是<code class="fe mj mk ml mm b">.appInfo</code>、<code class="fe mj mk ml mm b">.pasteboard</code>或<code class="fe mj mk ml mm b">.undoRedo</code>。完整的列表在<a class="ae mt" href="https://developer.apple.com/documentation/swiftui/commandgroupplacement" rel="noopener ugc nofollow" target="_blank">苹果开发者网站</a>上。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="a624" class="lg lh je bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">更大的</h1><p id="1360" class="pw-post-body-paragraph kb kc je kd b ke me kg kh ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky im bi translated">还有一组预定义的命令。</p><figure class="mn mo mp mq gt iv"><div class="bz fp l di"><div class="mr ms l"/></div></figure></div></div>    
</body>
</html>