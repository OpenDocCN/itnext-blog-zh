<html>
<head>
<title>Add Typescript to react-boilerplate project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">向react-boilerplate项目添加类型脚本</h1>
<blockquote>原文：<a href="https://itnext.io/add-typescript-to-react-boilerplate-project-332862b53fed?source=collection_archive---------5-----------------------#2018-11-22">https://itnext.io/add-typescript-to-react-boilerplate-project-332862b53fed?source=collection_archive---------5-----------------------#2018-11-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="c414" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在Angular中使用typescript多年来，我一直是Typescript的忠实支持者。它真的帮助我写出更可靠的代码，更快地捕捉错误。最近我参与了React项目，这个项目是用react-boilerplate创建的。由于react样板项目不支持类型脚本，我决定使用类型脚本文档在<a class="ae kl" href="https://www.typescriptlang.org/docs/handbook/react-&amp;-webpack.html" rel="noopener ugc nofollow" target="_blank">https://www.typescriptlang.org/docs/handbook/react-&amp;-web pack . html</a>添加它</p><p id="d6a3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以下是步骤:</p><ol class=""><li id="dcaa" class="km kn iq jp b jq jr ju jv jy ko kc kp kg kq kk kr ks kt ku bi translated">为react、node、jest和styled组件添加类型脚本、类型脚本加载器和类型</li></ol><pre class="kv kw kx ky gt kz la lb lc aw ld bi"><span id="812a" class="le lf iq la b gy lg lh l li lj">yarn add source-map-loader ts-loader typescript <a class="ae kl" href="http://twitter.com/types/jest" rel="noopener ugc nofollow" target="_blank">@types/jest</a> <a class="ae kl" href="http://twitter.com/types/react" rel="noopener ugc nofollow" target="_blank">@types/react</a> <a class="ae kl" href="http://twitter.com/types/react-dom" rel="noopener ugc nofollow" target="_blank">@types/react-dom</a> <a class="ae kl" href="http://twitter.com/types/styled-components" rel="noopener ugc nofollow" target="_blank">@types/styled-components</a> -D</span></pre><p id="71f3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2.用internals/web pack/web pack . base . babel . js中的typescript和js文件的源映射支持替换babel。</p><pre class="kv kw kx ky gt kz la lb lc aw ld bi"><span id="8c0a" class="le lf iq la b gy lg lh l li lj">module: {<br/>     rules: [<br/>       {<br/>         test: /\.jsx?$/, <br/>         exclude: /node_modules/,<br/>         use: {<br/>          loader: 'ts-loader'<br/>         },<br/>       },<br/>      // addition - add source-map support<br/>      { <br/>        enforce: "pre", <br/>        test: /\.js$/, <br/>        exclude: /node_modules/, <br/>        loader: "source-map-loader" },<br/>...</span></pre><p id="89c4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.在internals/web pack/web pack . base . babel . js的resolve块中添加ts和tsx文件扩展名</p><pre class="kv kw kx ky gt kz la lb lc aw ld bi"><span id="7fc8" class="le lf iq la b gy lg lh l li lj">resolve: {<br/>  extensions: ['.js', '.jsx', '.react.js', '.ts', '.tsx']<br/>}</span></pre><p id="895f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">4.在项目的根目录下创建tsconfig.json。</p><pre class="kv kw kx ky gt kz la lb lc aw ld bi"><span id="0c2a" class="le lf iq la b gy lg lh l li lj">{<br/>  "compilerOptions": {<br/>    "baseUrl": "app",<br/>    "outDir": "build/dist",<br/>    "module": "esnext",<br/>    "target": "es5",<br/>    "lib": ["es6", "dom"],<br/>    "sourceMap": true,<br/>    "allowJs": true,<br/>    "jsx": "react",<br/>    "moduleResolution": "node",<br/>    "rootDir": "./",<br/>    "forceConsistentCasingInFileNames": true,<br/>    "allowSyntheticDefaultImports": true<br/>  },<br/>  "exclude": [<br/>    "node_modules",<br/>    "build",<br/>    "scripts",<br/>    "acceptance-tests",<br/>    "webpack",<br/>    "jest",<br/>    "internals"<br/>  ]<br/>}</span></pre><p id="fb66" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以下是关于配置的一些要点:</p><p id="f8cd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">a.你需要混合ts和js(尤其是在转换过程的乞讨中。所以使用<strong class="jp ir"> allowJs </strong></p><p id="a23a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">b.为了支持这样的导入，使用<strong class="jp ir"> baseUrl </strong></p><pre class="kv kw kx ky gt kz la lb lc aw ld bi"><span id="b37e" class="le lf iq la b gy lg lh l li lj">import HomePage from 'containers/HomePage/Loadable';</span></pre><p id="8b42" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">c.为了能够导入react，请使用<strong class="jp ir">allowSyntheticDefaultImports</strong></p><pre class="kv kw kx ky gt kz la lb lc aw ld bi"><span id="1a05" class="le lf iq la b gy lg lh l li lj"><strong class="la ir">import </strong>React <strong class="la ir">from 'react'</strong>;</span></pre><p id="25e3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">5.将index.js重命名为index.tsx并重新编译。</p><p id="9ecd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">就是这样。有用！</p></div></div>    
</body>
</html>