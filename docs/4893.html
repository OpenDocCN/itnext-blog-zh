<html>
<head>
<title>Swift Basic — Access Control</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Swift Basic —访问控制</h1>
<blockquote>原文：<a href="https://itnext.io/swift-basic-access-control-a7e97ab25006?source=collection_archive---------5-----------------------#2020-10-17">https://itnext.io/swift-basic-access-control-a7e97ab25006?source=collection_archive---------5-----------------------#2020-10-17</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><figure class="gm go js jt ju jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj jr"><img src="../Images/1280317676c429df839f6bb0a01bac56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oqH0vQGxPSKkYGxyw2R6Eg.png"/></div></div></figure><p id="4b6a" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi la translated">wift为代码提供了不同的可访问级别。它们包括<code class="fe lj lk ll lm b">private</code>、<code class="fe lj lk ll lm b">fileprivate</code>、<code class="fe lj lk ll lm b">internal</code>、<code class="fe lj lk ll lm b">public</code>和<code class="fe lj lk ll lm b">open</code>。这个特性可以限制其他开发人员访问、扩展和覆盖创建者的实现。当一个框架/库被创建并在不同的开发者之间共享时，这是很有用的。</p><figure class="lo lp lq lr gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj ln"><img src="../Images/27cbaa05fedcf887930d44187e6236ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*puUbVsScluaUwl4yj-xKsQ.png"/></div></div></figure><p id="14d7" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">在开始之前，有必要对什么是<code class="fe lj lk ll lm b">module</code>有一个清楚的了解。模块是一个单独的代码分发单元，例如您的应用程序和通过<code class="fe lj lk ll lm b">CocoaPods</code>安装的第三方。</p><p id="e9ac" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated"><code class="fe lj lk ll lm b">open</code>和<code class="fe lj lk ll lm b">public</code>用于声明跨不同模块的代码可访问性级别。<code class="fe lj lk ll lm b">internal</code>、<code class="fe lj lk ll lm b">fileprivate</code>和<code class="fe lj lk ll lm b">private</code>用于Swift文件级。</p></div><div class="ab cl ls lt hy lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="in io ip iq ir"><h1 id="0957" class="lz ma iu bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">访问控制—私有</h1><figure class="lo lp lq lr gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj mx"><img src="../Images/6367ef8f0410e6bf6753a8c821e82a55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EslULCL0uhrLDm9L5R8M-Q.png"/></div></div></figure><p id="ba38" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated"><code class="fe lj lk ll lm b">private</code>表示声明的代码(<code class="fe lj lk ll lm b">class</code>、<code class="fe lj lk ll lm b">struct</code>、<code class="fe lj lk ll lm b">enum</code>、<code class="fe lj lk ll lm b">property</code>、<code class="fe lj lk ll lm b">method</code>等)只能在当前的封闭类型内访问。</p><figure class="lo lp lq lr gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj my"><img src="../Images/a0efeae9cb8c7f43f1ef94c38fcaa27a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QzSdHNv3cqNuxebGnd7DAQ.png"/></div></div></figure><p id="07fb" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated"><code class="fe lj lk ll lm b">extension</code>作用域只有在扩展的<code class="fe lj lk ll lm b">class</code>、<code class="fe lj lk ll lm b">struct</code>和<code class="fe lj lk ll lm b">enum</code>的同一个文件中声明，才能访问那些私有属性。</p></div><div class="ab cl ls lt hy lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="in io ip iq ir"><h1 id="a9b3" class="lz ma iu bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">访问控制—文件私有</h1><figure class="lo lp lq lr gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj mz"><img src="../Images/1b80c97fb09d1131937e2f1f0545c71a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6ltKWu1JpVXyZbxSXo3UPA.png"/></div></div></figure><p id="68bc" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">每个Swift文件可以包含多个<code class="fe lj lk ll lm b">class</code>、<code class="fe lj lk ll lm b">struct</code>和<code class="fe lj lk ll lm b">enum</code>等。<code class="fe lj lk ll lm b">fileprivate</code>表示代码只能在同一个Swift文件中访问。</p></div><div class="ab cl ls lt hy lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="in io ip iq ir"><h1 id="4439" class="lz ma iu bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">访问控制—内部(默认)</h1><figure class="lo lp lq lr gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj na"><img src="../Images/052d2198233e2d7c4f7c4fee31f839be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B8QJzUm_X2oPcMBz-DrGwQ.png"/></div></div></figure><p id="1923" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated"><code class="fe lj lk ll lm b">Internal</code>是Swift world中默认的访问控制。那些<code class="fe lj lk ll lm b">internal</code>类可以在同一个模块内自由访问。开发人员甚至可以将其子类化，并覆盖内部的属性和函数。</p></div><div class="ab cl ls lt hy lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="in io ip iq ir"><h1 id="634f" class="lz ma iu bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">访问控制—公共</h1><figure class="lo lp lq lr gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj nb"><img src="../Images/f6a17db4029ae6934c528ff27d62769d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hLhHrCbG_zCOy53MaOo0aA.png"/></div></div></figure><p id="6154" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated"><code class="fe lj lk ll lm b">public</code>表示可以跨不同模块访问的特定<code class="fe lj lk ll lm b">class</code>，但是<strong class="ke iv">不能</strong>被子类化。</p><figure class="lo lp lq lr gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj nc"><img src="../Images/4dfa8725550d35cc596a3c3dfd263b5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DnavW86ozdrias4gojetng.png"/></div></div></figure><p id="7f67" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">示例用法是一个类的<code class="fe lj lk ll lm b">init</code>函数，目的是防止其他开发人员进行异常初始化。</p></div><div class="ab cl ls lt hy lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="in io ip iq ir"><h1 id="7235" class="lz ma iu bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">访问控制—开放</h1><figure class="lo lp lq lr gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj nb"><img src="../Images/2a791199cf33294559b64a2fd0547371.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ut7dt4jtQc56j91Qgsc1JQ.png"/></div></div></figure><p id="41f5" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">是所有其他访问控制中最不受限制的。所有的<code class="fe lj lk ll lm b">open</code> <code class="fe lj lk ll lm b">class</code>都可以被访问和子类化，在模块之间没有限制<strong class="ke iv">。甚至可以覆盖类中的<code class="fe lj lk ll lm b">open</code>函数和属性。</strong></p><figure class="lo lp lq lr gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj nc"><img src="../Images/c78cf9b3e63edacee552979fba4defc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_7LbzhC8qe0bED4vd7hEGg.png"/></div></div></figure><p id="4108" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">例如，<code class="fe lj lk ll lm b">UICollectionView</code>是一个<code class="fe lj lk ll lm b">open</code>类，开发者可以创建一个自定义的<code class="fe lj lk ll lm b">UICollectionView</code>。</p></div><div class="ab cl ls lt hy lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="in io ip iq ir"><h1 id="66db" class="lz ma iu bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">摘要</h1><p id="c995" class="pw-post-body-paragraph kc kd iu ke b kf nd kh ki kj ne kl km kn nf kp kq kr ng kt ku kv nh kx ky kz in bi translated">访问控制为开发者提供了一个很好的工具来限制不同部分代码的访问权限。当您正在开发SDK / API供其他开发人员实现时，这很有用。它们包括:</p><ol class=""><li id="9c81" class="ni nj iu ke b kf kg kj kk kn nk kr nl kv nm kz nn no np nq bi translated"><code class="fe lj lk ll lm b">private </code> —最受限制的类型和属性只能在当前封闭类型中访问</li><li id="9328" class="ni nj iu ke b kf nr kj ns kn nt kr nu kv nv kz nn no np nq bi translated"><code class="fe lj lk ll lm b">fileprivate</code> —只能在同一文件中访问</li><li id="092b" class="ni nj iu ke b kf nr kj ns kn nt kr nu kv nv kz nn no np nq bi translated"><code class="fe lj lk ll lm b">internal</code> —这是默认的访问控制，可以在同一个模块内自由访问。</li><li id="2093" class="ni nj iu ke b kf nr kj ns kn nt kr nu kv nv kz nn no np nq bi translated"><code class="fe lj lk ll lm b">public</code> —可以跨不同模块(应用模块和第三方库)访问类，但不能对其进行子类化，也不能覆盖其内容。</li><li id="3f4e" class="ni nj iu ke b kf nr kj ns kn nt kr nu kv nv kz nn no np nq bi translated"><code class="fe lj lk ll lm b">open</code> —最不受限制的访问控制，其他开发者可以子类化它，覆盖那些开放属性。</li></ol><p id="8cab" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">要开发一个安全稳定的程序，建议先考虑<code class="fe lj lk ll lm b">private</code>，在放松访问控制前三思。</p></div><div class="ab cl ls lt hy lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="in io ip iq ir"><h1 id="20ad" class="lz ma iu bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">参考和进一步阅读</h1><ol class=""><li id="c1ba" class="ni nj iu ke b kf nd kj ne kn nw kr nx kv ny kz nn no np nq bi translated">关于Swift访问控制的官方文件</li></ol><div class="nz oa gq gs ob oc"><a href="https://docs.swift.org/swift-book/LanguageGuide/AccessControl.html" rel="noopener  ugc nofollow" target="_blank"><div class="od ab fp"><div class="oe ab of cl cj og"><h2 class="bd iv gz z fq oh fs ft oi fv fx it bi translated">访问控制—Swift编程语言(Swift 5.3)</h2><div class="oj l"><h3 class="bd b gz z fq oh fs ft oi fv fx dk translated">访问控制限制其他源文件和模块中的代码对您的部分代码的访问。此功能支持…</h3></div><div class="ok l"><p class="bd b dl z fq oh fs ft oi fv fx dk translated">docs.swift.org</p></div></div></div></a></div></div><div class="ab cl ls lt hy lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="in io ip iq ir"><figure class="lo lp lq lr gu jv gi gj paragraph-image"><div class="gi gj ol"><img src="../Images/e96aecd4afb2d35498d4891c9a580f2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/0*878xSzxCMt-x24Ko.png"/></div></figure><p id="12cd" class="pw-post-body-paragraph kc kd iu ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz in bi translated">欢迎您关注我，在<a class="ae om" href="https://twitter.com/myrick_chow" rel="noopener ugc nofollow" target="_blank">Twitter @ myrik _ chow</a>获取更多信息和文章。感谢您阅读这篇文章。祝您愉快！😄</p></div></div>    
</body>
</html>