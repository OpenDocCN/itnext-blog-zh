# 微前端不存在。

> 原文：<https://itnext.io/micro-frontends-dont-exist-93228c6d2a73?source=collection_archive---------1----------------------->

![](img/3dae55c28736bad48f147005191a88b6.png)

伊万·阿列克西奇在 [Unsplash](https://unsplash.com/s/photos/crossroads?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上的照片

*更新(10 月 17 日):关于联邦架构策略的一系列文章和一本书即将出版。这个故事可能包含过时的信息和一些天真的断言。请谨慎阅读。*

# 还给凯撒…

你最近一定看了很多关于“微前端”的东西。但是你对它了解多少呢？根据自己的定义，一个*微前端*到底会是什么样子？定义通常所说的*微前端*的正确术语是什么？实际上，这个名字背后的故事和它后来的用法是相当尴尬的。

*微前端*这个词终于在 2016 年出现。它被描述为“前端的微服务”。在如何设计微前端的背后有一个非常宽泛的想法…但是这个术语本身很快成为主流。

今天，我们已经弄清楚了如何使用 Webpack 模块联盟正确地解耦前端*，但是这是否会使前端*微前端*？不完全是。*

# 前端微服务？

什么是微服务？它是软件架构策略的一部分，其中来自整体架构的服务被分割成更小的部分并独立开发。每个服务都独立存在。它可以通过 API 网关访问，并且执行的操作数量非常少。它们通常按域划分，用于执行 CRUD 操作(！).

后来影响前端的误解和耻辱从这里开始。

> 微前端被误称为微前端。有点像智商:它实际上不评价智力，而是评价推理能力。

从技术上讲，*微前端*必须:

1.  执行单个前端操作。
2.  不了解其他前端。
3.  成为更大整体的一部分。

基于这三点，任何前端开发者都可以很容易地发现使用术语*微前端*的误解。前端不是服务，因此*微前端*不是“微服务”。设计本质上是不同的，不应该进行比较。微服务通常执行 CRUD 操作。今天提出的微前端的方式一点也不“微”。因此，*微前端*和“微服务”的唯一共同点是两者都是独立开发的。

> 微前端可能存在，但它不是一个体系结构，它不以出售给你的方式存在:它是一个独立的组件。

让我们再来看看微前端应该遵循的 3 个技术规则。

1.  执行单个前端操作。

这就是所谓的组件。如果你用的是 [Angular](https://angular.io/) ，一个*微前端*可能是一个[骗局](https://medium.com/@LayZeeDK/scam-single-component-angular-module-97a891916216)组件。

2.不了解其他前端。

我们可以争论这个。如果完全隔离，如何接触到*微前端*？宿主应用程序。从技术上讲，您可以让独立的前端独立工作，但这没有意义。主机应用程序是系统的关键部分，它必须了解所有托管的前端。

3.成为更大整体的一部分。

通过使用*微前端*这个词，我们给一个技术上不可行的解决方案打上了烙印，也不符合“微前端服务”的定义。此术语只有在前端完全隔离(无主机)的情况下才有效。相比之下，微服务可以在完全隔离的情况下运行，并且仍然会执行它们被创建的目的。

就架构而言，没有*微前端架构*，但有**联合架构策略** (FAS)，其中一个或多个**联合者、**主机知道它必须加载的**联合**应用以确保系统的有效性。

还有很多例子表明*微前端*本身就是 pwn，但这三个例子是显而易见的。你练习联合架构(在我们的例子中是联合前端)越多，你就越能理解今天描述的术语*微前端*背后的误解。

# 联合架构战略(FAS)

我们今天谈论*微前端*不能不提到 [Webpack 模块联盟](https://webpack.js.org/concepts/module-federation/)由 [Zack Jackson](https://medium.com/u/9ef1379caffc?source=post_page-----93228c6d2a73--------------------------------) 创建，并受到 [Apollo 联盟](https://www.apollographql.com/docs/federation/)的启发。为什么？因为*微前端*事实上是*事实上是*——不是*微前端*而是联邦前端(FF)。谈论不存在的、以不同技术命名的东西，不是把属于凯撒的东西给凯撒。

只要前端为前端服务，就只有前端。不是“微前端”。我们所说的由主机应用程序单独开发和持有前端并不是“微前端架构”，而是联合架构。

> 我们所说的“微前端”是遵循联合架构策略的前端。

# 选择加入的决定性因素是什么？

我个人使用联邦前端已经有一段时间了。我一直在研究、试用和做许多关于通常所说的“微前端架构”的演示。这让我意识到他们并不存在。这种类型的架构风格只针对大项目和大团队的污名是很有争议的。就架构而言，没有唯一的解决方案，因此联邦架构可以根据其特性适合任何项目，而不管其规模或团队规模如何。

让我们假设我们正在创建一个应用程序。我们已经知道这个应用程序的各个部分在下一年不会改变。为什么每次我们想在其他应用程序上部署变更时，都要重新编译这些部分呢？在这种情况下，使用 FA 可以利用 webpack 模块联合。如果您在 monorepo 环境中工作，您还可以利用增量构建，只构建已经更改的应用程序。这将使你的 CD/CI 渠道飞速发展。

# 自己试试！

使用应用程序联合是一个非常酷的实验，可以减轻桌面和移动应用程序的负担。什么是好的移动应用？可能是它能够为最终用户提供应用程序中最少的功能。使用 FA 时，可以在运行时选择加载哪个前端，不加载哪个前端。是不是很棒？你不需要在每台设备上捆绑或在 DDD 上运行来确保你的用户得到他想要的。您不必为了显示或不显示某个组件而在代码中添加条件语句。您只需配置主机应用程序(federator)来服务您的应用程序(federated)的模块。由于移动设备的伸缩性至关重要，联合架构可能会有很大帮助。

联邦应用程序的使用正在改变我们开发应用程序的方式。它将任何类型的依赖关系移动到松散依赖关系。应用程序在运行时被解析，可以很容易地被替换或替代。再说一次，我们谈论的是应用而不是微前端，因为有些应用可能没有微…

# 结论

这篇文章不是为了解决围绕*微前端*的现有炒作，但我认为把东西放回它们该在的地方是很有趣的。

如果您对联合架构感兴趣，我将非常乐意与您分享选择这种架构时的好、坏以及——有时——丑陋之处。你可以通过推特联系我，或者在下面留言，我会尽快回复你。

感谢您的关注。我真的希望你喜欢这本书，它充满了爱。

学分:

[](https://medium.com/swlh/webpack-5-module-federation-a-game-changer-to-javascript-architecture-bcdd30e02669) [## Webpack 5 联盟:JavaScript 架构的游戏改变者

### 多个 Webpack 构建一起工作，就像一个整体。运行时轻松、可扩展的编排，在两个客户端上…

medium.com](https://medium.com/swlh/webpack-5-module-federation-a-game-changer-to-javascript-architecture-bcdd30e02669) [](https://webpack.js.org/concepts/module-federation/) [## 模块联盟|网络包

### 多个独立的构建应该形成一个应用程序。这些独立的版本之间不应该有依赖关系…

webpack.js.org](https://webpack.js.org/concepts/module-federation/) [](https://microservices.io/patterns/microservices.html) [## 微服务模式:微服务架构模式

### 您正在开发一个服务器端企业应用程序。它必须支持各种不同的客户端，包括…

微服务. io](https://microservices.io/patterns/microservices.html) [](https://www.apollographql.com/docs/federation/) [## 阿波罗联盟简介

### 为了充分利用 GraphQL，您的组织应该公开一个提供统一接口的单一数据图…

www.apollographql.com](https://www.apollographql.com/docs/federation/) [](https://martinfowler.com/articles/micro-frontends.html) [## 微前端

### Cam Jackson Cam Jackson 是 Thoughtworks 的一名全栈 web 开发人员和顾问，他对如何…

martinfowler.com](https://martinfowler.com/articles/micro-frontends.html)