<html>
<head>
<title>Create template in Android Studio for creating state classes used by Bloc library</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Android Studio中创建模板，用于创建块库使用的状态类</h1>
<blockquote>原文：<a href="https://itnext.io/create-template-in-android-studio-for-creating-state-classes-used-by-bloc-library-5cd4df474e91?source=collection_archive---------4-----------------------#2022-06-21">https://itnext.io/create-template-in-android-studio-for-creating-state-classes-used-by-bloc-library-5cd4df474e91?source=collection_archive---------4-----------------------#2022-06-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="59fe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">阻塞模式</strong>是颤振中最广泛使用的状态管理模式之一。关于哪种架构模式是最好的争论永远不会结束，我们所能做的就是尝试其中的一些，看看哪种模式最适合我们的需求。我选择了<strong class="jp ir">bloc</strong>(<em class="kl">B</em>business<em class="kl">Lo</em>gic<em class="kl">Components</em>模式及其对应的Flutter插件(<a class="ae km" href="https://pub.dev/packages/bloc" rel="noopener ugc nofollow" target="_blank"> bloc </a>和<a class="ae km" href="https://pub.dev/packages/flutter_bloc" rel="noopener ugc nofollow" target="_blank"> flutter_bloc </a>)作为行业标准之一。尽管它很健壮，但它有一个很大的缺陷:样板，样板，样板…</p><p id="8519" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">幸运的是，有一个<a class="ae km" href="https://plugins.jetbrains.com/plugin/12129-bloc" rel="noopener ugc nofollow" target="_blank"> Bloc插件</a>对创建Bloc、cubits、state类很有帮助，甚至添加了一个内容动作来智能地添加像<code class="fe kn ko kp kq b">RepositoryProvider</code>、<code class="fe kn ko kp kq b">BlocProvider</code>等这样的父窗口小部件……它甚至智能地提供了<code class="fe kn ko kp kq b">MultiRepositoryProvider</code>，如果你想的话，例如，包装<code class="fe kn ko kp kq b">RepositoryProvider</code>等……</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi kr"><img src="../Images/0cbfc3d659f0e7af81ad49c4cff51ee2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/1*jiuJfsp0bi8k0eif3swHUw.png"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">用Bloc构造包装小部件，比如<code class="fe kn ko kp kq b">RepositoryProvider</code>、<code class="fe kn ko kp kq b">BlocConsumer</code>、BlocBuilder、BlocSelector等等</figcaption></figure><p id="7794" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这实际上大大加快了编码速度。以及通过添加新文件的菜单添加新的<strong class="jp ir"> Bloc/Cubit </strong>及其对应的状态类。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ld"><img src="../Images/027e62030fb31f6a0dc810386f734dfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*Mqnjfw3_8wgNOhWXXrSXAw.png"/></div></figure><p id="89b4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你选择添加<code class="fe kn ko kp kq b">Cubit</code>类，让我们称之为<code class="fe kn ko kp kq b">FetchSomethingCubit</code>，如果我们使用<a class="ae km" href="https://pub.dev/packages/equatable" rel="noopener ugc nofollow" target="_blank">等价的</a>插件(我强烈推荐)，我们将得到两个类:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="le lf l"/></div></figure><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="le lf l"/></div></figure><p id="3a90" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通常，我使用的状态是:</p><ul class=""><li id="b233" class="lg lh iq jp b jq jr ju jv jy li kc lj kg lk kk ll lm ln lo bi translated"><code class="fe kn ko kp kq b"><strong class="jp ir">&lt;CubitName&gt;</strong>Initial</code></li><li id="cd6f" class="lg lh iq jp b jq lp ju lq jy lr kc ls kg lt kk ll lm ln lo bi translated"><code class="fe kn ko kp kq b"><strong class="jp ir">&lt;CubitName&gt;</strong>Loading</code></li><li id="94ff" class="lg lh iq jp b jq lp ju lq jy lr kc ls kg lt kk ll lm ln lo bi translated"><code class="fe kn ko kp kq b"><strong class="jp ir">&lt;CubitName&gt;</strong>Finished</code></li><li id="00cd" class="lg lh iq jp b jq lp ju lq jy lr kc ls kg lt kk ll lm ln lo bi translated"><code class="fe kn ko kp kq b"><strong class="jp ir">&lt;CubitName&gt;</strong>Error</code></li></ul><p id="dd5e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">包含错误的状态通常有一个<code class="fe kn ko kp kq b">String</code>成员，它包含所描述的错误，或者您可以放置一些<code class="fe kn ko kp kq b">enum</code>,用于在给定的语言环境中生成适当的消息。输入所有这些类真的很烦人，所以我们将在Android Studio中使用<strong class="jp ir">实时模板</strong>来加快整个过程。</p><p id="8d47" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果我们在IntelliJ Idea <a class="ae km" href="https://www.jetbrains.com/help/idea/using-live-templates.html" rel="noopener ugc nofollow" target="_blank">网站</a>上看看，我们可以找到如下的解释:</p><blockquote class="lu lv lw"><p id="ef37" class="jn jo kl jp b jq jr js jt ju jv jw jx lx jz ka kb ly kd ke kf lz kh ki kj kk ij bi translated">使用实时模板在代码中插入常见的结构，如循环、条件、各种声明或打印语句。</p></blockquote><p id="0d7e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，我找不到比为不同的cubits和blocs创建state类更重复的了。</p><p id="9b40" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以，在MacOS上打开<strong class="jp ir"> <em class="kl">首选项</em> </strong>对话框，或者如果我没说错的话在Windows上打开<strong class="jp ir"> <em class="kl">设置</em> </strong>(在Mac上:<em class="kl"> Android Studio &gt;首选项</em>，在Windows上:<em class="kl">文件&gt;设置</em>(如果我对Windows说错了，请指正)。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi ma"><img src="../Images/55dbd1b195673bde5f416d7acad7b9b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PNSqdg2KX1RLlHr-3fyT2Q.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">首选项对话框</figcaption></figure><ol class=""><li id="a1d4" class="lg lh iq jp b jq jr ju jv jy li kc lj kg lk kk mf lm ln lo bi translated">在编辑器下的左侧窗格中选择Live Templates。</li><li id="12fc" class="lg lh iq jp b jq lp ju lq jy lr kc ls kg lt kk mf lm ln lo bi translated">用镖选择行</li><li id="8ab5" class="lg lh iq jp b jq lp ju lq jy lr kc ls kg lt kk mf lm ln lo bi translated">点击<strong class="jp ir"> + </strong>按钮</li></ol><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/92a6eeb2af95fd3cfb462cbe5c5876e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:434/format:webp/1*t0IOa65UfXQZnll8leZp_g.png"/></div></figure><p id="27c7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">4.选择实时模板</p><p id="46bd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">5.像这样在下面的表格中填写数据:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mh"><img src="../Images/7ad471b5f0a327463caff2a0d7835118.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BLGd_9_mIPfIbyo8XMtAFA.png"/></div></div></figure><p id="9e25" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们输入缩写<code class="fe kn ko kp kq b">state</code>，模板文本将是:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="le lf l"/></div></figure><p id="d04c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">重要的是点击底部的按钮<strong class="jp ir"> <em class="kl">改变</em> </strong>并选择<strong class="jp ir"> <em class="kl">镖&gt;顶层</em> </strong>，因为该设置代表我们可以使用该模板的范围。</p><p id="c0ba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在转到我们有两个状态类的文件，记住前缀是什么(在我们的例子中是<strong class="jp ir"><em class="kl">FetchSomething</em></strong>)。删除那两个类，按Tab开始输入<code class="fe kn ko kp kq b">FetchSomething</code>，按<strong class="jp ir"> <em class="kl">输入</em> </strong>完成整个事情。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="mi lf l"/></div></figure><p id="6e58" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">哦，这是我的第一篇媒体文章，所以如果我犯了一些错误或解释得不好，请原谅我。欢迎评论。:)</p></div></div>    
</body>
</html>