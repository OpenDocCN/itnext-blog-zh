<html>
<head>
<title>SMI : Flexibility and interoperability with the Service Meshes on Kubernetes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SMI:Kubernetes上服务网格的灵活性和互操作性</h1>
<blockquote>原文：<a href="https://itnext.io/smi-flexibility-and-interoperability-with-the-service-meshes-on-kubernetes-8cd88a4d8238?source=collection_archive---------5-----------------------#2019-09-30">https://itnext.io/smi-flexibility-and-interoperability-with-the-service-meshes-on-kubernetes-8cd88a4d8238?source=collection_archive---------5-----------------------#2019-09-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/a298695f224a86e2ea751e127364cc84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LS2lkiLAZxVxjkBoMOLc8g.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">服务网格接口:服务网格的标准</figcaption></figure><div class=""/></div><div class="ab cl kc kd hu ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ij ik il im in"><p id="1d6a" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">像CNI(容器网络接口)、CRI(容器运行时接口)、CSI(容器存储接口)和现在的SMI(服务网格接口)这样的Kubernetes接口允许他们目标技术的多种底层实现。这使得相互竞争的供应商能够在一个公平的环境中创建特定的解决方案，并有助于防止用户被某个特定的解决方案所束缚。结果是竞争加剧，创新更加迅速；这对用户都有好处。这里的用户大多是指开发人员，尽管有多种选择，但仍需要一种可移植的API来以与提供者无关的方式使用，其中SMI提供的互操作性可以帮助与现有网格提供者集成的工具和实用程序的新兴生态系统。</p><p id="0baf" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">微软和其他参与公司的SMI建立在维护公共API基线的行业概念之上，以支持容器生态系统中的可组合性和创新。定义一个可由各种提供商实施的通用标准，帮助他们实现最终用户的标准化和服务网格提供商的创新。SMI旨在成为一个生态系统友好的解决方案，为用户使用和构建服务网格技术提供一致的API。</p><h1 id="deba" class="li lj jf bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated"><strong class="ak">服务网格接口——规范和API概述</strong></h1><p id="24f5" class="pw-post-body-paragraph kj kk jf kl b km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc mk le lf lg ij bi translated">服务网格接口(SMI)规范包括四个API对象。有流量规格、流量目标、流量分割和流量指标。每个API对象都被扩展为Kubernetes CRD(自定义资源定义)。</p><h2 id="9f9e" class="ml lj jf bd lk mm mn dn lo mo mp dp ls ku mq mr lw ky ms mt ma lc mu mv me mw bi translated">流量规格</h2><p id="559b" class="pw-post-body-paragraph kj kk jf kl b km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc mk le lf lg ij bi translated">一组资源，便于用户基于每个协议指定/定义流量结构。该资源定义了构建访问规则所需的基本流量结构。这些资源与访问控制配置协同工作/使用，以在协议级别管理流量。在这个规范中有两个实体(HTTP和TCP路由),用户可以将流量与特定的协议1:1匹配。</p><h2 id="b36f" class="ml lj jf bd lk mm mn dn lo mo mp dp ls ku mq mr lw ky ms mt ma lc mu mv me mw bi translated">HTTPRouteGroup</h2><p id="5a09" class="pw-post-body-paragraph kj kk jf kl b km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc mk le lf lg ij bi translated">该资源使用户能够描述HTTP/1和HTTP/2流量。</p><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mx"><img src="../Images/3a1b03f7b094a121305914cba1ca9468.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tdApZYZxzytuqqpIGDFEag.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">HTTP路由组—分类/定义HTTP1和HTTP2流量</figcaption></figure><p id="c8b5" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">如下所示，使用CRD使一个HTTPRouteGroup API规范对Kubernetes可用，流量规范配置包括一个匹配规则:一个定义结构(路径等)的正则表达式。)和一个方法:http方法(GET、POST、PUT等。)</p><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nc"><img src="../Images/f3b0cd98a1ea97f7c36812783687ace6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xA3ligwOFHvx3Fw1bBaZ7A.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">HTTP路由组-Kubernetes CRD和配置</figcaption></figure><h2 id="88f8" class="ml lj jf bd lk mm mn dn lo mo mp dp ls ku mq mr lw ky ms mt ma lc mu mv me mw bi translated">TCP过程</h2><p id="7782" class="pw-post-body-paragraph kj kk jf kl b km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc mk le lf lg ij bi translated">用于描述L4 TCP流量的资源。这是一个简单的路由，它将应用程序配置为接收原始的非协议特定流量。</p><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nd"><img src="../Images/b457d1b97f3dfe325a8dec05aae02f83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qn05dJ3RIRjeLNVJBMgicA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">TCP路由—分类/定义TCP流量(L4)和相应的Kubernetes CRD &amp;配置</figcaption></figure><p id="48a6" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">流量规范定义了访问策略中使用的流量类型。访问规则是使用上面的流量结构定义的。</p><h1 id="1820" class="li lj jf bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">交通访问控制</h1><p id="0a33" class="pw-post-body-paragraph kj kk jf kl b km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc mk le lf lg ij bi translated">流量访问控制资源用于定义应用程序的访问控制策略。有了这些资源，用户可以实现粒度策略规则，以允许使用服务帐户+选择器的服务之间的通信。</p><ul class=""><li id="d58a" class="ne nf jf kl b km kn kq kr ku ng ky nh lc ni lg nj nk nl nm bi translated">访问控制属于授权范畴，默认认证由底层实现处理(服务网格提供者，如Istio、Linkerd、Consul、Maesh等。).例如，Istio使用RBAC创建ServiceRole和ServiceRoleBinding来提供授权。</li><li id="6d2f" class="ne nf jf kl b km nn kq no ku np ky nq lc nr lg nj nk nl nm bi translated">SMI规范中的访问控制是附加的，默认情况下<strong class="kl jg">所有流量</strong>都被<strong class="kl jg">拒绝</strong>。</li></ul><h2 id="14c2" class="ml lj jf bd lk mm mn dn lo mo mp dp ls ku mq mr lw ky ms mt ma lc mu mv me mw bi translated"><strong class="ak">流量目标规格</strong></h2><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ns"><img src="../Images/31d6e9ff75e3905a6e749c63720de53d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tx0th2MgD6PIJIN4xmj_vA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">TrafficTarget规范—流量访问控制</figcaption></figure><p id="cb55" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">流量访问控制有三个概念，每个概念都是通过TrafficTarget使用三个字段定义的:</p><ol class=""><li id="9ca5" class="ne nf jf kl b km kn kq kr ku ng ky nh lc ni lg nt nk nl nm bi translated"><strong class="kl jg"> Source </strong>:流量的来源，反映在具体的Pod列表中(由选择器选择/分组)。目前，只有使用ServiceAccount的选择器支持它。目前不支持资源选择(如指定部署、指定服务)。</li><li id="eda6" class="ne nf jf kl b km nn kq no ku np ky nq lc nr lg nt nk nl nm bi translated"><strong class="kl jg">目的地</strong>:流量的目标也反映在特定的Pod列表中(由选择器选择/分组)。目前，它还只支持使用带有ServiceAccount的选择器。</li><li id="5f91" class="ne nf jf kl b km nn kq no ku np ky nq lc nr lg nt nk nl nm bi translated"><strong class="kl jg">路由</strong>:流量规范(HTTPRouteGroup，TCPRoute)，用于区分目的地提供的不同接入方式。</li></ol><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nu"><img src="../Images/61a4e97fd3e0e9cb26645f3b6ffdfe00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VFgqD6AyGrWhl4ch0iLNKg.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">交通目标配置和相关的Kubernetes</figcaption></figure><p id="9742" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">例如，假设一个应用程序中有三组不同的服务:网站服务、支付服务(核心应用程序服务)和prometheus(度量服务)，用户希望定义访问控制策略来控制特定于应用程序(api)的服务通信和特定于应用程序的度量通信。</p><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/357beeb3a385f10ac47400e48a7b05d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xv8FbqejwtOzJBcXbRHnCg.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">交通访问控制图解— SMI</figcaption></figure><p id="f02c" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">上述场景需要两个允许的访问控制策略(TrafficTargets)，一个用于定义web和支付服务之间的api通信，另一个用于定义prometheus与web和支付服务的通信。创建以下规则集的示例工作流如下所示:</p><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nv"><img src="../Images/5037ab15e8686408c348bbe0746191cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AHGobnJLAtUD6KrfPGOyhA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">流量访问控制配置工作流</figcaption></figure><p id="fde2" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">上述配置定义了两个访问控制规则:</p><ol class=""><li id="f583" class="ne nf jf kl b km kn kq kr ku ng ky nh lc ni lg nt nk nl nm bi translated">对于将ServiceAccount作为api-service运行的pod，允许由serviceAccount作为prometheus的pod定义的api-service-routes中的度量路由</li><li id="1204" class="ne nf jf kl b km nn kq no ku np ky nq lc nr lg nt nk nl nm bi translated">对于使用ServiceAccount作为api-service运行的pod，允许使用serviceAccount为网站服务和支付服务定义的api-service-routes中的api路由</li></ol><p id="2bb1" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">将上述规则翻译成更简单的术语:</p><ul class=""><li id="a001" class="ne nf jf kl b km kn kq kr ku ng ky nh lc ni lg nj nk nl nm bi translated">允许使用ServiceAccount prometheus运行的服务访问使用ServiceAccount api-service运行的服务的指标。</li><li id="14fc" class="ne nf jf kl b km nn kq no ku np ky nq lc nr lg nj nk nl nm bi translated">允许使用ServiceAccount web-service和payment-service运行的服务访问使用ServiceAccount api-service运行的服务的api。</li></ul><h2 id="9984" class="ml lj jf bd lk mm mn dn lo mo mp dp ls ku mq mr lw ky ms mt ma lc mu mv me mw bi translated">交通分流</h2><p id="3c57" class="pw-post-body-paragraph kj kk jf kl b km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc mk le lf lg ij bi translated">流量分流资源用于实现同一应用程序不同版本的流量百分比分流。这是由像Istio这样的服务网格提供商提供的服务网格的流行/普遍特征集之一。然而，SMI中流量分流的配置与Istio中的配置有很大不同。</p><p id="6c97" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">流量分割包括三个概念:根服务:流量起始点；后端服务:根服务的子集；权重:控制流向每个后端服务的流量。</p><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nw"><img src="../Images/e5c2fab80fcc143167e00b572b366e75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T1WniOdH2caGKpOfPJkMdg.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">流量分流规范—流量分流</figcaption></figure><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nx"><img src="../Images/df1dfccc55ad35a33dad3e0b31bc70a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YQPt_aq3codd_GtnJ_ULbw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">交通分流配置和相关的Kubernetes</figcaption></figure><p id="3a14" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">如上所示，流量分流配置需要一个根服务:webapp和后端服务“webapp-v1”和“webapp-v2 ”,每个都有特定的权重。</p><p id="05a9" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">例如，在一个用户拥有两个版本的web应用程序(v1和v2)的设置中，作为更新版本SMI流量分流配置的一部分，可以如下所示进行配置:</p><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ny"><img src="../Images/4a9e9805abffdecf0319bda28dd01f9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l4g8JGR6Zvt6p-ZfZ94Ozw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">流量分流配置— Webapp — v1和v2各占50%的权重</figcaption></figure><ul class=""><li id="26fc" class="ne nf jf kl b km kn kq kr ku ng ky nh lc ni lg nj nk nl nm bi translated">“webapp”:在“spec.service”中指定的是根服务，根服务FQDN用作目标服务。</li><li id="4a38" class="ne nf jf kl b km nn kq no ku np ky nq lc nr lg nj nk nl nm bi translated">“webapp-v1”和“webapp-v2”是根服务背后的两个后端服务，通常是根服务的子集。</li></ul><p id="2551" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">上述流量分流配置导致33%的流量流向webapp-v2(基于每个客户端)。权重可以是使用SMI-TrafficSplit的相对权重(例如，可以设置为1:2 ),这与Istio不同，后者是一个严格的百分比，要求总计为100。</p><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nz"><img src="../Images/8216e9a33330fcd4ac661902c4b0184f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bK20cCI_Rqrmnb0ZVeFpWg.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">交通分流图— SMI</figcaption></figure><p id="9ece" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">SMI TraffilcSplit规则将大约33%的流量重定向到“webapp-v2 ”,这是基于每个客户端的，而不是针对所有发往这些后端的请求的全局，因为这些后端可以接收来自其他Kubernetes服务的流量。</p><h2 id="4725" class="ml lj jf bd lk mm mn dn lo mo mp dp ls ku mq mr lw ky ms mt ma lc mu mv me mw bi translated">SMI与Istio中的流量分配(差异)</h2><p id="a654" class="pw-post-body-paragraph kj kk jf kl b km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc mk le lf lg ij bi translated">Istio中的上述相同配置需要一个VirtualService和一个DestinationRule，其中DestinationRule定义了区分不同流量目的地的子集。</p><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi oa"><img src="../Images/5f4364955207ffe2e7a009753c04801d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7ttppP9wh4gcWg_lWs8UEw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">Istio配置与SMI配置—流量分流</figcaption></figure><p id="f460" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">如上所述，SMI中的后端服务和Istio中的子集在功能上几乎是等同的，但是SMI和Istio之间的根本区别在于，Istio中的子集是一个虚拟的抽象对象，而k8s中没有物理资源。在SMI中，后台服务是真正的k8s服务资源。与Istio相比，SMI需要额外的配置对象来拆分流量，用户必须为每个版本建立单独的k8s服务。</p><p id="47de" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">另一个是权重设置的细微差别。SMI使用相对权重(例如，它可以设置为1:2，就像上面TrafficSplit -1000，500中所示的那样)，而Istio是一个严格的百分比，需要总计100。</p><h2 id="b2af" class="ml lj jf bd lk mm mn dn lo mo mp dp ls ku mq mr lw ky ms mt ma lc mu mv me mw bi translated">流量指标</h2><p id="0c20" class="pw-post-body-paragraph kj kk jf kl b km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc mk le lf lg ij bi translated">度量资源为工具提供了一个公共集成点，这些工具可以通过使用与HTTP流量相关的度量而受益。对于CLI工具、HPA扩展或自动化canary更新可以使用的即时指标，它遵循<code class="fe ob oc od oe b">metrics.k8s.io</code>的模式。</p><p id="773e" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">指标与'<em class="of">资源'</em>相关联。这些可以是pod，也可以是更高级别的概念，如名称空间、部署或服务。除了资源，指标的范围还包括'<em class="of">边'</em>。边代表流量的来源或目的地。这些边缘将度量限制为仅在<code class="fe ob oc od oe b">resource</code>和<code class="fe ob oc od oe b">edge.resource</code>之间的流量。<code class="fe ob oc od oe b">edge.resource</code>既可以笼统，也可以具体。在大多数情况下，一个空白的<code class="fe ob oc od oe b">edge.resource</code>将包含<code class="fe ob oc od oe b">resource</code>收到的所有流量的度量。</p><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi og"><img src="../Images/7f144e893ec03c01e03619568c5e1a5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0M9xQFugFqryJUZh3v04kA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">SMI —流量度量规范</figcaption></figure><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi oh"><img src="../Images/8b5d6bcdbea3f824d3983e6294eb21dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*di1E2U7lit0cV2r-b8RcOw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">SMI —流量度量CRD和配置</figcaption></figure></div><div class="ab cl kc kd hu ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ij ik il im in"><h1 id="b8cd" class="li lj jf bd lk ll oi ln lo lp oj lr ls lt ok lv lw lx ol lz ma mb om md me mf bi translated">SMI适配器</h1><p id="c4ee" class="pw-post-body-paragraph kj kk jf kl b km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc mk le lf lg ij bi translated">SMI使服务网格提供商能够创建适配器，该适配器将SMI规范转换为平台特定的配置。这些是Kubernetes运营商，它们实施服务网格接口(SMI) <a class="ae lh" href="https://github.com/deislabs/smi-spec/blob/master/traffic-split.md" rel="noopener ugc nofollow" target="_blank">流量分割</a>、<a class="ae lh" href="https://github.com/deislabs/smi-spec/blob/master/traffic-access-control.md" rel="noopener ugc nofollow" target="_blank">流量访问控制</a>和<a class="ae lh" href="https://github.com/deislabs/smi-spec/blob/master/traffic-specs.md" rel="noopener ugc nofollow" target="_blank">流量规格</a>API，以配合供应商特定的服务网格实施。</p><p id="3e9c" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">SMI定义了一组CRD，当构建工具或使用像Istio这样的服务网格实现时，允许在其上构建一组公共接口。SMI围绕那些通常定义的CRD构建逻辑，专门与Istio和其他提供者一起工作。多个供应商，如Linkerd、Istio、Consul、Weave-Flagger等。提供集成的适配器，以便与SMI配合使用。</p><h1 id="5df9" class="li lj jf bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">试用— Istio SMI适配器</h1><p id="908f" class="pw-post-body-paragraph kj kk jf kl b km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc mk le lf lg ij bi translated">Istio的SMI适配器包括创建一个运营商(Kubernetes部署)和所需的CRD(流量目标、流量分流等。).</p><p id="04be" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">istio适配器作为Kubernetes部署部署在istio-system名称空间中，如下所示，并不断轮询集群中创建的任何特定于SMI的对象，将其转换为Istio配置。</p><figure class="my mz na nb gt is gh gi paragraph-image"><div class="gh gi on"><img src="../Images/79a568fe7e059eeb2cb61d0ae4db0cbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/format:webp/1*Q-C9WVFfQrDmmSKzwNvGnA.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">SMI-适配器-istio部署Kubernetes</figcaption></figure><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi oo"><img src="../Images/386b1098d8a344c3a4477ebff9df1ee2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d8FrcgjMb6mXQqxaElGscA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">smi-adpater-istio轮询配置对象</figcaption></figure><p id="1b33" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">以Istio的传统bookinfo应用程序为例，检查如何使用SMI adapter for Istio管理SMI配置。Bookinfo应用程序部署在标记为“istio-injection=enabled”的“default”命名空间中，并且创建了所需的DestinationRules和VirtualService，以使用RBAC规则集访问bookinfo应用程序。</p><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi op"><img src="../Images/a463f6fae2cfcca2da0e6ba985a0a6a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j7V2N6pQypB7k1ScH1GHqQ.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">Bookinfo应用程序示例</figcaption></figure><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi oq"><img src="../Images/505cc9a9801f9f869698d4ee52f0031f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nVJdeiMqDeoviepR2WpJ_A.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">Bookinfo应用程序个人服务</figcaption></figure><p id="dc42" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">RBAC在默认命名空间上配置有显式productpage策略，以允许访问创建的productpage:</p><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi or"><img src="../Images/03b7720e3dbacbc1bdb053aec30f0028.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PP_kBSbXQndqkC07jThwLQ.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">RBAC激活和产品策略服务角色配置</figcaption></figure><p id="270f" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">如下所示，上面创建的RBAC和策略配置将服务角色和服务角色绑定配置到productpage服务。</p><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi os"><img src="../Images/f0e57a0632e6de94caf4c02c0417594c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AadDzSNVv52Rw0mi0RNLeA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">Istio目的地规则和虚拟服务</figcaption></figure><p id="daf8" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">由于ServiceRole和ServiceRoleBinding只为productpage创建，默认情况下禁止所有其他服务通信，因为Istio授权是“默认拒绝”，这意味着用户需要显式定义访问控制策略来授予对任何服务的访问权限。</p><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ot"><img src="../Images/20d42d036b1c7d13a6bf2fc1a0db8d94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qb6wNW2_8CAKlfpNi9jHkA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">Productpage无法检索详细信息和评论</figcaption></figure><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ou"><img src="../Images/35066f2aaf59c029e320cbad03511484.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P6FtRgzCl6AwuFIftCeRfw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">Productpage无法检索详细信息和评论</figcaption></figure></div><div class="ab cl kc kd hu ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ij ik il im in"><h2 id="92e6" class="ml lj jf bd lk mm mn dn lo mo mp dp ls ku mq mr lw ky ms mt ma lc mu mv me mw bi translated">流量访问控制— SMI Istio适配器</h2><p id="4495" class="pw-post-body-paragraph kj kk jf kl b km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc mk le lf lg ij bi translated">使用SMI规范创建初始访问控制配置，以允许bookinfo应用程序中所有服务之间的流量，如下所示:</p><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ov"><img src="../Images/75450b71a5ca1fe53519b8bc2d5fb40f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zardbt_qzfuk35KyfCRypQ.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">交通访问控制配置— Bookinfo示例应用程序</figcaption></figure><p id="90f1" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">定义了一组其他三个特定的流量目标，以允许从“产品页面”到“评论-v1”、“评论-v2”和“评论-v3”的流量，如下所示:</p><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ow"><img src="../Images/b1495b9368385657dd95915321b61a72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZFh9yvp-eGPg1tQOsYLcZA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">TrafficTarget配置允许从产品页面到reviews-v1、v2和reviews-v3的流量</figcaption></figure><p id="8f0d" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">创建上述配置时，Istio的SMI adapter(operator)识别集群中创建的SMI特定对象，如下所示:</p><blockquote class="ox oy oz"><p id="a067" class="kj kk of kl b km kn ko kp kq kr ks kt pa kv kw kx pb kz la lb pc ld le lf lg ij bi translated">httproutegroup.specs.smi-spec.io/bookinfo-allowed-paths创造<br/>traffictarget.access.smi-spec.io/productpage-reviews-v1创造traffictarget.access.smi-spec.io/productpage-reviews-v2创造<br/>traffictarget.access.smi-spec.io/productpage-reviews-v3创造【T2创造<br/>traffictarget.access.smi-spec.io/reviews-ratings创造</p></blockquote><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pd"><img src="../Images/4f479b79fd57396965bdede3a4816067.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v4yV27sPlz-b47e5phWB2w.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">smi-adpater-istio轮询配置对象</figcaption></figure><p id="d6dc" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">这将为应用程序中的所有服务创建ServiceAccount和ServiceRoleBinding，从而允许应用程序在没有任何流量规则的情况下运行。</p><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pe"><img src="../Images/70c49e6351db47e69785880f1bf609e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y8tPbl1zUsLzu6VShqNOfQ.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">通过SMI规范在Istio中创建的ServiceRoles和ServiceRole绑定</figcaption></figure><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pf"><img src="../Images/3af42088dfab22407a861d70f9f86d35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AzfMp-yERPrEF6wi4F4x5Q.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">访问控制策略—功能齐全的bookinfo应用程序</figcaption></figure><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pg"><img src="../Images/9016309a6c1bb81e0dc5ea7cec9c5f5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0L_7A37w5gwRDlDxiLJSaA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">访问控制策略—访问所有服务的全功能bookinfo应用程序</figcaption></figure><p id="e250" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">创建流量目标以定义访问控制策略，从而允许流量从reviews-v1和reviews-v3流向ratings-v1，禁止流量从reviews-v2:</p><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ph"><img src="../Images/62492b05200d0b246d530f18dce7eb7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pv57DcCjArKXIZ1N3WY8Cw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">TrafficTarget —禁止流量查看的访问控制策略-v2</figcaption></figure><p id="7e86" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">上述SMI TrafficTarget规范在底层Istio实现中创建了所需的ServiceRole和ServiceRoleBinding，如下所示:</p><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pi"><img src="../Images/56dda89e231872117f8caf59daeb3d85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lnL3nLmIIUSEn6lUTOXcyQ.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">SMI创建的Istio配置</figcaption></figure><p id="f9fa" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">使用上述配置，从评论到“评论-v2”的流量被禁止。</p><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pj"><img src="../Images/62cb1f4a8888014144949b57ba624b50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E51lr3jHVjj8hwZivRmzSg.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">流量图—禁止流量查看的访问控制策略-v2</figcaption></figure><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pk"><img src="../Images/61d52d0e6d8784715a85adf68ad865d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E6WTw5WASS4b9-tDmkLDBQ.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">流量图—禁止流量查看的访问控制策略-v2</figcaption></figure></div><div class="ab cl kc kd hu ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ij ik il im in"><h2 id="71c4" class="ml lj jf bd lk mm mn dn lo mo mp dp ls ku mq mr lw ky ms mt ma lc mu mv me mw bi translated">流量分流— SMI Istio适配器</h2><p id="48be" class="pw-post-body-paragraph kj kk jf kl b km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc mk le lf lg ij bi translated">在下面的工作流中，最初部署了“bookinfo-application-v1”和“reviews-v1”以及“details-v1 ”,所有流量都指向productpage的“reviews-v1”。</p><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pl"><img src="../Images/fce394adfc9a26642b46095dfc523df7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LikPbKiFL4RT2Y1hTpF0hA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">带有“评论-v1”、“评分-v1”和“详细信息-v1”的Bookinfo应用程序</figcaption></figure><p id="40a9" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">如下图所示，浏览器中的URL不会显示任何<code class="fe ob oc od oe b">ratings</code>，因为<code class="fe ob oc od oe b">reviews v1</code>根本没有调用<code class="fe ob oc od oe b">ratings</code>服务。</p><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ot"><img src="../Images/890a727eebb4e1663676c491c5799f13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fDJU5metmTB_uRLMR_d-vQ.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">只有评论的book info-v1</figcaption></figure><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pm"><img src="../Images/a2d773793a9855c9b733a9e9400dfb7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qUZbfa9C41zLBes-3PKCJA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">只有评论的book info-v1</figcaption></figure><p id="88f5" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">创建SMI TrafficSplit配置以允许所有流量“reviews-v1 ”,进而在底层Istio平台中创建虚拟服务。</p><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pn"><img src="../Images/704081b97e514dfc6d530eded26a7b6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RMFZ05a9I60spHULzcTKgA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">由SMI流量分割规范创建的Istio VirtualService流量至“reviews-v1”</figcaption></figure><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi po"><img src="../Images/d40d643bc8e8b3deae970e0ac86ec17b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AMXA41tucco0EtRveekuiw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">可视化—由SMI TrafficSplit规范创建的Istio VirtualService</figcaption></figure><p id="d349" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">bookinfo应用程序中添加了一项新服务“reviews-v2”。</p><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pp"><img src="../Images/39e11e68234744bb92933a49763917cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-IFyFzaeCvqPngpR7l-Jpg.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">Bookinfo评论-v2新增内容</figcaption></figure><p id="3bc2" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">TrafficSplit对象已更新，将10%的流量分配给新添加的“reviews-v2 ”,如下所示:</p><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pq"><img src="../Images/ee5a5f35794384ab6b7c25bba4e14ef0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Awo0kdENE5kU2kzYfXDf-w.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">由SMI流量分割规范创建的Istio VirtualService的流量流向“点评-v1 ”, 10%的流量流向“点评-v1”</figcaption></figure><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pr"><img src="../Images/23759f0b2f5c92b298246052d33f3538.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CcF8-fHYN9zg29qTsjNl4A.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">SMI在Istio中创建的虚拟服务配置流量在reviews-v1和v2之间分割</figcaption></figure><p id="610b" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">更新TrafficSplit对象，将所有100%的流量拆分到新添加的“reviews-v2 ”,如下所示:</p><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ps"><img src="../Images/2db7ac4bf18a88e9efc101c1bf312889.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5BTuQg8bqwVuzXxXGwgq9A.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">由SMI流量分割规范创建的Istio VirtualService流量至“reviews-v2”</figcaption></figure><figure class="my mz na nb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pt"><img src="../Images/c13d2625099ba46f7d7fd3fbef249ff2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NZI5GAN0P14LAA7BpsVn_Q.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">SMI在Istio中创建的虚拟服务将100%的流量分配配置为“reviews-v2”</figcaption></figure></div><div class="ab cl kc kd hu ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ij ik il im in"><p id="39e4" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">SMI让开发人员可以自由地使用服务网格功能，而不必受限于特定的实现(这将让您尝试使用<a class="ae lh" href="https://linkerd.io/" rel="noopener ugc nofollow" target="_blank"> Linkerd </a>而不是<a class="ae lh" href="https://istio.io/" rel="noopener ugc nofollow" target="_blank"> Istio </a>，而不会陷入别无选择的境地)。开发人员可以试验和更改实现，而不必更改他们的应用程序。总的来说，SMI为供应商和社区生态系统带来了好处，提供了一组通用的功能，支持服务网格提供商的灵活性和创新。</p><p id="70c0" class="pw-post-body-paragraph kj kk jf kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">考虑到SMI仍然是第一个版本，越来越多的服务网格供应商很有可能会遵循该标准，并为客户提供统一的API来实现灵活性和互操作性。希望SMI使服务网格空间民主化，提供一个跨多个平台的标准框架。</p></div></div>    
</body>
</html>