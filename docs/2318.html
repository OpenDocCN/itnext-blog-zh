<html>
<head>
<title>Using Renderer2 in Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在角度中使用渲染器2</h1>
<blockquote>原文：<a href="https://itnext.io/using-renderer2-in-angular-8f80da6756f8?source=collection_archive---------1-----------------------#2019-05-06">https://itnext.io/using-renderer2-in-angular-8f80da6756f8?source=collection_archive---------1-----------------------#2019-05-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="91d9" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">这就是我们在Angular中操作DOM的方式</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/2cf667064aafe50305e9e084d7842b00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-b5enQnC74Yym5c9-AFiQg.png"/></div></div></figure><p id="bb3d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你开始作为一名前端开发人员工作，你发现自己在浏览器上做了数千种动画，弹跳按钮，模拟日周期，感觉自己像个半神，即使你还不擅长Javascript，不知何故你发现自己有勇气切换到Angular这样的框架。你心里会有疑问。其中一个问题是:“如果我想修改DOM，除了原生JS方法，我还能使用什么？”</p><p id="0153" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">此时，您可以最终使用Renderer2来满足您的一些需求。因为说到DOM操作，Renderer2是我们可以使用的最准确的方法之一。</p><p id="5bfb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当然，VanillaJS为我们提供了DOM操作选项，用“document.querySelector”从DOM中选择元素，并从DOM中添加、删除、移除元素。非常基本的方法，总而言之，这是一个Javascript应用程序。然而，如果我们使用本地方法，我们就失去了许多重要的机会，例如Angular的DOM抽象方法，以及在非DOM环境中执行，例如服务器端渲染、Web-Worker、移动应用和桌面应用。</p><p id="d7bb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你带着嫉妒和羡慕的眼光看网站，你可以利用Renderer2的易用性和美观性。如果您需要“createElement”、“addClass”、“removeClass ”,第一个选项应该是Renderer2。<br/>(尽管如此，Angular可能不是我上面提到的例子中使用的第一个框架)</p></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><p id="4a3b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Renderer2主要用于创建自定义指令。因为指令是所有组件和用Angular开发应用程序的每个人使用的构建块。所有组件实际上都是指令。我们可以用一个简单的例子来说明这些基本知识:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lu lv l"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="7418" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您可能对这个Stackblitz示例有更好的看法:</p><div class="lw lx gp gr ly lz"><a href="https://stackblitz.com/edit/renderer2-animate?embed=1&amp;file=src/app/animate.directive.ts" rel="noopener  ugc nofollow" target="_blank"><div class="ma ab fo"><div class="mb ab mc cl cj md"><h2 class="bd ir gy z fp me fr fs mf fu fw ip bi translated">渲染2-动画-堆栈</h2><div class="mg l"><h3 class="bd b gy z fp me fr fs mf fu fw dk translated">导出到Angular CLI的Angular应用程序的启动项目</h3></div><div class="mh l"><p class="bd b dl z fp me fr fs mf fu fw dk translated">stackblitz.com</p></div></div><div class="mi l"><div class="mj l mk ml mm mi mn kp lz"/></div></div></a></div><p id="5027" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这就是Renderer2作为指令使用的方式。但是我们也可以在组件内部使用它！</p><p id="6682" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在下面的例子中，在<code class="fe mo mp mq mr b">ViewChild</code>装饰器的帮助下，我们可以创建一个<code class="fe mo mp mq mr b">button</code>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lu lv l"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="5327" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们可以通过这个Stackblitz示例详细了解这一点:</p><div class="lw lx gp gr ly lz"><a href="https://stackblitz.com/edit/angular-renderer2-incomponent-usage?embed=1&amp;file=src/app/app.component.html" rel="noopener  ugc nofollow" target="_blank"><div class="ma ab fo"><div class="mb ab mc cl cj md"><h2 class="bd ir gy z fp me fr fs mf fu fw ip bi translated">角度渲染器2-不一致-使用-堆叠</h2><div class="mg l"><h3 class="bd b gy z fp me fr fs mf fu fw dk translated">导出到Angular CLI的Angular应用程序的启动项目</h3></div><div class="mh l"><p class="bd b dl z fp me fr fs mf fu fw dk translated">stackblitz.com</p></div></div><div class="mi l"><div class="ms l mk ml mm mi mn kp lz"/></div></div></a></div></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><p id="6153" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Renderer2有19个方法。从这里使用它们相当容易。</p><h1 id="b03e" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated"><strong class="ak"> createElement() </strong></h1><p id="da67" class="pw-post-body-paragraph kr ks iq kt b ku nl jr kw kx nm ju kz la nn lc ld le no lg lh li np lk ll lm ij bi translated">大多数Renderer2方法都是不言自明的。<code class="fe mo mp mq mr b">createElement()</code>创建宿主元素的一个实例，并期望两个输入(一个可选)</p><pre class="kg kh ki kj gt nq mr nr ns aw nt bi"><span id="2be5" class="nu mu iq mr b gy nv nw l nx ny">createElement(name: string, namespace?: string):any</span></pre><p id="b059" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">但是如果您打开浏览器控制台并搜索所创建的元素，您将找不到任何内容。首先，你必须把它放在某个地方。可以用<code class="fe mo mp mq mr b">appendChild()</code>。</p><h1 id="67d1" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated"><strong class="ak"> appendChild() </strong></h1><p id="d5ab" class="pw-post-body-paragraph kr ks iq kt b ku nl jr kw kx nm ju kz la nn lc ld le no lg lh li np lk ll lm ij bi translated">向Host元素中的给定父节点追加一个子节点。期望2个输入，一个用于父节点，一个用于子节点，这是您之前用<code class="fe mo mp mq mr b">createElement()</code>创建的。</p><pre class="kg kh ki kj gt nq mr nr ns aw nt bi"><span id="6ae8" class="nu mu iq mr b gy nv nw l nx ny">appendChild(parent: any, newChild: any):</span></pre><p id="3aae" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在你创建了一个元素，比如说一个按钮。并将它放在父标签之间。但是你在屏幕上看不到任何东西。为什么？</p><p id="4d13" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因为那些开始和结束标签里面什么都没有写！</p><p id="6c73" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">不要担心。这也有一个方法。</p><h1 id="3b87" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">创建文本()</h1><p id="f98f" class="pw-post-body-paragraph kr ks iq kt b ku nl jr kw kx nm ju kz la nn lc ld le no lg lh li np lk ll lm ij bi translated">创建一个文本并添加到主机元素的<a class="ae nz" href="https://www.w3.org/TR/DOM-Level-2-Core/introduction.html" rel="noopener ugc nofollow" target="_blank"> DOM </a>中。需要一个输入</p><pre class="kg kh ki kj gt nq mr nr ns aw nt bi"><span id="befc" class="nu mu iq mr b gy nv nw l nx ny">createText(value: string)</span></pre><p id="57c5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">用这三种方法，我们可以创建一个元素并追加它。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="dc58" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果我想在上面的按钮上添加评论，我可以使用:<code class="fe mo mp mq mr b">createComment()</code>创建评论，使用<code class="fe mo mp mq mr b">insertBefore()</code>在元素前添加评论。</p><h1 id="68f9" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">createComment()</h1><p id="7534" class="pw-post-body-paragraph kr ks iq kt b ku nl jr kw kx nm ju kz la nn lc ld le no lg lh li np lk ll lm ij bi translated"><code class="fe mo mp mq mr b">createComment</code>创建一个注释并将其添加到宿主元素的DOM中。</p><pre class="kg kh ki kj gt nq mr nr ns aw nt bi"><span id="7c15" class="nu mu iq mr b gy nv nw l nx ny">createComment(value: string)</span></pre><p id="dcf8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接受一个输入。</p><h1 id="75cf" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">insertBefore()</h1><p id="9898" class="pw-post-body-paragraph kr ks iq kt b ku nl jr kw kx nm ju kz la nn lc ld le no lg lh li np lk ll lm ij bi translated"><code class="fe mo mp mq mr b">insertBefore()</code>在目标元素之前和父元素内部添加子节点。</p><pre class="kg kh ki kj gt nq mr nr ns aw nt bi"><span id="9d74" class="nu mu iq mr b gy nv nw l nx ny">insertBefore(parent: any, newChild: any, refChild: any)</span></pre><p id="36e2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">需要3个输入，第一个输入用于父元素，第二个输入用于新创建的元素，第三个输入用于引用元素。</p><p id="1dcc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">考虑到<code class="fe mo mp mq mr b">insertBefore()</code>和<code class="fe mo mp mq mr b">createComment()</code>方法，我们更新上面的例子:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="f604" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这当然不是最整洁的例子，但是非常简单。查看以下内容，了解它的实际应用。</p><div class="lw lx gp gr ly lz"><a href="https://stackblitz.com/edit/renderer2-el-ct-cc-ac-ib-incomponent?embed=1&amp;file=src/app/app.component.ts" rel="noopener  ugc nofollow" target="_blank"><div class="ma ab fo"><div class="mb ab mc cl cj md"><h2 class="bd ir gy z fp me fr fs mf fu fw ip bi translated">组件内部示例- StackBlitz</h2><div class="mg l"><h3 class="bd b gy z fp me fr fs mf fu fw dk translated">导出到Angular CLI的Angular应用程序的启动项目</h3></div><div class="mh l"><p class="bd b dl z fp me fr fs mf fu fw dk translated">stackblitz.com</p></div></div><div class="mi l"><div class="oa l mk ml mm mi mn kp lz"/></div></div></a></div><div class="lw lx gp gr ly lz"><a href="https://stackblitz.com/edit/renderer2-el-ct-cc-ac-ib?embed=1&amp;file=src/app/create-button.directive.ts" rel="noopener  ugc nofollow" target="_blank"><div class="ma ab fo"><div class="mb ab mc cl cj md"><h2 class="bd ir gy z fp me fr fs mf fu fw ip bi translated">作为自定义指令示例- StackBlitz</h2><div class="mg l"><h3 class="bd b gy z fp me fr fs mf fu fw dk translated">导出到Angular CLI的Angular应用程序的启动项目</h3></div><div class="mh l"><p class="bd b dl z fp me fr fs mf fu fw dk translated">stackblitz.com</p></div></div><div class="mi l"><div class="ob l mk ml mm mi mn kp lz"/></div></div></a></div><p id="c31b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">而如果我们想给一个元素添加一个新的样式，创建一个新的类，添加一个属性，删除它，<code class="fe mo mp mq mr b">setStyle</code> / <code class="fe mo mp mq mr b">removeStyle</code>，<code class="fe mo mp mq mr b">addClass</code> / <code class="fe mo mp mq mr b">removeClass</code>，<code class="fe mo mp mq mr b">setAttribute</code> / <code class="fe mo mp mq mr b">removeAttribute</code>，<code class="fe mo mp mq mr b">setProperty</code>方法可能会派上用场。</p><p id="12f9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">所以，我需要输入一个用户名，</p><h1 id="cb0f" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated"><strong class="ak"> setStyle() </strong></h1><p id="90f2" class="pw-post-body-paragraph kr ks iq kt b ku nl jr kw kx nm ju kz la nn lc ld le no lg lh li np lk ll lm ij bi translated">为宿主元素创建内联样式。需要4个输入，但其中一个输入是可选的。</p><pre class="kg kh ki kj gt nq mr nr ns aw nt bi"><span id="e1de" class="nu mu iq mr b gy nv nw l nx ny">setStyle(el: any, style: string, value: any, flags?: RendererStyleFlags2)</span></pre><p id="aa59" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这里，flags属性用于样式变化。默认值为<code class="fe mo mp mq mr b"><em class="oc">undefined</em></code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="e72e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们还可以在这个输入中添加一个类。</p><h1 id="176b" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">addClass()</h1><p id="7867" class="pw-post-body-paragraph kr ks iq kt b ku nl jr kw kx nm ju kz la nn lc ld le no lg lh li np lk ll lm ij bi translated">向宿主元素添加一个类。需要2个输入。</p><pre class="kg kh ki kj gt nq mr nr ns aw nt bi"><span id="7f84" class="nu mu iq mr b gy nv nw l nx ny">addClass(el: any, name: string)</span></pre><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="d9d4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果我想给这个输入增加值，我可以使用<code class="fe mo mp mq mr b">setAttribute</code>方法。</p><h1 id="a399" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">setAttribute()</h1><p id="bb1b" class="pw-post-body-paragraph kr ks iq kt b ku nl jr kw kx nm ju kz la nn lc ld le no lg lh li np lk ll lm ij bi translated">为主体元素设置属性值。需要4个输入。</p><pre class="kg kh ki kj gt nq mr nr ns aw nt bi"><span id="3127" class="nu mu iq mr b gy nv nw l nx ny">setAttribute(el: any, name: string, value: string, namespace?: string)</span></pre><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="5565" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，我们可以用<code class="fe mo mp mq mr b">setProperty</code>方法添加一个属性。</p><h1 id="df1d" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">setProperty()</h1><p id="104b" class="pw-post-body-paragraph kr ks iq kt b ku nl jr kw kx nm ju kz la nn lc ld le no lg lh li np lk ll lm ij bi translated">将带有值的属性设置为元素。看起来类似于<code class="fe mo mp mq mr b">setAttribute</code>属性，但是属性是由HTML定义的，而属性是由DOM定义的。</p><pre class="kg kh ki kj gt nq mr nr ns aw nt bi"><span id="76e7" class="nu mu iq mr b gy nv nw l nx ny">setProperty(el: any, name: string, value: any)</span></pre><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="9485" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用这些方法的“remove”副本几乎是相同的。</p><pre class="kg kh ki kj gt nq mr nr ns aw nt bi"><span id="fb62" class="nu mu iq mr b gy nv nw l nx ny">removeClass(el: any, name: string)</span><span id="c680" class="nu mu iq mr b gy od nw l nx ny">removeAttribute(el: any, name: string, namespace?: string)</span><span id="30d9" class="nu mu iq mr b gy od nw l nx ny">removeStyle(el: any, style: string, flags?: RendererStyleFlags2)</span></pre><p id="25c6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">没有removeProperty属性。setProperty对每个元素都显式有效。所以为了“移除”一个属性，你可以把它设置为一个空字符串或者简单地改变它。</p><p id="0dad" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">下面你可以看到这些方法在起作用:</p><div class="lw lx gp gr ly lz"><a href="https://stackblitz.com/edit/angular-attributes-andclasses-temp?embed=1&amp;file=src/app/beautiful-input.directive.ts" rel="noopener  ugc nofollow" target="_blank"><div class="ma ab fo"><div class="mb ab mc cl cj md"><h2 class="bd ir gy z fp me fr fs mf fu fw ip bi translated">角度属性和类别温度堆栈</h2><div class="mg l"><h3 class="bd b gy z fp me fr fs mf fu fw dk translated">导出到Angular CLI的Angular应用程序的启动项目</h3></div><div class="mh l"><p class="bd b dl z fp me fr fs mf fu fw dk translated">stackblitz.com</p></div></div><div class="mi l"><div class="oe l mk ml mm mi mn kp lz"/></div></div></a></div><h1 id="932d" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">nextSibling()</h1><p id="7e26" class="pw-post-body-paragraph kr ks iq kt b ku nl jr kw kx nm ju kz la nn lc ld le no lg lh li np lk ll lm ij bi translated"><code class="fe mo mp mq mr b">nextSibling</code>将给定节点的下一个兄弟节点给用户。</p><pre class="kg kh ki kj gt nq mr nr ns aw nt bi"><span id="4996" class="nu mu iq mr b gy nv nw l nx ny">nextSibling(node: any)</span></pre><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lu lv l"/></div></figure><h1 id="1d6b" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">parentNode()</h1><p id="0a49" class="pw-post-body-paragraph kr ks iq kt b ku nl jr kw kx nm ju kz la nn lc ld le no lg lh li np lk ll lm ij bi translated"><code class="fe mo mp mq mr b">parentNode</code>的工作方式类似于<code class="fe mo mp mq mr b">nextSibling</code>，它给用户提供了主机元素的父节点。</p><pre class="kg kh ki kj gt nq mr nr ns aw nt bi"><span id="889e" class="nu mu iq mr b gy nv nw l nx ny">parentNode(node: any)</span></pre><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lu lv l"/></div></figure><h1 id="715b" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">selectRootElement()</h1><p id="d438" class="pw-post-body-paragraph kr ks iq kt b ku nl jr kw kx nm ju kz la nn lc ld le no lg lh li np lk ll lm ij bi translated">这可能是最难正确理解的问题之一。至少在我看来是这样。在<a class="ae nz" href="https://angular.io/" rel="noopener ugc nofollow" target="_blank"> Angular.io </a>上写着:</p><pre class="kg kh ki kj gt nq mr nr ns aw nt bi"><span id="3597" class="nu mu iq mr b gy nv nw l nx ny">Implement this callback to prepare an element to be bootstrapped as a root element, and return the element instance.</span></pre><p id="bb60" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这看起来很简单，但是当您使用<code class="fe mo mp mq mr b">selectRootElement</code>方法并选择一个根元素时，它会删除您选择的元素中的所有内容。为了保留根元素中的元素，需要选择可选的<code class="fe mo mp mq mr b">preserveContent</code>输入<code class="fe mo mp mq mr b">true</code>。*</p><pre class="kg kh ki kj gt nq mr nr ns aw nt bi"><span id="c5de" class="nu mu iq mr b gy nv nw l nx ny">selectRootElement(selectorOrNode: any, preserveContent?: boolean)</span></pre><p id="47b1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您还可以通过类或标签来选择根元素。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="37da" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">下面你可以看到这三种方法</p><div class="lw lx gp gr ly lz"><a href="https://stackblitz.com/edit/nextsibling-parent-rootselect?embed=1&amp;file=src/app/app.component.html" rel="noopener  ugc nofollow" target="_blank"><div class="ma ab fo"><div class="mb ab mc cl cj md"><h2 class="bd ir gy z fp me fr fs mf fu fw ip bi translated">指令StackBlitz中的nextSibling、selectRootElement和parentNode方法</h2><div class="mg l"><h3 class="bd b gy z fp me fr fs mf fu fw dk translated">导出到Angular CLI的Angular应用程序的启动项目</h3></div><div class="mh l"><p class="bd b dl z fp me fr fs mf fu fw dk translated">stackblitz.com</p></div></div><div class="mi l"><div class="of l mk ml mm mi mn kp lz"/></div></div></a></div><h1 id="e4ca" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">听()</h1><pre class="kg kh ki kj gt nq mr nr ns aw nt bi"><span id="62c4" class="nu mu iq mr b gy nv nw l nx ny">listen(target: any, eventName: string, callback: (event: any) =&gt; boolean | void): () =&gt; void</span></pre><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lu lv l"/></div></figure><div class="lw lx gp gr ly lz"><a href="https://stackblitz.com/edit/listen?embed=1&amp;file=src/app/app.component.ts" rel="noopener  ugc nofollow" target="_blank"><div class="ma ab fo"><div class="mb ab mc cl cj md"><h2 class="bd ir gy z fp me fr fs mf fu fw ip bi translated">听着-斯塔克布里兹</h2><div class="mg l"><h3 class="bd b gy z fp me fr fs mf fu fw dk translated">导出到Angular CLI的Angular应用程序的启动项目</h3></div><div class="mh l"><p class="bd b dl z fp me fr fs mf fu fw dk translated">stackblitz.com</p></div></div><div class="mi l"><div class="og l mk ml mm mi mn kp lz"/></div></div></a></div><p id="c574" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">谢谢你看我的帖子。如果你有任何建议，问题，请不要犹豫，在评论里说出来。</p><blockquote class="oh oi oj"><p id="4db8" class="kr ks oc kt b ku kv jr kw kx ky ju kz ok lb lc ld ol lf lg lh om lj lk ll lm ij bi translated">你也可以在twitter上关注NgTurkey，以获得Twitter上最大的土耳其Angular社区的更新。</p></blockquote><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi on"><img src="../Images/82984540a7f60fdab2f1ce282c5d39fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*wNpGEM8MvNE0IeHlbYUynQ.png"/></div><figcaption class="oo op gj gh gi oq or bd b be z dk translated"><a class="ae nz" href="https://twitter.com/ngturkiye" rel="noopener ugc nofollow" target="_blank">https://twitter.com/ngturkiye</a></figcaption></figure><p id="33a5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">*我要特别感谢<a class="ae nz" href="https://medium.com/@ozak" rel="noopener"> Arman Ozak </a>的贡献。</p></div></div>    
</body>
</html>