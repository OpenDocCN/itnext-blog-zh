<html>
<head>
<title>Outsystems — Create a .NET extension — Date difference in months</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Outsystems —创建一个. NET扩展名—以月为单位的日期差异</h1>
<blockquote>原文：<a href="https://itnext.io/outsystems-create-an-net-extension-date-difference-in-months-cedb4f5f4289?source=collection_archive---------1-----------------------#2021-02-24">https://itnext.io/outsystems-create-an-net-extension-date-difference-in-months-cedb4f5f4289?source=collection_archive---------1-----------------------#2021-02-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="b15b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">本文旨在简化。外部系统中的. NET扩展。作为一个例子，我将演示如何在？NET提供这两个日期之间的月份差异。</p></div><div class="ab cl kl km hu kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="ij ik il im in"><p id="a3b0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">具有一些后端经验的Outsystems开发人员(不管是哪种语言)可以很容易地打开Visual Studio，开始创建/重用一个dll用于他们的Outsystems项目。</p><p id="52a8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="ks">但是对于低代码的“新一代”开发者来说，这不像使用低代码那样容易理解或线性。</em></p><h1 id="7c81" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated"><strong class="ak">在中创建扩展。净</strong></h1><p id="ee86" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated"><strong class="jp ir">为什么是</strong>？<br/>考虑这样一种情况，您的公司在给定某些参数的情况下进行一些估算保险成本的计算。在外部系统中从头开始创建这样一个引擎计算器是非常困难和耗时的。有了扩展，我们可以很容易地重用。外部系统中的. NET代码。</p><p id="bf97" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">如何？</strong> <br/> <strong class="jp ir"> 1)打开Integration Studio<br/></strong><br/>你可以从创建自己的动作开始，然后把它编码进去。或从. NET dll导入操作</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi lw"><img src="../Images/8119e05b6fbb33c2f9190e6f2a3195eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/format:webp/1*HW3vv5OJ74Pp3JBTLhrofA.png"/></div></div></figure><p id="fbf9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2)描述你的参数。</p><p id="643b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于这个例子，我们需要一个开始日期和一个结束日期。输出将是一个小数，表示两个日期在月份上的差异。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mi"><img src="../Images/d3990ca1cd2202505741fc44ac56ad0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vUZAkUzpbgA1jVE8zLzucA.png"/></div></div></figure><p id="81e2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3)编辑你的。net代码(如果动作没有被导入)</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/5a8418c8c97f2e5b88ca27b33338c991.png" data-original-src="https://miro.medium.com/v2/resize:fit:1068/format:webp/1*_Z9AIw0h6oSHjwZdw0VPOQ.png"/></div></figure><p id="73c3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将打开Visual Studio。您将看到一个带有扩展名的文件，在我的例子中是:DatesDifference.cs</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/e338f8fca9b1989d38c36f9cb77291d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:630/format:webp/1*ngKKTyTalteS2CJfm8IF6A.png"/></div></figure><p id="fef0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该文件将包含您在Integration Studio中描述的操作，并且它现在包含您添加的参数:</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi ml"><img src="../Images/fd54e48b6e38fce1984d89609263ad44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZIRBG8V8hb22qZEFW5nqeQ.png"/></div></div></figure><p id="5805" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可以看到，MssGetMonthDateDifference操作有一个输出参数，它将返回所需的计算，并使用操作<strong class="jp ir"> GetTotalMonths </strong>。为此，我用计算操作本身创建了一个新文件(文件DatesFunctions.cs)</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mm"><img src="../Images/371d70f18cd8785fb4e2150fcf68d666.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iYt8803CPQfBckLvN6eNtQ.png"/></div></div></figure><p id="a4fa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有无数种方法可以计算两个日期之间的月差，但大多数方法都不考虑小数(天)，只返回整数(月)作为差。<br/>我在本例中使用的计算月份小数差值的方法是由以下人员创建的:<br/><a class="ae mn" href="https://stackoverflow.com/questions/27825610/month-difference-between-2-dates/65284425#65284425" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/27825610/month-difference-between-2-dates/65284425 # 65284425</a></p><p id="8e4a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Visual Studio中的最后一步是构建您的解决方案来检查任何错误。请考虑在您的VS解决方案中创建一个新项目，以便在那里执行一些单元测试。您可以轻松地调用您的新操作并测试它。为此，我使用了一个控制台应用程序。NET Framework)项目。</p><p id="c072" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> 4)验证、保存、上传并发布您的新扩展</strong></p><p id="12fb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">返回Integration Studio，并单击Verify。然后在弹出窗口中，您可以验证、保存、上传和发布您的解决方案。</p><p id="0d43" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，您应该准备好在外部系统的流程中使用您的新操作。</p><p id="8c1b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在外部系统中使用你的行动</p><p id="6223" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">转到管理依赖项，在那里找到您的新扩展操作并使用它们:</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mo"><img src="../Images/063ed55f10b9790956c03c673b3ab94d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-SozByV3vQbDasTDep1WzQ.png"/></div></div></figure><p id="9ec5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在您可以重用它，并围绕它构建一些逻辑:</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mp"><img src="../Images/2998c99ee6091ec428b32af9ecd8f9d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*CF6CWwEAIa-nDkatp1Fz_A.png"/></div></div></figure></div><div class="ab cl kl km hu kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="ij ik il im in"><h1 id="b70e" class="kt ku iq bd kv kw mq ky kz la mr lc ld le ms lg lh li mt lk ll lm mu lo lp lq bi translated"><strong class="ak">结论</strong></h1><p id="373e" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">虽然很好用。NET扩展，我们应该考虑以下几点:</p><ul class=""><li id="af14" class="mv mw iq jp b jq jr ju jv jy mx kc my kg mz kk na nb nc nd bi translated">的可维护性。NET代码(源代码控制、测试、更改等)</li><li id="aa75" class="mv mw iq jp b jq ne ju nf jy ng kc nh kg ni kk na nb nc nd bi translated">有时候我们需要写作。NET代码从零开始。考虑在外部系统中通过重用小的。NET程序集操作，而不是一个包含所有逻辑的大程序集。</li><li id="ceaf" class="mv mw iq jp b jq ne ju nf jy ng kc nh kg ni kk na nb nc nd bi translated">对于本文中使用的例子，我发现用。NET的代码比在外部系统的底层代码中使用这样的动作要少得多。</li><li id="29dd" class="mv mw iq jp b jq ne ju nf jy ng kc nh kg ni kk na nb nc nd bi translated">测试。测试新构建的扩展可能很耗时，您需要在您的解决方案(VisualStudio)中创建一个新项目来创建一些单元测试。或者已经在Outsystems中的流程中使用它，并在那里进行测试(我不推荐这样做)。</li></ul></div></div>    
</body>
</html>