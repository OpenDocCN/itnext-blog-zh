<html>
<head>
<title>Ionic 4 Tutorial with AngularJS and Cordova</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AngularJS和Cordova的Ionic 4教程</h1>
<blockquote>原文：<a href="https://itnext.io/ionic-4-tutorial-with-angularjs-and-cordova-982b951ce8f9?source=collection_archive---------7-----------------------#2018-02-28">https://itnext.io/ionic-4-tutorial-with-angularjs-and-cordova-982b951ce8f9?source=collection_archive---------7-----------------------#2018-02-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="c2dc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你喜欢用Angular.js构建Ionic 1.x应用吗？但被迫迁移到TypeScript/Angular 2+以使用不再支持AngularJS的最新Ionic版本(2+)，还是因为不想使用TypeScript而仍然使用Ionic 1.x版本？如果是的话，那么幸运的是，你现在可以在Ionic (4+)的最新和未来版本中使用JavaScript和AngularJS，因为Ionic从版本4开始就是框架不可知的。</p><p id="adad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">由于Ionic CLI还不支持生成框架无关的应用程序，我们将手动执行Ionic CLI在幕后为我们做的不同任务(主要是与集成Cordova相关的事情)</p><p id="733b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以现在你需要生成一个新的Cordova项目</p><h1 id="c94c" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">先决条件</h1><p id="43b9" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">不言而喻，你需要在Node、NPM和Cordova上安装你需要的目标平台(比如Android或iOS)的SDK，以及一台用于构建iOS应用的MAC。</p><h1 id="80bb" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">安装Cordova</h1><p id="4180" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">如果您没有安装Cordova，您可以简单地运行以下命令</p><p id="aa04" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">根据您的npm配置，您可能需要添加<em class="lo"> sudo </em>来全局安装软件包。</p><h1 id="b383" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">生成新的科尔多瓦项目</h1><p id="7764" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">现在，让我们通过运行以下命令来生成一个新的Cordova项目:</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="b714" class="ly km iq lu b gy lz ma l mb mc">cordova create ionic4-cordova-angularjs</span></pre><h1 id="98c9" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">安装AngularJS和Ionic 4核心组件</h1><p id="035f" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">在您的Cordova项目中导航，然后从npm安装AngularJS和Ionic 4核心包(其中包含Ionic 4的已编译模板组件/Web组件)</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="6964" class="ly km iq lu b gy lz ma l mb mc">cd ionic4-cordova-angularjs npm install angular npm install @ionic/core</span></pre><p id="cf90" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你现在可以在你的Cordova应用中使用AngularJS和Ionic 4组件，但是由于它们安装在<code class="fe md me mf lu b">node_modules</code>中，你需要使用钩子脚本或者手动将它们复制到<code class="fe md me mf lu b">www</code>中。为了简单起见，我将手动把它们复制到<code class="fe md me mf lu b">www/js</code>文件夹中。</p><p id="8582" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请注意，您需要整个<code class="fe md me mf lu b">@ionic</code>文件夹才能让Ionic正常工作。</p><p id="653c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后你可以用一个<code class="fe md me mf lu b">&lt;script&gt;</code>标签来包含它们，所以打开<code class="fe md me mf lu b">www/index.html</code>，然后添加下面的代码:</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="5825" class="ly km iq lu b gy lz ma l mb mc">&lt;script src="js/angular.min.js"&gt;&lt;/script&gt; &lt;script src='js/@ionic/core/dist/ionic.js'&gt;&lt;/script&gt;</span></pre><h1 id="acee" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">添加浏览器平台</h1><p id="afea" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">接下来让我们添加<a class="ae mg" href="https://github.com/apache/cordova-browser" rel="noopener ugc nofollow" target="_blank">浏览器平台</a>，它允许您构建运行在浏览器中的Cordova应用程序(以及PWAs)</p><p id="e3b9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以回到您的终端，确保您在您的Cordova应用程序中，然后运行以下命令:</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="d92b" class="ly km iq lu b gy lz ma l mb mc">cordova platform add browser</span></pre><p id="7c00" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后您可以使用运行您的应用程序</p><p id="6fe8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您的应用将使用您的默认浏览器启动，并从<code class="fe md me mf lu b"><a class="ae mg" href="http://localhost:8000/." rel="noopener ugc nofollow" target="_blank">http://localhost:8000/</a></code> <a class="ae mg" href="http://localhost:8000/." rel="noopener ugc nofollow" target="_blank">开始提供服务。</a></p><h1 id="3f6a" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">使用UI路由器添加路由</h1><p id="ad3a" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">在添加任何页面之前，让我们首先使用<a class="ae mg" href="https://ui-router.github.io/ng1/" rel="noopener ugc nofollow" target="_blank"> UI-Router </a>在Cordova应用程序中设置路由</p><blockquote class="mh mi mj"><p id="96bd" class="jn jo lo jp b jq jr js jt ju jv jw jx mk jz ka kb ml kd ke kf mm kh ki kj kk ij bi translated"><em class="iq"> UI-Router是AngularJS中路由的事实标准。受核心angular router $route和Ember Router的影响，UI-Router已经成为AngularJS (1.x)中路由非平凡应用的标准选择。</em></p></blockquote><p id="f4e7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以回到您的终端，然后运行以下命令从npm安装路由器:</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="cb87" class="ly km iq lu b gy lz ma l mb mc">npm install --save @uirouter/angularjs</span></pre><p id="2d5e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">再次将<code class="fe md me mf lu b">angular-ui-router.js</code>从<code class="fe md me mf lu b">node_modules</code>文件夹中的<code class="fe md me mf lu b">@uirouter</code>复制到<code class="fe md me mf lu b">www/js</code>文件夹中，然后添加一个<code class="fe md me mf lu b">&lt;script&gt;</code>将其包含在<code class="fe md me mf lu b">www/index.html</code>文件中</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="e6e0" class="ly km iq lu b gy lz ma l mb mc">&lt;script src="js/angular-ui-router.js"&gt;&lt;/script&gt;</span></pre><h1 id="70d7" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">创建AngularJS应用程序并添加状态</h1><p id="68c2" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">接下来，您需要创建一个AngularJS应用程序，因此在<code class="fe md me mf lu b">www</code>中创建一个<code class="fe md me mf lu b">app.js</code>，然后添加以下代码:</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="9e6d" class="ly km iq lu b gy lz ma l mb mc">var myApp = angular.module('app', ['ui.router']); myApp.config(function($stateProvider,$urlRouterProvider) { var homeState = { name: 'home', url: '/home', component: 'home' } var aboutState = { name: 'about', url: '/about', component: 'about' } $stateProvider.state(homeState) $stateProvider.state(aboutState); $urlRouterProvider.otherwise('/home'); });</span></pre><h1 id="34ae" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">创建你的离子页面</h1><p id="674a" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">让我们创建我们的第一个离子页面。创建一个名为pages的文件夹。在它里面创建一个包含文件<code class="fe md me mf lu b">home.html</code>和<code class="fe md me mf lu b">home.js</code>的<code class="fe md me mf lu b">home</code>文件夹</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="10ee" class="ly km iq lu b gy lz ma l mb mc">mkdir pages cd pages mkdir home touch home.html touch home.js</span></pre><p id="7903" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">打开<code class="fe md me mf lu b">home.html</code>然后添加以下内容</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="ad9d" class="ly km iq lu b gy lz ma l mb mc">&lt;ion-page class="show-page"&gt; &lt;ion-header&gt; &lt;ion-toolbar&gt; &lt;ion-title&gt;Ionic 4 + AngularJS Application &lt;/ion-title&gt; &lt;/ion-toolbar&gt; &lt;/ion-header&gt; &lt;ion-content class="content" padding&gt; &lt;p&gt;This is the home page&lt;/p&gt; &lt;a ui-sref="home" ui-sref-active="active"&gt;Home&lt;/a&gt; &lt;a ui-sref="about" ui-sref-active="active"&gt;About&lt;/a&gt; &lt;/ion-content&gt; &lt;/ion-page&gt;</span></pre><p id="3b69" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来打开<code class="fe md me mf lu b">home.js</code>并添加以下代码</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="2283" class="ly km iq lu b gy lz ma l mb mc">angular.module('app').component('home', { templateUrl: './pages/home/home.html', controller: function() { console.log("home component"); } })</span></pre><p id="9333" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在让我们创建关于页面。创建about文件夹，然后在其中添加<code class="fe md me mf lu b">about.html</code>和<code class="fe md me mf lu b">about.js</code></p><p id="1103" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">打开<code class="fe md me mf lu b">about.html</code>然后添加以下代码</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="29ea" class="ly km iq lu b gy lz ma l mb mc">&lt;ion-app&gt; &lt;ion-page class="show-page"&gt; &lt;ion-header&gt; &lt;ion-toolbar&gt; &lt;ion-title&gt;Ionic 4 + AngularJS Application &lt;/ion-title&gt; &lt;/ion-toolbar&gt; &lt;/ion-header&gt; &lt;ion-content class="content" padding&gt; &lt;p&gt;This is the about page&lt;/p&gt; &lt;a ui-sref="home" ui-sref-active="active"&gt;Home&lt;/a&gt; &lt;a ui-sref="about" ui-sref-active="active"&gt;About&lt;/a&gt; &lt;/ion-content&gt; &lt;/ion-page&gt; &lt;/ion-app&gt;</span></pre><p id="2f2d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来打开<code class="fe md me mf lu b">about.js</code>并添加以下代码:</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="6306" class="ly km iq lu b gy lz ma l mb mc">angular.module('app').component('about', { templateUrl: './pages/about/about.html', controller: function() { console.log("about component"); } })</span></pre><p id="6891" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您需要在<code class="fe md me mf lu b">index.html</code>中包含这些组件</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="db30" class="ly km iq lu b gy lz ma l mb mc">&lt;script src="./app.js"&gt;&lt;/script&gt; &lt;script src="./pages/home/home.js"&gt;&lt;/script&gt; &lt;script src="./pages/about/about.js"&gt;&lt;/script&gt;</span></pre><p id="8fd1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来更改<code class="fe md me mf lu b">&lt;body&gt;</code>以添加这些更改</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="2aed" class="ly km iq lu b gy lz ma l mb mc">&lt;body ng-app="app"&gt; &lt;ion-app&gt; &lt;ui-view&gt;&lt;/ui-view&gt; &lt;/ion-app&gt; &lt;script type="text/javascript" src="cordova.js"&gt;&lt;/script&gt; &lt;/body&gt;</span></pre><p id="5886" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您遇到如下屏幕截图所示的缩放问题</p><figure class="lp lq lr ls gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mn"><img src="../Images/7b71b8bd566c60842cef371c1ba371ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*MhuLTCxw0JcF25G_.png"/></div></div></figure><p id="35a6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你只需要在你的<code class="fe md me mf lu b">index.html</code>文件的<code class="fe md me mf lu b">&lt;head&gt;</code>中添加以下从Ionic应用程序复制的标签</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="3111" class="ly km iq lu b gy lz ma l mb mc">&lt;meta name="viewport" content="width=device-width,initial-scale=1.0"&gt; &lt;meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; media-src *; img-src 'self' data: content:;"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt; &lt;meta name="format-detection" content="telephone=no"&gt; &lt;meta name="msapplication-tap-highlight" content="no"&gt;</span></pre><p id="645f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，如果你使用<code class="fe md me mf lu b">cordova run</code>运行你的应用程序，你应该会看到下面的页面</p><figure class="lp lq lr ls gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mn"><img src="../Images/3ddbc81f6245cd6df04664c70eba6788.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kVclO6_K6BrhwVX4.png"/></div></div></figure><p id="4a32" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可以使用链接在主页和“关于”页面之间导航</p><h1 id="8e54" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">添加目标Cordova平台</h1><p id="7629" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">您可以使用添加目标平台</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="8588" class="ly km iq lu b gy lz ma l mb mc">cd ionic4-cordova-angularjs cordova platform add ios --save cordova platform add android --save</span></pre><p id="5ad6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将在Android和iOS平台投放广告</p><h1 id="259c" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">在真实设备中运行应用</h1><p id="30f5" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">您也可以使用真实设备运行您的应用程序，首先连接一个设备，然后运行以下命令</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="f6b2" class="ly km iq lu b gy lz ma l mb mc">cordova run android --device</span></pre><p id="a536" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">还是为了iOS</p><h1 id="46bd" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">结论</h1><p id="f540" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">在本教程中，我们已经看到了如何使用AngularJS离子4组件。</p></div><div class="ab cl mv mw hu mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="ij ik il im in"><p id="aec7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="lo">最初发表于</em><a class="ae mg" href="https://www.techiediaries.com/ionic-angularjs/" rel="noopener ugc nofollow" target="_blank"><em class="lo">【www.techiediaries.com】</em></a><em class="lo">。</em></p></div></div>    
</body>
</html>