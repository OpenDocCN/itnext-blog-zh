<html>
<head>
<title>VSCode find and replace using regex super powers to remove duplicates</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">VSCode查找和替换使用regex超级功能删除重复项</h1>
<blockquote>原文：<a href="https://itnext.io/vscode-find-and-replace-regex-super-powers-c7f8be0fa80f?source=collection_archive---------0-----------------------#2020-11-21">https://itnext.io/vscode-find-and-replace-regex-super-powers-c7f8be0fa80f?source=collection_archive---------0-----------------------#2020-11-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/0085ed776e36fb50dd97440ef4e1a15b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nTNga2ytE07YLHfl"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">马库斯·斯皮斯克在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="d0a6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时，主要是在文档或注释中，一个单词会出现两次错误。这不是世界末日，但如果有一个简单快捷的解决方案，为什么不纠正错误呢？</p><p id="6925" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">让我们把“一个单词”改成“一个单词”，甚至不知道有问题</strong></p><p id="710c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">嗯，第一个问题是识别这样的情况。在一个长文档中发现两个连续的单词重复并不容易(你看到a a了吗？)</p><p id="ad90" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，如果它发生一次，它会再次发生。该问题的其他发生情况如何？或者类似的？使用复制粘贴的黑魔法可能会发生很多。</p><h2 id="c594" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">关于正则表达式的一些背景知识</h2><p id="766a" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">Regex有点强大(至少在spec中)。如果你从未听说过，有一个分组和捕获的概念。每次在()中包装表达式的一部分时，它都会被捕获，这意味着以递增的顺序进行分组和编号，因此您可以稍后在表达式中使用它(无需事先知道值)。</p><p id="0b76" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，定义我们的问题，我们寻找完整的单词(至少一个字母)，单词应该是有界的(所以ab不会算作重复的a)，单词之间应该至少有一个空格(否则它仍然是同一个单词)</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="d230" class="lb lc iq me b gy mi mj l mk ml">\b(\w+)\s+\1\b</span></pre><p id="c7a7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个正则表达式正是我们想要的:</p><ol class=""><li id="cbaf" class="mm mn iq kf b kg kh kk kl ko mo ks mp kw mq la mr ms mt mu bi translated">\b —带边界的单词</li><li id="4452" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la mr ms mt mu bi translated">\w+ —给我们一个词，</li><li id="bc68" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la mr ms mt mu bi translated">\s+ —捕捉至少一个空格。</li><li id="6dde" class="mm mn iq kf b kg mv kk mw ko mx ks my kw mz la mr ms mt mu bi translated">\1 —但是什么是\1呢？还有为什么\w+要用括号括起来？这就是我们之前讨论过的精确的<strong class="kf ir">捕获组</strong>。(\w+) —匹配第一个出现的单词并将其捕获为组1，\1匹配第一个捕获的组，在我们的例子中，是完全相同的单词！</li></ol><h2 id="da6f" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">VSCode用法</h2><p id="0239" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">使用搜索工具时，Vscode有一个很好的特性，它可以使用正则表达式进行搜索。您可以单击cmd+f(在Mac上，或在windows上ctrl+f)来打开搜索工具，然后单击cmd+option+r来启用正则表达式搜索。</p><figure class="lz ma mb mc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi na"><img src="../Images/ef0c18e562b83859ade12596c53b2341.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rQf64-EZH2B4cBYKlz-2xg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">VSCode查找工具，激活了正则表达式搜索，插入了重复的正则表达式</figcaption></figure><p id="8c7c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用它，您可以在任何文档中轻松找到重复的连续单词。您还可以一次搜索所有文档。</p><figure class="lz ma mb mc gt jr gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/ef9daf992f7cdbfb068fb2baa66c3796.png" data-original-src="https://miro.medium.com/v2/resize:fit:1284/format:webp/1*oOYEkiOt3dpOyq5o4TUQ6g.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">轻松匹配所有重复的连续单词</figcaption></figure><p id="ddf0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，我们只需要用单词的一个实例替换重复的单词。为此，切换替换模式(单击右箭头)并键入$1。$1引用与之前相同的捕获组。</p><figure class="lz ma mb mc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nc"><img src="../Images/6e74072b68ef8b22c0a458c654eddba8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jEZb4DQNHLdOiRG6TE4E1Q.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">VSCode查找和替换扩展模式</figcaption></figure><p id="9ae1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在点击替换，看看神奇的事情发生了！</p><figure class="lz ma mb mc gt jr gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/0c16640bd251fdbe179b800476038a47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*vwi1KyRFEdBAlwqRqkVSeA.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">为了简洁，当然没有重复。</figcaption></figure><h2 id="79f2" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">奖金部分-针对python用户</h2><p id="5a3f" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">如果您从python2迁移到python3，突然之间，每个print语句都要求您添加括号，您可以使用类似的方法</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="c6a6" class="lb lc iq me b gy mi mj l mk ml">print (.*) - will find every print statment and capture the statment<br/>print($1) - will replace it with the same line wrapped with paranthesis </span></pre></div></div>    
</body>
</html>