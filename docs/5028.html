<html>
<head>
<title>Firebase Authentication and Flutter Full Course 2020</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Firebase认证和Flutter 2020完整课程</h1>
<blockquote>原文：<a href="https://itnext.io/firebase-authentication-and-flutter-full-course-2020-2d6ed32810a5?source=collection_archive---------2-----------------------#2020-11-20">https://itnext.io/firebase-authentication-and-flutter-full-course-2020-2d6ed32810a5?source=collection_archive---------2-----------------------#2020-11-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b690" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">为Android和Web平台构建一个消息应用程序</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/825cb7cffc6867f22de44af7c3a92a2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BlvrJ_SxutrHkoikcMW1hg.png"/></div></div></figure><p id="5055" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Firebase是一个平台，提供快速构建应用程序所需的基础设施。在<a class="ae ln" href="https://creativebracket.com/fullstack-flutter-mongodb-mini-course/" rel="noopener ugc nofollow" target="_blank">之前的</a>迷你课程中，我们用Flutter和MongoDB构建了一个移动和网络应用。在这个完整的课程中，我们将构建一个带有Firebase身份验证和Flutter的消息应用程序。</p><p id="be4f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们从零开始建立一个Flutter项目，并构建消息传递UI的一般外观和感觉。然后，我们创建一个Firebase项目，同时设置和配置我们的Android和Web应用程序。我们将使用<a class="ae ln" href="https://pub.dev/packages/google_sign_in" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> google_sign_in </strong> </a>包和Cloud Firestore设置Firebase身份验证，以存储我们的聊天消息。我们将学习如何设置正确的安全规则，以确保只有经过身份验证的用户才被允许向我们的集合中写入数据。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lo lp l"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lo lp l"/></div></figure><h1 id="efca" class="lq lr iq bd ls lt lu lv lw lx ly lz ma jw mb jx mc jz md ka me kc mf kd mg mh bi translated">建立颤振项目</h1><p id="e019" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">在创建一个Flutter项目之前，我们需要启用Flutter Web支持，因为我们也将在Web浏览器中运行这个应用程序。运行以下命令以启用Flutter Web支持:</p><pre class="kg kh ki kj gt mn mo mp mq aw mr bi"><span id="4e47" class="ms lr iq mo b gy mt mu l mv mw">$ flutter channel beta # checkout the beta channel<br/>$ flutter upgrade<br/>$ <strong class="mo ir">flutter config --enable-web</strong></span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mx"><img src="../Images/edde9cac663c3d19d3a97e2ff7ef91bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*rbdt46fgbsbdYVjp.png"/></div></div></figure><p id="7a07" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">启用Flutter Web后，您可以继续创建您的Flutter项目:</p><pre class="kg kh ki kj gt mn mo mp mq aw mr bi"><span id="2546" class="ms lr iq mo b gy mt mu l mv mw">$ flutter create my_messaging_app</span></pre><p id="a6c0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这个过程完成后，在你选择的编辑器中打开目录，无论是Visual Studio代码还是Android Studio作为<em class="my">推荐的</em>编辑器用于Flutter开发。</p><p id="155d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">确保为编辑器安装了相关的扩展。对于Visual Studio代码，您需要<a class="ae ln" href="https://dartcode.org/" rel="noopener ugc nofollow" target="_blank"> Dart代码扩展</a>。对于Android Studio，在<strong class="kt ir">配置</strong> &gt; <strong class="kt ir">插件</strong>下的插件库中搜索“Flutter”。</p><h1 id="c748" class="lq lr iq bd ls lt lu lv lw lx ly lz ma jw mb jx mc jz md ka me kc mf kd mg mh bi translated">运行颤振项目</h1><p id="290a" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">使用下面Visual Studio代码中的步骤启动任何设备模拟器。这假设您已经使用Android Studio中的AVD管理器或任何其他方式设置了列出的模拟器。确保您选择的模拟器启用了Play Store支持。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/0eb10dc8fdcc03c37623e632ae60d4ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ob_iEozFQkKh6PRG.png"/></div></div></figure><p id="0b79" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您可以通过在终端中键入<code class="fe na nb nc mo b">flutter run</code>命令并点击<code class="fe na nb nc mo b">Enter</code>来运行一个Flutter项目。或者，您可以使用编辑器控件来运行您的Flutter应用程序。</p><h1 id="66a6" class="lq lr iq bd ls lt lu lv lw lx ly lz ma jw mb jx mc jz md ka me kc mf kd mg mh bi translated">为Firebase身份验证构建UI</h1><p id="42d8" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">打开<strong class="kt ir"> lib/main.dart </strong>，重构<code class="fe na nb nc mo b">MyApp</code> StatelessWidget，如下所示:</p><pre class="kg kh ki kj gt mn mo mp mq aw mr bi"><span id="e0ba" class="ms lr iq mo b gy mt mu l mv mw">class MyApp extends StatelessWidget {<br/>  @override<br/>  Widget build(BuildContext context) {<br/>    return MaterialApp(<br/>      title: '<strong class="mo ir">The Chat Crew</strong>', // &lt;== Change this line<br/>      <strong class="mo ir">debugShowCheckedModeBanner: false</strong>, // &lt;== Add this line<br/>      theme: ThemeData(<br/>        primarySwatch: <strong class="mo ir">Colors.purple</strong>, // &lt;== Change this line<br/>      ),<br/>      home: MyHomePage(title: '<strong class="mo ir">The Chat Crew</strong>'), // &lt;== Change this line<br/>    );<br/>  }<br/>}</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/f6cf5d83dc8c3275a0d327b7d8b956f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:844/format:webp/0*WGMFObAO4it8mqtw.png"/></div></figure><p id="2037" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">通过移除<code class="fe na nb nc mo b">_incrementCounter()</code>方法和<code class="fe na nb nc mo b">_counter</code>字段来重构<code class="fe na nb nc mo b">_MyHomePageState</code>类。</p><pre class="kg kh ki kj gt mn mo mp mq aw mr bi"><span id="cf30" class="ms lr iq mo b gy mt mu l mv mw">class _MyHomePageState extends State&lt;MyHomePage&gt; {<br/>  // Remove commented out lines<br/>  <strong class="mo ir">// int _counter = 0; </strong></span><span id="f32b" class="ms lr iq mo b gy ne mu l mv mw"><strong class="mo ir">  // void _incrementCounter() { <br/>  // setState(() { <br/>  //   _counter++; <br/>  // }); <br/>  // }</strong> </span><span id="8d23" class="ms lr iq mo b gy ne mu l mv mw">  @override Widget build(BuildContext context) { ... }<br/>}</span></pre><p id="6a84" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在<code class="fe na nb nc mo b">build()</code>方法中，移除<code class="fe na nb nc mo b">Scaffold()</code>小部件的<code class="fe na nb nc mo b">floatingActionButton:</code>部分和在<code class="fe na nb nc mo b">Column()</code>子部件中呈现的两个<code class="fe na nb nc mo b">Text()</code>小部件。事实上，一旦去掉不必要的部分，您应该会看到下面的代码:</p><pre class="kg kh ki kj gt mn mo mp mq aw mr bi"><span id="bd6f" class="ms lr iq mo b gy mt mu l mv mw">class _MyHomePageState extends State&lt;MyHomePage&gt; {<br/>  @override Widget build(BuildContext context) {<br/>    return Scaffold(<br/>      appBar: AppBar(<br/>        title: Text(widget.title),<br/>        <strong class="mo ir">centerTitle: true</strong>, // &lt;== Added this line<br/>      ),<br/>      <strong class="mo ir">backgroundColor: Color(0xffdee2d6)</strong>, // &lt;== Added this line <br/>      body: Column(<br/>        mainAxisAlignment: MainAxisAlignment.center,<br/>        children: &lt;Widget&gt;[],<br/>      ),<br/>    );<br/>  } <br/>}</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/e1b32a478f8e0290eec88399bb8f757c.png" data-original-src="https://miro.medium.com/v2/resize:fit:844/format:webp/0*SORjNglXPdNBRo8q.png"/></div></figure><p id="b6e6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">该应用程序的应用程序栏下方的部分由一个显示聊天消息的消息墙和底部区域组成，底部区域将显示登录按钮或消息表单。</p><p id="d2a9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">消息墙将呈现在一个<code class="fe na nb nc mo b">Expanded()</code>小部件中，因为它占据了大部分屏幕空间。</p><pre class="kg kh ki kj gt mn mo mp mq aw mr bi"><span id="4c59" class="ms lr iq mo b gy mt mu l mv mw">body: Column( <br/>  mainAxisAlignment: MainAxisAlignment.center,<br/>  children: &lt;Widget&gt;[<br/>    Expanded(<br/>      child: Container(),<br/>    ),<br/>  ],<br/>),</span></pre><p id="a607" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要显示登录按钮，安装<a class="ae ln" href="https://pub.dev/packages/flutter_signin_button" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir">flutter _ Sign in _ button</strong></a>包:</p><pre class="kg kh ki kj gt mn mo mp mq aw mr bi"><span id="6155" class="ms lr iq mo b gy mt mu l mv mw">$ pub global activate crawl # install the crawl cli <br/>$ <strong class="mo ir">crawl add flutter_signin_button</strong></span></pre><p id="910a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">导入<strong class="kt ir"> flutter_signin_button </strong>并在<code class="fe na nb nc mo b">Expanded()</code> widget后显示:</p><pre class="kg kh ki kj gt mn mo mp mq aw mr bi"><span id="9f8f" class="ms lr iq mo b gy mt mu l mv mw"><strong class="mo ir">import 'package:flutter_signin_button/flutter_signin_button.dart';</strong><br/> .. </span><span id="42fc" class="ms lr iq mo b gy ne mu l mv mw">body: Column(<br/>  mainAxisAlignment: MainAxisAlignment.center,<br/>  children: &lt;Widget&gt;[<br/>    Expanded(<br/>      child: Container(),<br/>    ),<br/>    <strong class="mo ir">Container</strong>(<br/>      padding: const EdgeInsets.all(5),<br/>      child: <strong class="mo ir">SignInButton</strong>(<br/>        <strong class="mo ir">Buttons.Google</strong>,<br/>        padding: const EdgeInsets.all(5),<br/>        onPressed: () {},<br/>      ),<br/>    ),<br/>  ],<br/>),</span></pre><p id="bbcf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">停止整个应用程序并重新启动</strong>，以便加载在登录按钮上显示Google徽标所需的图像资产。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/3f2e83f3eda786dd18fdfa451e7e13e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:844/format:webp/0*bu2JYz8ppdiml7RM.png"/></div></figure><p id="3af7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae ln" href="https://youtu.be/oyVDDRczuJI" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir">观看完整课程</strong> </a>了解完成签到和签出流程的详细信息。</p></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h1 id="805c" class="lq lr iq bd ls lt nm lv lw lx nn lz ma jw no jx mc jz np ka me kc nq kd mg mh bi translated">分享是关怀🤗</h1><p id="6020" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">如果你喜欢读这篇文章，请通过你的社交媒体渠道分享。还可以查看并<a class="ae ln" href="https://youtube.com/c/CreativeBracket" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir">订阅我的YouTube频道</strong> </a> ( <em class="my">也点击铃铛图标</em>)获取Dart和Flutter的全栈开发教程。</p><p id="150d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae ln" href="http://eepurl.com/gipQBX" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir">订阅时事通讯</strong> </a>获取我的免费35页<strong class="kt ir">Dart</strong>电子书入门，并在新内容发布时得到通知。</p><p id="3df3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">喜欢，分享和</strong> <a class="ae ln" href="https://twitter.com/creativ_bracket" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir">关注我</strong> </a> <strong class="kt ir"> </strong>了解更多关于Dart的内容。</p><p id="f44e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="my">原载于https://creativebracket.com</em><a class="ae ln" href="https://creativebracket.com/firebase-authentication-and-flutter-full-course-2020/" rel="noopener ugc nofollow" target="_blank"><em class="my"/></a></p></div></div>    
</body>
</html>