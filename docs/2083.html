<html>
<head>
<title>Inner-Loop Container Native Development with Tilt</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带Tilt的内循环容器本机开发</h1>
<blockquote>原文：<a href="https://itnext.io/inner-loop-container-native-development-with-tilt-47c97fc31918?source=collection_archive---------7-----------------------#2019-03-27">https://itnext.io/inner-loop-container-native-development-with-tilt-47c97fc31918?source=collection_archive---------7-----------------------#2019-03-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/bc92218a9bda2604048160c978a3fe88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wd5wO-PeF2UONsNpxvLckQ.jpeg"/></div></div></figure><div class=""/><div class=""><h2 id="1fba" class="pw-subtitle-paragraph jy ja jb bd b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp dk translated">使用Tilt简化内循环容器本机应用程序开发的构建、推送和部署流程</h2></div><p id="ac28" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">我正在探索一系列开源工具来简化容器原生开发工作流的内部循环。这描述了您正在编写代码，但是还没有将它推送到版本控制系统的一段时间。这些工具，<a class="ae lm" href="https://draft.sh" rel="noopener ugc nofollow" target="_blank"><strong class="ks jc"/></a><a class="ae lm" href="http://skaffold.dev" rel="noopener ugc nofollow" target="_blank"><strong class="ks jc">ska ffold</strong></a>和<a class="ae lm" href="https://tilt.dev/" rel="noopener ugc nofollow" target="_blank"><strong class="ks jc"/></a>各自采取不同的方法来完成手头的任务。每个工具都可以用来构建项目的映像，将映像推送到您选择的注册服务，并将映像部署到Kubernetes集群上。采用这些工具将释放你的时间，让你专注于编写代码。你可以在我的<a class="ae lm" href="https://medium.com/@m.r.boxell/local-container-native-development-tools-ef4b1beb472c" rel="noopener">第一个帖子</a> t中，在我的<a class="ae lm" href="https://medium.com/@m.r.boxell/inner-loop-container-native-development-with-draft-2f74f7c7f6a2" rel="noopener">第二个帖子</a>中使用Draft，在我的<a class="ae lm" href="https://medium.com/@m.r.boxell/inner-loop-container-native-development-with-skaffold-d954c8dfcda5" rel="noopener">第三个帖子</a>中使用Skaffold来了解这个系列背后的动机。</p><h2 id="859a" class="ln lo jb bd lp lq lr dn ls lt lu dp lv kz lw lx ly ld lz ma mb lh mc md me mf bi translated">定义</h2><p id="0c96" class="pw-post-body-paragraph kq kr jb ks b kt mg kc kv kw mh kf ky kz mi lb lc ld mj lf lg lh mk lj lk ll ij bi translated"><a class="ae lm" href="https://github.com/windmilleng/tilt" rel="noopener ugc nofollow" target="_blank"> Tilt </a>是一个命令行工具，用于微服务应用的本地持续开发。Tilt使用<code class="fe ml mm mn mo b">tilt up</code>监视您的文件进行编辑，然后自动构建、推送和部署任何更改，以实时更新您的环境。Tilt通过命令行UI提供对微服务的可见性。除了监视部署成功，UI还显示日志和其他关于部署的有用信息。</p><h2 id="5951" class="ln lo jb bd lp lq lr dn ls lt lu dp lv kz lw lx ly ld lz ma mb lh mc md me mf bi translated">区分者</h2><p id="bd8b" class="pw-post-body-paragraph kq kr jb ks b kt mg kc kv kw mh kf ky kz mi lb lc ld mj lf lg lh mk lj lk ll ij bi translated">Tilt可以轻松地同时部署多个微服务。您可以在您的<code class="fe ml mm mn mo b">Tiltfile</code>中引用多个<code class="fe ml mm mn mo b">Dockerfile</code>和多个Kubernetes清单。虽然Tilt和Skaffold都有助于开发多个互连的微服务，但Tilt以两个关键特性区分自己:平视显示器和<a class="ae lm" href="https://docs.tilt.dev/fast_build.html" rel="noopener ugc nofollow" target="_blank">快速构建</a>。</p><p id="ce96" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">平视显示器通过pod名称旁边简单的绿色(成功)和红色(不成功)指示器来指示pod是否已成功部署到集群。它还包括关于使用Tilt在集群中部署的每个pod的名称、部署状态、部署历史和pod日志的信息:构建日志和运行容器日志。当您发现自己正在开发越来越多的相互关联的微服务时，这尤其有用。有些人可能会认为UI是多余的——当然，所有这些信息都可以使用基本的<code class="fe ml mm mn mo b">kubectl</code>命令获得——但是，当pod问题像绿点变红一样清晰时，这无疑会让人们更难忽略它们。UI是合理的，因为它帮助你关注重要的事情。</p><p id="36ea" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">快速构建解决了本地开发的主要瓶颈之一:构建和更新过程。快速构建用于执行增量映像构建。快速构建使用构建缓存来跳过先前完成的步骤，并注入先前运行的构建缓存，而不是在每次代码更改时重新下载所有依赖项并从头重新编译。Tilt还通过在与现有pod相同的节点上运行的sidecar“Synclet”来加快部署过程。Synclet将更新的文件添加到现有的pod中，并在代码发生变化时重新启动容器，而不是从头开始部署新的pod。Synclet允许您绕过注册表直接向Synclet发送代码更新，还允许您直接在集群中运行构建命令，从而进一步加快构建和部署过程。快速构建从您的<code class="fe ml mm mn mo b">Dockerfile</code>手中接管了大部分构建责任。因此，您的<code class="fe ml mm mn mo b">Dockerfile</code>不能包含任何添加或复制行，所以您可能需要对它做一些小的修改。</p><figure class="mq mr ms mt gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mp"><img src="../Images/452f55a0a0f3e8f9f5f788adbd27d88a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*O6pdxQAJp5GprJHT.png"/></div></div></figure><h2 id="d0e1" class="ln lo jb bd lp lq lr dn ls lt lu dp lv kz lw lx ly ld lz ma mb lh mc md me mf bi translated">要求</h2><p id="6e62" class="pw-post-body-paragraph kq kr jb ks b kt mg kc kv kw mh kf ky kz mi lb lc ld mj lf lg lh mk lj lk ll ij bi translated">-<a class="ae lm" href="https://www.docker.com/products/docker-desktop" rel="noopener ugc nofollow" target="_blank">Docker For Desktop</a><br/>-<a class="ae lm" href="https://kubernetes.io/docs/tasks/tools/install-kubectl/" rel="noopener ugc nofollow" target="_blank">Kubectl</a><br/>-<a class="ae lm" href="https://docs.cloud.oracle.com/iaas/Content/ContEng/Concepts/contengoverview.htm" rel="noopener ugc nofollow" target="_blank">Oracle Container Engine For Kubernetes(OKE)</a><br/>-<a class="ae lm" href="https://docs.cloud.oracle.com/iaas/Content/Registry/Concepts/registryoverview.htm" rel="noopener ugc nofollow" target="_blank">Oracle Cloud infra structure Registry(OCIR)</a></p><h2 id="8a11" class="ln lo jb bd lp lq lr dn ls lt lu dp lv kz lw lx ly ld lz ma mb lh mc md me mf bi translated">装置</h2><p id="46db" class="pw-post-body-paragraph kq kr jb ks b kt mg kc kv kw mh kf ky kz mi lb lc ld mj lf lg lh mk lj lk ll ij bi translated">更详细的安装信息可以在<a class="ae lm" href="https://github.com/windmilleng/tilt/" rel="noopener ugc nofollow" target="_blank"> Tilt GitHub页面</a>上找到。</p><p id="ad7f" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">下载并安装Tilt:</p><p id="9045" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated"><code class="fe ml mm mn mo b">brew tap windmilleng/tap &amp;&amp; brew install windmilleng/tap/tilt</code></p><p id="1efc" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">验证您的安装:</p><p id="8ecd" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated"><code class="fe ml mm mn mo b">tilt version</code></p><h2 id="df4a" class="ln lo jb bd lp lq lr dn ls lt lu dp lv kz lw lx ly ld lz ma mb lh mc md me mf bi translated">本地配置</h2><p id="b3f8" class="pw-post-body-paragraph kq kr jb ks b kt mg kc kv kw mh kf ky kz mi lb lc ld mj lf lg lh mk lj lk ll ij bi translated">在GitHub上克隆<a class="ae lm" href="https://github.com/windmilleng/tilt" rel="noopener ugc nofollow" target="_blank"> Tilt库</a>，转到<code class="fe ml mm mn mo b">/integration/oneup</code>目录。该目录包含:</p><pre class="mq mr ms mt gt mu mo mv mw aw mx bi"><span id="87f2" class="ln lo jb mo b gy my mz l na nb">$ ls<br/>Dockerfile	Tiltfile	main.go		oneup.yaml</span></pre><ul class=""><li id="d1f1" class="nc nd jb ks b kt ku kw kx kz ne ld nf lh ng ll nh ni nj nk bi translated">倾斜通过<code class="fe ml mm mn mo b">Tiltfile</code>进行配置。在资源库中，您将看到一个将用于部署<code class="fe ml mm mn mo b">oneup.yaml</code>的示例<code class="fe ml mm mn mo b">Tiltfile</code></li><li id="4834" class="nc nd jb ks b kt nl kw nm kz nn ld no lh np ll nh ni nj nk bi translated"><code class="fe ml mm mn mo b">Dockerfile</code>包含了关于如何构建你的<code class="fe ml mm mn mo b">main.go</code>应用的信息</li><li id="9e7a" class="nc nd jb ks b kt nl kw nm kz nn ld no lh np ll nh ni nj nk bi translated"><code class="fe ml mm mn mo b">oneup.yaml</code>Kubernetes清单用于构建Dockerfile创建的图像</li></ul><p id="53bc" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">当部署到本地集群时，如果在您的<code class="fe ml mm mn mo b">tiltfile</code>中没有指定注册表，Tilt将绕过将您的映像推送到注册表的步骤。Tilt使用您当前的Kubernetes上下文来确定您的应用程序将部署在哪个集群上。要找到您的上下文运行:<code class="fe ml mm mn mo b">kubectl config current-context</code>。</p><h2 id="29d3" class="ln lo jb bd lp lq lr dn ls lt lu dp lv kz lw lx ly ld lz ma mb lh mc md me mf bi translated">部署应用程序</h2><p id="9ccc" class="pw-post-body-paragraph kq kr jb ks b kt mg kc kv kw mh kf ky kz mi lb lc ld mj lf lg lh mk lj lk ll ij bi translated">运行<code class="fe ml mm mn mo b">tilt up</code>来构建和部署应用程序。Tilt UI将通过绿色指示器和部署状态<code class="fe ml mm mn mo b">running</code>指示部署成功。</p><figure class="mq mr ms mt gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nq"><img src="../Images/4012da20e98a89f7ec3f23d9680f5ad3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*rkAROC5Ce_4lGzq8.png"/></div></div></figure><h2 id="7812" class="ln lo jb bd lp lq lr dn ls lt lu dp lv kz lw lx ly ld lz ma mb lh mc md me mf bi translated">验证您的部署</h2><p id="889d" class="pw-post-body-paragraph kq kr jb ks b kt mg kc kv kw mh kf ky kz mi lb lc ld mj lf lg lh mk lj lk ll ij bi translated">Tilt在Kubernetes清单中指定的名称空间<code class="fe ml mm mn mo b">tilt-integration</code>中部署了应用程序。通过切换到该名称空间并运行<code class="fe ml mm mn mo b">kubectl get pods</code>来验证您的应用程序是否被正确部署</p><pre class="mq mr ms mt gt mu mo mv mw aw mx bi"><span id="7fe8" class="ln lo jb mo b gy my mz l na nb">$ kubectl get pods<br/>NAME                     READY   STATUS    RESTARTS   AGE<br/>oneup-7f7d69bd66-ckhct   1/1     Running   0          5s</span></pre><h2 id="8f16" class="ln lo jb bd lp lq lr dn ls lt lu dp lv kz lw lx ly ld lz ma mb lh mc md me mf bi translated">连接到应用程序</h2><p id="b5a5" class="pw-post-body-paragraph kq kr jb ks b kt mg kc kv kw mh kf ky kz mi lb lc ld mj lf lg lh mk lj lk ll ij bi translated">通过键入<code class="fe ml mm mn mo b">B</code>连接到您的应用程序。这将打开您的浏览器，并根据<code class="fe ml mm mn mo b">Tiltfile</code>中指示的端口转发连接到“OneUp”应用程序。在本例中，浏览器将打开至<code class="fe ml mm mn mo b"><a class="ae lm" href="http://localhost:8100." rel="noopener ugc nofollow" target="_blank">http://localhost:8100</a></code>。</p><h2 id="b133" class="ln lo jb bd lp lq lr dn ls lt lu dp lv kz lw lx ly ld lz ma mb lh mc md me mf bi translated">修改应用程序</h2><p id="1b4e" class="pw-post-body-paragraph kq kr jb ks b kt mg kc kv kw mh kf ky kz mi lb lc ld mj lf lg lh mk lj lk ll ij bi translated">当<code class="fe ml mm mn mo b">tilt up</code>运行时，构建、推送和部署应用程序将在每次代码发生变化时重新出现。您可以对您的应用进行更改、保存，并实时观察Tilt通过管道重新部署您更新的应用。</p><h2 id="5a8e" class="ln lo jb bd lp lq lr dn ls lt lu dp lv kz lw lx ly ld lz ma mb lh mc md me mf bi translated">应用程序日志</h2><p id="5f6e" class="pw-post-body-paragraph kq kr jb ks b kt mg kc kv kw mh kf ky kz mi lb lc ld mj lf lg lh mk lj lk ll ij bi translated">从应用程序获取日志不需要额外的步骤。构建日志和运行容器日志都可以在平视显示中看到。</p><h2 id="0831" class="ln lo jb bd lp lq lr dn ls lt lu dp lv kz lw lx ly ld lz ma mb lh mc md me mf bi translated">删除应用程序</h2><p id="1afc" class="pw-post-body-paragraph kq kr jb ks b kt mg kc kv kw mh kf ky kz mi lb lc ld mj lf lg lh mk lj lk ll ij bi translated">当您完成应用程序的测试后，您可以通过键入<code class="fe ml mm mn mo b">Q</code>退出UI，并使用<code class="fe ml mm mn mo b">tilt down</code>从您的集群中删除应用程序:</p><pre class="mq mr ms mt gt mu mo mv mw aw mx bi"><span id="9772" class="ln lo jb mo b gy my mz l na nb">$ tilt down<br/>Deleting via kubectl: Namespace/tilt-integration<br/>Deleting via kubectl: Deployment/oneup</span></pre><h2 id="93df" class="ln lo jb bd lp lq lr dn ls lt lu dp lv kz lw lx ly ld lz ma mb lh mc md me mf bi translated">托管的Kubernetes和Docker注册表配置</h2><p id="e530" class="pw-post-body-paragraph kq kr jb ks b kt mg kc kv kw mh kf ky kz mi lb lc ld mj lf lg lh mk lj lk ll ij bi translated">Tilt还可以与托管的Kubernetes解决方案一起使用。我的示例将使用<a class="ae lm" href="https://docs.cloud.oracle.com/iaas/Content/ContEng/Concepts/contengoverview.htm" rel="noopener ugc nofollow" target="_blank">Oracle Container Engine for Kubernetes(OKE)</a>作为Kubernetes集群，使用<a class="ae lm" href="https://docs.cloud.oracle.com/iaas/Content/Registry/Concepts/registryoverview.htm" rel="noopener ugc nofollow" target="_blank">Oracle Cloud infra structure Registry(OCIR)</a>作为容器映像注册表。可以遵循类似的步骤，用其他Kubernetes集群和注册服务配置Tilt。</p><h2 id="7a53" class="ln lo jb bd lp lq lr dn ls lt lu dp lv kz lw lx ly ld lz ma mb lh mc md me mf bi translated">注册表配置</h2><p id="da44" class="pw-post-body-paragraph kq kr jb ks b kt mg kc kv kw mh kf ky kz mi lb lc ld mj lf lg lh mk lj lk ll ij bi translated">要使用云注册表服务，您需要将注册表的URL添加到您的<code class="fe ml mm mn mo b">tiltfile</code>中，或者在个人设置文件中指定一个注册表。要使用OCIR作为您的注册中心，您需要按照以下格式提供注册中心的服务器URL:<code class="fe ml mm mn mo b">&lt;region code&gt;.ocir.io/&lt;tenancy name&gt;/&lt;repo name&gt;/&lt;image name&gt;:&lt;tag&gt;</code></p><ul class=""><li id="83fb" class="nc nd jb ks b kt ku kw kx kz ne ld nf lh ng ll nh ni nj nk bi translated"><code class="fe ml mm mn mo b">&lt;region-code&gt;</code>是您正在使用的OCI地区的代码。例如，凤凰城的区号是<code class="fe ml mm mn mo b">phx</code>。有关更多信息，请参见<a class="ae lm" href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/regions.htm" rel="noopener ugc nofollow" target="_blank">区域和可用性域</a>。</li><li id="d254" class="nc nd jb ks b kt nl kw nm kz nn ld no lh np ll nh ni nj nk bi translated"><code class="fe ml mm mn mo b">ocir.io</code>是注册表名称。</li><li id="cace" class="nc nd jb ks b kt nl kw nm kz nn ld no lh np ll nh ni nj nk bi translated"><code class="fe ml mm mn mo b">&lt;tenancy-name&gt;</code>是拥有您想要将映像推送到的存储库的租赁的名称，例如<code class="fe ml mm mn mo b">example-dev</code>。请注意，您的用户必须有权访问租赁。</li><li id="8c7c" class="nc nd jb ks b kt nl kw nm kz nn ld no lh np ll nh ni nj nk bi translated">如果指定了<code class="fe ml mm mn mo b">&lt;repo-name&gt;</code>，这是您要将映像推送到的存储库的名称。比如<code class="fe ml mm mn mo b">project01</code>。请注意，指定存储库是可选的。如果选择指定资料档案库名称，映像的名称将用作Oracle Cloud infra structure Registry中的资料档案库名称。</li><li id="72cd" class="nc nd jb ks b kt nl kw nm kz nn ld no lh np ll nh ni nj nk bi translated"><code class="fe ml mm mn mo b">&lt;image-name&gt;</code>是您希望在Oracle Cloud infra structure Registry中为映像指定的名称，例如<code class="fe ml mm mn mo b">helloworld</code>。</li><li id="2c95" class="nc nd jb ks b kt nl kw nm kz nn ld no lh np ll nh ni nj nk bi translated"><code class="fe ml mm mn mo b">&lt;tag&gt;</code>是您希望在Oracle Cloud infra structure Registry中赋予图像的图像标签，例如<code class="fe ml mm mn mo b">latest</code>。</li></ul><p id="a9f3" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">使用以下格式用注册表URL更新<code class="fe ml mm mn mo b">tiltfile</code>中的<code class="fe ml mm mn mo b">default_registry</code>:</p><pre class="mq mr ms mt gt mu mo mv mw aw mx bi"><span id="36f1" class="ln lo jb mo b gy my mz l na nb">default_registry('ocir.io/my-personal-project')</span></pre><p id="34c5" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">即使没有创建<code class="fe ml mm mn mo b">tilt_option.json</code>，这个设置也会用你的注册表设置修改<code class="fe ml mm mn mo b">tiltfile</code>的<code class="fe ml mm mn mo b">docker_build</code>部分和<code class="fe ml mm mn mo b">app.yaml</code>。</p><p id="0051" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">如果您选择使用个人注册表，那么使用JSON中指定的注册表创建一个<code class="fe ml mm mn mo b">tilt_option.json</code>文件:</p><pre class="mq mr ms mt gt mu mo mv mw aw mx bi"><span id="9409" class="ln lo jb mo b gy my mz l na nb">{<br/>  "default_registry": "ocir.io/my-personal-project"<br/>}</span></pre><p id="9b1b" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">您需要更新您的<code class="fe ml mm mn mo b">tiltfile</code>来引用该文件:</p><pre class="mq mr ms mt gt mu mo mv mw aw mx bi"><span id="32f1" class="ln lo jb mo b gy my mz l na nb">settings <strong class="mo jc">=</strong> read_json('tilt_option.json', default<strong class="mo jc">=</strong>{})<br/>default_registry(settings<strong class="mo jc">.</strong>get('default_registry', 'ocir.io/shared-project-registry'))</span></pre><p id="c95a" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">您还需要使用以下信息登录注册表:</p><p id="3a97" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated"><code class="fe ml mm mn mo b">docker login &lt;region code&gt;.ocir.io</code></p><ul class=""><li id="4e33" class="nc nd jb ks b kt ku kw kx kz ne ld nf lh ng ll nh ni nj nk bi translated">用户名:<code class="fe ml mm mn mo b">&lt;tenancy-name&gt;/&lt;oci-username&gt;</code></li><li id="8913" class="nc nd jb ks b kt nl kw nm kz nn ld no lh np ll nh ni nj nk bi translated">密码:<code class="fe ml mm mn mo b">&lt;oci-auth-token&gt;</code></li></ul><p id="4418" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">您可能还需要与注册中心建立信任关系。例如，默认情况下，OCIR注册表将被设置为私有。如果您想继续使用私有存储库，您将必须添加一个图像拉取秘密，它允许Kubernetes向容器注册中心认证以拉取私有图像。有关使用图像机密的更多信息，请参阅本指南<a class="ae lm" href="https://www.oracle.com/webfolder/technetwork/tutorials/obe/oci/oke-and-registry/index.html" rel="noopener ugc nofollow" target="_blank"/>。出于测试目的，一个更简单的选择是将注册表设置为<strong class="ks jc"> public </strong>。</p><h2 id="598b" class="ln lo jb bd lp lq lr dn ls lt lu dp lv kz lw lx ly ld lz ma mb lh mc md me mf bi translated">Kubernetes集群配置</h2><p id="a73a" class="pw-post-body-paragraph kq kr jb ks b kt mg kc kv kw mh kf ky kz mi lb lc ld mj lf lg lh mk lj lk ll ij bi translated">因为Tilt使用您当前的Kubernetes上下文来确定将在其上部署您的应用程序的集群，所以您需要记住切换到您的上下文来OKE。用<code class="fe ml mm mn mo b">kubectl config current-context</code>验证你的上下文。</p><p id="5729" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">配置完成后，运行<code class="fe ml mm mn mo b">tilt up</code>使用Dockerfile构建您的应用程序，将应用程序推送到OCIR，并将应用程序部署到OKE。正如您之前在本地所做的那样，您可以通过更改到适当的名称空间并运行<code class="fe ml mm mn mo b">kubectl get pods</code>来验证应用程序的成功部署。用<code class="fe ml mm mn mo b">B</code>连接到您的应用程序。</p><h2 id="b71f" class="ln lo jb bd lp lq lr dn ls lt lu dp lv kz lw lx ly ld lz ma mb lh mc md me mf bi translated">摘要</h2><p id="91f5" class="pw-post-body-paragraph kq kr jb ks b kt mg kc kv kw mh kf ky kz mi lb lc ld mj lf lg lh mk lj lk ll ij bi translated">Tilt工具使部署和管理多个微服务变得简单。平视显示器通过包含日志和其他有用信息的中央仪表板简化了同时监控多个部署的过程。Tilt GitHub页面上提供的<a class="ae lm" href="https://github.com/windmilleng/servantes" rel="noopener ugc nofollow" target="_blank"> Servantes </a>示例微服务应用是了解Tilt第一手优势的绝佳方式。</p><h2 id="4c91" class="ln lo jb bd lp lq lr dn ls lt lu dp lv kz lw lx ly ld lz ma mb lh mc md me mf bi translated">参考</h2><p id="2cf8" class="pw-post-body-paragraph kq kr jb ks b kt mg kc kv kw mh kf ky kz mi lb lc ld mj lf lg lh mk lj lk ll ij bi translated"><a class="ae lm" href="https://docs.tilt.dev/" rel="noopener ugc nofollow" target="_blank">倾斜用户文档</a></p><p id="2231" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated"><a class="ae lm" href="https://github.com/windmilleng/tilt" rel="noopener ugc nofollow" target="_blank">倾斜GitHub </a></p><p id="ffee" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">在http://cloudnative.oracle.com的<a class="ae lm" href="http://cloudnative.oracle.com" rel="noopener ugc nofollow" target="_blank">查看更多云原生和容器原生项目。</a></p></div></div>    
</body>
</html>