<html>
<head>
<title>Monitoring Distributed Jetty Servers in K8s using Prometheus and Grafana</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Prometheus和Grafana监控K8s中的分布式Jetty服务器</h1>
<blockquote>原文：<a href="https://itnext.io/monitoring-distributed-jetty-servers-in-k8s-using-prometheus-and-grafana-7b02fe3506ad?source=collection_archive---------1-----------------------#2020-05-28">https://itnext.io/monitoring-distributed-jetty-servers-in-k8s-using-prometheus-and-grafana-7b02fe3506ad?source=collection_archive---------1-----------------------#2020-05-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/307be02fbdad141f25e8d4f98133ed1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ymQaGNhU6WGSwgLD_fxzmg.png"/></div></div></figure><h1 id="d458" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">介绍</h1><p id="8a14" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">监控和警报是在生产环境中运行的任何软件系统的强制性部分。为了保持软件系统健康、优化性能和资源利用率，您需要统一的运营视图、实时粒度数据和历史参考。在这里，我将展示如何使用<a class="ae lu" href="https://prometheus.io/" rel="noopener ugc nofollow" target="_blank">普罗米修斯</a>和<a class="ae lu" href="https://grafana.com/" rel="noopener ugc nofollow" target="_blank">格拉法纳</a>来构建一个针对运行在K8s上的分布式<a class="ae lu" href="https://www.eclipse.org/jetty/" rel="noopener ugc nofollow" target="_blank"> Jetty </a>服务器的监控系统。</p><h1 id="77f8" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">码头</h1><p id="cf05" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">Jetty是一个免费的开源Web服务器和servlet容器。尽管Jetty的市场份额远不及Tomcat，但它仍然被业界广泛使用。如果您正在使用Tomcat，在这里您可以找到监控Tomcat web服务器的逐步指南。Jetty的两个主要卖点是其紧凑性和占地面积小。这两者都使得Jetty非常适合受限环境和嵌入到其他产品中。</p><p id="aa55" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">在docker容器中运行jetty非常容易。从<a class="ae lu" href="https://hub.docker.com/_/jetty" rel="noopener ugc nofollow" target="_blank"> DockerHub </a>中调出最新的官方码头图片。构建并运行以下Dockerfile文件。</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="ab4a" class="mj jz iq mf b gy mk ml l mm mn">FROM jetty</span><span id="2989" class="mj jz iq mf b gy mo ml l mm mn">RUN java -jar "$JETTY_HOME/start.jar" --add-to-startd=jmx,stats</span></pre><p id="049d" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">如果您将Spring Boot与嵌入式<strong class="ky ir">Jetty服务器一起使用，您必须在代码中以编程方式配置Jetty的统计数据:</strong></p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="9385" class="mj jz iq mf b gy mk ml l mm mn">@Bean<br/>public ServletWebServerFactory embeddedServletContainerFactory() {<br/>    final JettyServletWebServerFactory factory = new JettyServletWebServerFactory();<br/>    factory.addServerCustomizers(server -&gt; {<br/>        StatisticsHandler stats = new StatisticsHandler();<br/>        stats.setHandler(server.getHandler());<br/>        server.setHandler(stats);</span><span id="c6ce" class="mj jz iq mf b gy mo ml l mm mn">MBeanContainer mbContainer = new MBeanContainer(ManagementFactory.<em class="mp">getPlatformMBeanServer</em>());<br/>        server.addEventListener(mbContainer);<br/>        server.addBean(mbContainer);<br/>    });<br/>    return factory;<br/>}</span></pre><p id="5eb7" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">现在您有了一个docker容器，它运行一个Jetty服务器，通过使用JMX公开它的指标。</p><h1 id="3d9d" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">普罗米修斯特工</h1><p id="2372" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">JMX对普罗米修斯<a class="ae lu" href="https://github.com/prometheus/jmx_exporter" rel="noopener ugc nofollow" target="_blank">出口者</a>是一个可以收集和暴露JMX目标mBeans的收集器。该导出器旨在作为Java代理运行，公开HTTP服务器并提供本地JVM的指标。将以下代码添加到docker文件中:</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="c718" class="mj jz iq mf b gy mk ml l mm mn">FROM jetty<br/>RUN java -jar "$<em class="mp">JETTY_HOME</em>/start.jar" --add-to-startd=jmx,stats</span><span id="233e" class="mj jz iq mf b gy mo ml l mm mn">USER jetty<br/>COPY jmx-exporter.yaml ${<em class="mp">JETTY_BASE</em>}/<br/>RUN curl <a class="ae lu" href="https://repo1.maven.org/maven2/io/prometheus/jmx/jmx_prometheus_javaagent/0.12.0/jmx_prometheus_javaagent-0.12.0.jar" rel="noopener ugc nofollow" target="_blank">https://repo1.maven.org/maven2/io/prometheus/jmx/jmx_prometheus_javaagent/0.12.0/jmx_prometheus_javaagent-0.12.0.jar</a> \<br/>    --output ${<em class="mp">JETTY_BASE</em>}/jmx_prometheus_javaagent-0.12.0.jar</span><span id="87b1" class="mj jz iq mf b gy mo ml l mm mn">WORKDIR ${<em class="mp">JETTY_BASE</em>}<br/>CMD java -javaagent:${<em class="mp">JETTY_BASE</em>}/jmx_prometheus_javaagent-0.12.0.jar=9093:${<em class="mp">JETTY_BASE</em>}/jmx-exporter.yaml \<br/>         -jar ${<em class="mp">JETTY_HOME</em>}/start.jar</span></pre><p id="5e2f" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">创建jmx-exporter.yaml文件:</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="da70" class="mj jz iq mf b gy mk ml l mm mn">---<br/>startDelaySeconds: 0<br/>ssl: false<br/>lowercaseOutputName: true<br/>lowercaseOutputLabelNames: true<br/>rules:<br/>  - pattern: ".*"</span></pre><p id="c298" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">建造并运行一个新的码头码头集装箱。现在，您可以运行curl命令:</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="8483" class="mj jz iq mf b gy mk ml l mm mn">curl localhost:8080</span></pre><p id="a836" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">您将得到来自Jetty服务器的响应。之后，您可以运行另一个curl命令</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="7cb7" class="mj jz iq mf b gy mk ml l mm mn">curl localhost:9093</span></pre><p id="2c79" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">您将看到20KB的响应，其中包含一百多个不同的Jetty和JVM指标。而且是很多。每几秒钟从系统中的每个单元提取数百个不同的指标将占用大量资源，并且难以管理。我坚信监控系统应该简单、可靠、快速。这就是为什么只选择那些有用的指标很重要。挑选最有用指标的最著名方法之一是从<a class="ae lu" href="http://These have been championed by the Google SRE team and the larger web-scale SRE community as the most fundamental metrics for tracking service health and performance." rel="noopener ugc nofollow" target="_blank">四个黄金信号</a>开始。谷歌SRE团队支持这些作为跟踪服务健康和性能的最基本的指标。</p><ol class=""><li id="84ac" class="mq mr iq ky b kz lv ld lw lh ms ll mt lp mu lt mv mw mx my bi translated"><strong class="ky ir">延迟:</strong>服务一个请求所花费的时间。</li><li id="ee02" class="mq mr iq ky b kz mz ld na lh nb ll nc lp nd lt mv mw mx my bi translated"><strong class="ky ir">流量:</strong>衡量服务需求的指标。在Jetty的例子中，它是每秒的请求数。</li><li id="758a" class="mq mr iq ky b kz mz ld na lh nb ll nc lp nd lt mv mw mx my bi translated"><strong class="ky ir">错误:</strong>请求失败的比率。对于Jetty，我们可以计算4xx和5xx错误。</li><li id="5217" class="mq mr iq ky b kz mz ld na lh nb ll nc lp nd lt mv mw mx my bi translated"><strong class="ky ir">饱和度:</strong>服务有多“满”。这是对内存、I/O或CPU等系统利用率的衡量。服务在接近高饱和度时性能会下降。</li></ol><p id="cb4f" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">让我们回到码头和JMX出口商代理，选择正确的指标</p><ol class=""><li id="65a9" class="mq mr iq ky b kz lv ld lw lh ms ll mt lp mu lt mv mw mx my bi translated"><strong class="ky ir">org . eclipse . jetty . server . handler . statistics shandler . request time total</strong>测量请求处理的总时间(以毫秒为单位)。</li><li id="eead" class="mq mr iq ky b kz mz ld na lh nb ll nc lp nd lt mv mw mx my bi translated"><strong class="ky ir">org . eclipse . jetty . server . handler . statistics handler . requests—</strong>测量请求的总数</li><li id="9840" class="mq mr iq ky b kz mz ld na lh nb ll nc lp nd lt mv mw mx my bi translated"><strong class="ky ir">org . eclipse . jetty . server . handler . statistics shandler . response 4xx</strong>，<strong class="ky ir">org . eclipse . jetty . server . handler . statistics shandler . response 5xx</strong>—测量错误总数</li><li id="c275" class="mq mr iq ky b kz mz ld na lh nb ll nc lp nd lt mv mw mx my bi translated"><strong class="ky ir">process _ CPU _ seconds _ total</strong>，<strong class="ky ir">process _ resident _ memory _ bytes</strong>—可以作为系统指标。</li></ol><p id="b943" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">编辑jmx-exporter.yaml并更新规则，只暴露那些有用的指标。</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="b00a" class="mj jz iq mf b gy mk ml l mm mn">---<br/>startDelaySeconds: 0<br/>ssl: false<br/>lowercaseOutputName: true<br/>lowercaseOutputLabelNames: true<br/>whitelistObjectNames: ["org.eclipse.jetty.server.handler:*"]<br/>rules:<br/>  - pattern: ".*xx"<br/>  - pattern: ".*requests"  <br/>  - pattern: ".*requestTimeTotal"</span></pre><p id="dcbb" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">运行并确保您只能看到相关的Jetty和所有系统指标。</p><h1 id="f575" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">K8s配置</h1><p id="493c" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">当您在Kubernetes中运行Jetty容器时，需要公开JMX端口来收集度量数据。下面的示例Jetty配置文件显示了如何在K8s基础设施中部署基本的Jetty服务，其中Prometheus JMX港被公开和注释。</p><p id="653f" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated"><strong class="ky ir"> deployment.yaml </strong></p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="d510" class="mj jz iq mf b gy mk ml l mm mn">apiVersion: extensions/v1beta1<br/>kind: Deployment<br/>metadata:<br/>  name: jetty_api<br/>spec:<br/>  replicas: 2<br/>  template:<br/>    metadata:<br/>      labels:<br/>        app: jetty_api_app<br/>        type: java<br/>      annotations:<br/>       prometheus.io/port: '9093'        <br/>       prometheus.io/scrape: 'true'<br/>       prometheus.io/path: '/metrics'<br/>    spec:<br/>      containers:<br/>      - name: &lt;container name&gt;<br/>        image: &lt;docker image&gt;<br/>        ports:<br/>        - containerPort: 8080<br/>        env:<br/>        - name: JAVA_AGENT_PORT<br/>          value: "9093"<br/>        resources:<br/>          requests:<br/>            memory: "4096Mi"<br/>            cpu: "1"<br/>          limits:<br/>            memory: "4096Mi"<br/>            cpu: "1"</span></pre><p id="9fca" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated"><strong class="ky ir"> service.yaml </strong></p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="1f44" class="mj jz iq mf b gy mk ml l mm mn">apiVersion: v1<br/>kind: Service<br/>metadata:<br/>  name: jetty_api_service<br/>  labels:<br/>    app: jetty_api_service<br/>spec:<br/>  ports:<br/>  - port: 8080<br/>    targetPort: 8080<br/>    name: http<br/>  - port: 9093<br/>    targetPort: 9093<br/>    name: prom<br/>  selector:<br/>    app: jetty_api_service<br/>  type: NodePort</span></pre><p id="b65b" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">pod上的注释用于控制刮擦过程:</p><ul class=""><li id="427a" class="mq mr iq ky b kz lv ld lw lh ms ll mt lp mu lt ne mw mx my bi translated"><code class="fe nf ng nh mf b">prometheus.io/scrape</code>:该注释控制报废行为。默认值为true(刮擦pod)。</li><li id="78fb" class="mq mr iq ky b kz mz ld na lh nb ll nc lp nd lt ne mw mx my bi translated"><code class="fe nf ng nh mf b">prometheus.io/path</code>:该注释控制度量路径。默认值为<code class="fe nf ng nh mf b">/metric.</code></li><li id="dfe9" class="mq mr iq ky b kz mz ld na lh nb ll nc lp nd lt ne mw mx my bi translated"><code class="fe nf ng nh mf b">prometheus.io/port</code>:从中获取度量的端口。</li></ul><p id="c04c" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">现在我们已经有了从Jetty容器中抓取JVM数据所需的所有配置。</p><h1 id="8b83" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">普罗米修斯</h1><p id="f4aa" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">Prometheus示例配置文件名为prometheus.yml，如下所示:</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="7c33" class="mj jz iq mf b gy mk ml l mm mn">global:<br/>  scrape_interval:     15s<br/>  evaluation_interval: 15s<br/><br/>rule_files:<br/>  # - "first.rules"<br/>  # - "second.rules"<br/><br/>scrape_configs:<br/>  - job_name: 'prometheus<br/>    scrape_interval: 30s<br/>    kubernetes_sd_configs:<br/>    - role: pod<br/>      namespaces:<br/>        names:<br/>        - staging<br/>    scheme: http<br/>    relabel_configs:<br/>    - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_scrape]<br/>      action: keep<br/>      regex: true<br/>    - source_labels: [__address__, __meta_kubernetes_pod_annotation_prometheus_io_port]<br/>      action: replace<br/>      regex: ([^:]+)(?::\d+)?;(\d+)<br/>      replacement: $1:$2<br/>      target_label: __address__<br/>    - action: labelmap<br/>      regex: __meta_kubernetes_pod_label_(.+)<br/>    - source_labels: [__meta_kubernetes_namespace]<br/>      action: replace<br/>      target_label: kubernetes_namespace<br/>    - source_labels: [__meta_kubernetes_pod_name]<br/>      action: replace<br/>      target_label: kubernetes_pod_name</span></pre><p id="aa3f" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">如您所见，您可以在这里控制scrape_interval、规则评估间隔，您可以定义将被废弃的名称空间，等等。一旦配置和部署就绪，所有废弃的指标都将被收集并存储在Prometheus中。</p><h1 id="7de6" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">格拉夫纳</h1><p id="c87e" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated"><a class="ae lu" href="http://grafana.org/" rel="noopener ugc nofollow" target="_blank"> Grafana </a>支持查询普罗米修斯。自Grafana 2.5.0起，Prometheus的Grafana数据源已包含在内。要在Grafana中创建Prometheus数据源:</p><ol class=""><li id="dc6c" class="mq mr iq ky b kz lv ld lw lh ms ll mt lp mu lt mv mw mx my bi translated">点击侧边栏中的“齿轮”打开配置菜单。</li><li id="9a6a" class="mq mr iq ky b kz mz ld na lh nb ll nc lp nd lt mv mw mx my bi translated">点击“数据源”。</li><li id="4527" class="mq mr iq ky b kz mz ld na lh nb ll nc lp nd lt mv mw mx my bi translated">点击“添加数据源”。</li><li id="400f" class="mq mr iq ky b kz mz ld na lh nb ll nc lp nd lt mv mw mx my bi translated">选择“普罗米修斯”作为类型。</li><li id="9dec" class="mq mr iq ky b kz mz ld na lh nb ll nc lp nd lt mv mw mx my bi translated">设置适当的普罗米修斯服务器URL(例如<code class="fe nf ng nh mf b"><a class="ae lu" href="http://localhost:9090/)" rel="noopener ugc nofollow" target="_blank">http://localhost:9090/</a></code> <a class="ae lu" href="http://localhost:9090/)" rel="noopener ugc nofollow" target="_blank"> ) </a></li><li id="f4c8" class="mq mr iq ky b kz mz ld na lh nb ll nc lp nd lt mv mw mx my bi translated">根据需要调整其他数据源设置(例如，选择正确的访问方法)。</li><li id="4c6f" class="mq mr iq ky b kz mz ld na lh nb ll nc lp nd lt mv mw mx my bi translated">单击“保存并测试”保存新数据源。</li></ol><p id="55ff" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">一旦Prometheus源就绪，我们就可以为我们的Jetty服务创建一个仪表板。</p><p id="92de" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">点击“创建按钮”并选择“仪表板”菜单项</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ni"><img src="../Images/4f2776c647d31317eb3915f3b13242d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dlMxLEBI41QyhPnhFimQjw.png"/></div></div></figure><p id="5e7c" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">现在在数据源组合框中选择“普罗米修斯”</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nj"><img src="../Images/5171732c9d4bca6070a910be53f60f4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IQc0_S6bORbkd14UOJ2GGA.png"/></div></div></figure><p id="bbda" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">在“查询”字段中输入任何普罗米修斯表达式，同时使用“指标”字段通过自动完成功能查找指标。例如，在这里，我们正在寻找2xx码头公制</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nk"><img src="../Images/9013359b5079b64f66ef0a3dfcde4651.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wk5II-Z5EMQ_f5Ml8lhavQ.png"/></div></div></figure><p id="2392" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">选择图表类型，你就可以开始了。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nl"><img src="../Images/3bb3131becc3802bc62c946aeeaf1b9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sj9astSOAzh2s5gPPfcIkw.png"/></div></div></figure><p id="c3c9" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">同样，我们可以为四个“黄金指标”中的每一个设置面板。</p><h1 id="3c40" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">摘要</h1><p id="6976" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">它很小，但却是一个使用Prometheus和Grafana为Jetty服务器构建监控系统的端到端例子。如果您在K8s上运行所有应用程序，并且正在寻找可靠的监控基础设施，Prometheus和Grafana是值得考虑的工具。</p></div></div>    
</body>
</html>