<html>
<head>
<title>3 Ways to Make Sticky Table Headers Work in Websites</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让粘性表格标题在网站中工作的3种方法</h1>
<blockquote>原文：<a href="https://itnext.io/three-ways-how-to-make-sticky-table-headers-work-in-websites-4d728ef2b55f?source=collection_archive---------1-----------------------#2020-11-12">https://itnext.io/three-ways-how-to-make-sticky-table-headers-work-in-websites-4d728ef2b55f?source=collection_archive---------1-----------------------#2020-11-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a828" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">有三种方法可以解决这个本来就不应该成为问题的问题</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/bc441f7b9f5ced2e69f2e4f5ddffab63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vKgU97KWn-imlyAe"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">马库斯·斯皮斯克在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="36bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与苹果iOS和安卓等移动平台相比，网络有一个缺点:没有第三方库，开发者一开始只有相当基本的UI控件。虽然HTML5提供了许多语义元素来表达甚至复杂的布局并尊重可访问性，但默认的UI控件并没有很好地跟上时代。要么是风格看起来过时了(<a class="ae ky" href="https://blog.chromium.org/2020/03/updates-to-form-controls-and-focus.html" rel="noopener ugc nofollow" target="_blank">尽管谷歌Chrome和微软Edge团队已经开始着手改善默认的UI控件</a>)要么是功能太局限于今天的标准。</p><p id="e1a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们以<code class="fe lv lw lx ly b"><a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/table" rel="noopener ugc nofollow" target="_blank">&lt;table&gt;</a></code>元素为例。即使默认样式相当简单，纯HTML5表格也能完成在表格视图中显示数据的工作。但是，它缺乏现代应用程序可能具有的功能和可用性:</p><ul class=""><li id="9fb2" class="lz ma it lb b lc ld lf lg li mb lm mc lq md lu me mf mg mh bi translated">在<code class="fe lv lw lx ly b">&lt;table&gt;</code>中，你不能简单地按列排序</li><li id="5738" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated"><code class="fe lv lw lx ly b">&lt;table&gt;</code>没有提供过滤表格的方法(例如，使用全文搜索)</li><li id="b2e7" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated"><code class="fe lv lw lx ly b">&lt;table&gt;</code>如果有很多行，不提供无限滚动或虚拟滚动等技术来提高性能</li><li id="82ae" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">没有简单的方法让一个<code class="fe lv lw lx ly b">&lt;table&gt;</code>的标题变得有粘性</li></ul><p id="f3bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后一点尤其重要。如果需要在一个有许多列的表格中显示成百上千条记录，表格列有助于用户理解表格的内容。例如:考虑一个拥有数千名员工的公司中的用户表。如果看不到表格列，那么如此大的表格很快就会变得难以阅读。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mn mo l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">一个图像不像另一个:)</figcaption></figure><p id="1e6d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们要把人送上月球，所以我们应该能够毫不费力地让粘性表头在我们的静态网站和web应用程序中工作，对吗？让我们来看看实现这一目标的一些方法:</p><ul class=""><li id="0950" class="lz ma it lb b lc ld lf lg li mb lm mc lq md lu me mf mg mh bi translated">使用提供表格组件的UI组件库</li><li id="5cae" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">用CSS实现粘性表头</li><li id="d483" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">首先不要使用桌子</li></ul></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h2 id="89ae" class="mw mx it bd my mz na dn nb nc nd dp ne li nf ng nh lm ni nj nk lq nl nm nn no bi translated">使用包含表格组件的UI组件库</h2><p id="c8bb" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">现代用户界面由多个组件组成。因此，许多项目使用UI库，如<a class="ae ky" href="https://getbootstrap.com/" rel="noopener ugc nofollow" target="_blank"> Bootstrap </a>或<a class="ae ky" href="https://material.angular.io/" rel="noopener ugc nofollow" target="_blank"> Angular Material </a>。如果您使用的组件库已经提供了表格组件，那么您可能很幸运！许多UI库包括表格的样式和扩展功能。如果您选择的UI库支持粘性表头，那么通常只需应用特定的CSS类或特定的HTML属性来实现这一点。</p><p id="c68e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的屏幕截图显示了一个由<a class="ae ky" href="https://material.angular.io/components/table/overview" rel="noopener ugc nofollow" target="_blank">角形材料</a>制成的带有粘性标题的表格组件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/aa960654f1fe3f02a3e5a64ced27753a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a7ikn7NuA2ASjqv4kktbDw.png"/></div></div></figure><p id="b06b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，只为单个UI组件使用一个UI库并没有太大的意义。因此，如果您使用的UI库比表组件多，那么您应该包含一个UI库。</p></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h2 id="3212" class="mw mx it bd my mz na dn nb nc nd dp ne li nf ng nh lm ni nj nk lq nl nm nn no bi translated">用CSS实现粘性表头</h2><p id="98bf" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">即使CSS有时会很奇怪，但CSS可以做很多事情，所以我们可以使用CSS制作粘性表头吗？是的，但是它看情况。在一些浏览器中，你可以使用<code class="fe lv lw lx ly b"><a class="ae ky" href="https://caniuse.com/css-sticky" rel="noopener ugc nofollow" target="_blank">position: sticky</a></code>使任何元素具有粘性。遗憾的是，仅仅将它应用于<code class="fe lv lw lx ly b">&lt;tr&gt;</code>元素并不像人们预期的那样容易。为了让它适用于尽可能多的浏览器，你现在需要将它应用到<code class="fe lv lw lx ly b">&lt;th&gt;</code>元素中。此外，<code class="fe lv lw lx ly b">&lt;table&gt;</code>周围的包装元素需要有一个显式的<code class="fe lv lw lx ly b">height</code>或<code class="fe lv lw lx ly b">max-height</code>集合。</p><p id="444e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的示例显示了一个带有固定表格列标题的简单表格。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nv mo l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/9c56fcd641742ab8dc800dbf4738eef9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NIjSc1kfDeyrmNbmnjoNMw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">具有固定表格标题的可滚动表格</figcaption></figure><p id="d92f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种方法不需要第三方依赖或JavaScript，这很好。如果你的目标主要是现代浏览器，这种方式可能会很好。然而，如果你需要支持IE11这样的老浏览器，那么你需要另一个解决方案。请记住，虽然理论上浏览器对<code class="fe lv lw lx ly b">position: sticky</code>的支持相当好，但你可能会遇到意想不到的问题，所以不要忘记在不同的浏览器中做一些测试。</p></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h2 id="9385" class="mw mx it bd my mz na dn nb nc nd dp ne li nf ng nh lm ni nj nk lq nl nm nn no bi translated">首先不要使用<table/></h2><p id="191d" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">这似乎是一个显而易见的建议。毕竟，如果一个<code class="fe lv lw lx ly b">&lt;table&gt;</code>不能解决问题，那么谁会阻止你使用其他东西。您可以使用Flexbox或CSS Grid来创建类似表格的布局。使用<a class="ae ky" href="https://bulma.io" rel="noopener ugc nofollow" target="_blank"> bulma.css </a>的示例实现如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nv mo l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/ee055156809f5a145465884ffe85f2bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RZisEkRPZfg-7_Mudu9ZvA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">不使用<table>元素的表格状网格</table></figcaption></figure><p id="67bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面提到的代码很容易解释:</p><ul class=""><li id="8c10" class="lz ma it lb b lc ld lf lg li mb lm mc lq md lu me mf mg mh bi translated">用于显示“表头”的静态容器</li><li id="574d" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">一个带有显式<code class="fe lv lw lx ly b">max-height</code>的容器，用于显示表格内容。因为容器不能超过特定的高度，所以“表格内容”上下的内容应该总是可见的。</li><li id="b181" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">一个静态容器，用于“桌子”下面的所有东西，比如动作按钮</li></ul><p id="a871" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，这段代码的可访问性和语义性都不是很好。这是许多屏幕阅读器不容易理解的<code class="fe lv lw lx ly b">&lt;div&gt;</code>元素(据我所知)。如果“表格单元格”的CSS类不公开，即使是开发人员也无法知道这个“表格”包含多少行。</p><p id="8775" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想走这条路，我建议你通过设置正确的<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA" rel="noopener ugc nofollow" target="_blank"> ARIA属性</a>来确保可访问性。这是本地<code class="fe lv lw lx ly b">&lt;table&gt;</code>表现更好的一个方面，因为本地元素有相当好的内置可访问性。MDN建议开发人员优先使用正确的语义HTML元素，而不是ARIA，如果存在这样的元素的话。</p></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h2 id="d8c9" class="mw mx it bd my mz na dn nb nc nd dp ne li nf ng nh lm ni nj nk lq nl nm nn no bi translated">结论</h2><p id="11e4" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">感谢您阅读这篇关于如何创建带有粘性标题的表格的短文。几乎总是没有一个单一的解决方案适用于所有的用例。作为开发人员，您必须决定哪种方法最适合您的情况。你知道在web中制作粘性表格标题的更好的方法吗？请在评论中告诉我。</p></div></div>    
</body>
</html>