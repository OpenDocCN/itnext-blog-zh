<html>
<head>
<title>Make your own Youtube-like progress bar</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">制作你自己的类似Youtube的进度条</h1>
<blockquote>原文：<a href="https://itnext.io/make-your-own-youtube-like-progress-bar-218cf28fe706?source=collection_archive---------7-----------------------#2018-06-14">https://itnext.io/make-your-own-youtube-like-progress-bar-218cf28fe706?source=collection_archive---------7-----------------------#2018-06-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="8431" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">给我的个人网站<a class="ae kl" href="https://dmware.fr/" rel="noopener ugc nofollow" target="_blank">一个全新的外观</a>我想在我的帖子上添加一个类似Youtube的进度条，以获得更好的读者体验。</p><p id="ce60" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">看起来是这样的:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/7a3a0fc4c680dd72a76314d990418f25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zZ2ADegK-5QIp03tH60p5w.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">节选自我的<a class="ae kl" href="https://dmware.fr/4-css-tricks-ive-learnt-the-hard-way/" rel="noopener ugc nofollow" target="_blank">最新文章</a></figcaption></figure><p id="7cb9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它易于完全定制，只需:</p><ul class=""><li id="1bbf" class="lc ld iq jp b jq jr ju jv jy le kc lf kg lg kk lh li lj lk bi translated">1个HTML元素</li><li id="5636" class="lc ld iq jp b jq ll ju lm jy ln kc lo kg lp kk lh li lj lk bi translated">1个CSS块(6个简单属性)</li><li id="7459" class="lc ld iq jp b jq ll ju lm jy ln kc lo kg lp kk lh li lj lk bi translated">12条普通JS线</li></ul></div><div class="ab cl lq lr hu ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="ij ik il im in"><h1 id="2996" class="lx ly iq bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">我们开始吧！</h1><p id="78f4" class="pw-post-body-paragraph jn jo iq jp b jq mv js jt ju mw jw jx jy mx ka kb kc my ke kf kg mz ki kj kk ij bi translated"><strong class="jp ir">首先</strong>，你需要一个HTML节点来显示你的进度条:</p><p id="6162" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe na nb nc nd b">&lt;div class="progress-bar"&gt;&lt;/div&gt;</code></p><p id="10de" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">然后</strong>，需要用CSS定制:</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated">我对一切都进行了注释，以使其易于理解和定制</figcaption></figure><p id="0c25" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">最后</strong>，你使用Javascript让进度条跟随滚动</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="fb6f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">评论是不够的，所以我将解释:</p><ul class=""><li id="5cd7" class="lc ld iq jp b jq jr ju jv jy le kc lf kg lg kk lh li lj lk bi translated"><code class="fe na nb nc nd b">Line 6 :</code>检索用户向下滚动了多少。</li><li id="1821" class="lc ld iq jp b jq ll ju lm jy ln kc lo kg lp kk lh li lj lk bi translated"><code class="fe na nb nc nd b">Line 9 :</code>看看这张图片和它下面的解释。</li></ul><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi ng"><img src="../Images/e2f3d83721208ec11a328cb1dd928d79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7nfRFGsX-R5YV75bdrcnHQ.png"/></div></div></figure><p id="1837" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当用户到达你的长内容的底部时，你希望进度条被<strong class="jp ir">完全填充。</strong></p><p id="5d6f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这意味着<code class="fe na nb nc nd b">scroll</code>值必须等于:</p><p id="6261" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe na nb nc nd b">y position of the content</code><strong class="jp ir">+</strong><code class="fe na nb nc nd b">height of the content</code><strong class="jp ir">-</strong><code class="fe na nb nc nd b">browser height</code></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi ng"><img src="../Images/155c25536c274d23cda16ffe0eb02050.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uwL_AChqh7G4soDG--kdLw.png"/></div></div></figure><ul class=""><li id="3c7c" class="lc ld iq jp b jq jr ju jv jy le kc lf kg lg kk lh li lj lk bi translated"><code class="fe na nb nc nd b">Line 12:</code>我使用<code class="fe na nb nc nd b">Math.min(x, 100)</code>来确保<code class="fe na nb nc nd b">width</code>不会超过100%，我使用<code class="fe na nb nc nd b">Math.ceil()</code>来去除小数部分。</li></ul></div><div class="ab cl lq lr hu ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="ij ik il im in"><h1 id="9c68" class="lx ly iq bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">示范</h1><p id="ce8f" class="pw-post-body-paragraph jn jo iq jp b jq mv js jt ju mw jw jx jy mx ka kb kc my ke kf kg mz ki kj kk ij bi translated">这是一支工作笔:</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="nh nf l"/></div></figure></div><div class="ab cl lq lr hu ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="ij ik il im in"><p id="1083" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在制作自己的进度条之前，我尝试了几个库，但是我发现它们对我来说太多了。</p><p id="77d8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然而我相信我的方法有优势:</p><ul class=""><li id="e4e5" class="lc ld iq jp b jq jr ju jv jy le kc lf kg lg kk lh li lj lk bi translated">没有依赖关系，也没有HTTP请求。</li><li id="9af5" class="lc ld iq jp b jq ll ju lm jy ln kc lo kg lp kk lh li lj lk bi translated">香草JS表演。</li><li id="4c41" class="lc ld iq jp b jq ll ju lm jy ln kc lo kg lp kk lh li lj lk bi translated">超小和轻量级代码+非常容易集成到任何地方。</li><li id="0c2f" class="lc ld iq jp b jq ll ju lm jy ln kc lo kg lp kk lh li lj lk bi translated">易于用CSS动画扩展。</li><li id="409c" class="lc ld iq jp b jq ll ju lm jy ln kc lo kg lp kk lh li lj lk bi translated">跨浏览器兼容。</li></ul></div><div class="ab cl lq lr hu ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="ij ik il im in"><h1 id="52b4" class="lx ly iq bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">感谢阅读</h1><p id="ba77" class="pw-post-body-paragraph jn jo iq jp b jq mv js jt ju mw jw jx jy mx ka kb kc my ke kf kg mz ki kj kk ij bi translated">我的最新文章在媒体上已经有超过1万的读者和超过650次的点击，我非常感激它所带来的一切。</p><p id="f9fa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">感谢那些阅读、鼓掌、分享和翻译的人💖</p><p id="4cd0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">像往常一样，我乐于接受建议和想法。</p><p id="893d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请随时联系☕️</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi ni"><img src="../Images/964faa354ed6a54c0af5252df04b2d5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*abKHVEANd5U6u6OG"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk translated"><a class="ae kl" href="https://unsplash.com/@takeshi2?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">吴怡</a>在<a class="ae kl" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的“白色马克杯里的卡布奇诺，白色泡沫艺术在木桌上”</figcaption></figure></div></div>    
</body>
</html>