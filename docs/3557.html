<html>
<head>
<title>Become a Git Terminal Pro</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">成为Git终端Pro</h1>
<blockquote>原文：<a href="https://itnext.io/become-a-git-terminal-pro-ab6d1955606f?source=collection_archive---------4-----------------------#2020-01-08">https://itnext.io/become-a-git-terminal-pro-ab6d1955606f?source=collection_archive---------4-----------------------#2020-01-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/42a4f9806b8467a5f07bfcd5d34d883d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T79Oy_PyAtx7jZRAS7tzXw.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">Shell中的Git日志</figcaption></figure><p id="9ecf" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">每个程序员都知道它，并且必须或者喜欢使用它——Git。Git改变了我的工作方式——谁会不记得在你重写整个代码库之前，没完没了地按Ctrl-Z键回到工作状态。</p><p id="84ac" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">Git是一个版本控制系统，可以让你在开发软件的时候跟踪代码的变化。当你在团队中工作时，它是有用的，但当你独自工作时也是有用的——git是必须的。</p><p id="0244" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">当我几个月前开始我的新工作时，我认为我已经了解git了。对于Git，我总是倾向于使用像<a class="ae ld" href="https://www.sourcetreeapp.com/" rel="noopener ugc nofollow" target="_blank"> Sourcetree </a>这样的图形用户界面，但是由于各种原因，我从MacOS切换到Linux，不幸的是，我不得不切换到终端来使用Git。回想起来，这是我被迫做出的最好的决定之一。我的新同事向我展示了一些小技巧和改进，这样我就可以结合Git和我喜欢共享的终端更快更安全地工作。</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><p id="e2c3" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">但是首先——让我们再次回顾一下<strong class="kh iu">的基础知识</strong>。我假设每个人都熟悉git的原理。如果不是——在medium上有很多关于git的介绍。</p><h2 id="4583" class="lm ln it bd lo lp lq dn lr ls lt dp lu kq lv lw lx ku ly lz ma ky mb mc md me bi translated">git克隆</h2><p id="89c2" class="pw-post-body-paragraph kf kg it kh b ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc im bi translated"><em class="ll"> git克隆</em>是git中使用最多的命令。每次当我们想从github或gitlab下载一个库时，我们必须将<em class="ll">克隆到本地文件夹中。</em></p><h2 id="dd00" class="lm ln it bd lo lp lq dn lr ls lt dp lu kq lv lw lx ku ly lz ma ky mb mc md me bi translated">git状态</h2><p id="ca95" class="pw-post-body-paragraph kf kg it kh b ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc im bi translated"><em class="ll"> git status </em>向您显示自您上次提交以来已经更改的文件。它列出了已转移但已更改的文件，以及尚未转移的文件。</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mk"><img src="../Images/14c14e2ba0fa0df071c1f286ff2b6f17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jMxqaeQDE-uIiqeJdDFFpQ.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">git状态示例</figcaption></figure><h2 id="3997" class="lm ln it bd lo lp lq dn lr ls lt dp lu kq lv lw lx ku ly lz ma ky mb mc md me bi translated">git添加</h2><p id="d0b1" class="pw-post-body-paragraph kf kg it kh b ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc im bi translated"><em class="ll"> git add &lt; file &gt; </em>用于添加未暂存的文件，或将暂存但已更改的文件添加到下一次提交。使用<em class="ll"> git add </em>我们收集我们想要提交的文件。</p><h2 id="e59a" class="lm ln it bd lo lp lq dn lr ls lt dp lu kq lv lw lx ku ly lz ma ky mb mc md me bi translated">git提交</h2><p id="3182" class="pw-post-body-paragraph kf kg it kh b ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc im bi translated"><em class="ll"> git commit </em>将所有添加的文件打包成一个commit——并让您编写一个提交消息。该提交将被添加到您的本地存储库中。</p><h2 id="34c4" class="lm ln it bd lo lp lq dn lr ls lt dp lu kq lv lw lx ku ly lz ma ky mb mc md me bi translated">git日志</h2><p id="ca27" class="pw-post-body-paragraph kf kg it kh b ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc im bi translated">git日志向您展示了提交树。提交树由当前分支中的所有提交组成。</p><h2 id="544a" class="lm ln it bd lo lp lq dn lr ls lt dp lu kq lv lw lx ku ly lz ma ky mb mc md me bi translated">git推送</h2><p id="605d" class="pw-post-body-paragraph kf kg it kh b ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc im bi translated"><em class="ll"> git push </em>上传您的<strong class="kh iu">远程</strong>存储库，以及您在<strong class="kh iu">本地</strong>存储库中所做的更改。请注意，只有提交才会被上传和同步。</p><h2 id="52f3" class="lm ln it bd lo lp lq dn lr ls lt dp lu kq lv lw lx ku ly lz ma ky mb mc md me bi translated">git拉</h2><p id="b481" class="pw-post-body-paragraph kf kg it kh b ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc im bi translated"><em class="ll"> git pull </em>与<em class="ll"> git push </em>相反——它从<strong class="kh iu">远程</strong>存储库中提取尚未在<strong class="kh iu">本地</strong>存储库中的最新变更，并将这些变更合并到<strong class="kh iu">本地</strong>存储库中。</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="742c" class="mp ln it bd lo mq mr ms lr mt mu mv lu mw mx my lx mz na nb ma nc nd ne md nf bi translated">超越基础</h1><p id="a640" class="pw-post-body-paragraph kf kg it kh b ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc im bi translated">好吧——我猜你们大多数人都知道基本知识。当我第一次在命令行中使用git时，我遇到了一个问题，那就是我想将我所做的本地更改分割成不同的提交。通常这没什么大不了的——当你想把在<strong class="kh iu">一个</strong>文件中所做的更改分割成<strong class="kh iu">不同的</strong>提交时，困难就来了。这就是git add -p 发挥作用的地方。</p><h2 id="8900" class="lm ln it bd lo lp lq dn lr ls lt dp lu kq lv lw lx ku ly lz ma ky mb mc md me bi translated">git add -p</h2><p id="50c1" class="pw-post-body-paragraph kf kg it kh b ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc im bi translated"><em class="ll"> git add -p </em>的工作方式与<em class="ll"> git add </em>相同。它将您的更改添加到下一次提交中。但是<em class="ll"> git add -p </em>会扫描您的更改，您可以交互地决定您想要添加哪些代码块。这使您可以自由地跳过一个文件中的部分，并将它们添加到下一次提交中。它还会再次显示代码更改供您查看，这样您就可以确保只添加真正应该在下一次提交时使用的代码，这样您就不会添加任何调试代码。</p><h2 id="f911" class="lm ln it bd lo lp lq dn lr ls lt dp lu kq lv lw lx ku ly lz ma ky mb mc md me bi translated">。gitconfig</h2><p id="1393" class="pw-post-body-paragraph kf kg it kh b ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc im bi translated">你知不知道你可以在本地。<em class="ll"> gitconfig </em>，在这里可以配置你的本地git？你可以定义别名，设置你的名字和邮件，等等。完整的文档可以在<a class="ae ld" href="https://git-scm.com/docs/git-config" rel="noopener ugc nofollow" target="_blank">这里</a>找到。我的。gitconfig文件主要做三件事。它定义了我的名字和邮件地址，我在签署提交时使用它们(您可以使用git commit -s来签署提交)，它还定义了别名。别名至少能提高你100%的工作效率。我的。<em class="ll"> gitconfig </em>基本上是这样的:</p><pre class="ml mm mn mo gt ng nh ni nj aw nk bi"><span id="efb2" class="lm ln it nh b gy nl nm l nn no">[user]<br/> name = Christian Walter<br/> email = <a class="ae ld" href="mailto:christian.walter@9elements.com" rel="noopener ugc nofollow" target="_blank">I</a>reallydontwant@toShare.com<br/>[alias]<br/> ci = commit<br/> co = checkout<br/> st = status<br/> br = branch<br/> lg = log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)%Creset' --abbrev-commit<br/> stash-all = stash save --include-untracked<br/> undo = reset --soft HEAD^<br/> graph = log --graph --all ' --pretty=format:%Cred%h%Creset %ad | [%C(bold blue)%an%Creset] %Cgreen%d%Creset %s' --date=iso</span></pre><p id="b426" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">所以让我们一个一个来。首先，<code class="fe np nq nr nh b">[user]</code>部分定义了我的名字和邮件地址。<code class="fe np nq nr nh b">[alias]</code>部分定义了几个别名，可能需要更详细的解释。前四个只是提交、签出、状态和分支的简短形式。如果你只输入<em class="ll"> git st </em>而不是<em class="ll"> git status </em>，它会运行得更快。生产力提高—检查！</p><p id="7972" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">lg的别名很不错。这里发生了很多事情。简而言之:它将您扩展和放大的git历史转换为可读的git历史，您可以轻松浏览最近10、20、50或100次提交。</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ns"><img src="../Images/cb126a7b033025a41f155d5c89145ffb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NM7hz5ujFcm6Zewpt3Z1Tw.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">左边git log和右边git lg的比较。</figcaption></figure><p id="15b9" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">别名<code class="fe np nq nr nh b">git lg</code>解析为<code class="fe np nq nr nh b">git log --graph --pretty=format:%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)%Creset --abbrev-commit</code>——让我们一步步来。<code class="fe np nq nr nh b">--graph</code>向git历史添加基于文本的图形表示。<code class="fe np nq nr nh b">--pretty</code>格式化输出git历史是如何打印的。在这里，您可以选择自己的颜色或格式，并根据自己的需要进行定制。<code class="fe np nq nr nh b">%h</code>是提交的散列值，<code class="fe np nq nr nh b">%s</code>是提交主题，<code class="fe np nq nr nh b">%cr</code>是相对提交日期。可以在<a class="ae ld" href="https://git-scm.com/docs/pretty-formats" rel="noopener ugc nofollow" target="_blank">这里</a>找到可能格式选项的完整列表。</p><p id="a163" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">回到我们的别名列表:接下来的两个也很简单。<code class="fe np nq nr nh b">stash-all</code>隐藏所有内容，非文件和暂存文件，并且<code class="fe np nq nr nh b">git undo</code>将您的存储库重置为当前存储库之前的提交状态。</p><p id="75d7" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">最后但同样重要的是，<code class="fe np nq nr nh b">git graph</code>也是一个更复杂的别名，就像<em class="ll"> git lg </em>一样，但是它包括所有的分支，也包括没有合并回工作分支的分支。它给你一个关于所有已经处理过的<strong class="kh iu">分支的概述，并显示它们的历史。</strong></p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><p id="807b" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我希望你和我一样喜欢这些有用的建议。它提高了我的工作效率，现在我对在终端中使用git更有信心了。此外，我发现在终端中工作比在其他GUI中工作更愉快。</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><p id="fe7b" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">感谢<a class="nt nu ep" href="https://medium.com/u/5bd9cfa21179?source=post_page-----ab6d1955606f--------------------------------" rel="noopener" target="_blank"> Sebastian Deutsch </a>和<a class="nt nu ep" href="https://medium.com/u/70c88a583df3?source=post_page-----ab6d1955606f--------------------------------" rel="noopener" target="_blank"> 9elements </a>提供的有用提示。我只是总结了一下。</p><p id="1a18" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh iu">感谢阅读！</strong></p><p id="79cb" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh iu">资源:</strong></p><p id="9699" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">Git配置选项:<a class="ae ld" href="https://git-scm.com/docs/git-config" rel="noopener ugc nofollow" target="_blank">https://git-scm.com/docs/git-config</a>T26】Git漂亮格式选项:<a class="ae ld" href="https://git-scm.com/docs/pretty-formats" rel="noopener ugc nofollow" target="_blank">https://git-scm.com/docs/pretty-formats</a></p></div></div>    
</body>
</html>