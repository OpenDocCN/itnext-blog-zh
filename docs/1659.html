<html>
<head>
<title>Keep Code Consistent Across Developers The Easy Way — With Prettier &amp; ESLint</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用更漂亮的&amp; ESLint，用最简单的方法在开发者之间保持代码一致</h1>
<blockquote>原文：<a href="https://itnext.io/keep-code-consistent-across-developers-the-easy-way-with-prettier-eslint-60bb7e91b76c?source=collection_archive---------0-----------------------#2018-12-22">https://itnext.io/keep-code-consistent-across-developers-the-easy-way-with-prettier-eslint-60bb7e91b76c?source=collection_archive---------0-----------------------#2018-12-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><h1 id="18fa" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">编写代码已经够难的了，不要让糟糕的格式变得更难</h1><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ko"><img src="../Images/99bf0df1c13db813157da87f91b361d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*uhO68sEJMqycy-Fv9_DMZw.jpeg"/></div><figcaption class="kw kx gj gh gi ky kz bd b be z dk translated">有点夸张，但你明白了。</figcaption></figure><h1 id="9b95" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">代码格式化:这不仅仅适用于坚持己见的人和语法纳粹</h1><p id="cd33" class="pw-post-body-paragraph la lb it lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi ly translated">他的文章是写给所有曾经和别人一起开发过应用程序(或者打算这样做)的JavaScript开发人员的。如果是你，继续读下去。如果你是一个solo，摇滚明星，忍者开发者，你可以继续你的一天。</p><p id="344f" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">现在我已经引起了大家的注意，让我给你一个假设的(现实生活中的)例子，说明当你打开一个现有的JavaScript代码库时，你可能会遇到什么，这个代码库是由一个开发团队组合起来的。</p><p id="a269" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">您可能会看到以下部分(或全部)内容:</p><ul class=""><li id="8d11" class="mm mn it lc b ld mh lh mi ll mo lp mp lt mq lx mr ms mt mu bi translated">缺少分号，</li><li id="b2fd" class="mm mn it lc b ld mv lh mw ll mx lp my lt mz lx mr ms mt mu bi translated">一些行之间有大量空白，而另一些行之间没有空白，</li><li id="521d" class="mm mn it lc b ld mv lh mw ll mx lp my lt mz lx mr ms mt mu bi translated">运行那些让你向右滚动很长时间才能看到所有内容的行，</li><li id="1c94" class="mm mn it lc b ld mv lh mw ll mx lp my lt mz lx mr ms mt mu bi translated">看似随机的压痕，</li><li id="7b35" class="mm mn it lc b ld mv lh mw ll mx lp my lt mz lx mr ms mt mu bi translated">注释掉代码块，</li><li id="d877" class="mm mn it lc b ld mv lh mw ll mx lp my lt mz lx mr ms mt mu bi translated">已初始化但未使用的变量，</li><li id="b8b3" class="mm mn it lc b ld mv lh mw ll mx lp my lt mz lx mr ms mt mu bi translated">一些使用“严格”JS的文件和其他不使用JS的文件，</li><li id="a34c" class="mm mn it lc b ld mv lh mw ll mx lp my lt mz lx mr ms mt mu bi translated">没有空格或注释的代码块使得阅读和破译代码变得更加困难。</li></ul><p id="3939" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">从我目前工作的代码库中取出这段代码:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi na"><img src="../Images/79bf03c4894d593000ce1bdc394905e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZClkPpflf9AgWILbsVFemA.png"/></div></div><figcaption class="kw kx gj gh gi ky kz bd b be z dk translated">这是一个格式不佳的代码的例子。看着不痛苦吗？是啊…</figcaption></figure><p id="1685" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">你觉得这听起来很熟悉吗？恭喜你，你在一个工作开发团队中，每个人都有自己喜欢的编码方式。</p><p id="322a" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">正如您可能已经能够想象的那样，一个开发人员完全可以接受的东西(任何地方都不能有空格)，可能会让另一个人抓狂。虽然一个开发人员可能每次都完美地缩进每一行，但另一个开发人员可能不在乎(并且知道JavaScript也不太在乎，所以她/他可以逃脱)。</p><p id="6b20" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">这是一个难以遵循的代码库的秘诀，我不知道你怎么想，但是我发现理解和编写好的、功能性的代码已经足够困难了，而不必担心缩进、间距、跟踪变量和简单的标点符号修正。</p><p id="646b" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">更不用说，我讨厌成为那种对所有拉动请求发表评论，要求清理这类事情的人。没人想成为那样的人。</p><p id="fdc8" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">这也是我今天发帖的原因。</p><blockquote class="nf"><p id="a286" class="ng nh it bd ni nj nk nl nm nn no lx dk translated">今天，我将借助<a class="ae np" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> Visual Studio Code </a>、<a class="ae np" href="https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode" rel="noopener ugc nofollow" target="_blank">appearlier</a>和<a class="ae np" href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint" rel="noopener ugc nofollow" target="_blank"> ESLint </a>来神奇地消除一群不同开发人员的代码不一致性，并留给您美丽、统一的代码，您的开发团队甚至不必考虑格式化。</p></blockquote><p id="240d" class="pw-post-body-paragraph la lb it lc b ld nq lf lg lh nr lj lk ll ns ln lo lp nt lr ls lt nu lv lw lx im bi translated">听起来好得难以置信？不是的。我保证。</p><h1 id="f238" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">VS拯救代码和插件</h1><p id="ecfc" class="pw-post-body-paragraph la lb it lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">好的，让我们直接讨论代码格式问题的解决方案。如果你不熟悉的话——VS Code是今天事实上的<a class="ae np" href="https://2018.stateofjs.com/other-tools/" rel="noopener ugc nofollow" target="_blank"> JavaScript IDE </a>。</p><p id="a897" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">理由很充分——它是免费的，很容易启动和运行，而且与它一起工作绝对是一种享受。这只是冰山一角，但是还有一百万篇其他的文章在阐述VS代码的神奇之处，所以我将把这些留给他们。</p><p id="30de" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">在此之前，我是WebStorm和IntelliJ等JetBrains的支持者，但在尝试了Visual Studio代码之后，我被说服了。</p><p id="1606" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">这导致…</p><p id="33dd" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated"><strong class="lc iu">第一步</strong>，如果你还没有下载，现在<a class="ae np" href="https://code.visualstudio.com/download" rel="noopener ugc nofollow" target="_blank">下载VS代码</a>。解决这种格式和代码一致性问题是我们难题的关键部分。</p><p id="e54a" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated"><strong class="lc iu">第二步</strong>，是插件入门。我最喜欢VS代码的一点是它拥有非常健壮的插件生态系统，以及集成这些插件的便利性。你设置了一次，然后你可以忘记他们，他们只是继续工作，一个接一个的项目。</p><p id="237f" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">今天你的武器库中需要两个插件:<a class="ae np" href="https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode" rel="noopener ugc nofollow" target="_blank">beautiful</a>和<a class="ae np" href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint" rel="noopener ugc nofollow" target="_blank"> ESLint </a>。</p><p id="ff56" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">如果你打开VS代码窗口边上的Extensions标签，你会看到很多针对VS代码的扩展。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi nv"><img src="../Images/911793960e0bf7e1429e66d19d643dee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VLnXZ_-8LZvBzEoT7XFMkQ.png"/></div></div><figcaption class="kw kx gj gh gi ky kz bd b be z dk translated">看到最左边那个方形的东西了吗？点击它来打开VS代码的插件搜索。</figcaption></figure><p id="305d" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">但是在我让你下载这些插件之前，让我给你一个这些扩展能为你做什么的快速概述。</p><h2 id="a6f5" class="nw jr it bd js nx ny dn jw nz oa dp ka ll ob oc ke lp od oe ki lt of og km oh bi translated"><strong class="ak">更漂亮</strong></h2><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/cbc3c2cc64a6a35e3da389ba659ef526.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*wSyGEHN_YNuuLnIkSvajJg.png"/></div></figure><blockquote class="nf"><p id="1916" class="ng nh it bd ni nj oj ok ol om on lx dk translated">很简单，pretty是一个“格式化你的JavaScript / TypeScript / CSS的VS代码包”——pretty站点</p></blockquote><p id="62e7" class="pw-post-body-paragraph la lb it lc b ld nq lf lg lh nr lj lk ll ns ln lo lp nt lr ls lt nu lv lw lx im bi translated">实际上，Prettier是一个固执己见的代码格式化程序，可以做各种有用的事情，比如:</p><ul class=""><li id="0fb8" class="mm mn it lc b ld mh lh mi ll mo lp mp lt mq lx mr ms mt mu bi translated">将所有单引号改为双引号，</li><li id="2545" class="mm mn it lc b ld mv lh mw ll mx lp my lt mz lx mr ms mt mu bi translated">添加缺少的分号，</li><li id="5c67" class="mm mn it lc b ld mv lh mw ll mx lp my lt mz lx mr ms mt mu bi translated">在花括号或方括号和变量之间放置空格，</li><li id="293e" class="mm mn it lc b ld mv lh mw ll mx lp my lt mz lx mr ms mt mu bi translated">设置标准制表符宽度。</li></ul><p id="cac0" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">这只是Prettier所关心的一小部分，在VS代码中，忽略任何你不喜欢的规则真的很容易，我稍后会谈到这一点。</p><p id="9e58" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">更漂亮是为了保持代码格式的一致性，VS代码插件，它可以在项目中有或没有<code class="fe oo op oq or b">.prettierrc</code>文件的情况下工作(尽管这可能是对开发代码库的开发团队的一个很好的建议)。这将保持你的代码整洁易读，对团队中的所有开发人员都是一样的。</p><p id="badf" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">对我来说最大的卖点之一？</p><blockquote class="nf"><p id="4b5e" class="ng nh it bd ni nj nk nl nm nn no lx dk translated"><em class="os">每次保存时，可以将漂亮器设置为自动格式化代码。</em></p></blockquote><p id="8f75" class="pw-post-body-paragraph la lb it lc b ld nq lf lg lh nr lj lk ll ns ln lo lp nt lr ls lt nu lv lw lx im bi translated">我不需要考虑它，我不需要设置复杂的文件监视器任务，我在VS代码中改变一个设置，它就工作了。每次都是。句号。</p><p id="6874" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">我也会告诉你怎么做，但是在我到达那里之前，我需要你为VS代码下载更漂亮的。</p><p id="f1ee" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">在你的VS代码窗口中打开扩展市场(它是调试器下看起来像小方块的东西)。</p><p id="ec87" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">这是你将在VS Code的扩展中搜索的第一个插件。如果你在搜索栏中输入“更漂亮”,你的搜索结果应该是这样的:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi ot"><img src="../Images/f21764e3b4135617f82698ce38702440.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nGCSIAt3W9vwhQNBvFcN3Q.png"/></div></div><figcaption class="kw kx gj gh gi ky kz bd b be z dk translated">使用更漂亮的代码格式化程序。这是你想要的。</figcaption></figure><p id="ad72" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">你看到第一个结果了吗？下载量570万还在统计的那个？那就是你要安装的。当有疑问时，寻找下载量最大的扩展，它与你认为的扩展名最接近，然后使用它。</p><p id="ac60" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">如果你认为VS代码上的“安装”按钮看起来像标签或横幅，而不是完成的、可点击的按钮，我同意你的观点。但这是另一天的辩论。</p><p id="f3d8" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">一旦安装了更漂亮的扩展，我们就可以开始第二个插件了:ESLint。</p><h2 id="7bac" class="nw jr it bd js nx ny dn jw nz oa dp ka ll ob oc ke lp od oe ki lt of og km oh bi translated"><strong class="ak"> ESLint </strong></h2><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/4e8ec2ae93a837a7867ca0f87be11a8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*GCNMBHfZpcDRLYmIfGgOWw.png"/></div></figure><blockquote class="nf"><p id="d7b5" class="ng nh it bd ni nj oj ok ol om on lx dk translated">ESLint背后的想法是:“JavaScript是一种动态的、松散类型的语言，特别容易出现开发人员的错误。在没有编译过程的帮助下，JavaScript代码通常被执行以发现语法或其他错误。像ESLint这样的林挺工具允许开发人员在不执行JavaScript代码的情况下发现问题。”— ESLint网站</p></blockquote><p id="617f" class="pw-post-body-paragraph la lb it lc b ld nq lf lg lh nr lj lk ll ns ln lo lp nt lr ls lt nu lv lw lx im bi translated">ESLint非常适合您希望您的开发团队遵循的更具体、不太通用的代码风格。除非你专门设置了它，否则ESLint不会自动修复或重写你的代码，但它会以一种直接的方式让你知道有“规则”被破坏了。</p><p id="645c" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">这些规则是否包括注释掉的代码、未使用的变量或缺少的prop-type取决于您和您的团队，但是在您的项目中有了一个<code class="fe oo op oq or b">.eslintrc</code>文件，它就在项目周围设置了防护栏，以确保编写的每个JavaScript文件都遵循与其他文件相同的标准，而不管是谁在处理它。</p><p id="2665" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">VS代码的ESLint插件是官方的<a class="ae np" href="https://eslint.org/" rel="noopener ugc nofollow" target="_blank">开源ESLint </a>工具的扩展，被谷歌、脸书、网飞等公司使用。</p><p id="0504" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">如果ESLint对他们来说足够好，那对我来说当然也足够好。</p><p id="f1f4" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">在VS代码扩展市场中搜索<a class="ae np" href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint" rel="noopener ugc nofollow" target="_blank"> ESLint </a>时，您会看到以下内容:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi ot"><img src="../Images/79d51aece16f6f20559def5b88eac6f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fhH0tOsDHdNtG-Z8EMCwqQ.png"/></div></div><figcaption class="kw kx gj gh gi ky kz bd b be z dk translated">1500万下载量的那个，就是你要的那个。</figcaption></figure><p id="0695" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">ESLint最大的好处之一是，ESLint中的每个“规则”集都是完全独立的。每一个都可以打开或关闭，可以添加新的规则，可以忽略不必要的规则，并且有大量的规则已经被记录为包含在一行代码中。</p><p id="2a37" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">默认情况下没有启用任何规则，所以你可以自由添加你认为合适的规则，但很多开发团队喜欢从类似于<a class="ae np" href="https://www.npmjs.com/package/eslint-config-airbnb" rel="noopener ugc nofollow" target="_blank"> Airbnb的ESLint文件</a>这样的东西开始，它被打包成一个方便的NPM模块(<code class="fe oo op oq or b">npm i eslint-config-airbnb</code>)，并根据他们的需要进行调整以适应他们的需求。</p><p id="c40c" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">题外话:Airbnb的整个<a class="ae np" href="https://github.com/airbnb/javascript" rel="noopener ugc nofollow" target="_blank">风格指南</a>是如何编写JavaScript的一个很好的例子。我认为，Github上的79，000+颗星是一个很好的质量指标。但是，这是另一篇文章的题外话。</p><p id="b717" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">现在，让我们下载<a class="ae np" href="https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode" rel="noopener ugc nofollow" target="_blank">更漂亮的</a>和<a class="ae np" href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint" rel="noopener ugc nofollow" target="_blank"> ESLint </a>，然后让它们在VS代码中运行。</p><h1 id="e33e" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">设置和配置更漂亮和ESLint</h1><p id="a7bb" class="pw-post-body-paragraph la lb it lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">这是有趣的部分。这也是非常非常简单的部分。你会惊奇地发现这是多么的容易，而且VS代码的存在让我更加高兴。</p><p id="f817" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">一旦你下载了这些插件，是时候启用它们了。</p><p id="9872" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">要检查您的新插件是否已安装并启用，当仍在扩展屏幕中时，您可以单击搜索输入右上角的三个点，并从下拉列表中单击“显示已安装的扩展”或“显示已启用的扩展”,如果您的新扩展已下载/启用，ESLint和beauty将显示在那里。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi ou"><img src="../Images/5a41a9f607957a7fa4877b4c0d9092e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*COmnHdrt154aLCke6WjQzw.png"/></div></div><figcaption class="kw kx gj gh gi ky kz bd b be z dk translated">我的VS代码工作区安装并启用了ESLint和appearlier。</figcaption></figure><p id="d387" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">如果没有启用，只需点击扩展并点击“启用”按钮(是的，它看起来像一个标签，但它是一个按钮)。然后重新启动VS代码程序，使更改生效。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi ov"><img src="../Images/db89c633826851cb941c83459bccf126.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lXyys7m6LIVsiMbfEskDHQ.png"/></div></div><figcaption class="kw kx gj gh gi ky kz bd b be z dk translated">如果ESLint没有启用，禁用按钮会显示“启用”,我可以在那里单击它来打开它。</figcaption></figure><h2 id="3b91" class="nw jr it bd js nx ny dn jw nz oa dp ka ll ob oc ke lp od oe ki lt of og km oh bi translated"><strong class="ak">默认用户设置</strong></h2><p id="e7dc" class="pw-post-body-paragraph la lb it lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">太好了，现在两个插件都应该启用了，我们准备开始了。正如我之前所说的，Prettier有很多默认设置，你可以看到启用/禁用了什么，并在这里进行任何你想全局生效的更改。</p><p id="1f16" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">要获得这些设置，请转到<strong class="lc iu">代码&gt;首选项&gt;设置</strong>，然后在输入框中搜索“更漂亮”。一旦你进入常规设置，点击窗口右上角的花括号，它将带你到“默认用户设置”，在这里你可以看到所有更漂亮的设置和它们的默认设置。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi ow"><img src="../Images/5102cbdc1ad4950b159f580bbd0ab08c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n24NFG6MS8hJVOG7RkGJ6w.png"/></div></div><figcaption class="kw kx gj gh gi ky kz bd b be z dk translated">在我的VS代码中默认漂亮的配置设置。</figcaption></figure><p id="54a2" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">在这里，您可以通过在搜索框中输入“eslint”来做同样的事情，并查看默认情况下该扩展名的所有规则。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi ox"><img src="../Images/12d6ea05c791fd3e5df88cbb3b04dbdf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T_lo7drh6a8XMjK_qyB8tw.png"/></div></div><figcaption class="kw kx gj gh gi ky kz bd b be z dk translated">我的VS代码中的默认ESLint配置设置。</figcaption></figure><p id="4277" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">这是默认设置。很好，现在让我们稍微定制一下，因为我想让我的开发生活更加轻松。</p><h2 id="5114" class="nw jr it bd js nx ny dn jw nz oa dp ka ll ob oc ke lp od oe ki lt of og km oh bi translated"><strong class="ak">自定义用户设置</strong></h2><p id="51da" class="pw-post-body-paragraph la lb it lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">VS代码提供了这种非常方便的方式，用它所谓的“用户设置”来覆盖特定扩展的任何默认设置。</p><p id="905b" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">所有这些都是一个文件，由VS代码使用特定于您的文本编辑器的设置生成。如果您想要覆盖特定的规则，只需将光标悬停在要修改的规则上，然后单击左侧出现的铅笔，一个名为“用户设置”的新窗口将会打开，并将该规则添加为可修改的设置。</p><p id="6b1a" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">下面是我的用户设置的一个例子，在下面截图的右边。我已经覆盖了几个更漂亮的设置:<code class="fe oo op oq or b">singleQuote</code>和<code class="fe oo op oq or b">trailingComma</code>，并且启用了ESLint的<code class="fe oo op oq or b">autoFixOnSave</code>功能。</p><p id="2a01" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">到目前为止，我启用的最好的东西是Prettier的<code class="fe oo op oq or b">formatOnSave</code>，所以我甚至不用去想它。这是通过下面的代码片段完成的。</p><pre class="kp kq kr ks gt oy or oz pa aw pb bi"><span id="8853" class="nw jr it or b gy pc pd l pe pf">"[javascript]": {<br/>    "editor.formatOnSave": true<br/>}</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi pg"><img src="../Images/5c4b38ad2e8b8f1bca3aed4facf7ea82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TFMi0Wa3xEdBLHJpc2XM0g.png"/></div></div><figcaption class="kw kx gj gh gi ky kz bd b be z dk translated">单击左边的编辑铅笔，规则将被添加到右边的自定义“用户设置”中。</figcaption></figure><p id="e1e2" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">漂亮的<code class="fe oo op oq or b">formatOnSave</code>是基于每种语言的，所以如果你想添加CSS或HTML或其他语言的格式，你只需要在这里添加。然后就整装待发了。</p><p id="2fc2" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">在一个JavaScript文件中进行更改，保存更改，代码会根据更漂亮的来重新格式化自己。很光荣。真的，到目前为止，我最喜欢的功能之一。</p><h2 id="5351" class="nw jr it bd js nx ny dn jw nz oa dp ka ll ob oc ke lp od oe ki lt of og km oh bi translated"><strong class="ak">项目特定配置文件</strong></h2><p id="4d78" class="pw-post-body-paragraph la lb it lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">最后是项目特定的配置文件。这更适用于ESLint，而不是prettle(因为prettle的默认设置)，但是我会推荐一个针对团队项目的<code class="fe oo op oq or b">.prettierrc</code>文件。</p><p id="cedd" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">我发现当我为自己的项目编码时，直接通过VS代码扩展的默认设置对我来说已经足够了，但是对于开发团队来说，为了绝对确保每个人都按照相同的标准编码，可以包含那个文件以消除所有的猜测。</p><p id="201b" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">无论如何，为了让ESLint工作得最好，它需要一个位于项目根目录的<code class="fe oo op oq or b">.eslintrc</code>文件。下面是该文件的一个示例。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi ph"><img src="../Images/1188d343ddcb1a709af0a43bfcd40102.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wWDN7wPVnCuv1df76Vm6JQ.png"/></div></div><figcaption class="kw kx gj gh gi ky kz bd b be z dk translated"><code class="fe oo op oq or b">.eslintrc</code>文件的例子</figcaption></figure><p id="915d" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">这是一个精简的，但你得到的想法。任何要对照的规则都添加在文件的底部。</p><p id="72d5" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">一旦这个文件存在，如果有一个规则被破坏，它将出现在内置终端在VS代码窗口中运行的“问题”部分。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi pi"><img src="../Images/6a0f44a6ff7f04078369f4eeac57225a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pTDNQ9u3fPbFX6Uc45krng.png"/></div></div><figcaption class="kw kx gj gh gi ky kz bd b be z dk translated">埃斯林正在做林挺。</figcaption></figure><p id="5679" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">没有一个项目特定的<code class="fe oo op oq or b">.eslintrc</code>文件，除非你有很多硬性的规则想要在你的自定义用户设置中设置，否则你不会从ESLint得到很多帮助。就我个人而言，我喜欢特定于项目的ESLint文件，它非常清楚地说明了规则和标准，不像Prettier，默认情况下非常固执己见，ESLint不会抱怨，除非你告诉它。</p><p id="8c41" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">总结一下，VS代码中的配置设置有点像CSS及其特殊性规则——设置文件越具体，VS代码赋予它的优先级就越高。如果没有特定于项目的配置文件，VS代码会退回到自定义用户设置，如果没有自定义用户设置，它会最后寻找默认设置。</p><h1 id="8a3b" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">结论</h1><p id="25aa" class="pw-post-body-paragraph la lb it lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated">这就是了。您的开发团队现在已经为成功做好了准备——至少在一致的、格式良好的、干净的JavaScript代码方面。VS Code使得开发人员只需很少的努力就可以实现彻底的代码林挺和自以为是的代码格式化。没有理由不同意这一点。</p><p id="9501" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">这些简单的技巧将加速开发，并保持每个人的代码看起来一致，即使他们都有自己独特的编码风格。</p><p id="e6bf" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">过几周再来看看，我将会写用Java阅读超大文件(这是我关于用Node.js 阅读超大文件的<a class="ae np" rel="noopener ugc nofollow" target="_blank" href="/using-node-js-to-read-really-really-large-files-pt-1-d2057fe76b33">的两部分系列的后续)或其他与web开发相关的东西，所以请关注我，以免错过。</a></p><p id="90e5" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated">感谢您的阅读，我希望这能让您了解如何轻松地让您的代码与Prettier和ESLint保持一致。非常感谢鼓掌和分享！</p><p id="c4c1" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated"><strong class="lc iu">如果你喜欢读这篇文章，你可能也会喜欢我的其他一些博客:</strong></p><ul class=""><li id="0216" class="mm mn it lc b ld mh lh mi ll mo lp mp lt mq lx mr ms mt mu bi translated"><a class="ae np" rel="noopener ugc nofollow" target="_blank" href="/the-absolute-easiest-way-to-debug-node-js-with-vscode-2e02ef5b1bad">调试Node.js最简单的方法——用VS代码</a></li><li id="5443" class="mm mn it lc b ld mv lh mw ll mx lp my lt mz lx mr ms mt mu bi translated"><a class="ae np" rel="noopener ugc nofollow" target="_blank" href="/using-node-js-to-read-really-really-large-files-pt-1-d2057fe76b33">使用Node.js读取非常非常大的文件(Pt 1) </a></li><li id="ff53" class="mm mn it lc b ld mv lh mw ll mx lp my lt mz lx mr ms mt mu bi translated"><a class="ae np" rel="noopener ugc nofollow" target="_blank" href="/password-reset-emails-in-your-react-app-made-easy-with-nodemailer-bb27968310d7">使用Nodemailer简化React应用程序中的密码重置电子邮件</a></li></ul><p id="4ed8" class="pw-post-body-paragraph la lb it lc b ld mh lf lg lh mi lj lk ll mj ln lo lp mk lr ls lt ml lv lw lx im bi translated"><strong class="lc iu">参考资料和更多资源:</strong></p><ul class=""><li id="e5fe" class="mm mn it lc b ld mh lh mi ll mo lp mp lt mq lx mr ms mt mu bi translated">Visual Studio 代码: <a class="ae np" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> https://code.visualstudio.com/ </a></li><li id="ce08" class="mm mn it lc b ld mv lh mw ll mx lp my lt mz lx mr ms mt mu bi translated">打印机: <a class="ae np" href="https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode" rel="noopener ugc nofollow" target="_blank">https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode </a></li><li id="cc6c" class="mm mn it lc b ld mv lh mw ll mx lp my lt mz lx mr ms mt mu bi translated">ESLint: <a class="ae np" href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint" rel="noopener ugc nofollow" target="_blank">https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint </a></li><li id="12ce" class="mm mn it lc b ld mv lh mw ll mx lp my lt mz lx mr ms mt mu bi translated">ESLint 文件: <a class="ae np" href="https://eslint.org/" rel="noopener ugc nofollow" target="_blank">https://eslint.org/ </a></li><li id="3f4c" class="mm mn it lc b ld mv lh mw ll mx lp my lt mz lx mr ms mt mu bi translated">Airbnb ESLint, NPM: <a class="ae np" href="https://www.npmjs.com/package/eslint-config-airbnb" rel="noopener ugc nofollow" target="_blank"> https://www.npmjs.com/package/eslint-config-airbnb </a></li><li id="df2d" class="mm mn it lc b ld mv lh mw ll mx lp my lt mz lx mr ms mt mu bi translated">Airbnb风格指南: <a class="ae np" href="https://github.com/airbnb/javascript" rel="noopener ugc nofollow" target="_blank">https://github.com/airbnb/javascript </a></li><li id="6cf1" class="mm mn it lc b ld mv lh mw ll mx lp my lt mz lx mr ms mt mu bi translated">JavaScript 2018 状态: 其他工具: <a class="ae np" href="https://2018.stateofjs.com/other-tools/" rel="noopener ugc nofollow" target="_blank"> https://2018.stateofjs.com/other-tools/ </a></li></ul></div></div>    
</body>
</html>