<html>
<head>
<title>Install MySQL in 20mins by Using Docker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Docker在20分钟内安装MySQL</h1>
<blockquote>原文：<a href="https://itnext.io/install-mysql-in-20mins-by-using-docker-3751819e7815?source=collection_archive---------0-----------------------#2019-07-13">https://itnext.io/install-mysql-in-20mins-by-using-docker-3751819e7815?source=collection_archive---------0-----------------------#2019-07-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f7719f8dc8fd760dcdbc75f66ea784f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9Qlw2zgC8ABFb7H4aiKwEw.jpeg"/></div></div></figure><h1 id="b135" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">介绍</h1><p id="230c" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">如果您以前没有使用过Docker，这是一个很好的练习，让您开始使用Docker来启动一个简单的服务。</p><p id="7bbc" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">在以前，如果我们想使用MySQL，在Window、Mac和Linux中的安装步骤会有很大的不同。但是，如果我们使用docker，安装步骤将更加容易和相似。</p><p id="2258" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">你可以在Docker中启动大量令人惊叹的服务，比如Jenkins、mongoDB和Redis。我们开始吧！</p><h1 id="9890" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">安装Docker桌面</h1><div class="lz ma gp gr mb mc"><a href="https://docs.docker.com/docker-for-mac/install/" rel="noopener  ugc nofollow" target="_blank"><div class="md ab fo"><div class="me ab mf cl cj mg"><h2 class="bd ir gy z fp mh fr fs mi fu fw ip bi translated">安装Mac版Docker桌面</h2><div class="mj l"><h3 class="bd b gy z fp mh fr fs mi fu fw dk translated">要下载Mac版Docker桌面，请访问Docker Hub。从Docker Hub下载安装README前需要了解的内容…</h3></div><div class="mk l"><p class="bd b dl z fp mh fr fs mi fu fw dk translated">docs.docker.com</p></div></div><div class="ml l"><div class="mm l mn mo mp ml mq jw mc"/></div></div></a></div><div class="lz ma gp gr mb mc"><a href="https://docs.docker.com/docker-for-windows/install/" rel="noopener  ugc nofollow" target="_blank"><div class="md ab fo"><div class="me ab mf cl cj mg"><h2 class="bd ir gy z fp mh fr fs mi fu fw ip bi translated">为Windows安装Docker桌面</h2><div class="mj l"><h3 class="bd b gy z fp mh fr fs mi fu fw dk translated">Docker Desktop for Windows是Docker for Microsoft Windows的社区版(CE)。要下载Docker桌面…</h3></div><div class="mk l"><p class="bd b dl z fp mh fr fs mi fu fw dk translated">docs.docker.com</p></div></div><div class="ml l"><div class="mr l mn mo mp ml mq jw mc"/></div></div></a></div><h1 id="eb24" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">启动MySQL Docker容器</h1><p id="4ff2" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">你可以使用命令行或kite matic(docker的GUI)来启动容器，你不需要两者都做。</p><h2 id="eb32" class="ms jz iq bd ka mt mu dn ke mv mw dp ki lh mx my km ll mz na kq lp nb nc ku nd bi translated">使用命令行:</h2><pre class="ne nf ng nh gt ni nj nk nl aw nm bi"><span id="3e18" class="ms jz iq nj b gy nn no l np nq">docker run --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag</span></pre><h2 id="f1b3" class="ms jz iq bd ka mt mu dn ke mv mw dp ki lh mx my km ll mz na kq lp nb nc ku nd bi translated">使用Kitematic:</h2><p id="4487" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">下载Docker图像</p><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nr"><img src="../Images/cbf3dc480633cbbddfd7e697596b9cc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*czF-G8FHwMiPkUfEYg7RCw.png"/></div></div></figure><p id="b0f0" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">更新环境变量中的MySQL密码:</p><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ns"><img src="../Images/8895613b6c6dc8bbc9b761d48b8d70a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s9g-srqwdVqIdvqnCYY4dQ.png"/></div></div></figure><h1 id="e7c3" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">设置MySQL帐户</h1><p id="a9f9" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">通过以下方式远程进入docker:</p><pre class="ne nf ng nh gt ni nj nk nl aw nm bi"><span id="46f9" class="ms jz iq nj b gy nn no l np nq">docker exec -it mysql bash // login docker container<br/>mysql -uroot -p  // login mysql, type your password in MYSQL_ROOT_PASSWORD</span></pre><p id="033e" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">创建新的MySQL用户:</p><pre class="ne nf ng nh gt ni nj nk nl aw nm bi"><span id="e705" class="ms jz iq nj b gy nn no l np nq">mysql&gt; CREATE USER 'youraccount'@'%' IDENTIFIED BY 'password';<br/>Query OK, 0 rows affected (0.00 sec)<br/>mysql&gt; GRANT ALL PRIVILEGES ON * . * TO 'youraccount'@'%';<br/>Query OK, 0 rows affected (0.00 sec)<br/>mysql&gt; FLUSH PRIVILEGES;<br/>mysql&gt; quit</span></pre><h1 id="16a2" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">在docker外部连接到MySQL</h1><p id="d5ac" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">您可以使用SQLyog、MySQL Workbench或Sequal Pro连接到服务器:</p><div class="lz ma gp gr mb mc"><a href="https://www.sequelpro.com/" rel="noopener  ugc nofollow" target="_blank"><div class="md ab fo"><div class="me ab mf cl cj mg"><h2 class="bd ir gy z fp mh fr fs mi fu fw ip bi translated">续集专业版</h2><div class="mj l"><h3 class="bd b gy z fp mh fr fs mi fu fw dk translated">Sequel Pro是开源的，由像你这样的人来构建。我们欢迎您的意见——无论您是否发现了一个bug，有没有…</h3></div><div class="mk l"><p class="bd b dl z fp mh fr fs mi fu fw dk translated">www.sequelpro.com</p></div></div><div class="ml l"><div class="nt l mn mo mp ml mq jw mc"/></div></div></a></div><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nu"><img src="../Images/87a08a0763b9d159003c5269775aabbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qV8xRBDF-FoFhqb_AJzQ3w.png"/></div></div></figure><p id="8027" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">您现在可以连接到MySQL了。如果你有任何问题，你可以继续阅读。</p><h1 id="bce9" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">常见错误</h1><blockquote class="nv nw nx"><p id="e50e" class="kw kx ny ky b kz lu lb lc ld lv lf lg nz lw lj lk oa lx ln lo ob ly lr ls lt ij bi translated"><em class="iq">无法加载认证插件‘caching _ sha2 _ password’</em></p></blockquote><p id="98e4" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">以这种方式更改密码:</p><pre class="ne nf ng nh gt ni nj nk nl aw nm bi"><span id="8238" class="ms jz iq nj b gy nn no l np nq">ALTER USER 'yourusername'@'localhost' IDENTIFIED WITH mysql_native_password BY 'youpassword';</span></pre><blockquote class="nv nw nx"><p id="4c76" class="kw kx ny ky b kz lu lb lc ld lv lf lg nz lw lj lk oa lx ln lo ob ly lr ls lt ij bi translated"><em class="iq">2019–07–10 18:25:08，525错误27672 nodejs。SequelizeConnectionError:客户端不支持服务器请求的身份验证协议；考虑升级MySQL客户端</em></p></blockquote><p id="bc0c" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">与上一个错误相同，只是:</p><pre class="ne nf ng nh gt ni nj nk nl aw nm bi"><span id="a5e3" class="ms jz iq nj b gy nn no l np nq">ALTER USER 'yourusername'@'localhost' IDENTIFIED WITH mysql_native_password BY 'youpassword';</span></pre><div class="lz ma gp gr mb mc"><a href="https://stackoverflow.com/questions/49194719/authentication-plugin-caching-sha2-password-cannot-be-loaded" rel="noopener  ugc nofollow" target="_blank"><div class="md ab fo"><div class="me ab mf cl cj mg"><h2 class="bd ir gy z fp mh fr fs mi fu fw ip bi translated">无法加载身份验证插件“caching_sha2_password”</h2><div class="mj l"><h3 class="bd b gy z fp mh fr fs mi fu fw dk translated">我正在用MySQL Workbench连接MySQL - 8.0，并得到以下错误:认证插件…</h3></div><div class="mk l"><p class="bd b dl z fp mh fr fs mi fu fw dk translated">stackoverflow.com</p></div></div><div class="ml l"><div class="oc l mn mo mp ml mq jw mc"/></div></div></a></div><h1 id="1106" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">如果您想要持久性数据</h1><p id="5d5c" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">默认情况下，更新配置后，docker <strong class="ky ir">中的所有内容都将丢失。如果您希望数据是持久的，您应该为容器配置卷。这意味着<code class="fe od oe of nj b">/var/lib/mysql</code>中的所有文件都将保存到您的主机上。</strong></p><h2 id="1ca9" class="ms jz iq bd ka mt mu dn ke mv mw dp ki lh mx my km ll mz na kq lp nb nc ku nd bi translated">通过使用命令行:</h2><pre class="ne nf ng nh gt ni nj nk nl aw nm bi"><span id="440f" class="ms jz iq nj b gy nn no l np nq">docker run --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d /<br/>	mysql:tag --volume /path/on/your/host/machine:/var/lib/mysql</span></pre><h2 id="84ce" class="ms jz iq bd ka mt mu dn ke mv mw dp ki lh mx my km ll mz na kq lp nb nc ku nd bi translated">通过使用Kitematic</h2><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi og"><img src="../Images/afeb2574a7a97ba34d8aefbd47b69e3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*skP8pWm_XApvz6S7mHAaqQ.png"/></div></div></figure><h1 id="4e73" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">完成的</h1><p id="9fde" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">恭喜你！希望你喜欢使用docker =]</p></div></div>    
</body>
</html>