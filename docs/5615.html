<html>
<head>
<title>AWS: cost optimization — purchasing the RDS Reserved Instances</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AWS:成本优化—购买RDS保留实例</h1>
<blockquote>原文：<a href="https://itnext.io/aws-cost-optimization-purchasing-the-rds-reserved-instances-ba20b9437283?source=collection_archive---------5-----------------------#2021-04-16">https://itnext.io/aws-cost-optimization-purchasing-the-rds-reserved-instances-ba20b9437283?source=collection_archive---------5-----------------------#2021-04-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/4db53edc2d31ceaf0cc5efaa8b7bac60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8QppZuMnRQSngTE4H4UqzA.png"/></div></div></figure><p id="c635" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">目前，我正在积极致力于我们的AWS基础设施成本优化，并将就此发布一系列帖子。</p><p id="0aca" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">第一个是关于<a class="ae kw" href="https://aws.amazon.com/rds/reserved-instances/" rel="noopener ugc nofollow" target="_blank"> AWS RDS保留实例</a>。这个想法很简单:您承诺在一年或三年内使用某些类型的实例。在这里，您可以选择立即支付整个期限的承诺，折扣会更大，或部分，或像往常一样逐月支付。无论如何，AWS都会给你一些服务折扣。这一折扣几乎是通常Deman定价的两倍，下面将对此进行一些计算。</p><p id="76ef" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于AWS EC2，有一个类似的解决方案，即<a class="ae kw" href="https://aws.amazon.com/savingsplans/" rel="noopener ugc nofollow" target="_blank">节省计划</a>(尽管他们也有<a class="ae kw" href="https://aws.amazon.com/ec2/pricing/reserved-instances/" rel="noopener ugc nofollow" target="_blank"> EC2保留实例</a>，但AWS将使用节省计划作为他们的主要折扣优惠)。我猜(也希望)AWS会增加RDS的储蓄计划。AWS EC2储蓄计划将在这些服务的以下帖子中进行检查，因为我们已经在使用它们，它们也帮助我们省钱。</p><p id="2f19" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">请记住，保留的实例适用于特定的AWS区域和选定的EC2系列类型。</p><p id="56b4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">首先，让我们去看看我们目前的费用，以确定我们目前支付多少和支付什么。</p><ul class=""><li id="a37b" class="kx ky iq ka b kb kc kf kg kj kz kn la kr lb kv lc ld le lf bi translated"><a class="ae kw" href="https://rtfm.co.ua/en/draften-aws-optimizaciya-rasxodov-pokupka-i-analiz-rds-reserved-instances/#AWS_RDS_expenses_analysis" rel="noopener ugc nofollow" target="_blank"> AWS RDS费用分析</a></li><li id="9f60" class="kx ky iq ka b kb lg kf lh kj li kn lj kr lk kv lc ld le lf bi translated"><a class="ae kw" href="https://rtfm.co.ua/en/draften-aws-optimizaciya-rasxodov-pokupka-i-analiz-rds-reserved-instances/#AWS_Cost_Explorer_RDS_No_Instance_type" rel="noopener ugc nofollow" target="_blank"> AWS成本浏览器:RDS无例程类型</a></li><li id="f255" class="kx ky iq ka b kb lg kf lh kj li kn lj kr lk kv lc ld le lf bi translated"><a class="ae kw" href="https://rtfm.co.ua/en/draften-aws-optimizaciya-rasxodov-pokupka-i-analiz-rds-reserved-instances/#Size-flexible_reserved_DB_instances" rel="noopener ugc nofollow" target="_blank">大小灵活的保留数据库实例</a></li><li id="6cbf" class="kx ky iq ka b kb lg kf lh kj li kn lj kr lk kv lc ld le lf bi translated"><a class="ae kw" href="https://rtfm.co.ua/en/draften-aws-optimizaciya-rasxodov-pokupka-i-analiz-rds-reserved-instances/#Purchasing_RDS_Reserved_Instances" rel="noopener ugc nofollow" target="_blank">采购RDS预留实例</a></li><li id="12e8" class="kx ky iq ka b kb lg kf lh kj li kn lj kr lk kv lc ld le lf bi translated"><a class="ae kw" href="https://rtfm.co.ua/en/draften-aws-optimizaciya-rasxodov-pokupka-i-analiz-rds-reserved-instances/#Savings_with_the_RDS_Reserved_Instances" rel="noopener ugc nofollow" target="_blank">RDS保留实例的节省</a></li></ul><h1 id="5115" class="ll lm iq bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">AWS RDS费用分析</h1><p id="0708" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">转到AWS成本浏览器，在过滤器中选择RDS，并检查每个实例的当前付款类型:</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mo"><img src="../Images/ef1c52294e40891d40b9b8f4b031aab1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*rVJFiiv0RPB7_Rpc.png"/></div></div></figure><p id="eb16" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">超过一半(111美元/天)用于<em class="mt">r 5.2 x大型</em>实例，这是我们的Aurora RDS生产集群，我们不打算在未来改变这种类型，因为它们非常适合我们的需求。因此，购买这种类型的保留实例是值得的，只需要找出我们需要多少实例。</p><h2 id="09cc" class="mu lm iq bd ln mv mw dn lr mx my dp lv kj mz na lz kn nb nc md kr nd ne mh nf bi translated">AWS成本浏览器:RDS无例程类型</h2><p id="412b" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">第二大部分费用标记为“无实例类型”，37美元/天。</p><p id="42e8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了便于理解，这里包含了从<em class="mt">实例类型</em>到<em class="mt">使用类型</em>中选择<em class="mt">组的依据</em>:</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/19e2473d2581f198cca321c4b9d8ba2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*vxQ4eRTikxnnLpN9.png"/></div></div></figure><p id="958e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这里，我们可以看到三种支付类型:<code class="fe nh ni nj nk b">Aurora:StorageIOUsage</code> - 16美元、<code class="fe nh ni nj nk b">Multi-AZUsage:db.t2.xlarge</code> - 14美元、<code class="fe nh ni nj nk b">RDS:ChargedBackupUsage</code> - 8美元，以及所有其他费用(也可查看<a class="ae kw" href="https://aws.amazon.com/blogs/aws-cost-management/tips-and-tricks-for-exploring-your-data-in-aws-cost-explorer-part-2/" rel="noopener ugc nofollow" target="_blank">在AWS Cost Explorer中浏览数据的提示和技巧</a>)。</p><p id="370e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因为我们不能用保留的实例来减少它们，所以跳过这一部分。</p><p id="a08b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">回到te <em class="mt">组:InstanceType </em>，检查其他实例— <em class="mt"> db.r5.large </em> 27美元/天，<em class="mt"> db.t2.xlarge </em> — 14美元。</p><p id="c1c2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，转到您的RDS仪表板，数一数每种情况有多少:</p><ul class=""><li id="0308" class="kx ky iq ka b kb kc kf kg kj kz kn la kr lb kv lc ld le lf bi translated">db.r5.2xlarge:</li><li id="7a8f" class="kx ky iq ka b kb lg kf lh kj li kn lj kr lk kv lc ld le lf bi translated">美国-2地区:生产集群，4个实例+ Aurora ReadReplica自动扩展</li><li id="cfc8" class="kx ky iq ka b kb lg kf lh kj li kn lj kr lk kv lc ld le lf bi translated">db.r5.large:</li><li id="cfbf" class="kx ky iq ka b kb lg kf lh kj li kn lj kr lk kv lc ld le lf bi translated">美国-2区域:开发和阶段集群，4个实例</li><li id="825f" class="kx ky iq ka b kb lg kf lh kj li kn lj kr lk kv lc ld le lf bi translated">db.t2.xlarge:</li><li id="f5f1" class="kx ky iq ka b kb lg kf lh kj li kn lj kr lk kv lc ld le lf bi translated">EU-3区:我们的分析产品，1台服务器</li></ul><p id="1ba2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，让我们在俄亥俄州地区购买4个<strong class="ka ir"> db.r5.2xlarge </strong>类型的实例，因为我们将计划在未来对它们进行更改。</p><h2 id="919d" class="mu lm iq bd ln mv mw dn lr mx my dp lv kj mz na lz kn nb nc md kr nd ne mh nf bi translated">大小灵活的保留数据库实例</h2><p id="1cd2" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">查看文档<a class="ae kw" href="https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/USER_WorkingWithReservedDBInstances.html" rel="noopener ugc nofollow" target="_blank">此处&gt; &gt; &gt; </a>。</p><p id="7f46" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">有一点值得一提:请记住，当您购买特定实例类型的预订时，在我们的情况下，这将是<em class="mt"> 2xlarge </em>，其折扣也将适用于整个<strong class="ka ir"> db.r5 </strong>系列，即当前使用的<em class="mt"> r5.large </em>和<em class="mt"> r5.4xlarge </em>，如果我们将来会使用它们。</p><p id="acfd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这方面，EC2节约计划当然更容易和明显，我真的希望看到他们的AWS RDS。</p><p id="2f34" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们回去吃羊吧。</p><p id="a19f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，我们的Dev和Stage集群可以更改其实例类型，所以让我们跳过它们—我们不会购买r5.large保留实例，但稍后我们将看到r5.2xlarge的折扣将如何应用于它们。</p><p id="070a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">去比林斯:</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nl"><img src="../Images/fec6fedfea79628416c062385f1f8be2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2Og3tB5atR6S1KG1.png"/></div></div></figure><p id="059b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">“每RDS db . r 5.2x large 1.16美元”，在4月的13天中，他们工作了1168小时，我们为此支付了1355美元—让我们计算一下</p><pre class="mp mq mr ms gt nm nk nn no aw np bi"><span id="7224" class="mu lm iq nk b gy nq nr l ns nt">&gt;&gt;&gt; 1355/1168.0<br/>1.16</span></pre><p id="84ef" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">查看<a class="ae kw" href="https://aws.amazon.com/ru/rds/aurora/pricing/" rel="noopener ugc nofollow" target="_blank"> RDS定价</a> — db.r5.2xlarge每小时1.16美元，这里一切都是正确的。</p><p id="fdf2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一个月这样一个实例将花费我们:</p><pre class="mp mq mr ms gt nm nk nn no aw np bi"><span id="de5e" class="mu lm iq nk b gy nq nr l ns nt">&gt;&gt;&gt; 1.16*24*30<br/>835.19</span></pre><p id="ec05" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">每年:</p><pre class="mp mq mr ms gt nm nk nn no aw np bi"><span id="220f" class="mu lm iq nk b gy nq nr l ns nt">&gt;&gt;&gt; 1.16*24*30*364<br/>304012.8</span></pre><p id="de04" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">请记住这些数字，我们很快就会看到在预订实例购买过程中会出现什么提示。</p><h1 id="35ae" class="ll lm iq bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">购买RDS保留实例</h1><p id="815d" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">转到<em class="mt"> RDS —保留实例</em>，点击<em class="mt">购买保留DB实例</em>:</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nu"><img src="../Images/f319468c2c697acf330186729b6215fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*b-p2Cq8iFIFjMeJb.png"/></div></div></figure><p id="00c1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">看一下定价— <em class="mt"> db.r5.2xlarge </em>，产品类型— <em class="mt">无预付款</em>:</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/82272fb0e75c9f00e9fd6c95d2c47751.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/format:webp/0*nmMGn3sOqXr-phIY.png"/></div></figure><p id="9561" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="mt"> 0.760美元(每小时)</em> —大约是每月547美元或每年199180美元(现在，根据我们上面的计算，我们相应地支付835美元和30000美元)。</p><p id="89fa" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果选择<em class="mt">全部预付</em>，即预付下一年的费用，那么价格将是:</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/b905075e13dcc328e513b4e607b5b63d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/format:webp/0*8EmxRhlUJ3rxNnL9.png"/></div></figure><p id="66c6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">5，541.00美元，或通过:</p><pre class="mp mq mr ms gt nm nk nn no aw np bi"><span id="e7be" class="mu lm iq nk b gy nq nr l ns nt">&gt;&gt;&gt; 5541/364/24<br/>0.63</span></pre><p id="fbba" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">每小时0.63美元——几乎是原价的两倍！</p><p id="977e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">或者，您可以自己不去计算，只使用<a class="ae kw" href="https://calculator.aws/#/createCalculator/AuroraMySQL" rel="noopener ugc nofollow" target="_blank"> AWS定价计算器</a>来查看使用<em class="mt">按需</em>时，一个实例将花费846美元:</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nw"><img src="../Images/7093539f0377f7e96c5613b3e69a164f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0nbPF-a7I8SKOb5P.png"/></div></div></figure><p id="8847" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">没有预付款的<em class="mt">—554美元:</em></p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nx"><img src="../Images/bb60a0776f95b8b654f479f2ddb73ce6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*hUX4RX8k99EHURWC.png"/></div></div></figure><p id="6f87" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">加上全部预付的<em class="mt"/>—每年5541英镑或每月461英镑:</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ny"><img src="../Images/2b1887c4e8d9b6c65a4526ff226460f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*hreZeD7UV41KuHLA.png"/></div></div></figure><p id="e1bb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">事实上，几乎和我们手工计算的数字一样。</p><p id="e9cb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最后，只需购买4个r5.2xlarge类型的实例:</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nz"><img src="../Images/9f962d7f62b6c708af76023e70cc0d40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*lcqndql-jKuPrcD3.png"/></div></div></figure><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nz"><img src="../Images/c152c1323c21cdf9bf2c5e510fc29b37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YzuhIFAsXaThjQw8.png"/></div></div></figure><p id="ac75" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，让我们等几天，看看这将如何影响我们的账单。</p><h1 id="96b6" class="ll lm iq bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">与RDS保留实例一起保存</h1><p id="1521" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">第二天的第一个惊喜是，AWS向我们收取了截至月底的预订费用，尽管在<a class="ae kw" href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_WorkingWithReservedDBInstances.html" rel="noopener ugc nofollow" target="_blank"> RDS预订实例</a>文档页面上没有提到这一点(甚至上面的截图也显示“将收取0.00美元”)，由于我们选择了“<em class="mt">无预付款</em>”选项，我预计它将像EC2节省计划一样按小时收费:</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oa"><img src="../Images/b8e1fdb71a2170a18517b56cb0154547.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*zk86sTnyGvMP2fa9.png"/></div></div></figure><p id="b7ca" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">尽管如此，EC2保留实例文档中还是提到了这一点:</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ob"><img src="../Images/e37f1ba54e6ad3e4233aac25b76d9a92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-stGd1N1xht4L775.png"/></div></div></figure><p id="7383" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在是4月13日，离月底还有17天，让我们再看看计算器:</p><pre class="mp mq mr ms gt nm nk nn no aw np bi"><span id="44c6" class="mu lm iq nk b gy nq nr l ns nt">&gt;&gt;&gt; 1343/17/4/24.0<br/>0.82<br/>0.82 dollars.</span></pre><p id="55bb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果减去预订未涵盖的所有其他实例类型每天大约100美元(参见下面4月14日的屏幕截图)，我们将从每个预订实例中获得0.76美元:</p><pre class="mp mq mr ms gt nm nk nn no aw np bi"><span id="010e" class="mu lm iq nk b gy nq nr l ns nt">&gt;&gt;&gt; (1343–100)/17/4/24.0<br/>0.7616421568627452</span></pre><p id="2865" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，预订是有效的，这可以在4月14日的成本浏览器中看到:</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oc"><img src="../Images/3a5c1985461282ae9ef5aa259e04dddf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*lE4zjS4PDemIp2jK.png"/></div></div></figure><p id="7b30" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">或者你可以切换到每小时的速度，甚至在第二天看到这一点。</p><p id="ed7a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">此外，在<em class="mt"> AWS成本管理&gt;预订&gt;利用率报告</em>中可以找到有用的图表，在这里您可以看到您的预订实例是如何被利用的:</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi od"><img src="../Images/1ca177ec8d5a826e1eb0ba78fb8b20c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*lO9qQ3HuAwHB9IXx.png"/></div></div></figure><p id="ae98" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们所有4个r5.2xlarge类型的实例都被100%使用，这里我们还可以看到我们节省了多少钱:如果使用按需支付，我们每天将花费111美元，我们已经为预订支付了72美元，因此我们每天节省了整整38美元。</p><p id="a04d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但是在<em class="mt">覆盖报告中，</em>我们可以发现我们覆盖了所有的r5实例，因为我们记得<em class="mt">大小灵活的保留数据库实例</em>应用于该区域的所有r5，所以我们的部分保留被四个r5使用。大型实例:</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oe"><img src="../Images/415eb742c9a848d559e2ea85845d8e4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*aAnpi44tKpkpWi1x.png"/></div></div></figure><p id="6141" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这也可以在<em class="mt">成本管理器运行时间成本和使用</em>中找到:</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi of"><img src="../Images/be07e0884e6c46966e66ca822688a261.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LWLpMkT_OrxU7evs.png"/></div></div></figure><p id="c9cf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">加上Aurora自动扩展，我们在10-15分钟内创建了一些短期实例，但它们是按小时计费的。</p><p id="4961" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一般来说，RDS保留实例对于省钱来说确实是一个有用的选择，尽管在某些地方不太明显和舒服。</p><p id="3750" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">EC2储蓄计划要灵活得多，我们将在下面的帖子中谈到这一点。</p></div><div class="ab cl og oh hu oi" role="separator"><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol"/></div><div class="ij ik il im in"><p id="6bac" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="mt">最初发布于</em> <a class="ae kw" href="https://rtfm.co.ua/en/draften-aws-optimizaciya-rasxodov-pokupka-i-analiz-rds-reserved-instances/" rel="noopener ugc nofollow" target="_blank"> <em class="mt"> RTFM: Linux、DevOps、系统管理</em> </a> <em class="mt">。</em></p></div></div>    
</body>
</html>