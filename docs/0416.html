<html>
<head>
<title>Setting up RiotJS project with Webpack</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Webpack设置RiotJS项目</h1>
<blockquote>原文：<a href="https://itnext.io/setting-up-riotjs-project-with-webpack-854df3f3f093?source=collection_archive---------8-----------------------#2018-03-06">https://itnext.io/setting-up-riotjs-project-with-webpack-854df3f3f093?source=collection_archive---------8-----------------------#2018-03-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/dc4f08267f412efd475cc29af2c9a02b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q9oVqQ0_al2Ih484Tu6Lhg.png"/></div></div></figure><blockquote class="jy jz ka"><p id="950f" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><a class="ae la" href="https://www.linkedin.com/cws/share?url=https%3A%2F%2Fitnext.io%2Fsetting-up-riotjs-project-with-webpack-854df3f3f093" rel="noopener ugc nofollow" target="_blank">点击这里在LinkedIn上分享这篇文章</a></p></blockquote><p id="d73b" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">嘿，伙计们，很久以前我就想发这篇文章了，但是很忙，没能做到。所以对于那些不知道什么是骚乱的人来说，</p><blockquote class="le"><p id="e598" class="lf lg iq bd lh li lj lk ll lm ln kz dk translated">Riot是面向所有人的Web组件。想想React +聚合物，但没有膨胀。它使用起来很直观，而且几乎没有重量。今天仍然有效。没有重新发明轮子，而是取其精华，使最简单的工具成为可能。[ <a class="ae la" href="http://riotjs.com/" rel="noopener ugc nofollow" target="_blank">来源</a></p></blockquote><p id="169a" class="pw-post-body-paragraph kb kc iq ke b kf lo kh ki kj lp kl km lb lq kp kq lc lr kt ku ld ls kx ky kz ij bi translated">所以我想，你们中的大多数人已经了解了暴乱的目的。它用极简、快速和易于理解的API交付微小的可重用组件。</p><p id="0a3c" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">我们大多数人都希望通过使用任何<strong class="ke ir">模块捆绑器</strong>和<strong class="ke ir">热重新加载</strong>功能来节省时间，这就是<strong class="ke ir"> Webpack </strong>发挥作用的地方。我们将在这里实现，如何一起设置<code class="fe lt lu lv lw b">RiotJS</code>项目和<code class="fe lt lu lv lw b">Webpack</code>。</p><blockquote class="jy jz ka"><p id="8bcc" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">TL；DR:你可以在这里查看源代码:[ <a class="ae la" href="https://github.com/shashank7200/riot-webpack-starter" rel="noopener ugc nofollow" target="_blank">源代码</a></p></blockquote><h1 id="a4dc" class="lx ly iq bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">🔰设置您的NPM项目</h1><p id="d0ff" class="pw-post-body-paragraph kb kc iq ke b kf mv kh ki kj mw kl km lb mx kp kq lc my kt ku ld mz kx ky kz ij bi translated">转到项目目录，打开您的<strong class="ke ir">终端</strong>，键入以下命令:</p><pre class="na nb nc nd gt ne lw nf ng aw nh bi"><span id="9bd9" class="ni ly iq lw b gy nj nk l nl nm"># this will create a directory named riot-plus-webpack<br/>mkdir riot-plus-webpack</span><span id="b5b8" class="ni ly iq lw b gy nn nk l nl nm"># this will change your directory to your newly created directory<br/>cd riot-plus-webpack</span><span id="1f4d" class="ni ly iq lw b gy nn nk l nl nm"># this will initialize your NPM project with default rules<br/>npm init -y</span></pre><p id="483c" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">我们现在已经成功地创建了一个NPM项目，是时候为我们的项目添加<code class="fe lt lu lv lw b"><strong class="ke ir">webpack</strong></code>配置了。</p><h1 id="5444" class="lx ly iq bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">👷设置我们的Webpack配置</h1><p id="7c40" class="pw-post-body-paragraph kb kc iq ke b kf mv kh ki kj mw kl km lb mx kp kq lc my kt ku ld mz kx ky kz ij bi translated">添加Webpack将会为我们节省大量时间，因为我们每次都需要修改代码。因此，将webpack添加到我们的项目中解决的问题是:</p><ul class=""><li id="0e59" class="no np iq ke b kf kg kj kk lb nq lc nr ld ns kz nt nu nv nw bi translated">将所有的暴动<code class="fe lt lu lv lw b">tags</code>编译为原生<code class="fe lt lu lv lw b">javascript</code>代码。</li><li id="558d" class="no np iq ke b kf nx kj ny lb nz lc oa ld ob kz nt nu nv nw bi translated">模块热重装等等，但这是节省开发人员大量时间的两个关键点。</li></ul><blockquote class="jy jz ka"><p id="b16a" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在设置这个配置之前，只需添加一些<code class="fe lt lu lv lw b">npm</code>包，我们将需要中间的:</p></blockquote><pre class="na nb nc nd gt ne lw nf ng aw nh bi"><span id="b84b" class="ni ly iq lw b gy nj nk l nl nm"># this will add the packages we will need<br/>npm i -D babel-core babel-loader babel-preset-es2015-riot riot-hot-reload riot-tag-loader webpack<br/>webpack-cli webpack-dev-server</span><span id="efe3" class="ni ly iq lw b gy nn nk l nl nm">npm i -S riot</span></pre><p id="fb73" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">最终的<code class="fe lt lu lv lw b">package.json</code>文件将类似于:</p><pre class="na nb nc nd gt ne lw nf ng aw nh bi"><span id="de9d" class="ni ly iq lw b gy nj nk l nl nm">{<br/>  "name": "riot-plus-webpack",<br/>  "version": "1.0.0",<br/>  "description": "Starter setup for a riotjs project with webpack",<br/>  "main": "index.js",<br/>  "scripts": {<br/>    "start": "./node_modules/.bin/webpack-dev-server --inline --watch --hot --colors -d --port 3000"<br/>  },<br/>  "keywords": [<br/>    "riotjs",<br/>    "webpack"<br/>  ],<br/>  "author": "Shashank Shekhar [shashank7200.github.io]",<br/>  "license": "MIT",<br/>  "devDependencies": {<br/>    "babel-core": "^6.26.0",<br/>    "babel-loader": "^7.1.3",<br/>    "babel-preset-es2015-riot": "^1.1.0",<br/>    "riot-hot-reload": "^1.0.0",<br/>    "riot-tag-loader": "^2.0.2",<br/>    "webpack": "^4.1.0",<br/>    "webpack-cli": "^2.0.10",<br/>    "webpack-dev-server": "^3.1.0"<br/>  },<br/>  "dependencies": {<br/>    "riot": "^3.9.0"<br/>  }<br/>}</span></pre><p id="27e1" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated"><em class="kd">要设置webpack </em> <strong class="ke ir"> <em class="kd">配置</em> </strong> <em class="kd">，新建一个文件:</em></p><pre class="na nb nc nd gt ne lw nf ng aw nh bi"><span id="c6e0" class="ni ly iq lw b gy nj nk l nl nm"># this will create a webpack config file<br/>touch webpack.config.js</span></pre><p id="f81a" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated"><strong class="ke ir">复制</strong>和<strong class="ke ir">粘贴</strong>如下所示的代码到该文件中:</p><pre class="na nb nc nd gt ne lw nf ng aw nh bi"><span id="ba92" class="ni ly iq lw b gy nj nk l nl nm">// webpack.config.js</span><span id="09e9" class="ni ly iq lw b gy nn nk l nl nm">const path = require('path');<br/>const webpack = require('webpack');</span><span id="0358" class="ni ly iq lw b gy nn nk l nl nm">module.exports = {<br/>  entry: './src/index.js',<br/>  output: {<br/>    path: path.resolve(__dirname, 'public'),<br/>    publicPath: '/public/',<br/>    filename: 'main.js'<br/>  },<br/>  devtool: 'inline-source-map',<br/>  module: {<br/>    rules: [<br/>      {<br/>        test: /\.tag$/,<br/>        exclude: /node_modules/,<br/>        loader: 'riot-tag-loader',<br/>        query: {<br/>          type: 'es6', // transpile the riot tags using babel<br/>          hot: true<br/>        }<br/>      },<br/>      {<br/>        test: /\.js$/,<br/>        exclude: /node_modules/,<br/>        loader: 'babel-loader'<br/>      }<br/>    ]<br/>  }<br/>}</span></pre><p id="3e34" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">这将使用该项目初始化<strong class="ke ir"> webpack </strong>配置。你已经注意到，我们在这里使用了<code class="fe lt lu lv lw b"><strong class="ke ir">babel-loader</strong></code>，所以我们需要定义一个<code class="fe lt lu lv lw b">babel</code>配置文件，这样，webpack就可以告诉babel使用该配置文件来获得预置，它将需要把<code class="fe lt lu lv lw b"><strong class="ke ir">tag</strong></code>文件编译成<code class="fe lt lu lv lw b"><strong class="ke ir">javascript</strong></code>代码。</p><pre class="na nb nc nd gt ne lw nf ng aw nh bi"><span id="2284" class="ni ly iq lw b gy nj nk l nl nm">touch .babelrc</span></pre><p id="9d26" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated"><strong class="ke ir">复制</strong> &amp; <strong class="ke ir">粘贴</strong>下面的代码到那个文件中:</p><pre class="na nb nc nd gt ne lw nf ng aw nh bi"><span id="12a5" class="ni ly iq lw b gy nj nk l nl nm">{<br/>  "presets": [ "es2015-riot" ]<br/>}</span></pre><h1 id="85e4" class="lx ly iq bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">🚦设置项目目录</h1><p id="33bc" class="pw-post-body-paragraph kb kc iq ke b kf mv kh ki kj mw kl km lb mx kp kq lc my kt ku ld mz kx ky kz ij bi translated">现在我们已经为npm项目准备好了webpack配置，用于我们的<strong class="ke ir"> riot </strong>项目，我们将设置我们的项目<strong class="ke ir">结构</strong>以拥有一些<strong class="ke ir">初始</strong>文件。我们的项目目录将类似于:</p><pre class="na nb nc nd gt ne lw nf ng aw nh bi"><span id="3033" class="ni ly iq lw b gy nj nk l nl nm">|____webpack.config.js<br/>|____package-lock.json<br/>|____src<br/>| |____index.js<br/>| |____tags<br/>| | |____hello-world.tag<br/>|____.babelrc<br/>|____public<br/>|____index.html<br/>|____package.json</span></pre><p id="b2c4" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">按照这个项目结构，如果文件夹和文件不存在，您需要创建它们。如果你没有得到它，不要担心，一旦完成，你会得到它。</p><p id="3d3c" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">首先，我们需要创建一个<code class="fe lt lu lv lw b"><strong class="ke ir">hello-world.tag</strong></code>文件来保存我们的riot标签代码。</p><p id="051b" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">因此创建一个riot标签<code class="fe lt lu lv lw b"><strong class="ke ir">src/tags/hello-world.tag</strong></code>，并放入如下所示的代码，以显示程序员传统的hello world输出。</p><pre class="na nb nc nd gt ne lw nf ng aw nh bi"><span id="8ee6" class="ni ly iq lw b gy nj nk l nl nm">&lt;!--  src/tags/hello-world.tag  --&gt;<br/>&lt;hello-world&gt;<br/>  &lt;h3&gt;Hello from the Hello World Riot Tag&lt;/h3&gt;</span><span id="e79b" class="ni ly iq lw b gy nn nk l nl nm">&lt;script&gt;<br/>    console.log("Hello from the Hello World Riot Tag");<br/>  &lt;/script&gt;<br/>&lt;/hello-world&gt;</span></pre><p id="0d7b" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">在<code class="fe lt lu lv lw b"><strong class="ke ir">index.html</strong></code>中，放入如下所示的源代码:</p><pre class="na nb nc nd gt ne lw nf ng aw nh bi"><span id="b150" class="ni ly iq lw b gy nj nk l nl nm">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>&lt;head&gt;<br/>  &lt;meta charset="UTF-8"&gt;<br/>  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;<br/>  &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt;<br/>  &lt;title&gt;Riot and Wepack Setup&lt;/title&gt;<br/>&lt;/head&gt;<br/>&lt;body&gt;<br/>  &lt;!-- Your tags goes here --&gt;<br/>&lt;hello-world&gt;&lt;/hello-world&gt;<br/>  &lt;!-- This script will contain all the compiled tags --&gt;<br/>  &lt;script src="public/main.js" charset="utf-8"&gt;&lt;/script&gt;<br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="38d2" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">在<code class="fe lt lu lv lw b"><strong class="ke ir">src/index.js</strong></code>中放入这段源代码:</p><pre class="na nb nc nd gt ne lw nf ng aw nh bi"><span id="7a93" class="ni ly iq lw b gy nj nk l nl nm">import riot from 'riot';<br/>import 'riot-hot-reload';<br/>import './tags/hello-world.tag';</span><span id="f105" class="ni ly iq lw b gy nn nk l nl nm">riot.mount('hello-world');</span></pre><p id="542c" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">如果你遵循了这篇文章，那么你的RiotJS和Webpack的设置就差不多完成了。现在是检验它的时候了。</p><h1 id="8e50" class="lx ly iq bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">👔试映</h1><p id="8ee7" class="pw-post-body-paragraph kb kc iq ke b kf mv kh ki kj mw kl km lb mx kp kq lc my kt ku ld mz kx ky kz ij bi translated">[ <a class="ae la" href="https://github.com/shashank7200/riot-webpack-starter" rel="noopener ugc nofollow" target="_blank">源代码</a> ]</p><p id="b9b1" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">要预览应用程序，只需在项目目录中打开您的<code class="fe lt lu lv lw b">terminal</code>,并键入以下命令-</p><p id="72ba" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated"><code class="fe lt lu lv lw b"><strong class="ke ir">npm Start</strong></code></p><p id="3758" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">如果一切顺利，应用程序将在<code class="fe lt lu lv lw b"><strong class="ke ir">localhost:3000</strong></code>启动(您的端口可能不同，请检查您的控制台日志)。</p><p id="ed1f" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">现在您将能够看到您的<code class="fe lt lu lv lw b"><strong class="ke ir">RiotJS</strong></code>和<code class="fe lt lu lv lw b"><strong class="ke ir">Webpack</strong></code>设置的预览。这将类似于下图。</p><figure class="na nb nc nd gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oc"><img src="../Images/8c6dc4159a8bca05b753d76a0dd37334.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jx0oMZp-fBH5sCX1.png"/></div></div></figure><p id="cab6" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">这是<em class="kd"> RiotJS </em>和<em class="kd"> Webpack </em>的一个非常<strong class="ke ir">基本的</strong>设置，如果你愿意，你可以添加更多。这是为了你完成这篇文章，你真棒！</p><figure class="na nb nc nd gt jr gh gi paragraph-image"><div class="gh gi od"><img src="../Images/f98690b3e2950371d3623b67bf6f2b75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*rHXHt6Hy54m_ZwMuYYlSRQ.gif"/></div><figcaption class="oe of gj gh gi og oh bd b be z dk translated">#你的摇滚</figcaption></figure><p id="dbb2" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">🔔这篇文章<strong class="ke ir">最初</strong> <strong class="ke ir">发表</strong>在我的博客<a class="ae la" href="https://shashank7200.github.io/blog/setting-up-riotjs-with-webpack/" rel="noopener ugc nofollow" target="_blank">上用Webpack </a>建立RiotJS项目。</p><blockquote class="jy jz ka"><p id="d843" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">💚<em class="iq">如果你喜欢这篇文章，请</em><strong class="ke ir"><em class="iq">share it</em></strong><em class="iq">如果你对RiotJS、Webpack和这个设置有任何疑问，请</em> <strong class="ke ir"> <em class="iq">评论</em> </strong> <em class="iq">出来。</em></p></blockquote></div></div>    
</body>
</html>