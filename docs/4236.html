<html>
<head>
<title>Monitoring Air Pollution in Your City Using NodeJS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用NodeJS监测您所在城市的空气污染</h1>
<blockquote>原文：<a href="https://itnext.io/monitoring-air-pollution-in-your-city-using-nodejs-d0f21895e0e4?source=collection_archive---------3-----------------------#2020-05-20">https://itnext.io/monitoring-air-pollution-in-your-city-using-nodejs-d0f21895e0e4?source=collection_archive---------3-----------------------#2020-05-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/66d6d5b04ff5d1c87a6374f966335455.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w538BLbYhKx0K47bBHjHvQ.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">Unsplash上的Ishan @ seefromthesky</figcaption></figure><p id="bd33" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">作为开发商，我们无法阻止空气质量的下降或改善目前的空气质量。但是，我们可以通过创建软件解决方案来通知我们空气质量水平的当前状态，从而帮助监控这个问题。</p><p id="9ab4" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">下面是如何使用NodeJS和一个天气API来实现的。</p><h1 id="3bb4" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">为什么你应该监测空气质量</h1><p id="118e" class="pw-post-body-paragraph kc kd iq ke b kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv mc kx ky kz ij bi translated">空气污染是颗粒和气体的混合物，在室内和室外都能达到有害浓度。它的影响可以从更高的疾病风险到气温上升。</p><p id="fdcb" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><a class="ae md" href="https://www.who.int/airpollution/ambient/pollutants/en/" rel="noopener ugc nofollow" target="_blank"> <em class="me">根据世界卫生组织(世卫组织)</em> </a> <em class="me">，</em>这些是常见的会危害我们健康和环境的空气污染物:</p><ul class=""><li id="e782" class="mf mg iq ke b kf kg kj kk kn mh kr mi kv mj kz mk ml mm mn bi translated">二氧化硫(SO₂)</li><li id="123b" class="mf mg iq ke b kf mo kj mp kn mq kr mr kv ms kz mk ml mm mn bi translated">二氧化氮(NO₂)</li><li id="01a0" class="mf mg iq ke b kf mo kj mp kn mq kr mr kv ms kz mk ml mm mn bi translated">一氧化碳(CO)</li><li id="0638" class="mf mg iq ke b kf mo kj mp kn mq kr mr kv ms kz mk ml mm mn bi translated">臭氧(O₃)</li><li id="d958" class="mf mg iq ke b kf mo kj mp kn mq kr mr kv ms kz mk ml mm mn bi translated">颗粒物(PM)</li></ul><p id="804a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">根据世卫组织的数据，这种污染的一些负面影响与2016年估计的420万过早死亡有关。</p><p id="8060" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">通过使用NodeJS和天气API，您可以轻松地跟踪它们如何影响您所在城市及周边地区的空气质量。</p><figure class="mu mv mw mx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mt"><img src="../Images/c6e93db57790cc39871d4d739fb018a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9GQeNSMarh2Sx6PC.PNG"/></div></div></figure><h1 id="778b" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">如何使用代码👨‍💻监测空气污染💨</h1><p id="bad8" class="pw-post-body-paragraph kc kd iq ke b kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv mc kx ky kz ij bi translated">我们将在<a class="ae md" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> NodeJS </a>中编写代码，并将使用<a class="ae md" href="https://developer.climacell.co/" rel="noopener ugc nofollow" target="_blank"> ClimaCell API </a>来收集上述所有常见空气污染物的数据。</p><p id="8a47" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">以下是您需要遵循的步骤:</p><ol class=""><li id="71e3" class="mf mg iq ke b kf kg kj kk kn mh kr mi kv mj kz my ml mm mn bi translated">在ClimaCell上创建一个新帐户并获取您的私钥</li><li id="577c" class="mf mg iq ke b kf mo kj mp kn mq kr mr kv ms kz my ml mm mn bi translated">设置节点JS项目</li><li id="5b0d" class="mf mg iq ke b kf mo kj mp kn mq kr mr kv ms kz my ml mm mn bi translated">请求空气质量检查数据</li><li id="8c66" class="mf mg iq ke b kf mo kj mp kn mq kr mr kv ms kz my ml mm mn bi translated">改进代码并使其重复</li></ol><p id="91e2" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">步骤1 —在ClimaCell上创建一个新帐户，并获得您的私钥</strong></p><p id="d940" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">一旦您创建了您的帐户，您应该能够在您的仪表板中看到计划状态。</p><figure class="mu mv mw mx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mz"><img src="../Images/3f03beb2fc5889d1adcb72f2e1b2a6ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nH1Z_8yV8sG8WBuK.PNG"/></div></div></figure><p id="cd04" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">因为我们有每小时100个API调用的限制，所以我们将每分钟运行一个请求。</p><p id="776c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">步骤2 —设置NodeJS项目</strong></p><p id="042c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们将使用一个单独的文件来保存我们的环境变量，在我们的例子中是API键。</p><p id="c0a1" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">使用下面的命令，我们初始化我们的项目并安装<strong class="ke ir"> dotenv </strong>依赖项。</p><p id="00e1" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这用于加载我们的环境变量，以及用于发送请求的<strong class="ke ir">节点获取</strong>。</p><p id="0045" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><code class="fe na nb nc nd b">npm init -y &amp;&amp; npm i dotenv node-fetch</code></p><p id="6a35" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">接下来创建一个名为<strong class="ke ir">的新文件。env </strong>并在其中编写API键，如下所示:</p><figure class="mu mv mw mx gt jr gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/5b34276fa371f5f6b7b35516bf6f0435.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/0*7xPvVFJ9zgxoMUrT.PNG"/></div></figure><figure class="mu mv mw mx gt jr gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/3821f8153f56349699983b1954b76cf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1130/0*4BHhzvd1v84s5O-L.PNG"/></div></figure><p id="1b1a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">步骤3 —请求空气质量检查数据</strong></p><p id="6ec7" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在打开<strong class="ke ir"> main.js </strong>并编写以下代码:</p><figure class="mu mv mw mx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/83c98c2a93834703ebadbb78462cd569.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4e3s2bzYoV4EzxormbgqQQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae md" href="https://carbon.now.sh/?bg=rgba(0%2C32%2C91%2C1)&amp;t=seti&amp;wt=none&amp;l=auto&amp;ds=true&amp;dsyoff=20px&amp;dsblur=68px&amp;wc=true&amp;wa=true&amp;pv=56px&amp;ph=56px&amp;ln=true&amp;fl=1&amp;fm=Hack&amp;fs=16px&amp;lh=133%25&amp;si=false&amp;es=4x&amp;wm=false&amp;code=const%2520fetch%2520%253D%2520require(%2522node-fetch%2522)%253B%250Arequire(%2522dotenv%2522).config()%253B%250A%250Aconst%2520myApiKey%2520%253D%2520process.env.CLIMACELL_API_KEY%253B%250A%250A(async%2520function%2520main()%2520%257B%250A%2520%2520try%2520%257B%250A%2520%2520%2520%2520const%2520res%2520%253D%2520await%2520fetch(%250A%2520%2520%2520%2520%2520%2520%2560https%253A%252F%252Fapi.climacell.co%252Fv3%252Fweather%252Frealtime%253Flat%253D45.6580%2526lon%253D25.6012%2526unit_system%253Dsi%2526fields%253Dtemp%2526fields%253Dpm10%2526fields%253Dpm25%2526fields%253Do3%2526fields%253Dno2%2526fields%253Dco%2526fields%253Dso2%2526apikey%253D%2524%257BmyApiKey%257D%2560%250A%2520%2520%2520%2520)%253B%250A%2520%2520%2520%2520const%2520json%2520%253D%2520await%2520res.json()%253B%250A%2520%2520%2520%2520console.log(json)%253B%250A%2520%2520%257D%2520catch%2520(err)%2520%257B%250A%2520%2520%2520%2520console.error(%2522ERROR%2522)%253B%250A%2520%2520%2520%2520console.error(err)%253B%250A%2520%2520%257D%250A%257D)()%253B" rel="noopener ugc nofollow" target="_blank">代码在这里</a></figcaption></figure><p id="9fc1" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们请求数据的URL看起来有点复杂，但是让我们解释一下:</p><ul class=""><li id="9ee2" class="mf mg iq ke b kf kg kj kk kn mh kr mi kv mj kz mk ml mm mn bi translated">基地是https://api.climacell.co/v3/weather/<a class="ae md" href="https://api.climacell.co/v3/weather/" rel="noopener ugc nofollow" target="_blank"/></li><li id="f478" class="mf mg iq ke b kf mo kj mp kn mq kr mr kv ms kz mk ml mm mn bi translated">我们添加了<strong class="ke ir"> realtime </strong>关键字、<strong class="ke ir"> </strong>，因为我们想要实时查看数据</li><li id="e208" class="mf mg iq ke b kf mo kj mp kn mq kr mr kv ms kz mk ml mm mn bi translated">作为查询参数，我们编写以下内容:</li><li id="1e8f" class="mf mg iq ke b kf mo kj mp kn mq kr mr kv ms kz mk ml mm mn bi translated"><strong class="ke ir"> lat </strong> —这是我们想要查看数据的位置的纬度</li><li id="4cdf" class="mf mg iq ke b kf mo kj mp kn mq kr mr kv ms kz mk ml mm mn bi translated"><strong class="ke ir">经度</strong> —表示位置的经度</li><li id="4937" class="mf mg iq ke b kf mo kj mp kn mq kr mr kv ms kz mk ml mm mn bi translated">这些是我的城市的坐标，如果你想找到你的城市的坐标，那么你所要做的就是谷歌“[<em class="me">城市名称]坐标”。</em></li></ul><figure class="mu mv mw mx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nh"><img src="../Images/94ac4afa7f01e142aec0fe377625df2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7Gw4WCxQ2KujKrlJ.PNG"/></div></div></figure><ul class=""><li id="1bde" class="mf mg iq ke b kf kg kj kk kn mh kr mi kv mj kz mk ml mm mn bi translated">从这个例子中，我们可以看到纽约的坐标是纬度=40.71.28，经度=74.0060</li><li id="e57e" class="mf mg iq ke b kf mo kj mp kn mq kr mr kv ms kz mk ml mm mn bi translated"><strong class="ke ir"> unit_system </strong> —对于此查询参数，有两个可能的值:<strong class="ke ir"> si </strong>(国际单位制)和<strong class="ke ir"> us </strong>，表示美国习惯单位</li><li id="311a" class="mf mg iq ke b kf mo kj mp kn mq kr mr kv ms kz mk ml mm mn bi translated"><strong class="ke ir"> fields </strong> —最后一个查询是fields，是一个字符串数组；在官方文档中，你可以找到这个查询所有可能值的列表</li></ul><p id="3b00" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果运行该代码，输出应该如下所示:</p><figure class="mu mv mw mx gt jr gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/0fff9c9b26ad06b704c192981ecdc457.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/0*Lgc8IvP42vJKsSmA.PNG"/></div></figure><p id="27e6" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们成功获取了我市的空气质量数据，包括颗粒物&lt; 2.5微米的<strong class="ke ir"> pm25 </strong>、<strong class="ke ir"> pm10 </strong> —颗粒物&lt; 10微米和温度。</p><p id="e1cb" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">第四步——改进代码并使其重复</strong></p><p id="7ad3" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">既然我们可以发出请求并从给定的位置接收数据，我们可以进一步改进我们的代码，我们可以让它重复，这样我们就可以每分钟都得到数据。</p><p id="dfa4" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">首先，让我们编写一个简单的函数，它的底层实现可以将查询附加到请求中。函数名会是<strong class="ke ir"> queryBuilder(request，options)；</strong></p><p id="0a11" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">其次，为了获取每分钟的API数据，我们可以将我们的代码包装在一个时间间隔中，这个时间间隔是60 * 1000毫秒，60000毫秒= 60秒= 1分钟。</p><figure class="mu mv mw mx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nj"><img src="../Images/91da0cf45d49971efc84464f4ddb53e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x_QDQjArAFTHK2UDqy9RfQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated"><a class="ae md" href="https://carbon.now.sh/?bg=rgba(0%2C32%2C91%2C1)&amp;t=seti&amp;wt=none&amp;l=auto&amp;ds=true&amp;dsyoff=20px&amp;dsblur=68px&amp;wc=true&amp;wa=true&amp;pv=56px&amp;ph=56px&amp;ln=true&amp;fl=1&amp;fm=Hack&amp;fs=16px&amp;lh=133%25&amp;si=false&amp;es=4x&amp;wm=false&amp;code=%250Aconst%2520fetch%2520%253D%2520require(%2522node-fetch%2522)%253B%250Arequire(%2522dotenv%2522).config()%253B%250Aconst%2520myApiKey%2520%253D%2520process.env.CLIMACELL_API_KEY%253B%250A%250Afunction%2520queryBuilder(request%252C%2520options)%2520%257B%250A%2520%2520request%2520%252B%253D%2520%2522%253F%2522%253B%250A%2520%2520Object.keys(options).forEach((key)%2520%253D%253E%2520%257B%250A%2520%2520%2520%2520if%2520(typeof%2520options%255Bkey%255D%2520%253D%253D%253D%2520%2522number%2522%2520%257C%257C%2520typeof%2520options%255Bkey%255D%2520%253D%253D%253D%2520%2522string%2522)%2520%257B%250A%2520%2520%2520%2520%2520%2520if%2520(request%255Brequest.length%2520-%25201%255D%2520!%253D%253D%2520%2522%253F%2522)%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520request%2520%252B%253D%2520%2522%2526%2522%253B%250A%2520%2520%2520%2520%2520%2520%257D%250A%2520%2520%2520%2520%2520%2520request%2520%252B%253D%2520%2560%2524%257Bkey%257D%253D%2524%257Boptions%255Bkey%255D%257D%2560%253B%250A%2520%2520%2520%2520%257D%2520else%2520if%2520(Array.isArray(options%255Bkey%255D))%2520%257B%250A%2520%2520%2520%2520%2520%2520options%255Bkey%255D.forEach((e)%2520%253D%253E%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520if%2520(typeof%2520e%2520%253D%253D%253D%2520%2522number%2522%2520%257C%257C%2520typeof%2520e%2520%253D%253D%253D%2520%2522string%2522)%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520if%2520(request%255Brequest.length%2520-%25201%255D%2520!%253D%253D%2520%2522%253F%2522)%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520request%2520%252B%253D%2520%2522%2526%2522%253B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%257D%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520request%2520%252B%253D%2520%2560%2524%257Bkey%257D%253D%2524%257Be%257D%2560%253B%250A%2520%2520%2520%2520%2520%2520%2520%2520%257D%250A%2520%2520%2520%2520%2520%2520%257D)%253B%250A%2520%2520%2520%2520%257D%250A%2520%2520%257D)%253B%250A%2520%2520return%2520request%253B%250A%257D%250Aasync%2520function%2520getAirQualityData()%2520%257B%250A%2520%2520try%2520%257B%250A%2520%2520%2520%2520const%2520url%2520%253D%2520queryBuilder(%2522https%253A%252F%252Fapi.climacell.co%252Fv3%252Fweather%252Frealtime%2522%252C%2520%257B%250A%2520%2520%2520%2520%2520%2520lat%253A%252045.658%252C%250A%2520%2520%2520%2520%2520%2520lon%253A%252025.6012%252C%250A%2520%2520%2520%2520%2520%2520unit_system%253A%2520%2522si%2522%252C%250A%2520%2520%2520%2520%2520%2520fields%253A%2520%255B%2522temp%2522%252C%2520%2522pm10%2522%252C%2520%2522pm25%2522%252C%2520%2522o3%2522%252C%2520%2522no2%2522%252C%2520%2522co%2522%252C%2520%2522so2%2522%255D%252C%250A%2520%2520%2520%2520%2520%2520apikey%253A%2520myApiKey%252C%250A%2520%2520%2520%2520%257D)%253B%250A%2520%2520%2520%2520const%2520res%2520%253D%2520await%2520fetch(url)%253B%250A%2520%2520%2520%2520const%2520data%2520%253D%2520await%2520res.json()%253B%250A%2520%2520%2520%2520return%2520data%253B%250A%2520%2520%257D%2520catch%2520(err)%2520%257B%250A%2520%2520%2520%2520console.error(%2522ERROR%2522)%253B%250A%2520%2520%2520%2520console.error(err)%253B%250A%2520%2520%257D%250A%257D%250A(async%2520function%2520main()%2520%257B%250A%2520%2520const%2520data%2520%253D%2520await%2520getAirQualityData()%253B%250A%2520%2520console.log(data)%253B%250A%2520%2520setInterval(async%2520()%2520%253D%253E%2520%257B%250A%2520%2520%2520%2520const%2520data%2520%253D%2520await%2520getAirQualityData()%253B%250A%2520%2520%2520%2520console.log(data)%253B%250A%2520%2520%257D%252C%252060%2520*%25201000)%253B%250A%257D)()%253B" rel="noopener ugc nofollow" target="_blank">此处代码</a></figcaption></figure><p id="0cbd" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">因为这里我们有一个<a class="ae md" href="https://developer.mozilla.org/en-US/docs/Glossary/IIFE" rel="noopener ugc nofollow" target="_blank">life</a>(立即调用的函数表达式)<strong class="ke ir"> main() </strong>函数在创建后立即执行。运行脚本后，我们将获取一个数据样本，然后每60秒获取另一个数据样本。</p><p id="b6a7" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们每60秒运行一次，因为我们有每小时100次API调用的限制。</p><h1 id="3753" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">结论</h1><p id="6053" class="pw-post-body-paragraph kc kd iq ke b kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv mc kx ky kz ij bi translated">空气质量的下降是一个首要问题，从我们编写的这个小代码示例开始，我们可以构建web应用程序来监控全球的空气质量。</p><p id="8ccb" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">因为我们使用了一个<a class="ae md" href="https://en.wikipedia.org/wiki/Representational_state_transfer" rel="noopener ugc nofollow" target="_blank"> REST </a> API，所以我们可以在后端编写代码，也可以通过从浏览器发出简单的请求在前端编写代码。我建议在后端编写实现，然后将数据公开给前端应用程序。通过这种方式，您的API密钥是安全的。</p><p id="f641" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果代码是在前端编写的，有人可以通过在浏览器中打开developer's tools并检查源代码来窃取您的私钥。</p></div></div>    
</body>
</html>