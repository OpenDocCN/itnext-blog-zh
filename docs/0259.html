<html>
<head>
<title>Hybrid Platform Setup: Cordova + Vue + WebPack</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">混合平台设置:Cordova + Vue + WebPack</h1>
<blockquote>原文：<a href="https://itnext.io/make-hybrid-platform-cordova-vue-webpack-2fb7031c4f9b?source=collection_archive---------0-----------------------#2018-02-01">https://itnext.io/make-hybrid-platform-cordova-vue-webpack-2fb7031c4f9b?source=collection_archive---------0-----------------------#2018-02-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="abe8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这些步骤概述了建立开发平台的过程，您可以在该平台上构建混合移动应用程序。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/aba153dfaeb684f644da65bf3bdb60e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kRq1BMThiaENl3Jr338QCg.jpeg"/></div></div></figure><p id="191c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这包括:</p><ul class=""><li id="b1ef" class="kx ky iq jp b jq jr ju jv jy kz kc la kg lb kk lc ld le lf bi translated">Cordova + Webpack + Vue.js</li><li id="a9b4" class="kx ky iq jp b jq lg ju lh jy li kc lj kg lk kk lc ld le lf bi translated">用Jest/Mocha-Karma进行单元测试</li><li id="3f7d" class="kx ky iq jp b jq lg ju lh jy li kc lj kg lk kk lc ld le lf bi translated">用守夜人进行功能测试</li><li id="33aa" class="kx ky iq jp b jq lg ju lh jy li kc lj kg lk kk lc ld le lf bi translated">在Web浏览器中预览您的应用程序</li><li id="b5e7" class="kx ky iq jp b jq lg ju lh jy li kc lj kg lk kk lc ld le lf bi translated">进行更改时，在浏览器中热/实时重新加载您的应用程序</li><li id="4386" class="kx ky iq jp b jq lg ju lh jy li kc lj kg lk kk lc ld le lf bi translated">构建到Android/iOS移动设备</li></ul><h2 id="7b68" class="ll lm iq bd ln lo lp dn lq lr ls dp lt jy lu lv lw kc lx ly lz kg ma mb mc md bi translated">什么是混合手机App？</h2><p id="a9c2" class="pw-post-body-paragraph jn jo iq jp b jq me js jt ju mf jw jx jy mg ka kb kc mh ke kf kg mi ki kj kk ij bi translated">“混合移动应用”是在本地应用内部运行的网站。代码的Web视图部分(所有屏幕和单击按钮时发生的代码)在运行时被解释。其中作为代码的本机部分(用相机拍照、加载文件、获取GPS坐标)，在应用程序运行之前被编译成机器代码。</p><h1 id="b94e" class="mj lm iq bd ln mk ml mm lq mn mo mp lt mq mr ms lw mt mu mv lz mw mx my mc mz bi translated">先决条件</h1><ul class=""><li id="37e4" class="kx ky iq jp b jq me ju mf jy na kc nb kg nc kk lc ld le lf bi translated">马科斯—高塞拉10.13.2</li><li id="1797" class="kx ky iq jp b jq lg ju lh jy li kc lj kg lk kk lc ld le lf bi translated">node . js—9 . 2 . 1版</li><li id="6cac" class="kx ky iq jp b jq lg ju lh jy li kc lj kg lk kk lc ld le lf bi translated">阿帕奇科尔多瓦— 8.0.0</li><li id="dcbd" class="kx ky iq jp b jq lg ju lh jy li kc lj kg lk kk lc ld le lf bi translated">Vue-CLI — 2.9.2 — <code class="fe nd ne nf ng b">npm install-g vue-cli</code></li></ul><h1 id="1253" class="mj lm iq bd ln mk ml mm lq mn mo mp lt mq mr ms lw mt mu mv lz mw mx my mc mz bi translated">启动Cordova Vue-WebPack项目</h1><p id="b0bc" class="pw-post-body-paragraph jn jo iq jp b jq me js jt ju mf jw jx jy mg ka kb kc mh ke kf kg mi ki kj kk ij bi translated">创建科尔多瓦项目。</p><pre class="km kn ko kp gt nh ng ni nj aw nk bi"><span id="55d0" class="ll lm iq ng b gy nl nm l nn no">cordova create hybrid-base com.f1lt3r.hybridbase<br/># Creating a new cordova project.</span></pre><p id="74a3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">创建Vue.js-Webpack项目。</p><pre class="km kn ko kp gt nh ng ni nj aw nk bi"><span id="dcf0" class="ll lm iq ng b gy nl nm l nn no">vue init webpack hybrid-base</span></pre><p id="5ed9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您将被问到:<code class="fe nd ne nf ng b">? Target directory exists. Continue?</code>您应该回答“是”,因为目录是在前面的Cordova步骤中创建的。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi np"><img src="../Images/dcc9dac3e4ec34e92e167ec87bf06a6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T_kutpIjGfvtwaaErRNmxA.png"/></div></div><figcaption class="nq nr gj gh gi ns nt bd b be z dk translated">用您自己的名字设置您的repo，并选择您想要使用的测试框架。</figcaption></figure><h1 id="a7ef" class="mj lm iq bd ln mk ml mm lq mn mo mp lt mq mr ms lw mt mu mv lz mw mx my mc mz bi translated">合并Cordova + Vue-WebPack构建流程</h1><p id="ce93" class="pw-post-body-paragraph jn jo iq jp b jq me js jt ju mf jw jx jy mg ka kb kc mh ke kf kg mi ki kj kk ij bi translated">您的科尔多瓦<code class="fe nd ne nf ng b">./www</code>目录现在应该是这样的:</p><pre class="km kn ko kp gt nh ng ni nj aw nk bi"><span id="09be" class="ll lm iq ng b gy nl nm l nn no">www<br/>├── css<br/>│   └── index.css<br/>├── img<br/>│   └── logo.png<br/>├── index.html<br/>└── js<br/>    └── index.js</span></pre><p id="15f7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">删除Cordova <code class="fe nd ne nf ng b">./www</code>目录的内容，因为我们将使用WebPack构建这些内容。</p><p id="e612" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将需要离开<code class="fe nd ne nf ng b">./www</code>目录，因为这是Cordova将捆绑到您的移动设备上的代码。</p><pre class="km kn ko kp gt nh ng ni nj aw nk bi"><span id="1be1" class="ll lm iq ng b gy nl nm l nn no">cd hybrid-base<br/>sudo rm -r www/*<br/># Password: ************</span></pre><p id="5887" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">打开WebPack配置文件:<code class="fe nd ne nf ng b">./config/index.js</code>，更新以下路径:</p><ul class=""><li id="c3de" class="kx ky iq jp b jq jr ju jv jy kz kc la kg lb kk lc ld le lf bi translated">将<code class="fe nd ne nf ng b">index</code>和<code class="fe nd ne nf ng b">assestsRoot</code>路径改为指向Cordova的<code class="fe nd ne nf ng b">./www</code>目录，这样你的应用程序代码在打包到你的移动设备之前就已经编译到<code class="fe nd ne nf ng b">./www/dist</code>中了。</li><li id="7792" class="kx ky iq jp b jq lg ju lh jy li kc lj kg lk kk lc ld le lf bi translated">将<code class="fe nd ne nf ng b">assetsPublicPath</code>值改为空字符串<code class="fe nd ne nf ng b">''</code>。这将允许您的手机通过<code class="fe nd ne nf ng b">file:///</code>协议提供观看服务。这一点很重要，因为您(通常)不会在移动设备上运行web服务器。</li></ul><p id="11ff" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">像这样更新您的<code class="fe nd ne nf ng b">./config/index.js</code>文件:</p><pre class="km kn ko kp gt nh ng ni nj aw nk bi"><span id="74c6" class="ll lm iq ng b gy nl nm l nn no">build: {<br/>    // Template for index.html<br/>    index: path.resolve(__dirname, '../www/dist/index.html'),</span><span id="e7af" class="ll lm iq ng b gy nu nm l nn no">    // Paths<br/>    assetsRoot: path.resolve(__dirname, '../www/dist'),<br/>    assetsSubDirectory: 'static',<br/>    assetsPublicPath: '',<br/>}</span></pre><p id="6667" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在IDE中打开<code class="fe nd ne nf ng b">./config.xml</code>并更新Cordova的WebView入口点。</p><pre class="km kn ko kp gt nh ng ni nj aw nk bi"><span id="adf5" class="ll lm iq ng b gy nl nm l nn no">&lt;content src=”dist/index.html” /&gt;</span></pre><p id="486b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">构建您的应用程序的分发包。</p><pre class="km kn ko kp gt nh ng ni nj aw nk bi"><span id="248c" class="ll lm iq ng b gy nl nm l nn no">npm run build</span><span id="2839" class="ll lm iq ng b gy nu nm l nn no"># &gt; hybrid-base@1.0.0 build /Users/al/repos/hybrid-base<br/># &gt; node build/build.js<br/># <br/># Hash: 0291f32a5e7a7d714987<br/># Version: webpack 3.10.0<br/># Time: 6652ms<br/>#                                                   Asset       Size  Chunks             Chunk Names<br/>#                static/js/vendor.5973cf24864eecc78c48.js     111 kB       0  [emitted]  vendor<br/>#                   static/js/app.b22ce679862c47a75225.js    11.6 kB       1  [emitted]  app<br/>#              static/js/manifest.48340d8e7958823ecf19.js    1.48 kB       2  [emitted]  manifest<br/>#     static/css/app.30790115300ab27614ce176899523b62.css  432 bytes       1  [emitted]  app<br/># static/css/app.30790115300ab27614ce176899523b62.css.map  828 bytes          [emitted]<br/>#            static/js/vendor.5973cf24864eecc78c48.js.map     548 kB       0  [emitted]  vendor<br/>#               static/js/app.b22ce679862c47a75225.js.map    22.2 kB       1  [emitted]  app<br/>#          static/js/manifest.48340d8e7958823ecf19.js.map    7.79 kB       2  [emitted]  manifest<br/>#                                              index.html  509 bytes          [emitted]<br/># <br/>#   Build complete.<br/># <br/>#   Tip: built files are meant to be served over an HTTP server.<br/>#   Opening index.html over file:// won't work.</span></pre><p id="fb29" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您的<code class="fe nd ne nf ng b">./www/dist</code>目录现在应该看起来像这样:</p><pre class="km kn ko kp gt nh ng ni nj aw nk bi"><span id="ec48" class="ll lm iq ng b gy nl nm l nn no">www<br/>└── dist<br/>    ├── index.html<br/>    └── static<br/>        ├── css<br/>        │   ├── app.30790115300ab27614ce176899523b62.css<br/>        │   └── app.30790115300ab27614ce176899523b62.css.map<br/>        └── js<br/>            ├── app.b22ce679862c47a75225.js<br/>            ├── app.b22ce679862c47a75225.js.map<br/>            ├── manifest.48340d8e7958823ecf19.js<br/>            ├── manifest.48340d8e7958823ecf19.js.map<br/>            ├── vendor.5973cf24864eecc78c48.js<br/>            └── vendor.5973cf24864eecc78c48.js.map</span></pre><p id="80dc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在浏览器中打开<code class="fe nd ne nf ng b">./www/dist/index.html</code>文件，检查是否一切都通过<code class="fe nd ne nf ng b">file:///</code>协议工作。</p><pre class="km kn ko kp gt nh ng ni nj aw nk bi"><span id="2496" class="ll lm iq ng b gy nl nm l nn no">open ./www/dist/index.html</span></pre><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nv"><img src="../Images/35944a4d2521917c9adc2eeea2b8090d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*72AyGjDMGPMJSc6HOzjfmQ.png"/></div></div><figcaption class="nq nr gj gh gi ns nt bd b be z dk translated">注意浏览器地址栏中的file:///协议。</figcaption></figure><p id="063f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在在你的IDE中打开Vue.js <code class="fe nd ne nf ng b">./index.html</code>文件，并更新你的<code class="fe nd ne nf ng b">Content-Security-Policy</code> meta标签以允许本地web套接字。你可以添加<code class="fe nd ne nf ng b">connect-src 'self' ws:;</code>来做到这一点。这将允许WebPack知道何时在web浏览器预览中重新构建和重新加载您的代码。每当您对源代码进行更改时，都应该发生这种情况。</p><pre class="km kn ko kp gt nh ng ni nj aw nk bi"><span id="fda8" class="ll lm iq ng b gy nl nm l nn no">&lt;meta http-equiv=”Content-Security-Policy” content=”default-src ‘self’ data: gap: <a class="ae nw" href="https://ssl.gstatic.com" rel="noopener ugc nofollow" target="_blank">https://ssl.gstatic.com</a> ‘unsafe-eval’; style-src ‘self’ ‘unsafe-inline’; media-src *; img-src ‘self’ data: content:; connect-src ‘self’ ws:;”&gt;</span></pre><p id="cd15" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们可以测试<code class="fe nd ne nf ng b">dev</code>模式是否正常工作。</p><pre class="km kn ko kp gt nh ng ni nj aw nk bi"><span id="c1e2" class="ll lm iq ng b gy nl nm l nn no">npm run dev</span><span id="0b0d" class="ll lm iq ng b gy nu nm l nn no"># &gt; hybrid-base@1.0.0 dev /Users/al/repos/hybrid-base<br/># &gt; webpack-dev-server --inline --progress --config build/webpack.dev.conf.js<br/># <br/>#  95% emitting<br/># <br/>#  DONE  Compiled successfully in 3486ms                                                                                                 12:31:18<br/># <br/>#    Your application is running here: <a class="ae nw" href="http://localhost:8080" rel="noopener ugc nofollow" target="_blank">http://localhost:8080</a></span></pre><p id="8009" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在Vue-Webpack热重装服务器已经上线，请访问<a class="ae nw" href="http://localhost:8080" rel="noopener ugc nofollow" target="_blank"> http://localhost:8080 </a>查看您的应用。</p><p id="ce03" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您应该会看到以下屏幕:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nv"><img src="../Images/25e29fafbe3eddb645a70dba9c298e85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZmaMnIhQZUTw8MPKULXw2g.png"/></div></div><figcaption class="nq nr gj gh gi ns nt bd b be z dk translated">注意下面控制台日志中的web-sockets消息，以及地址栏中的host:port。</figcaption></figure><h1 id="934b" class="mj lm iq bd ln mk ml mm lq mn mo mp lt mq mr ms lw mt mu mv lz mw mx my mc mz bi translated">在Android上运行</h1><p id="8a6e" class="pw-post-body-paragraph jn jo iq jp b jq me js jt ju mf jw jx jy mg ka kb kc mh ke kf kg mi ki kj kk ij bi translated">我们现在将测试在Android移动设备上一切正常。确保您已将一个插头插入电脑。</p><p id="7ca1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先我们建造。</p><pre class="km kn ko kp gt nh ng ni nj aw nk bi"><span id="8ee2" class="ll lm iq ng b gy nl nm l nn no">cordova platform add android</span><span id="9fbf" class="ll lm iq ng b gy nu nm l nn no"># Using cordova-fetch for cordova-android@~7.0.0<br/># Adding android project...<br/># Creating Cordova project for the Android platform:<br/>#     Path: platforms/android<br/>#     Package: com.f1lt3r.hybridbase<br/>#     Name: HelloCordova<br/>#     Activity: MainActivity<br/>#     Android target: android-26<br/># Subproject Path: CordovaLib<br/># Subproject Path: app<br/># Android project created with cordova-android@7.0.0<br/># Android Studio project detected<br/># Android Studio project detected<br/># Discovered plugin "cordova-plugin-whitelist" in config.xml. Adding it to the project<br/># Installing "cordova-plugin-whitelist" for android<br/># <br/>#                This plugin is only applicable for versions of cordova-android greater than 4.0. If you have a previous platform version, you do *not* need this plugin since the whitelist will be built in.<br/># <br/># Adding cordova-plugin-whitelist to package.json<br/># Saved plugin info for "cordova-plugin-whitelist" to config.xml<br/># --save flag or autosave detected<br/># Saving android@~7.0.0 into config.xml file ...<br/># Using cordova-fetch for cordova-ios@~4.5.4<br/># Adding ios project...<br/># Creating Cordova project for the iOS platform:<br/>#     Path: platforms/ios<br/>#     Package: com.f1lt3r.hybridbase<br/>#     Name: HelloCordova<br/># iOS project created with cordova-ios@4.5.4<br/># Installing "cordova-plugin-whitelist" for ios<br/># --save flag or autosave detected<br/># Saving ios@~4.5.4 into config.xml file ...</span></pre><p id="ae2b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后我们跑。</p><pre class="km kn ko kp gt nh ng ni nj aw nk bi"><span id="e4e2" class="ll lm iq ng b gy nl nm l nn no">cordova run android</span><span id="a007" class="ll lm iq ng b gy nu nm l nn no"># Android Studio project detected<br/># ANDROID_HOME=/Users/al/Library/Android/sdk<br/># JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_77.jdk/Contents/Home<br/># studio<br/># Subproject Path: CordovaLib<br/># Subproject Path: app<br/># publishNonDefault is deprecated and has no effect anymore. All variants are now published.<br/># The Task.leftShift(Closure) method has been deprecated and is scheduled to be removed in Gradle 5.0. Please use Task.doLast(Action) instead.<br/>#     at build_90p7k4l5ap2hh6f44vf6y6xe6.run(/Users/al/repos/hybrid-base/platforms/android/app/build.gradle:143)<br/># :CordovaLib:preBuild UP-TO-DATE<br/># ...<br/># :app:cdvBuildDebug UP-TO-DATE<br/># <br/># BUILD SUCCESSFUL in 0s<br/># 47 actionable tasks: 1 executed, 46 up-to-date<br/># Built the following apk(s):<br/>#     /Users/al/repos/hybrid-base/platforms/android/app/build/outputs/apk/debug/app-debug.apk<br/># ANDROID_HOME=/Users/al/Library/Android/sdk<br/># JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_77.jdk/Contents/Home<br/># No target specified, deploying to device '711KPZK0695877'.<br/># none<br/># Skipping build...<br/># Built the following apk(s):<br/>#     /Users/al/repos/hybrid-base/platforms/android/app/build/outputs/apk/debug/app-debug.apk<br/># Using apk: /Users/al/repos/hybrid-base/platforms/android/app/build/outputs/apk/debug/app-debug.apk<br/># Package name: com.f1lt3r.hybridbase<br/># LAUNCH SUCCESS</span></pre><p id="e2a9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你现在应该可以在你的Android设备上看到这个应用了。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nx"><img src="../Images/23378168e6a30783d352f2fe9d6dab4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yOa_d1cF_nlFfL63PZfORw.png"/></div></div><figcaption class="nq nr gj gh gi ns nt bd b be z dk translated">它活着。</figcaption></figure><h1 id="8bf6" class="mj lm iq bd ln mk ml mm lq mn mo mp lt mq mr ms lw mt mu mv lz mw mx my mc mz bi translated">在iOS上运行</h1><p id="7333" class="pw-post-body-paragraph jn jo iq jp b jq me js jt ju mf jw jx jy mg ka kb kc mh ke kf kg mi ki kj kk ij bi translated">是时候在iOS设备上检查东西了。确保你插上电源了！</p><p id="4acf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，让我们将iOS平台添加到Cordova项目中。</p><pre class="km kn ko kp gt nh ng ni nj aw nk bi"><span id="0036" class="ll lm iq ng b gy nl nm l nn no">cordova platform add ios</span><span id="bdbe" class="ll lm iq ng b gy nu nm l nn no"># Using cordova-fetch for cordova-ios@~4.5.4<br/># Adding ios project...<br/># Creating Cordova project for the iOS platform:<br/>#     Path: platforms/ios<br/>#     Package: com.f1lt3r.hybridbase<br/>#     Name: HelloCordova<br/># iOS project created with cordova-ios@4.5.4<br/># Installing "cordova-plugin-whitelist" for ios<br/># --save flag or autosave detected<br/># Saving ios@~4.5.4 into config.xml file ...</span></pre><p id="f416" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">打开应用程序的Xcode项目。</p><pre class="km kn ko kp gt nh ng ni nj aw nk bi"><span id="c1db" class="ll lm iq ng b gy nl nm l nn no">open platforms/ios/HelloCordova.xcodeproj</span></pre><p id="cb20" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在构建签名下拉列表中选择您的团队证书。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ny"><img src="../Images/c626f402de0b5ad3c87394f3b54cf1c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EnRI_duHjXAzNJ5JwPzHPA.jpeg"/></div></div></figure><p id="94a2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">构建您的iOS包。</p><pre class="km kn ko kp gt nh ng ni nj aw nk bi"><span id="1859" class="ll lm iq ng b gy nl nm l nn no">cordova build ios</span><span id="00f2" class="ll lm iq ng b gy nu nm l nn no"># Building project: /Users/al/repos/hybrid-base/platforms/ios/HelloCordova.xcworkspace<br/>#     Configuration: Debug<br/>#     Platform: device<br/># User defaults from command line:<br/>#     IDEArchivePathOverride = /Users/al/repos/hybrid-base/platforms/ios/HelloCordova.xcarchive<br/># <br/># Build settings from command line:<br/>#     CONFIGURATION_BUILD_DIR = /Users/al/repos/hybrid-base/platforms/ios/build/device<br/>#     SHARED_PRECOMPS_DIR = /Users/al/repos/hybrid-base/platforms/ios/build/sharedpch<br/># <br/># Build settings from configuration file '/Users/al/repos/hybrid-base/platforms/ios/cordova/build-debug.xcconfig':<br/>#     CLANG_ALLOW_NON_MODULAR_INCLUDES_IN_FRAMEWORK_MODULES = YES<br/>#     CODE_SIGN_ENTITLEMENTS = $(PROJECT_DIR)/$(PROJECT_NAME)/Entitlements-$(CONFIGURATION).plist<br/>#     CODE_SIGN_IDENTITY = iPhone Developer<br/>#     ENABLE_BITCODE = NO<br/>#     GCC_PREPROCESSOR_DEFINITIONS = DEBUG=1<br/>#     HEADER_SEARCH_PATHS = "$(TARGET_BUILD_DIR)/usr/local/lib/include" "$(OBJROOT)/UninstalledProducts/include" "$(OBJROOT)/UninstalledProducts/$(PLATFORM_NAME)/include" "$(BUILT_PRODUCTS_DIR)"<br/>#     OTHER_LDFLAGS = -ObjC<br/>#     SWIFT_OBJC_BRIDGING_HEADER = $(PROJECT_DIR)/$(PROJECT_NAME)/Bridging-Header.h<br/># <br/># === BUILD TARGET CordovaLib OF PROJECT CordovaLib WITH CONFIGURATION Debug ===<br/># <br/># Check dependencies<br/># <br/># Write auxiliary files<br/># <br/># ...<br/># <br/># ** ARCHIVE SUCCEEDED **<br/># <br/># Non-system Ruby in use. This may cause packaging to fail.<br/># If you use RVM, please run `rvm use system`.<br/># If you use chruby, please run `chruby system`.<br/># 2018-02-01 16:43:32.249 xcodebuild[82807:848721] [MT] IDEDistribution: -[IDEDistributionLogging _createLoggingBundleAtPath:]: Created bundle at path '/var/folders/kw/5t8w91_n6rb0z8b2z2grsj1r0000gn/T/HelloCordova_2018-02-01_16-43-32.247.xcdistributionlogs'.<br/># Exported HelloCordova.xcarchive to: /Users/al/repos/hybrid-base/platforms/ios/build/device<br/># ** EXPORT SUCCEEDED **</span></pre><p id="8a6d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在您的设备上运行iOS代码。</p><pre class="km kn ko kp gt nh ng ni nj aw nk bi"><span id="6d60" class="ll lm iq ng b gy nl nm l nn no">cordova run ios</span><span id="f01e" class="ll lm iq ng b gy nu nm l nn no"># Building project: /Users/al/repos/hybrid-base/platforms/ios/HelloCordova.xcworkspace<br/>#     Configuration: Debug<br/>#     Platform: device<br/># User defaults from command line:<br/>#     IDEArchivePathOverride = /Users/al/repos/hybrid-base/platforms/ios/HelloCordova.xcarchive<br/># <br/># Build settings from command line:<br/>#     CONFIGURATION_BUILD_DIR = /Users/al/repos/hybrid-base/platforms/ios/build/device<br/>#     SHARED_PRECOMPS_DIR = /Users/al/repos/hybrid-base/platforms/ios/build/sharedpch<br/># <br/># Build settings from configuration file '/Users/al/repos/hybrid-base/platforms/ios/cordova/build-debug.xcconfig':<br/>#     CLANG_ALLOW_NON_MODULAR_INCLUDES_IN_FRAMEWORK_MODULES = YES<br/>#     CODE_SIGN_ENTITLEMENTS = $(PROJECT_DIR)/$(PROJECT_NAME)/Entitlements-$(CONFIGURATION).plist<br/>#     CODE_SIGN_IDENTITY = iPhone Developer<br/>#     ENABLE_BITCODE = NO<br/>#     GCC_PREPROCESSOR_DEFINITIONS = DEBUG=1<br/>#     HEADER_SEARCH_PATHS = "$(TARGET_BUILD_DIR)/usr/local/lib/include" "$(OBJROOT)/UninstalledProducts/include" "$(OBJROOT)/UninstalledProducts/$(PLATFORM_NAME)/include" "$(BUILT_PRODUCTS_DIR)"<br/>#     OTHER_LDFLAGS = -ObjC<br/>#     SWIFT_OBJC_BRIDGING_HEADER = $(PROJECT_DIR)/$(PROJECT_NAME)/Bridging-Header.h<br/># <br/># === BUILD TARGET CordovaLib OF PROJECT CordovaLib WITH CONFIGURATION Debug ===<br/># <br/># Check dependencies<br/># <br/># Write auxiliary files<br/># <br/># ...<br/># <br/># (lldb)     connect<br/># (lldb)     run<br/># success<br/># (lldb)     safequit<br/># Process 1502 detached</span></pre><p id="5f4f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，您应该会在iOS设备上看到Vue.js应用程序。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/261577b079ca9d4380f55d03e5b383e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*FuLKnNEm43wRvdsj6mpxdA.png"/></div><figcaption class="nq nr gj gh gi ns nt bd b be z dk translated">iOS报到，长官。</figcaption></figure><h1 id="0fac" class="mj lm iq bd ln mk ml mm lq mn mo mp lt mq mr ms lw mt mu mv lz mw mx my mc mz bi translated">测试—玩笑和守夜</h1><p id="7ae2" class="pw-post-body-paragraph jn jo iq jp b jq me js jt ju mf jw jx jy mg ka kb kc mh ke kf kg mi ki kj kk ij bi translated">最后，我们应该确认单元和功能测试命令工作正常。</p><p id="32b5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先测试单元测试:</p><pre class="km kn ko kp gt nh ng ni nj aw nk bi"><span id="2554" class="ll lm iq ng b gy nl nm l nn no">npm run unit</span></pre><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi oa"><img src="../Images/6fd4b1449969001ffbe1c661d0f14d5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S77GFyhJE7tmBjCyAHY00Q.png"/></div></div><figcaption class="nq nr gj gh gi ns nt bd b be z dk translated">单元测试通过，没问题。</figcaption></figure><p id="7b66" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后测试功能/端到端测试:</p><pre class="km kn ko kp gt nh ng ni nj aw nk bi"><span id="62a3" class="ll lm iq ng b gy nl nm l nn no">npm run e2e</span></pre><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ob"><img src="../Images/a9a865956a5d2e25ce7c50b6b47ee386.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_ZHSNImC-In4gnImtm832w.png"/></div></div><figcaption class="nq nr gj gh gi ns nt bd b be z dk translated">注意:您必须先运行“NPM run build ”, e2e测试才能通过。</figcaption></figure><h1 id="f8e2" class="mj lm iq bd ln mk ml mm lq mn mo mp lt mq mr ms lw mt mu mv lz mw mx my mc mz bi translated">结论</h1><p id="9c20" class="pw-post-body-paragraph jn jo iq jp b jq me js jt ju mf jw jx jy mg ka kb kc mh ke kf kg mi ki kj kk ij bi translated">您现在应该有一个混合平台，允许您使用Vue.js和Cordova开发和分发移动应用程序。</p><p id="6187" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可以在这里找到这个指南的回购:<a class="ae nw" href="https://github.com/F1LT3R/hybrid-base-cordova-vue-webpack" rel="noopener ugc nofollow" target="_blank">https://github.com/F1LT3R/hybrid-base-cordova-vue-webpack</a></p><p id="ef7a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">就这些了，伙计们！</p></div></div>    
</body>
</html>