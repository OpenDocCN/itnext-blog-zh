<html>
<head>
<title>How to create Kubernetes YAML files</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何创建Kubernetes YAML文件</h1>
<blockquote>原文：<a href="https://itnext.io/how-to-create-kubernetes-yaml-files-abb8426eeb45?source=collection_archive---------0-----------------------#2021-10-10">https://itnext.io/how-to-create-kubernetes-yaml-files-abb8426eeb45?source=collection_archive---------0-----------------------#2021-10-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/31f222a3e76a23a21aec048a94312f8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_Oakhq8VK7Qtx-EldOT4Cg.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">图片由<a class="ae jd" href="https://pixabay.com/users/200degrees-2051452/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1745705" rel="noopener ugc nofollow" target="_blank"> 200度</a>来自<a class="ae jd" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1745705" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></figcaption></figure><div class=""/><div class=""><h2 id="95f3" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">在Kubernetes上开发</h2></div><h2 id="371a" class="kv kw jg bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">介绍</h2><p id="3a38" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">本文旨在作为创建Kubernetes清单文件的指南。</p><p id="a1c1" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated"><a class="ae jd" href="https://yaml.org/" rel="noopener ugc nofollow" target="_blank"> YAML </a>代表YAML，不是用标记语言来创建Kubernetes清单的。根据定义:</p><blockquote class="mp mq mr"><p id="5c1f" class="lr ls ms lt b lu mk kh lw lx ml kk lz mt mm mb mc mu mn me mf mv mo mh mi mj ij bi translated">YAML是一种对所有编程语言都友好的数据序列化语言。</p></blockquote><p id="ed05" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">事实上，一旦你意识到缩进是构建数据结构的方式，阅读YAML就相当简单了。如果您熟悉Python、F#或其他支持缩进的语言，这将非常容易。</p><p id="6b66" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">另一方面，写YAML就没那么有趣了。如果您熟悉无模式REST API开发，那么可以将Kubernetes YAML视为一个API的JSON有效负载。没有要验证的模式，所有的旋钮都作为有效负载中的数据公开。</p><p id="9e55" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">创建一个简单的YAML文件相对简单，但是对于生产应用，需要更多的设置。这里有一个Kubernetes <a class="ae jd" href="https://kubernetes.io/docs/concepts/workloads/controllers/deployment/" rel="noopener ugc nofollow" target="_blank">部署</a>清单的例子。如果您对Kubernetes有所了解，那么当您阅读该文件时，大多数设置都是有意义的。现在想象一下，你需要从头开始创建一些(入口、服务、配置映射、秘密……)</p><figure class="mx my mz na gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mw"><img src="../Images/61cf9a4955990ba345d14ee499b84d7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7odC7UmwMm9xBtWrkDKdJA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">来源:作者— <a class="ae jd" href="https://github.com/Piotr1215/pwa-sample" rel="noopener ugc nofollow" target="_blank"> Blazor PWA Repo </a></figcaption></figure><p id="5c85" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">作为开发人员，您需要创建几种不同类型的清单。以下是Kubernetes资源列表，<strong class="lt jh"> * </strong>表示通常由开发人员创建/维护的资源。请注意，这仅适用于你有一个专门的Kubernetes管理员可以照顾其余的。该列表仅缩写为公共资源，在生产中，场景可能包括各种CRD(自定义资源定义)。</p><figure class="mx my mz na gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nb"><img src="../Images/6d377d1a60bb50b826f573bd963d13d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*75a2mjFVP8tk0bcWBOqkaQ.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">来源:作者Kubernetes资源</figcaption></figure><blockquote class="nc"><p id="ac3d" class="nd ne jg bd nf ng nh ni nj nk nl mj dk translated">如果你不困惑，你就没有注意。</p><p id="e31a" class="nd ne jg bd nf ng nm nn no np nq mj dk translated">汤姆·彼得斯</p></blockquote><h2 id="045b" class="kv kw jg bd kx ky nr dn la lb ns dp ld le nt lg lh li nu lk ll lm nv lo lp lq bi translated">你将学到什么</h2><p id="e06f" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">让我们试着减轻一些关于编写YAML文件的困惑，让这个过程变得更容易和不那么痛苦。</p><p id="d061" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">阅读本文后，您将了解到:</p><ul class=""><li id="e668" class="nw nx jg lt b lu mk lx ml le ny li nz lm oa mj ob oc od oe bi translated">创建Kubernetes YAML文件的不同方法</li><li id="3f71" class="nw nx jg lt b lu of lx og le oh li oi lm oj mj ob oc od oe bi translated">如何在开发过程中自动检测和纠正错误</li><li id="3bb4" class="nw nx jg lt b lu of lx og le oh li oi lm oj mj ob oc od oe bi translated">使用什么开发工具来简化YAML文件的创建</li><li id="3588" class="nw nx jg lt b lu of lx og le oh li oi lm oj mj ob oc od oe bi translated">了解专门用于生成不同种类的YAML文件的在线工具</li></ul><h2 id="d855" class="kv kw jg bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">先决条件</h2><p id="299b" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">如果你想继续下去，并得到你的手脏与YAML，你需要:</p><ul class=""><li id="3509" class="nw nx jg lt b lu mk lx ml le ny li nz lm oa mj ob oc od oe bi translated">带有<a class="ae jd" href="https://github.com/Microsoft/vscode-remote-release" rel="noopener ugc nofollow" target="_blank">远程开发扩展</a>的VS代码</li><li id="58fd" class="nw nx jg lt b lu of lx og le oh li oi lm oj mj ob oc od oe bi translated"><a class="ae jd" href="https://www.docker.com/products/docker-desktop" rel="noopener ugc nofollow" target="_blank"> docker桌面</a>或任何替代品(需要能够运行容器)</li><li id="1ce6" class="nw nx jg lt b lu of lx og le oh li oi lm oj mj ob oc od oe bi translated">克隆<a class="ae jd" href="https://github.com/Piotr1215/generate-k8s-yaml" rel="noopener ugc nofollow" target="_blank">这个仓库</a></li></ul><p id="93db" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">请注意，存储库使用了一个<a class="ae jd" href="https://code.visualstudio.com/docs/remote/containers" rel="noopener ugc nofollow" target="_blank"> devcontainer </a>，其中包含了运行示例构建所需的所有工具和配置。因此，图像很大，所以请在运行容器之前对其进行相应的修改。</p></div><div class="ab cl ok ol hu om" role="separator"><span class="on bw bk oo op oq"/><span class="on bw bk oo op oq"/><span class="on bw bk oo op"/></div><div class="ij ik il im in"><h2 id="6480" class="kv kw jg bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">创建与生成</h2><p id="4b87" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">最初，您可能会尝试生成尽可能多的样板文件。我的建议是，不要！尤其是如果你是Kubernetes或YAML的新手，尝试从Kubernetes文档中复制粘贴，但是不要在第一天就使用发电机。</p><p id="9995" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">一旦你熟悉了基础知识，逐步添加工具，这将使你的生活更容易。有好消息；你会很快理解基础知识。</p><p id="8d8d" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">一个很好的方法来知道你是否足够熟悉一个特定资源的YAML内容，如果它变得，嗯…无聊。从现在开始，你应该一头扎进发电机和助手的世界，保持头脑清醒，让你的生活更轻松。</p><h2 id="0e2a" class="kv kw jg bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">第一季度</h2><p id="9394" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">我要说的第一个工具是<a class="ae jd" href="https://mikefarah.gitbook.io/yq/" rel="noopener ugc nofollow" target="_blank"> yq </a>。Yq不是Kubernetes特有的，而是YAML的“万金油”。学习这个工具将帮助您直接从命令行查询和操作YAML文件。它有助于完成任务，例如:</p><ul class=""><li id="3626" class="nw nx jg lt b lu mk lx ml le ny li nz lm oa mj ob oc od oe bi translated">针对特定值过滤YAML文件，例如从部署文件中检索映像名称</li></ul><figure class="mx my mz na gt is"><div class="bz fp l di"><div class="or os l"/></div></figure><p id="b79b" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">从YAML文件中选择值是有用的，但是掌握yq将主要有助于对多个文件的批量操作和更复杂的转换。</p><h2 id="5490" class="kv kw jg bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">#3库贝克特尔</h2><p id="cadd" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">使用<a class="ae jd" href="https://kubernetes.io/docs/reference/kubectl/kubectl/" rel="noopener ugc nofollow" target="_blank"> kubectl </a>很容易开始为大多数资源生成YAML文件。您可以使用“<a class="ae jd" href="https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#create" rel="noopener ugc nofollow" target="_blank"> kubectl create </a>”或“<a class="ae jd" href="https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#run" rel="noopener ugc nofollow" target="_blank"> kubectl run </a>”命令上的“-dry-run = client-oy AML&gt;YAML _ file . YAML”标志来生成大部分资源。</p><p id="52df" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">例如，要为nginx pod生成YAML文件，您可以运行:</p><p id="3d6d" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">kubectl run nginx—image = nginx—port = 8080—env = env = DEV—labels = app = nginx，owner = user—privileged = false—dry-run = client-oy AML &gt; nginx-pod . YAML</p><p id="b970" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">该命令将生成以下YAML:</p><figure class="mx my mz na gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ot"><img src="../Images/7739421ef35269c01ac74d6bfa4512b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EpfZuoar_dvKTmY4tdTVuQ.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">YAML用kubectl生成</figcaption></figure><p id="3e81" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">文件需要清理一点，但这是一个很好的起点。</p><p id="fc32" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">现在，您可以使用以下命令创建部署:</p><p id="e1b2" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">kubectl创建部署my-dep-image = nginx-dry-run = client-oy AML &gt; deployment . YAML</p><p id="5f74" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">并使用yq来合并这两个文件。</p><p id="cab2" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">这个过程可能会很快变得复杂，但是使用shell脚本来自动化大多数任务是很容易的。</p><p id="5c2f" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">使用kubectl和yq的组合对于开始一个简单的一次性项目来说是非常好的，并且有助于自动化这两者之间的事情。</p><p id="1799" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">如果你对kubectl技巧和诀窍感兴趣，我在本文<a class="ae jd" href="https://gist.github.com/Piotr1215/443fb83c89958139f0c67ec70b111da2" rel="noopener ugc nofollow" target="_blank">中列出了越来越多的有用命令。</a></p><h2 id="a60f" class="kv kw jg bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated"># 3 Docker-撰写</h2><p id="2b98" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">您的项目中有docker-compose.yaml文件吗？使用名为<a class="ae jd" href="https://kompose.io/" rel="noopener ugc nofollow" target="_blank"> kompose </a>的工具可以从docker-compose文件生成Kubernetes清单。</p><p id="6cf1" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">让我们来看看实际情况。我们将使用来自<a class="ae jd" href="https://github.com/docker/awesome-compose.git" rel="noopener ugc nofollow" target="_blank"> awesome-compose存储库</a>的docker-compose文件。</p><p id="0033" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">下面是一个docker-compose文件示例:</p><figure class="mx my mz na gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ou"><img src="../Images/947ecb5f4a8fd0f0bd15ea3e15e2953b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W3zj5z7VoWi5ExLeoO4okg.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">来源:Awesome-Compose repo</figcaption></figure><p id="0645" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">现在，让我们使用<strong class="lt jh"> kompose: </strong>生成Kubernetes清单</p><figure class="mx my mz na gt is"><div class="bz fp l di"><div class="or os l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">kompose生成K8s清单</figcaption></figure><p id="75fd" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">该命令将docker-compose作为输入，并将生成的Kubernetes YAML输出到k8s-manifests文件夹中。</p><figure class="mx my mz na gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ov"><img src="../Images/64f1489e8d1da90c3b5d9a6d2380db75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*us9TWhvWm_3mD7D-hsqIvw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">kompose生成的文件</figcaption></figure><p id="2f2e" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">如果你已经有一个docker-compose文件，使用kompose是一个不错的选择。经常需要做一些调整，但是这会让你离一个良好的起点更近一步。</p><h2 id="b63a" class="kv kw jg bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">#4 VS带插件的代码</h2><p id="faf3" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">VS代码有2个插件，帮助创建YAML文件。非常感谢Avi Nehama的建议。</p><p id="914b" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated"><a class="ae jd" href="https://marketplace.visualstudio.com/items?itemName=lunuan.kubernetes-templates" rel="noopener ugc nofollow" target="_blank"> Kubernetes模板</a></p><p id="8f0f" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">该模板支持任何Kubernetes资源的快速搭建。</p><p id="e459" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">创建yaml文件，开始输入Kubernetes资源的名称，然后点击TAB插入一个模板。继续循环使用TAB键，在必填字段中填入名称。</p><figure class="mx my mz na gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi oy"><img src="../Images/e2c09992109b8bc8984205c104ccb7aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LBCL0Fy99sLKHyj15TXwFg.png"/></div></div></figure><p id="4e18" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated"><a class="ae jd" href="https://marketplace.visualstudio.com/items?itemName=redhat.vscode-yaml" rel="noopener ugc nofollow" target="_blank"> YAML </a></p><p id="fa7a" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">这个来自Red Hat的扩展在后台运行YAML服务器，并为任何Kubernetes资源添加上下文感知智能完成。</p><p id="c5a9" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">记得在设置里激活它，重新加载VS代码。将这一行添加到设置中，以便在所有YAML文件上启用Kubernetes补全。</p><pre class="mx my mz na gt oz pa pb pc aw pd bi"><span id="1455" class="kv kw jg pa b gy pe pf l pg ph">"yaml.schemas": {<br/>  "Kubernetes": "*.yaml"<br/>}</span></pre><figure class="mx my mz na gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pi"><img src="../Images/6501857e3ac581c07e188a485d2ff8d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ssv7K5es5evjKC6-DVHJUw.png"/></div></div></figure><h2 id="74e3" class="kv kw jg bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated"># 5 CDK8s</h2><p id="fe7e" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">从命令行转移到编程领域。如果你不得不写很多YAML，但碰巧知道Python、Typescript、JavaScript、Java或Go，你可以利用编程语言的力量使写YAML的过程变得容易得多。</p><p id="3a80" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">介绍<a class="ae jd" href="https://cdk8s.io/" rel="noopener ugc nofollow" target="_blank"> CDK8s </a></p><blockquote class="mp mq mr"><p id="20bf" class="lr ls ms lt b lu mk kh lw lx ml kk lz mt mm mb mc mu mn me mf mv mo mh mi mj ij bi translated">cdk8s是一个开源软件开发框架，使用熟悉的编程语言和丰富的面向对象API来定义Kubernetes应用程序和可重用的抽象。<strong class="lt jh"> cdk8s </strong>应用综合成标准的Kubernetes清单，可应用于任何Kubernetes集群。</p></blockquote><p id="26a2" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">CDK8s的工作原理是公开Kubernetes资源对象，并使用一个称为构造的对象来进一步抽象和自动化YAML文件的创建。</p><p id="f900" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">这种方法背后的真正力量是能够:</p><ul class=""><li id="eadf" class="nw nx jg lt b lu mk lx ml le ny li nz lm oa mj ob oc od oe bi translated">创建可重用的组件和抽象来捕获您的需求</li><li id="f88f" class="nw nx jg lt b lu of lx og le oh li oi lm oj mj ob oc od oe bi translated">使用本地编程语言结构来自动化、测试和验证创建YAML的过程</li></ul><h2 id="01dc" class="kv kw jg bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">第六名NAML</h2><p id="6287" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">如果你碰巧知道去，不喜欢YAML，并希望不惜一切代价避免它，这个项目可能是你的东西！</p><p id="6521" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">由<a class="ow ox ep" href="https://medium.com/u/158602cec861?source=post_page-----abb8426eeb45--------------------------------" rel="noopener" target="_blank">Kris Nova</a>(<a class="ae jd" href="https://github.com/kris-nova" rel="noopener ugc nofollow" target="_blank">Github profile</a>)设计的一个非常有趣的方法是一个名为naml的以Go为中心的工具，它的工作原理是直接在Go中创建Kubernetes清单，并通过CLI install命令将它们安装在集群上。</p><p id="57ec" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">该工具可以生成类似于CKD8s的YAML，但仅适用于Go。</p><div class="ip iq gp gr ir pj"><a href="https://github.com/kris-nova/naml" rel="noopener  ugc nofollow" target="_blank"><div class="pk ab fo"><div class="pl ab pm cl cj pn"><h2 class="bd jh gy z fp po fr fs pp fu fw jf bi translated">GitHub - kris-nova/naml:不是另一种标记语言。用…替换库本内特斯YAML的框架</h2><div class="pq l"><h3 class="bd b gy z fp po fr fs pp fu fw dk translated">NAML是一个Go库和命令行工具，可以用作开发和部署Kubernetes的框架…</h3></div><div class="pr l"><p class="bd b dl z fp po fr fs pp fu fw dk translated">github.com</p></div></div><div class="ps l"><div class="pt l pu pv pw ps px ix pj"/></div></div></a></div><h2 id="e875" class="kv kw jg bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">#7在线工具</h2><p id="24d5" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">一个沮丧的开发人员偶尔会创建一个简单的Web UI，用一个表单收集输入来生成YAML文件。这些项目通常是短命的，维护得不是很好，所以我的建议是远离在线Kubernetes YAML发电机。</p><p id="07e2" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">有一个例外，一个由<a class="ae jd" href="https://editor.cilium.io/" rel="noopener ugc nofollow" target="_blank"> cilium </a>在线编辑的专门创建Kubernetes资源叫做<a class="ae jd" href="https://kubernetes.io/docs/tasks/administer-cluster/declare-network-policy/" rel="noopener ugc nofollow" target="_blank">网络政策</a></p><figure class="mx my mz na gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi py"><img src="../Images/080119e96a0a566b8c9aca2b2220ec18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a76YaH2-NEOVxHSotI8eiQ.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">来源:https://editor.cilium.io/<a class="ae jd" href="https://editor.cilium.io/" rel="noopener ugc nofollow" target="_blank"/></figcaption></figure></div><div class="ab cl ok ol hu om" role="separator"><span class="on bw bk oo op oq"/><span class="on bw bk oo op oq"/><span class="on bw bk oo op"/></div><div class="ij ik il im in"><h2 id="b1e5" class="kv kw jg bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">结束语</h2><p id="a7e0" class="pw-post-body-paragraph lr ls jg lt b lu lv kh lw lx ly kk lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">我们已经看到了创建Kubernetes YAML文件的各种方法，其中一些使用简单的命令行工具，自动生成文件。其他人公开完整的编程语言。</p><p id="c693" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">这很好，但是我们如何确保我们的YAML是正确的呢？验证文件内容的一些最佳实践是什么？这些实践如何实现自动化？</p><p id="65a1" class="pw-post-body-paragraph lr ls jg lt b lu mk kh lw lx ml kk lz le mm mb mc li mn me mf lm mo mh mi mj ij bi translated">如果你想知道这些和类似问题的答案，请继续关注下一篇文章。</p></div></div>    
</body>
</html>