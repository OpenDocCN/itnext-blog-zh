<html>
<head>
<title>Jenkins Build Deployment Pipeline: A How To for Ensuring Integrity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Jenkins构建部署管道:如何确保完整性</h1>
<blockquote>原文：<a href="https://itnext.io/jenkins-build-deployment-pipeline-a-how-to-for-ensuring-integrity-15d1785864a3?source=collection_archive---------6-----------------------#2019-04-24">https://itnext.io/jenkins-build-deployment-pipeline-a-how-to-for-ensuring-integrity-15d1785864a3?source=collection_archive---------6-----------------------#2019-04-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="0456" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这篇博客中，我们将简要介绍</p><ul class=""><li id="4f76" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk kq kr ks kt bi translated">DevOps具有很强的安全性</li><li id="b81f" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">DevOps安全(又名DevSecOps)中的当前漏洞</li><li id="935f" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">Jenkins Automation在构建过程中的角色</li><li id="5f63" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">关于如何将vChain公证人工具与您的Jenkins构建部署管道集成以确保其完整性的技术演练</li></ul><h1 id="044d" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">DevOps管道中的薄弱环节</h1><p id="6998" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">DevOps已经被广泛采用了很多年，因为它的好处包括加速软件开发过程。</p><p id="0de8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然而，在CICD过程中，当涉及到确保从开发到生产的代码的完整性时，有一个重要的薄弱环节。也就是说，当构建被创建、存储在存储库中，然后被挑选出来部署到生产中时，没有人知道它是否被恶意编辑过。</p><p id="eacc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">没有对容器、脚本、集群或任何其他构建组件执行完整性检查。完全有可能有人篡改了构建代码并向其中注入了恶意软件。</p><p id="3979" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">不幸的是，如果代码的完整性从未被验证过，就没有办法完全确定您所部署的是您所构建的。(这还是在我们发现代码被破坏之后，我们在这里发布<a class="ae mc" href="http://www.vchain.us/the-failure-of-the-certificate-revocation-list-crl/" rel="noopener ugc nofollow" target="_blank">之前的问题。)</a></p><h1 id="19dc" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">使用code公证人保护DevOps构建</h1><p id="4c71" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">有了【code公证人，解决方案就是一个<strong class="jp ir">简单的单步</strong>，你可以100%确定你的代码就是你离开时的样子。凭借当今的技术，代码完整性不再是一个问题。现在，在将任何东西部署到生产环境之前，可以在构建过程的每个阶段验证所有代码的完整性。</p><p id="7c36" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">此外，one公证人的<strong class="jp ir">强大、多层的安全解决方案</strong>的最大优点之一是其无缝集成防止了问题的出现和随后规模的扩大，从而在潜在补丁成本和其他相关损害方面创造了<strong class="jp ir">显著的节约</strong>。</p><p id="e642" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通过将code公证人的<strong class="jp ir">分布式账本技术</strong>集成到您的DevOps和Jenkins构建中，您现在有能力保存发送给任何客户<strong class="jp ir">的所有已发货组件的<strong class="jp ir"> 30，000英尺视图</strong>，其范围可以缩小到无限粒度级别</strong>。</p><p id="239f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里是如何简单地设置詹金斯代码建立公证。</p><h1 id="696d" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">将vChain公证人集成到Jenkins构建部署管道中</h1><p id="bb80" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">为了在您的CI/CD构建中保持最佳的DevSecOps管道，我们开发了一个应用程序，可以持续验证您所有代码的完整性。下面是如何配置code公证人来自动签署Jenkins的构建的细节。该集成有3个主要步骤，也可以称为10步流程。3个主要步骤是:</p><ol class=""><li id="7e0f" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk md kr ks kt bi translated">在jenkins中进行系统级配置，以便在系统范围内使用vcn凭据</li><li id="a18f" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk md kr ks kt bi translated">将vcn凭证从系统配置绑定到每个构建作业和签名资产的本地环境变量</li><li id="059f" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk md kr ks kt bi translated">部署前使用资产参数运行vcn验证</li></ol><p id="d1b4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">步骤1:系统级配置</p><p id="60ba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在主屏幕上，找到并单击侧栏菜单中的凭据链接，以展开其下的子菜单。</p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div class="gh gi me"><img src="../Images/b9be0f88de3e7dba99b90863148f8dfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:348/format:webp/0*Q82XJsP-nIIxulDE.png"/></div></figure><p id="8d78" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">打开子菜单后，继续选择凭证类型，在本例中选择System。</p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/b1570b2192e60f0cae68e57b4fd29bae.png" data-original-src="https://miro.medium.com/v2/resize:fit:318/format:webp/0*0r_0wOYGyxqIeq-l.png"/></div></figure><p id="cc2e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">选择系统后，单击添加域，请注意右侧显示屏显示“全局凭据(无限制)”。单击该链接。</p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/7fca5a775c3d637ad3ff800afe17a1d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*Sjz2vp5xRwBGHVGi.png"/></div></figure><p id="1f9b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通过选择“添加凭据”选项创建新凭据。</p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/a1b0746e9a8fc8847b8e282f2349b92d.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*9okR1QaBniwgLB9o.png"/></div></figure><p id="9031" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在您已经打开了凭据创建显示，您需要为您的vcn密钥库密码、vcn用户帐户和vcn密码创建凭据条目。</p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/d87d8f5c4a70a1f6ffeb83c0dd116c50.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*8p3ZxUscZwfndcG8.png"/></div></figure><p id="e19d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦你有了所有的3个，你的凭证列表应该看起来像下面这样。</p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/74bdb883b04f735014f89424ef26cb6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*sZ-022frBl958nlz.png"/></div></figure><p id="71fe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，您需要为您拥有的每个构建作业配置构建作业环境。这个比较简单。您需要做的就是通过设置适当的绑定，将vcn凭证从系统配置绑定到本地环境变量。</p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/14b0d55f4025f98a24c941e3a20684d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*r9EoXSugXRW80iYu.png"/></div></figure><p id="4a86" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">成功设置绑定后，您将需要添加一个构建作业构建步骤，以便使用vcn应用程序对您的代码进行签名。单击“添加构建步骤”下拉菜单，然后选择“执行shell”</p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/e899e7ed83d879e0c46eef50e5c4d670.png" data-original-src="https://miro.medium.com/v2/resize:fit:588/format:webp/0*Bq6K4uuMrDhtKGBx.png"/></div></figure><p id="1a29" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，您需要通过键入以下内容来配置vcn签名的构建步骤</p><pre class="mf mg mh mi gt mp mq mr ms aw mt bi"><span id="bbcf" class="mu la iq mq b gy mv mw l mx my">vcn s -y docker:gcr.io/vchain-ops/vcn:stable  #in the Command field.</span></pre><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/7e80917bad24542c55738e31b3c80c4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*7pxsktzyChgRh2gE.png"/></div></figure><p id="ff78" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">步骤3:部署前</p><p id="ff3f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，您需要通过以下方式配置部署脚本以进行验证:</p><ol class=""><li id="d5ec" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk md kr ks kt bi translated">配置环境变量VCN _用户VCN _密码密钥库_密码</li><li id="8132" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk md kr ks kt bi translated">在构建过程中执行以下代码片段</li></ol><pre class="mf mg mh mi gt mp mq mr ms aw mt bi"><span id="564c" class="mu la iq mq b gy mv mw l mx my">vcn verify docker:gcr.io/vchain-ops/vcn:stable || exit 1 <br/>docker-compose up -d</span></pre><p id="033c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">仅此而已。现在，您已经准备好让vChain公证人为您的所有Jenkins构建部署管道提供持续运行的完整性检查，并确保您参与最新的DevSecOps最佳实践。</p><p id="65de" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">点击下方注册免费code公证人非商业许可证，保护您的Jenkins build deployment pipeline的完整性。</p><p id="1cb3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae mc" href="https://dashboard.codenotary.io/auth/signup" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">获得code公证人免费许可证</strong> </a></p><p id="7404" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请注意，在您成功完成注册后，我们可能需要24小时来激活您的许可证，尽管这通常要快得多。如果您有任何反馈、问题或顾虑，请通过我们的联系页面给我们留言或通过<a class="ae mc" href="https://www.codenotary.io/contact/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">这里</strong></a><a class="ae mc" href="https://CodeNotary.io" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">code公证人. io </strong> </a>聊天联系我们。</p></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><p id="7b07" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="ng">原载于2019年4月24日</em><a class="ae mc" href="https://www.vchain.us/jenkins-build-deployment-pipeline-a-how-to-for-ensuring-integrity/" rel="noopener ugc nofollow" target="_blank"><em class="ng">https://www . vchain . us</em></a><em class="ng">。</em></p></div></div>    
</body>
</html>