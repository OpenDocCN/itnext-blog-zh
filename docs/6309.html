<html>
<head>
<title>Rendering Data With Next.js Explained</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">解释了使用Next.js呈现数据</h1>
<blockquote>原文：<a href="https://itnext.io/rendering-data-with-next-js-explained-28364f5fc11d?source=collection_archive---------1-----------------------#2021-10-14">https://itnext.io/rendering-data-with-next-js-explained-28364f5fc11d?source=collection_archive---------1-----------------------#2021-10-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="5d95" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">Next.js React</h2><div class=""/><div class=""><h2 id="894d" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">简单解释了getStaticPaths、getStaticProps和getServiceSideProps</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/23b9803752b8729a13d6f457e9dd1028.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6fo3m5KEYzt4o8eH"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">马丁·桑切斯在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="1c38" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">本指南将简要说明在<a class="ae lh" href="https://nextjs.org/" rel="noopener ugc nofollow" target="_blank"> Next.js </a>中呈现数据的三个内置函数。没有困难的深入功能，所以每个人都可以理解并开始使用这些功能。</p><p id="cc1b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">js是一个框架，用于生成静态和服务呈现的内容，以及其他各种内容。在您的Next.js应用程序中，您可能会有不同的页面，其中放入了JSX代码来显示内容。比如下面的例子:</p><pre class="ks kt ku kv gt me mf mg mh aw mi bi"><span id="a288" class="mj mk it mf b gy ml mm l mn mo">function Home() {<br/>  return &lt;p&gt;some html&lt;/p&gt;<br/>}</span><span id="be06" class="mj mk it mf b gy mp mm l mn mo">// More code here with Next.js</span></pre><p id="916d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">有三个重要的函数你应该记住，为了使用这些函数，你需要像例子一样写它们。所以它需要默认导出，并与确切的名称异步。让我们开始吧(包括例子)</p><h1 id="b29f" class="mq mk it bd mr ms mt mu mv mw mx my mz ki na kj nb kl nc km nd ko ne kp nf ng bi translated">1.getStaticPaths</h1><p id="7ce1" class="pw-post-body-paragraph li lj it lk b ll nh kd ln lo ni kg lq lr nj lt lu lv nk lx ly lz nl mb mc md im bi translated">第一个Next.js函数被称为<code class="fe nm nn no mf b">getStaticPaths</code>。在这里，您可以定义特定的路径或路线，您知道这些路径或路线将在您的应用程序中存在或使用。路径将在构建时预先呈现，而不是在服务器端呈现。</p><p id="503b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">您可以返回两个属性，一个是<code class="fe nm nn no mf b">paths</code>属性中的特定路径，另一个是<code class="fe nm nn no mf b">fallback </code>属性。如果fallback为<em class="np"> false </em>，它将在构建时生成每个预先描述的路径，其他路径将为404。如果fallback为<em class="np"> true </em>，那么所有其他路径都将引导您进入一个fallback页面，而其他路径则由服务器加载。如果回退被<em class="np">阻塞</em>，用户需要等待，直到另一条路径被服务器加载。</p><pre class="ks kt ku kv gt me mf mg mh aw mi bi"><span id="6799" class="mj mk it mf b gy ml mm l mn mo">function Home() {<br/>  return &lt;p&gt;some html&lt;/p&gt;<br/>}</span><span id="5762" class="mj mk it mf b gy mp mm l mn mo">export default async function <strong class="mf jd">getStaticPaths</strong>() {<br/>  return {<br/>    paths: [], // describe your paths here<br/>    fallback: false // or true or blocking<br/>  }<br/>}</span></pre><h1 id="4efd" class="mq mk it bd mr ms mt mu mv mw mx my mz ki na kj nb kl nc km nd ko ne kp nf ng bi translated">2.getStaticProps</h1><p id="4e1a" class="pw-post-body-paragraph li lj it lk b ll nh kd ln lo ni kg lq lr nj lt lu lv nk lx ly lz nl mb mc md im bi translated">下一个it <code class="fe nm nn no mf b">getStaticProps</code>，看起来和上一个功能差不多。但是现在我们也有了一个<code class="fe nm nn no mf b">context</code>或<code class="fe nm nn no mf b">ctx</code>参数。使用这个函数，您可以在构建时获取数据，因此内容将立即显示给用户，而不是等待获取。</p><p id="2a03" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe nm nn no mf b">context</code>包含各种属性，你可以在这里阅读更多关于它的<a class="ae lh" href="https://nextjs.org/docs/basic-features/data-fetching#getstaticprops-static-generation" rel="noopener ugc nofollow" target="_blank">。更重要的是<em class="np">三个</em>可选属性你可以返回。</a></p><p id="56b3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">第一个是<code class="fe nm nn no mf b">props</code>，这里大部分人都很熟悉。您可以在这里定义您想要的所有属性，例如，您刚刚获取的一些数据(在构建时)，以通过您的组件。</p><p id="6b1d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">接下来，你有<code class="fe nm nn no mf b">revalidate</code>。您可以在这里输入页面重新生成(运行时)的毫秒数，这样您的用户就可以获得最新的内容。这可以通过将值设置为<em class="np"> false </em>来关闭，或者只保留该属性。</p><p id="bf46" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">最后，还有<code class="fe nm nn no mf b">notFound</code>房产。如果设置为<em class="np">真</em>，那么它将返回一个404页面，例如，如果没有可用的数据。</p><pre class="ks kt ku kv gt me mf mg mh aw mi bi"><span id="e6d4" class="mj mk it mf b gy ml mm l mn mo">function Home({ example }) {<br/>  return &lt;p&gt;{example}&lt;/p&gt;<br/>}</span><span id="ac9f" class="mj mk it mf b gy mp mm l mn mo">export default async function <strong class="mf jd">getStaticProps</strong>(context) {<br/>  // some fetch call here<br/>  <br/>  return {<br/>    props: { example: 'something' },<br/>    revalidate: false, // or some milliseconds like; 1000<br/>    notFound: false, // or true<br/>  }<br/>}</span></pre><h1 id="77d5" class="mq mk it bd mr ms mt mu mv mw mx my mz ki na kj nb kl nc km nd ko ne kp nf ng bi translated">3.getServerSideProps</h1><p id="89ee" class="pw-post-body-paragraph li lj it lk b ll nh kd ln lo ni kg lq lr nj lt lu lv nk lx ly lz nl mb mc md im bi translated">到了最后一个重要的功能，叫做<code class="fe nm nn no mf b">getServerSideProps</code>。这用于在运行时从服务器获取数据。同样，我们有一个<code class="fe nm nn no mf b">context</code>参数，它与<code class="fe nm nn no mf b">getStaticProps</code>的上下文有不同的属性。</p><p id="d6aa" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在这里，您还可以返回三个可选属性。<code class="fe nm nn no mf b">notFound</code>和<code class="fe nm nn no mf b">props</code>属性在前面的章节中已经解释过了。</p><p id="f0b9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">另一个可选属性叫做<code class="fe nm nn no mf b">redirect</code>，在这里你可以引导你的用户到你网站内部或外部的不同页面。例如，如果没有可用的数据。在这个对象中，你可以定义<code class="fe nm nn no mf b">destination</code>路径，以及它是否是一个<code class="fe nm nn no mf b">permanent</code>重定向。</p><pre class="ks kt ku kv gt me mf mg mh aw mi bi"><span id="41b7" class="mj mk it mf b gy ml mm l mn mo">function Home({ example }) {<br/>  return &lt;p&gt;{example}&lt;/p&gt;<br/>}</span><span id="b788" class="mj mk it mf b gy mp mm l mn mo">export default async function <strong class="mf jd">getServerSideProps</strong>(context) {<br/>  // some fetch call here<br/>  <br/>  return {<br/>    props: { example: 'something' },<br/>    redirect: { destination: '/some-url', permanent: false },<br/>    notFound: false, // or true<br/>  }<br/>}</span></pre><p id="2589" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">仅此而已！</p></div><div class="ab cl nq nr hx ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="im in io ip iq"><p id="4bd2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我希望你今天学到了一些新东西。如果你觉得这篇文章有用，请点击50次👏按钮并关注我了解更多内容。</p></div></div>    
</body>
</html>