<html>
<head>
<title>Flutter Web: Should I use it? (Part 4- I believe so)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Flutter Web:我应该使用它吗？(第四部分-我相信是这样的)</h1>
<blockquote>原文：<a href="https://itnext.io/flutter-web-should-i-use-it-part-4-i-believe-so-b1003938dcce?source=collection_archive---------4-----------------------#2021-06-01">https://itnext.io/flutter-web-should-i-use-it-part-4-i-believe-so-b1003938dcce?source=collection_archive---------4-----------------------#2021-06-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/74bd31d0240ee06822de0397d2e592ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*d7tW9PycrPMHQ3HW.jpeg"/></div></div></figure><p id="0d5d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是这个系列的最后一部分，如果你还没有，这里是前一部分的背景。</p><div class="kw kx gp gr ky kz"><a rel="noopener  ugc nofollow" target="_blank" href="/flutter-web-should-i-use-it-part-3-other-considerations-ec4efc2c651b"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd ir gy z fp le fr fs lf fu fw ip bi translated">Flutter Web:我应该使用它吗？(第3部分—其他考虑事项)</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">这一次，我们来看看在决定flutter web是否适合你之前需要考虑的最后几件事。</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">itnext.io</p></div></div><div class="li l"><div class="lj l lk ll lm li ln jw kz"/></div></div></a></div><p id="aa63" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这一部分，我将介绍一些想法和建议，我认为这些想法和建议最适合从事Flutter Web项目的人。</p><h1 id="2035" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">只是一个网络项目…</h1><p id="7694" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">这很简单，因为你只针对一种平台类型，建立代码库很简单，只需遵循来自<a class="ae mr" href="https://flutter.dev/" rel="noopener ugc nofollow" target="_blank"> flutter.dev </a>的文档</p><h1 id="7210" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">使用移动应用程序添加或定位web</h1><p id="5d05" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">这是我认为你应该花些时间考虑一个更干净的方法的地方，web和移动之间有很大的不同，迎合所有这些可能会无意中膨胀你的代码库。</p><p id="a7e0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您希望确保所有用户(无论是web用户还是移动用户)在使用您的应用程序时都有良好的体验，您可能需要考虑一种更加独立的项目方法。</p><p id="2cfe" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">移动设备在布局上非常一致，手机通常都遵循高而薄的显示方式，因此一致的外观和用户体验非常容易。</p><p id="3f8c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">另一方面，浏览器有多种分辨率，用户并不总是全屏，他们也可能在手机和平板电脑上使用它，因此媒体查询在这里变得非常重要，您可能还希望调整某些控制或交互的方式，以便获得更像网络的用户体验。</p><h1 id="cb7b" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">设置建议…</h1><p id="738c" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">虽然将您的web和移动代码放在同一个项目和文件夹中绝对是可能的，而且肯定会奏效，但您可能希望在这一点上将其分成3个独立的部分。</p><p id="bcb9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以考虑以下几层</p><p id="3f45" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在Web和移动层，你将主要实现你的布局代码，比如容器、抽屉、应用栏、底部导航等等。</p><p id="bc0f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所有特定于用户界面的微件，所有在Web和移动平台上都相同的东西，都可以放在共享层，所有自定义微件组和可能的一些完整屏幕都可以存储在那里，然后与您的Web和移动层共享，这样，可重用和可配置的组件本身可以保持其用户界面结构和逻辑，同时仍然以最适合目标平台的方式进行布局。</p><p id="d752" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">除了小部件，共享层还可以存储业务逻辑的某些方面和一些网络逻辑，尤其是状态很可能跨层共享，因为您将显示的内容以及何时保持一致，这是我们试图保持更多控制的“外观”。</p><p id="2dff" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用共享层中的平台委托也可以简化逻辑共享，如果你考虑像文件下载这样的事情，这在移动上比在web上更无缝地工作，web需要一点创造力来实现，这也将导致必须使用web特定的代码，这将阻止单元测试。</p><p id="7414" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我将在这里详细介绍如何设置平台代理:<a class="ae mr" href="https://medium.com/wyzetalk-tech/adding-flutter-web-to-an-existing-application-926730158c8b" rel="noopener">将Flutter web添加到现有的应用程序中</a></p><p id="343f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这使您仍然可以维护一个非常可重用的代码库，同时对目标平台的特定用户体验有更多的控制。</p><p id="2ef7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在手机上，你可以更自由地把它放进去，几乎忘记它，只需要关心风景和肖像。</p><p id="4718" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于web，您可以对布局进行更多的控制，也许可以操纵您的小部件并排显示在两列数据中，或者调整它们如何跨越各种断点。</p><p id="e529" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后，您还可以更容易、更干净地在较大的断点处为web实现顶部水平导航，并且只在较小的断点处返回到抽屉中，而不使用底部导航，而对于移动设备，则使用抽屉和底部导航。</p><p id="ca2e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这种情况下，Drawer可以作为一个共享的小部件，而Top Nav只存在于项目的web端，而Bottom在移动端，这样也减少了平台上不必要的代码。</p><h1 id="8678" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">需要注意的事项…</h1><p id="8d8d" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">到目前为止，根据我的经验，Web的代码方面是无缝的，我唯一想指出的是:</p><p id="58b2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Flutter在构建时没有定义渲染引擎，默认情况下它会选择canvas for web和HTML for mobile。</p><p id="78e7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以通过在构建命令后添加<code class="fe ms mt mu mv b">-web-rendered [html|canvas]</code>来做出选择。</p><p id="bdc6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您正在使用外部来源的图像，正如我在第一部分中引用的从外部来源获取各种加密货币的图标一样，在构建时将HTML作为渲染引擎会更简单，因为当前canvaskit仅支持同源图像，为了使用远程图像，您首先需要将图像数据转换为字节码，并将其提供给<code class="fe ms mt mu mv b">Image</code>小部件。</p><p id="7bc2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然而，如上所述，需要注意的是<code class="fe ms mt mu mv b">dart:html</code>不能被导入到将要进行单元测试的文件中，你需要确保代码的逻辑写在一个平台委托中，以确保测试框架利用移动实现。</p><h1 id="88b1" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">结论</h1><p id="bd6a" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated">这就是我对这个系列的看法，我希望我已经给了你足够的细节，让你对Flutter的Web实现是否是你下一个项目的可行想法做出更明智的决定。</p><p id="c2cd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我希望您对此感兴趣，如果您有任何问题、评论或改进，请随时发表评论。享受你的颤振发展之旅:D</p><p id="3074" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你喜欢，一颗心会很棒，如果你真的喜欢，一杯<a class="ae mr" href="https://www.buymeacoffee.com/remelehane" rel="noopener ugc nofollow" target="_blank">咖啡</a>会很棒。</p><p id="e428" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">感谢阅读。</p></div><div class="ab cl mw mx hu my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="ij ik il im in"><p id="5673" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="nd">原载于2021年7月11日</em><a class="ae mr" href="https://remelehane.dev/posts/flutter-web-should-i-use-it-part-4/" rel="noopener ugc nofollow" target="_blank"><em class="nd">https://remelehane . dev</em></a><em class="nd">。</em></p><div class="kw kx gp gr ky kz"><a href="https://remelehane.medium.com/developing-on-an-m1-mac-flutter-563c8dcc28f" rel="noopener follow" target="_blank"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd ir gy z fp le fr fs lf fu fw ip bi translated">在M1 Mac上开发(颤振)</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">作为一名开发新款M1 Macbook Pro的Flutter and React开发人员，我有一个简短的见解</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">remelehane.medium.com</p></div></div><div class="li l"><div class="ne l lk ll lm li ln jw kz"/></div></div></a></div><div class="kw kx gp gr ky kz"><a href="https://remelehane.medium.com/working-from-home-it-works-for-me-2904c9edc0a4" rel="noopener follow" target="_blank"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd ir gy z fp le fr fs lf fu fw ip bi translated">在家工作适合我…</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">在过去的一年里，我们中的许多人都发生了很大的变化，对一些人来说变化非常剧烈。</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">remelehane.medium.com</p></div></div><div class="li l"><div class="nf l lk ll lm li ln jw kz"/></div></div></a></div></div></div>    
</body>
</html>