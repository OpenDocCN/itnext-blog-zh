# 在 Go 二进制文件中嵌入静态文件

> 原文：<https://itnext.io/embedding-static-files-in-go-binaries-5f1a28d4a75c?source=collection_archive---------1----------------------->

## 使用 Golang embed 指令

![](img/31869cce64ebbf9ca94cb7fff5c2d5fb.png)

在 1.16 版本中发布的 **embed** 包给了我们一个新的指令来帮助在 Go 程序中嵌入文件。

转到嵌入示例 1

在上面的例子中，我们使用了指令*//go:embed from***embed**package，后跟我们想要嵌入的文件名。

在下一行，我们创建了一个新的变量，文件的内容将放在这个变量中。该变量可以是**字符串**、**[]字节、**或 **FS** (文件系统)类型。

如果你想不出这个指令的用法，让我们假设你正在使用 Go Fiber 实现一个网站。

你所有的视图都在一个名为*视图*的文件夹中。

如果没有 **embed** 包，为了让我们的网站 100%工作，我们需要在每台服务器上保持二进制和视图文件夹的更新。这可能需要大量的工作！！！

但是，如果我们使用 **embed** 包，我们需要做的就是更新二进制文件来保持我们的网站 100%工作。

看看这个例子:

转到嵌入示例 2

当然，我们需要衡量这个指令的用途。使用 for everything 会导致一个非常非常大的二进制文件，这可能是一个比上传一个包含 HTML 模板的文件夹更大的问题。