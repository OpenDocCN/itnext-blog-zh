<html>
<head>
<title>Create a Simple LightBox in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React中创建一个简单的灯箱</h1>
<blockquote>原文：<a href="https://itnext.io/create-a-simple-lightbox-in-react-2ef5facd1148?source=collection_archive---------0-----------------------#2021-07-31">https://itnext.io/create-a-simple-lightbox-in-react-2ef5facd1148?source=collection_archive---------0-----------------------#2021-07-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e85a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">循序渐进的反应。JS操作方法</h2></div><p id="d775" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我的一个客户要求为他们的网站提供一个简单的灯箱。这个网站是用React+Gatsby制作的，使用起来非常好，但是，可用的LightBox解决方案通常不太兼容。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/a3921ffb181fd2c25ab07944d726ea7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hQMAlIQp7d-e5AUq"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk translated"><a class="ae lu" href="https://unsplash.com/@deuxdoom?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">埃里克·帕克</a>在<a class="ae lu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><h1 id="5aff" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">为什么不使用现有的灯箱？</h1><p id="4e10" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">React在NPM上有很多LightBox实现。这种实现的最大问题是，它们经常在组件周围添加额外的包装器和CSS。这反过来会导致您的网站上不必要的组件和布局变化，这可能很难缓解。</p><p id="6c6d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从我试用大多数可用的React LightBox包的经验来看，它们中的大多数要么没有足够的可定制性，要么它们额外的CSS破坏了你的网站。最后，从零开始创建一个新的LightBox更容易，它不会干扰你的网站的内部风格。</p><p id="b79a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果已经存在，我通常不赞成从头创建。不过，在React LightBoxes的情况下，这是必要的，因为很难调整现有的light box来满足您特定的网站需求。</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="dfb8" class="lv lw it bd lx ly mz ma mb mc na me mf jz nb ka mh kc nc kd mj kf nd kg ml mm bi translated">创建灯箱组件</h1><p id="fa44" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">在React中创建一个简单的LightBox非常容易。我们只需要以下项目来创建一个灯箱。</p><ul class=""><li id="8b25" class="ne nf it kk b kl km ko kp kr ng kv nh kz ni ld nj nk nl nm bi translated">一个组件，我们将使其可点击</li><li id="8ac6" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">打开灯箱的事件</li><li id="be50" class="ne nf it kk b kl nn ko no kr np kv nq kz nr ld nj nk nl nm bi translated">一个固定的div，一旦LightBox打开，它将包含我们的全尺寸图像</li></ul><p id="66ca" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们开始吧。</p><h2 id="ca91" class="ns lw it bd lx nt nu dn mb nv nw dp mf kr nx ny mh kv nz oa mj kz ob oc ml od bi translated">创建React组件</h2><p id="a250" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">我们需要一个简单的React组件，我们可以用大多数ide的代码片段生成一个无状态组件。根据你的编辑器，<code class="fe oe of og oh b">rsc</code>或者<code class="fe oe of og oh b">rc</code>应该可以。</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="8a63" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，不要把div强加给这个组件的用户，让我们通过一个prop来配置它。我们还将让用户传入孩子、图像源和alt标签。孩子就是可以点击来触发灯箱的东西。</p><p id="4996" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">(!)确保大写<code class="fe oe of og oh b">Wrapper</code>道具，以便React将其视为动态组件。</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="oi oj l"/></div></figure><h2 id="fd4f" class="ns lw it bd lx nt nu dn mb nv nw dp mf kr nx ny mh kv nz oa mj kz ob oc ml od bi translated">保持打开状态</h2><p id="aa2b" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">我们需要保持LightBox的打开状态，以控制何时打开或关闭它。我们可以通过引入一个新的状态变量<code class="fe oe of og oh b">isOpen</code>来做到这一点。</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="0940" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一旦我们有了可用的状态，我们就可以设置一些处理程序来处理发生在我们的<code class="fe oe of og oh b">Wrapper</code>上的<code class="fe oe of og oh b">onClick</code>事件。这意味着点击任何<code class="fe oe of og oh b">children</code>元素都会导致灯箱打开。我们还将在<code class="fe oe of og oh b">Wrapper</code>中显示<code class="fe oe of og oh b">children</code>。</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="oi oj l"/></div></figure><h2 id="92df" class="ns lw it bd lx nt nu dn mb nv nw dp mf kr nx ny mh kv nz oa mj kz ob oc ml od bi translated">创建灯箱元素</h2><p id="5248" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">我们现在只缺少拼图的最后一块，实际的具有全尺寸图像的div。只有当灯箱打开时，才应该显示这个div。让我们就这样创造吧！</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="a44a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您正在使用<code class="fe oe of og oh b">LightBox</code>组件，您应该已经看到此时发生了一些事情！您可能会注意到div出现了，但是我们还没有办法关闭它。让我们创建另一个处理程序，它将在按下Lightbox的div元素时关闭Lightbox。</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="oi oj l"/></div></figure></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="8889" class="lv lw it bd lx ly mz ma mb mc na me mf jz nb ka mh kc nc kd mj kf nd kg ml mm bi translated">灯箱样式</h1><p id="c538" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">我们有一个工作的，基本的灯箱！这就足够了，这取决于你的网站的需求。剩下的，就是给它添加一些风格。为了教程的缘故，我们将使用一些内联样式，但请使用样式组件，或CSS模块代替！</p><p id="e93a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这种情况下，我们的<code class="fe oe of og oh b">div</code>应该是<code class="fe oe of og oh b">position:fixed</code>。绝对定位在这里不起作用，因为我们希望div相对于浏览器窗口绝对定位，而不是相对于它的父窗口。您可以在以下W3文章中阅读更多关于<code class="fe oe of og oh b">fixed</code>定位的内容。</p><div class="ok ol gp gr om on"><a href="https://www.w3.org/wiki/CSS_absolute_and_fixed_positioning?source=post_page---------------------------" rel="noopener  ugc nofollow" target="_blank"><div class="oo ab fo"><div class="op ab oq cl cj or"><h2 class="bd iu gy z fp os fr fs ot fu fw is bi translated">CSS绝对和固定定位</h2><div class="ou l"><h3 class="bd b gy z fp os fr fs ot fu fw dk translated">现在是时候将注意力转向第二对位置属性值了——绝对的和固定的。第一对…</h3></div><div class="ov l"><p class="bd b dl z fp os fr fs ot fu fw dk translated">www.w3.org</p></div></div><div class="ow l"><div class="ox l oy oz pa ow pb lo on"/></div></div></a></div><p id="ebc6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">随着样式的增加，我们应该有类似下面的东西。</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="oi oj l"/></div></figure></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="9d01" class="lv lw it bd lx ly mz ma mb mc na me mf jz nb ka mh kc nc kd mj kf nd kg ml mm bi translated">最终演示</h1><p id="7118" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">完整的代码可以在下面的代码栏中找到。试一试，看看它是如何工作的，以及它是多么容易设置！</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="pc oj l"/></div></figure><p id="898d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从现在开始，你可以很容易地用更多需要的功能来调整它，并拥有一个可重用的Lightbox。一个可以真正用于不同项目的灯箱！</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="3b5d" class="lv lw it bd lx ly mz ma mb mc na me mf jz nb ka mh kc nc kd mj kf nd kg ml mm bi translated">进一步阅读</h1><p id="c012" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">如果你想尝试使用现有的npm软件包，Bri Turner有一篇很好的文章解释了如何去做。这篇文章解释了如何使用<code class="fe oe of og oh b">react-image-lightbox</code>包。</p><div class="ok ol gp gr om on"><a href="https://medium.com/swlh/how-to-use-react-image-lightbox-b29b55f3da62" rel="noopener follow" target="_blank"><div class="oo ab fo"><div class="op ab oq cl cj or"><h2 class="bd iu gy z fp os fr fs ot fu fw is bi translated">如何使用React图像灯箱</h2><div class="ou l"><h3 class="bd b gy z fp os fr fs ot fu fw dk translated">如何用React Image Lightbox创建快速响应的lightbox</h3></div><div class="ov l"><p class="bd b dl z fp os fr fs ot fu fw dk translated">medium.com</p></div></div><div class="ow l"><div class="pd l oy oz pa ow pb lo on"/></div></div></a></div></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><p id="2596" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae lu" href="https://kevinvr.medium.com/membership" rel="noopener">订阅我的媒体</a>到<strong class="kk iu">解锁</strong> <strong class="kk iu">所有</strong> <strong class="kk iu">文章</strong>。通过使用我的链接订阅，你是支持我的工作，没有额外的费用。你会得到我永远的感激。</p></div></div>    
</body>
</html>