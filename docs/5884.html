<html>
<head>
<title>Top five Chrome Dev Tools tips for React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React的五大Chrome开发工具提示</h1>
<blockquote>原文：<a href="https://itnext.io/top-five-chrome-dev-tools-tips-for-react-8ff48c3b19e9?source=collection_archive---------4-----------------------#2021-06-20">https://itnext.io/top-five-chrome-dev-tools-tips-for-react-8ff48c3b19e9?source=collection_archive---------4-----------------------#2021-06-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/ad0ba6df7cf067329894179d2473a167.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lpX9o2EJykc0KEEEns0qyw.png"/></div></div></figure><p id="9d12" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Chrome的开发工具有很多技巧，但并不是所有的技巧都对React有用。在这篇文章中，我将介绍为React开发定制的五个开发工具技巧。</p><p id="93bd" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">该列表将是原生Chrome开发工具特性和便利扩展的混合。</p><h1 id="aa8e" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">将组件状态打印到控制台</h1><p id="c1bf" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">如果你正在使用React，你可能每天都在使用React开发工具。如果你不是，那么你应该。该扩展帮助您查看和调试组件的状态。</p><p id="0643" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">安装React开发工具后，您会在开发工具中获得两个额外的选项卡，<code class="fe mc md me mf b">Components</code>和<code class="fe mc md me mf b">Profiler</code>。这两者都很有价值，但是使用案例完全不同。我们一会儿会谈到<code class="fe mc md me mf b">Profiler</code>。</p><p id="d0b3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">但是，您可能没有意识到的一点是，您可以将组件的状态打印到控制台。</p><p id="11b0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">有几个原因可以解释你为什么想这么做。React Dev工具并不总是显示关于组件的完整信息。在这些情况下，您可以将组件状态打印到控制台以查看更多数据。例如，看看这个视图:</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mg"><img src="../Images/e01d350f097a6722a61022583a73c09b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TJZJ6YKwTHOyLhFNvuDgyQ.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">反应组件选项卡</figcaption></figure><p id="b74d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">假设您想更详细地查看<code class="fe mc md me mf b">Menu</code>组件的子组件。<code class="fe mc md me mf b">Components</code>调试器只显示<code class="fe mc md me mf b">children</code>属性是一个ForwardRefs数组。为了更仔细地查看子组件，我们可以使用一个特殊的控制台命令打印出<code class="fe mc md me mf b">Menu</code>组件的状态。</p><p id="63fa" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">通过点击选择组件，并在控制台中键入<code class="fe mc md me mf b">$r</code>。</p><p id="9f1c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> Pro提示:</strong>要在同一视图中显示控制台日志和<code class="fe mc md me mf b">Components</code>调试器，请单击<code class="fe mc md me mf b">Esc</code>按钮:</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mp"><img src="../Images/67424287da956aa3149267eb3c53514c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OR7A1Z5msAaL0LfrHhrweg.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">组件控制台输出</figcaption></figure><p id="93b7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如您所见，我们可以通过这种方式展开并获得更多关于<code class="fe mc md me mf b">Menu</code>的子节点的信息。</p><h1 id="47ee" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">仿形铣床</h1><p id="5a6f" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">Profiler是提高性能的最佳工具之一。</p><p id="50a7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">正如我提到的，它是React Dev工具的一部分，允许您跟踪组件的渲染。</p><p id="30ab" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">开始使用它很简单。安装React Dev工具后，打开<code class="fe mc md me mf b">Profiler</code>选项卡并点击<code class="fe mc md me mf b">Start Profiling</code>按钮:</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mq"><img src="../Images/8a3647294f5b943474080dade84e4247.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ljG2C6FwH1agdBTk8thVbA.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">反应分析器启动</figcaption></figure><p id="ae7f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在，您可以开始与您的应用程序进行交互，以衡量其性能。完成后，点击<code class="fe mc md me mf b">Stop profiling</code>按钮。以下是您将看到的内容:</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mr"><img src="../Images/3e4e00495b3298684172f0db0fbc5c61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ny3UKS3VlXsizSVldTHseQ.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">反应分析器结束</figcaption></figure><p id="6087" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您得到的是组件树呈现活动的交互式概述。每个组件都根据您进行性能分析时重新渲染的次数进行着色。如果是灰色的，说明在交互过程中根本没有重新渲染。</p><p id="d2df" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果你点击任何组件，分析器将显示时间戳和每次重新渲染的原因。</p><p id="68d4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果您的React应用程序有性能问题，那很可能是由于冗余的重新渲染。在这种情况下，使用<code class="fe mc md me mf b">Profiler</code>追踪那些渲染超过必要的组件，并努力减少重新渲染的次数。你可以使用不同的工具进行优化，比如<a class="ae ms" href="https://reactjs.org/docs/react-api.html#reactmemo" rel="noopener ugc nofollow" target="_blank"> React.memo </a>、<a class="ae ms" href="https://reactjs.org/docs/hooks-reference.html#usecallback" rel="noopener ugc nofollow" target="_blank"> useCallback </a>等等。</p><h1 id="8fa3" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">网络条件</h1><p id="e92f" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">在不同的网络条件下测试React应用程序非常重要。当你在一台连接速度很快的计算机上进行本地开发时，一切都会很顺利。这可能会让你错过那些连接较差的用户将面临的边缘情况。</p><p id="f809" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">超过一半的在线用户通过移动设备访问他们的服务。通常，这些设备的连接条件并不理想。</p><p id="ce00" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">幸运的是，您可以使用开发工具中的<code class="fe mc md me mf b">Network Conditions</code>选项来模拟不同的连接速度:</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mt"><img src="../Images/322018d03c935baa794802119a0851b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a0UynpDMy2XKwOOEPk7SYg.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">网络条件选项</figcaption></figure><p id="3d66" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如你所见，默认情况下它被设置为<code class="fe mc md me mf b">No throttling</code>。要模拟较慢的网络连接，您可以使用不同的预设，甚至创建自己的预设。</p><p id="5275" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当构建加载屏幕和其他异步交互时，最好至少测试一个<code class="fe mc md me mf b">Slow 3G</code>连接。</p><h1 id="e570" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">自定义格式化程序</h1><p id="64f5" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">自定义格式器是Chrome开发工具中隐藏的瑰宝。它们让开发人员可以控制对象在调试器和控制台中的外观。</p><p id="aaf7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">默认情况下，自定义格式化程序是禁用的，因此您需要进入设置-&gt;首选项并启用它们:</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mu"><img src="../Images/bcb1f12a38470cd1a8b87bbf08a82eaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TsWLcqhpeQLDBVQ-J8itZw.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">自定义格式化程序设置</figcaption></figure><p id="d1df" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">那么为什么要使用它们呢？好吧，你可以为难以调试的对象编写你自己的格式化程序。自定义格式化程序的一个常见用例是递归显示深度嵌套的对象。有很多关于编写自定义格式化程序的教程。</p><p id="0890" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">但对我来说，主要的优势是构建在它们之上的扩展。这种扩展的一个很好的例子是<a class="ae ms" href="https://chrome.google.com/webstore/detail/immutablejs-object-format/hgldghadipiblonfkkicmgcbbijnpeog" rel="noopener ugc nofollow" target="_blank"> Immutable.js对象格式化程序</a>。如果你使用过Immutable.js，你就会知道调试有多烦人。该扩展通过很好地格式化输出到控制台的不可变数据结构解决了这个问题:</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/3497da6bd2d59ef1e515f4775a976b13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1294/format:webp/1*U8F-2hwKO3YgSFXg5qtVbQ.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">不可改变。JS格式化程序</figcaption></figure><h1 id="842a" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">阿波罗Chrome扩展</h1><p id="466b" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">如果我使用GraphQL，这是我必须拥有的扩展。如果你安装了这个扩展，你还会在你的开发工具中得到一个额外的<code class="fe mc md me mf b">Apollo</code>标签。这是它的样子</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mw"><img src="../Images/684dd3cd4fd27ea381c07723df8a66f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rdzlUX-bBXMBnp0_4e9Z3A.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">阿波罗扩展</figcaption></figure><p id="f4a9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果你曾经使用过<a class="ae ms" href="https://github.com/graphql/graphiql" rel="noopener ugc nofollow" target="_blank"> graphiql </a>编辑器，你会对这个界面很熟悉。点击<code class="fe mc md me mf b">Build</code>按钮会打开一个交互式侧边栏，里面有你可以使用的所有可用的查询和变化。</p><figure class="mh mi mj mk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mx"><img src="../Images/aca162ca0b7ef177c41de84234eea897.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N623D7hPWH1FDCepecIl_g.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">运行阿波罗</figcaption></figure><p id="17a7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">最好的部分是扩展使用当前的用户会话。这允许您查看在当前用户权限下查询是如何执行的。</p><p id="02e6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">正如您现在可能已经猜到的那样，这个扩展的缺点是它只适用于Apollo GraphQL客户端。</p><h1 id="0b25" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">奖励:Redux开发工具</h1><p id="0b7b" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">最初，我没有列出<a class="ae ms" href="https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd?hl=en" rel="noopener ugc nofollow" target="_blank"> Redux开发工具</a>，因为在这一点上，很难找到一个不知道它的React开发人员。但是对于那些刚接触React或Redux的人来说，这可能值得一提。</p><p id="7e1e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这个扩展使得使用Redux变得非常容易。除了许多其他功能之外，它还允许您实时查看所有触发的操作及其有效负载。</p></div><div class="ab cl my mz hx na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="im in io ip iq"><p id="d9ca" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这是帮助我完成React工作的五大Chrome开发工具提示。我希望这个列表对你有用！</p></div><div class="ab cl my mz hx na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="im in io ip iq"><p id="910f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><em class="nf">原载于2021年6月20日https://isamatov.com</em><em class="nf"/><a class="ae ms" href="https://isamatov.com/react-chrome-dev-tools-tips/" rel="noopener ugc nofollow" target="_blank"><em class="nf">。</em></a></p></div></div>    
</body>
</html>